{"mappings":"UAOWA,EAAQC,GACE,iBAAZC,SAA0C,oBAAXC,OAAyBF,EAAQC,SACrD,mBAAXE,QAAyBA,OAAOC,IAAMD,OAAO,CAAC,WAAYH,GAChEA,EAASD,EAAOM,MAAQ,KACzBC,MAAO,SAAUL,GAAW,sBAEnBM,EAAQC,GAWf,OATED,EADoB,mBAAXE,QAAoD,iBAApBA,OAAOC,SACtC,SAAUC,GAClB,cAAcA,GAGN,SAAUA,GAClB,OAAOA,GAAyB,mBAAXF,QAAyBE,EAAIC,cAAgBH,QAAUE,IAAQF,OAAOI,UAAY,gBAAkBF,IAI9GH,YAGRM,EAAeC,EAAKC,GAC3B,gBAeuBD,GACvB,GAAIE,MAAMC,QAAQH,GAAM,OAAOA,EAhBxBI,CAAgBJ,aAuBMA,EAAKC,GAClC,IAAII,EAAO,GACPC,GAAK,EACLC,GAAK,EACLC,OAAKC,EAET,IACE,IAAK,IAAiCC,EAA7BC,EAAKX,EAAIN,OAAOC,cAAmBW,GAAMI,EAAKC,EAAGC,QAAQC,QAChER,EAAKS,KAAKJ,EAAGK,QAETd,GAAKI,EAAKW,SAAWf,GAH8CK,GAAK,IAK9E,MAAOW,GACPV,GAAK,EACLC,EAAKS,EACN,QACC,IACOX,GAAsB,MAAhBK,EAAW,QAAWA,EAAW,SAC7C,QACC,GAAIJ,EAAI,MAAMC,GAIlB,OAAOH,EA9CwBa,CAAsBlB,EAAKC,eAsD1D,MAAM,IAAIkB,UAAU,wDAtD4CC,YAGzDC,EAAmBrB,GAC1B,gBAG0BA,GAC1B,GAAIE,MAAMC,QAAQH,GAAM,CACtB,IAAK,IAAIC,EAAI,EAAGqB,EAAO,IAAIpB,MAAMF,EAAIgB,QAASf,EAAID,EAAIgB,OAAQf,IAAKqB,EAAKrB,GAAKD,EAAIC,GAEjF,OAAOqB,GAPFC,CAAmBvB,aAeFwB,GACxB,GAAI9B,OAAOC,YAAY8B,OAAOD,IAAkD,uBAAzCC,OAAO3B,UAAU4B,SAASC,KAAKH,GAAgC,OAAOtB,MAAM0B,KAAKJ,GAhBtFK,CAAiB7B,eA8CnD,MAAM,IAAImB,UAAU,mDA9CuCW,GAqD7D,IAAI9C,EAAS+C,OACTC,EAAU,EACVC,EAAQ,GACRC,GAAgB,WAiBXC,EAASC,GACZpD,EAAOqD,aAAcrD,EAAOqD,aAAaD,GACpCpD,EAAOsD,gBAAkBtD,EAAOuD,iBAAkBC,WAAWJ,IAClEJ,IACAC,EAAMD,GAAWI,EACjBpD,EAAOyD,YAAYT,EAAS,MAyE/B,SAEMU,EAASC,GAEhB,GAAuB,mBAAZA,GAAsClC,MAAZkC,EAAuB,MAAMxB,YAClE,GAAqB,UAAjB3B,EAAQD,OAAqBA,MAAQA,KAAKqD,KAAM,MAAMzB,YAO1D,IAIIiB,EACAS,EALAC,EAAOvD,KACPwD,EAAQ,EACRC,EAAM,EACNpC,EAAO,GAGXkC,EAAc,QAAIA,EAElBA,EAAc,QAAI,SAAUG,GAU1B,OATAb,EAAKU,EAAKV,GACVS,EAAKC,EAAKD,GAELE,IACHC,EAAMC,EACNF,EAAQ,EACRZ,EAASe,IAGJJ,GAGTA,EAAa,OAAI,SAAUG,GAUzB,OATAb,EAAKU,EAAKV,GACVS,EAAKC,EAAKD,GAELE,IACHC,EAAMC,EACNF,EAAQ,EACRZ,EAASe,IAGJJ,GAGTA,EAAS,GAAI,EAEbA,EAAW,KAAI,SAAUK,EAAKC,GAC5B,GAAiB,GAAX7D,KAAKgB,GAAU,MAAMY,YAC3B,IAAIkC,EAAI,IAAIX,EAYZ,OAXAW,EAAEjB,GAAKe,EACPE,EAAER,GAAKO,EAEM,GAATL,EACFM,EAAEC,QAAQN,GACQ,GAATD,EACTM,EAAEE,OAAOP,GAETpC,EAAKE,KAAKuC,GAGLA,GAGTP,EAAc,QAAI,SAAUU,GAC1B,IAAIC,EAEAC,EAAU,SAAU3C,GAEtB,OADA0C,EAAS1C,EACFyC,KAGLG,EAAQ,WACV,IAAIN,EAAI,IAAIX,EACZ,OAAa,GAATK,EAAmBM,EAAEE,OAAOE,GAAoBJ,EAAEC,QAAQG,IAGhE,OAAOX,EAAKF,KAAKc,EAASA,GAASd,KAAKe,EAAOA,IAGjDb,EAAY,MAAI,SAAUM,GACxB,OAAON,EAAW,KAAE,KAAMM,IAI5BN,EAAW,KAAI,SAAUM,GACvB,OAAON,EAAW,KAAE,KAAMM,IAG5B,IAAIQ,EAAS,SAAUC,GACrBd,EAAQc,GAAQ,EAEhB,IAAK,IAAI5D,EAAI,EAAGA,EAAIW,EAAKI,OAAQf,IAAK,CACpC,IAAI6D,EAAIlD,EAAKX,GACJ,GAAT8C,GAAce,EAAER,QAAQN,IAAQc,EAAEP,OAAOP,KAI7C,IACyB,mBAAZL,GAAwBA,EAASG,EAAc,QAAGA,EAAa,QAC1E,MAAOiB,GACPjB,EAAa,OAAEiB,YAMRC,EAAUC,EAAKC,EAAIC,EAAIC,GAE9B,GAAa,GAATrB,EACF,OAAOqB,IAGT,GAAqB,UAAhB5E,EAAQwD,IAAkC,mBAAPA,GAAoC,mBAAPiB,EAkBnEG,SAjBA,IAEE,IAAIC,EAAM,EACVJ,EAAItC,KAAKqB,GAAK,SAAUC,GAClBoB,MACJrB,EAAMC,EACNiB,QACC,SAAUjB,GACPoB,MACJrB,EAAMC,EACNkB,QAEF,MAAOG,GACPtB,EAAMsB,EACNH,cAOGjB,IAEP,IAAIe,EAEJ,IACEA,EAAMjB,GAAOA,EAAIJ,KACjB,MAAO2B,GAGP,OAFAvB,EAAMuB,EACNxB,EAAQ,EACDG,IAGTc,EAAUC,GAAK,WACblB,EAAQ,EACRG,OACC,WACDH,EAAQ,EACRG,OACC,WACD,IACe,GAATH,GAA2B,mBAANX,EACvBY,EAAMZ,EAAGY,GACS,GAATD,GAA2B,mBAANF,IAC9BG,EAAMH,EAAGG,GACTD,EAAQ,GAEV,MAAOuB,GAEP,OADAtB,EAAMsB,EACCV,IAGLZ,GAAOF,GACTE,EAAM7B,YACNyC,KACKI,EAAUC,GAAK,WACpBL,EAAO,KACNA,GAAQ,WACTA,EAAgB,GAATb,GAAc,SApE3B,OAAOD,GAvMJ9D,EAAOqD,cAAgBrD,EAAOuD,kBAAkBvD,EAAOuD,iBAAiB,WAAW,SAAU+B,GAChG,GAAIA,EAAEE,QAAUxF,EACd,GAAIkD,EAAeC,EAASF,EAAMqC,EAAEG,WAAY,CAC9CvC,GAAgB,EAEhB,IACED,EAAMqC,EAAEG,QACR,MAAOH,WAGFrC,EAAMqC,EAAEG,MACfvC,GAAgB,MActBQ,EAASY,QAAU,SAAUvC,GAC3B,GAAiB,GAAXxB,KAAKgB,GAAU,MAAMY,YAC3B,OAAIJ,aAAiB2B,EAAiB3B,EAC/B,IAAI2B,GAAS,SAAUY,GAC5BA,EAAQvC,OAIZ2B,EAASa,OAAS,SAAUxC,GAC1B,GAAiB,GAAXxB,KAAKgB,GAAU,MAAMY,YAC3B,OAAO,IAAIuB,GAAS,SAAUY,EAASC,GACrCA,EAAOxC,OAIX2B,EAASgC,IAAM,SAAU1E,GACvB,GAAiB,GAAXT,KAAKgB,GAAU,MAAMY,YAC3B,KAAMnB,aAAeE,OAAQ,OAAOwC,EAASa,OAAOpC,aACpD,IAAIkC,EAAI,IAAIX,EAoBZ,gBAlBS7B,EAAKyD,EAAGK,GACf,OAAIA,EAAUtB,EAAEC,QAAQqB,GACpBL,EAAUjB,EAAEE,OAAOe,IAKL,GAJDtE,EAAI4E,QAAO,SAAUP,EAAKpB,GACzC,OAAIA,GAAKA,EAAEL,KAAayB,EAAM,EACvBA,IACN,IACkBhB,EAAEC,QAAQtD,QAC/BA,EAAI6E,KAAI,SAAU5B,EAAGhD,GACfgD,GAAKA,EAAEL,MAAMK,EAAEL,MAAK,SAAUkC,GAGhC,OAFA9E,EAAIC,GAAK6E,EACTjE,IACOiE,IACNjE,OAIPA,GACOwC,GAGTX,EAASqC,KAAO,SAAU/E,GACxB,GAAiB,GAAXT,KAAKgB,GAAU,MAAMY,YAC3B,KAAMnB,aAAeE,OAAQ,OAAOwC,EAASa,OAAOpC,aACpD,GAAkB,GAAdnB,EAAIgB,OAAa,OAAO,IAAI0B,EAChC,IAAIW,EAAI,IAAIX,EAkBZ,gBAhBS7B,EAAKyD,EAAGU,GACf,OAAIA,EAAU3B,EAAEC,QAAQ0B,GACpBV,EAAUjB,EAAEE,OAAOe,IAKL,GAJDtE,EAAI4E,QAAO,SAAUP,EAAKpB,GACzC,OAAIA,GAAKA,EAAEL,KAAayB,EAAM,EACvBA,IACN,IACkBhB,EAAEC,QAAQtD,QAC/BA,EAAI6E,KAAI,SAAU5B,GACZA,GAAKA,EAAEL,MAAMK,EAAEL,MAAK,SAAUkC,GAChCjE,EAAK,KAAMiE,KACVjE,OAIPA,GACOwC,GAGTX,EAASnC,GAAK,EAuLdmC,EAASuC,MAAQ,WACf,OAAO,IAAIvC,EAAS,OAKtB,IAAIwC,EAAW,YACN9F,EAAO+F,EAAMpE,GACpBmE,EAASC,GAAQpE,WAEVqE,EAAID,GACX,OAAOD,EAASC,YAGTE,EAAOC,EAAMC,GACpB,IAAKD,EAAM,CACTE,EAAI,QAASD,GACb,IAAIE,EAAUL,EAAI,WACdK,GAAyB,iBAAPF,GAAiBE,EAAQ,CAC7C5B,KAAM,QACN6B,KAAMH,EACNI,QAAQ,cAMLH,EAAI3B,EAAM4B,EAASG,GACF,GAApBC,UAAU7E,SACZyE,EAAU5B,EACVA,EAAO,OAGL9B,OAAO+D,SAAW/D,OAAO+D,QAAQN,MACnC3B,EAAOA,EAAKkC,cACRhE,OAAO+D,QAAQjC,GAAO9B,OAAO+D,QAAQjC,GAAM4B,GAAW,iBAAsB1D,OAAO+D,QAAQN,IAAI3B,EAAO,KAAO4B,GAC7GG,GAAS7D,OAAO+D,QAAQN,IAAII,IAGpC,IAAII,EAAa,GAQjB,IAAIC,EAAoB,WAEfC,IAGP,IAFA,IAAIC,EAAM,GAEDlG,EAAI,EAAGA,EAAIgG,EAAmBhG,IACrCkG,GAAO,MAGT,OAAOA,WAGAC,EAAqBC,EAAMC,GAC7BN,EAAWO,OACXN,GAAmBT,EAAIc,EAAM,oBAAsB,qBACxDd,EAAIU,IAAoBG,EAAKlB,KAAO,IAAMkB,EAAKG,OAAOC,IACtDR,cAEOS,EAAmBL,EAAMM,GAC3BX,EAAWO,OAChBN,IACAT,EAAIU,IAAoBS,EAAMC,KAAK,gBAE5BC,EAAeR,EAAMM,EAAOL,GAC9BN,EAAWO,OACXN,GAAmBT,EAAIc,EAAM,oBAAsB,qBACxDd,EAAIU,IAAoBG,EAAKlB,KAAO,IAAMkB,EAAKG,OAAOC,GAAK,IAAME,EAAMC,KAAK,OAG9E,IAAIE,EAAQ,WACHC,IAEP1B,EAAiB,QADjByB,EACsB,uDAEfE,IACPF,aAGOG,EAAMzC,GACb,IAAI0C,EAAID,EAAME,UAEd,OADAD,EAAEpH,UAAY0E,EACP,IAAI0C,WA6BJE,EAAK5C,GACZa,EAAOb,EAAQ,yBACfuC,IACA,IACIM,EADAC,KAAavF,OAAOwF,KAASxF,OAAOyF,KAASzF,OAAO0F,SAAa1F,OAAO2F,SAQ5E,IAAK,IAAIC,KALL9B,UAAU7E,OAAS,GACrBqG,EAASxB,UAAU,GACnBrB,EAASqB,UAAU,IACdwB,EAASO,EAAQpD,GAAU,GAAK,GAEpBA,EAAQ,CACzB,IAAI5C,EAAO4C,EAAOmD,IAEd/F,GAAyB,UAAjBpC,EAAQoC,IAAuBA,aAAgBiG,OAUzDR,EAAOM,GAAU/F,EATbkG,EAAOlG,GAAOyF,EAAOM,GAAU,IAAII,KAAKnG,GAEnC0F,IAAa1F,aAAgB2F,KAAO3F,aAAgB4F,KAAO5F,aAAgB6F,SAAW7F,aAAgB8F,SAAUL,EAAOM,GAAU/F,GAGpIyF,EAAOM,GAAUC,EAAQhG,GAAQ,GAAK,GACtCwF,EAAKC,EAAOM,GAAS/F,IAQ/B,OADAoF,IACOK,WAcAW,EAAKC,EAASC,GACrB,OAAO,WACL,OAAOD,EAAQE,MAAMD,EAAQrC,qBAIxBuC,EAAKC,GACZ,OAAOtG,OAAOuG,KAAKD,YAWZE,EAAYC,GACnB,YAAmB,IAALA,WAGPC,EAAMd,EAAQ/H,EAAK8I,EAAQC,GAClC,OAAO5G,OAAOS,YAAW,WACvB,IAAM5C,IAAOA,EAAIgJ,YAAc,CAC7B,IAAIC,EAAMlB,EAAOQ,MAAMvI,EAAK8I,GAAU,IAEtC,OADAf,EAAS/H,EAAM8I,EAAS,KACjBG,KAERF,GAAS,YAELG,EAAKnB,GACZ,IAAIoB,GAAO,EACX,OAAO,WACDA,IACFA,GAAO,EACPpB,EAAOQ,MAAM5I,KAAMsG,aAzGzBoB,EAAME,UAAY,aAGlBjI,EAAQ8J,OAAS,SAAUC,EAAMzE,EAAQ0E,GAIvC,GAHA7D,EAAO4D,EAAM,yBACb5D,EAAOb,EAAQ,yBAEXyE,EAAKE,WAGP,OAFAC,EAAaC,SAAS1H,KAAKsH,EAAKE,WAAY3E,EAAQ,GAE7CyE,EAIT,IAAK,IAAItB,KAAUnD,EACXmD,KAAUsB,IAASC,IAAOD,EAAKtB,GAAUnD,EAAOmD,IAOxD,OAHInD,EAAO8E,UAAUpK,EAAQ8J,OAAOC,EAAKK,SAAU9E,EAAO8E,UAEtD9E,EAAO+E,OAAO/E,EAAO+E,MAAM5H,KAAKsH,GAC7BA,GAyFT,IAAIO,GAAQ,IAAIzB,MAAO0B,mBAEdC,IAEP,QADAF,WAIOG,EAAOC,GACd,MAAmB,iBAARA,EAAyBC,SAASC,eAAeF,GACrDA,WAGAG,EAAU5D,EAAK6D,GACtB,GAAkB,iBAAP7D,EAAiB,CAC1B,IAAIwB,EAASxB,EAAI8D,QAAQ,KAAM,IAC/B,OAAID,GAASA,EAAMrC,GAAgBqC,EAAMrC,GAClC5F,OAAO4F,IAAWS,EAAKjC,GAGhC,OAAOA,EAEsC,SAEtCyB,EAAQhI,GACf,OAAOM,MAAMC,QAAQP,YAEdkI,EAAOlI,GACd,OAAOA,aAAemI,cAGfmC,EAAUC,GACjB,OAAOjL,EAAQ8J,OAAOmB,GAAS,GAAIf,GAAc,GAGnD,IAAIA,EAAe,CAEjBgB,SAAU,SAAUC,EAAKC,GACnBD,GAAO,GAAG9K,KAAKgL,OAAOF,EAAKC,GAAO,IAGxCE,OAAQ,SAAUzJ,GAChBxB,KAAK6K,SAAS7K,KAAKkL,KAAK1J,KAG1BsI,SAAU,SAAU5E,EAAM4F,GACnBA,GAAe,IAARA,EAEV9K,KAAKgL,OAAOF,EAAK,EAAG5F,GADpBlF,KAAKuB,KAAK2D,IAKdgG,KAAM,SAAUhG,GACd,IAAK,IAAIxE,EAAI,EAAGA,EAAIV,KAAKyB,OAAQf,IAC/B,GAAIwE,GAAQlF,KAAKU,GAAI,OAAOA,EAG9B,OAAO,GAGTyK,KAAM,SAAUzC,EAAS0C,GACvB,IAAK,IAAI1K,EAAI,EAAGA,EAAIV,KAAKyB,OAAQf,IAC/BgI,EAAQtG,KAAKgJ,GAAUpL,KAAMA,KAAKU,KAItC4E,IAAK,SAAUoD,EAAS0C,GACtB,IAAK,IAAI1K,EAAI,EAAGA,EAAIV,KAAKyB,OAAQf,IAC/BV,KAAKU,GAAKgI,EAAQtG,KAAKgJ,GAAUpL,KAAMA,KAAKU,IAG9C,OAAOV,MAETqL,OAAQ,SAAU3C,EAAS0C,GACzB,IAAK,IAAI1K,EAAI,EAAGA,EAAIV,KAAKyB,OAAQf,IAC1BgI,EAAQtG,KAAKgJ,GAAUpL,KAAMA,KAAKU,MACrCV,KAAKgL,OAAOtK,EAAG,GACfA,KAIJ,OAAOV,OAKLwC,OAAO8I,sBACT3L,EAAQ8J,OAASjH,OAAO8I,oBAAoB,CAC1C7B,OAAQ9J,EAAQ8J,SACfA,QAIP,IAAI8B,EAAO,CACTC,YAAa,oBACbC,gBAAiB,qBAGVC,EAAUrL,GACjB,IAMIsL,EANAC,EAASpD,KAAKjI,UAAUsL,OAS5B,OAPArD,KAAKjI,UAAUsL,OAAS,WACtB,OAAON,EAAKO,eAAe9L,OAIJ2L,EAArBtL,aAAemI,KAAenI,EAAIwL,SAAuBE,KAAKL,UAAUrL,GAC5EmI,KAAKjI,UAAUsL,OAASD,EACjBD,EAGT,IAAIK,EAAc,CAChBhC,MAAO,WACAhK,KAAKiM,cACRjM,KAAKiM,YAAc,GAEnBjM,KAAKkM,cAAgB,GAErBlM,KAAKmM,SAAW,KAIpBC,WAAY,WACVpM,KAAKiM,YAAYI,QAAS,GAG5BC,aAAc,WACZtM,KAAKiM,YAAYI,QAAS,GAE5BE,SAAU,SAAUjH,GAClB3F,EAAQ8J,OAAOzJ,KAAKmM,SAAU7G,GAAK,IAErCkH,UAAW,SAAUvF,GACnB,GAAIA,EACF,IAAK,IAAIvG,KAAKuG,EAAQ,CACpB,IAAImB,EAASoC,EAAUvD,EAAOvG,GAAIV,KAAKyM,QACnCC,EAAMhM,EAAEiM,QAAQ,OAER,IAARD,EACF1M,KAAKU,EAAEkM,OAAO,EAAGF,IAAMG,YAAYnM,EAAEkM,OAAOF,EAAM,GAAIjE,EAAKL,EAAQpI,OAC9DA,KAAK6M,YAAYnM,EAAG0H,KAKjC0E,UAAW,SAAUxI,EAAM6E,GACzB,IAAIiC,EAASpL,KAAK+M,eAAiB/M,KACnC,GAAIA,KAAKiM,YAAYI,OAAQ,OAAO,EACpC/H,EAAOA,EAAKkC,cAEZ,IAAIwG,EAAchN,KAAKiM,YAAY3H,EAAKkC,eAGpCyG,GAAe,EAGnB,IAFKxG,EAAWyG,QAAUlN,KAAKmN,QAAmB,kBAAT7I,GACvC2B,EAAI,OAAQ,IAAMjG,KAAK4F,KAAO,KAAO5F,KAAKoN,WAAa,IAAIlG,GAAK,WAAa5C,EAAM6E,GACjF6D,EAAa,IAAK,IAAItM,EAAI,EAAGA,EAAIsM,EAAYvL,OAAQf,KAMJ,IAA/CsM,EAAYtM,GAAGkI,MAAMwC,EAAQjC,GAAU,MAAe8D,GAAe,GAG3E,GAAIjN,KAAKmM,SAAS7H,GAAO,CACvB,IAAIwD,EAAS9H,KAAKmM,SAAS7H,GAC3BwD,EAAOuF,aAAerN,KACjB8H,EAAOgF,UAAUxI,EAAM6E,KAAS8D,GAAe,GACpDnF,EAAOuF,aAAe,KAGxB,OAAOJ,GAGTJ,YAAa,SAAUvI,EAAMoE,EAASxB,GACpCpB,EAAO4C,EAAS,6BAA+BpE,GAC/CA,EAAOA,EAAKkC,cACZU,EAAKA,GAAMiD,IAEXzB,EAAU8B,EAAU9B,EAAS1I,KAAKyM,QAElC,IAAIO,EAAchN,KAAKiM,YAAY3H,IAASqG,IAS5C,OANIrE,UAAU,GAAI0G,EAAYM,QAAQ5E,GAAcsE,EAAYzL,KAAKmH,GACrE1I,KAAKiM,YAAY3H,GAAQ0I,EACzBhN,KAAKkM,cAAchF,GAAM,CACvBS,EAAGe,EACH6E,EAAGjJ,GAEE4C,GAGTsG,YAAa,SAAUtG,GACrB,GAAKlH,KAAKkM,cAAchF,GAAxB,CAUA,IAAI5C,EAAOtE,KAAKkM,cAAchF,GAAIqG,EAC9B7E,EAAU1I,KAAKkM,cAAchF,GAAIS,EAEnB3H,KAAKiM,YAAY3H,GACvB2G,OAAOvC,UACZ1I,KAAKkM,cAAchF,OAf1B,CACE,IAAItB,GAAQsB,EAAK,IAAIV,cAEjBxG,KAAKiM,YAAYrG,KACnB5F,KAAKiM,YAAYrG,GAAQ+E,OAa/B8C,SAAU,SAAUnJ,GAClBA,EAAOA,EAAKkC,cACZ,IAAIkH,EAAQ1N,KAAKiM,YAAY3H,GAC7B,GAAIoJ,GAASA,EAAMjM,OAAQ,OAAO,EAClC,IAAIkM,EAAS3N,KAAKmM,SAAS7H,GAC3B,QAAIqJ,GAAeA,EAAOF,SAASnJ,KAKnCsJ,EAAM,GACVjO,EAAQ8J,OAAOmE,EAAK5B,GAAa,GACjC,IAAIc,EAAY,SAAU7D,EAAG4E,GAC3B,OAAOD,EAAId,UAAU7D,EAAG4E,IAEtBhB,EAAc,SAAU5D,EAAG4E,EAAGC,EAAGhK,GACnC,OAAO8J,EAAIf,YAAY5D,EAAG4E,EAAGC,EAAGhK,IAE9B0J,EAAc,SAAUvE,GAC1B,OAAO2E,EAAIJ,YAAYvE,IAErBmD,EAAa,WACf,OAAOwB,EAAIxB,cAETE,EAAe,WACjB,OAAOsB,EAAItB,gBASTyB,EAAM,CACRC,YAAa,SAAU9I,GACrB,OAAKA,GAASA,EAAK+I,gBACf/I,EAAKgJ,qBAAqB,eAAezM,OAAe,KACrDyD,EAFoC,MAK7CiJ,SAAU,SAAUhI,EAAMiI,GACxB,IAAIlJ,EAAOkJ,EAAWA,EAASC,OAASD,EAASC,SAAWD,EAAW,KACvE,OAAIpO,KAAKgO,YAAY9I,GAAcA,GACNA,EAAV,iBAARiB,EAAyBnG,KAAKsO,WAAWnI,EAAKuE,QAAO,SAAW,KAAiBvE,EACxFnG,KAAKgO,YAAY9I,GAAcA,EAC5B,OAGTqJ,WAAY,SAAUrJ,GACpB,OAAOlF,KAAKwO,MAAMtJ,EAAMlF,KAAKyO,UAE/BA,QAAS,UACTC,MAAO,OACPzH,OAAQ,YAER0H,WAAY,SAAUzJ,GACpB,OAAOlF,KAAK4O,YAAY1J,EAAM,KAEhC2J,WAAY,WACV,OAAO,GAGTC,QAAS,SAAU5J,GACjB,IAAI+B,EAASjH,KAAKwO,MAAMtJ,EAAMlF,KAAKiH,QAEnC,OADmBA,EAAfA,EAAOxF,OAAiBzB,KAAK+O,YAAY/O,KAAK4O,YAAY3H,EAAO,GAAI,KAAmB,KACrF,CACLD,KAAM9B,EAAK+I,gBAAgBe,aAAa,gBAAkB,EAC1D3M,KAAM6C,EAAK+I,gBAAgBe,aAAa,OACxCrB,OAAQzI,EAAK+I,gBAAgBe,aAAa,WAAa,EACvD/H,OAAQA,IAIZuH,MAAO,SAAUS,EAAKC,GACpB,GAAI1M,OAAO2M,YAAa,CAEtB,IAAI9E,EAAO4E,GAC6B,GAApCA,EAAIG,SAASzC,QAAQ,cAAmBsC,EAAMA,EAAII,mBACtD,IAAIC,EAAM,GACNC,EAAMN,EAAIO,SAASN,EAAM7E,EAAM,KAAM8E,YAAYM,SAAU,MAC3DC,EAAOH,EAAII,cAERD,GACLJ,EAAI/N,KAAKmO,GACTA,EAAOH,EAAII,cAGb,OAAOL,EAEP,IAAIvJ,GAAO,EAEX,SACgC,IAAnBkJ,EAAIW,cAA4B7J,GAAO,GAClD,MAAOhB,IAKT,GAAIgB,EAAM,OAAOkJ,EAAIW,YAAYV,GAG/B,IAAItJ,EAAOsJ,EAAKW,MAAM,KAAKC,MAC3B,OAAOb,EAAIf,qBAAqBtI,IAItCmJ,YAAa,SAAU1O,GACrB,IAAK,IAAI0P,KAAK1P,EAAK,CACjB,IAAI0F,EAAO1F,EAAI0P,GACf,GAAqB,UAAjB9P,EAAQ8F,GAAmB/F,KAAK+O,YAAYhJ,QAAW,GAAmB,iBAARA,EAAkB,CACtF,GAAa,KAATA,EAAa,SACL,QAARA,EAAgB1F,EAAI0P,IAAK,EAAsB,SAARhK,EAAiB1F,EAAI0P,IAAK,EAAehK,GAAe,EAAPA,IAAU1F,EAAI0P,GAAc,EAAT1P,EAAI0P,KAIvH,OAAO1P,GAGTuO,YAAa,SAAUoB,EAAKC,GAC1B,IACIC,EAAa,EAEjB,GAH8B,GAAhBF,EAAIG,UAAiBH,EAAIhB,aAAa,SAgC7C,CACLiB,EAAI,GAGJ,IAFA,IAAIG,EAAKJ,EAAIK,WAEJC,EAAM,EAAGA,EAAMF,EAAG3O,OAAQ6O,IACT,GAApBF,EAAGE,GAAKH,UAAeF,EAAE1O,KAAKvB,KAAK4O,YAAYwB,EAAGE,GAAM,SAlClD,CACZL,EAAIA,GAAK,GAET,IAAIhH,EAAI+G,EAAIO,WACZ,GAAItH,GAAKA,EAAExH,OAAQ,IAAK,IAAIf,EAAI,EAAGA,EAAIuI,EAAExH,OAAQf,IAC/CuP,EAAEhH,EAAEvI,GAAGkF,MAAQqD,EAAEvI,GAAGc,MACpB0O,EAAa,EAKf,IAFA,IAAIrC,EAAImC,EAAIK,WAEHjP,EAAK,EAAGA,EAAKyM,EAAEpM,OAAQL,IAC9B,GAAsB,GAAlByM,EAAEzM,GAAI+O,SAAe,CACvB,IAAIvK,EAAOiI,EAAEzM,GAAIoP,QAEbP,EAAErK,IACuB,mBAAhBqK,EAAErK,GAAMrE,OAAoB0O,EAAErK,GAAQ,CAACqK,EAAErK,KACpDqK,EAAErK,GAAMrE,KAAKvB,KAAK4O,YAAYf,EAAEzM,GAAK,MAChC6O,EAAErK,GAAQ5F,KAAK4O,YAAYf,EAAEzM,GAAK,IAGzC8O,EAAa,EAIjB,IAAKA,EAAY,OAAOlQ,KAAKyQ,UAAUT,GAGnCE,EAAa,IAAGD,EAAEzO,MAAQyO,EAAEzO,OAASxB,KAAKyQ,UAAUT,IAU1D,OAAOC,GAGTQ,UAAW,SAAUpG,GACnB,OAAIA,EAAKqG,WACArG,EAAKqG,WAAWC,WAAatG,EAAKqG,WAAWxL,KAG/C,IAGToJ,WAAY,SAAUsC,GACpB,IACE,GAAIpO,OAAOqO,UACT,OAAO,IAAIA,WAAYC,gBAAgBF,EAAW,YAGpD,GAAIpO,OAAOuO,cAAe,CAExB,IAAIrB,EAAO,IAAIqB,cAAc,oBAE7B,OADArB,EAAKsB,QAAQJ,GACNlB,GAET,MAAO3K,GAEP,OADAe,EAAO,EAAGf,GACH,KAGTe,EAAO,EAAG,2CAIVmL,EAAO,CAET9C,SAAU,SAAUjJ,GAClB,IAAKA,EAAM,OAAO,KAElB,GAAmB,iBAARA,EACT,IACE,GAAIlF,KAAKkR,WAAY,CACnB,IAAIC,EAAO,kDACXjM,EAAO6G,KAAKqF,MAAMlM,GAAM,SAAUmM,EAAK7P,GACrC,MAAoB,iBAATA,GACL2P,EAAQpL,KAAKvE,GAAe,IAAIgH,KAAKhH,GAGpCA,UAGT0D,EAAO6G,KAAKqF,MAAMlM,GAEpB,MAAOH,GAIP,OAHAkB,EAAIlB,GACJkB,EAAIf,GACJY,EAAO,EAAG,iCACH,KAIX,OAAOZ,GAGTqJ,WAAY,SAAUrJ,GAEpB,OADIA,GAAQA,EAAKA,OAAMA,EAAOA,EAAKA,MAC/BA,IAASmD,EAAQnD,GAAc,CAACA,GAC7BA,GAGTyJ,WAAY,SAAUzJ,GACpB,MAAmB,iBAARA,EAAyB,CAClCgC,GAAIhC,GAAQiF,IACZ3I,MAAO0D,GAEFA,GAET2J,WAAY,SAAU3J,GACpB,OAAOA,EAAKoM,aAGdxC,QAAS,SAAU5J,GACjB,MAAO,CACL8B,KAAM9B,EAAKqM,aAAe,EAC1BlP,KAAM6C,EAAK4F,IACX6C,OAAQzI,EAAKyI,QAAU,EACvB1G,OAAQ/B,EAAK+B,SAGjByH,MAAO,OACPwC,YAAY,YAGLM,EAAKC,EAAKtI,EAAQ/G,GAEzB,OAAyB,IAArBkE,UAAU7E,QACL,IAAI+P,GAAOzK,IAAI0K,EAAKtI,EAAQ/G,GAGhCpC,MAASA,KAAK0R,OAEZ1R,KAF2B,IAAIwR,EAIxCA,EAAKG,MAAQ,EACbH,EAAKjR,UAAY,CACf6K,OAAQ,KAERsG,OAAQ,WACN,OAAO,IAAIE,gBAEblG,UAAW,SAAUrL,GACnB,OAAOqL,EAAUrL,IAQnBwR,MAAO,SAAUJ,EAAKtI,EAAQ/G,EAAM0P,GAClC,IAAI1G,EAEAjC,IAAWd,EAAQc,IAAgE,mBAA7CA,EAAO4I,SAAW5I,EAAO6I,OAAS7I,MAC1EiC,EAAShJ,EACTA,EAAO+G,EACPA,EAAS,MAGX,IAAIzD,EAAQvC,EAASuC,QACjBuM,EAAIjS,KAAK0R,SACTQ,EAAUlS,KAAKmS,SAAW,GAE9B,IAAKrF,EAAU,eAAgB,CAACgF,EAAML,EAAKtI,EAAQ8I,EAAGC,EAAS,KAAMxM,IACnE,OAAOA,EAAM1B,OAAOiO,GAItB,IAAIG,GAAY,EAEhB,GAAa,QAATN,EAAgB,CAClB,IAAIO,GAAQ,EAEZ,IAAK,IAAIhB,KAAOa,EACsB,gBAAhCb,EAAIlP,WAAWqE,gBACjB6L,GAAQ,EACY,oBAAhBH,EAAQb,KAA4Be,GAAY,IAInDC,GAAW7P,OAAO8P,UAAYnJ,aAAkB3G,OAAO8P,WAAWJ,EAAQ,gBAAkB,qCAInG,GAAuB,UAAnBjS,EAAQkJ,MAAyB3G,OAAO8P,UAAYnJ,aAAkB3G,OAAO8P,UAC/E,GAAIF,EAAWjJ,EAASnJ,KAAK0L,UAAUvC,OAAa,CAClD,IAAIoE,EAAI,GAER,IAAK,IAAItE,KAAKE,EAAQ,CACpB,IAAI3H,EAAQ2H,EAAOF,GACfzH,MAAAA,IAAuCA,EAAQ,IAC5B,WAAnBvB,EAAQuB,KAAqBA,EAAQxB,KAAK0L,UAAUlK,IACxD+L,EAAEhM,KAAK0H,EAAI,IAAMsJ,mBAAmB/Q,IAGtC2H,EAASoE,EAAElG,KAAK,KAIhB8B,GAAmB,QAAT2I,IACZL,EAAMA,IAA2B,GAApBA,EAAI9E,QAAQ,KAAa,IAAM,KAAOxD,EACnDA,EAAS,MAGX8I,EAAEO,KAAKV,EAAML,GAAMzR,KAAKyS,OACxB,IAAInO,EAAOtE,KAAK0S,UAGhB,IAAK,IAAIC,KAFLrO,IAAM2N,EAAEW,aAAetO,GAEV4N,EACfD,EAAEY,iBAAiBF,EAAMT,EAAQS,IAInC,IAAIpP,EAAOvD,KA2CX,OA1CAA,KAAKoL,OAASpL,KAAKoL,QAAUA,EAE7B6G,EAAEa,mBAAqB,WACrB,IAAKb,EAAEc,YAA8B,GAAhBd,EAAEc,WAAiB,CACtCvB,EAAKG,QACL,IACIxL,EAAMjB,EADN8N,EAAWf,EAAEgB,QAAU,KAAoB,IAAbhB,EAAEgB,OAGd,QAAlBhB,EAAEW,cAA4C,eAAlBX,EAAEW,cAChCzM,EAAO,GACPjB,EAAO+M,EAAE7D,WAETjI,EAAO8L,EAAEiB,cAAgB,GACzBhO,EAAO3B,EAAK4P,MAAMlB,IAGhBe,GACFlG,EAAU,cAAe,CAACmF,IAC1BvM,EAAM1B,OAAOiO,GACT7P,GAAMoP,EAAK4B,UAAU7P,EAAK6H,QAAU5I,OAAQJ,EAAM+D,EAAMjB,EAAM+M,EAAGe,KAErEtN,EAAM3B,QAAQmB,GACV9C,GAAMoP,EAAK4B,UAAU7P,EAAK6H,QAAU5I,OAAQJ,EAAM+D,EAAMjB,EAAM+M,EAAGe,MAKvEhT,KAAKqT,WAAUpB,EAAEqB,QAAUtT,KAAKqT,UAE/BrT,KAAKyS,MAECR,EAAEsB,KAAKpK,GAAU,MAFXlG,YAAW,WAC1BgP,EAAEsB,KAAKpK,GAAU,QAChB,GAECnJ,KAAKoL,SAAWpL,KAAKyS,OACvB/M,EAAMrC,MAAK,SAAU6B,GAInB,OAFA3B,EAAK6H,OAAS,KACdhJ,EAAOmB,EAAO6H,EAAS,KAChBlG,KAIJlF,KAAKyS,MAAQR,EAAIvM,GAE1ByN,MAAO,SAAUlB,GACf,MAAO,CACLhD,IAAK,WACH,IACE,OAAOlB,EAAIa,YAAYb,EAAII,SAAS8D,EAAEiB,aAAclT,OACpD,MAAO+E,GACPkB,EAAIgM,EAAEiB,cACNjN,EAAIlB,EAAE5C,YACN2D,EAAO,EAAG,kCAGduI,OAAQ,WACN,OAAK7L,OAAO2M,YACL8C,EAAEuB,YADuBzF,EAAIO,WAAW2D,EAAEiB,eAGnD/M,KAAM,WACJ,OAAO8L,EAAEiB,cAEXO,KAAM,WACJ,OAAOxC,EAAK9C,SAAS8D,EAAEiB,cAAc,MAK3CnM,IAAK,SAAU0K,EAAKtI,EAAQ/G,GAC1B,OAAOpC,KAAK6R,MAAMJ,EAAKtI,EAAQ/G,EAAM,QAGvCsR,KAAM,SAAUjC,EAAKtI,EAAQ/G,GAC3B,OAAOpC,KAAK6R,MAAMJ,EAAKtI,EAAQ/G,EAAM,SAGvCuR,IAAK,SAAUlC,EAAKtI,EAAQ/G,GAC1B,OAAOpC,KAAK6R,MAAMJ,EAAKtI,EAAQ/G,EAAM,QAGvCwR,IAAK,SAAUnC,EAAKtI,EAAQ/G,GAC1B,OAAOpC,KAAK6R,MAAMJ,EAAKtI,EAAQ/G,EAAM,WAGvCyR,MAAO,SAAUpC,EAAKtI,EAAQ/G,GAC5B,OAAOpC,KAAK6R,MAAMJ,EAAKtI,EAAQ/G,EAAM,UAEvC0R,KAAM,WAEJ,OADA9T,KAAKyS,OAAQ,EACNzS,MAETsT,QAAS,SAAUS,GAEjB,OADA/T,KAAKqT,SAAWU,EACT/T,MAEToO,SAAU,SAAU5M,GAElB,OADAxB,KAAK0S,UAAYlR,EACVxB,MAETkS,QAAS,SAAU8B,GAEjB,OADAhU,KAAKmS,QAAUxS,EAAQ8J,OAAOzJ,KAAKmS,SAAW,GAAI6B,GAC3ChU,MAETyI,KAAM,SAAU2C,GAEd,OADApL,KAAKoL,OAASA,EACPpL,OAIXwR,EAAK4B,UAAY,SAAUa,EAAO7R,EAAM+D,EAAMjB,EAAM+M,EAAGe,GACrD,IAAIiB,EAAM5K,cACN2J,GAAUlG,EAAU,cAAe,CAACmF,IAEpC7P,GAAM,CACR,IAAIgG,EAAShG,EAAK2P,SAAW3P,EACzB4Q,IAAU5K,EAAShG,EAAK4P,OACxB5J,GAAUA,EAAOhG,MAAMgG,EAAOhG,KAAK6R,EAAO9N,EAAMjB,EAAM+M,KAI9D,IAAIiC,EAAQ,CACVC,QAAQ,EACRC,KAAM,WACJ,IAAIC,EAAQrU,KAAKiF,OAAO4K,MAAM,KAC1ByE,EAAMD,EAAM,GAAGxE,MAAM,KAAKC,MAC9B,OAAO0B,IAAOpD,SAAS,eAAerH,IAAIsN,EAAM,IAAIhR,MAAK,SAAUiM,GAKjE,MAAO,CACLpK,KAAMoK,EACNiF,QANY,CACZD,IAAKA,EACLE,QAASH,EAAM,UAUnBI,EAAU,CACZN,QAAQ,EACRC,KAAM,aACNM,KAAM,SAAUhR,EAAGiR,EAAG7Q,GACpBoF,GAAM,WACJ1G,OAAO+D,QAAQN,IAAI,QAAU0O,EAAEzN,GAAK,OAASyN,EAAEC,UAAWD,EAAEzP,MAC5D,IAAIA,EAAO,CACTgC,GAAIyN,EAAEzP,KAAKgC,GACX2N,MAAOF,EAAEzP,KAAKgC,GACd+L,OAAQ0B,EAAEzP,KAAK0P,WAEjB9Q,EAAEgR,cAAc5P,EAAMA,QAKxB6P,EAAU,CACZZ,QAAQ,EACRC,KAAM,WACJ,OAAO5C,EAAKxR,KAAKiF,SAEnByP,KAAM,SAAUM,EAAMC,GACpB,OAAOF,EAAQG,YAAY9S,KAAKpC,KAAMiV,EAAQzD,MAEhD0D,YAAa,SAAUD,EAAQE,GAC7B,IAAI1D,EAAMzR,KAAKiF,OACXmQ,EAAQ,GACRC,EAAO5D,EAAI9E,QAAQ,MAEV,IAAT0I,IACFD,EAAQ3D,EAAI7E,OAAOyI,GACnB5D,EAAMA,EAAI7E,OAAO,EAAGyI,IAGtB5D,GAAqC,KAA9BA,EAAI6D,OAAO7D,EAAIhQ,OAAS,GAAY,GAAK,IAChD,IAAIqQ,EAAOmD,EAAOL,UACd1P,EAAO+P,EAAO/P,KAGlB,MAFY,UAAR4M,UAAyB5M,EAAKgC,GAEtB,UAAR4K,EACKqD,EAAQxB,IAAIlC,EAAMvM,EAAKgC,GAAKkO,EAAOlQ,GACzB,UAAR4M,EACFqD,EAAQvB,IAAInC,EAAMvM,EAAKgC,GAAKkO,EAAOlQ,GAEnCiQ,EAAQzB,KAAKjC,EAAM2D,EAAOlQ,KAKnCqQ,GAAU,CACZpB,QAAQ,EACRC,KAAM,WACJ,OAAO5C,EAAKxR,KAAKiF,SAEnByP,KAAM,SAAUM,EAAMC,GACpB,IAAIO,EAAMhE,IAAOU,QAAQ,CACvB,eAAgB,qBAElB,OAAO6C,EAAQG,YAAY9S,KAAKpC,KAAMiV,EAAQO,KAI9CC,GAAU,CACZtB,QAAQ,EACRC,KAAM,SAAUY,EAAM7L,GAEpB,OADAA,EAASxJ,EAAQ8J,OAAON,GAAU,GAAInJ,KAAKmJ,QAAU,IAAI,GAClDqI,IAAOkC,KAAK1T,KAAKiF,OAAQkE,cAI3BuM,GAAMxQ,GACb,IAAKA,IAASjF,EAAQiF,GAAT,IAA+BvE,MAAMC,QAAQsE,GAAO,OAAOA,EACxE,IAAIyQ,EAAO,GACPhE,EAAQ,EAEZ,IAAK,IAAIN,KAAOnM,EAAM,CAEpB,GAAa,KADbyM,EACgB,OAAOzM,EACvByQ,EAAOtE,EAGT,OAAOnM,EAAKyQ,GAGd,IAAIC,GAAU,CACZzB,QAAQ,EACRO,KAAM,SAAUxP,GACd,OAAOlF,KAAKoU,KAAKlP,IAEnBkP,KAAM,SAAUY,GACd,IAAI7L,EAAS,CACXiM,MAAOpV,KAAKiF,QAOd,OAJyB,IAArBqB,UAAU7E,SACZ0H,EAAO0M,UAAYb,GAGdxD,IAAOU,QAAQ,CACpB,eAAgB,qBACfwB,KAAK1T,KAAKyR,IAAKtI,GAAQ9F,MAAK,SAAU6B,GACvC,OAAOwQ,GAAMxQ,EAAKuO,OAAOvO,oBAKtB4Q,GAAQlQ,EAAMX,EAAQ8Q,GAC7BjQ,EAAOgQ,GAAQlQ,GAAO,uBAAyBA,GAC/C,IAAIoQ,EAAUnO,EAAKiO,GAAQlQ,IAI3B,OAHAoQ,EAAQ/Q,OAASA,EACb8Q,GAAOpW,EAAQ8J,OAAOuM,EAASD,GAAO,GACtCC,EAAQC,MAAMD,EAAQC,OACnBD,EAGTF,GAAQI,OAAS,SAAU1U,GACzB,GAAoB,iBAATA,IAA4C,GAAvBA,EAAMmL,QAAQ,MAAa,CACzD,IAAI0H,EAAQ7S,EAAMqO,MAAM,MACxB,OAAOiG,GAAQzB,EAAM,GAAIA,EAAM,IAGjC,OAAO7S,GAGTsU,GAAQK,OAASjC,EACjB4B,GAAQ3I,MAAQsH,EAChBqB,GAAQrC,KAAO8B,GACfO,GAAQpC,KAAO+B,GACfK,GAAQM,KAAOrB,EACfe,GAAQF,QAAUA,GAElB,IAAIS,GAAU,CAEZlI,SAAU,SAAUjJ,GAClB,MAAmB,iBAARA,EAAyB6G,KAAKqF,MAAMlM,GACxCA,GAGTqJ,WAAY,SAAUrJ,GAEpB,OADIA,GAAQA,EAAKA,OAAMA,EAAOA,EAAKA,MAC5BA,GAGTyJ,WAAY,SAAUzJ,GAGpB,IAFA,IAAIyG,EAAS,GAEJjL,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,IAC/BiL,EAAO,OAASjL,GAAKwE,EAAKxE,GAI5B,OADsB,OAAlBV,KAAKsW,WAAmB3K,EAAOzE,GAAKhC,EAAKlF,KAAKsW,WAC3C3K,GAETkD,WAAY,WACV,OAAO,GAGTC,QAAS,WACP,MAAO,CACL9H,KAAM,IAGVsP,SAAU,MAkDRC,GAAO,CAMTpI,SAAU,SAAUjJ,GAClB,GAAmB,iBAARA,EAAkB,CAC3B,IAAIqI,EAAI,KASR,OARyB,GAArBrI,EAAKyH,QAAQ,OACfY,EAAInD,EAAOlF,IAERqI,KACHA,EAAIjD,SAASkM,cAAc,QACzBC,UAAYvR,GAGTqI,EAAEmD,WAGX,OAAOxL,GAGTqJ,WAAY,SAAUlE,GACpB,OAAOA,EAAK6D,qBAAqBlO,KAAKgQ,MAGxCrB,WAAY,SAAUzJ,GACpB,OAAO6I,EAAIa,YAAY1J,IAEzB2J,WAAY,WACV,OAAO,GAGTC,QAAS,WACP,MAAO,CACL9H,KAAM,IAGVgJ,IAAK,MAGH0G,GAAyB,EACzBC,GAAiB,GACjBC,GAAe,YACVC,KACFH,KAAwBA,GAAyBpM,SAASwM,eAC/DxM,SAASwM,cAAgBC,YAElBC,KACwB,IAA3BN,KACFpM,SAASwM,cAAgBJ,IAA0B,MAGrDA,GAAyB,WAElBO,GAAM5M,OACb,IAAI0F,EAAI,EAED1F,EAAOA,EAAK6M,iBACjBnH,IAGF,OAAOA,WAEAoH,GAAUC,EAAMC,GACvB,IAAIlR,EAAO,GAGX,IAAK,IAAIkL,KAFTgG,EAAQA,GAAS,GAEDD,EACdjR,GAAQkL,EAAM,IAAM+F,EAAK/F,GAAO,IAGlC,IAAIzL,EAAOgR,GAAazQ,EAAOkR,GAQ/B,OANKzR,IAEH0R,GAAS,KADT1R,EAAO,IAAMuE,MACUkN,GAAS,IAAM,IAAMlR,EAAO,KACnDyQ,GAAazQ,EAAOkR,GAASzR,GAGxBA,WAEA0R,GAASF,EAAMG,GACtB,IAAIC,EAAQD,EAAQZ,GAAeY,GAASZ,GAAwB,QAE/Da,KACHA,EAAQlN,SAASkM,cAAc,UACzBiB,aAAa,OAAQ,YAC3BD,EAAMC,aAAa,QAAS,gBAC5BnN,SAAS4D,qBAAqB,QAAQ,GAAGwJ,YAAYF,GACjDD,EAAOZ,GAAeY,GAASC,EAAWb,GAAwB,QAAIa,GAG5EA,EAAME,YAAYpN,SAASqN,eAAeP,aAEnCQ,GAAYL,GACnB,IAAIM,EAAMlB,GAAeY,GAAS,WAC9BM,IAAKA,EAAIpB,UAAY,aAElBqB,GAAOlS,EAAMmS,EAAOC,GAC3BD,EAAQA,GAAS,GACjB,IAAI1N,EAAOC,SAASkM,cAAc5Q,GAElC,IAAK,IAAIqS,KAAaF,EACpB1N,EAAKoN,aAAaQ,EAAWF,EAAME,IAMrC,OAHIF,EAAMP,QAAOnN,EAAKmN,MAAMU,QAAUH,EAAMP,OACxCO,EAAa,QAAG1N,EAAK8N,UAAYJ,EAAa,OAC9CC,IAAM3N,EAAKoM,UAAYuB,GACpB3N,WAGA+N,GAAS/N,GAEhB,OADAA,EAAOD,EAAOC,IAEPrB,EAAYqB,EAAK7I,OAAS6I,EAAKoM,UAAYpM,EAAK7I,MADrC,YAIXyJ,GAAOZ,GACd,GAAIA,aAAgB1J,MAAO,IAAK,IAAID,EAAI,EAAGA,EAAI2J,EAAK5I,OAAQf,IAC1DuK,GAAOZ,EAAK3J,SACH2J,GAAQA,EAAKgO,YAAYhO,EAAKgO,WAAWC,YAAYjO,YAGzDkO,GAAalO,EAAMmO,EAAQC,GAC7BpO,IACDmO,GAAUA,EAAOH,WAAYG,EAAOH,WAAWE,aAAalO,EAAMmO,GAAaC,EAAOf,YAAYrN,aAI/FqO,GAAO3T,EAAGmC,GACjB,IAAIyR,MACWA,EAAX5T,EAAEyL,QAAezL,EACbA,EAAE+C,OAGH6Q,GAAK,CACV,GAAIA,EAAI3J,aAAc,CAEpB,IAAIjJ,EAAO4S,EAAI3J,aAAa9H,GAC5B,GAAInB,EAAM,OAAOA,EAGnB4S,EAAMA,EAAIN,WAGZ,OAAO,cAGAO,GAAOC,GACd,IAAIhB,EAAMgB,EAAKC,wBACXC,EAAOzO,SAASyO,KAChBC,EAAU1O,SAAS2D,gBACnBgL,EAAYzW,OAAO0W,aAAeF,EAAQC,WAAaF,EAAKE,UAC5DE,EAAa3W,OAAO4W,aAAeJ,EAAQG,YAAcJ,EAAKI,WAC9DE,EAAYL,EAAQK,WAAaN,EAAKM,WAAa,EACnDC,EAAaN,EAAQM,YAAcP,EAAKO,YAAc,EACtDC,EAAM1B,EAAI0B,IAAMN,EAAYI,EAC5BG,EAAO3B,EAAI2B,KAAOL,EAAaG,EACnC,MAAO,CACLG,EAAGC,KAAKC,MAAMJ,GACdtH,EAAGyH,KAAKC,MAAMH,GACdI,MAAOf,EAAKgB,YACZC,OAAQjB,EAAKkB,uBAIRC,GAAYC,GACnB,MAAO,CACLhI,EAAGgI,EAAGC,QACNT,EAAGQ,EAAGE,kBAIDC,GAAIH,GACX,OAAKA,EAAG3V,MAKJ2V,EAAGI,SAAWJ,EAAGI,QAAQ,KAAIJ,EAAKA,EAAGI,QAAQ,IAC1C,CACLpI,EAAGgI,EAAGK,MACNb,EAAGQ,EAAGM,QAPC,CACLtI,EAAGgI,EAAGhI,EACNwH,EAAGQ,EAAGR,YASHe,GAAazV,GAEpB,OADAA,EAAE0V,iBACK1D,GAAUhS,YAGVgS,GAAUhS,GAEjB,OADAA,EAAE2V,mBACK,WAEAC,GAAatQ,EAAM/F,EAAMsB,EAAMS,GACtC,IAAIuU,EAEwB,mBAAjBpY,OAAO8B,IAChB+B,EAAU1G,EAAQ8J,OAAOpD,GAAW,GAAI,CACtCwU,SAAS,EACTC,YAAY,IAEdF,EAAQ,IAAIpY,OAAO8B,GAAMsB,EAAMS,KAG/BuU,EAAQtQ,SAASyQ,YAAYzW,IACvB0W,UAAUpV,GAAM,GAAM,GAG9ByE,EAAK4Q,cAAcL,YAGZM,GAAO7Q,EAAMzE,EAAMuV,GACrBA,IAA0C,IAAjC9Q,EAAK8N,UAAUxL,QAAQ/G,KAAcyE,EAAK8N,WAAa,IAAMvS,YAGpEwV,GAAU/Q,EAAMzE,GACvByE,EAAK8N,UAAY9N,EAAK8N,UAAUzN,QAAQpC,OAAO,IAAM1C,EAAM,KAAM,aAE1DyV,GAAYlV,EAAMmV,EAAKC,GAC9B,IAAIzX,EAAIgU,GAAO,MAAO,CACpB0D,MAAS,kCAAoCF,GAAO,KACnD,IACHxX,EAAE0T,MAAMU,QAAU,yFAA2FqD,EAAY,SAAWA,EAAY,MAAQ,kCACxJjR,SAASyO,KAAKrB,YAAY5T,GAK1B,IAJA,IAAIqB,EAAwB,WAAlBlF,EAAQkG,GAAqB,CAACA,GAAQA,EAC5CyT,EAAQ,EACRE,EAAS,EAEJpZ,EAAI,EAAGA,EAAIyE,EAAI1D,OAAQf,IAAK,CACnCoD,EAAE2S,UAAYtR,EAAIzE,GAClB,IAAI+a,EAAO3X,EAAEgV,wBACbc,EAAQF,KAAKgC,IAAI9B,EAAOF,KAAKiC,KAAKF,EAAK7B,QACvCE,EAASJ,KAAKgC,IAAI5B,EAAQJ,KAAKiC,KAAKF,EAAK3B,SAI3C,OADA7O,GAAOnH,GACA,CACL8V,MAAOA,EACPE,OAAQA,YAGH8B,GAAS1W,EAAM2W,GACtB,IAAIC,GAAS,EAEb,GAAqB,UAAjB7b,EAAQiF,GAAmB,CAE7B,GAAI1C,OAAOuZ,UAAUC,WAAY,OAAOxZ,OAAOuZ,UAAUC,WAAW9W,EAAM2W,GACxE3W,EAAO1C,OAAOyZ,IAAIC,gBAAgBhX,GAClC4W,GAAS,EAKb,IAAIK,EAAO7R,SAASkM,cAAc,KAClC2F,EAAKC,KAAOlX,EACZiX,EAAKP,SAAWC,EAChBvR,SAASyO,KAAKrB,YAAYyE,GAC1BA,EAAKE,QACLnT,GAAM,WACA4S,GAAQtZ,OAAOyZ,IAAIK,gBAAgBpX,GACvCoF,SAASyO,KAAKT,YAAY6D,GAC1BA,EAAKlR,qBAGAsR,GAAclS,GACrB,IAAKA,EAAM,MAAO,GAClB,IAAI8N,EAAY9N,EAAK8N,WAAa,GAIlC,OAHIA,EAAUqE,UACZrE,EAAYA,EAAUqE,SACnBrE,EAAUxL,UAASwL,EAAY,IAC7BA,WAEAsE,GAAkBpS,EAAMqS,EAAOC,GACtCD,EAAQA,GAAS,EACjBC,EAAMA,GAAOD,EACbrS,EAAKuS,QACLvS,EAAKoS,kBAAkBC,EAAOC,YAEvBE,GAAkBxS,GACzB,MAAO,CACLqS,MAAOrS,EAAKyS,gBAAkB,EAC9BH,IAAKtS,EAAK0S,cAAgB,YAGrBC,GAAQpX,EAAMpE,GACrB8I,SAAS4D,qBAAqB,QAAQ+O,KAAK,GAAGvF,YAAYI,GAAO,OAAQ,CACvElS,KAAMA,EACNsX,QAAS1b,KAIb,IAAI2b,GAAsBjb,OAAOkb,OAAO,CACtCvG,WAAYA,GACZG,YAAaA,GACbqG,MAAOpG,GACPE,UAAWA,GACXG,SAAUA,GACVM,YAAaA,GACbE,OAAQA,GACRM,SAAUA,GACVnN,OAAQA,GACRsN,aAAcA,GACdG,OAAQA,GACR4E,OAAQ1E,GACRoB,YAAaA,GACblP,IAAKsP,GACLI,aAAcA,GACdzD,UAAWA,GACX4D,aAAcA,GACdO,OAAQA,GACRE,UAAWA,GACXC,YAAaA,GACbO,SAAUA,GACVW,cAAeA,GACfE,kBAAmBA,GACnBI,kBAAmBA,GACnBG,QAASA,KAGPO,GAAY,CAEdpP,SAAU,SAAUjJ,GAElBY,EADAZ,EAAOkF,EAAOlF,GACD,sBACbY,EAAsC,UAA/BZ,EAAKsL,QAAQhK,cAA2B,0BAC/C,IAAIgX,EAAKtY,EAAKuY,KAEd,OADAxS,GAAO/F,GACAsY,GAGTjP,WAAY,SAAUrJ,GAKpB,IAJA,IAAIwY,EAAW,GAEXhd,EAAIwE,EAAK,IAAMA,EAAK,GAAGyY,YAAc,EAAI,EAEtCjd,EAAIwE,EAAKzD,OAAQf,IACtBgd,EAASnc,KAAK2D,EAAKxE,IAGrB,OAAOgd,GAGT/O,WAAY,SAAUzJ,GACpB,IAAI0Y,EAAK1Y,EAAKgJ,qBAAqB,MACnChJ,EAAO,GAEP,IAAK,IAAIxE,EAAI,EAAGA,EAAIkd,EAAGnc,OAAQf,IAC7BwE,EAAK,OAASxE,GAAKkd,EAAGld,GAAG+V,UAG3B,OAAOvR,GAGT4J,QAAS,WAEP,MAAO,CACL9H,KAAM,IAGV6H,WAAY;;;AAIZgP,UAAW,SAAU3Y,GACnB,IAAI4Y,EAAU,GACVF,EAAK1Y,EAAK,GAAGgJ,qBAAqB,MAClC0P,EAAGnc,SAAQyD,EAAK,GAAGyY,aAAc,GAErC,IAAK,IAAIjd,EAAI,EAAGA,EAAIkd,EAAGnc,OAAQf,IAAK,CAClC,IAAI6O,EAAM,CACRrI,GAAI,OAASxG,EACbsT,OAAQhU,KAAK+d,SAASH,EAAGld,GAAG+V,YAG1BsB,EAAQ/X,KAAKge,WAAWJ,EAAGld,IAE/B6O,EAAM5P,EAAQ8J,OAAO8F,EAAKwI,GAC1B+F,EAAQvc,KAAKgO,GAGf,OAAOuO,GAETC,SAAU,SAAUnX,GAClB,IAAIqX,EAASrX,EAAI+F,QAAQ,WAEzB,OADc,GAAVsR,IAAcrX,EAAMmF,KAAKqF,MAAMxK,EAAIgG,OAAOqR,EAAS,KAChDrX;;;AAKToX,WAAY,SAAUE,GAIpB,IAHA,IAAIC,EAAOD,EAAG3N,WACV6N,EAAO,GAEF1d,EAAI,EAAGA,EAAIyd,EAAK1c,OAAQf,IAC/B0d,EAAKD,EAAKzd,GAAG0O,UAAYpP,KAAK+d,SAASI,EAAKzd,GAAG+P,WAIjD,OADA2N,EAAKxE,MAAQyE,SAASD,EAAKxE,MAAO,IAC3BwE,IAIPE,GAAM,CACVA,IAAU,kBACVA,SAAe,GACfA,WAAiB,IACjBA,WAAiB,IACjBA,GAAIC,SAAW/b,OAAOgc,aACtBF,GAAIG,MAAuC,WAA/BnU,SAASoU,SAASC,SAC9B,IAAIC,GAAQ7C,UAAU8C,UACtBP,GAAIQ,OAAgC,GAAxBF,GAAMjS,QAAQ,OACxB,mBAAqB5G,KAAK6Y,MAAQN,GAAIS,OAAQ,IAChB,GAA5BH,GAAMjS,QAAQ,aAAkB2R,GAAIU,WAAY,IAChDV,GAAIS,OAAST,GAAIU,YAAwC,GAA3BJ,GAAMjS,QAAQ,YAAqD,GAAlCiS,GAAMjS,QAAQ,oBAAwB2R,GAAIW,QAAS,IAClHX,GAAIW,QAAUlD,UAAUmD,eAAiB,KAAGZ,GAAIa,OAAQ,GAC5Db,GAAIc,WAAad,GAAIa,OAEY,IAA7BP,GAAMjS,QAAQ,WAAmB2R,GAAIe,MAAO,GAAwC,IAA1BT,GAAMjS,QAAQ,QAAgB2R,GAAIgB,QAAS,GAA2C,IAA7BV,GAAMjS,QAAQ,WAAmB2R,GAAIiB,MAAO,GAA0C,IAA5BX,GAAMjS,QAAQ,UAAkB2R,GAAIkB,YAAa,GAA0C,IAA5BZ,GAAMjS,QAAQ,YAAkB2R,GAAImB,UAAW,IAE3RnB,GAAIe,MAAQf,GAAIgB,QAAUhB,GAAIiB,QAAMjB,GAAIoB,mBAAqB,KAC7DpB,GAAImB,WAAUnB,GAAIoB,mBAAqB,KAC3CpB,GAAIqB,UAAY,YAChBrB,GAAIsB,WAAa,aACjBtB,GAAIuB,mBAAqB,qBACzBvB,GAAIwB,UAAY,cAChBxB,GAAIyB,cAAgB,gBAEpBzB,GAAI0B,uBAAwB,EAE5B,IACE,IAAIC,GAAO/d,OAAOge,eAAe,GAAI,UAAW,CAC9CnZ,IAAK,WAEHuX,GAAI0B,uBAAwB,KAGhCxd,OAAOQ,iBAAiB,cAAe,KAAMid,IAC7Czd,OAAO2d,oBAAoB,cAAe,KAAMF,IAChD,MAAOG,IAGT9B,GAAI+B,IACK/V,SAASgW,eAAeC,WAAW,oDAAqD,OAGjGjC,GAAIkC,aACKlW,SAASgW,eAAeC,WAAW,oDAAqD,OAGjG,IAAIE,GAAW,YAGNC,GAAQ9gB,EAAQ+gB,EAAUvV,GACjC,IAAIwV,EAAUzd,EAASuC,QAKvB,GAJIib,IAAyB,IAAbA,IAAmBC,EAAUA,EAAQvd,MAAK,WACxDsd,EAASve,KAAKgJ,GAAUpL,UAGtB0gB,GAAQG,SAEV,OADAD,EAAQ7c,UACD6c,EAIT,GAAqB,iBAAVhhB,EAAoB,CAC7B,IAAI+R,EAAQ/R,EAAO6B,QAAU,EAE7B,GAAKkQ,EAiBE,CAEL,IAAImP,EAAY,WACVnP,GACFA,IAEA+O,GAAQ9gB,EAAOA,EAAO6B,OAASkQ,EAAQ,IAAItO,KAAKyd,GAAW,WACzD,OAAOF,EAAQ5c,aAGjB4c,EAAQ7c,WAIZ+c,QA/BU,CAEV,IAAK,IAAIC,KAAQnhB,EACf+R,IAIF,IAAIqP,EAAY,WAEA,MADdrP,GACiBiP,EAAQ7c,WAG3B,IAAK,IAAIkd,KAASrhB,EAChB8gB,GAAQO,GAAO5d,KAAK2d,GAAW,WAC7B,OAAOJ,EAAQ5c,YAoBrB,OAAO4c,EAGT,IAAyB,IAArBH,GAAS7gB,GAAkB,CAC7B,IAAIshB,EAAWthB,EAEf,IAAiB,IAAb+gB,EAIF,OAFA9X,EAAK2I,IAAOsC,OAAO/M,IAAIma,GAAUhO,cACjCuN,GAAS7gB,IAAU,EACZghB,EAAQ7c,UAGjB,GAAK0c,GAAS7gB,GAIZ,OAFA6gB,GAAS7gB,GAAQ2B,KAAKqf,GAEfA,EAHPH,GAAS7gB,GAAU,CAACghB,GAMtB,IAAIO,EAAU,WACZ,IAAIC,EAAQX,GAAS7gB,GACrB6gB,GAAS7gB,IAAU,EAEnB,IAAK,IAAIc,EAAI,EAAGA,EAAI0gB,EAAM3f,OAAQf,IAChC0gB,EAAM1gB,GAAGsD,UAITqd,EAAS,WACX,IAAID,EAAQX,GAAS7gB,GACrB6gB,GAAS7gB,IAAU,EAEnB,IAAK,IAAIc,EAAI,EAAGA,EAAI0gB,EAAM3f,OAAQf,IAChC0gB,EAAM1gB,GAAGqD,WAKTsQ,EAAQzU,EAAOiQ,MAAM,KAEzB,GAA4C,QAAxCwE,EAAM,GAAGzH,OAAOyH,EAAM,GAAG5S,OAAS,GAAc,CAClD,IAAI0a,EAAOrE,GAAO,OAAQ,CACxBxT,KAAM,WACNgd,IAAK,aACLlF,KAAM8E,IAER/E,EAAKkF,OAASA,EACdlF,EAAKgF,QAAUA,EACf7W,SAAS4D,qBAAqB,QAAQ,GAAGwJ,YAAYyE,OAChD,CACL,IAAIoF,EAAYjX,SAASkM,cAAc,UACvC+K,EAAUF,OAASA,EACnBE,EAAUJ,QAAUA,EACpB7W,SAAS4D,qBAAqB,QAAQ,GAAGwJ,YAAY6J,GACrDA,EAAUC,IAAMN,QAEbN,EAAQ7c,UAEf,OAAO6c,EAGT,IAAIa,GAAQ9hB,EAAQ8J,OAAO,CACzB0E,SAAU,SAAUjJ,GAClB,IAAKA,EAAKuc,MAAO,CACf,IAAIxB,EAAO/a,EAAKqP,SAAW,GACvB0L,EAAKzL,SAAS7U,EAAQ8J,OAAOwW,EAAMjgB,KAAK0hB,cAAczB,EAAKzL,UAC/DtP,EAAOA,EAAKA,MAAQA,EACpB,IAAI0b,EAAUzd,EAASuC,QAEvB,GAAIR,EAAKU,KAAM,CAEbqa,EAAK3L,IAAMpP,EAAKU,KAAKiK,MAAM,KAAKC,MAChC,IAAI6R,EAAS,IAAIC,WACjBD,EAAON,OAAS5Y,GAAK,SAAU1D,GAC7B6b,EAAQ7c,QAAQ/D,KAAK6hB,UAAU9c,EAAE+C,OAAO6D,OAAQsU,MAC/CjgB,MACH2hB,EAAOG,kBAAkB5c,QAEzB0b,EAAQ7c,QAAQ/D,KAAK6hB,UAAU3c,EAAM+a,IAEvC,OAAOW,EAIT,OAAO1b,GAET2c,UAAW,SAAU3c,EAAMqP,GACzBrP,EAAO,IAAI6c,WAAW7c,GAGtB,IAFA,IAAIzE,EAAM,GAEDC,EAAI,EAAGA,GAAKwE,EAAKzD,SAAUf,EAClCD,EAAIC,GAAKshB,OAAOC,aAAa/c,EAAKxE,IAGpC,IAAI4T,GAAOC,EAAQD,KAAOC,GAAS/N,cAEnC,MADW,OAAP8N,IAAcA,EAAM,QACjBoM,GAAQpC,GAAI4D,IAAM,mCAAmC7e,KAAKoF,GAAK,WAEpE,IAAI0Z,EAAY,OAAP7N,EAAe8N,IAAIC,KAAK5hB,EAAI4G,KAAK,IAAK,CAC7C/C,KAAM,SACNge,YAAY,EACZC,WAAW,IACRC,KAAKH,KAAK5hB,EAAI4G,KAAK,IAAK,CAC3B/C,KAAM,SACNge,YAAY,EACZC,WAAW,IAETjT,EAAM,CACRmT,OAAQN,EAAGO,OACXC,MAAOR,EAAGS,WACVrO,QAASA,EACTsO,OAAQV,EAAGW,UAAWX,EAAGW,SAASC,OAAc,IAElD,OAAOpjB,EAAQ8J,OAAOzJ,KAAKgjB,SAAS1T,EAAKiF,GAAUjF,KAClDtP,QAELgjB,SAAU,SAAU9d,EAAMqP,GACxB,IAAI3O,EAAO2O,EAAQ3O,MAAQV,EAAKyd,MAAM,GAGtC,OAFAzd,EAAOlF,KAAKijB,aAAa/d,EAAKud,OAAO7c,GAAO2O,GACxCA,EAAQkJ,MAAQlJ,EAAQkJ,KAAKhc,SAAQyD,EAAKA,KAAOA,EAAKA,KAAK8F,OAAOuJ,EAAQkJ,KAAK,GAAI/D,KAAKwJ,IAAI3O,EAAQkJ,KAAK,GAAIvY,EAAKA,KAAKzD,QAAU8S,EAAQkJ,KAAK,KAC3IvY,GAET+d,aAAc,SAAUE,EAAO5O,GAC7B,IAAIpP,EAAM,GACNie,EAAQ,GACRC,EAAS,GACTjc,EAAQ,GACRkc,EAAQ,GACRC,EAAS,GACTC,EAAY,CACdC,EAAG,SACH3f,EAAG,OACH4f,EAAG,SACH7V,EAAG,WAGL,GAAIsV,GAASA,EAAM,QAAS,CAC1B,IACIQ,EACApU,EAEAqU,EAJAC,EAAQzB,IAAI0B,MAAMC,aAAaZ,EAAM,SAKrCa,EAAcH,EAAMH,EAAE5V,EACtBmW,EAAcJ,EAAMH,EAAEne,GAAKgP,EAAQkJ,KAAOlJ,EAAQkJ,KAAK,GAAK,GAEhE,IAAKkG,EAAME,EAAMH,EAAEne,EAAGoe,GAAOE,EAAM9e,EAAEQ,EAAGoe,IAAO,CAC7C,IAAIO,EAAO,GAEX,IAAK3U,EAAMsU,EAAMH,EAAE5V,EAAGyB,GAAOsU,EAAM9e,EAAE+I,EAAGyB,IAMtC,GADAqU,EAAOT,EAJKf,IAAI0B,MAAMK,YAAY,CAChC5e,EAAGoe,EACH7V,EAAGyB,KAGyB,CAC5B,IAAI6U,EAAQ,GAEVA,EADE7P,EAAQ8P,MAAQT,EAAKjc,EACK,KAApBic,EAAKjc,EAAE2N,OAAO,GAAYsO,EAAKjc,EAAI,IAAMic,EAAKjc,EAAqB,KAAVic,EAAKrW,GAAYhF,EAAOqb,EAAKlgB,GAAY6H,EAAK+Y,cAAcV,EAAKlgB,GAAgBkgB,EAAKlgB,EACzJwgB,EAAK3iB,KAAK6iB,GACNR,EAAKF,GAAGL,EAAO9hB,KAAK,CAACoiB,EAAMM,EAAa1U,EAAMyU,EAAaJ,EAAKF,IAChEE,EAAKrW,GAAG+V,EAAM/hB,KAAK,CAACoiB,EAAMM,EAAa1U,EAAMyU,EAAaR,EAAUI,EAAKrW,UANpE2W,EAAK3iB,KAAK,IAUvB4D,EAAI5D,KAAK2iB,GAGX,GAAIf,EAAM,WAGR,IAFA,IAAIoB,EAASpB,EAAM,WAEVziB,EAAI,EAAGA,EAAI6jB,EAAO9iB,OAAQf,IAAK,CACtC,IAAIgjB,EAAIa,EAAO7jB,GAAGgjB,EACd3e,EAAIwf,EAAO7jB,GAAGqE,IACbwP,EAAQkJ,MAAQiG,EAAEne,EAAI0e,GAAe,GAAKlf,EAAEQ,EAAI0e,GAAe1P,EAAQkJ,KAAK,KAAI2F,EAAM7hB,KAAK,CAACmiB,EAAEne,EAAI0e,EAAaP,EAAE5V,EAAIkW,EAAajf,EAAE+I,EAAI4V,EAAE5V,EAAI,EAAG/I,EAAEQ,EAAIme,EAAEne,EAAI,IAItK,GAAI4d,EAAM,SAGR,IAFA,IAAIqB,EAASrB,EAAM,SAEV/hB,EAAK,EAAGA,EAAKojB,EAAO/iB,OAAQL,IAAM,CACzC,IAAI6b,EAAOuH,EAAOpjB,GAElB,GAAI6b,EAAM,CACR,IAAII,EAAQjc,EAAK4iB,EACjB5c,EAAM7F,KAAK,CAAC,SAAU8b,EAAO3D,KAAKC,MAAMsD,EAAKwH,KAAO,KAAO,OAEvDxH,EAAKsG,QAAQA,EAAOhiB,KAAK,CAAC,SAAU8b,KAK9C,GAAI8F,EAAM,SAGR,IAFA,IAAIuB,EAAUvB,EAAM,SAEX7S,EAAM,EAAGA,EAAMoU,EAAQjjB,OAAQ6O,IAAO,CAC7C,IAAIqU,EAAQD,EAAQpU,GAEpB,GAAIqU,EAAO,CACT,IAAIC,EAAStU,EAAM2T,EAEnB7c,EAAM7F,KAAK,CAAC,MAAOqjB,EAAQD,EAAME,MAE7BF,EAAMpB,QAAQA,EAAOhiB,KAAK,CAAC,MAAOqjB,MAM9C,MAAO,CACL1f,KAAMC,EACNie,MAAOA,EACPC,OAAQA,EACRjc,MAAOA,EACPkc,MAAOA,EACPC,OAAQA,EACR9B,OAAO,IAGXC,cAAe,SAAUrb,GACvB,IAAIgO,EAAQhO,EAAQwJ,MAAM,KACtB0E,EAAU,GAGd,GAFAA,EAAQ3O,KAAOyO,EAAM,GAEjBA,EAAM,GAAI,CACZ,IAAIoJ,EAAOpJ,EAAM,GAAGxE,MAAK,YACzB4N,EAAK,GAAe,EAAVA,EAAK,IAAU,EACzBA,EAAK,GAAe,EAAVA,EAAK,IAAU,QACzBlJ,EAAQkJ,KAAOA,EAGjB,OAAOlJ,IAER8B,IAECyO,GAAa,CACfrR,KAAMxC,EACNoF,QAASA,GACTpH,IAAKlB,EACLgX,IA1xBQ,CAER5W,SAAU,SAAUjJ,GAClB,OAAOA,GAGTqJ,WAAY,SAAUrJ,GACpB,OAAOA,EAAK2K,MAAM7P,KAAK2jB,MAGzBhV,WAAY,SAAUzJ,GACpBA,EAAOlF,KAAKglB,cAAc9f,GAG1B,IAFA,IAAIyG,EAAS,GAEJjL,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,IAC/BiL,EAAO,OAASjL,GAAKwE,EAAKxE,GAI5B,OADsB,OAAlBV,KAAKsW,WAAmB3K,EAAOzE,GAAKhC,EAAKlF,KAAKsW,WAC3C3K,GAETkD,WAAY,WACV,OAAO,GAGTC,QAAS,WACP,MAAO,CACL9H,KAAM,IAIVge,cAAe,SAAU9f,GACvBA,EAAOA,EAAK2K,MAAM7P,KAAK4jB,MAEvB,IAAK,IAAIljB,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,IAC/BwE,EAAKxE,GAAKwE,EAAKxE,GAAGgK,QAAO,mBAAqB,IAAIA,QAAO,mBAAqB,IAGhF,OAAOxF,GAEToR,SAAU,KACVqN,IAAK,KAELC,KAAM,KAgvBN5L,KAAMzB,GACNgH,UAAWA,GACXkE,MAAOA,IAGLwD,GAAoB,GACpBC,GAAiB,CACnBlb,MAAO,SAAU/C,GACfjH,KAAKmlB,iBAAmB,EAExBnlB,KAAKkF,KAAO,GACZlF,KAAKolB,SAAWjiB,EAASuC,QACrBuB,IAAQjH,KAAKoN,UAAUiY,SAAWpe,EAAOoe,UAAY,QACzDrlB,KAAKslB,OAAO/jB,KAAKvB,KAAKulB,mBAExBA,iBAAkB,WAChBvlB,KAAKwlB,iBAAkB,EACnBxlB,KAAKoN,UAAUqE,KAAKzR,KAAKylB,WAAWzlB,KAAKoN,UAAUqE,KACnDzR,KAAKoN,UAAUlI,MAAMlF,KAAK0lB,YAAY1lB,KAAKoN,UAAUlI,OAE3DugB,WAAY,SAAUjkB,GAEpB,OADAA,EAAQsU,GAAQI,OAAO1U,GAClBxB,KAAKwlB,iBACVxlB,KAAKoU,KAAK5S,EAAOxB,KAAKoN,UAAUiY,UACzB7jB,GAF2BA,GAIpCkkB,YAAa,SAAUlkB,GACrB,OAAKxB,KAAKwlB,iBACVxlB,KAAKoR,MAAM5P,EAAOxB,KAAKoN,UAAUiY,WAC1B,GAF2B7jB,GAKpC4S,KAAM,SAAU3C,EAAKrP,EAAMiE,EAASsf,GAClC,IAEIrhB,EAFAshB,EAAQ5lB,KAIO,iBAARoC,IAGTkC,EAAOlC,EACPA,EAAOkE,UAAU,IAGnB,IAAIxC,EAAI9D,KAAK6lB,OAAOpU,EAAKnN,EAAM+B,GAAW,MAE1C,GAAIvC,GAAKA,EAAET,KAAM,OAAOS,EAAET,MAAK,SAAU6B,GAIvC,OAHA0gB,EAAME,QAAQ5gB,EAAMygB,GAEhBvjB,GAAMoP,EAAK4B,UAAUwS,EAAOxjB,EAAM,GAAI8C,GAAM,GACzCA,KACN,SAAU+M,GACX,OAAO2T,EAAMG,aAAa9T,OAG9B4T,OAAQ,SAAUpU,EAAKnN,EAAM+B,GAC3B,IAEIsF,EAFAqa,EAAShmB,KAIb,IADIsE,GAAStE,KAAKkF,KAAK+gB,SAAQjmB,KAAKkF,KAAK+gB,OAASnB,GAAWxgB,GAAQ,UAChEtE,KAAK8M,UAAU,eAAgB,IAAK,OAAO3J,EAASa,UAKvD2H,GAHF8F,EAAMqE,GAAQI,OAAOzE,IAEb0C,QAAU1C,EAAI2C,KACX3C,EAAI2C,KAAKpU,KAAMqG,GAEF,mBAARoL,EACHA,EAAIrP,KAAKpC,KAAMqG,GAGbmL,IAAO/I,KAAKzI,MAAM+G,IAAI0K,MAItB9F,EAAOtI,OACpBsI,EAASxI,EAASY,QAAQ4H,IAG5B,IAAIua,IAAQlmB,KAAKmlB,iBAEjB,OAAIxZ,GAAUA,EAAOtI,KACZsI,EAAOtI,MAAK,SAAU6B,GAE3B,OAAI8gB,EAAO3c,aAAe2c,EAAOb,mBAAqBe,EAI7C/iB,EAASa,OAAOihB,IAClB/f,KAIJyG,GAGTyF,MAAO,SAAU+U,EAAM7hB,EAAMqhB,GAC3B,IAAIS,EAASpmB,KAEb,GAAImmB,GAA4B,mBAAbA,EAAK9iB,KAAoB,CAC1C,IAAI6iB,IAAQlmB,KAAKmlB,iBAEjB,OAAOgB,EAAK9iB,MAAK,SAAU6B,GACzB,GAAIkhB,EAAO/c,aAAe+c,EAAOjB,mBAAqBe,EAAK,OAAO/iB,EAASa,SAE3EoiB,EAAOhV,MAAMlM,EAAMZ,EAAMqhB,MAK7B,GAAIQ,GAAQA,EAAKrS,MAAQ9T,KAAK8T,KAAM9T,KAAKqmB,UAAUF,OAAW,CAAA,IAAKnmB,KAAK8M,UAAU,eAAgB,IAAK,OAAO3J,EAASa,UACjHM,GAAStE,KAAKkF,KAAK+gB,SAAQjmB,KAAKkF,KAAK+gB,OAASnB,GAAWxgB,GAAQ,SAErEtE,KAAK8lB,QAAQK,EAAMR,GAErB,OAAOxiB,EAASY,WAElBsiB,UAAW,SAAUnhB,GACflF,KAAKkF,MAAQlF,KAAKkF,KAAK2H,aAAa7M,KAAKkF,KAAK2H,YAAY,cAAepE,GAAK,WAC5EzI,KAAKsmB,eAAetmB,KAAKsmB,kBAC5BtmB,OACHA,KAAK8T,KAAK5O,IAEZqhB,OAAQ,SAAUrhB,GAChB,IAAIshB,EACAC,EACAR,EAASjmB,KAAKkF,KAAK+gB,OAEvBO,GADAC,EAASR,EAAO1X,WAAWrJ,GAAM,IACf+gB,EAAOtX,WAAW8X,GAAU,GAC1CzmB,KAAK0mB,UAAW1mB,KAAK0mB,UAAUF,GAAQ,EAAO,QAAaxmB,KAAKkF,KAAOshB,GAE7EG,gBAAiB,SAAUzhB,EAAMygB,GAC3BzgB,EACGlF,KAAK4mB,SAAY5mB,KAAK4mB,QAAQ1hB,EAAMlF,KAAKkF,KAAK+gB,OAAQN,KACrD3lB,KAAKkF,MAAQlF,KAAKkF,KAAKqhB,QACrBZ,GAAO3lB,KAAKkF,KAAK2hB,UAAS,GAE9B7mB,KAAKkF,KAAKqhB,OAAOrhB,KAGbygB,GAAO3lB,KAAK6mB,UAAS,GAEzB7mB,KAAKumB,OAAOrhB,KAGXlF,KAAK+lB,aAAa7gB,GAGrBlF,KAAKsmB,eAAetmB,KAAKsmB,gBAC7BtmB,KAAK8M,UAAU,cAAe,IAC9B9M,KAAKolB,SAASrhB,WAGhB+hB,QAAS,SAAUgB,EAAMnB,GACvB,IAAIoB,EAAS/mB,KAGT8mB,GAA6B,mBAAdA,EAAK3gB,OAAwB2gB,EAAKlhB,OACnDkhB,EAAOA,EAAK3gB,SAGd2gB,EAAO9mB,KAAKkF,KAAK+gB,OAAO9X,SAAS2Y,KACrBA,EAAKzjB,KAAMyjB,EAAKzjB,MAAK,SAAU6B,GACzC,OAAO6hB,EAAOJ,gBAAgBzhB,EAAMygB,MAC9B3lB,KAAK2mB,gBAAgBG,EAAMnB,IAErCI,aAAc,SAAUiB,GAWtB,OAVIA,IAAU/B,KAEPjlB,KAAKqJ,cACRrJ,KAAK8M,UAAU,cAAe,IAC9B9M,KAAK8M,UAAU,cAAexG,YAGhCwG,EAAU,cAAe,CAACka,EAAOhnB,QAG5BmD,EAASa,OAAOgjB,IAEzBC,iBAAkB,SAAUC,GAC1B,IAAKlnB,KAAKoN,UAAU+Z,UAAYnnB,KAAKonB,eAAiBF,EAAM,OAAO,EACnE,IAAIzV,EAAMzR,KAAKoN,UAAU+Z,SACzB,MAAkB,mBAAP1V,EAA0BA,EAAIrP,KAAKpC,KAAMknB,EAAKhgB,IAAMggB,EAAMA,IACrEzV,EAAMA,IAA2B,GAApBA,EAAI9E,QAAQ,KAAa,IAAM,KAAO,iBAAmB4F,mBAAmB2U,EAAKhgB,IAAMggB,KAC/FlnB,KAAK8M,UAAU,eAAgB,MACpC0E,EAAKC,GAAK,SAAUtL,EAAM8I,EAAKoY,GAC7BrnB,KAAKonB,cAAe,EACpB,IAAInB,EAASnB,GAAWrR,KACpBvO,EAAO+gB,EAAO9X,SAAShI,EAAM8I,GAC7B/J,EAAMlF,KAAK0mB,UAAUT,EAAOtX,WAAWsX,EAAO1X,WAAWrJ,GAAM,KAAK,EAAO,QAAalF,KAAK+lB,aAAasB,GAC9GrnB,KAAKonB,cAAe,EACpBpnB,KAAK8M,UAAU,cAAe,MAC7B9M,OACI,MAIPsnB,GAAa,CAEfC,cAAe,SAAU7d,EAAM8d,EAAQtiB,EAAMmG,GAQ3C,GAPAnG,EAAOA,GAAQ,GACfsiB,EAASA,GAAU,GAEnBnc,EAASA,GAAU,WACjB,OAAO,IAGJ3B,GAAyB,UAAjBzJ,EAAQyJ,GAAmB,OAAO,KAE/C,IAAK,IAAI+d,KAAQ/d,EAAM,CACrB,IAAIlI,EAAQkI,EAAK+d,GACb7hB,EAAO4hB,EAASC,EAEhBjmB,GAA2B,UAAlBvB,EAAQuB,KAAuB+G,EAAO/G,KAAW6G,EAAQ7G,IAAU6J,EAAOzF,GACrF0hB,GAAWC,cAAc/lB,EAAOoE,EAAO,IAAKV,EAAMmG,GAElDnG,EAAKU,GAAQpE,EAIjB,OAAO0D,GAGTwiB,YAAa,SAAUhe,GACrB,IACIhJ,EACAinB,EACA/hB,EACAvF,EACAonB,EALAviB,EAAO,GAOX,IAAKuiB,KAAQ/d,EAAM,CAKjB,IAHAie,GADA/hB,EAAO6hB,EAAK5X,MAAM,MACDpO,OAAS,EAC1BpB,EAAM6E,EAEDxE,EAAI,EAAGA,EAAIinB,EAAWjnB,IACpBL,EAAIuF,EAAKlF,MAAKL,EAAIuF,EAAKlF,IAAM,IAClCL,EAAMA,EAAIuF,EAAKlF,IAGjBL,EAAIuF,EAAK+hB,IAAcje,EAAK+d,GAG9B,OAAOviB,IAOP0iB,GAAS,GACTC,GAAa,GACbC,GAAW,IAAIxf,OAAO,eAAgB,KACtCyf,GAAS,IAAIzf,OAAO,QAAU,KAC9B0f,GAAU,IAAI1f,OAAO,SAAU,KAC/B2f,GAAW,CACb,IAAK,QACL,IAAK,OACL,IAAK,OACL,IAAM,SACN,IAAK,SACL,IAAK,UAEHC,GAAQ,YAERC,GAAa,SAAUC,GACzB,OAAOH,GAASG,IAAQ,kBAGjBC,GAASC,GAChB,GAAkB,mBAAPA,EAAmB,OAAOA,EACrC,GAAIV,GAAOU,GAAM,OAAOV,GAAOU,GAG/B,IAAyB,IAFzBA,GAAOA,GAAO,IAAInmB,YAEVwK,QAAQ,MAAa,CAC3B,IAAI4b,EAAUD,EAAIzY,MAAM,MAExB,OAAQ0Y,EAAQ,IACd,IAAK,OAEHD,EAAMlQ,GAASmQ,EAAQ,IACvB,MAEF,IAAK,OAEHD,GAAM,IAAI9W,GAAOsC,OAAO/M,IAAIwhB,EAAQ,GAAI,CACtCpe,IAAKA,MACJ+I,cAaT,GAFAoV,GAAOA,GAAO,IAAInmB,WAEdmc,GAAIC,OAAQ,CACd,IAAKsJ,GAAWS,GAAM,CACpBT,GAAWS,GAAO,GAElB,IAAIE,EAAW,GA2Ef,GA1EAF,EAAI5d,QAAO,uCAAwC,SAAU+d,EAAQC,EAAIC,EAAIC,EAAI3K,GAC/EuK,EAASjnB,KAAK,CACZuJ,IAAKmT,EACLrX,IAAK6hB,EACL5lB,GAAI,SAAUxC,GACZ,OAAOA,EAAIqoB,GAAMC,EAAKC,QAI5BN,EAAI5d,QAAO,yBAA0B,SAAU+d,EAAQ/E,EAAGzF,GACxDuK,EAASjnB,KAAK,CACZuJ,IAAKmT,EACLrX,IAAK6hB,EACL5lB,GAAI,SAAUgmB,EAAGC,GACf,OAAOA,EAAOpF,IAAM,SAI1B4E,EAAI5d,QAAO,6BAA8B,SAAU+d,EAAQ/E,EAAGzF,GAC5DuK,EAASjnB,KAAK,CACZuJ,IAAKmT,EACLrX,IAAK6hB,EACL5lB,GAAI,SAAUxC,EAAKyoB,GACjB,OAAOA,EAAOpF,GAAKoF,EAAOpF,GAAG9a,MAAM5I,KAAMsG,WAAa,SAI5DgiB,EAAI5d,QAAO,sBAAuB,SAAU+d,EAAQ/E,EAAGzF,GACrDuK,EAASjnB,KAAK,CACZuJ,IAAKmT,EACLrX,IAAK6hB,EACL5lB,GAAI,SAAUxC,GACZ,OAAOA,EAAIqjB,SAIjB4E,EAAI5d,QAAQ,SAAS,SAAU+d,EAAQxK,GACrCuK,EAASjnB,KAAK,CACZuJ,IAAKmT,EACLrX,IAAK6hB,EACL5lB,GAAI,SAAUxC,GACZ,OAAOA,QAIbioB,EAAI5d,QAAO,oBAAqB,SAAU+d,EAAQ/E,EAAGzF,GAChC,KAAfyF,EAAEpO,OAAO,IACXoO,EAAIA,EAAE9W,OAAO,GACb4b,EAASjnB,KAAK,CACZuJ,IAAKmT,EACLrX,IAAK6hB,EACL5lB,GAAI,SAAUxC,GAGZ,OAFsB,GAAlBqjB,EAAE/W,QAAQ,OAAYtM,EAAMinB,GAAWC,cAAclnB,IAElDgoB,GAASU,OAAO1oB,EAAIqjB,QAI/B8E,EAASjnB,KAAK,CACZuJ,IAAKmT,EACLrX,IAAK6hB,EACL5lB,GAAI,SAAUxC,GAGZ,OAFsB,GAAlBqjB,EAAE/W,QAAQ,OAAYtM,EAAMinB,GAAWC,cAAclnB,IAElDA,EAAIqjB,SAMnB8E,EAASQ,MAAK,SAAU/f,EAAG4E,GACzB,OAAO5E,EAAE6B,IAAM+C,EAAE/C,IAAM,GAAI,KAGzB0d,EAAS/mB,OAAQ,CASnB,IARA,IAAIwnB,EAAU,EAEVC,EAAS,SAAUtiB,EAAKuiB,EAAIC,GAC9BvB,GAAWjhB,GAAKrF,MAAK,WACnB,OAAOqF,EAAIyiB,MAAMF,EAAIC,OAIhB1oB,EAAI,EAAGA,EAAI8nB,EAAS/mB,OAAQf,IAAK,CACxC,IAAI4oB,EAASd,EAAS9nB,GAAGoK,IACzBoe,EAAOZ,EAAKW,EAASK,GAErBzB,GAAWS,GAAK/mB,KAAKinB,EAAS9nB,GAAGmC,IAEjComB,EAAUK,EAASd,EAAS9nB,GAAGkG,IAAInF,OAGrCynB,EAAOZ,EAAKW,EAASX,EAAI7mB,aACpBomB,GAAWS,GAAK/mB,MAAK,WAC1B,OAAO+mB,KAIX,OAAO,WAGL,IAFA,IAAI5E,EAAI,GAEChjB,EAAI,EAAGA,EAAImnB,GAAWS,GAAK7mB,OAAQf,IAC1CgjB,GAAKmE,GAAWS,GAAK5nB,GAAGkI,MAAM5I,KAAMsG,WAGtC,OAAOod,GAIX,IAAI6F,GAAU,EASdjB,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,EAAMA,EAAI5d,QAAQsd,GAAS,SACjBtd,QAAQod,GAAU,QAClBpd,QAAQqd,GAAQ,QAChBrd,QAAO,sCAAwC,2BAC/CA,QAAO,wBAA0B,0BACjCA,QAAO,4BAA8B,wDACrCA,QAAO,oBAAsB,iBAC7BA,QAAQ,QAAS,YACjBA,QAAO,oBAAqB,SAAU9D,EAAKyK,GACnD,MAAqB,KAAjBA,EAAIiE,OAAO,IACbiU,GAAU,EACH,yBAA4BlY,EAAIzE,OAAO,GAAK,OACvC,UAAayE,EAAM,SAGnC,IACE,GAAIkY,EAAS,CACX,IAAI7Z,EAAO8Z,SAAS,MAAO,SAAU,QAAS,QAAS,WAAY,WAAclB,EAAM,MAEvFV,GAAOU,GAAO,SAAUrf,EAAG4E,EAAGC,EAAGhK,GAC/B,OAAO4L,EAAKzG,EAAG4E,EAAGC,EAAGhK,EAAGukB,UAG1BT,GAAOU,GAAOkB,SAAS,MAAO,SAAU,WAAclB,EAAM,MAE9D,MAAOvjB,GACPe,EAAO,EAAG,oBAAsBwiB,GAGlC,OAAOV,GAAOU,GAGhBD,GAASU,OAAS,SAAUniB,GAC1B,OAAIA,MAAAA,EAA0C,IACtCA,EAAIzE,YAAc,IAAIuI,QAAQwd,GAAUC,KAGlDE,GAASoB,MAAQ,WACf,MAAO,IAGT,IAAIC,GAAa,CAEfC,QAAS,SAAUtpB,GACjB,OAAIA,EAAIupB,OAAe,GAChB5pB,KAAKoN,UAAUyc,SAASxpB,EAAKL,OAGtC8pB,OAAQ,WACN,IAAIC,EAAM/pB,KAAKoN,UAEf,QAAIpN,KAAKgqB,UAAUD,EAAI7iB,MAChBlH,KAAK8M,YAAa9M,KAAK8M,UAAU,iBAAkB,CAAC9M,KAAKkF,SACxDlF,KAAKkF,OAAS6kB,EAAI7M,UAGpBld,KAAKiqB,SAASxT,UAAY,GAC1BzW,KAAKiqB,SAASxT,UAAYzW,KAAK2pB,QAAQ3pB,KAAKkF,OAG1ClF,KAAK8M,WAAW9M,KAAK8M,UAAU,gBAAiB,MAG/C,IAKXgH,KAAM,SAAU7O,GACdjF,KAAKkqB,gBAAiB,EAEH,aAAfjlB,EAAOW,OACLX,EAAOC,MAA4B,aAApBD,EAAOC,KAAKU,KAC7BX,EAASA,EAAOC,KAEhBlF,KAAKkqB,gBAAiB,GAItBlqB,KAAKkqB,eAAgBjlB,EAAOwD,KAAK,SAAUA,GAAK,SAAUvD,GACxDA,EAAKgC,IAAMlH,KAAKkF,KAAKgC,KACvBlH,KAAKkF,KAAOA,EAAKqL,WACjBvQ,KAAKmqB,aAENnqB,OAAYiF,EAAO4H,YAAY,iBAAkBpE,GAAK,SAAUvB,GAC5DA,GAAMA,GAAMlH,KAAKkF,KAAKgC,KACzBlH,KAAKkF,KAAOD,EAAOmlB,KAAKljB,GACxBlH,KAAKmqB,aAENnqB,QAELqqB,gBAAiBhC,IAGfiC,GAAa,CACfC,aAAc,SAAUtM,GACtB,IAAIuM,EAASC,EACT3Y,EAAO9R,KAAKoN,UAAUsd,WACN,iBAAT5Y,IAAmBA,EAAO9R,KAAKoN,UAAUud,QAAU,MAC9DF,GAAgC,IAAtB3Y,EAAKnF,QAAQ,KACvB6d,GAAgC,IAAtB1Y,EAAKnF,QAAQ,KACvB,IACIkL,EAAMe,GADC5Y,KAAK4qB,OAAS5qB,KAAK6qB,OAE1BC,EAAQpR,KAAKgC,KAAK1b,KAAKoN,UAAU2d,YAAc/qB,KAAKsE,OAAS0mB,MAAMC,WAAWjrB,KAAKsE,KAAKwV,SAAW9Z,KAAKsE,KAAKwV,OAAS,IAAM,EAAG,IAE/HoR,GAAQ,EACRV,GAAWxqB,KAAKmrB,eAAelN,EAAQpG,EAAKiT,KAAQI,GAAQ,GAC5DT,GAAWzqB,KAAKorB,eAAenN,EAAQpG,EAAKiT,KAAQI,GAAQ,GAC5DA,IAAOlrB,KAAKqrB,mBAAqBniB,EAAMlJ,KAAKuqB,aAAcvqB,KAAM,CAACie,GAAS,OAEhFqN,oBAAqB,SAAUrN,GAC7B,IAAInM,EAAO9R,KAAKoN,UAAUsd,WAC1B,GAAoB,iBAAT5Y,IAA2C,IAAtBA,EAAKnF,QAAQ,KAA7C,CACA,IACIkL,EAAMe,GADC5Y,KAAKmS,SAAWnS,KAAK6qB,OAE5BC,EAAQpR,KAAKgC,IAAI1b,KAAKoN,UAAUme,iBAAmB,EAAG,IACtDvrB,KAAKorB,eAAenN,EAAQpG,EAAKiT,KAAQ9qB,KAAKqrB,mBAAqBniB,EAAMlJ,KAAKsrB,oBAAqBtrB,KAAM,CAACie,GAAS,QAEzHkN,eAAgB,SAAUlN,EAAQpG,EAAKiT,GACrC,IAAIvR,EAAM1B,EAAI4B,EACV+R,EAASjS,EAAM1B,EAAIiC,OACnB2R,EAASzrB,KAAK0rB,iBACdzkB,EAASjH,KAAKoN,UAElB,GAAInG,EAAO0kB,SAAU,CACnB,IAAIC,EAAc5rB,KAAK6rB,cAAc7rB,KAAK8rB,aAAa7kB,EAAO0kB,SAAW,GAAI3rB,KAAK+rB,SAAS,IAE3FxS,GAAOqS,EAAYrS,IAAMqS,EAAY9R,OAGvC,OAAImE,EAAOxE,EAAIF,EAAMuR,EACZ9qB,KAAKgsB,eAAeP,EAAOxZ,EAAGwZ,EAAOhS,EAAY,EAARqR,EAAW7M,EAAQ,KAC1DA,EAAOxE,EAAI+R,EAASV,GACtB9qB,KAAKgsB,eAAeP,EAAOxZ,EAAGwZ,EAAOhS,EAAY,EAARqR,EAAW7M,EAAQ,MAKvEmN,eAAgB,SAAUnN,EAAQpG,EAAKiT,GACrC,IAAItR,EAAO3B,EAAI5F,EACXga,EAAQzS,EAAO3B,EAAI+B,MACnB6R,EAASzrB,KAAK0rB,iBAElB,OAAIzN,EAAOhM,EAAIuH,EAAOsR,EACb9qB,KAAKgsB,eAAeP,EAAOxZ,EAAY,EAAR6Y,EAAWW,EAAOhS,EAAGwE,EAAQ,KAC1DA,EAAOhM,EAAIga,EAAQnB,GACrB9qB,KAAKgsB,eAAeP,EAAOxZ,EAAY,EAAR6Y,EAAWW,EAAOhS,EAAGwE,EAAQ,MAKvE+N,eAAgB,SAAU/Z,EAAGwH,EAAGwE,EAAQnM,GACtC,GAAI9R,KAAK8M,UAAU,qBAAsB,CAACmR,IAAU,CAClDje,KAAKksB,SAASja,EAAGwH,GACjBzZ,KAAK8M,UAAU,oBAAqB,IACpC,IAAI2e,EAASzrB,KAAK0rB,iBAClB,OAAOhS,KAAKyS,KAAc,MAATra,EAAeG,EAAIwH,GAAKgS,EAAO3Z,IAAS,EAG3D,OAAO,IAIPsa,GAAU,YACLC,KAEP,IAAK,IAAIpjB,KAAKmjB,GACZE,GAAYrjB,YAIPsjB,GAAOtjB,EAAG4E,EAAGC,EAAGhK,IACvBA,EAAIA,GAAK,IACP0oB,OAAQ,EACVC,GAAQxjB,EAAG4E,EAAGC,EAAGhK,YAGV2oB,GAAQpiB,EAAMuQ,EAAOzW,EAASuoB,GACrCA,EAAUA,GAAW,GAErB5mB,EADAuE,EAAOD,EAAOC,GACD,0CACb,IAAInD,EAAKwlB,EAAQxlB,IAAMiD,IACnBuiB,EAAQjkB,OAAMtE,EAAUsE,EAAKtE,EAASuoB,EAAQjkB,OAClD,IAAIkkB,EAAO,CAACtiB,EAAMuQ,EAAOzW,EAASuoB,EAAQE,SACrCF,EAAQF,QAAOJ,GAAQllB,GAAMylB,GAElC,IAAIC,IAAYF,EAAQE,QAOxB,OANK5jB,EAAY0jB,EAAQG,UAAYvO,GAAI0B,wBACvC4M,EAAU,CACRC,QAASH,EAAQG,QACjBD,QAASA,IAEbviB,EAAKrH,iBAAiB4X,EAAOzW,EAASyoB,GAC/B1lB,WAGAolB,GAAYplB,GACnB,GAAKA,EAAL,CACApB,EAAOsmB,GAAQllB,GAAK,+BACpB,IAAI+S,EAAKmS,GAAQllB,GACjB+S,EAAG,GAAGkG,oBAAoBlG,EAAG,GAAIA,EAAG,KAAMA,EAAG,WACtCmS,GAAQllB,IAOf,SAEO4lB,GAAKzsB,EAAK6E,GACjB,GAAI7E,EAAIuJ,WAKN,OAJKvJ,EAAI0sB,mBAAkB1sB,EAAI0sB,iBAAmB,SAElD1sB,EAAI0sB,iBAAiBxrB,KAAK2D,GAMV,mBAAP7E,IAAmBA,EAAMA,EAAIE,WAEnCF,EAAIijB,QACPjjB,EAAIijB,MAAQ,CACV0J,QAAW3sB,EAAIiE,MAEjBjE,EAAIiE,KAAKsB,KAAO,WAGlB,IAAIA,EAAOV,EAAKU,KACZtB,EAAOjE,EAAIiE,KAGf,IAAK,IAAI+M,KAFLzL,IAAMtB,EAAOjE,EAAIijB,MAAM1d,GAAQ8B,EAAMxC,EAAK+nB,SAAW5sB,EAAIijB,MAAMpe,EAAK+nB,UAAY5sB,EAAIiE,OAExEY,EACkB,IAA5BmM,EAAI1E,QAAQ,YAAmBrI,EAAK+M,GAAOgX,GAASnjB,EAAKmM,IAAW/M,EAAK+M,GAAOnM,EAAKmM,GAG3F,OAAOzL,EAGT,IAAIsnB,GAAQ,CACVC,UAAW,GACXC,cAAe,KACfC,mBAAoB,KACpBC,qBAAsB,KACtBC,sBAAuB,KACvBC,oBAAqB,KACrBC,eAAgB,KAChBC,aAAc,KACdC,YAAa,KACbC,aAAc,EACdC,gBAAiB,KACjBC,mBAAoB,KACpB1B,QAAS,GACT2B,YAAa,GACbC,kBAAmB,KACnBC,UAAW,GACXC,QAASvjB,IACTwjB,cAAe,MAGbC,GAAQ,YAEHC,GAAGpnB,EAAQ0G,EAAQzG,GAC1B,IAAIoI,EACJ4d,GAAMU,eAEN,IAAIle,EAAOwd,GAAME,cAIjBF,GAAME,cAAgBnmB,EAAOwF,QAAUiD,EAEvC,IACEJ,WAYiBrI,EAAQ0G,EAAQzG,GACnC,IAIIonB,EAJAC,EAAWlmB,EAAQpB,GACnBoD,EAAOD,EAAOnD,EAAOunB,WAAa7gB,GAAUrD,SAASyO,MAErD1O,EAAK+C,YAAWlG,WAsEFY,EAAQymB,EAAUrnB,GAEpC,IAAIunB,EAAQ,CAAC3mB,GAEb,GAAIymB,EAAUE,EAAQ3mB,EAAO4mB,qBACxB,GAAI5mB,EAAO6mB,WAAYF,EAAQ,CAAC3mB,EAAO6mB,gBACrC,CAAA,GAAiB,iBAANznB,EACZ,OAAOA,EACF,GAAIA,EAKT,OAFA0nB,GAFAH,EAAQ,CAACI,GAAG3nB,KAILunB,EAAM,GAAGxnB,OAAOC,GAK7B,OAFA0nB,GAAWH,GAEJvnB,EAxFkB4nB,CAAWzkB,EAAMkkB,EAAUrnB,IAEpD,IAAI6nB,GAAS,EACTC,EAAa3kB,GAAQC,SAASyO,KAE9B9R,EAAOmG,WAAa/C,GAAQkkB,GAC9BD,EAAWrnB,EACX8nB,GAAS,IAEL1kB,GAAQ2kB,IAAY/nB,EAAOgoB,UAAW,GACrChoB,EAAOioB,SAAQjoB,EAAOioB,OAAS,IAEhCvhB,GAAUA,EAAOwhB,gBACnBjC,GAAMQ,aAAgBxmB,GAAa,IAAPA,EAAoCyG,EAAzBA,EAAOwhB,iBAGhDb,EAAWc,GAAMnoB,KAGf+nB,GAAeV,EAASe,aAAgBf,EAASgB,UAAUzpB,EAAI,aAAJA,GAE/D,GAAIyoB,EAASlhB,WAAakhB,EAASlhB,UAAUmiB,UAAYllB,EAAKwgB,MAC5DyD,EAASlhB,UAAUoiB,WAAanlB,OAC3B,IAAKikB,EAASgB,SACnB,GAAIjlB,EAAKqN,YAAa+X,GAAWplB,EAAMikB,EAAUrnB,QAAa,GAAIoD,EAAKqlB,WAAY,CACjF,IAAI5nB,EAASuC,EAQb,GANKnD,GAAa,IAAPA,GAAamB,EAAQimB,KAC9BpnB,EAAKmD,EACLA,EAAOA,EAAK8kB,iBAIV9kB,GAAQA,EAAKslB,SAAU,CACzB,GAAIZ,GAAUT,EAASa,cAAe,CAEpC,IAAIS,EAAUtB,EAASa,gBAEnBS,GAAWA,EAAQC,SACrBD,EAAQC,QAAQvB,GAIlBA,EAASZ,aAAerjB,EACxBikB,EAAS7hB,OAASpC,EAAKoC,OAGzBpC,EAAKslB,SAASrB,EAAUpnB,OACnB,CACL,IAAI4oB,EAAWhoB,EAAO+iB,MAAMxS,WAC5BvQ,EAAO4nB,aAEPD,GAAWK,EAAUxB,EAAUrnB,SAE5BnB,EAAO,EAAG,uBAAyBmB,EAAOunB,WAGnD,OAAOF,EAzECyB,CAAY9oB,EAAQ0G,EAAQzG,GACnC,QACCgmB,GAAMU,eAENV,GAAME,cAAgB1d,EAGxB,OAAOJ,WAqEAmgB,GAAWplB,EAAMikB,EAAUrnB,GAClCoD,EAAKqN,YAAY4W,EAAS0B,UACtB1B,EAASa,qBAIPb,EAASe,aAAef,EAASlhB,UAAU6iB,aAAe5lB,GAAQC,SAASyO,MAAQuV,EAASlhB,UAAU8iB,WAAUhD,GAAMC,UAAU5rB,KAAK+sB,EAAS6B,qBAC/IlpB,EAAOmpB,YAAY9B,EAAS+B,mBAwB1BzB,GAAW0B,GAClB,IAAK,IAAI5vB,EAAI4vB,EAAI7uB,OAAS,EAAGf,GAAK,EAAGA,IAAK,CACxC,IAAI6vB,EAAUD,EAAI5vB,UAEX0tB,GAAMmC,EAAQtpB,OAAOC,IAE5BqpB,EAAQtpB,OAAOC,GAAK,IAAMiD,IAC1BikB,GAAMmC,EAAQtpB,OAAOC,IAAMqpB,EAEvBA,EAAQ7B,eAAeE,GAAW2B,EAAQ7B,iBAE1C6B,EAAQC,kBAAkB5B,GAAW2B,EAAQC,4BAI5CpB,GAAMnoB,GAGX,IAAIwpB,EAAOxpB,EAAOypB,OAASzpB,EAAOwW,MAAQxW,EAAO0pB,UAAY1pB,EAAO2pB,KACpE,GAAIH,EAAM,IAAK,IAAI/vB,EAAI,EAAGA,EAAI+vB,EAAKhvB,OAAQf,IACzB,OAAZ+vB,EAAK/vB,SAAkC,IAAZ+vB,EAAK/vB,IAAoBoF,EAAO,EAAG,yEAItE,GAAImB,EAAO+N,KAAM,CACf,IAAIA,EAAO/N,EAAO+N,KAElB,OADAlP,EAAOuoB,GAAGrZ,GAAO,gBAAkBA,GAC5B,IAAIqZ,GAAGrZ,GAAM/N,GACf,GAAIA,EAAOwW,MAAQxW,EAAO2pB,KAAM,CAIrC,IAHA,IAAIF,EAAQzpB,EAAOwW,MAAQxW,EAAO2pB,KAC9BC,GAAY,EAEPzvB,EAAK,EAAGA,EAAKsvB,EAAMjvB,OAAQL,KAC9BsvB,EAAMtvB,GAAI2X,MAAS2X,EAAMtvB,GAAI4T,MAAS0b,EAAMtvB,GAAI0vB,QAAOD,GAAY,GAGzE,OAAIA,EACK,IAAIxC,GAAG0C,aAAa9pB,GACf,IAAIonB,GAAG1D,OAAO1jB,GACvB,OAAIA,EAAOypB,MAAc,IAAIrC,GAAG2C,UAAU/pB,GAAiBA,EAAO4iB,UAAY5iB,EAAOiW,QAAgB,IAAImR,GAAGxE,SAAS5iB,GAAiBA,EAAO6pB,OAAS7pB,EAAO8R,KAC3J,IAAIsV,GAAGyC,MAAM7pB,GACR,IAAIonB,GAAG4C,OAAOhqB,YAMrB4nB,GAAG3nB,GACV,IAAKA,EAAI,OAAO,KAChB,GAAIknB,GAAMlnB,GAAK,OAAOknB,GAAMlnB,GAC5B,IAAItB,EAAOsB,EAEX,GAAmB,UAAfjH,EAAQiH,GAAiB,CAC3B,GAAIA,EAAGkG,UAAW,OAAOlG,EACzBtB,EAAOsB,EAAGY,QAAUZ,EAGtB,OAAOknB,GAAM1V,GAAO,CAClB5Q,OAAQsC,EAAOxE,IAGjB,YA8JA,GA5TFyoB,GAAGI,MAAQL,GA8IXC,GAAG6C,MAAQ9B,QAmBc,IAAd5sB,OAAOqsB,KAAoBrsB,OAAOqsB,GAAKA,IAElDlvB,EAAQwxB,QAAU,WAChB,IAAIC,EAAU9qB,UACV+qB,EAAWD,EAAQ,GAAGxrB,KAEtB2H,EAAI,SAAUrI,GAChB,IAAKqI,EAAG,OAAO8gB,GAAGgD,GAAU9wB,UAC5B,IAAI+wB,EAAU/jB,EAAE3D,WAEhB,GAAI0nB,EAAS,CAGX,IAFA,IAAInoB,EAAS,CAACmoB,EAAQ,IAEb5wB,EAAI,EAAGA,EAAI4wB,EAAQ7vB,OAAQf,IAClCyI,EAAOzI,GAAK4wB,EAAQ5wB,GAChByI,EAAOzI,GAAGkJ,aAAYT,EAAOzI,GAAKyI,EAAOzI,GAAG0B,MAAK,EAAI+G,EAAOzI,GAAGkF,OAC/DuD,EAAOzI,GAAGH,WAAa4I,EAAOzI,GAAGH,UAAUqF,OAAMyoB,GAAGllB,EAAOzI,GAAGH,UAAUqF,MAAQuD,EAAOzI,IAI7F,GADA2tB,GAAGgD,GAAY1xB,EAAQ4xB,MAAM3oB,OAAM,EAAIO,GACnCoE,EAAEwf,iBAAkB,IAAK,IAAIzc,EAAM,EAAGA,EAAM/C,EAAEwf,iBAAiBtrB,OAAQ6O,IACzEwc,GAAKuB,GAAGgD,GAAW9jB,EAAEwf,iBAAiBzc,IAExC/C,EAAI+jB,EAAU,KAGhB,OAAY,GAARtxB,KAAmB,IAAIquB,GAAGgD,GAAUnsB,GAAkBmpB,GAAGgD,IAI/D,OADA9jB,EAAE3D,WAAajJ,MAAMJ,UAAU8oB,MAAMjnB,KAAKkE,UAAW,GAC9C+nB,GAAGgD,GAAY9jB,GAGxB5N,EAAQ4xB,MAAQ,WACd,IAAID,EAAUhrB,UACVkrB,EAAcF,EAAQ,GACtBG,IAAoBD,EAAYxnB,MAChC0nB,EAAY,GAChB5rB,EAAO0rB,EAAa,yBAEpB,IAAK,IAAIG,EAAIL,EAAQ7vB,OAAS,EAAGkwB,EAAI,EAAGA,IAAK,CAK3C,GAJA7rB,EAAOwrB,EAAQK,GAAI,yBACM,mBAAdL,EAAQK,KAAkBL,EAAQK,GAAKL,EAAQK,GAAGpxB,WACzD+wB,EAAQK,GAAG3nB,OAAO0nB,EAAUnwB,KAAK+vB,EAAQK,GAAG3nB,OAE5CsnB,EAAQK,GAAG5nB,SAAU,CACvB,IAAIA,EAAWunB,EAAQK,GAAG5nB,SAG1B,IAAK,IAAI6nB,KAFJJ,EAAYznB,WAAUynB,EAAYznB,SAAW,IAElCA,EACVf,EAAYwoB,EAAYznB,SAAS6nB,MAAOJ,EAAYznB,SAAS6nB,GAAO7nB,EAAS6nB,IAIrF,GAAIN,EAAQK,GAAGrtB,MAAQktB,EAAYltB,KACjC,IAAK,IAAIutB,KAAQP,EAAQK,GAAGrtB,KACrBktB,EAAYltB,KAAKutB,KAAOL,EAAYltB,KAAKutB,GAAQP,EAAQK,GAAGrtB,KAAKutB,IAI1E,IAAK,IAAIxgB,KAAOigB,EAAQK,GACjBH,EAAYngB,KAA6B,IAArBmgB,EAAYngB,KAAgBmgB,EAAYngB,GAAOigB,EAAQK,GAAGtgB,IAInFogB,GAAiBC,EAAUnwB,KAAKiwB,EAAYxnB,OAEhDwnB,EAAYxnB,MAAQ,WAClB,IAAK,IAAItJ,EAAI,EAAGA,EAAIgxB,EAAUjwB,OAAQf,IACpCgxB,EAAUhxB,GAAGkI,MAAM5I,KAAMsG,YAIzBkrB,EAAYM,OAAON,EAAYM,QAEnC,IAAInmB,EAAS,SAAU1E,GACrBjH,KAAKslB,OAAS,GACdxf,EAAO9F,KAAKgK,MAAO,8BACnBhK,KAAKgK,MAAM/C,GACPjH,KAAK+xB,gBAAgB/xB,KAAK+xB,eAAe9qB,EAAQjH,KAAK+J,UAE1D,IAAK,IAAIrJ,EAAI,EAAGA,EAAIV,KAAKslB,OAAO7jB,OAAQf,IACtCV,KAAKslB,OAAO5kB,GAAG0B,KAAKpC,OAMxB,OAFA2L,EAAOpL,UAAYixB,EACnBA,EAAcF,EAAU,KACjB3lB,GAGTkB,EAAY,WAAW,SAAU9H,GAC/B,IAAIitB,EAAUnD,GAAG9pB,GAEjB,GAAIitB,GAAWA,EAAQC,UAAW,CAChCpsB,EAAI,aAAaqsB,aAAaF,GAE9BA,EAAQG,QAAQptB,GAEhB,IAAI4T,EAAM5T,EAAE+C,OACZ,GAAIkqB,EAAQ/qB,OAAO4Z,SAAU,OAC7B,IAAIvF,EAAM,GACV,GAAI3C,EAAIR,WAAgE,IAAnDQ,EAAIR,UAAUhW,WAAWwK,QAAQ,cAAqB,WACvEqlB,GAASnsB,EAAI,aAAausB,cAAcJ,GAErCrZ,GAAOA,EAAIN,YAAY,CAC5B,GAAIM,EAAI3J,aAAc,CACpB,GAAI2J,EAAI3J,aAER,WAAY,MAGZ,GAFAsM,EAAM3C,EAAIR,UAED,CACPmD,EAAMA,EAAInZ,WAAW0N,MAAM,KAE3B,IAAK,IAAInP,EAAI,EAAGA,EAAI4a,EAAI7Z,OAAQf,IAC9B,GAAIsxB,EAAQK,SAAS/W,EAAI5a,IAAK,CAE5B,IAAY,IADFsxB,EAAQK,SAAS/W,EAAI5a,IAAI0B,KAAK4vB,EAASjtB,EAAGitB,EAAQ5kB,UAAUlG,GAAIyR,GACvD,SAM3BA,EAAMA,EAAIN,WAGZ,GAAI2Z,EAAQ5kB,UAAUiP,MAAO,CAC3B,IAAIvT,EAAO0B,EAAUwnB,EAAQ5kB,UAAUiP,MAAO2V,EAAQvlB,QAClD3D,GAAQA,EAAK1G,MAAM0G,EAAK1G,KAAK4vB,EAASA,EAAQ5kB,UAAUlG,GAAInC,GAGlE,IAAIutB,EAAQN,EAAQ5kB,UAAUklB,OAE1BA,GAAUN,EAAQ5kB,UAAUmlB,UAAaxtB,EAAEytB,iBACvB,UAAlBvyB,EAAQqyB,IAAuBA,EAAM1sB,OACvC0sB,EAAQN,EAAQ5kB,UAAUklB,MAAQjE,GAAGiE,GAAOllB,UAAUlG,GAEtD8qB,EAAQxB,iBAAiBjvB,KAAKstB,GAAGyD,KAInCxsB,EADAwsB,EAAQzD,GAAGyD,GACG,iBAETA,EAAMtI,cACTsI,EAAMllB,UAAUhC,OAAS4mB,EAAQ5kB,UAAUlG,GAC3CorB,EAAMG,KAAKT,EAAQU,gBAAkBV,EAAQG,UAAW,MAAM,KAIlEH,EAAQllB,UAAU,cAAe,CAACklB,EAAQ5kB,UAAUlG,GAAInC,QAKtDvC,OAAO8I,oBAAqB,CAC9B,IAAIqnB,GAAMnwB,OAAO8I,oBAAoB,CACnCimB,MAAO5xB,EAAQ4xB,MACfJ,QAASxxB,EAAQwxB,UAEnBxxB,EAAQ4xB,MAAQoB,GAAIpB,MACpB5xB,EAAQwxB,QAAUwB,GAAIxB,QAI1B,IAAIyB,GAAiB,CACnBC,iBAAkBloB,EAAU,CAAC,UAC7BmoB,eAAgB,EAChBC,UAAU,EACV3pB,MAAO,IACP4pB,WAAY,SAAUlrB,EAAQb,GAC5B,IAEIoD,EAAM4oB,EAFNrN,EAAQ5lB,KAIZ8F,EADAgC,EAASsC,EAAOtC,GACD,wBAEXA,aAAkBorB,SACpB7oB,EAAOvC,EACe,iBAAXb,EAAqBoD,EAAKoN,aAAa,gBAAiBxQ,GAAagsB,EAAOhsB,IAEvFoD,EAAOvC,EAAO+iB,MACdoI,EAAOnrB,GAGTmrB,EAAOA,GAAQjzB,KAEf,IAAImzB,EAAWnzB,KAAK6yB,iBAAiB3nB,KAAK+nB,IAEzB,IAAbE,IACFA,EAAWnzB,KAAK6yB,iBAAiBpxB,OAEjCzB,KAAK6yB,iBAAiBtxB,KAAK0xB,IAG7B5oB,EAAK+oB,cAAgBD,EACrBnzB,KAAK8yB,iBAEA9yB,KAAKqzB,WACRrzB,KAAKqzB,SAAW,IAAIhF,GAAGiF,QAAQ,IAC/BtzB,KAAKqzB,SAASE,UAAY,qCAC1BvzB,KAAKwzB,kBAAoB/G,GAAQniB,SAAU,eAAe,SAAUvF,GAClE,OAAO6gB,EAAM6N,cAAc1uB,MAE7B/E,KAAK0zB,kBAAoBjH,GAAQniB,SAAU,gBAAgB,WACzD,OAAOsb,EAAM+N,mBAEf3zB,KAAK4zB,YAAc/mB,EAAY,cAAc,WAC3C,OAAO+Y,EAAM+N,mBAEf3zB,KAAK6zB,aAAehnB,EAAY,WAAW,WACzC,OAAO+Y,EAAM+N,qBAInBG,WAAY,WACV,OAAO9zB,KAAKqzB,UAEdI,cAAe,SAAU1uB,GACvB,GAAsB,UAAlBA,EAAEgvB,YAAN,KACA,IAAIjmB,EAAI,GACJzD,EAAOtF,EAAE+C,OAENuC,aAAgB6oB,SAA2B,QAAhB7oB,EAAKmG,SAAmB,CAExD,IAAK1C,EAAEkmB,QAAUlmB,EAAEilB,SAAU,CAC3B,IAAI5sB,EAAOkE,EAAK2E,aAAa,iBAC7BlB,EAAEkmB,MAAQlmB,EAAEkmB,OAAS7tB,EACjBA,GAAQkE,EAAK4pB,YAAc5pB,EAAK6pB,cAAapmB,EAAEilB,SAAW5sB,GAIhE,GAAInG,KAAK6yB,iBAAiBxoB,EAAK+oB,eAC7B,OAAIpzB,KAAKm0B,OAASn0B,KAAKm0B,OAAS9pB,GAC9BrK,KAAKo0B,YAAYp0B,KAAKm0B,MAAO9pB,EAAMtF,QACnC/E,KAAKm0B,MAAQ,QAIVn0B,KAAKm0B,QAAOn0B,KAAKm0B,MAAQn0B,KAAKq0B,WAAWhqB,EAAMtF,IAC7C/E,KAAKs0B,aAAajqB,EAAMtF,EAAG+I,IAGpCzD,EAAOA,EAAKkqB,cAGVv0B,KAAKm0B,QAAOn0B,KAAKm0B,MAAQn0B,KAAKo0B,YAAYp0B,KAAKm0B,MAAO,KAAMpvB,MAElE4uB,cAAe,WACba,aAAax0B,KAAKy0B,oBAElBz0B,KAAKqzB,SAASqB,QAEhBC,UAAW,SAAUpnB,GACnB,OAAOvN,KAAK6yB,iBAAiBtlB,EAAE6lB,gBAEjCwB,cAAe,SAAU9sB,GACvB,IAAIuC,EACJvE,EAAOgC,EAAQ,wBAGf,IAAI+sB,GAD2BxqB,GAD/BvC,EAASsC,EAAOtC,cACMorB,QAAgBprB,EAAmBA,EAAO+iB,OACjDuI,cAEXyB,IACE70B,KAAKm0B,OAAS9pB,IAChBrK,KAAK2zB,gBAEL3zB,KAAKm0B,MAAQ,aAGR9pB,EAAK+oB,cACZpzB,KAAK8yB,iBACL9yB,KAAK6yB,iBAAiBgC,GAAO,OAG1B70B,KAAK8yB,gBAAkB9yB,KAAKqzB,WAE/BrzB,KAAKwzB,kBAAoBlH,GAAYtsB,KAAKwzB,mBAC1CxzB,KAAK0zB,kBAAoBpH,GAAYtsB,KAAK0zB,mBAC1C1zB,KAAK4zB,YAAcpmB,EAAYxN,KAAK4zB,aACpC5zB,KAAK6zB,aAAermB,EAAYxN,KAAK6zB,cAErC7zB,KAAKqzB,SAAS3D,aAEd1vB,KAAKqzB,SAAWrzB,KAAKm0B,MAAQ,KAC7Bn0B,KAAK6yB,iBAAmBloB,EAAU,CAAC,YAGvC0pB,WAAY,SAAU9mB,EAAGxI,GACvB,IAAI+vB,EAAI90B,KAAK6yB,iBAAiBtlB,EAAE6lB,eAChC,OAAI0B,EAAET,YAAcS,GAAK90B,KAAa80B,EAAET,WAAW9mB,EAAGxI,IAEtD/E,KAAKqzB,SAASxzB,OAAO,CACnBk1B,GAAI,GACJC,GAAI,EACJnL,SAAU,GACVvO,IAAK,KAGA/N,IAET6mB,YAAa,SAAU7mB,EAAGkW,EAAG1e,GAC3B,IAAI+vB,EAAI90B,KAAK6yB,iBAAiBtlB,EAAE6lB,eAChC,OAAI0B,EAAEV,aAAeU,GAAK90B,KAAa80B,EAAEV,YAAY7mB,EAAGkW,EAAG1e,IAE3D/E,KAAK2zB,gBAEE,OAETW,aAAc,SAAU/mB,EAAGxI,EAAG+I,GAC5B,IAAIgnB,EAAI90B,KAAK6yB,iBAAiBtlB,EAAE6lB,eAChC,GAAI0B,EAAER,cAAgBQ,GAAK90B,KAAM,OAAO80B,EAAER,aAAa/mB,EAAGxI,EAAG+I,GAC7D,IAAIilB,EAAW/pB,EAAY8rB,EAAE/B,UAAY/yB,KAAK+yB,SAAW+B,EAAE/B,SACvDkC,EAAOjsB,EAAY8rB,EAAE1rB,OAASpJ,KAAKoJ,MAAQ0rB,EAAE1rB,MAC7CjD,EAAO4sB,EAAWjlB,EAAEilB,SAAWjlB,EAAEkmB,MACjCiB,EAAO,GAAGj1B,KAAK2zB,gBACnB3zB,KAAKy0B,mBAAqBvrB,EAAMlJ,KAAKqzB,SAASZ,KAAMzyB,KAAKqzB,SAAU,CAACltB,GAAQ,GAAIiU,GAAIrV,IAAKkwB,cAIpFC,GAAKtvB,GACZ,MAAO,IAAMA,GAAQuvB,GAAWvvB,IAASuvB,GAAWvvB,IAAS,GAAK,GAEpE,IAAIuvB,GAAa,GACb1H,IAAiB,WACZ2H,GAAOjxB,EAASkxB,GACvB5H,IAAiB,EACjB,IAAIne,EAAMnL,IAaV,OAXImL,GAAOA,EAAIjM,KACbiM,EAAMA,EAAIjM,MAAK,SAAUiyB,GAGvB,OAFA7H,IAAiB,GACD,IAAZ4H,GAAmBE,KAChBD,MAGT7H,IAAiB,GACD,IAAZ4H,GAAmBE,MAGlBjmB,WAEAimB,KAIP,GAHA1vB,EAAI,aAAaqsB,eACjBplB,EAAU,UAAW,IACrBogB,GAAMsI,eAAgB,GACjB/H,GAAgB,IAAK,IAAI/sB,EAAIwsB,GAAMC,UAAU1rB,OAAS,EAAGf,GAAK,EAAGA,IAChEwsB,GAAMC,UAAUzsB,GAAGL,KAAK6sB,GAAMC,UAAUzsB,GAAGL,IAAIo1B,SAErDvI,GAAMsI,eAAgB,WAEfE,GAAM/nB,EAAQgoB,EAAOvqB,EAAQwqB,GACpC,GAAIjoB,EAGF,IAFA,IAAIkoB,EAAWD,EAAU,CAACjoB,GAAUA,EAAO+gB,gBAElChuB,EAAI,EAAGA,EAAIm1B,EAASp0B,OAAQf,KACK,IAApCi1B,EAAMvzB,KAAKgJ,EAAQyqB,EAASn1B,KAAeg1B,GAAMG,EAASn1B,GAAIi1B,EAAOvqB,YAItE0qB,GAAOzY,GACd,OAAKrU,EAAYqU,GAKViB,GAAIyX,cAJTzX,GAAIyX,WAAarc,KAAKgC,IAAI4C,GAAIyX,WAAY1Y,EAAQ,GAC3CA,YAcF2Y,GAAMltB,GACTmtB,GAAQntB,EAAK1G,OAAY8zB,GAAY30B,KAAKuH,GAVhD2jB,GAAQjqB,OAAQ,UAAU,WAEpB8b,GAAIa,OAAU+N,GAAMS,aAAe,IAAInlB,KAAS0kB,GAAMS,YAAc,KAGtE4H,QAQJ,IAAIU,IAAS,EACTC,GAAc,GAEdC,GAAO7rB,SAAS4D,qBAAqB,UAEzCpI,EAAOqwB,GAAK10B,OAAQ,yBAEhB00B,GAAK10B,UAEP00B,IAAQA,GAAKA,GAAK10B,OAAS,GAAGuN,aAAa,QAAU,IAAIa,MAAM,MAE1D7E,OAAOmrB,GAAK10B,OAAS,EAAG,GAC7B6c,GAAI8X,SAAWD,GAAK9M,MAAM,EAAG8M,GAAK10B,QAAQ4F,KAAK,KAAO,KAGxD,IAAIgvB,GAAU,WACR/X,GAAIe,OAAM/U,SAASyO,KAAKZ,WAAa,aACzCrL,EAAU,UAAW,KAGnBwpB,GAAO,WACTL,IAAS,EAGLzzB,OAAO+zB,aAAeluB,EAAQkuB,eAAcL,GAAcK,YAAYC,OAAON,KAEjF,IAAK,IAAIx1B,EAAI,EAAGA,EAAIw1B,GAAYz0B,OAAQf,IACtCw1B,GAAYx1B,GAAG0B,OAGjB8zB,GAAc,IAGhBrpB,EAAY,WAAW,SAAUlD,GAC3BA,EAAO2sB,KAAYptB,EAAMotB,OAEJ,YAAvBhsB,SAASyI,WAA0BsjB,KAAe5J,GAAQjqB,OAAQ,OAAQ6zB,IAC9EL,IAAM,WACJvJ,GAAQniB,SAASyO,KAAM,SAAS,SAAUhU,GACxC+H,EAAU,UAAW,CAAC/H,UAI1B,IAAI0xB,GAAQ,CACVC,QAAS,SAAUl1B,GACjB,MAAM,6BAA8BuE,MAAMvE,GAAS,IAAIW,aAEzDw0B,SAAU,SAAUn1B,GAClB,OAAOypB,WAAWzpB,IAAUA,GAE9Bo1B,UAAW,SAAUp1B,GACnB,QAASA,GAAmB,MAAVA,GAEpBq1B,WAAY,SAAUr1B,GACpB,OAAiB,IAAVA,GAAeA,aAIjBs1B,GAAS7vB,EAAQ0E,GAExB,IAAqC,GAAjC1E,EAAO3C,KAAKqI,QAAQ,UACtB,IAAe,IAAXhB,EACF1E,EAAO8vB,SAAS/yB,aACX,CACL,IAAIgzB,EAAW/vB,EAAOgwB,KAAKC,cAAc,sBAErCC,EAASH,EAASE,cAAc,SAEpC,GAAIjwB,EAAOmwB,MAAMC,WAAaF,EAAO31B,MAGnC,OAFAyF,EAAOmwB,MAAME,SAAU,OACvBpc,GAAO8b,EAAU,uBAGjBrrB,EAASwrB,EAAO31B,OAAS,GAEzByF,EAAO8vB,SAAShzB,QAAQ4H,IAKI,GAAlC1E,EAAO3C,KAAKqI,QAAQ,aAA+B,IAAXhB,EAAmB1E,EAAO8vB,SAAS/yB,SAAWiD,EAAO8vB,SAAShzB,QAAQ4H,GAC9G,IAAI4rB,EAAWtwB,EAAO0Z,SAClB4W,GAAUA,EAAS5rB,EAAQ1E,EAAOZ,SACtCmxB,GAAS9C,KAAKztB,EAAOC,aAGduwB,GAAU1yB,GACjB,IAAI2yB,EAAQF,GAASE,MACjB/lB,EAAQ+lB,EAAMj2B,OACdwD,EAASF,EAAE+C,OAEf,GAAI6J,EAAQ,GAAKgmB,GAAQC,SAAU,CACjC,IAEIC,EAFA/uB,EAAO/D,EAAE+yB,OAAS/yB,EAAEgzB,QACxB,GAAY,IAARjvB,GAAsB,IAARA,GAAsB,IAARA,EAAY,OAG5C,IAAK,IAAIpI,EAAIiR,EAAQ,EAAGjR,GAAK,EAAGA,IAAK,CACnC,IAAImX,EAAM2f,GAASpN,KAAKsN,EAAMh3B,IAC9B,GAAImX,EAAIof,MAAQhyB,GAAU4S,EAAIof,KAAKe,SAAS/yB,IAAmB,IAAR6D,EACrD,OAEF,GAAI+O,EAAI2W,WAAa3W,EAAI2W,UAAUwJ,SAAS/yB,GAAS,CACnD4yB,EAAYhgB,EACZ,OAOJ,OAHKggB,IAAWA,EAAYL,GAASpN,KAAKsN,EAAMA,EAAMj2B,OAAS,KACnD,IAARqH,GAAsB,IAARA,EAAYguB,GAASe,GAAW,GAAuB,IAAR/uB,GAAYguB,GAASe,GAAW,GACjGrd,GAAazV,GACJA,EAAEkzB,cAAe,GAAnB,YAQFC,GAASpmB,EAAM0c,GACtB,IACI2J,EADA9tB,EAAOmkB,GAAalkB,SAASyO,KAGjC,GAAI/P,EAAYqB,EAAK+tB,UAAW,CAO9B,IANAD,EAAQrgB,GAAO,MAAO,CACpB0D,MAAS,oBACThE,MAAO,aAAegX,EAAY,WAAa,SAAW,OAEtD6J,UAAYZ,GAEdjJ,EAAW,CACb,IAAI0B,EAAW1tB,OAAO81B,iBAAiB9J,GAAW0B,SAClC,SAAZA,GAAmC,YAAZA,GAAsC,UAAZA,GAAoC,YAAZA,IAAwB7lB,EAAKmN,MAAM0Y,SAAW,YAG7H7lB,EAAKqN,YAAYygB,GACjB9tB,EAAK+tB,SAAW,OACXtmB,EAAOzH,EAAK+tB,WAAa/tB,EAAK+tB,WAmBrC,OAhBItmB,GAA0B,IAAlBzH,EAAK+tB,UAAoC,IAAlB/tB,EAAK+tB,YACtCD,EAAQA,GAASx3B,MAAMJ,UAAU8oB,MAAMjnB,KAAKiI,EAAKkuB,iBAAiB,uBAAuBltB,QAAO,SAAU6S,GACxG,OAAOA,EAAG7F,YAAchO,KACvB,MAGIA,EAAK+tB,SAGkB,GAAjB/tB,EAAK+tB,WACdD,EAAM3gB,MAAMghB,QAAU,eACtBtd,GAAO7Q,EAAM,2BAJb8tB,EAAM3gB,MAAMghB,QAAU,OACtBpd,GAAU/Q,EAAM,2BAQf8tB,WAGAM,GAAOtyB,EAAMwF,EAAQwM,GAC5B,MAAO,+CAAiDhS,EAAO,+BAAiCgS,EAAY,IAAMA,EAAY,IAAM,aAAexM,EAAS,WAAaxF,EAAO,wBAOzKuyB,GAAKvyB,GACPwyB,GAAEC,OACLD,GAAEC,KAAOtuB,SAASkM,cAAc,OAChCmiB,GAAEC,KAAKzgB,UAAY,qBACnBwgB,GAAEC,KAAKphB,MAAMmhB,GAAEzI,UAAY,MAC3B5lB,SAASyO,KAAKrB,YAAYihB,GAAEC,OAG9BD,GAAEC,KAAKnhB,aAAa,OAAQ,SAC5BkhB,GAAEC,KAAKnhB,aAAa,eAAe,GACnCkhB,GAAEjE,KAAKvuB,EAAKe,IACZ,IAAIhB,EAAUoE,SAASkM,cAAc,OAiBrC,OAhBAtQ,EAAQuQ,UAAY,QAAUtQ,EAAKA,KAAO,SAC1CD,EAAQiS,UAAY,uBAAyBhS,EAAK7B,KAElD4B,EAAQ2yB,QAAU,WACZ1yB,GAAMwyB,GAAEjE,KAAKvuB,EAAKe,IACtBf,EAAO,MAGS,UAAdwyB,GAAEzI,UAAwByI,GAAEC,KAAKloB,WAAYioB,GAAEC,KAAKrgB,aAAarS,EAASyyB,GAAEC,KAAKloB,YAAiBioB,GAAEC,KAAKlhB,YAAYxR,GACrHC,EAAKC,OAAS,IAAGuyB,GAAEG,OAAO3yB,EAAKe,IAAM1E,OAAOS,YAAW,WACzD01B,GAAEjE,KAAKvuB,EAAKe,MACXf,EAAKC,SAERF,EAAQsR,MAAMsC,OAAS5T,EAAQ6T,aAAe,EAAI,KAClD4e,GAAEvO,KAAKjkB,EAAKe,IAAMhB,EAClBA,EAAU,KACHC,EAAKe,YAGL6xB,GAAc9xB,EAAQ+xB,EAAIC,EAAQC,GACzC,IAAIrhB,EAAMvN,SAASkM,cAAc,OAC7B8E,EAAMrU,EAAOqU,IAAM,IAAMrU,EAAOqU,IAAM,GAC1CzD,EAAIM,UAAY,yBAA2BlR,EAAO3C,KAAOgX,EACzDzD,EAAIJ,aAAa,WAAY,GAC7BI,EAAIJ,aAAa,OAAQ,eACzBI,EAAIJ,aAAa,aAAcxQ,EAAOkyB,OAAS,IAC/CthB,EAAIJ,aAAa,WAAY,KAC7B,IAAI+U,EAAQ,GAUZ,GATIvlB,EAAO2S,QAAO/B,EAAIL,MAAMoC,MAAQ3S,EAAO2S,OAAS6c,GAAME,SAAS1vB,EAAO2S,OAAS,KAAO,KACtF3S,EAAO6S,SAAQjC,EAAIL,MAAMsC,OAAS7S,EAAO6S,QAAU2c,GAAME,SAAS1vB,EAAO6S,QAAU,KAAO,KAC1F7S,EAAOkyB,QAAO3M,GAAS,kCAAsCvlB,EAAOkyB,MAAQ,UAChF3M,GAAS,gCAAmC0M,EAAW,qBAAuB,IAAM,YAAejyB,EAAOiW,QAAU,GAAKjW,EAAOd,MAAQ,IAAM,gBAC9IqmB,GAAS,sCACL0M,IAAU1M,YAjDDvlB,GACb,MAAO,4DAA8DA,EAAOowB,SAAW,kBAAoB,IAAM,mBAAqBhP,GAASU,OAAO9hB,EAAOzF,OAAS,IAAM,kBAAoB6mB,GAASU,OAAO9hB,EAAOmyB,aAAe,IAAM,mBAgDrNC,CAAMpyB,EAAOmwB,QAChC6B,IAAQzM,GAASiM,GAAOxxB,EAAOgyB,QAAU1tB,EAAKrF,QAAQ+yB,QAAQ,IAC9DD,IAAIxM,GAASiM,GAAOxxB,EAAO+xB,IAAMztB,EAAKrF,QAAQ8yB,IAAI,EAAM,YAExD/xB,EAAOqyB,UAAYN,IAAOC,EAC5B,IAAK,IAAIv4B,EAAI,EAAGA,EAAIuG,EAAOqyB,QAAQ73B,OAAQf,IACzC8rB,GAASiM,GAAOxxB,EAAOqyB,QAAQ54B,GAAIA,GAOvC,GAHA8rB,GAAS,SACT3U,EAAIpB,UAAY+V,EAEZvlB,EAAOiW,QAAS,CAClB,IAAI7S,EAAOpD,EAAOiW,QACC,iBAAR7S,IAAkBA,EAAOC,SAASC,eAAeF,IAClC,QAAtBA,EAAKmN,MAAMghB,UAAmBnuB,EAAKmN,MAAMghB,QAAU,IACvD3gB,EAAIxH,WAAWpJ,EAAOkyB,MAAQ,EAAI,GAAGzhB,YAAYrN,GAGnD,IAAqC,GAAjCpD,EAAO3C,KAAKqI,QAAQ,UAAiB,CACvC,IAAIqqB,EAAWnf,EAAIqf,cAAc,sBAEnBF,EAASE,cAAc,SAE7BqC,QAAU,WACZtyB,EAAOmwB,MAAME,UACflc,GAAU4b,EAAU,uBACpB/vB,EAAOmwB,MAAME,SAAU,IAmB7B,OAdAzf,EAAIghB,QAAU,SAAU9zB,GACtB,IAAIE,EAASF,EAAE+C,OAGf,GAFK7C,EAAOkT,YAAWlT,EAASA,EAAOoT,aAEe,GAAlDpT,EAAOkT,UAAUxL,QAAQ,sBAA6B,CACxD,IAAIhB,EAAS1G,EAAO+J,aAAa,UAEjC8nB,GAAS7vB,EADT0E,EAAmB,QAAVA,GAA+B,SAAVA,GAA4BA,GAI5D5G,EAAEkzB,cAAe,GAGnBhxB,EAAOgwB,KAAOpf,EACPA,WAMA2hB,GAAWvyB,EAAQ+xB,EAAIC,EAAQC,GACtC,IAAIrhB,EAAM5Q,EAAOuJ,QAAUvJ,EAAS8xB,GAAc9xB,EAAQ+xB,EAAIC,EAAQC,GAClE1K,EAAYvnB,EAAOunB,UACnBiL,EAAiBjL,EAAYA,EAAU3U,YAAcrX,OAAOk3B,YAAcpvB,SAAS2D,gBAAgB4L,YACnG8f,EAAkBnL,EAAYA,EAAUzU,aAAevX,OAAOo3B,aAAetvB,SAAS2D,gBAAgB8L,aACtG8f,EAAgBrL,EAAYA,EAAUrV,WAAa,EACnD2gB,EAAetL,EAAYA,EAAUvV,UAAY,EACjDhS,EAAOunB,YAAW3W,EAAIL,MAAM0Y,SAAW,YAC3C9lB,GAAQnD,EAAOunB,WAAalkB,SAASyO,MAAMrB,YAAYG,IACvD,IAAIsgB,EAAQD,IAAS,EAAMjxB,EAAOunB,WAC9Bvc,EAAIhL,EAAOuS,MAAQE,KAAKyS,IAAI0N,EAAgBngB,KAAKqgB,OAAON,EAAiB5hB,EAAIgC,aAAe,IAC5FJ,EAAIxS,EAAOsS,KAAOG,KAAKyS,IAAI2N,EAAepgB,KAAKqgB,OAAOJ,EAAkB9hB,EAAIkC,cAAgB,IAmBhG,MAlBuB,OAAnB9S,EAAOipB,SAAmBrY,EAAIL,MAAM+B,IAAM,QAC5C1B,EAAIL,MAAM+B,IAAME,EAAI,KAEhB0e,IACFA,EAAM3gB,MAAM+B,IAAMugB,EAAe,KACjC3B,EAAM3gB,MAAMgC,KAAOqgB,EAAgB,OAGvChiB,EAAIL,MAAMgC,KAAOvH,EAAI,KAErB4F,EAAIwgB,UAAYZ,GACZyB,EAAUrhB,EAAIqf,cAAc,4BAA4Bta,QAAa/E,EAAI+E,QACxE3V,EAAOC,GAA0CswB,GAASpN,KAAKnjB,EAAOC,KACzEswB,GAAS9C,KAAKztB,EAAOC,IADPD,EAAOC,GAAKguB,GAAK,YAGjCsC,GAASE,MAAMn2B,KAAK0F,EAAOC,IAC3BswB,GAASpN,KAAKnjB,EAAOC,IAAMD,EAC3BA,EAAO8vB,SAAW5zB,EAASuC,QACpBuB,EAAO8vB,kBAGPiD,GAAW/yB,GAClB,OAAOuyB,GAAWvyB,GAAQ,YAGnBgzB,GAAahzB,GACpB,OAAOuyB,GAAWvyB,GAAQ,GAAM,YAGzBizB,GAASjzB,GAChB,OAAOuyB,GAAWvyB,YAGXkzB,GAAYlzB,GACnB,OAAOuyB,GAAWvyB,GAAQ,GAAM,GAAM,YAG/BmzB,GAAWj0B,EAAM7B,EAAMqc,GAc9B,MAbqB,UAAjB1gB,EAAQkG,KACS,mBAAR7B,IACTqc,EAAWrc,EACXA,EAAO,IAGT6B,EAAO,CACLA,KAAMA,EACN7B,KAAMA,EACNqc,SAAUA,IAIPxa,WAGAk0B,GAAOl0B,EAAM7B,EAAM8B,EAAQc,GASlC,MARqB,UAAjBjH,EAAQkG,KAAmBA,EAAO,CACpCA,KAAMA,EACN7B,KAAMA,EACN8B,OAAQA,EACRc,GAAIA,IAENf,EAAKe,GAAKf,EAAKe,IAAMguB,GAAK,WAC1B/uB,EAAKC,OAASD,EAAKC,QAAUuyB,GAAEvyB,OACxBD,WAQAm0B,KACP,IAAIn0B,EAAOi0B,GAAWxxB,MAAM5I,KAAMsG,WAElC,OADAH,EAAK7B,KAAO6B,EAAK7B,MAAQ,UAClB21B,GAAa9zB,YAEbqxB,KACP,IAAIrxB,EAAOi0B,GAAWxxB,MAAM5I,KAAMsG,WAElC,OADAH,EAAK7B,KAAO6B,EAAK7B,MAAQ,QAClB41B,GAAS/zB,YA4BTwxB,GAAQxxB,EAAM7B,EAAM8B,EAAQc,IAEnCf,EAAOk0B,GAAOzxB,MAAM5I,KAAMsG,YACrBhC,KAAO6B,EAAK7B,MAAQ,OACzB,IAAIi2B,EAAUp0B,EAAK7B,KAAKuL,MAAM,KAAK,GAEnC,OAAQ0qB,GACN,IAAK,QACH,OAAOP,GAAW7zB,GAEpB,IAAK,UACH,OAAO8zB,GAAa9zB,GAEtB,IAAK,WACH,OAAO+zB,GAAS/zB,GAElB,IAAK,SACH,OAAOg0B,GAAYh0B,WAGnB,OAAOuyB,GAAKvyB,IAjSlBsmB,GAAQniB,SAAU,UAAWmtB,GAAW,CACtC7K,SAAS,IAkJX4K,GAASpN,KAAO,GAChBoN,GAASE,MAAQ,GAsGjBF,GAAS9C,KAAO,SAAUxtB,GACxB,GAAIA,GAAMswB,GAASpN,KAAKljB,GAAK,CAC3B,IAAImD,EAAOmtB,GAASpN,KAAKljB,GAAI+vB,KAEzB5sB,IACFA,EAAKgO,WAAWC,YAAYjO,GAC5BmtB,GAASE,MAAM1sB,OAAOwsB,GAASE,MAAM/qB,QAAQzF,GAAK,GAClDgxB,IAAS,EAAOV,GAASpN,KAAKljB,GAAIsnB,kBAC3BgJ,GAASpN,KAAKljB,MAK3BswB,GAASgD,QAAU,WACjB,IAAK,IAAItzB,KAAMswB,GAASpN,KACtBpqB,KAAK00B,KAAKxtB,IA2Bd,IAAIyxB,GAAIhB,GACRgB,GAAEvyB,OAAS,IACXuyB,GAAEf,UAAW,EACbe,GAAEzI,SAAW,MACbyI,GAAEvO,KAAO,GACTuO,GAAEG,OAAS,GAEXH,GAAE6B,QAAU,WACV,IAAK,IAAInpB,KAAOsnB,GAAEvO,KAChBuO,GAAEjE,KAAKrjB,IAIXsnB,GAAEjE,KAAO,SAAUxtB,GACjB,IAAI7G,EAAMs4B,GAAEvO,KAAKljB,GAEb7G,GAAOA,EAAIgY,aACb7V,OAAOS,YAAW,WAChB5C,EAAIgY,WAAWC,YAAYjY,GAC3BA,EAAM,OACL,KAEHA,EAAImX,MAAMsC,OAAS,EACnBzZ,EAAI8X,WAAa,UACjBwgB,GAAEC,KAAK6B,gBAAgB,QACnB9B,GAAEG,OAAO5xB,IAAK1E,OAAOgyB,aAAamE,GAAEG,OAAO5xB,WACxCyxB,GAAEvO,KAAKljB,KAKlBrH,EAAO,UAAW83B,IAElB,IAAI+C,GAAa,CACfC,IAAK,SAAU3lB,EAAM/N,GACnBA,EAASA,GAAU,GACfjH,KAAKkxB,OAAOlxB,KAAK46B,OACjB/L,GAAG7Z,GAAOA,EAAO6Z,GAAG7Z,IACH,iBAARA,IAAkBA,EAAO1K,SAASC,eAAeyK,IACxDA,aAAgBke,UAASle,EAAO,CAClC6V,MAAO7V,EACP6lB,OAAO,IAET/0B,EAAOkP,EAAM,uCAEfhV,KAAKkxB,MAAQlc,EACbhV,KAAK86B,KAAO96B,KAAK+6B,eACjB,IAAIC,EAAahmB,EAAK/N,OAEtB,OAAI+N,EAAKqa,aACP2L,EAAW/K,YAAa,EACxBjb,EAAKygB,SACEzgB,IAEPhV,KAAKi7B,YAAc5M,GAAG,CACpBrZ,KAAM,SACNkmB,KAAMl7B,KAAKm7B,eAAel0B,GAC1BqU,IAAKrU,EAAOqU,KAAO,GACnB2U,YAAY,EACZmL,YAAY,EAEZriB,KAAM,CACJ0E,KAAM,MAGNud,IAAYh7B,KAAKq7B,OAAS,CAC5BzhB,MAAOohB,EAAWphB,MAClB0hB,SAAUN,EAAWM,SACrBC,SAAUP,EAAWO,SACrBzhB,OAAQkhB,EAAWlhB,OACnB0hB,UAAWR,EAAWQ,UACtBC,UAAWT,EAAWS,YAGpBzmB,EAAKma,eAAiBna,EAAKma,iBAC7BnvB,KAAK4vB,QAAU5a,EAAKma,gBAEhBnvB,KAAK4vB,QAAQvS,QACfrd,KAAK86B,KAAKzd,MAAQrd,KAAK4vB,QAAQvS,MAAMrI,GACrChV,KAAK86B,KAAKY,SAAS17B,KAAK4vB,QAAQ+L,aAAc37B,KAAK4vB,QAAQ+L,eAAiBX,EAAW9zB,MAGzFlH,KAAK4vB,QAAU5a,EAAK6V,MAAMxS,WAC1BrY,KAAK86B,KAAKzwB,KAAOyN,GAAO,OAExB9X,KAAK4vB,QAAQgM,aAAa57B,KAAK86B,KAAKzwB,KAAM2K,EAAK6V,QAGjD7qB,KAAKi7B,YAAYY,UAAUC,QAAQ9mB,EAAK6lB,MAAQ,CAC9C7lB,KAAM,WACNkI,QAASlI,EAAK6V,MACdvP,IAAK,yBACHtG,GAEJhV,KAAKi7B,YAAYxI,OAEjBzyB,KAAK+7B,UAAU/mB,GAERhV,KAAKi7B,cAGhBL,KAAM,WACJ,GAAI56B,KAAKkxB,MAAO,CACd,IAAI8J,EAAah7B,KAAKkxB,MAAMjqB,OAE5BjH,KAAK+6B,cAAa,GAEd/6B,KAAKkxB,MAAM7B,aACb2L,EAAW/K,YAAa,EAExBjwB,KAAKkxB,MAAMuE,WAEPz1B,KAAK4vB,mBAAmBsD,SAC1BlzB,KAAKkxB,MAAMxD,aAAe,KACtB1tB,KAAKkxB,MAAM8K,YAAYh8B,KAAKkxB,MAAM8K,WAAWh8B,KAAKkxB,MAAMjqB,QAE5DjH,KAAK4vB,QAAQgM,aAAa57B,KAAKkxB,MAAMrG,MAAO7qB,KAAK86B,KAAKzwB,OAEjDrB,EAAYhJ,KAAK86B,KAAKzd,QAKzBrd,KAAKkxB,MAAMxD,aAAe1tB,KAAK4vB,QAE/B5vB,KAAK4vB,QAAQD,SAAS3vB,KAAKkxB,SAN3BlxB,KAAK4vB,QAAQkM,QAAQ97B,KAAKkxB,MAAOlxB,KAAK86B,KAAKzd,OAEvCrd,KAAK86B,KAAKY,QAAQ17B,KAAKkxB,MAAMuB,MAAK,GAAO,IAQjDzyB,KAAK+7B,UAAU/7B,KAAKkxB,MAAOlxB,KAAKq7B,QAG3Br7B,KAAKkxB,MAAM2J,QAAO76B,KAAKi7B,YAAYY,UAAUI,OAAS,IAE3Dj8B,KAAKi7B,YAAYiB,SAGnBl8B,KAAKm8B,iBAGTA,aAAc,kBACLn8B,KAAK4vB,eACL5vB,KAAKkxB,aACLlxB,KAAKq7B,cACLr7B,KAAK86B,YACL96B,KAAKi7B,aAEdF,aAAc,SAAUqB,GACtB,IAAIxW,EAAQ5lB,KAERgV,EAAOhV,KAAKkxB,MACZmL,EAAY,GAEhB,GAAIrnB,EAAKqa,YACH+M,EAASpnB,EAAKqa,YAAYrvB,KAAK86B,KAAKthB,KAAMxZ,KAAK86B,KAAKvhB,MACtD8iB,EAAU7iB,KAAOxE,EAAK/N,OAAOuS,KAC7B6iB,EAAU9iB,IAAMvE,EAAK/N,OAAOsS,IAC5BvE,EAAKqa,YAAY,EAAG,QAEjB,CACL,IACI7X,EAAQxC,EAAK6V,MAAMrT,MADX,CAAC,WAAY,MAAO,SAAU,OAAQ,SAE5C8kB,SAAQ,SAAUllB,GAClBglB,EAAS5kB,EAAMJ,GAAQwO,EAAMkV,KAAK1jB,IACpCilB,EAAUjlB,GAAQI,EAAMJ,GACxBI,EAAMJ,GAAgB,YAARA,EAAqB,WAAa,MAKtD,OAAOilB,GAETN,UAAW,SAAU/mB,EAAM5N,GACpB4N,EAAK6lB,QACRzzB,EAAQA,GAAS,CACf0S,OAAQ,EACR0hB,UAAW,EACXC,UAAW,EACX7hB,MAAO,EACP0hB,SAAU,EACVC,SAAU,GAEZvmB,EAAKnV,OAAOuH,GACZ4N,EAAKygB,WAGT0F,eAAgB,SAAUl0B,GACxB,IAAI+e,EAAShmB,KAEb,OAAoB,IAAhBiH,EAAOi0B,MAA0C,UAAxBj7B,EAAQgH,EAAOi0B,MAA0Bj0B,EAAOi0B,KACpE,CACLtK,KAAM,CAAC,CACL/G,SAAU5iB,EAAOi0B,MAAQ,GACzB52B,KAAM,SACN82B,YAAY,GACX,CACDpmB,KAAM,OACNunB,KAAM,YACNlgB,MAAO,WACL2J,EAAO4U,aAQf4B,GAAY,CACdtL,MAAO,KACPuL,SAAU,GACV9O,YAAa,EACb+O,UAAW,CACTC,IAAO,SACPC,GAAM,UACNC,KAAQ,YACRrjB,KAAQ,YACRyS,MAAS,aACT6Q,OAAU,WACVC,KAAQ,SACRC,MAAS,IACTC,SAAY,IACZC,IAAO,IACPC,SAAY,IACZC,QAAW,IACXC,OAAU,IACVC,WAAc,QACd,aAAc,SAEhBC,QAAS,CACPnG,MAAS,EACToG,OAAU,EACVC,SAAY,EACZC,OAAU,GAEZC,QAAS,WAEPlR,GAAQniB,SAAU,UAAWtK,KAAK49B,UAAW,CAC3Cn1B,KAAMzI,OAERysB,GAAQniB,SAASyO,KAAM,QAAS/Y,KAAK69B,aAAc,CACjDjR,SAAS,EACTnkB,KAAMzI,OAERysB,GAAQniB,SAASyO,KAAM,QAAS/Y,KAAK89B,WAAY,CAC/ClR,SAAS,EACTnkB,KAAMzI,OAERktB,GAAMa,YAAYxsB,KAAK,CACrBlB,IAAKL,QAGT0vB,WAAY,WACV8M,GAAUtL,MAAQ,MAEpB6M,SAAU,WACR,OAAO/9B,KAAKkxB,OAEdkB,cAAe,SAAUpd,GACvBhV,KAAKg+B,iBAAmBh+B,KAAKg+B,kBAAoBhpB,EAAK5H,UAAUlG,IAElE+2B,SAAU,SAAUjpB,EAAMkpB,EAAUC,GASlC,OAPAnpB,EAAO6Z,GAAG7Z,MAEGA,EAAK6V,QAAO7V,EAAO,MAIhChV,KAAK2tB,YAAcT,GAAMS,YAAc,IAAInlB,KACvCxI,KAAKkxB,QAAUlc,IACfhV,KAAKkxB,OAASlxB,KAAKkxB,MAAMpkB,WAAW9M,KAAKkxB,MAAMpkB,UAAU,SAAU,CAAC9M,KAAKkxB,QAEzElc,GAAQA,EAAKlI,YACfkI,EAAKlI,UAAU,UAAW,CAACkI,EAAMhV,KAAKkxB,QAClCiN,GAAKnpB,EAAKlI,UAAU,aAAc,CAACkI,EAAMhV,KAAKkxB,SAGpDpkB,EAAU,gBAAiB,CAACkI,EAAMhV,KAAKkxB,QACnClxB,KAAKkxB,OAASlxB,KAAKkxB,MAAMkN,OAASF,GAAUl+B,KAAKkxB,MAAMkN,OAC3Dp+B,KAAKkxB,MAAQlc,EACTA,GAAQA,EAAK4H,QAAUshB,GAAUlpB,EAAK4H,UAXV,GAclCsV,aAAc,SAAUF,GACtB,IAAIhd,EAAOhV,KAAK+9B,WACZ/oB,GAAQA,GAAQgd,GAAWhd,EAAKqpB,eAAerpB,EAAKqpB,cAAcrM,IAExEsM,SAAU,SAAUtpB,GAClB,OAAOA,IAAShV,KAAKkxB,OAEvBqN,OAAQ,SAAUx5B,GAChB,IAAK,IAAIrE,EAAI,EAAGA,EAAI82B,GAASE,MAAMj2B,OAAQf,IACzC,GAAI82B,GAASpN,KAAKoN,GAASE,MAAMh3B,IAAIu2B,KAAKe,SAASjzB,EAAE+C,QAAS,OAGhE,IAAIkN,EAAO0D,GAAO3T,EAElB,YAAc/E,KAAKg+B,iBAOnB,OAJAhpB,EAAO6Z,GAAG7Z,GACVhV,KAAKg+B,iBAAmB,KAExB9Q,GAAMS,YAAc,IAAInlB,KACpBwM,GAAQhV,KAAKkxB,QAEblc,EACEhV,KAAKw+B,SAASxpB,GAEZhV,KAAKkxB,OAASlxB,KAAKkxB,MAAMuN,eAAiBzpB,GAAQhV,KAAKkxB,MAAMtU,MAAO5c,KAAKkxB,MAAMtU,SAE5D,SAAjB7X,EAAE+C,OAAOxD,MAAoD,SAAjCS,EAAE+C,OAAOkH,aAAa,SAAoBlC,EAAU,UAAW,CAAC/H,IAChG/E,KAAKi+B,SAASjpB,IAGTA,EAAK6V,MAAMmN,SAASjzB,EAAE+C,SAAS/C,EAAE+C,OAAOs2B,OAC5Cp+B,KAAKi+B,SAAS,QAZU,GAgBjCJ,aAAc,SAAU94B,GAEtB,OAAI,IAAIyD,KAASxI,KAAK2tB,YAAc,KAClC3tB,KAAKg+B,iBAAmB,MACjB,GAGFh+B,KAAKu+B,OAAOx5B,IAErB+4B,WAAY,SAAU/4B,GACpB,QAAK/E,KAAKu9B,QAAQx4B,EAAE+C,OAAOsH,SAAS5I,gBAC7BxG,KAAKu+B,OAAOx5B,IAErB25B,WAAY,SAAU1pB,GACpB,IAAIojB,EAAWlL,GAAMe,UACrB,OAAKmK,EAAS32B,UACJuT,EAAK2pB,WAAU,SAAU11B,GACjC,OAAQA,EAAEkmB,kBACT,WAAana,GACJ6V,MAAMrT,MAAMse,QAAU,IAAMpc,KAAKgC,IAAI9S,MAAM8Q,KAAM5X,EAAmBs2B,KAElFoG,SAAU,SAAUI,GAClB,QAAIt0B,SAASyO,KAAKqf,UAAYwG,EAAK/T,MAAMuN,UAAYwG,EAAKD,WAAU,SAAU3pB,GAC5E,OAAOA,EAAK6V,MAAMuN,WACjB,aAEIwG,EAAK5U,aAAe4U,EAAKC,cAAgBD,EAAK33B,OAAO4Z,UAAY7gB,KAAK0+B,WAAWE,KAAUA,EAAKD,UAAU,CAC/G9d,UAAU,GACT,YAELie,gBAAiB,SAAUC,GACzB,IAAIniB,EAAQ5c,KAAK+9B,WAEjB,GAAIgB,IAAe/+B,KAAKg/B,aAAaD,EAAYniB,GAAQ,OAAO,EAC3D5c,KAAKi/B,aAAa,UAAWF,KAAa/+B,KAAKkxB,MAAQ,OAE9D8N,aAAc,SAAUrxB,EAAQe,GAC9B,IAAKf,EAAQ,OAAO,EACpB,IAAKe,EAAO,OAAO,OAEZA,GAAO,CACZ,GAAIA,IAAUf,EAAQ,OAAO,EAC7Be,EAAQA,EAAMygB,gBAGhB,OAAO,GAET+P,gBAAiB,WACXl/B,MAAQA,KAAK8M,WAAW9M,KAAK8M,UAAU,kBAAmB,KAEhE8wB,UAAW,SAAU74B,GACnB,IAAI+D,EAAO/D,EAAE+yB,OAAS/yB,EAAEgzB,QAExB,GAAY,KAARjvB,GAAuB,GAARA,EAAnB,CAEIA,EAAO,IAAMA,EAAO,MAAKA,GAAQ,IACrC,IAAIkM,EAAOhV,KAAK+9B,WAWhB,OATI/oB,GAAQA,EAAKlI,aACiC,IAA5CkI,EAAKlI,UAAU,aAAc,CAAChE,EAAM/D,KAAeyV,GAAazV,GAEhEiQ,EAAKvH,SAAS,qBAChB+mB,aAAaxf,EAAKmqB,oBAClBnqB,EAAKmqB,mBAAqBj2B,EAAMlJ,KAAKk/B,gBAAiBlqB,EAAM,GAAIA,EAAK5H,UAAUgyB,iBAAmB,QAIvE,IAA3Bp/B,KAAKq/B,eAAet6B,IACtByV,GAAazV,IACN,QAFT,IAMFk6B,aAAc,SAAUK,EAAK1iB,GAC3B,IAAIvb,EAAOub,GAAS5c,KAAK+9B,WAEzB,GAAI18B,EAAM,CACRi+B,EAAMA,GAAO,cACb,IAAI5iB,EAAQrb,EACRk+B,EAASp1B,MAEA,CAIX,IAFA9I,EAAOrB,KAAKs/B,GAAKj+B,KAELrB,KAAKw+B,SAASn9B,GAAO,OAAOrB,KAAKi+B,SAAS58B,GAEtD,GAAIA,IAASqb,GAASrb,EAAKm+B,UAAYD,EAErC,OADI3iB,GAAOtS,SAASm1B,cAAcrB,OAC3B,KAIT/8B,EAAKm+B,SAAWD,KAItBG,WAAY,SAAU1qB,EAAMjQ,GAC1B,IAAI+M,GAAQ/M,EAAE46B,SACd,GAAI3qB,GAAQA,EAAK4qB,sBAAwB5qB,EAAK4qB,oBAAoB9tB,EAAM/M,GAAI,OAAO,EAEnF,GAAIiQ,GAAQA,EAAK6qB,cAAe,CAC9B,GAAI7qB,EAAK8qB,SAAU,OAAO9qB,EAAK8qB,SAAShuB,GAAW,GAAIkD,EAAK+qB,SAE1D,OADA/qB,EAAK+qB,YACE,OAEJ72B,GAAM,WAEX,IADA8L,EAAO6Z,GAAGvkB,SAASm1B,kBACNjD,GAAUgC,SAASxpB,GAAO,OAAOwnB,GAAUyC,aAAantB,EAAO,UAAY,UAAWkD,GACnGwnB,GAAUyB,SAASjpB,GAAM,GAAM,OAGnCgrB,OAAQ,SAAU94B,OAChB,IAAI7F,EACA2T,EAAO6Z,GAAG3nB,GAEP8N,IAAS3T,EAAO2T,EAAKma,kBAC1Bna,EAAO3T,EAGT,OAAO2T,GAETirB,QAAS,SAAUjrB,EAAMkrB,GACvB,IAAIxP,EAAQ1b,EAAK0Z,gBAEjB,GAAIgC,EAAMjvB,SAAWy+B,EAAa,IAAK,IAAIx/B,EAAI,EAAGA,EAAIgwB,EAAMjvB,OAAQf,IAClE,GAAIV,KAAKw+B,SAAS9N,EAAMhwB,IAAK,OAAOgwB,EAAMhwB,GAG5C,IAAIiN,EAASqH,EAAKma,gBAClB,IAAKxhB,EAAQ,OAAOqH,EACpB,IAAImrB,EAAUxyB,EAAO+gB,gBAErB,GAAIyR,EAAQ1+B,WACV,IAAI0xB,EAAWtpB,EAAaqB,KAAK9I,KAAK+9B,EAASnrB,GAAQ,EAEhDme,EAAWgN,EAAQ1+B,QAAQ,CAEhC,GAAIzB,KAAKw+B,SAAS2B,EAAQhN,IAAY,OAAOgN,EAAQhN,GACrDA,IAKJ,OAAOnzB,KAAKigC,QAAQtyB,GAAQ,IAE9ByyB,QAAS,SAAUprB,EAAMkrB,GACvB,IAAIxP,EAAQ1b,EAAK0Z,gBAEjB,GAAIgC,EAAMjvB,QAAUy+B,EAAa,IAAK,IAAIx/B,EAAIgwB,EAAMjvB,OAAS,EAAGf,GAAK,EAAGA,IACtE,GAAIV,KAAKw+B,SAAS9N,EAAMhwB,IAAK,OAAOV,KAAKogC,QAAQ1P,EAAMhwB,IAAI,GAE7D,GAAIw/B,GAAelgC,KAAKw+B,SAASxpB,GAAO,OAAOA,EAE/C,IAAIrH,EAASqH,EAAKma,gBAClB,IAAKxhB,EAAQ,OAAO3N,KAAKw+B,SAASxpB,GAAQhV,KAAKogC,QAAQprB,GAAM,GAAQA,EACrE,IAAImrB,EAAUxyB,EAAO+gB,gBAErB,GAAIyR,MACF,IAAIhN,EAAWtpB,EAAaqB,KAAK9I,KAAK+9B,EAASnrB,GAAQ,EAEhDme,GAAY,GAAG,CACpB,GAAInzB,KAAKw+B,SAAS2B,EAAQhN,IAAY,OAAOnzB,KAAKogC,QAAQD,EAAQhN,IAAW,GAC7EA,IAIJ,OAAOnzB,KAAKogC,QAAQzyB,GAAQ,IAE9B0yB,UAAW,SAAUC,EAAMn8B,EAAS6Q,GAClClP,EAAO3B,EAAS,kCAEhB,IAAI2E,EAAO9I,KAAKugC,YAAYD,GAU5B,OARKtrB,IAAMA,EAAO,MACbhV,KAAKy8B,SAAS3zB,KAAO9I,KAAKy8B,SAAS3zB,GAAQ,IAEhD9I,KAAKy8B,SAAS3zB,GAAMvH,KAAK,CACvB4C,QAASA,EACT6Q,KAAMA,IAGDsrB,GAETE,aAAc,SAAUF,EAAMG,EAAMzrB,GAClC,IAAIlM,EAAO9I,KAAKugC,YAAYD,GAE5B,GAAKG,GAASzrB,EAAsC,CAClD,IAAIzH,EAAIvN,KAAKy8B,SAAS3zB,GAEtB,GAAIyE,EAAG,CACL,IAAK,IAAI7M,EAAI6M,EAAE9L,OAAS,EAAGf,GAAK,EAAGA,IAC7BsU,GAAQzH,EAAE7M,GAAGsU,OAASA,GACtByrB,GAAQlzB,EAAE7M,GAAGyD,UAAYs8B,GAC7BlzB,EAAEvC,OAAOtK,EAAG,GAGT6M,EAAE9L,eAAezB,KAAKy8B,SAAS3zB,gBAVb9I,KAAKy8B,SAAS3zB,IAc3C43B,SAAU,SAAUrvB,EAAK4hB,EAAM0N,EAAOC,EAAKC,GAEzC,OAAQxvB,GAAO,IAAI7K,cAAgB,IAAM,CAAC,GAAIysB,EAAO,IAAM,IAAK0N,EAAQ,IAAM,IAAKC,EAAM,IAAM,IAAKC,EAAO,IAAM,KAAKx5B,KAAK,KAE7Hg4B,eAAgB,SAAUt6B,GACxB,IAAIgzB,EAAUhzB,EAAE+yB,OAAS/yB,EAAEgzB,QACvB+I,GAAU/7B,EAAEg8B,UAAYh8B,EAAEi8B,SAAWj8B,EAAEk8B,SAAsB,GAAXlJ,GAA2B,IAAXA,GAA4B,IAAXA,EAEnFjvB,EAAO9I,KAAK0gC,SAAS37B,EAAEsM,IAAKtM,EAAEg8B,QAASh8B,EAAE46B,SAAU56B,EAAEi8B,OAAQj8B,EAAEk8B,SAE/DrkB,EAAQ5c,KAAK+9B,WACjB,OAAI/9B,KAAKy8B,SAAS3zB,GAAc9I,KAAKkhC,eAAelhC,KAAKy8B,SAAS3zB,GAAO8T,EAAO7X,IAAY+7B,IAAU9gC,KAAKy8B,SAAmB,UAAUz8B,KAAKkhC,eAAelhC,KAAKy8B,SAAmB,SAAG7f,EAAO7X,IAGhMm8B,eAAgB,SAAU9f,EAAOxE,EAAO7X,GACtC,IAAK,IAAIrE,EAAI,EAAGA,EAAI0gB,EAAM3f,OAAQf,IAAK,CACrC,IAAI2Q,EAAM+P,EAAM1gB,GAChB,GAAiB,OAAb2Q,EAAI2D,MACR4H,IAAUvL,EAAI2D,MAEM,iBAAb3D,EAAI2D,MAAsB4H,GAASA,EAAMhX,OAASyL,EAAI2D,KAH7D,CAIA,IAAImsB,EAAc9vB,EAAIlN,QAAQyY,EAAO7X,GACrC,KAAMo8B,IAAgBA,EAAa,OAAOA,GAG5C,OAAO,GAETZ,YAAa,SAAUD,GACrB,IAEIrN,EAAM0N,EAAOC,EAAKC,EAFlBO,EAAWphC,KAAK08B,UAChBroB,EAAQisB,EAAK95B,cAAcqJ,MAAK,WAEpCojB,EAAO0N,EAAQC,EAAMC,EAAO,EAG5B,IAFA,IAAIQ,EAAS,GAEJ3gC,EAAI,EAAGA,EAAI2T,EAAM5S,OAAQf,IACf,SAAb2T,EAAM3T,GAAeuyB,EAAO,EAAwB,UAAb5e,EAAM3T,GAAgBigC,EAAQ,EAAwB,QAAbtsB,EAAM3T,GAAckgC,EAAM,EAAwB,YAAbvsB,EAAM3T,GAAkBmgC,EAAO,EACtJQ,EAASD,EAAS/sB,EAAM3T,KAAO2T,EAAM3T,GAIzC,OAAOV,KAAK0gC,SAASW,EAAQpO,EAAM0N,EAAOC,EAAKC,IAEjDS,SAAU,SAAUj3B,EAAMwrB,GACxBA,EAAWA,IAAY,EAEvB,IAAI0L,EAAW,CACbr6B,IAFFmD,EAAOwkB,GAAGxkB,IAECpD,OAAOC,GAChB0S,MAAOvP,EAAKpD,OAAO2S,MACnBE,OAAQzP,EAAKpD,OAAO6S,OACpB0nB,QAASn3B,EAAKpD,OAAOu6B,SAKvB,GAHKx4B,EAAYqB,EAAKpD,OAAOw6B,aAAYF,EAASE,UAAYp3B,EAAKpD,OAAOw6B,WACxD,SAAdp3B,EAAKzE,MAAiC,WAAdyE,EAAKzE,OAAmB27B,EAASG,WAAar3B,EAAK+N,YAE3Eyd,IACF0L,EAAW,CAACA,GAERl3B,EAAK4xB,QACP,IAAK,IAAIv7B,EAAI,EAAGA,EAAI2J,EAAK4xB,OAAOx6B,OAAQf,IACtC6gC,EAAWA,EAAS/K,OAAOx2B,KAAKshC,SAASj3B,EAAK4xB,OAAOv7B,GAAIm1B,IAK/D,OAAO0L,GAETI,SAAU,SAAUC,GACbv5B,EAAQu5B,KAASA,EAAS,CAACA,IAEhC,IAAK,IAAIlhC,EAAI,EAAGA,EAAIkhC,EAAOngC,OAAQf,IAAK,CACtC,IAAI6gC,EAAWK,EAAOlhC,GAClB2J,EAAOwkB,GAAG0S,EAASr6B,IAClBmD,IACArB,EAAYu4B,EAASE,YAAYp3B,EAAKxK,OAAO,YAAa0hC,EAASE,WACnEz4B,EAAYu4B,EAASG,aAAar3B,EAAKw3B,SAASN,EAASG,WAAY,QAC1Er3B,EAAKxK,OAAO,QAAS0hC,EAAS3nB,OAC9BvP,EAAKxK,OAAO,SAAU0hC,EAASznB,QAC/BzP,EAAKxK,OAAO,UAAW0hC,EAASC,UAGlC,IAAIjoB,EAAMsV,GAAG+S,EAAO,GAAG16B,IACnBqS,GAAKA,EAAIkc,WAGjBO,IAAM,WACJwG,GAAUmB,UAEVnB,GAAU6D,UAAU,SAAS,SAAUrrB,EAAMiF,GAG3C,GAFIjF,GAAQA,EAAKlI,WAAWkI,EAAKlI,UAAU,UAAW,CAACmN,IAEnDjF,GAAQA,EAAK+qB,UAAY/qB,EAAK6qB,cAEhC,OADA7qB,EAAK+qB,YACE,EACF,GAAI/qB,GAAQA,EAAKid,UAAW,CACjC,IAAI6P,EAAO9sB,EAAKypB,cACZqD,IAAS9sB,EAAK+sB,aAAaD,EAAKh1B,UAAU,WAAY,CAACkI,EAAMiF,QAGrEuiB,GAAU6D,UAAU,OAAO,SAAUrrB,GACnC,GAAIA,EAAM,CACR,GAAIA,EAAKgtB,YAAchtB,EAAK6qB,cAE1B,OADA7qB,EAAKgtB,cACE,EAGT,IAAIzoB,EAAMvE,EAAKitB,mBAEX1oB,GAAOA,EAAI8V,cACTqL,GAAWO,aAAe1hB,GAAKmhB,GAAWE,OAE9CrhB,EAAI2oB,aAIV1F,GAAU6D,UAAU,YAAa7D,GAAUkD,YAC3ClD,GAAU6D,UAAU,MAAO7D,GAAUkD,eAEvC7/B,EAAO,YAAa28B,IAEpB,IAAI2F,GAAW,CACbn4B,MAAO,WAMLhK,KAAKoN,UAAYpN,KAAKiH,OAAS,IAEjCpH,OAAQ,SAAUuiC,EAAU5gC,GAC1B,MAAyB,UAArBvB,EAAQmiC,GAA8BpiC,KAAKqiC,kBAAkBD,GAC1DpiC,KAAKsiC,QAAQF,EAAU5gC,IAEhC8gC,QAAS,SAAUF,EAAU5gC,GAG3B,IAAI+gC,EAASviC,KAAKoiC,EAAW,WAC7B,OAAOpiC,KAAKoN,UAAUg1B,GAAYG,EAASA,EAAOngC,KAAKpC,KAAMwB,EAAO4gC,GAAY5gC,GAGlF6gC,kBAAmB,SAAU5R,GAC3B,GAAIA,EACF,IAAK,IAAIxnB,KAAKwnB,EAEZzwB,KAAKsiC,QAAQr5B,EAAGwnB,EAAKxnB,KAM3B8oB,eAAgB,SAAU1xB,EAAKmiC,GAE7B,IAAIC,EAAW,GACXD,IAASC,EAAW9iC,EAAQ8J,OAAOg5B,EAAUD,IAE7B,UAAhBviC,EAAQI,IAAqBA,EAAImQ,SAAS7Q,EAAQ8J,OAAOg5B,EAAUpiC,GAAK,GAE5EL,KAAKqiC,kBAAkBI,IAEzBC,eAAgB,SAAUz7B,EAAQ8C,GAChC,IAAK,IAAIsH,KAAOtH,EACd,OAAQ9J,EAAQgH,EAAOoK,KACrB,IAAK,SACHpK,EAAOoK,GAAOrR,KAAK0iC,eAAez7B,EAAOoK,IAAQ,GAAItH,EAASsH,IAC9D,MAEF,IAAK,YACHpK,EAAOoK,GAAOtH,EAASsH,GAS7B,OAAOpK,IAIP07B,GAAc,CAChB34B,MAAO,WAGL,IAAIuD,EAAIvN,KAAKmwB,oBAAsBnwB,KAAKmwB,qBAAuB,CAC7D9vB,IAAKL,MAGPktB,GAAMa,YAAYxsB,KAAKgM,IAIzBmiB,WAAY,WACV,IAAIzoB,EAASjH,KAAKoN,UASlB,GARIpN,KAAK4iC,cAAc5iC,KAAKgiC,aACxBhiC,KAAK8M,WAAW9M,KAAK8M,UAAU,aAAc,IAEjD9M,KAAK0vB,WAAa,aAGlB1vB,KAAKmwB,oBAAoB9vB,IAAM,KAE3BL,KAAK0uB,cAAe,CACtB,IAAIgC,EAAQ1wB,KAAK0uB,gBACjB,GAAIgC,EAAO,IAAK,IAAIhwB,EAAI,EAAGA,EAAIgwB,EAAMjvB,OAAQf,IAC3CgwB,EAAMhwB,GAAGgvB,aAEX,GAAI1vB,KAAKwwB,iBAAkB,IAAK,IAAIpvB,EAAK,EAAGA,EAAKpB,KAAKwwB,iBAAiB/uB,OAAQL,IAC7EpB,KAAKwwB,iBAAiBpvB,GAAIsuB,aAM9B,UAFOrB,GAAGI,MAAMxnB,EAAOC,IAEnBD,EAAO47B,IAAK,CACd,IAAItpB,EAAMvZ,KAAKiiC,mBACX1oB,GAAOA,EAAIupB,gBAAgBvpB,EAAIupB,eAAe77B,EAAO47B,KAI3D7iC,KAAK+iC,SAAW,KAChB/iC,KAAKgjC,UAAY,KACjBhjC,KAAKijC,MAAQ,KAETjjC,KAAKkjC,cACPljC,KAAKkjC,YAAYzsB,UAAY,GAC7BzW,KAAKkjC,YAAYH,SAAW,MAI1B/iC,KAAKgwB,UAAYhwB,KAAKgwB,SAAS3X,YACjCrY,KAAKgwB,SAAS3X,WAAWC,YAAYtY,KAAKgwB,UAGxChwB,KAAKkF,MAAQlF,KAAKkF,KAAKwqB,YAAY1vB,KAAKkF,KAAKwqB,aAC7C1vB,KAAKmjC,QAAQnjC,KAAKmjC,SACtBnjC,KAAKkF,KAAO,KACZlF,KAAK0tB,aAAe,KACpB1tB,KAAKgwB,SAAWhwB,KAAK6qB,MAAQ7qB,KAAKkjC,YAAcljC,KAAKiqB,SAAW,KAChEjqB,KAAKiM,YAAcjM,KAAKkM,cAAgBlM,KAAKmM,SAAW,GAEpDqwB,GAAUtL,OAASlxB,OAAMw8B,GAAUtL,MAAQ,MAC/C,IAAIzf,EAAMxK,EAAOwK,IACbA,GAAOA,EAAI0C,QAAU1C,EAAI2xB,SAAS3xB,EAAI2xB,UAC1CpjC,KAAKyM,OAAS,KAEdzM,KAAKqJ,aAAc,IAIvBojB,GAAQjqB,OAAQ,UAAU,WACxBsK,EAAU,SAAU,IACpBogB,GAAMY,oBAAqB,EAE3B,IAAK,IAAIptB,EAAI,EAAGA,EAAIwsB,GAAMa,YAAYtsB,OAAQf,IAAK,CACjD,IAAIL,EAAM6sB,GAAMa,YAAYrtB,GAAGL,IAC3BA,GAAKA,EAAIqvB,aAGfxC,GAAMa,YAAc,GACpBb,GAAMgB,QAAUvjB,IAEhB0hB,QAGF,IAAIgX,GAAiB,CACnBr5B,MAAO,WACLhK,KAAKsjC,QAAU,KACftjC,KAAK6M,YAAY,kBAAkB,WACjC,IAAI02B,EAAMvjC,KAAKwjC,gBACfxjC,KAAKyjC,UAAUF,EAAMA,EAAIr8B,IAAMq8B,EAAM,SAEvCvjC,KAAK6M,YAAY,sBAAuB7M,KAAK0jC,eAC7C1jC,KAAK6M,YAAY,iBAAiB,SAAU3F,GACtCA,GAAMlH,KAAK2jC,aAAa3jC,KAAKyjC,UAAU,SAE7CzjC,KAAKkF,KAAK2H,YAAY,iBAAkBpE,GAAK,SAAUvB,EAAIhC,EAAM4M,GAG3D5K,GAAMA,GAAMlH,KAAK2jC,aAAuB,SAAR7xB,GAA2B,UAARA,GAAkB9R,KAAK0jC,kBAC7E1jC,OACHA,KAAKkF,KAAK2H,YAAY,aAAcpE,GAAK,WACvCzI,KAAKsjC,QAAU,OACdtjC,OACHA,KAAKkF,KAAK2H,YAAY,aAAcpE,GAAK,SAAUm7B,EAAO/uB,GACpD7U,KAAKsjC,SAAWM,IAClB5jC,KAAKsjC,QAAUzuB,EAEf7U,KAAK0jC,mBAEN1jC,QAEL6jC,cAAe,WACT7jC,KAAKsjC,SAAStjC,KAAK8M,UAAU,sBAAuB,CAAC9M,KAAKsjC,WAEhEG,UAAW,SAAUv8B,GACfA,GAAMlH,KAAKsjC,SAAkB,OAAPp8B,IAAgBlH,KAAK8jC,QAAQ58B,KACvDlH,KAAK8M,UAAU,uBAAwB,CAAC9M,KAAKsjC,UAC7CtjC,KAAKsjC,QAAUp8B,EACflH,KAAK8M,UAAU,sBAAuB,CAAC5F,MAEzCy8B,UAAW,WACT,OAAO3jC,KAAKsjC,SAEdS,aAAc,SAAUj8B,EAAQsP,EAAM4sB,GACpC,GAAY,UAAR5sB,GAAoBpX,KAAKkF,KAAK++B,UAAW,OAAQn8B,EAAO5C,MAAQ4C,GAAQo8B,WAAWlkC,KAAKkF,KAAK++B,UAAUjkC,KAAK2jC,cAChH,IAAIz+B,EAAOlF,KAAK8jC,QAAQ9jC,KAAK2jC,cAAgB3jC,KAAKoN,UAAU+2B,aAAe,KAE/D,SAAR/sB,GACoB,mBAAX4sB,EAAuBA,EAAO5hC,KAAK0F,EAAQ5C,EAAMlF,MAAW8H,EAAO5C,KAAKg/B,WAAWh/B,EAAOA,EAAK8+B,GAAU,IACpHl8B,EAAOgF,UAAU,cAAe,CAAC5H,EAAMkS,EAAMpX,SAEzCgkC,IAAQ9+B,EAAO8+B,EAAO9+B,IAE1BlF,KAAKokC,oBAAoBt8B,EAAQsP,EAAMlS,MAKzCm/B,GAAY,CACdr6B,MAAO,WACLhK,KAAK6M,YAAY,WAAY7M,KAAK0jC,gBAEpCK,aAAc,SAAUj8B,EAAQsP,EAAM4sB,GACpC5sB,EAAOA,GAAQ,QACf,IAAIlS,EAAOlF,KAAKoY,YAAc,GAE9B,GADI4rB,IAAQ9+B,EAAO8+B,EAAO9+B,IACtB4C,EAAO+5B,SAAU/5B,EAAO+5B,SAAS38B,EAAM,aAAa,GAAK4C,EAAOuD,OAKlEvD,EAAO5C,KAAKo/B,QAAO,WACjBtkC,KAAKqL,OAAO+L,EAAMlS,UANsD,CAC1E,IAAIq/B,EAAM,GACVA,EAAIntB,GAAQlS,EACR4C,EAAOmf,iBAAiB/hB,IAAO4C,EAAO4e,UAAU6d,GAAK,EAAO,QAMlEz8B,EAAOgF,UAAU,cAAe,CAAC5H,EAAMkS,EAAMpX,SAI7CwkC,GAAa,CACfx6B,MAAO,WACLhK,KAAK6M,YAAY,WAAY7M,KAAK0jC,gBAEpCK,aAAc,SAAUj8B,EAAQsP,EAAM4sB,GACpC,IAAI9+B,EAAOlF,KAAKykC,aAAe,KAC3BT,IAAQ9+B,EAAO8+B,EAAO9+B,IAE1BlF,KAAKokC,oBAAoBt8B,EAAQsP,EAAMlS,KAIvCw/B,GAAa,CACf16B,MAAO,WACLhK,KAAK2kC,WAAa,GAElB3kC,KAAK4kC,cAAgB,GAErB5kC,KAAK6kC,cAAgB,GAErB7kC,KAAK8kC,qBAAqB9kC,OAE5B+kC,UAAW,SAAUj8B,GACnB9I,KAAKglC,sBAAuB,EAC5Bl8B,EAAK1G,KAAKpC,MACVA,KAAKglC,sBAAuB,EAE5BhlC,KAAK0jC,iBAEPuB,YAAa,SAAU//B,EAAMmM,GAG3B,GADIA,IAAKrR,KAAK6kC,cAAcxzB,IAAO,GAC/BrR,KAAK6hC,SAAU7hC,KAAK6hC,SAAS38B,EAAM,aAAa,GAAIlF,KAAK0mB,UAAW1mB,KAAK0mB,UAAUxhB,GAAM,EAAO,YAAa,CAC/G,IAAIgC,EAAKlH,KAAK2jC,YACVz8B,EAAIlH,KAAKklC,WAAWh+B,EAAIhC,GAAWlF,KAAKk9B,IAAIh4B,GAElDlF,KAAK8M,UAAU,eAAgB,CAAC5H,EAAMmM,IAClCrR,KAAK0U,MAAM1U,KAAK0U,OAChBrD,IAAKrR,KAAK6kC,cAAcxzB,IAAO,IAGrC8zB,YAAa,SAAU9zB,EAAK4D,GAE1B,GAAIjV,KAAK4kC,cAAcvzB,GAAM,OAAO,EACpC,IAAIvJ,EAAS+mB,GAAGxd,GAEZvJ,EAAOkiB,UAAUliB,EAAOsF,UAAUlG,MACpClH,KAAK4kC,cAAcvzB,IAAO,EAE1BrR,KAAK+jC,aAAaj8B,EAAQ9H,KAAK2kC,WAAWtzB,GAAK,GAAIrR,KAAK2kC,WAAWtzB,GAAK,IAGpE4D,GAAUnN,EAAOuD,QAAQvD,EAAOqiB,YAIxCib,QAAS,SAAUngC,EAAQmS,EAAM4sB,GAC/BhkC,KAAK2kC,WAAW1/B,GAAU,CAACmS,EAAM4sB,IAEnCqB,WAAY,SAAUpgC,UACbjF,KAAK2kC,WAAW1/B,UAChBjF,KAAK4kC,cAAc3/B,UACnBjF,KAAK6kC,cAAc5/B,IAG5B6/B,qBAAsB,SAAUzkC,GAC1BA,EAAIgL,OAAQ1L,EAAQ8J,OAAOzJ,KAAMqjC,IAAyBhjC,EAAIwhC,SAAUliC,EAAQ8J,OAAOzJ,KAAMqkC,IAAgB1kC,EAAQ8J,OAAOzJ,KAAMwkC,KAGxId,cAAe,WACb,IAAK1jC,KAAKglC,qBAAsB,IAAK,IAAI3zB,KAAOrR,KAAK2kC,WAC/C3kC,KAAK6kC,cAAcxzB,KACvBrR,KAAK4kC,cAAcvzB,IAAO,EAC1BrR,KAAKmlC,YAAY9zB,GAAK,KAI1B+yB,oBAAqB,SAAUt8B,EAAQsP,EAAMlS,GACvC4C,EAAO+5B,SAAU/5B,EAAO+5B,SAAS38B,GAAQkS,EAAOlS,EAAKkS,GAAQlS,EAAM,QAAkB4C,EAAOuD,OAK9FvD,EAAO5C,KAAKo/B,QAAO,WACjBtkC,KAAKqL,OAAO+L,EAAMlS,OALfA,GAAQ4C,EAAO6d,MAAO7d,EAAO6d,MAAM,QAClC7d,EAAOmf,iBAAiB/hB,IAAO4C,EAAO4e,UAAUhf,EAAMxC,IAAO,EAAO,QAO5E4C,EAAOgF,UAAU,cAAe,CAAC5H,EAAMkS,EAAMpX,SAI7CslC,GAAW,CACb78B,KAAM,SAAUX,EAAQsP,EAAM4sB,GACvBhkC,KAAK6M,aAAalN,EAAQ8J,OAAOzJ,KAAMgM,GACvB,iBAAVlE,IAAoBA,EAAS+mB,GAAG/mB,IACvCA,EAAOy9B,iBAAiBz9B,EAAOy9B,kBAC/BvlC,KAAKulC,iBAAiBvlC,KAAKulC,kBAC1Bz9B,EAAOq9B,aAAaxlC,EAAQ8J,OAAO3B,EAAQ48B,IAEhD1kC,KAAKwlC,cAEL19B,EAAOs9B,QAAQplC,KAAKoN,UAAUlG,GAAIkQ,EAAM4sB,GACxChkC,KAAKylC,aAAe39B,EAAOsF,UAAUlG,GACrClH,KAAK0lC,SAAW1lC,KAAKoN,UAAUlG,GAE/BlH,KAAK2lC,sBAAwB3lC,KAAK6M,YAAY7M,KAAKiyB,UAAY,gBAAkB,iBAAiB,WAChG,OAAOnqB,EAAOq9B,YAAYnlC,KAAK0lC,aAE7B1lC,KAAKmqB,SAAWnqB,KAAKgqB,UAAUhqB,KAAK0lC,WAAW1lC,KAAKmqB,WAE1DgZ,OAAQ,WACN,GAAInjC,KAAKylC,aAAc,CACrB,IAAI39B,EAAS+mB,GAAG7uB,KAAKylC,cACjB39B,GAAQA,EAAOu9B,WAAWrlC,KAAK0lC,UACnC1lC,KAAKwN,YAAYxN,KAAK2lC,uBACtB3lC,KAAKylC,aAAezlC,KAAK2lC,sBAAwB,OAGrDH,YAAa,WACX,IAAIv+B,EAASjH,KAAKoN,UAElB,GAAIpN,KAAKqL,OAAQ,CACf,IAAIgG,EAAMpK,EAAOC,GACjBlH,KAAKkF,KAAK0gC,SAAWn9B,GAAK,WACxBomB,GAAG7uB,KAAKylC,cAAcb,cAAcvzB,IAAO,IAC1CrR,MAGL,IAAI6lC,EAAa7lC,KAAK8pB,OAEtB9pB,KAAK8pB,OAAS,WACZ,IAAI9pB,KAAK8lC,oBAAT,CACA9lC,KAAK8lC,qBAAsB,EAC3B,IAAIn6B,EAAS3L,KAAK8M,UAAU,iBAE5B,OADA9M,KAAK8lC,qBAAsB,EACpBD,EAAWj9B,MAAM5I,MAAiB,IAAX2L,EAAmBrF,UAAY,OAG3DtG,KAAKoY,UAAYpY,KAAKykC,aAAWzkC,KAAK0U,KAAO,SAAUxP,GACzD,IAAID,EAAS4pB,GAAG7uB,KAAKylC,cACrB,GAAIvgC,EAAMD,EAAOggC,YAAY//B,OAAW,CACtC,GAAIlF,KAAK+lC,WAAa/lC,KAAK+lC,WAAY,OAAO,EAC9C,IAAIC,EAAShmC,KAAKoY,SAAWpY,KAAKoY,SAAWpY,KAAKykC,YAClDx/B,EAAOggC,YAAYe,EAAQhmC,KAAKoN,UAAUlG,IAEtClH,KAAKimC,UAAUjmC,KAAKimC,UAAS,MAIrCjmC,KAAKwlC,YAAc,eAInBU,GAAc1jC,OAAO2jC,YAAc,GACnCC,GAAM,CACRxgC,KAAM,WAENoE,MAAO,SAAU/C,GACVA,EAAOC,KAAID,EAAOC,GAAKguB,GAAKl1B,KAAK4F,OACtC5F,KAAK0tB,aAAeR,GAAMQ,aAC1BR,GAAMQ,aAAe,KAGrB1tB,KAAKyM,OAASxF,EAAOwF,SAAWzM,KAAK0tB,aAAe1tB,KAAK0tB,aAAajhB,OAASygB,GAAME,eAEhFptB,KAAKgwB,WACRhwB,KAAKkjC,YAAcljC,KAAKgwB,SAAWlY,GAAO,MAAO,CAC/C0D,MAAS,eAEXxb,KAAK6qB,MAAQ7qB,KAAKgwB,WAGtB8B,OAAO,EACP/nB,SAAU,CACR6P,MAAO,EACPE,OAAQ,EACR0nB,QAAS,GAEXrP,QAAS,WACP,OAAOnyB,KAAKgwB,UAIdqW,SAAU,SAAUh8B,GAClBrK,KAAKgwB,SAAWhwB,KAAKiqB,SAAWjqB,KAAK6qB,MAAQxgB,GAE/C8kB,cAAe,WACb,OAAOnvB,KAAK0tB,cAAgB,MAE9BuU,iBAAkB,WAChB,IAAIt0B,EAAS3N,KAAKmvB,gBAClB,OAAOxhB,EAASA,EAAOs0B,mBAAqBjiC,MAE9Cy+B,YAAa,WACX,IAAI9wB,EAAS3N,KAAKmvB,gBAClB,OAAQxhB,GAAUA,EAAO24B,oBAAsB34B,EAASA,EAAO8wB,eAEjE/P,cAAe,WACb,MAAO,IAETiQ,UAAW,SAAUlW,EAAQtjB,GAC3B,IAAIohC,EAaJ,GAZsB,iBAAX9d,IAAqBA,EAAS,CACvCzT,KAAMyT,IAE0B8d,EAAV,WAApBtmC,EAAQwoB,GAAgC,SAAU1iB,GACpD,IAAIkB,EAASlB,EAAKkB,OAElB,IAAK,IAAIoK,KAAOoX,EACd,GAAIxhB,EAAOoK,IAAQoX,EAAOpX,GAAM,OAAO,EAGzC,OAAO,GACQoX,EACL,SAARtjB,GAAkBohC,EAAQvmC,MAAO,OAAOA,KAC5C,IAAIwmC,EAAkB,QAARrhC,GAAgB,GAC1BshC,EAAoB,WAARthC,EAAmBnF,KAAK0mC,WAAa1mC,KAAK2mC,aAEtDt0B,EAAQrS,KAAK4mC,WAAWL,EAASE,EAAWD,GAEhD,MAAe,QAARrhC,EAAgBqhC,EAAUn0B,GAEnCs0B,aAAc,SAAUt8B,GACtB,OAAOA,EAAKqkB,iBAEdgY,WAAY,SAAUr8B,GACpB,IAAIsD,EAAStD,EAAK8kB,gBAClB,OAAOxhB,EAAS,CAACA,GAAU,IAE7Bi5B,WAAY,SAAUL,EAASllC,EAAM8D,GAGnC,IAFA,IAAI0hC,EAAOxlC,EAAKrB,MAEPU,EAAI,EAAGA,EAAImmC,EAAKplC,OAAQf,IAAK,CACpC,GAAI6lC,EAAQM,EAAKnmC,IAAK,CACpB,IAAIyE,EAA4B,OAAO0hC,EAAKnmC,GAAnCyE,EAAI5D,KAAKslC,EAAKnmC,IAGzB,IAAIgM,EAAMm6B,EAAKnmC,GAAGkmC,WAAWL,EAASllC,EAAM8D,GAE5C,GAAIuH,IAAQvH,EACV,OAAOuH,EAIX,OAAO,MAETsd,UAAW,SAAU8c,GACnB,GAAI9mC,KAAKoN,UAAUmW,OAcjB,OAbIujB,IACG9mC,KAAK+mC,iBACR/mC,KAAK+mC,eAAiB,GACtB/mC,KAAKgnC,aAAe,IAGjBhnC,KAAKgnC,aAAaF,KACrB9mC,KAAKgnC,aAAaF,IAAW,EAE7B9mC,KAAK+mC,eAAexlC,KAAKulC,MAItB,EAGT,IAAIn5B,EAAS3N,KAAKmvB,gBAClB,OAAIxhB,GAAeA,EAAOqc,UAAU8c,EAAS9mC,KAAKoN,UAAUlG,KAG9D23B,UAAW,WACT,GAAI7+B,KAAKinC,eAAgB,OAAO,EAChC,IAAIt5B,EAAS3N,KAAKmvB,gBAClB,OAAIxhB,GAAeA,EAAOkxB,aAG5BqI,WAAY,WACNlnC,KAAKinC,iBAAmBjnC,KAAKinC,eAAe5uB,YAAYrY,KAAKgwB,SAAStY,YAAY1X,KAAKinC,iBAE7FE,QAAS,WACPl8B,GAAOjL,KAAKinC,gBACZjnC,KAAKoN,UAAUyT,UAAW,EAC1B7gB,KAAKinC,eAAiBnvB,GAAO,MAAO,CAClC0D,MAAS,mBAGXxb,KAAKgwB,SAAStY,YAAY1X,KAAKinC,gBAE/BjnC,KAAKgwB,SAASvY,aAAa,gBAAiB,QAE5CyD,GAAOlb,KAAKgwB,SAAU,uBAAuB,GAE7CwM,GAAUsC,gBAAgB9+B,OAE5BonC,OAAQ,WACNpnC,KAAKoN,UAAUyT,UAAW,EAEtB7gB,KAAKinC,iBACPh8B,GAAOjL,KAAKinC,gBACZ7rB,GAAUpb,KAAKgwB,SAAU,uBAEzBhwB,KAAKgwB,SAASyK,gBAAgB,iBAE9Bz6B,KAAKinC,eAAiB,OAG1BI,gBAAiB,SAAU7lC,GAEzB,OADIA,EAAOxB,KAAKmnC,UAAennC,KAAKonC,SAC7B5lC,GAET8lC,iBAAkB,SAAU9lC,GAE1B,OADAsE,EAAOsE,EAAO5I,GAAQ,sBACf,GAET+lC,WAAY,SAAU/lC,GAGpB,MAFsB,UAAlBvB,EAAQuB,KAAoBA,EAAQ2V,GAAU3V,IAClDxB,KAAKgwB,SAAS7X,WAAa,IAAM3W,EAC1BA,GAETgmC,UAAW,SAAUhmC,GACnB,GAAI0rB,GAAMG,qBAAuBH,GAAMG,oBAAsBrtB,MAAQA,KAAKynC,kBAAmB,CAC3F,IAAIC,EAAW1nC,KAAKiH,OAAO47B,IAAMrhC,GAChCxB,KAAKynC,kBAAoBva,GAAMG,oBAAoBsa,UAAUnmC,GAASxB,KACvEwB,EAAQ0zB,GAAKl1B,KAAK4F,OACjB5F,KAAKynC,kBAAoBva,GAAMG,oBAAoBua,eAAepmC,GAASkmC,EAU9E,OAPA5hC,GAAQuoB,GAAGI,MAAMjtB,GAAQ,uBAAyBA,GAClD6sB,GAAGI,MAAMjtB,GAASxB,KAElBA,KAAKgwB,SAASvY,aAEd,UAAWjW,GAEJA,GAETqmC,SAAU,SAAU51B,EAAGwH,GACrB,IAAIquB,EAAO9nC,KAAK+nC,WAEhB,OAAID,GAAQA,EAAK,IAAM71B,GAAK61B,EAAK,IAAMruB,GACrCnS,EAAetH,KAAM,CAACiS,EAAGwH,EAAG,iBACrB,IAGTnS,EAAetH,KAAM,CAACiS,EAAGwH,IACzBzZ,KAAK+nC,WAAa,CAAC91B,EAAGwH,GACtBzZ,KAAKgoC,OAAShoC,KAAKioC,eAAiBh2B,GAAKjS,KAAKkoC,UAAY5pB,GAAI6pB,WAAa,GAC3EnoC,KAAKooC,QAAUpoC,KAAKqoC,gBAAkB5uB,GAAKzZ,KAAKsoC,UAAYhqB,GAAI6pB,WAAa,GAChEnoC,KAAKoN,UAENm7B,OACVvoC,KAAKgwB,SAASxY,MAAMoC,MAAQ3H,EAAI,KAChCjS,KAAKgwB,SAASxY,MAAMsC,OAASL,EAAI,OAG5B,IAET+uB,SAAU,SAAUzT,EAAIC,GACtB,IAAItR,EAAI1jB,KAAKoN,UACTpG,EAAO,CAAgC,GAA9B0c,EAAE9J,OAAS8J,EAAE4X,UAAY,GAA4C,GAAnC5X,EAAE9J,OAAS8J,EAAE6X,UAAY,KAA8C,GAAhC7X,EAAE5J,QAAU4J,EAAE8X,WAAa,GAA8C,GAArC9X,EAAE5J,QAAU4J,EAAE+X,WAAa,KAAa/X,EAAE8d,SAEhK17B,KACUklB,MAAMhkB,EAAK,KAAOgkB,MAAMhkB,EAAK,KAAOgkB,MAAMhkB,EAAK,KAAOgkB,MAAMhkB,EAAK,OAG3ElB,GAAO,EAAO,wBAA0B9F,KAAKoN,UAAUlG,IACvDwc,EAAE9J,MAAQ8J,EAAE5J,OAAS4J,EAAE6X,SAAW7X,EAAE+X,UAAY/X,EAAE4X,SAAW5X,EAAE8X,UAAY,EAC3Ex0B,EAAO,CAAC,EAAG,EAAG,IAAQ,IAAQ,KAQlC,OAJAA,EAAK,IAAM+tB,EACX/tB,EAAK,IAAM+tB,EACX/tB,EAAK,IAAMguB,EACXhuB,EAAK,IAAMguB,EACJhuB,GAETyrB,KAAM,SAAU9oB,EAAO8+B,GACrB,IAAI96B,EAAS3N,KAAKmvB,gBACdsD,GAAQnsB,UAAU,GAEtB,GAAIqH,GACG86B,IAAyC,IAArBA,GAA8BzoC,KAAKoN,UAAUs7B,SAAa/6B,EAAOP,UAAUs7B,UAASD,EAAmB9oC,EAAQ8J,OAAOkE,EAAOP,UAAUs7B,QAAU/oC,EAAQ8J,OAAO,GAAIkE,EAAOP,UAAUs7B,SAAW,GAAI1oC,KAAKoN,UAAUs7B,SAAS,KACjPjW,EAAO9kB,EAAOg7B,MAAQh7B,EAAOu0B,SAAQzP,EAAO9kB,EAAOg7B,MAAQh7B,EAAOu0B,OAAO9/B,KAAKuL,EAAQ3N,KAAMyoC,GAC5FhW,GAAMzyB,KAAK4oC,uBAGXj/B,GAAS8oB,GAAM9kB,EAAO8kB,MAAK9kB,EAAOkhB,IAAallB,QAEnD,GAAI3J,KAAKoN,UAAUmW,QACjB,GAAIkP,EAAM,CACR,IAAIpoB,EAAOD,EAAOpK,KAAKoN,UAAUoiB,YAAcllB,SAASyO,MACxD1O,EAAKqN,YAAY1X,KAAKgwB,UACtBhwB,KAAKoN,UAAUmW,QAAS,EACxBvjB,KAAKqwB,SAEDrwB,KAAK8M,YACP9M,KAAK8M,UAAU,aAAc,IACzB9M,KAAK6oC,sBAAsBnT,GAAM11B,KAAMA,KAAK6oC,uBAGlD7oC,KAAK4oC,6BAGFnW,IACHzyB,KAAKoN,UAAUmW,OAASvjB,KAAKoN,UAAUmiB,SAAU,EAE7CvvB,KAAKgwB,WACPhwB,KAAKoN,UAAUoiB,WAAaxvB,KAAKgwB,SAAS3X,WAC1CpN,GAAOjL,KAAKgwB,aAMtB4Y,qBAAsB,WACpB,GAAI5oC,KAAK+mC,eAAgB,CACvB,IAAK,IAAIrmC,EAAI,EAAGA,EAAIV,KAAK+mC,eAAetlC,OAAQf,IAAK,CACnD,IAAIooC,EAAeja,GAAG7uB,KAAK+mC,eAAermC,IACtCooC,GAAcA,EAAahf,SAGjC9pB,KAAK+mC,eAAiB,GACtB/mC,KAAKgnC,aAAe,KAGxB+B,YAAa,SAAUjgC,EAAM/D,GAC3B,IAAI+C,EAAS/C,EAAE+C,OACXkhC,EAAOlhC,EAAOkH,aAAa,QAEjB,KAATlG,GAAwB,KAATA,GAAyB,UAARkgC,GAA4B,OAARA,GAAmBhpC,KAAKoN,UAAUyT,WACzFlG,GAAa7S,EAAQ,aAAc,SACnC0S,GAAazV,KAGjBkkC,cAAe,SAAUznC,GAEvB,OADIA,GAAOxB,KAAK00B,OACT10B,KAAKoN,UAAUmW,QAExBmR,KAAM,WACJ10B,KAAKyyB,KAAK,KAAM,MAAM,GAEtB+J,GAAUsC,gBAAgB9+B,OAE5BqwB,OAAQ,WACN,IAAKrwB,KAAKgwB,SAAS3X,WAAY,OAAO,EACtC,IAAIpG,EAAIjS,KAAKgwB,SAAS3X,WAAW6b,aAAe,EAC5Cza,EAAIzZ,KAAKgwB,SAAS3X,WAAW6wB,cAAgB,EAC7C9hC,EAAQpH,KAAKwoC,SAAS,EAAG,GACzBvY,EAAajwB,KAAKgwB,SAAS3X,YAAc/N,SAASyO,OAAS/Y,KAAKqvB,YAEhEjoB,EAAM,GAAK6K,IAAGA,EAAI7K,EAAM,IAExBA,EAAM,GAAKqS,IAAGA,EAAIrS,EAAM,MAEtB6oB,GAAcjwB,KAAKoN,UAAUwM,QAAU3H,EAAI7K,EAAM,KAAI6K,EAAI7K,EAAM,MAE/D6oB,GAAcjwB,KAAKoN,UAAU0M,SAAWL,EAAIrS,EAAM,KAAIqS,EAAIrS,EAAM,IACtEpH,KAAK6nC,SAAS51B,EAAGwH,GAEbyT,GAAMK,wBACRL,GAAMK,uBAAwB,EAC9BvtB,KAAKqwB,WAGToF,OAAQ,WACN,KAAIvI,GAAMI,sBAAwBJ,GAAMO,gBAAkBP,GAAMM,qBAAhE,CACA,IAAI7f,EAAS3N,KAAKmvB,gBAEdxhB,EACEA,EAAOw7B,eAAgBx7B,EAAOw7B,iBAAsBx7B,EAAO8nB,UAE/Dz1B,KAAKqwB,SACLvjB,EAAU,WAAY,QAKxBs8B,GAAO,CACTC,IAAKjD,GACLpxB,KAHSrV,EAAQwxB,QAAQiV,GAAKjE,GAAUQ,GAAa2C,GAAUY,KAM7DoD,GAAQ,CACV1jC,KAAM,OACNoE,MAAO,SAAU/C,GACfjH,KAAKg8B,WAAW/0B,IAGlB+0B,WAAY,SAAU/0B,GACpB,IAAIsiC,EAAiBvgC,EAAY/B,EAAOm0B,YAEpCmO,IAAmBvpC,KAAKqvB,aAAepoB,EAAOgoB,WAChDhoB,EAAOm0B,YAAa,EACpBmO,GAAiB,GAGfA,GAAkBvpC,KAAK+J,SAASqxB,YAAcn0B,EAAOm0B,WAEvDn0B,EAAOioB,OAAS,CACd3V,KAAK,EACLC,MAAM,EACNgS,QAAQ,EACRS,OAAO,IAIJhlB,EAAOioB,SAAQjoB,EAAOioB,OAAS,IACpClvB,KAAKkjC,YAAY1rB,MAAMgyB,YAAc,QAGzChB,SAAU,SAAUzT,EAAIC,GACtB,IAAIyU,EAAWzpC,KAAKoN,UAAU8hB,OAE1Bua,IACF1U,IAAO0U,EAASjwB,KAAO,EAAI,IAAMiwB,EAASxd,MAAQ,EAAI,GACtD+I,IAAOyU,EAASlwB,IAAM,EAAI,IAAMkwB,EAASje,OAAS,EAAI,IAGxD,IAAIxkB,EAAOoiC,GAAKC,IAAIb,SAASpmC,KAAKpC,KAAM+0B,EAAIC,GAE5C,OADA1tB,EAAetH,KAAMgH,GAAM,GACpBA,GAET6gC,SAAU,SAAU51B,EAAGwH,GACrBnS,EAAetH,KAAM,CAACiS,EAAGwH,IACzB,IAAIgwB,EAAWzpC,KAAKoN,UAAU8hB,OAO9B,OALIua,IACFx3B,IAAMw3B,EAASjwB,KAAO,EAAI,IAAMiwB,EAASxd,MAAQ,EAAI,GACrDxS,IAAMgwB,EAASlwB,IAAM,EAAI,IAAMkwB,EAASje,OAAS,EAAI,IAGhD4d,GAAKC,IAAIxB,SAASzlC,KAAKpC,KAAMiS,EAAGwH,KAGvCiwB,GAAS/pC,EAAQwxB,QAAQmY,GAAOF,GAAKp0B,MACrC20B,GAAS,CACXN,IAAKC,GACLt0B,KAAM00B,IAIRA,GAAOtnC,MAAK,GAUZ,IAAIwnC,GAAejqC,EAAQ4xB,MAAM,CAC/BvnB,MAAO,WACLhK,KAAKsE,KAAOoD,EAAM1H,KAAKsE,OAEzBulC,UAAW,SAAUxpC,GACnBysB,GAAK9sB,KAAMK,IAEbgqB,gBAAiB,SAAU7oB,GACzBxB,KAAKsE,KAAKulB,SAAWxB,GAAS7mB,IAGhCmoB,QAAS,SAAUtpB,GACjB,IAAIypC,EAAU9pC,KAAKsE,KACnB,OAAQwlC,EAAQC,cAAgBD,EAAQC,cAAc1pC,EAAKypC,GAAW,IAAMA,EAAQjgB,SAASxpB,EAAKypC,IAAYA,EAAQE,YAAcF,EAAQE,YAAY3pC,EAAKypC,GAAW,MAEzKpgB,IAYCugB,GAAQ,CACVrkC,KAAM,UACNmE,SAAU,CACRirB,GAAI,EACJD,GAAI,IAEN/qB,MAAO,SAAU/C,GACM,iBAAVA,IACTA,EAAS,CACP4iB,SAAU5iB,IAKdjH,KAAK6qB,MAAQ7qB,KAAKgwB,SAAWhwB,KAAKkjC,YAAcljC,KAAKiqB,SAAWnS,GAAO,MAAO,CAC5EkxB,KAAM,QACN,cAAe,SAEjBhpC,KAAKgwB,SAAS7X,UAAYnY,KAAKuzB,UAC/Bhb,GAAavY,KAAKkjC,YAAa54B,SAASyO,KAAKrI,WAAYpG,SAASyO,OAEpEsX,OAAQ,aACRrG,UAAW,WACT,OAAOhqB,KAAKkqC,UAEdC,YAAa,SAAUhkC,GACjBnG,KAAK8M,UAAU,iBAAkB,CAAC3G,MAGpCnG,KAAKiqB,SAASxT,UAAY,GAC1BzW,KAAKiqB,SAASxT,UAAYtQ,EAC1BnG,KAAK8M,UAAU,gBAAiB,MAGpCymB,UAAW,gBACXgU,WAAY,SAAU/lC,GAGpB,MAFuB,WAAnBvB,EAAQuB,KAAqBA,EAAQ2V,GAAU3V,IACnDxB,KAAKgwB,SAAS7X,UAAYnY,KAAKuzB,UAAY,IAAM/xB,EAC1CA,GAITixB,KAAM,SAAUvtB,EAAM+Y,GACpB,IAAIje,KAAKoqC,UAOT,GANApqC,KAAKkqC,UAAW,EACI,iBAAThlC,EAAmBlF,KAAKmqC,YAAYjlC,IAC7ClF,KAAKkF,KAAOvF,EAAQ8J,OAAO,GAAIvE,GAC/BlF,KAAK8pB,UAGH9pB,KAAKiqB,SAASvZ,WAAY,CAE5B,IAAI25B,EAAI3wB,KAAKgC,IAAIpR,SAAS2D,gBAAgBimB,YAAa1xB,OAAOk3B,YAAc,GACxE4Q,EAAI5wB,KAAKgC,IAAIpR,SAAS2D,gBAAgBi7B,aAAc1mC,OAAOo3B,aAAe,GAC1E2Q,EAAYF,EAAIpsB,EAAOhM,EACvBu4B,EAAYF,EAAIrsB,EAAOxE,EAC3BzZ,KAAKkjC,YAAY1rB,MAAMghB,QAAU,QAC7B+R,EAAYvqC,KAAKoN,UAAU2nB,GAAK/0B,KAAKkjC,YAAYrpB,YAAa0wB,EAAYtsB,EAAOhM,GACnFs4B,EAAYtsB,EAAOhM,EAAwB,EAApBjS,KAAKoN,UAAU2nB,GAAS/0B,KAAKkjC,YAAYrpB,aAChD,IAAG0wB,EAAY,GAE7BC,EAAYxqC,KAAKoN,UAAU4nB,GAAKh1B,KAAKkjC,YAAYnpB,aAAcywB,EAAYvsB,EAAOxE,GACpF+wB,EAAYvsB,EAAOxE,EAAwB,EAApBzZ,KAAKoN,UAAU4nB,GAASh1B,KAAKkjC,YAAYnpB,cAChD,IAAGywB,EAAY,GAEjCxqC,KAAKkjC,YAAY1rB,MAAMgC,KAAO+wB,EAAYvqC,KAAKoN,UAAU2nB,GAAK,KAC9D/0B,KAAKkjC,YAAY1rB,MAAM+B,IAAMixB,EAAYxqC,KAAKoN,UAAU4nB,GAAK,UACxDh1B,KAAK00B,QAGdA,KAAM,WACA10B,KAAKkqC,WACPlqC,KAAKkF,KAAO,KAEZlF,KAAKkjC,YAAY1rB,MAAMghB,QAAU,OACjCx4B,KAAKkqC,UAAW,IAGpB/C,QAAS,WACPnnC,KAAKoqC,WAAY,GAEnBhD,OAAQ,WACNpnC,KAAKoqC,WAAY,GAEnB9lC,KAAM,CACJulB,SAAUxB,GAAS,eACnB0hB,cAAe1hB,GAASoB,MACxBugB,YAAa3hB,GAASoB,QAStBghB,IANS9qC,EAAQwxB,QAAQ8Y,GAAOL,GAAczH,GAAUn2B,EAAa29B,GAAO30B,MAM9D,CAChB01B,eAAgB,SAAUlpC,GACxB,OAAIA,GACmB,mBAAVA,GAAyC,iBAAVA,IAAoBA,EAAQ,CACpEqoB,SAAUroB,IAEW,WAAnBvB,EAAQuB,KAAqBA,EAAQ,IACrCA,EAAMuxB,UAAY/pB,EAAYxH,EAAMqoB,YAAWroB,EAAMqoB,SAAW,IAEpE7pB,KAAK2qC,qBAEEnpC,GACExB,KAAKoN,UAAUkmB,QAAgB,CACxCzJ,SAAU,SADL,GAIT8gB,mBAAoB,WAClB/X,GAAeI,WAAWhzB,MAC1BA,KAAK6M,YAAY,cAAc,WAC7B+lB,GAAegC,cAAc50B,SAE/BA,KAAK6M,YAAY,iBAAiB,WAC5B+lB,GAAeE,gBAAgBF,GAAee,mBAGpD3zB,KAAK2qC,mBAAqB,cAE5BtW,WAAY,SAAU9mB,GACpB,IAAI+lB,EAAUV,GAAeS,SACzBzB,EAAMjyB,EAAQ8J,OAAO,CACvBsrB,GAAI,GACJC,GAAI,EACJnL,SAAU,cACVvO,IAAK,IACJtb,KAAKoN,UAAUkmB,SAAS,GAE3B,OADAA,EAAQzzB,OAAO+xB,GACRrkB,GAET6mB,YAAa,WAGX,OAFAxB,GAAee,gBAER,MAETW,aAAc,SAAU/mB,EAAGxI,EAAG+I,GAC5B,IAAIwlB,EAAUtzB,KAAKoN,UAAUkmB,QACzBP,GAAYO,GAAWtqB,EAAYsqB,EAAQP,UAAYH,GAAeG,SAAWO,EAAQP,SACzFkC,GAAQ3B,GAAWtqB,EAAYsqB,EAAQlqB,OAASwpB,GAAexpB,MAAQkqB,EAAQlqB,MAC/EjD,EAAO4sB,EAAWjlB,EAAEilB,SAAWjlB,EAAEkmB,MACjCiB,EAAO,GAAGrC,GAAee,gBAC7Bf,GAAe6B,mBAAqBvrB,EAAMlJ,KAAK4qC,cAAe5qC,KAAM,CAACuN,EAAGxI,EAAGoB,GAAO8uB,IAEpF2V,cAAe,SAAUr9B,EAAGxI,EAAGoB,GAC7B,IAAIjB,EAAOiB,GAAQnG,KAAK6qC,kBAAkBt9B,EAAGxI,GAExCG,GAASlF,KAAKgqB,aAEnB4I,GAAeS,SAASZ,KAAKvtB,EAAMkV,GAAIrV,KAEzC8lC,kBAAmB,SAAUt9B,EAAGxI,GAC9B,GAAI/E,KAAK0Y,QAAU1Y,KAAK8jC,QAAS,CAC/B,IAAI58B,EAAKlH,KAAK0Y,OAAO3T,GACrB,OAAKmC,EACElH,KAAK8jC,QAAQ58B,GADJ,KAIlB,OAAOlH,KAAKoN,aAIZ09B,GAASnrC,EAAQ4xB,MAAM,CACzBvnB,MAAO,SAAUwkB,GACfxuB,KAAK+qC,eAAiB,GACtB/qC,KAAKgrC,eAAkBhiC,EAAYwlB,EAAUyc,QAA6Bzc,EAAU5oB,KAA7B4oB,EAAUyc,OACjEjrC,KAAKkrC,KAAO9gC,EAAOokB,EAAUA,WAAaA,GAC1C,IAAI5U,EAAQ4U,EAAU5U,OAASpX,OAAO2oC,kBAAoB,GACtDrxB,EAAS0U,EAAU1U,QAAUtX,OAAO2oC,kBAAoB,GACxD3zB,EAAQgX,EAAUhX,OAAS,GAC/BA,GAAS,UAAYgX,EAAU5U,MAAQ,aAAe4U,EAAU1U,OAAS,MAEzE9Z,KAAKorC,eAAe5c,EAAU5oB,KAAM4R,EAAOoC,EAAOE,EAAQ0U,EAAU2K,QAEtEiS,eAAgB,SAAUxlC,EAAM4R,EAAOvF,EAAGwH,EAAG0f,GAY3C,OAVAn5B,KAAKqrC,QAAUvzB,GAAO,SAAU,CAC9BqhB,MAAOA,EACPvf,MAAO3H,EACP6H,OAAQL,EACR6xB,UAAW1lC,EACX4R,MAAOA,GAAS,KAGlBxX,KAAKkrC,KAAKxzB,YAAY1X,KAAKqrC,SAEpBrrC,KAAKqrC,SAEdE,UAAW,SAAU7e,GACnB,IAAI8e,GAAOxrC,KAAKqrC,SAAWrrC,KAAKorC,eAAeprC,KAAKkjC,cAAcuI,WAAW/e,GAAW,MAOxF,OALK1sB,KAAK0rC,yBACR1rC,KAAK0rC,wBAAyB,EAC9BF,EAAIG,MAAMnpC,OAAO2oC,kBAAoB,EAAG3oC,OAAO2oC,kBAAoB,IAG9DK,GAETI,cAAe,SAAU35B,EAAGwH,GACtBzZ,KAAKqrC,UACPrrC,KAAKqrC,QAAQ5zB,aAAa,QAASxF,GAAKzP,OAAO2oC,kBAAoB,IAEnEnrC,KAAKqrC,QAAQ5zB,aAAa,SAAUgC,GAAKjX,OAAO2oC,kBAAoB,IAEpEnrC,KAAKqrC,QAAQ7zB,MAAMoC,MAAQ3H,EAAI,KAC/BjS,KAAKqrC,QAAQ7zB,MAAMsC,OAASL,EAAI,KAChCzZ,KAAK0rC,wBAAyB,IAGlCG,WAAY,SAAU55B,EAAGwH,EAAGtT,EAAMmV,EAAK+uB,GACrC,GAAKlkC,EAAL,CAEIkkC,IAAGA,EAAI3wB,KAAKgC,IAAI2uB,EAAG,IACnB5wB,IAAGA,EAAIC,KAAKgC,IAAIjC,EAAG,IACvB,IAAIlM,EAAIuK,GAAO,MAAO,CACpB0D,MAAS,qBAAuBF,EAAM,IAAMA,EAAM,IAClD9D,MAAS,QAAUvF,EAAI,WAAawH,EAAI,MACxC,cAAe,QACdtT,GAQH,OANAnG,KAAKkrC,KAAKxzB,YAAYnK,GAEtBvN,KAAK+qC,eAAexpC,KAAKgM,GAGrB88B,IAAG98B,EAAEiK,MAAMoC,MAAQywB,EAAI,MACpB98B,IAETu+B,aAAc,SAAUC,EAAQjb,EAAO7e,EAAGwH,EAAGlM,EAAGO,EAAGu8B,GACjD,IAAIlkC,EAAOnG,KAAK6rC,WAAWzpC,KAAKpC,KAAMiS,EAAGwH,EAAGlM,EAAGO,EAAGu8B,GAYlD,OAVIlkC,IACE4lC,IACsB5lC,EAAKqR,MAAM+B,IAArB,UAAVwyB,EAAqC1tB,SAAS5E,EAAItT,EAAK4T,aAAe,EAAG,IAAM,KAA2BN,EAAItT,EAAK4T,aAAe,MAGpI+W,IACmB3qB,EAAKqR,MAAMgC,KAAnB,QAATsX,EAAmC7e,EAAI9L,EAAK0T,YAAc,KAA4BwE,SAASpM,EAAI9L,EAAK0T,YAAc,EAAG,IAAM,OAIhI1T,GAET6lC,YAAa,SAAUC,GACrB,IAAIC,EAAQ,GAIZ,GAHAjhC,GAAOjL,KAAK+qC,gBACZ/qC,KAAK+qC,eAAiB,IAEjBkB,GAAWjsC,KAAKkrC,KAAKnI,SAAU,KAElCmJ,EAAQlsC,KAAKmsC,eAEND,EAAMzqC,QACXyqC,EAAM,GAAG7zB,WAAWC,YAAY4zB,EAAM,IACtCA,EAAMlhC,OAAO,EAAG,GAGlBkhC,EAAQ,KAEHlsC,KAAKkrC,KAAKnI,SAAS70B,qBAAqB,QAAQzM,SACnDzB,KAAKkrC,KAAKnI,SAAS1qB,WAAWC,YAAYtY,KAAKkrC,KAAKnI,UAEpD/iC,KAAKkrC,KAAKnI,SAAW,MAMzB/iC,KAAKurC,YAAYa,UAAU,EAAG,EAAGpsC,KAAKqrC,QAAQxxB,aAAeH,KAAKqgB,MAAM/5B,KAAKqrC,QAAQzxB,OAASpX,OAAO2oC,kBAAoB,IAAKnrC,KAAKqrC,QAAQtxB,cAAgBL,KAAKqgB,MAAM/5B,KAAKqrC,QAAQvxB,QAAUtX,OAAO2oC,kBAAoB,MAE1NkB,aAAc,WACZrsC,KAAKssC,cAA4C,QAA9BtsC,KAAKqrC,QAAQ7zB,MAAMghB,UAExC+T,WAAY,WACVvsC,KAAKssC,eAAc,IAErBE,WAAY,WACVxsC,KAAKssC,eAAc,IAErBA,cAAe,SAAU7Z,GACvB,IAAIyZ,EAAOxrC,EAEX,IAAKA,EAAI,EAAGA,EAAIV,KAAK+qC,eAAetpC,OAAQf,IAC1CV,KAAK+qC,eAAerqC,GAAG8W,MAAMghB,QAAU/F,EAAO,GAAK,OAGrD,GAAIzyB,KAAKkrC,KAAKnI,SAGZ,IAFAmJ,EAAQlsC,KAAKmsC,eAERzrC,EAAI,EAAGA,EAAIwrC,EAAMzqC,OAAQf,IACxB+xB,EAAMyZ,EAAMxrC,GAAG+5B,gBAAgB,YAAiByR,EAAMxrC,GAAG+W,aAAa,WAAY,QAK1FzX,KAAKqrC,QAAQ7zB,MAAMghB,QAAU/F,EAAO,GAAK,QAE3C0Z,aAAc,WACZ,IACID,EACAxrC,EAFA4O,EAAM,GAKV,IAFA48B,EAAQlsC,KAAKkrC,KAAKnI,SAAS70B,qBAAqB,QAE3CxN,EAAI,EAAGA,EAAIwrC,EAAMzqC,OAAQf,IACxBwrC,EAAMxrC,GAAGsO,aAAa,aAAehP,KAAKgrC,gBAC5C17B,EAAI/N,KAAK2qC,EAAMxrC,IAInB,OAAO4O,KAIPo5B,GAAU,SAAU+D,EAAcxlC,GACpC,IAAIylC,EAAYzlC,EAEhB,GAAIoB,EAAQokC,GACV,IAAK,IAAI/rC,EAAI,EAAGA,EAAI+rC,EAAahrC,OAAQf,IAAK,CAG5C,GAFI2H,EAAQpB,KAASylC,EAAYzlC,EAAOvG,IAElB,SAAlBgsC,EAAUpoC,KAAiB,CAC7B,GAAyB,OAArBooC,EAAUnS,SAA0B,IAAN75B,EAEhC,SAGF,GAAyB,MAArBgsC,EAAUnS,SAAwB,GAAL75B,EAE/B,SAIJ,GAAsB,QAAlBgsC,EAAUpoC,KAiBdokC,GAAQ+D,EAAa/rC,GAAIgsC,OAjBzB,CACE,IAAIC,EAAiBjlC,EAAMglC,GAEjB,IAANhsC,IAEFisC,EAAeroC,KAAO,YAGf,GAAL5D,IAEFisC,EAAehsB,SAAW,MAG5B+nB,GAAQ+D,EAAa/rC,GAAIisC,QA7B/B,CAuCA,IAAItiC,EAAOD,EAAOqiC,GACdpiC,EAAKuiC,eAAgBlE,GAAQ/rB,IAAItS,EAAMqiC,GAAgBhE,GAAQhsB,MAAMrS,EAAMqiC,KAGjFhE,GAAQ/rB,IAAM,SAAUtS,EAAMqiC,GAE5BriC,EAAKmN,MAAM8G,GAAIuB,oBAAsB,MACrCxV,EAAKuiC,eAAiB,KAElB1f,GAAMiB,eAAe3rB,OAAOgyB,aAAatH,GAAMiB,eAEnDjB,GAAMiB,cAAgBjlB,EAAMw/B,GAAS1oC,KAAM,CAACqK,EAAMqiC,GAAY,KAGhEhE,GAAQmE,SAAW,SAAUxrC,EAAMkvB,EAASmc,GAC1C,IAAIjG,EAAYiG,EAAUjG,UAGtBlW,EAAQlY,aAAYkY,EAAQlY,WAAWb,MAAM0Y,SAAW,YAC5DK,EAAQ/Y,MAAM0Y,SAAW,WACzB7uB,EAAKmW,MAAM0Y,SAAW,WAKtB,IAAI4c,EAAYxuB,GAAIiB,KAAoB,OAAbknB,GAAmC,QAAbA,GAAsB,EAAK,EAAI,EAqBhF,MAnBiB,OAAbA,GAAmC,UAAbA,GACxBplC,EAAKmW,MAAMgC,KAAO,MAClBnY,EAAKmW,MAAM+B,KAAOmzB,EAAUnzB,KAAOuzB,IAA2B,OAAbrG,EAAqB,GAAI,GAAMlW,EAAQxW,aAAe,OAEvG1Y,EAAKmW,MAAM+B,KAAOmzB,EAAUnzB,KAAO,GAAK,KACxClY,EAAKmW,MAAMgC,KAAOszB,GAA0B,QAAbrG,EAAsB,GAAI,GAAMlW,EAAQ1W,YAAc,MAKnF0W,EAAQlY,YAAchX,EAAKgX,YAAcq0B,EAAUK,UAAW1rC,EAAKmW,MAAMghB,QAAU,GAAQjgB,GAAalX,EAAMkvB,EAAQyc,YAAazc,EAAQlY,YAEzH,SAAlBq0B,EAAUpoC,MAAwC,OAArBooC,EAAUnS,UACzCl5B,EAAKmW,MAAMgC,KAAO,MAClBnY,EAAKmW,MAAM+B,KAAOmzB,EAAUnzB,KAAO,GAAK,KACxCgX,EAAQlY,WAAWC,YAAYiY,GAC/BhY,GAAagY,EAASlvB,EAAK2rC,YAAa3rC,EAAKgX,aAGxC,CAAChX,EAAMkvB,IAGhBmY,GAAQuE,UAAY,SAAUC,GACxB5mC,UAAU,GAAI4mC,EAAK,GAAG11B,MAAMghB,QAAU,OACrCvtB,GAAOiiC,EAAK,IAEjBxE,GAAQ/iB,MAAMunB,EAAK,IACnBxE,GAAQ/iB,MAAMunB,EAAK,IACnBA,EAAK,GAAG11B,MAAM0Y,SAAW,IAG3BwY,GAAQ/iB,MAAQ,SAAUtb,GACxBA,EAAKmN,MAAM8G,GAAIqB,WAAa,OAC5BtV,EAAKmN,MAAM8G,GAAIsB,YAAc,OAC7BvV,EAAKmN,MAAM+B,IAAMlP,EAAKmN,MAAMgC,KAAO,IAGrCkvB,GAAQ3+B,SAAW,CACjBzF,KAAM,QACN8E,MAAO,IACP+jC,SAAU,MACVC,OAAQ,cACRn7B,EAAG,EACHwH,EAAG,GAGLivB,GAAQhsB,MAAQ,SAAUrS,EAAMqiC,GAEN,iBAAbA,IAAuBA,EAAY,CAC5CpoC,KAAMooC,IAERA,EAAYvK,GAASO,eAAegK,EAAWhE,GAAQ3+B,UACvD,IACIsjC,EAAcC,EADd7K,EAAWp4B,EAAKuiC,eAAiBF,EAGrC,OAAyB,SAAjBjK,EAASn+B,MAAmBm+B,EAASgE,WAE3C,IAAK,QACHhE,EAASxwB,EAAI5H,EAAKwP,YAClB,MAEF,IAAK,OACH4oB,EAASxwB,GAAK5H,EAAKwP,YACnB,MAEF,IAAK,MACH4oB,EAAShpB,GAAKpP,EAAK0P,aACnB,cAIA0oB,EAAShpB,EAAIgpB,EAAShpB,GAAKpP,EAAK0P,aAIf,QAAjB0oB,EAASn+B,MAAmC,YAAjBm+B,EAASn+B,OACtC+oC,EAAe,CAAC,EAAG,GACnBC,EAAa,SAEW,YAApB7K,EAASlI,SACX8S,EAAa,GAAK,GAClBC,EAAa,UACRD,EAAa,GAAK,GAEC,SAAtB5K,EAASgE,WAA8C,UAAtBhE,EAASgE,YAC5C4G,EAAa,KAAM,EACnBA,EAAa,KAAM,IAIvB,IAAIF,EAAW1K,EAAS0K,SAAW,MAAQ1K,EAAS2K,OAAS,IAAM3K,EAASr5B,MAAQ,KAChFmkC,EAAc,+BAEdC,EAAiB,GACjBC,EAAgB,GAEpB,OAAQhL,EAASn+B,MACf,IAAK,OAEHkpC,EAAiB,WAAaL,EAC9BI,EAAc,cACd,MAEF,IAAK,OAEHC,EAAiB,WAAaL,EAC9BI,EAAc,cACd,MAEF,IAAK,OACHJ,EAAW1K,EAAS0K,SAAW,EAAI,MAAQ1K,EAAS2K,OAAS,IAAM3K,EAASr5B,MAAQ,KACpFqkC,EAAgB,QAAUJ,EAAa,GAAK,QAAUA,EAAa,GAAK,QAAUC,EAAa,YAC/FE,EAAiB,OAASL,EAC1B,MAEF,IAAK,WACH1K,EAASr5B,OAASq5B,EAAS0K,SAAW,EACtCA,EAAW1K,EAAS0K,SAAW,EAAI,MAAQ1K,EAAS2K,OAAS,IAAM3K,EAASr5B,MAAQ,KACpFiB,EAAKmN,MAAM8G,GAAIqB,WAAa,SAAU,EAAK0tB,EAAa,GAAK,SAAU,EAAKA,EAAa,GAAK,QAAUC,EAAa,YACrHjjC,EAAKmN,MAAMgC,KAAO,IAClBi0B,EAAgB,oBAAsBH,EAAa,MACnDE,EAAiB,OAASL,EAC1B,MAEF,IAAK,QAEH,IAAIl7B,EAAIwwB,EAASxwB,EAAI,KACjBwH,EAAIgpB,EAAShpB,EAAI,KAErBg0B,EAAgBnvB,GAAIwB,UAAY,IAAM7N,EAAI,KAAOwH,GAAsB,eAAjB6E,GAAIwB,UAA6B,MAAQ,IAAM,IACrG0tB,EAAiB,aAAeL,EAQpCjkC,GAAM,WACJmB,EAAKmN,MAAM8G,GAAIsB,YAAc4tB,EAC7BtkC,GAAM,WACAqkC,IAAaljC,EAAKmN,MAAMU,SAAWq1B,GACnCE,IAAepjC,EAAKmN,MAAM8G,GAAIqB,WAAa8tB,GAC/C,IAAIC,GAAkB,EAClBC,EAAMlhB,GAAQpiB,EAAMiU,GAAIyB,eAAe,SAAU9F,GACnD5P,EAAKuiC,eAAiB,KAClBnK,EAAS9hB,UAAU8hB,EAAS9hB,SAASve,KAAKqgC,EAASr3B,QAAU5I,OAAQ6H,EAAMo4B,EAAUxoB,GACzFyzB,GAAkB,EAClBphB,GAAYqhB,MAEdnrC,OAAOS,YAAW,WAChB,IAAKyqC,EAAiB,CACpB,IAAItiC,EAASq3B,EAASr3B,QAAU5I,OAChC6H,EAAKuiC,eAAiB,MACjBxhC,EAAO/B,aAAeo5B,EAAS9hB,UAAU8hB,EAAS9hB,SAASve,KAAKgJ,EAAQf,EAAMo4B,GACnFiL,GAAkB,EAClBphB,GAAYqhB,MAEkC,KAA1B,EAApBlL,EAAS0K,SAAgC,EAAjB1K,EAASr5B,eAK3C,IAiWIwkC,GAASC,YACJC,GAAMloC,GAEb,GADAE,EAAOioC,GAAOnoC,GAAO,wBAA0BA,GAC3CioC,KAAUjoC,IACdmoC,GAAOH,QAAUA,GAAUG,GAAOnoC,GAClCmoC,GAAOF,MAAQA,GAAQjoC,EAEnByoB,IACF,IAAK,IAAIhd,KAAOgd,GAAI,CAClB,IAAIrZ,EAAOqZ,GAAGhd,GACV2D,GAAQA,EAAKzU,WAAayU,EAAKzU,UAAUuxB,OAAO9c,EAAKzU,UAAUuxB,MAAM9c,EAAKzU,YAIpF,IAAIwtC,GAAS,CACXpT,IAAKmT,GACLE,SAjXS,CACTC,UAAW,QAEXC,UAAW;;AAEXC,aAAc,GACdC,mBAAoB,GACpBrjB,UAAW,GACXsjB,cAAe,GACfC,eAAgB,GAEhBC,YAAa,GACbC,aAAc,GACdC,aAAc,EACdC,WAAY,GACZC,eAAgB,GAChBC,mBAAoB,GACpBC,mBAAoB,GACpBC,iBAAkB,GAClBC,aAAc,EACdvF,YAAa,EACbwF,kBAAmB,GACnBC,cAAe,GACfC,aAAc,EACdC,eAAgB,GAChBC,cAAe,IACfC,aAAc,GACdC,YAAa,GAEbC,aAAc,CACZvS,MAAO,GACPwS,KAAM,GACNC,MAAO,EACPvU,KAAM,EACNgS,MAAM,EACNwC,QAAS,EACT5N,KAAM,EACNjR,UAAW,GAGb8e,cAAe,CACb3S,MAAO,GACPwS,KAAM,EACNC,MAAO,EACPvU,KAAM,EACNgS,KAAM,EACNwC,QAAS,EACT5N,KAAM,GACNjR,UAAW,GAGb+e,UAAW,EACXC,UAAW,EACXC,gBAAiB,EACjBC,aAAc,EACdC,WAAW,EACXC,gBAAgB,EAChBC,aAAa,EACbC,gBAAgB,EAChBC,cAAc,EACdC,iBAAiB,EACjBC,aAAc,EACdC,YAAa,GACbC,yBAA0B,GAC1BC,QAAS,EACTC,cAAe,YACfC,aAAc,GACdC,cAAe,UACfC,UAAW,UAEXC,aAAc,GA4SdC,KAzSW,CACX9C,UAAW,QAEXC,UAAW;;AAEXC,aAAc,GACdC,mBAAoB,GACpBrjB,UAAW,GACXsjB,cAAe,GACfC,eAAgB,GAEhBC,YAAa,GACbC,aAAc,GACdC,aAAc,EACdC,WAAY,GACZC,eAAgB,GAChBC,mBAAoB,GACpBE,iBAAkB,GAClBD,mBAAoB,GACpBE,aAAc,EACdvF,YAAa,EACbwF,kBAAmB,GACnBC,cAAe,GACfC,aAAc,EACdC,eAAgB,GAChBC,cAAe,IACfC,aAAc,GACdC,YAAa,GAEbC,aAAc,CACZvS,MAAO,EACPwS,KAAM,EACNC,MAAO,EACPvU,KAAM,EACNgS,MAAM,EACNwC,QAAS,EACT5N,KAAM,EACNjR,UAAW,GAGb8e,cAAe,CACb3S,MAAO,EACPwS,KAAM,EACNC,MAAO,EACPvU,KAAM,EACNgS,KAAM,EACNwC,QAAS,EACT5N,KAAM,GACNjR,UAAW,GAGb+e,UAAW,EACXC,UAAW,EACXC,gBAAiB,EACjBC,aAAc,EACdC,WAAW,EACXC,gBAAgB,EAChBC,aAAa,EACbC,gBAAgB,EAChBC,cAAc,EACdC,iBAAiB,EACjBC,aAAc,EACdC,YAAa,GACbC,yBAA0B,GAC1BC,QAAS,EACTC,cAAe,YACfC,aAAc,GACdC,cAAe,UACfC,UAAW,UAEXC,aAAc,GAoOdE,KAjOW,CACX/C,UAAW,QAEXC,UAAW;;AAEXC,aAAc,GACdpjB,UAAW,GACXsjB,cAAe,GACfD,mBAAoB,GACpBE,eAAgB,GAEhBC,YAAa,GACbC,aAAc,GACdC,aAAc,EACdC,WAAY,GACZC,eAAgB,GAChBG,iBAAkB,GAClBF,mBAAoB,GACpBC,mBAAoB,GACpBE,aAAc,EACdvF,YAAa,EACbwF,kBAAmB,GACnBC,cAAe,GACfC,aAAc,EACdC,eAAgB,GAChBC,cAAe,IACfC,aAAc,GACdC,YAAa,GAEbC,aAAc,CACZvS,MAAO,GACPwS,KAAM,GACNC,MAAO,EACPvU,KAAM,EACNgS,MAAM,EACNwC,QAAS,EACT5N,KAAM,EACNjR,UAAW,IAGb8e,cAAe,CACb3S,MAAO,GACPwS,KAAM,EACNC,MAAO,EACPvU,KAAM,EACNgS,KAAM,EACNwC,QAAS,EACT5N,KAAM,GACNjR,UAAW,GAGb+e,UAAW,EACXC,UAAW,EACXC,gBAAiB,EACjBC,aAAc,EACdE,gBAAgB,EAChBC,aAAa,EACbI,aAAc,EACdC,YAAa,GACbC,yBAA0B,GAC1BC,QAAS,EACTC,cAAe,YACfC,aAAc,GACdC,cAAe,UACfC,UAAW,UAEXC,aAAc,GAgKdG,QA7JW,CACXhD,UAAW,QAEXC,UAAW;;AAEXC,aAAc,GACdC,mBAAoB,GACpBrjB,UAAW,GACXsjB,cAAe,GACfC,eAAgB,GAEhBQ,iBAAkB,GAClBF,mBAAoB,GACpBC,mBAAoB,GACpBN,YAAa,GACbC,aAAc,GACdC,aAAc,EACdC,WAAY,GACZC,eAAgB,GAChBI,aAAc,EACdvF,YAAa,EACbwF,kBAAmB,GACnBC,cAAe,GACfC,aAAc,EACdC,eAAgB,GAChBC,cAAe,IACfC,aAAc,GACdC,YAAa,GAEbC,aAAc,CACZvS,MAAO,EACPwS,KAAM,EACNC,MAAO,EACPvU,KAAM,EACNgS,MAAM,EACNwC,QAAS,EACT5N,KAAM,EACNjR,UAAW,GAGb8e,cAAe,CACb3S,MAAO,EACPwS,KAAM,EACNC,MAAO,EACPvU,KAAM,EACNgS,KAAM,EACNwC,QAAS,EACT5N,KAAM,GACNjR,UAAW,GAGb+e,UAAW,EACXC,UAAW,EACXC,gBAAiB,EACjBC,aAAc,EACdE,gBAAgB,EAChBC,aAAa,EACbI,aAAc,EACdC,YAAa,GACbC,yBAA0B,GAC1BC,QAAS,EACTC,cAAe,YACfC,aAAc,GACdC,cAAe,UACfC,UAAW,UAEXC,aAAc,GA4FdI,SAzFW,CACXjD,UAAW,QAEXC,UAAW,GAEXC,aAAc,GACdpjB,UAAW,GACXsjB,cAAe,GACfD,mBAAoB,GACpBE,eAAgB,GAEhBQ,iBAAkB,GAClBP,YAAa,GACbC,aAAc,GACdC,aAAc,EACdC,WAAY,GACZC,eAAgB,GAChBC,mBAAoB,GACpBC,mBAAoB,GACpBE,aAAc,EACdvF,YAAa,EACbwF,kBAAmB,GACnBC,cAAe,GACfC,aAAc,EACdC,eAAgB,GAChBC,cAAe,IACfC,aAAc,GACdC,YAAa,GAEbC,aAAc,CACZvS,MAAO,GACPwS,KAAM,GACNC,MAAO,EACPvU,KAAM,EACNgS,MAAM,EACNwC,QAAS,EACT5N,KAAM,EACNjR,UAAW,IAGb8e,cAAe,CACb3S,MAAO,GACPwS,KAAM,EACNC,MAAO,EACPvU,KAAM,EACNgS,KAAM,EACNwC,QAAS,EACT5N,KAAM,GACNjR,UAAW,GAGb+e,UAAW,EACXC,UAAW,EACXC,gBAAiB,EACjBC,aAAc,EACdE,gBAAgB,EAChBC,aAAa,EACbI,aAAc,EACdC,YAAa,GACbC,yBAA0B,GAC1BC,QAAS,EACTC,cAAe,YACfC,aAAc,GACdC,cAAe,UACfC,UAAW,UAEXC,aAAc,IAyBhBhD,GAAMtrC,OAAO2uC,YAAc,YAE3B,IAAIC,GAAQ,CACVnqC,OAAQ,CACNoqC,eAAgB,IAChBC,YAAa,IACb9P,QAAS,IACT+P,UAAW,GACXC,MAAO,MACPntC,OAAQ,IACRotC,SAAS,GAEXC,MAAO,SAAUlwC,GACf4vC,GAAMO,UAAqB,IAAVnwC,GAEnB2lC,QAAS,WACPiK,GAAMhH,WAAY,GAEpBhD,OAAQ,WACNgK,GAAMhH,WAAY,GAEpBpgC,MAAO,WACLonC,GAAMpnC,MAAQ,aAEdyiB,GAAQniB,SAASyO,KAAMuF,GAAIa,MAAM0d,KAAMuU,GAAMQ,YAAa,CACxD/kB,SAAS,IAEXJ,GAAQniB,SAASyO,KAAMuF,GAAIa,MAAM0yB,KAAMT,GAAMU,WAAY,CACvDjlB,SAAS,IAEXJ,GAAQniB,SAAUgU,GAAIa,MAAMyd,GAAIwU,GAAMW,WACtCtlB,GAAQniB,SAASyO,KAAM,aAAa,SAAUhU,GAC5C,IAAIqsC,GAAMhH,YAAagH,GAAMO,SAC7B,OAAOn3B,GAAazV,MAGtBqsC,GAAMY,mBAENZ,GAAMa,QAAU,CAAC,KAAM,MACvBb,GAAMxD,SAAU,GAElBoE,iBAAkB,WAChBZ,GAAMc,eAAiBd,GAAMe,iBAAmBf,GAAMgB,cAAgBhB,GAAMiB,gBAAkB,KAC9FjB,GAAMkB,aAAelB,GAAMmB,aAAenB,GAAMoB,aAAepB,GAAMqB,cAAgB,KACrFrB,GAAMsB,OAAS,CACbC,UAAW,EACXC,UAAW,EACXC,MAAO,GAGLzB,GAAM0B,qBACR13B,GAAUg2B,GAAM0B,mBAAoB,eACpC1B,GAAM0B,mBAAqB,MAG7BtwC,OAAOgyB,aAAa4c,GAAM2B,mBAC1B3B,GAAM4B,gBAAiB,EACvB5B,GAAM6B,SAAU,EAChB7B,GAAM8B,SAAU,EACX9B,GAAM+B,kBAAkB/B,GAAMgC,eAErCrB,UAAW,SAAUhtC,GACnB,GAAIqsC,GAAMc,eAAgB,CACxB,GAAKd,GAAMkB,aAQJ,CACL,IAAI5iC,EAAO0hC,GAAMiC,YAAYjC,GAAMmB,cAE/BtgC,EAAIvC,EAAK3K,EACT0U,EAAI/J,EAAK/H,EACTtD,EAAS+sC,GAAMnqC,OAAO5C,OAEtBivC,EAAQlC,GAAMmC,WAAWxuC,GAEzBiQ,EAAO6Z,GAAGuiB,GAAMmB,cAChB/Q,EAAUxsB,GAAQA,EAAKw+B,QAAUx+B,EAAKw+B,QAAQhS,QAAU4P,GAAMnqC,OAAOu6B,QAEzE,GAAI8R,EAAMT,MAAO,CACf,IAAIY,EAAKxhC,EAAIuvB,EAAU8R,EAAMX,UAAYW,EAAMT,MAC3Ca,EAAKj6B,EAAI+nB,EAAU8R,EAAMV,UAAYU,EAAMT,MAC3Cc,EAAMvC,GAAMa,QAAQ,GAAKb,GAAMwC,gBAAgBH,GAAI,GAAO,EAAOrC,GAAMoB,aAAazd,GAAIqc,GAAMoB,aAAaqB,IAAM5hC,EACjH6hC,EAAM1C,GAAMa,QAAQ,GAAKb,GAAMwC,gBAAgBF,GAAI,GAAO,EAAOtC,GAAMoB,aAAaxd,GAAIoc,GAAMoB,aAAauB,IAAMt6B,EACjHzS,EAAO0S,KAAKgC,IAAIhC,KAAKyS,IAAIwnB,EAAM1hC,GAAIyH,KAAKyS,IAAI2nB,EAAMr6B,IAClDzS,EAAO,MAAK3C,EAASA,EAAS2C,EAAO,KACrC2sC,GAAO1hC,GAAK6hC,GAAOr6B,IAAGpV,EAASqV,KAAKC,MAAMtV,EAASqV,KAAKgC,KAAKi4B,EAAM1hC,IAAMwhC,EAAKxhC,IAAK6hC,EAAMr6B,IAAMi6B,EAAKj6B,MACxG,IAAI9N,EAAS,CACX5G,EAAG4uC,EACHhsC,EAAGmsC,IAEL9+B,EAAO6Z,GAAGuiB,GAAMmB,gBACJv9B,EAAKg/B,cAAch/B,EAAKg/B,aAAaroC,GACjDtH,EAASqV,KAAKwJ,IAAIkuB,GAAMnqC,OAAO5C,OAAQqV,KAAKgC,IAAI,IAAKrX,IAEjD4N,GAAKtG,EAAO5G,GAAK0U,GAAK9N,EAAOhE,GAC/BypC,GAAM6C,YAAY7C,GAAMmB,aAAc5mC,EAAO5G,EAAG4G,EAAOhE,EAAGtD,EAAS,MAE/D+sC,GAAM8C,gBAAgB9C,GAAM8C,eAAeC,aAAaxoC,EAAO5G,EAAG4G,EAAOhE,EAAGtD,EAAS,OAEzF+sC,GAAMgC,mBAEHhC,GAAMgC,mBA1CRhC,GAAMqB,gBACLrB,GAAM8B,UAAY9B,GAAM6B,QAC1B7B,GAAMgD,iBAAiB,YACdhD,GAAM6B,UAAY7B,GAAM8B,SACjC9B,GAAMgD,iBAAiB,aAyC7BhD,GAAMgD,iBAAiB,cAEvBhD,GAAMY,qBAGVF,WAAY,SAAU/sC,GACpB,GAAKqsC,GAAMiB,iBAAoBjB,GAAMc,eAArC,CAEA,IAAIoB,EAAQlC,GAAMmC,WAAWxuC,GAI7B,GAFAqsC,GAAMgD,iBAAiB,eAEnBhD,GAAMkB,aACRlB,GAAMiD,uBAKN,GAHAjD,GAAM6B,QAAU7B,GAAMkD,YAAYhB,EAAMiB,GAAI,IAAKnD,GAAM6B,SACvD7B,GAAM8B,QAAU9B,GAAMkD,YAAYhB,EAAMkB,GAAI,IAAKpD,GAAM8B,SAEnD9B,GAAMkB,aAAc,CACtB,IAAIt9B,EAAOo8B,GAAMqD,gBAAgB,kBAAkB,GAEnD,GAAIz/B,EAAM,CACR,IAAI9P,EAAO,GACX8P,EAAKlI,UAAU,iBAAkB,CAAC5H,IAE9BA,EAAK+P,SACPm8B,GAAMnqC,OAAOuqC,MAAQtsC,EAAKssC,MAC1BJ,GAAMnqC,OAAO0kC,MAAQzmC,EAAKymC,OAI9ByF,GAAMsD,qBAED,CACL,IAAIlxC,EAAQ4tC,GAAMuD,aAEdzjB,EAAQrC,GAAGrrB,GAASA,EAAM,IAG9B,GAAI0tB,GAASA,EAAM0jB,aAAe1jB,EAAM0jB,eAAiB7vC,EAAE+V,WACzD,OAAON,GAAazV,GAK1B,OAAIqsC,GAAMkB,cAAgBvtC,EAAE+V,WAAmBN,GAAazV,QAA5D,IAEFsvC,gBAAiB,WACf,GAAKjD,GAAMmB,aAAX,CAEA,IAAI7iC,EAAO0hC,GAAMiC,YAAYjC,GAAMmB,cAE/BsC,EAAOzD,GAAMgB,eAAiBhB,GAAMc,eACpCl9B,EAAO6Z,GAAGuiB,GAAMmB,cAChBd,EAAUz8B,GAAQA,EAAKw+B,QAAUx+B,EAAKw+B,QAAQ/B,QAAUL,GAAMnqC,OAAOwqC,QACrEL,GAAMa,QAAQ,KAAIviC,EAAK3K,EAAIqsC,GAAMwC,gBAAgBlkC,EAAK3K,EAAI8vC,EAAK5iC,EAAIm/B,GAAMe,iBAAiBlgC,EAAGw/B,EAAS/hC,EAAK3K,EAAGqsC,GAAMoB,aAAazd,GAAIqc,GAAMoB,aAAaqB,KACxJzC,GAAMa,QAAQ,KAAIviC,EAAK/H,EAAIypC,GAAMwC,gBAAgBlkC,EAAK/H,EAAIktC,EAAKp7B,EAAI23B,GAAMe,iBAAiB14B,EAAGg4B,EAAS/hC,EAAK/H,EAAGypC,GAAMoB,aAAaxd,GAAIoc,GAAMoB,aAAauB,KAE5J3C,GAAM6C,YAAY7C,GAAMmB,aAAc7iC,EAAK3K,EAAG2K,EAAK/H,EAAG,OAElDypC,GAAM8C,gBAAgB9C,GAAM8C,eAAeC,aAAazkC,EAAK3K,EAAG2K,EAAK/H,EAAG,SAE9EukB,SAAU,SAAU7hB,EAAM4H,EAAGwH,EAAG+3B,GAC9BJ,GAAM6C,YAAY5pC,EAAM4H,EAAGwH,EAAG+3B,IAEhCyC,YAAa,SAAU5pC,EAAMyqC,EAAIC,EAAIvD,GACnC,GAAKA,GAOL,GAFAJ,GAAM+B,kBAAmB,EAErB9oC,EAAM,CACR,IAAI2qC,EAAQ5D,GAAMnqC,OAAO6Y,WAAaxB,GAAIwB,UAC1CzV,EAAKmN,MAAM8G,GAAIqB,WAAaq1B,EAAQ,IAAMt7B,KAAKC,MAAMm7B,GAAM,OAASp7B,KAAKC,MAAMo7B,GAAM,MAAiB,eAATC,EAAyB,MAAQ,IAAM,IACpI3qC,EAAKmN,MAAM8G,GAAIuB,oBAAsB2xB,QATrCnnC,EAAKmN,MAAM8G,GAAIqB,WAAa,IAYhC0zB,YAAa,SAAUhpC,GACrB,IACI4qC,EADAC,EAAS1yC,OAAO81B,iBAAiBjuB,GAAMiU,GAAIqB,WAE/C,GAAc,QAAVu1B,EAAkBD,EAAU,CAC9BlwC,EAAG,EACH4C,EAAG,QAEH,GAAInF,OAAO2yC,gBAETF,EAAU,IAAIE,gBAAgBD,OAAa,CAE3C,IAAIE,EAAWF,EAAOxqC,QAAO,uBAAyB,MAItD0qC,GADAA,EAAWA,EAAS1qC,QAAO,OAAS,KAChBmF,MAAM,KAC1BolC,EAAU,GAGV,IAFA,IAAII,EAAO,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,KAE5B30C,EAAI,EAAGA,EAAI20C,EAAK5zC,OAAQf,IAC/Bu0C,EAAQI,EAAK30C,IAAM2d,SAAS+2B,EAAS10C,GAAI,IAK/C,OADI0wC,GAAM8C,gBAAgB9C,GAAM8C,eAAeoB,UAAUL,GAClDA,GAETrB,gBAAiB,SAAUpyC,EAAO+zC,EAAOhlB,EAASwE,EAAI8e,GACpD,GAAIryC,IAAU+uB,EAAS,OAAO/uB,EAC9B,GAAIqyC,EAAK9e,EAAI,OAAO,EACpB,IAAIue,EAAQ55B,KAAKyS,IAAI3qB,EAAQ+uB,GACzBilB,EAAOlC,GAAS9xC,EAAQ+uB,GAC5B,GAAI/uB,EAAQ,EAAG,OAAO+zC,EAAQhlB,EAAUilB,EAAO97B,KAAK+7B,KAAKnC,GAAS,EAClE,IAAI53B,EAAMqZ,EAAK8e,EACf,OAAIn4B,EAAMla,EAAQ,EAAU+zC,EAAQhlB,EAAUilB,EAAO97B,KAAK+7B,KAAKnC,IAAU53B,EAClEla,GAETk0C,kBAAmB,SAAUrrC,GACtBA,EAAKsrC,iBACRtrC,EAAKsrC,gBAAiB,EACtBtrC,EAAKgO,WAAWb,MAAM0Y,SAAW,WACjC7lB,EAAKmN,MAAMU,SAAW,gEACtB7N,EAAKrH,iBAAiBsb,GAAIyB,cAAeqxB,GAAMgC,aAAa,KAGhEsB,eAAgB,YAC0B,IAApCtD,GAAMkB,aAAa3lC,QAAQ,OAAaykC,GAAMa,QAAQ,IAAK,IACvB,IAApCb,GAAMkB,aAAa3lC,QAAQ,OAAaykC,GAAMa,QAAQ,IAAK,IAC3Db,GAAMa,QAAQ,IAAMb,GAAMa,QAAQ,MAAIb,GAAMa,QAAQ,GAAKb,GAAMmB,cAEnEnB,GAAMsE,kBAAkBtE,GAAMmB,eAEhC+B,YAAa,SAAU9yC,EAAOsQ,EAAM8jC,GAClC,OAAIp0C,EAAQ4vC,GAAMnqC,OAAOsqC,WACnBH,GAAM4B,iBACR5B,GAAMyE,WAAW/jC,GAEjBs/B,GAAM0E,QAAQhkC,IAEkC,IAA3Cs/B,GAAMkB,cAAgB,IAAI3lC,QAAQmF,KAAas/B,GAAMkB,aAAe,MAGpE,GAGFsD,GAETxC,YAAa,WAEX,IAAIznC,EAAQnI,EAAOwR,GACnBA,EAAO6Z,GAAGuiB,GAAMmB,cAAgBvyC,SAG1BoxC,GAAMmB,aAAc5mC,EAASylC,GAAMiC,YAAYjC,GAAMmB,cAAuBv9B,EAAK0W,iBAEnF/f,EAAS,CACP5G,IAFFvB,EAAQwR,EAAK0W,kBAEDzZ,EACVtK,GAAInE,EAAMiW,IAGd3M,EAAU,gBAAiB,CAACnB,IACxBqJ,EAAKlI,WAAWkI,EAAKlI,UAAU,gBAAiB,CAACnB,KAGlDylC,GAAMkB,eAAclB,GAAMa,QAAU,CAAC,KAAM,OAChDb,GAAM+B,kBAAmB,GAE3B0C,WAAY,WACVrzC,OAAOgyB,aAAa4c,GAAM2B,mBAC1B3B,GAAM4B,gBAAiB,GAEzB+C,iBAAkB,SAAUhxC,GAC1B,IAAIqsC,GAAMa,QAAQ,GAEX,OAAO,EADZb,GAAM4E,aAAajxC,EAAGqsC,GAAMa,QAAQ,GAAK,IAAM,MAGnDL,YAAa,SAAU7sC,GACrB,IAAIqsC,GAAMhH,UAAV,CACAgH,GAAMqB,cAAgB,KACtBrB,GAAMiB,gBAAkBjB,GAAMc,eAAiB5zB,GAAIa,MAAMuN,QAAQ3nB,GAC7DqsC,GAAMO,WAAaP,GAAMuD,eAAcvD,GAAMiB,gBAAkB,MAEnEjB,GAAMgD,iBAAiB,gBAEnBhD,GAAM2E,iBAAiBhxC,KAAIqsC,GAAM2B,kBAAoBvwC,OAAOS,WAAWmuC,GAAM6E,YAAa7E,GAAMnqC,OAAOoqC,iBAC3G,IAAIrf,EAAUnD,GAAG9pB,IAEbitB,IAAWA,EAAQC,WAAeltB,EAAE+C,OAAOqQ,WAA0D,IAA7CpT,EAAE+C,OAAOqQ,UAAUxL,QAAQ,gBACrFykC,GAAM0B,mBAAqB9gB,EAAQG,QAAQptB,GAC3CmW,GAAOk2B,GAAM0B,mBAAoB,kBAGrCmD,YAAa,WACP7E,GAAMc,iBACRd,GAAMqB,eAAgB,EAEtBrB,GAAMgD,iBAAiB,eAEvBtnC,EAAU,UAAW,CAACskC,GAAMc,mBAGhC8D,aAAc,SAAUjxC,EAAGmxC,GAGzB,GAFA9E,GAAM0E,QAAQI,GAEV9E,GAAMa,QAAQ,GAAI,CACpB,IAAIj9B,EAAOo8B,GAAMqD,gBAAgB,kBAAkB,GAE/Cz/B,GAAMA,EAAKlI,UAAU,iBAAkB,CAACskC,GAAMc,eAAgBd,GAAMe,mBAEnEf,GAAMmB,cAAgBnB,GAAMmB,aAAal6B,aAAe+4B,GAAMa,QAAQ,GAAG55B,aAC5E+4B,GAAMY,mBAENZ,GAAMgC,cAENhC,GAAMc,eAAiB5zB,GAAIa,MAAMuN,QAAQ3nB,IAI7CqsC,GAAMU,WAAW/sC,IAEnBwuC,WAAY,SAAUxuC,GAiBpB,OAhBAqsC,GAAMgB,cAAgBhB,GAAMe,iBAC5Bf,GAAMe,iBAAmB7zB,GAAIa,MAAMuN,QAAQ3nB,GAC3CqsC,GAAMsB,OAAO6B,GAAK76B,KAAKyS,IAAIilB,GAAMc,eAAejgC,EAAIm/B,GAAMe,iBAAiBlgC,GAC3Em/B,GAAMsB,OAAO8B,GAAK96B,KAAKyS,IAAIilB,GAAMc,eAAez4B,EAAI23B,GAAMe,iBAAiB14B,GAEvE23B,GAAMgB,gBACJhB,GAAMe,iBAAiBld,KAAOmc,GAAMgB,cAAcnd,KAAOmc,GAAMnqC,OAAOqqC,aACxEF,GAAMsB,OAAOC,UAAYvB,GAAMsB,OAAOC,UAAY,IAAMvB,GAAMe,iBAAiBlgC,EAAIm/B,GAAMgB,cAAcngC,EACvGm/B,GAAMsB,OAAOE,UAAYxB,GAAMsB,OAAOE,UAAY,IAAMxB,GAAMe,iBAAiB14B,EAAI23B,GAAMgB,cAAc34B,GAEvG23B,GAAMsB,OAAOE,UAAYxB,GAAMsB,OAAOC,UAAY,EAGpDvB,GAAMsB,OAAOG,MAAQzB,GAAMsB,OAAOG,MAAQ,KAAOzB,GAAMe,iBAAiBld,KAAOmc,GAAMgB,cAAcnd,OAG9Fmc,GAAMsB,QAEfyD,WAAY,SAAU9rC,GACpB,MAAO,CACL0qB,GAAI1qB,EAAKwP,YACTmb,GAAI3qB,EAAK0P,aACT85B,GAAIxpC,EAAKgO,WAAWwB,YACpBk6B,GAAI1pC,EAAKgO,WAAW0B,eAGxB46B,WAAY,SAAUyB,OACpB,IAAI/rC,EAAO+mC,GAAMc,eAAepqC,OAEzBuC,GAAwB,QAAhBA,EAAKmG,SAAmB,CACrC,GAAInG,EAAK2E,aAAc,CACrB,IAAI8C,EAAOzH,EAAK2E,aAAa,gBAC7B,GAAI8C,KAAUskC,IAA4C,GAA7BtkC,EAAKnF,QAAQypC,IAAqB,MAAO,CAAC/rC,EAAMyH,GAG/EzH,EAAOA,EAAKgO,WAGd,OAAO,MAETy9B,QAAS,SAAUM,GACjB,IAAI5yC,EAAQ4tC,GAAMuD,WAAWyB,GAQ7B,OANI5yC,IACF4tC,GAAMkB,aAAe9uC,EAAM,GAC3B4tC,GAAMmB,aAAe/uC,EAAM,GAC3B4tC,GAAMoB,aAAepB,GAAM+E,WAAW3yC,EAAM,KAGvCA,GAET4wC,iBAAkB,SAAUxuC,GAC1BkH,EAAUlH,EAAM,CAACwrC,GAAMc,eAAgBd,GAAMe,mBAE7C,IAAIn9B,EAAOo8B,GAAMqD,gBAAgB7uC,GAE7BoP,GAAMA,EAAKlI,UAAUlH,EAAM,CAACwrC,GAAMc,eAAgBd,GAAMe,oBAE9DsC,gBAAiB,SAAU7uC,EAAM81B,GAC/B,IAAI1mB,EAAO6Z,GAAG6M,EAAS0V,GAAMmB,aAAenB,GAAMc,gBAClD,IAAKl9B,EAAM,OAAO,UAEXA,GAAM,CACX,GAAIA,EAAKvH,UAAYuH,EAAKvH,SAAS7H,GAAO,OAAOoP,EACjDA,EAAOA,EAAKma,gBAGd,OAAO,MAETknB,aAAc,SAAUtxC,GACtB,IAAKA,EAAEsV,QAAQ,GAAI,CACjB,IAAI3K,EAAO0hC,GAAMe,iBAEjB,OADAziC,EAAKulB,KAAO,IAAIzsB,KACTkH,EAGT,MAAO,CACL5H,OAAQ/C,EAAE+C,OACVmK,EAAGlN,EAAEsV,QAAQ,GAAGC,MAChBb,EAAG1U,EAAEsV,QAAQ,GAAGE,MAChB0a,KAAM,IAAIzsB,OAGd8tC,eAAgB,SAAUvxC,GACxB,MAAO,CACL+C,OAAQ/C,EAAE+C,OACVmK,EAAGlN,EAAEuV,MACLb,EAAG1U,EAAEwV,MACL0a,KAAM,IAAIzsB,QAchBwtB,eARM1X,GAAIa,QACNiyB,GAAMpnC,SAEuD,IAAzDM,SAASyO,KAAKZ,UAAUxL,QAAQ,sBAA6BykC,GAAMM,OAAM,GACzEpzB,GAAImB,UAAY82B,IAAIC,SAAS,sCAAsCl/B,GAAS,yGAKpFgH,GAAIm4B,MAAQ,CACV5Z,KAAM,YACNgV,KAAM,YACNjV,GAAI,UACJlQ,QAAS0kB,GAAMkF,gBAEjBh4B,GAAIa,MAAQb,GAAIa,OAAS,CACvB0d,KAAM,aACNgV,KAAM,YACNjV,GAAI,WACJlQ,QAAS0kB,GAAMiF,cAmBjB,IAAIK,GAAc,CAEhBC,cAAehsC,EAAU,CAAC,UAQ1BisC,QAAS,SAAUvsC,EAAM4oB,EAAM4jB,IAC7BxsC,EAAOD,EAAOC,IACTysC,WAAa92C,KAAK+2C,SAAS9jB,GAC5B4jB,IAAaxsC,EAAK2sC,cAAe,IAKvCD,SAAU,SAAU9jB,GAClBA,EAAOA,GAAQyjB,GAEf,IAAIvjB,EAAWnzB,KAAK22C,cAAczrC,KAAK+nB,GAYvC,OAVIE,EAAW,IACbA,EAAWnzB,KAAK22C,cAAcl1C,OAE9BzB,KAAK22C,cAAcp1C,KAAK0xB,GAEpBA,EAAKpmB,aAAaomB,EAAKpmB,YAAY,cAAc,WACnD,OAAO6pC,GAAYO,OAAOhkB,OAIvBE,GAET8jB,OAAQ,SAAUhkB,GAChB,IAAIE,EAAWnzB,KAAK22C,cAAczrC,KAAK+nB,GAEnCE,GAAW,IAETujB,GAAYQ,SAAWR,GAAYQ,QAAQC,YAAchkB,GAAUujB,GAAYU,YAE/EV,GAAYviB,OAASuiB,GAAYviB,MAAM2iB,YAAc3jB,IAAUujB,GAAYviB,MAAQ,MACvFn0B,KAAK22C,cAAcxjB,GAAY,OAGnCkkB,iBAAkB,SAAUtyC,EAAGuyC,GAC7B,IAAIC,EAAWb,GAEXtrC,EAASpL,KAAKw3C,uBAGlB,GAAIpsC,GAAUA,EAAOqsC,gBAAiB,CACpC,IAAKF,EAAStU,QAAUsU,EAASG,WAAW3yC,EAAGuyC,GAAU,OACzDvyC,EAAEytB,gBAAiB,EACnB,IAAIvU,EAAS7D,GAAIrV,GACb4yC,EAAYJ,EAASK,SAAS35B,EAAQlZ,GACtCymC,EAAM+L,EAASM,cACnBN,EAAStU,MAAMzrB,MAAM+B,IAAM0E,EAAOxE,EAAI89B,EAASh+B,KAAOo+B,IAAcnM,EAAIsM,SAAW,EAAItM,EAAIsM,UAAY,KACvGP,EAAStU,MAAMzrB,MAAMgC,KAAOyE,EAAOhM,EAAIslC,EAAS/9B,MAAQm+B,IAAcnM,EAAIuM,SAAW,EAAIvM,EAAIuM,UAAY,OAS7GC,QAAS,SAAU3tC,EAAM4oB,GACvB,IAAIrN,EAAQ5lB,MAEZqK,EAAOD,EAAOC,IACT8sC,WAAan3C,KAAK+2C,SAAS9jB,GAEhC1G,GAAOliB,EAAM,YAAamQ,IAE1B+R,GAAOliB,EAAMiU,GAAIm4B,MAAM5Z,MAAM,SAAU93B,GACrC,OAAO6gB,EAAMqyB,UAAUlzC,EAAGsF,EAAM,YAG9BiU,GAAIa,OAAOoN,GAAOliB,EAAMiU,GAAIa,MAAM0d,MAAM,SAAU93B,GACpD,OAAO6gB,EAAMqyB,UAAUlzC,EAAGsF,EAAM,aAIpC4tC,UAAW,SAAUC,EAAG7tC,EAAMitC,GAC5B,GAAIZ,GAAYQ,QAAS,CAEvB,GAAIR,GAAYyB,cAAgBD,EAAG,OAEnCxB,GAAY0B,eAAeF,GAE3BxB,GAAY2B,YAAYH,GAG1BxB,GAAYQ,QAAU7sC,EACtB,IAAIiuC,EAAQh6B,GAAIg5B,GAAS5qB,QAAQwrB,GACjCxB,GAAY6B,WAAaD,EACzB5B,GAAYyB,aAAeD,EAC3B,IAAIrrB,EAAsB,UAAZyqB,EAAsB,CAClCzqB,SAAS,GACP,KACJ6pB,GAAY8B,eAAiB/rB,GAAQniB,SAASyO,KAAMuF,GAAIg5B,GAASzF,MAAM,SAAU9sC,GAC/E,OAAO2xC,GAAY+B,WAAW1zC,EAAGuyC,KAChCzqB,GACH6pB,GAAYgC,eAAiBjsB,GAAQniB,SAAUgU,GAAIg5B,GAAS1a,GAAI8Z,GAAY0B,gBAE5El9B,GAAO5Q,SAASyO,KAAM,iBAAkB,IAG1Cq/B,eAAgB,SAAUrzC,GACxB2xC,GAAYiC,wBAEZjC,GAAYkC,kBAAoB7zC,EAAE+V,YAGpC29B,WAAY,SAAUI,EAAGvB,GAEvB,IAAIn4B,EAAoB,UAAZm4B,EAGZ,GAFAZ,GAAYkC,kBAAoBC,EAAE/9B,WAE9BqE,GAASu3B,GAAYkC,iBAGvB,OAFAlC,GAAYiC,wBAELjC,GAAY2B,YAAYQ,GAIjC,IAAI56B,EAASK,GAAIg5B,GAAS5qB,QAAQmsB,GAE9BztC,EAASsrC,GAAYc,uBAIzB,KADqBr4B,GAAS/T,GAAUA,EAAOqsC,kBAAoBrG,GAAMqB,eACnD/4B,KAAKyS,IAAIlO,EAAOhM,EAAIykC,GAAY6B,WAAWtmC,GAAK,GAAKyH,KAAKyS,IAAIlO,EAAOxE,EAAIi9B,GAAY6B,WAAW9+B,GAAK,GAA3H,CACA,IAAKi9B,GAAYzT,QAAUyT,GAAYgB,WAAWhB,GAAYyB,aAAcb,GAAU,OAAOZ,GAAYiC,wBAEzGjC,GAAYiC,uBAAsB,GAElCjC,GAAYoC,WAAW,SAEnB35B,GAEFu3B,GAAY8B,eAAiB/rB,GAAQosB,EAAE/wC,OAAQwW,GAAIg5B,GAASzF,MAAM,SAAU9sC,GAC1E,OAAO2xC,GAAYqC,UAAUh0C,EAAGuyC,KAC/B,CACDzqB,SAAS,IAEX6pB,GAAYgC,eAAiBjsB,GAAQosB,EAAE/wC,OAAQwW,GAAIg5B,GAAS1a,GAAI8Z,GAAYU,aAE5EV,GAAY8B,eAAiB/rB,GAAQniB,SAASyO,KAAMuF,GAAIg5B,GAASzF,MAAM,SAAU9sC,GAC/E,OAAO2xC,GAAYqC,UAAUh0C,EAAGuyC,MAElCZ,GAAYgC,eAAiBjsB,GAAQniB,SAAUgU,GAAIg5B,GAAS1a,GAAI8Z,GAAYU,YAG9EV,GAAYqC,UAAUF,EAAGvB,GAAS,KAGpCF,UAAW,SAAUryC,GACnB2xC,GAAYiC,wBAEZjC,GAAYyB,aAAe,KAEvBzB,GAAYviB,OAASpvB,IAEvB2xC,GAAYsC,MAAMtC,GAAYQ,QAASR,GAAYviB,MAAOpvB,GAC1D2xC,GAAYuC,SAASvC,GAAYQ,QAASR,GAAYviB,MAAO,KAAMpvB,IAGrE2xC,GAAY2B,YAAYtzC,GACxB2xC,GAAYoC,WAAW,SAEzBH,sBAAuB,SAAUO,GAC/Bl5C,KAAKw4C,eAAiBlsB,GAAYtsB,KAAKw4C,gBACvCx4C,KAAK04C,eAAiBpsB,GAAYtsB,KAAK04C,gBAClCQ,GAAY99B,GAAU9Q,SAASyO,KAAM,mBAG5CggC,UAAW,SAAUh0C,EAAGuyC,EAAStjB,GAC/B,IAAIujB,EAAWb,GACXz4B,EAAS7D,GAAIrV,GAEb4yC,EAAYJ,EAASK,SAAS35B,EAAQlZ,GAEtCymC,EAAM+L,EAASM,cAKnB,GAJAN,EAAStU,MAAMzrB,MAAM+B,IAAM0E,EAAOxE,EAAI89B,EAASh+B,KAAOo+B,IAAcnM,EAAIsM,SAAW,EAAItM,EAAIsM,UAAY,KACvGP,EAAStU,MAAMzrB,MAAMgC,KAAOyE,EAAOhM,EAAIslC,EAAS/9B,MAAQm+B,IAAcnM,EAAIuM,SAAW,EAAIvM,EAAIuM,UAAY,KAErG/jB,IAAOujB,EAAS4B,OAAQ,GACxB5B,EAAS4B,MAAO5B,EAAS4B,OAAQ,MAAW,CAC9C,IAAIb,EAAQvzC,EAEZ,GAAgB,UAAZuyC,EAAqB,CACvB,IAAIn+B,EAAa3W,OAAO4W,aAAe9O,SAAS2D,gBAAgBkL,YAAc7O,SAASyO,KAAKI,WACxFF,EAAYzW,OAAO0W,aAAe5O,SAAS2D,gBAAgBgL,WAAa3O,SAASyO,KAAKE,UACtFyT,EAAUpO,GAAIg5B,GAAS5qB,QAAQ3nB,GAC/B+C,EAASwC,SAAS8uC,iBAAiB1sB,EAAQza,EAAIkH,EAAYuT,EAAQjT,EAAIR,GAC3Eq/B,EAAQ,IAAIe,MAAMt0C,EAAG,CACnBgC,IAAK,SAAU1G,EAAKonB,GAClB,GAAa,WAATA,EACF,OAAO3f,EAGT,IAAIwH,EAAMjP,EAAIonB,GAEd,MAAmB,mBAARnY,EACFA,EAAI7G,KAAK1D,GAGXuK,KAKbioC,EAAS+B,WAAWhB,EAAMxwC,OAAQwwC,GAEpC,OAAO99B,GAAazV,IAGtBu0C,WAAY,SAAUjvC,EAAMtF,QACnBsF,GAAwB,QAAhBA,EAAKmG,SAAmB,CACrC,GAAInG,EAAKysC,WAKP,OAHI92C,KAAKm0B,QAAUn0B,KAAKm0B,OAAS9pB,GAAQA,EAAK2sC,eAC5Ch3C,KAAKi5C,SAASj5C,KAAKk3C,QAASl3C,KAAKm0B,MAAO9pB,EAAMtF,IAE3C/E,KAAKm0B,OAASn0B,KAAKm0B,OAAS9pB,GAAQA,EAAK2sC,cAE5Ch3C,KAAKm0B,MAAQ,KAEbn0B,KAAKu5C,SAAWv5C,KAAKw5C,QAAQ9C,GAAYQ,QAAS7sC,EAAMtF,QACpD/E,KAAKu5C,WACPv5C,KAAKm0B,MAAQ9pB,UAIjB,EAGFA,EAAOA,EAAKgO,WAGVrY,KAAKm0B,QACPn0B,KAAKm0B,MAAQn0B,KAAKu5C,SAAWv5C,KAAKi5C,SAASj5C,KAAKk3C,QAASl3C,KAAKm0B,MAAO,KAAMpvB,KAG/E+zC,WAAY,SAAUW,GACpB/C,GAAYhb,OAAmB,SAAV+d,EACrB3sC,EAAU,aAAc,CAAC2sC,KAG3B9kB,UAAW,SAAUpnB,GACnB,OAAOvN,KAAK22C,cAAcppC,EAAE4pC,YAAc5pC,EAAEupC,aAG9CrL,WAAY,WACV,OAAOzrC,KAAK63C,eAEd1lB,QAAS,WACP,OAAOnyB,KAAKijC,OAGdyU,WAAY,SAAU3yC,EAAGuyC,GACvB,IAAIruC,EAAIytC,GAAYQ,QACpBR,GAAYmB,cAAgB,GAC5B,IACI6B,EADAtuC,EAASpL,KAAK22C,cAAc1tC,EAAEkuC,YAGlC,GAAI/rC,EAAOuuC,YAAa,CAEtB,KADAD,EAAiBtuC,EAAOuuC,YAAY1wC,EAAGlE,EAAGuyC,IACrB,OAAO,EAE5Bt3C,KAAK45C,eAAe70C,GAEpB20C,EAAeliC,MAAM0Y,SAAW,eAC3B,CAEL,IAAI/pB,EAAOuwC,GAAYmD,MAAM5wC,EAAGlE,EAAGuyC,GAInC,GAFAZ,GAAYkD,eAAe70C,IAEtBoB,EAAM,OAAO,GAClBuzC,EAAiBpvC,SAASkM,cAAc,QACzBC,UAAYtQ,EAC3BuzC,EAAevhC,UAAY,kBAC3B7N,SAASyO,KAAKrB,YAAYgiC,GAC1B,IAAIhtB,EAAUgqB,GAAYmB,cAEtBnrB,EAAQ1U,OACV0U,EAAQqrB,UAAYr+B,KAAKC,MAAmC,GAA7B+/B,EAAe7/B,aAC9C6S,EAAQorB,UAAYp+B,KAAKC,MAAoC,IAA9B+/B,EAAe3/B,eAiBlD,OAPA2/B,EAAeliC,MAAMse,OAASpc,KAAKgC,IAAIg+B,EAAeliC,MAAMse,OAAQA,MACpE4gB,GAAYoD,WAAartB,GAAQitB,EAAgBp7B,GAAIg5B,GAASzF,KAAM6E,GAAYqD,YAC3ErD,GAAYmB,cAAcx1C,OAAMq0C,GAAYmB,cAAgB,CAC/D5yC,OAAQgE,EACR5G,KAAM4G,IAERytC,GAAYzT,MAAQyW,GACb,GAGTK,WAAY,WACVrD,GAAYyC,OAAQ,GAGtBd,YAAa,SAAUtzC,GACrB,IAAIkE,EAAIytC,GAAYQ,QAChB9rC,EAASpL,KAAK22C,cAAc1tC,EAAEkuC,YAC9BT,GAAYoD,aAAYpD,GAAYoD,WAAaxtB,GAAYoqB,GAAYoD,aAEzE1uC,GAAUA,EAAO4uC,aACftD,GAAYzT,OAAO73B,EAAO4uC,aAAa/wC,EAAGytC,GAAYzT,MAAOl+B,GAC5DkG,GAAOyrC,GAAYzT,OAEtB73B,GAAUA,EAAOigB,qBAAoBjgB,EAAOigB,mBAAqB7oB,OAAOgyB,aAAappB,EAAOigB,qBAC5FqrB,GAAYuD,WAAWhvC,GAAOyrC,GAAYuD,WAC9CvD,GAAY6C,SAAW7C,GAAYQ,QAAUR,GAAYviB,MAAQuiB,GAAYzT,MAAQyT,GAAYuD,UAAY,KAC7GvD,GAAYmB,cAAgB,MAE9BL,qBAAsB,WACpB,OAAOd,GAAYC,cAAcD,GAAYQ,QAAQC,aAEvD59B,IAAK,EAELC,KAAM,EACNogC,eAAgB,SAAU70C,GACxB,IAAIkZ,EAASy4B,GAAY6B,WACrB/M,EAAMkL,GAAYmB,cACtB,QAA2B,IAAhBrM,EAAIuM,eAAkD,IAAhBvM,EAAIsM,SAAyB,OAAO,KACrFtM,EAAIuM,SAAWvM,EAAIsM,SAAW,EAE9B,IAAIhjB,EAAI4hB,GAAYc,uBAEpB,GAAI1iB,EAAEolB,iBAAmBplB,IAAM90B,KAAM,CACnC,IAAIm6C,EAAUrlB,EAAEolB,gBAAgBj8B,EAAQlZ,GAEpCo1C,IACF3O,EAAIuM,SAAWoC,EAAQloC,EAAIgM,EAAOhM,EAClCu5B,EAAIsM,SAAWqC,EAAQ1gC,EAAIwE,EAAOxE,KAIxCm+B,SAAU,SAAU35B,EAAQlZ,GAC1B,IAAI+vB,EAAI90B,KAAK22C,cAAcD,GAAYQ,QAAQC,YAE/C,GAAIriB,EAAE8iB,UAAY9iB,GAAK90B,KAErB,OADA80B,EAAE8iB,SAAS35B,EAAQlZ,EAAG2xC,GAAYzT,QAC3B,GAIXuW,QAAS,SAAU91B,EAAGnW,EAAGxI,GACvB,IAAI+vB,EAAI90B,KAAK22C,cAAcppC,EAAEupC,YAC7B,OAAIhiB,EAAE0kB,SAAW1kB,GAAK90B,KAAa80B,EAAE0kB,QAAQ91B,EAAGnW,EAAGxI,IACnDwI,EAAE4K,UAAY5K,EAAE4K,UAAY,mBACrB5K,IAGT0rC,SAAU,SAAUv1B,EAAGnW,EAAGkW,EAAG1e,GAC3B,IAAI+vB,EAAI90B,KAAK22C,cAAcppC,EAAEupC,YAC7B,OAAIhiB,EAAEmkB,UAAYnkB,GAAK90B,KAAa80B,EAAEmkB,SAASv1B,EAAGnW,EAAGkW,EAAG1e,IACxDwI,EAAE4K,UAAY5K,EAAE4K,UAAUzN,QAAQ,kBAAmB,IAC9C,OAGTsuC,MAAO,SAAUt1B,EAAGnW,EAAGxI,GACrB,IAAI+vB,EAAI90B,KAAK22C,cAAcppC,EAAEupC,YAE7B,GADAJ,GAAYmB,cAAcx1C,KAAOq0C,GAAY/hB,UAAUjR,GACnDoR,EAAEkkB,OAASlkB,GAAK90B,KAAM,OAAO80B,EAAEkkB,MAAMt1B,EAAGnW,EAAGxI,GAC/CwI,EAAEmK,YAAYgM,IAGhBm2B,MAAO,SAAUn2B,EAAG3e,EAAGR,GACrB,IAAIuwB,EAAI90B,KAAK22C,cAAcjzB,EAAEyzB,YAC7B,OAAIriB,EAAE+kB,OAAS/kB,GAAK90B,KAAa80B,EAAE+kB,MAAMn2B,EAAG3e,EAAGR,GACxC,eAAiBmf,EAAElM,MAAMU,QAAU,KAAOwL,EAAEjN,UAAY,WAInE5J,EAAY,eAAe,SAAUoN,GAC/By8B,GAAYQ,UAAYR,GAAYkC,kBAAkBlC,GAAYW,iBAAiBp9B,EAAI,YAG7F,IAAImgC,GAAU,CACZC,YAAa,SAAU74C,GAOrB,OANIA,IACF7B,EAAQ8J,OAAOzJ,KAAMs6C,IAAM,GAC3B5D,GAAYsB,QAAQh4C,KAAKu6C,SAAWv6C,KAAKu6C,SAAWv6C,KAAK6qB,MAAO7qB,aACzDA,KAAKq6C,aAGP74C,IAGP84C,GAAO,CACTX,YAAa,SAAUhxC,EAAQ5D,GAC7B,GAAI/E,KAAKiH,OAAO4qC,KAAM,CACpB,IAAI2I,EAAW5hC,GAAOjQ,GAClB8xC,EAAQrgC,GAAIrV,GAGhB,OAFA2xC,GAAYn9B,IAAMihC,EAAS/gC,EAAIghC,EAAMhhC,EACrCi9B,GAAYl9B,KAAOghC,EAASvoC,EAAIwoC,EAAMxoC,EAC/B7H,EAAOpK,KAAKgwB,YAGvBgqB,aAAc,SAAU3vC,EAAMqwC,GAC5B,IAAI1lC,EAAOhV,KAEPgV,EAAK5H,YACP4H,EAAK5H,UAAUmM,IAAM8E,SAASq8B,EAAKljC,MAAM+B,IAAK,IAC9CvE,EAAK5H,UAAUoM,KAAO6E,SAASq8B,EAAKljC,MAAMgC,KAAM,KAGlDk9B,GAAYn9B,IAAMm9B,GAAYl9B,KAAO,EACrCxZ,KAAK8M,UAAU,gBAAiB,KAGlC8qC,SAAU,SAAU35B,EAAQlZ,GAC1B/E,KAAK8M,UAAU,aAAc,CAACmR,EAAQlZ,MAItC41C,GAAW,CACbC,WAAY,SAAUp5C,GACpB,GAAIA,GACF,IAAKxB,KAAK66C,aAAc,CACtB76C,KAAK66C,aAAe/iC,GAAO,MAAO,CAChC0D,MAAS,gBAMX,IAAI2X,EAAWnzB,KAAKiuB,UAAY6H,GAAO91B,KAAKoN,UAAU0oB,QAEtD5I,GAAMe,UAAU1sB,KAAK4xB,GAErBnzB,KAAK66C,aAAarjC,MAAMse,OAAS3C,EAAW,EAC5CnzB,KAAKgwB,SAASxY,MAAMse,OAAS3C,EAC7B7oB,SAASyO,KAAKrB,YAAY1X,KAAK66C,cAC/BvwC,SAASyO,KAAKvB,MAAMub,SAAW,SAE/BxG,GAAOvsB,KAAK66C,aAAc,QAASpyC,EAAKzI,KAAK86C,eAAgB96C,aAG/D,GAAIA,KAAK66C,aAAc,CACrB5vC,GAAOjL,KAAK66C,cACZ76C,KAAK66C,aAAe,KACpB,IAAIziB,EAAWlL,GAAMe,UACrBmK,EAASptB,OAAOotB,EAASzrB,QAAQ3M,KAAKiuB,WAAY,GAC7CmK,EAAS32B,SAAQ6I,SAASyO,KAAKvB,MAAMub,SAAW,IAIzD,OAAOvxB,IAIPu5C,GAAa,CACfC,cAAe,SAAUx5C,GAEvB,OADIA,IAAUxB,KAAKi7C,iBAAiBj7C,KAAKk7C,uBAClC15C,GAET05C,qBAAsB,WACpB,IAAIt1B,EAAQ5lB,KAEZ,IAAKA,KAAKm7C,UAAW,CACnB,IAAIC,EAAKp7C,KAAKgwB,SAEVorB,EAAG1qC,cACL0qC,EAAKA,EAAG1qC,YACL8G,MAAM0Y,SAAW,YAGtBlwB,KAAKm7C,UAAYrjC,GAAO,MAAO,CAC7B0D,MAAS,sBAGT6/B,mBAAsB,SAExBD,EAAG1jC,YAAY1X,KAAKm7C,WAEpB5uB,GAAOvsB,KAAKm7C,UAAW78B,GAAIm4B,MAAM5Z,MAAM,SAAU93B,GAC/C,OAAO6gB,EAAM01B,QAAQv2C,EAAG,YAGtBuZ,GAAIa,OAAOoN,GAAOvsB,KAAKm7C,UAAW78B,GAAIa,MAAM0d,MAAM,SAAU93B,GAC9D,OAAO6gB,EAAM01B,QAAQv2C,EAAG,cAI9Bw2C,iBAAkB,SAAU3hC,EAAOE,GACjC,IAAK9Z,KAAKw7C,aAAc,CACtBx7C,KAAKw7C,aAAe1jC,GAAO,MAAO,CAChC0D,MAAS,sBACR,IACHlR,SAASyO,KAAKrB,YAAY1X,KAAKw7C,cAC/B,IAAIf,EAAQ7hC,GAAO5Y,KAAKgwB,UACxBhwB,KAAKw7C,aAAahkC,MAAMgC,KAAOihC,EAAMxoC,EAAI,KACzCjS,KAAKw7C,aAAahkC,MAAM+B,IAAMkhC,EAAMhhC,EAAI,KACxCzZ,KAAKw7C,aAAahkC,MAAMse,OAASA,KAGnC91B,KAAKw7C,aAAahkC,MAAMoC,MAAQA,EAAQ,KACxC5Z,KAAKw7C,aAAahkC,MAAMsC,OAASA,EAAS,MAE5CwhC,QAAS,SAAUG,EAAGnE,GACpB,IAAItxB,EAAShmB,KAEb,GAAIA,KAAKiH,OAAOwuB,OAAQ,CACtBva,GAAO5Q,SAASyO,KAAM,sCACtB/Y,KAAK07C,SAAW9iC,GAAO5Y,KAAKgwB,UAC5B,IAAInD,EAAsB,UAAZyqB,EAAsB,CAClCzqB,SAAS,GACP,KACJ7sB,KAAK27C,oBAAsBlvB,GAAQniB,SAASyO,KAAMuF,GAAIg5B,GAASzF,MAAM,SAAU9sC,GAC7E,OAAOihB,EAAO41B,QAAQ72C,EAAGuyC,KACxBzqB,GACH7sB,KAAK67C,kBAAoBpvB,GAAQniB,SAAUgU,GAAIg5B,GAAS1a,IAAI,WAC1D,OAAO5W,EAAO81B,aAIpBF,QAAS,SAAU72C,EAAGuyC,GACpB,IAAsB,IAAlBt3C,KAAK07C,SAAoB,CAC3B,IAAIjB,EAAQrgC,GAAIrV,GACZg3C,EAAW,CACb9pC,EAAGwoC,EAAMxoC,EAAIjS,KAAK07C,SAASzpC,EAC3BwH,EAAGghC,EAAMhhC,EAAIzZ,KAAK07C,SAASjiC,GAE7B,GAAIzZ,KAAKg8C,YAAah8C,KAAKg8C,YAAYD,OAAe,CACpD,IAAI90C,EAASjH,KAAKiH,OACdq0B,EAAWr0B,EAAOq0B,UAAY,IAC9BE,EAAYv0B,EAAOu0B,WAAa,IAChCugB,EAAS9pC,EAAIqpB,EAAUygB,EAAS9pC,EAAIqpB,EAAkBygB,EAAS9pC,EAAIhL,EAAOs0B,WAAUwgB,EAAS9pC,EAAIhL,EAAOs0B,UACxGwgB,EAAStiC,EAAI+hB,EAAWugB,EAAStiC,EAAI+hB,EAAmBugB,EAAStiC,EAAIxS,EAAOw0B,YAAWsgB,EAAStiC,EAAIxS,EAAOw0B,WAEjHz7B,KAAKi8C,YAAcF,EAEnB/7C,KAAKu7C,iBAAiBQ,EAAS9pC,EAAG8pC,EAAStiC,GAE3B,UAAZ69B,GAAqB98B,GAAazV,KAG1C+2C,MAAO,WAED97C,KAAKw7C,eAAcx7C,KAAKw7C,aAAevwC,GAAOjL,KAAKw7C,eACvDpgC,GAAU9Q,SAASyO,KAAM,uBACzBqC,GAAU9Q,SAASyO,KAAM,kBACzBuT,GAAYtsB,KAAK27C,qBACjBrvB,GAAYtsB,KAAK67C,mBAEb77C,KAAKi8C,cACHj8C,KAAKk8C,WAAYl8C,KAAKk8C,WAAWl8C,KAAKi8C,cACxCj8C,KAAKiH,OAAO2S,MAAQ5Z,KAAKi8C,YAAYhqC,EACrCjS,KAAKiH,OAAO6S,OAAS9Z,KAAKi8C,YAAYxiC,EACtCzZ,KAAKy1B,WAITz1B,KAAK07C,SAAW17C,KAAKi8C,aAAc,EACnCj8C,KAAK8M,UAAU,eAAgB,MAI/BqvC,GAAQ,CACVv2C,KAAM,SACNoE,MAAO,SAAU/C,GACfjH,KAAKgwB,SAASvZ,UAAY,4GAC1BzW,KAAKkjC,YAAcljC,KAAKgwB,SAAStf,WACjC1Q,KAAKu6C,SAAWv6C,KAAKkjC,YAAY7yB,WAAW,GAC5CrQ,KAAKiqB,SAAWjqB,KAAKo8C,SAAWp8C,KAAKkjC,YAAY7yB,WAAW,GAC5DrQ,KAAKgwB,SAAS7X,WAAa,gBAE3BnY,KAAKgwB,SAASvY,aAAa,OAAQ,UAEnCzX,KAAKgwB,SAASvY,aAAa,WAAY,KAEvCzX,KAAKq8C,WAAar8C,KAAK2uB,WAAa,KACpC3uB,KAAKoN,UAAU8hB,OAAS,CACtB3V,KAAK,EACLC,MAAM,EACNyS,OAAO,EACPT,QAAQ,GAGLvkB,EAAOC,KAAID,EAAOC,GAAKiD,KAE5BoiB,GAAOvsB,KAAKkjC,YAAa,QAASljC,KAAK86C,eAAgB,CACrDryC,KAAMzI,OAGRusB,GAAOvsB,KAAKkjC,YAAa,SAAS,YAE3BljC,KAAKoN,UAAU0oB,QAAU91B,KAAKoN,UAAUkvC,UAC3Ct8C,KAAKgwB,SAASxY,MAAMse,OAASA,QAE9B,CACDrtB,KAAMzI,KACN4sB,SAAS,IAIP3lB,EAAOs1C,QAAOv8C,KAAKw8C,QAAS,GAE5Bv1C,EAAOw1C,aAAYz8C,KAAKoN,UAAUqvC,WAAax1C,EAAOw1C,YACtDx1C,EAAOi1B,QAAOl8B,KAAKoN,UAAU8uB,MAAQj1B,EAAOi1B,OAChDl8B,KAAK6M,YAAY,iBAAiB,WAC5B7M,KAAKoN,UAAU8iB,iBAAiBlwB,KAAKoN,UAAU8iB,aAGvD4qB,eAAgB,SAAU/1C,GACxB,IAAI23C,EAASxvB,GAAMgB,QACfiF,EAAWupB,EAAOxxC,KAAKlL,OACX,GAAZmzB,IAAgBA,EAAWupB,EAAOj7C,OAAS,GAC/CsD,EAAE43C,WAAaxpB,GAEjBzE,cAAe,WACb,OAAI1uB,KAAKq8C,WAAmB,CAACr8C,KAAKq8C,WAAYr8C,KAAK2uB,YAAwB,CAAC3uB,KAAK2uB,aAEnFiuB,cAAe,SAAUp7C,GAEvB,OADAxB,KAAKgwB,SAASxY,MAAMse,OAASt0B,EACtBA,GAETquB,QAAS,WACP7vB,KAAK68C,eAEPltB,SAAU,SAAUmtB,EAAUC,GAE5B,IAAIC,GADJD,EAAWA,GAAY/8C,KAAK2uB,aACH3uB,KAAK2uB,WAC9BouB,EAASrtB,aACLstB,EAAQh9C,KAAK2uB,WAAamuB,EAAc98C,KAAKq8C,WAAaS,GAC7DE,EAASh9C,KAAKo8C,SAAWp8C,KAAKu6C,UAAU7iC,YAAYolC,EAAS9sB,UAC9D,IAAIpM,EAAOk5B,EAAS9sB,SAASxY,MACzBirB,EAAW,CACblpB,KAAK,EACLC,MAAM,EACNyS,OAAO,EACPT,QAAQ,GAENxkB,EAAO,OAEwB,IAA/B81C,EAAS71C,OAAOm0B,aAClBqH,EAAW/6B,EAAM1H,KAAKoN,UAAU8hB,QAChCloB,EAAO,OAGT81C,EAAS1vC,UAAU8hB,OAASuT,EAC5B7e,EAAKq5B,eAAiBr5B,EAAKs5B,kBAAoBt5B,EAAKu5B,gBAAkBv5B,EAAKw5B,iBAAmBp2C,EAC9FhH,KAAKy1B,QAAO,IAEdhD,KAAM,SAAUpoB,EAAMyH,EAAMurC,GAC1B,IAAa,IAAThzC,EAAe,CAEjB,IAAKrK,KAAKoN,UAAUmW,OAAQ,OAC5BlZ,EAAO,KAGT,IAAKrK,KAAK8M,UAAU,eAAgBxG,WAAY,OAAO,EAUvD,IAAIm0C,EAAO1lB,EAAIC,EAKf,GAdAh1B,KAAKoN,UAAUmW,QAAS,EACxBvjB,KAAKgwB,SAASxY,MAAMse,OAASA,GAAO91B,KAAKoN,UAAU0oB,SAE/C91B,KAAKoN,UAAUmvC,OAASv8C,KAAKw8C,UAC/Bx8C,KAAK46C,YAAW,GAEhB56C,KAAKw8C,OAAS,OAIhB1qC,EAAOA,GAAQ,IACLhH,MAAKgH,EAAKhH,IAAM9K,KAAKoN,UAAUkwC,UAGrCjzC,EAAM,CAEa,UAAjBpK,EAAQoK,IAAsBA,EAAKmG,SASrC1K,EADAuE,EAAOD,EAAOC,GACD,uCACbowC,EAAQ7hC,GAAOvO,IARXA,EAAKvC,QACP2yC,EAAQrgC,GAAI/P,GACZ0qB,EAAK,GACLC,EAAK,GACAylB,EAAQpwC,EAQjB,IAAI4H,EAAIyH,KAAKgC,IAAIlZ,OAAOk3B,YAAc,EAAGpvB,SAASyO,KAAKc,aACnDJ,EAAIC,KAAKgC,IAAIlZ,OAAOo3B,aAAe,EAAGtvB,SAASyO,KAAKgB,cAExDgb,EAAKA,GAAM1qB,EAAKwP,aAAe,EAC/Bmb,EAAKA,GAAM3qB,EAAK0P,cAAgB,EAEhC,IAAI/S,EAAOhH,KAAK+nC,WACZwV,EAAQ9C,EAAMxoC,EACdurC,EAAQ/C,EAAMhhC,EACdgkC,EAAU,EACVC,EAAU,EACVvkC,EAAa,EACbF,EAAY,EACZ0kC,EAAM39C,KAAKoN,UAAUwwC,QAEzB,GAAID,EAAK,CACP,IAAIE,EAAmB,SAARF,EACXG,EAAU,EACVC,EAAU,EACVC,EAAc,EACbh+C,KAAKoN,UAAUiwC,QAAOS,EAAUC,EAAUC,EAAc,GAE7DX,EAAQ,MACRG,EAAQ,EACRD,EAAQ,EACRpkC,EAAa3W,OAAO4W,aAAe9O,SAAS2D,gBAAgBkL,YAAc7O,SAASyO,KAAKI,WAEpFlH,EAAIwoC,EAAMxoC,EAAI8iB,EAAK/tB,EAAK,IAAkB,SAAZ8K,EAAKhH,MAAmB+yC,IAAU/rC,EAAKhH,IAAM,QAE/D,SAAZgH,EAAKhH,KACPyyC,EAAQ9C,EAAMxoC,EAAI6rC,EAAU/oB,EAC5BgpB,GAAW/oB,EACXqoB,EAAQ,OACRI,EAAU/jC,KAAKC,MAAM8gC,EAAMhhC,EAAIub,EAAK,GACpC0oB,EAAUH,EAAQS,GACG,QAAZlsC,EAAKhH,KACdyyC,EAAQ9C,EAAMxoC,EAAI6rC,EAAU92C,EAAK,GAAK,EACtC+2C,GAAW/oB,EACXqoB,EAAQ,QACRI,EAAU/jC,KAAKC,MAAM8gC,EAAMhhC,EAAIub,EAAK,GACpC0oB,EAAUH,EAAQv2C,EAAK,GAAK,IAI1Bu2C,EADE9C,EAAMxoC,EAAIkH,EACJA,EACClH,EAAIkH,EAAashC,EAAMxoC,EAAIjL,EAAK,GACjCyzC,EAAMxoC,EAENA,EAAIkH,EAAa2kC,EAAU92C,EAAK,GAG1C02C,EAAUhkC,KAAKC,MAAM8gC,EAAMxoC,EAAI8iB,EAAK,GAEpC2oB,EAAUhkC,KAAKwJ,IAAIw6B,EAASH,EAAQv2C,EAAK,GAAmB,EAAdg3C,IAIhD/kC,EAAYzW,OAAO0W,aAAe5O,SAAS2D,gBAAgBgL,WAAa3O,SAASyO,KAAKE,YAEhFjS,EAAK,IAAMyS,EAAIR,EAAY+b,EAAKylB,EAAMhhC,EAAIskC,EAAU/2C,EAAK,IAAM62C,IAAyB,OAAZ/rC,EAAKhH,KAErF0yC,EAAQxoB,EAAKylB,EAAMhhC,EAAIskC,GAAY/9C,KAAKoN,UAAUiwC,MAAY,EAAJ,GAErDI,IACHJ,EAAQ,MACRI,EAAUD,EAAQQ,KAIpBR,EAAQ/C,EAAMhhC,EAAIskC,EAAU/2C,EAAK,IAErB,GACVw2C,EAAQ,EAEK,OAATH,IAAgBA,GAAQ,IAClBI,IACVJ,EAAQ,SAERI,IADAD,EACkBx2C,EAAK,GAAK,GAKlC,IAAIi3C,EAASnsC,EAAKG,GAAK,EACnBisC,EAASpsC,EAAK2H,GAAK,EAEnB0kC,EAAQn+C,KAAKo+C,sBAEjBp+C,KAAK6qB,MAAMrT,MAAM0Y,SAAWiuB,EAAQ,QAAU,WAE1CA,IACFX,GAAgBvkC,EAChBwkC,GAAoBxkC,GAGtBjZ,KAAKqvB,YAAYkuB,EAAQU,EAAQT,EAAQU,GAErCl+C,KAAKq+C,aACHhB,GAASr9C,KAAKoN,UAAUiwC,MAAOr9C,KAAKq+C,WAAWhB,EAAOK,EAAUO,EAAQR,EAAUS,EAAQC,GAAYn+C,KAAKs+C,oBAE5Gt+C,KAAK+6B,aAAa/6B,KAAKoN,UAAUoM,KAAMxZ,KAAKoN,UAAUmM,KAE7DvZ,KAAKgwB,SAASxY,MAAMghB,QAAU,QAC9Bx4B,KAAKu+C,YAAc,EACnBr1C,GAAM,WACJlJ,KAAKu+C,YAAc,IAClBv+C,KAAM,GAAIse,GAAIc,UAAY,IAAM,KAEnCpf,KAAK4oC,uBAED5oC,KAAKiH,OAAOu3C,YACdx+C,KAAKy+C,YAAcjiB,GAAUuB,WAC7BvB,GAAUyB,SAASj+B,QAGjB,GAAMktB,GAAMgB,QAAQhjB,KAAKlL,OAAOktB,GAAMgB,QAAQ3sB,KAAKvB,MACvDA,KAAK8M,UAAU,SAAU,KAE3Bo1B,MAAO,SAAUn9B,GAEf,IAAI/E,KAAKoN,UAAUmW,SAAUvjB,KAAKoN,UAAUmvC,OAAUv8C,KAAKoN,UAAUsxC,UAAW1+C,KAAKu+C,eAEjFx5C,GAAKA,EAAE45C,YAAc55C,EAAE45C,WAAa3+C,KAAKoN,UAAUlG,IAAMlH,KAAK4+C,YAAc5+C,KAAK4+C,aAAaxxC,UAAUlG,IAAMnC,EAAE45C,YAEhH55C,GAAKuZ,GAAIa,OAASpa,EAAEytB,gBAEpBtF,GAAMe,UAAUxsB,QAAUzB,KAAKgwB,SAASxY,MAAMse,QAAUpc,KAAKgC,IAAI9S,MAAM8Q,KAAM5X,EAAmBorB,GAAMe,aAA1G,CAEA,GAAIlpB,EAAG,CACL,IAAIouB,EAAWpuB,EAAE43C,WAKjB,GAJKxpB,GAAyB,IAAbA,IAAgBA,GAAW,GAE9BjG,GAAMgB,QAAQhjB,KAAKlL,OAElBmzB,EAAU,OAG3BnzB,KAAK6+C,iBAEP5V,cAAe,SAAUznC,GAEvB,OADIA,EAAOxB,KAAK00B,OAAY10B,KAAKyyB,SACxBjxB,GAEXkzB,KAAM,WACJ,IAAIvB,EAAWnzB,KAAK6+C,eAEpB7+C,KAAK8+C,iBAAiB3rB,IAExB0rB,aAAc,WACZ,IAAI7+C,KAAKqJ,cAAerJ,KAAKoN,UAAUmW,OAAvC,CAKA,GAJIvjB,KAAKoN,UAAUmvC,OAAOv8C,KAAK46C,YAAW,GAE1C56C,KAAK++C,kBAED/+C,KAAKoN,UAAUoxC,UAAW,CAC5B,IAAItgC,EAAK5T,SAASm1B,cAEdvhB,GAAMle,KAAKgwB,WAAahwB,KAAKgwB,SAASgI,SAAS9Z,IAAOA,IAAO5T,SAASyO,QACxEyjB,GAAUyB,SAASj+B,KAAKy+C,aACxBz+C,KAAKy+C,YAAc,MAKvB,IAAItrB,EAAWjG,GAAMgB,QAAQhjB,KAAKlL,MAGlC,OADImzB,GAAW,GAAIjG,GAAMgB,QAAQrjB,SAASsoB,GACnCA,IAET4rB,gBAAiB,WACgB,OAA3B/+C,KAAKoN,UAAU8iB,SACjBwY,GAAQ1oC,KAAKgwB,SAAU,CACrB1rB,KAAM,QACN2N,EAAG,EACHwH,IAAKzZ,KAAKqoC,gBAAkB,IAC5B8E,SAAU,IACVxsB,SAAU3gB,KAAKg/C,eACf5zC,OAAQpL,OAELA,KAAKg/C,kBAGdF,iBAAkB,SAAU3rB,GAC1B,GAAIA,GAAW,EAGb,IAFA,IAAIuE,EAAQxK,GAAMgB,QAETxtB,EAAIg3B,EAAMj2B,OAAS,EAAGf,GAAKyyB,EAAUzyB,IACxCg3B,EAAMh3B,GAAG49C,aACX5mB,EAAMh3B,GAAGm+C,gBAIjBnvB,WAAY,WACV1vB,KAAK00B,OACLiO,GAAYjT,WAAW9mB,MAAM5I,KAAM,KAErCg/C,eAAgB,WACTh/C,KAAKqJ,cACRrJ,KAAKgwB,SAASxY,MAAMghB,QAAU,OAC9Bx4B,KAAKoN,UAAUmW,QAAS,EACxBvjB,KAAK8M,UAAU,SAAU,MAG7BovB,MAAO,WACLl8B,KAAK0vB,cAEPuvB,gBAAiB,SAAUz9C,QACM,IAApBA,EAAM45B,aAA2B55B,EAAM45B,YAAa,IAEjEyhB,YAAa,SAAUr7C,GAYrB,MAXsB,UAAlBvB,EAAQuB,KAAoBA,EAAQ,CACtCqoB,SAAUroB,IAGZxB,KAAKi/C,gBAAgBz9C,GAErB0rB,GAAMQ,aAAe1tB,KACrBA,KAAK2uB,WAAaN,GAAG6C,MAAM1vB,GAE3BxB,KAAKo8C,SAAS1kC,YAAY1X,KAAK2uB,WAAWqB,UAEnCxuB,GAET09C,YAAa,SAAU19C,GACrB,IAAIokB,EAAQ5lB,KAEZ,IAAc,IAAVwB,EAAiB,OAAOA,EAC5B,IAAIsY,EAAS9Z,KAAKoN,UAAUqvC,WACxBt2C,EAAuB,iBAAT3E,EACdyF,EAAS,CACX6S,OAAQA,EACR22B,QAAS,EACTn1B,IAAK,kBACLhX,KAAM,SACN82B,YAAY,GAGVj1B,IACFnG,KAAKgwB,SAASvY,aAAa,aAAcjW,GAEzCA,EAAQ,CACNqoB,SAAUroB,KAII,YAAdA,EAAMwT,OAAuBxT,EAAMwT,MAAQxT,EAAMqoB,WACnDlqB,EAAQ8J,OAAOjI,EAAOyF,GAGpBd,GAAQnG,KAAKiH,OAAOi1B,MACtB16B,EAAQ,CACNivC,QAAS,CACPj3B,KAAMo0B,GAAQW,YAAc,EAC5BtiB,MAAO,GAET2E,KAAM,CAACpvB,EAAO,CACZsY,OAAQA,EACR9E,KAAM,OACNunB,KAAM,YACNlgB,MAAO,WACLuJ,EAAM8O,WAIP/0B,EAAQ8J,OAAOjI,EAAO,CAC3B45B,YAAY,IAGdlO,GAAMQ,aAAe1tB,KACrBA,KAAKq8C,WAAahuB,GAAG6C,MAAM1vB,GAE3B,IAAIqoB,EAAW7pB,KAAKq8C,WAAWrsB,SAASkH,cAAc,wBAMtD,OAJIrN,IAAUA,EAASrS,MAAM2nC,WAAarlC,EAAS,MAEnD9Z,KAAKu6C,SAAS7iC,YAAY1X,KAAKq8C,WAAWrsB,UAEnCxuB,GAETq6B,QAAS,WACP,OAAO77B,KAAK2uB,YAEdywB,QAAS,WACP,OAAOp/C,KAAKq8C,YAEdhsB,OAAQ,WACN,OAAOrwB,KAAKy1B,UAEd0T,eAAgB,WACVnpC,KAAK2uB,YAAY3uB,KAAKy1B,UAE5BA,OAAQ,WACN2T,GAAKC,IAAIhZ,OAAOjuB,KAAKpC,MACrB8M,EAAU,WAAY,IAElB9M,KAAKgqB,aACPhqB,KAAK+6B,aAAa/6B,KAAKoN,UAAUoM,KAAMxZ,KAAKoN,UAAUmM,MAG1D6kC,oBAAqB,WACnB,GAAIp+C,KAAKoN,UAAUhC,OAAQ,CACzB,IAAImO,EAAMsV,GAAG7uB,KAAKoN,UAAUhC,QAAQ62B,mBAAmBpX,MACvD,OAAOtR,GAA8B,UAAvBA,EAAI/B,MAAM0Y,SAG1B,OAAO,GAET6K,aAAc,SAAU9oB,EAAGwH,GACzB,GAAIzZ,KAAKoN,UAAU8iB,UAAYlwB,KAAKo+C,sBAAuB,CACzDp+C,KAAK6qB,MAAMrT,MAAM0Y,SAAW,QAC5B,IAAItW,EAAQ5Z,KAAKioC,eACbnuB,EAAS9Z,KAAKqoC,gBAClB,GAAIzuB,GAAS,GAAKE,GAAU,EAAG,OAC/B,IAAIyhB,EAAW/4B,OAAOk3B,YAAcpvB,SAAS2D,gBAAgB4L,YACzD4hB,EAAYj5B,OAAOo3B,aAAetvB,SAAS2D,gBAAgB8L,aAC3DP,EAAOE,KAAKC,OAAO4hB,EAAW3hB,GAAS,GACvCL,EAAMG,KAAKC,OAAO8hB,EAAY3hB,GAAU,GAE5C,GAAsC,mBAA3B9Z,KAAKoN,UAAU8iB,SAAwB,CAChD,IAAImvB,EAAS,CACX7lC,KAAMA,EACND,IAAKA,EACLK,MAAOA,EACPE,OAAQA,EACRyhB,SAAUA,EACVE,UAAWA,GAGbz7B,KAAKoN,UAAU8iB,SAAS9tB,KAAKpC,KAAMq/C,GAE/BA,EAAOzlC,OAASA,GAASylC,EAAOvlC,QAAUA,GAAQ9Z,KAAK6nC,SAASwX,EAAOzlC,MAAOylC,EAAOvlC,QACzF9Z,KAAKqvB,YAAYgwB,EAAO7lC,KAAM6lC,EAAO9lC,SAEN,OAA3BvZ,KAAKoN,UAAU8iB,WACjB3W,GAAM,EAAKO,GAIR9Z,KAAKoN,UAAU8iB,WAClB1W,EAAOxZ,KAAKoN,UAAUoM,MAAQA,EAC9BD,EAAMvZ,KAAKoN,UAAUmM,KAAOA,GAG9BvZ,KAAKqvB,YAAY7V,EAAMD,GAGM,OAA3BvZ,KAAKoN,UAAU8iB,UAAmBwY,GAAQ1oC,KAAKgwB,SAAU,CAC3D1rB,KAAM,QACN2N,EAAG,EACHwH,EAAGK,EAAyC,GAA/B9Z,KAAKoN,UAAUqjC,SAAW,GACvCtD,SAAU,IACVxsB,SAAU3gB,KAAKs/C,qBACfl0C,OAAQpL,YAELA,KAAKqvB,YAAYpd,EAAGwH,IAE7B6lC,qBAAsB,SAAUj1C,GAC9Bq+B,GAAQ/iB,MAAMtb,GACdrK,KAAKoN,UAAUmM,KAAwC,GAA/BvZ,KAAKoN,UAAUqjC,SAAW,GAClDzwC,KAAKqvB,YAAYrvB,KAAKoN,UAAUoM,KAAMxZ,KAAKoN,UAAUmM,MAEvD8V,YAAa,SAAUpd,EAAGwH,GACxBzZ,KAAKgwB,SAASxY,MAAM+B,IAAME,EAAI,KAC9BzZ,KAAKgwB,SAASxY,MAAMgC,KAAOvH,EAAI,KAC/BjS,KAAKoN,UAAUoM,KAAOvH,EACtBjS,KAAKoN,UAAUmM,IAAME,GAEvB+uB,SAAU,SAAUzT,EAAIC,GACtB,IAAIyU,EAAWzpC,KAAKoN,UAAU8hB,OAE1Bua,IACF1U,IAAO0U,EAASjwB,KAAO,EAAI,IAAMiwB,EAASxd,MAAQ,EAAI,GACtD+I,IAAOyU,EAASlwB,IAAM,EAAI,IAAMkwB,EAASje,OAAS,EAAI,IAIpDxrB,KAAKoN,UAAU8tB,OAAMlG,GAAM,GAE/B,IAAIhuB,EAAOhH,KAAK2uB,WAAW6Z,SAAS,EAAG,GAEnC+W,EAAe,EAEnB,GAAIv/C,KAAKq8C,WAAY,CACnB,IAAImD,EAAYx/C,KAAKq8C,WAAW7T,SAAS,EAAG,GAExCgX,EAAU,IAAMA,EAAU,KAAIx/C,KAAKoN,UAAUqvC,WAAa+C,EAAU,IACxExqB,GAAMh1B,KAAKoN,UAAUqvC,WACrB8C,EAAeC,EAAU,GAG3B,GAAIx/C,KAAKoN,UAAU6iB,WAAY,CAC7B,IAAIrW,EAAQpX,OAAOk3B,YAAcpvB,SAASyO,KAAKmb,YAC3Cpa,EAAStX,OAAOo3B,aAAetvB,SAASyO,KAAKmwB,aACjD,MAAO,CAACtvB,EAAOA,EAAOE,EAAQA,GAIhC,IAAI2lC,EAAY9V,GAAON,IAAIb,SAASpmC,KAAKpC,KAAM,EAAG,GAOlD,OALIu/C,GAAgBv4C,EAAK,GAAK,MAAQA,EAAK,GAAK0S,KAAKgC,IAAI6jC,EAAcv4C,EAAK,KAC5Ey4C,EAAU,GAAK/lC,KAAKwJ,IAAIu8B,EAAU,IAAKz4C,EAAK,IAAM,KAAUy4C,EAAU,IAAM,IAAS/lC,KAAKgC,IAAI1U,EAAK,GAAIy4C,EAAU,IAAMz4C,EAAK,IAAM+tB,GAClI0qB,EAAU,GAAK/lC,KAAKwJ,IAAIu8B,EAAU,IAAKz4C,EAAK,IAAM,KAAUy4C,EAAU,IAAM,IAAS/lC,KAAKgC,IAAI1U,EAAK,GAAIy4C,EAAU,IAAMz4C,EAAK,IAAMguB,GAClIyqB,EAAU,GAAK/lC,KAAKwJ,IAAIxJ,KAAKgC,IAAI+jC,EAAU,GAAIz4C,EAAK,GAAK+tB,GAAK0qB,EAAU,IACxEA,EAAU,GAAK/lC,KAAKwJ,IAAIxJ,KAAKgC,IAAI+jC,EAAU,GAAIz4C,EAAK,GAAKguB,GAAKyqB,EAAU,IACjEA,GAET5X,SAAU,SAAU51B,EAAGwH,GACrBkwB,GAAON,IAAIxB,SAASzlC,KAAKpC,KAAMiS,EAAGwH,GAClCxH,EAAIjS,KAAKioC,eACTxuB,EAAIzZ,KAAKqoC,iBAEmB,IAAxBroC,KAAKoN,UAAU8tB,MACjBl7B,KAAKu6C,SAAS/iC,MAAMghB,QAAU,OAE9Bx4B,KAAK2uB,WAAWkZ,SAAS51B,EAAGwH,KAE5BzZ,KAAKq8C,WAAWxU,SAAS51B,EAAGjS,KAAKoN,UAAUqvC,YAE3Cz8C,KAAK2uB,WAAWkZ,SAAS51B,EAAGwH,EAAIzZ,KAAKoN,UAAUqvC,cAGnD3qB,MAAO,WACL9xB,KAAK+J,SAAS0yC,WAAa7O,GAAQM,WAErCnkC,SAAU,CACRwP,IAAK,EACLC,KAAM,EACNokC,SAAS,EACTN,SAAU,SACVvkC,KAAM,GACNmiB,KAAM,GACN3X,QAAQ,EACRi7B,WAAW,EACXljB,SAAU,IACVE,UAAW,IACXkjB,SAAS,IAIb7xC,EAAY,eAAe,SAAUoN,GACnC,GAAKA,GAAOA,EAAGnS,OAAf,CACA,IAAIkN,EAAO6Z,GAAG5U,EAAGnS,QAEjB,GAAIkN,EAAM,CACRA,EAAOA,EAAK2pB,WAAU,SAAU11B,GAC9B,OAAQA,EAAEkmB,kBACT,WAAana,EAChB,IACIme,EADSjG,GAAMgB,QACGhjB,KAAK8J,IACV,IAAbme,IAAiBlZ,EAAG0iC,WAAaxpB,QAGzC,IACIusB,GAAW,CACbrW,IAAK8S,GACLnnC,KAHWrV,EAAQwxB,QAAQgrB,GAAOxS,GAAO30B,KAAMolC,GAASO,GAAU3uC,EAAa+uC,KAM7E4E,GAAgB,CAClB51C,SAAU,CACR0mC,QAAS,IACTltB,QAAQ,GAEVs5B,YAAa,SAAUr7C,GAGrB,OAFAA,EAAQk+C,GAASrW,IAAIwT,YAAYz6C,KAAKpC,KAAMwB,GAC5CxB,KAAK2uB,WAAWqB,SAASxY,MAAMgyB,YAAc,MACtChoC,GAETo+C,SAAU,SAAUv/C,GAElB,IAAI6G,EADJpB,EAAOzF,EAAK,sCAEQ6G,EAAhB7G,EAAIw/C,WAAiBx/C,EAAIwM,YAAY,qBAAsBpE,EAAKzI,KAAK8/C,YAAa9/C,OAAiBysB,GAAQpsB,EAAK,cAAeL,KAAK+/C,cAAe,CACrJt3C,KAAMzI,OAERA,KAAK6M,YAAY,cAAc,WACzBxM,EAAIyM,UAAWzM,EAAImN,YAAYtG,GAASolB,GAAYplB,GACxD7G,EAAM,SAGVorC,WAAY,WACV,OAAOzrC,KAAKggD,OAEdC,WAAY,SAAUrnB,GACpB54B,KAAKggD,MAAQpnB,GAEfmnB,cAAe,SAAUh7C,GAEvB,OADA/E,KAAKggD,MAAQ51C,EAAOrF,GACb/E,KAAKkgD,SAASn7C,IAEvB+6C,YAAa,SAAU54C,EAAInC,GAKzB,OAJA/E,KAAKggD,MAAQ,CACX3/C,IAAKwuB,GAAG9pB,GACRmC,GAAIA,GAEClH,KAAKkgD,SAASn7C,IAEvBm7C,SAAU,SAAUn7C,GAClB,IAAI4G,EAAS3L,KAAKyyB,KAAK1tB,EAAG,MAAM,GAChC,IAAe,IAAX4G,EAAkB,OAAOA,EAE7B,IAAIqJ,EAAO6Z,GAAG9pB,GAEd,GAAIiQ,EAAM,CACR,IAAIuE,EAAMvE,EAAK2pB,WAAU,SAAU11B,GACjC,OAAQA,EAAEkmB,kBACT,WAAana,EACZuE,EAAIuhC,gBAAgBvhC,EAAIuhC,eAAe/1C,GAK7C,OADA+H,EAAU,UAAW,CAAC/H,IACfyV,GAAazV,IAEtBo7C,oBAAoB,EACpBC,cAAe,SAAU5+C,GAEvB,OADAxB,KAAK4/C,SAASp+C,GACP,OAIP6+C,GAAa,CACfL,MAAO,KACPM,SAAU,KACVC,MAAO;;;AAIPtqC,KAAM,WAEJ,OAAmB,OAAfjW,KAAKggD,QACT9yB,GAAMa,YAAYxsB,KAAK,CACrBlB,IAAKL,OAGPA,KAAKggD,MAAQ11C,SAASkM,cAAc,YACpCxW,KAAKggD,MAAM7nC,UAAY,mBAEvBnY,KAAKggD,MAAMvoC,aAEX,cAAe,GAEfzX,KAAKggD,MAAMvoC,aAAa,aAAc,SAEtCzX,KAAKggD,MAAMvoC,aAAa,iBAAkB,OAE1CzX,KAAKggD,MAAMvoC,aAAa,cAAe,OAEvCzX,KAAKggD,MAAMvoC,aAAa,eAAgB,OAExCnN,SAASyO,KAAKrB,YAAY1X,KAAKggD,OAC/BvzB,GAAQniB,SAASyO,KAAM,UAAWtQ,GAAK,SAAU1D,GAC/C,IAAIsM,EAAMtM,EAAE+yB,OAAS/yB,EAAEgzB,QACnB9E,KAAUluB,EAAEg8B,UAAWh8B,EAAEk8B,SAEjB,KAAR5vB,GAAc4hB,IAChBjzB,KAAKggD,MAAMx+C,MAAQ,GACnB0H,EAAMlJ,KAAKwgD,OAAQxgD,KAAM,CAAC+E,GAAI,QAE/B/E,QA7B6BA,KAAKggD,OAgCvCtwB,WAAY,WACV1vB,KAAKggD,MAAQ;;;AAKfrlB,IAAK,SAAUx0B,GACbnG,KAAKiW,OACL9P,EAAgB,KAATA,EAAc,KAAOA,EAC5BnG,KAAKggD,MAAMx+C,MAAQ2E,EACnBnG,KAAK4c;;;AAKPA,MAAO,WAEA5c,KAAKygD,mBACRzgD,KAAKiW,OAELjW,KAAKggD,MAAMpjC,QAEX5c,KAAKggD,MAAMtiB;;;AAMf+iB,eAAgB,WACd,IAAIt6C,EAAO,GAQX,YANkC,IAAvB3D,OAAOk+C,aAChBv6C,EAAO3D,OAAOk+C,eAAev+C,gBACS,IAAtBmI,SAASq2C,WAAuD,QAA3Br2C,SAASq2C,UAAUr8C,OACxE6B,EAAOmE,SAASq2C,UAAUC,cAAcz6C,QAGjCA;;;AAKXq6C,OAAQ,SAAUz7C,GAGhB,GAFUA,EAAE+C,SAEA9H,KAAKggD,MAAO,CACtB,IAAI75C,EAAOnG,KAAKggD,MAAMx+C,MAClBq/C,EAAcrkB,GAAUuB,YAExB8iB,GAAiBA,EAAYC,WAAcD,EAAYC,cACzDD,EAAY/zC,UAAU,UAAW,CAAC3G,IAElCnG,KAAKggD,MAAMtiB,aAMfqjB,GAAQ,CACVh4B,QAAQ,EACRi4B,UAAW,CACTvjC,KAAM,KACNmT,KAAM,MAERxf,MAAO,SAAUjL,EAAM86C,GAErB,GADAA,EAAMA,GAAOjhD,KAAKghD,WACbhhD,KAAK+oB,OAAQ,OAAO/oB,KAAKkhD,iBAAiB/6C,EAAM86C,OACrD,IAAIE,EAAQh7C,EAAKuE,QAAO,MAAQ,IAAImF,MAAMoxC,EAAIxjC,MAC1C/c,EAAI,EAEDA,EAAIygD,EAAM1/C,OAAS,GACpBzB,KAAKohD,cAAcD,EAAMzgD,GAAI,KAAQ,GAAM,IAC7CygD,EAAMzgD,IAAMugD,EAAIxjC,KAAO0jC,EAAMzgD,EAAI,UAC1BygD,EAAMzgD,EAAI,GACjBA,KAGFA,IAGF,IAAIqkB,EAAM,GAEV,IAAKrkB,EAAI,EAAGA,EAAIygD,EAAM1/C,OAAQf,IAC5B,QAAwB,IAAbygD,EAAMzgD,GAAoB,CAMnC,IALA,IAAI2gD,EAAQF,EAAMzgD,GACdgc,EAAQ,EACRwwB,EAAO,GACPoU,GAAS,EAEJC,EAAI,EAAGA,GAAKF,EAAM5/C,OAAQ8/C,IAAK,CACtC,IAAKD,GAAUD,EAAME,KAAON,EAAIrwB,MAAQ2wB,IAAMF,EAAM5/C,OAAQ,CAC1D,IAAI+/C,EAAQH,EAAMz0C,OAAO8P,EAAO6kC,EAAI7kC,GAEhC8kC,EAAM,KAAOA,EAAMA,EAAM//C,OAAS,IAAmB,MAAb+/C,EAAM,KAChDA,EAAQA,EAAM50C,OAAO,EAAG40C,EAAM//C,OAAS,GAAGiJ,QAAQ,KAAQ,MAG5DwiC,EAAK3rC,KAAKigD,GACV9kC,EAAQ6kC,EAAI,EAGG,MAAbF,EAAME,KACRD,GAAUA,GAKdv8B,EAAIxjB,KAAK2rC,GAIb,OAAOnoB,GAETm8B,iBAAkB,SAAU/6C,EAAM86C,GAGhC,IAFA,IAAIE,EAAQh7C,EAAK0J,MAAMoxC,EAAIxjC,MAElB/c,EAAI,EAAGA,EAAIygD,EAAM1/C,OAAQf,IAChCygD,EAAMzgD,GAAKygD,EAAMzgD,GAAGmP,MAAMoxC,EAAIrwB,MAGhC,OAAOuwB;sDAITC,cAAe,SAAUK,EAAQC,GAE/B,OADUD,EAAO5xC,MAAM6xC,GACZjgD,OAAS,GAEtBiK,UAAW,SAAUxG,EAAM+7C,GAGzB,GAFAA,EAAMA,GAAOjhD,KAAKghD,WAEbhhD,KAAK+oB,OAAQ,CAChB,IAAK,IAAIroB,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,IAC/BwE,EAAKxE,GAAKwE,EAAKxE,GAAG2G,KAAK45C,EAAIrwB,MAG7B,OAAO1rB,EAAKmC,KAAK45C,EAAIxjC,MAKvB,IAFA,IAAIkkC,EAAG,WAEEvgD,EAAK,EAAGA,EAAK8D,EAAKzD,OAAQL,IAAM,CACvC,IAAK,IAAImgD,EAAI,EAAGA,EAAIr8C,EAAK9D,GAAIK,OAAQ8/C,IAAK,CACxC,IAAIC,EAAQt8C,EAAK9D,GAAImgD,GACjBC,aAAiBh5C,KAAMtD,EAAK9D,GAAImgD,GAAKh2C,EAAKO,eAAe01C,GAAgBG,EAAI57C,KAAKy7C,KAAQt8C,EAAK9D,GAAImgD,GAAK,IAAOC,EAAMr/C,WAAWuI,QAAO,KAAO,MAAU,KAG9JxF,EAAK9D,GAAM8D,EAAK9D,GAAIiG,KAAK45C,EAAIrwB,MAI/B,OADA1rB,EAAOA,EAAKmC,KAAK45C,EAAIxjC,QAKrBmkC,GAAY,CACdC,iBAAkB,SAAUrgD,GAwB1B,OAvBc,IAAVA,GAA4B,IAAVA,IAAaA,EAAQ,UAC3CxB,KAAK6M,YAAY,gBAAiB7M,KAAK8hD,cACvC9hD,KAAK6M,YAAY,mBAAmB,SAAUnJ,EAAGq+C,GAC/C,IAAIxe,EAAMvjC,KAAKwjC,eAAc,GACX,GAAdD,EAAI9hC,QAAesgD,EAAG76C,IAAMq8B,EAAI,IAAIvjC,KAAK8hD,kBAE/C9hD,KAAK6M,YAAY,WAAW,SAAU1G,GACpC,IAAK6C,EAAYhJ,KAAKwgD,OAAOxgD,KAAKoN,UAAU40C,YAAa,CACvD,IAAI98C,EAAO67C,GAAM3vC,MAAMjL,EAAMnG,KAAKoN,UAAU4zC,WAE5ChhD,KAAKwgD,OAAOxgD,KAAKoN,UAAU40C,WAAW5/C,KAAKpC,KAAMkF,OAGrDlF,KAAK6M,YAAY,WAAW,WAC1BwzC,GAAWzjC,WAGb5c,KAAK6M,YAAY,eAAe,SAAU3F,GACnClH,KAAKiiD,YAAyC,IAA5BjiD,KAAKiiD,UAAU/2C,KAAKhE,KACzCm5C,GAAWzjC,QACX4f,GAAUyB,SAASj+B,UAGhBwB,GAETsgD,aAAc,WACZ,IAAIl8B,EAAQ5lB,KAEZkJ,GAAM,WAEJ,KAAK0c,EAAMvc,aAAiBuc,EAAMk7B,WAAcl7B,EAAMk7B,aAAc,CAKlE,IAJA,IAAIvd,EAAM3d,EAAM4d,eAAc,GAE1Bt+B,EAAO,GAEFxE,EAAI,EAAGA,EAAI6iC,EAAI9hC,OAAQf,IAAK,CACnC,IAAIwG,EAAKq8B,EAAI7iC,GAETuc,EAAO2I,EAAMke,QAAQ58B,GAEzBhC,EAAK3D,KAAK,CAACqkB,EAAMthB,KAAK49C,aAAajlC,KAGrC,IAAI9W,EAAuB,IAAhBjB,EAAKzD,OAAeyD,EAAK,GAAG,GAAK67C,GAAMr1C,UAAUxG,EAAM0gB,EAAMxY,UAAU4zC,WAClFX,GAAW1lB,IAAIx0B,EAAMyf,GACrBy6B,GAAWzjC,QACX4f,GAAUyB,SAASrY,QAIzB46B,OAAQ,CAEN2B,OAAQ,SAAUh8C,GAChB,IAAI6f,EAAShmB,KAEbmG,EAAKm2B,SAAQ,SAAU96B,GACrB,OAAOwkB,EAAOkX,IAAI,CAChB17B,MAAOA,QAKb4gD,OAAQ,SAAUj8C,GAGhB,IAFA,IAAIo9B,EAAMvjC,KAAKwjC,eAAc,GAEpB9iC,EAAI,EAAGA,EAAI6iC,EAAI9hC,OAAQf,IAAK,CACnC,GAAIsI,EAAY7C,EAAKzF,IAAK,OAC1BV,KAAK8jC,QAAQP,EAAI7iC,IAAIc,MAAQ2E,EAAKzF,GAClCV,KAAKmqB,QAAQoZ,EAAI7iC,MAIrB2hD,OAAQ,cAEVC,oBAAqB,SAAU9gD,GAC7BxB,KAAKsE,KAAK49C,aAAe75B,GAAS7mB,IAEpC8C,KAAM,CACJ49C,aAAc,SAAUjlC,GACtB,OAAOjd,KAAK6pB,SAAS5M,MAKvBslC,GAAc,CAChBC,aAAc,SAAUjuC,EAASkuC,GAC/B,GAAIziD,KAAK0iD,UAAUnuC,EAASkuC,GAAW,OAAO,EAE9C,IAAIE,EAAY3iD,KAAK4iD,eAAeruC,GAEhCsuC,EAAQ7iD,KAAK8iD,cAAcH,EAAWpuC,GAE1C,GAAIkuC,EAAU,OAAOI,EACrB,IAAIE,EAAMjrC,GAAO,MAAO,CACtB0D,MAAS,mBAEXunC,EAAIrrC,YAAYmrC,GAChBtqC,GAAawqC,EAAKxuC,EAAQyuC,UAAW14C,SAASyO,MAC9CvW,OAAOygD,QACPh4C,GAAO83C,IAETL,UAAW,SAAUnuC,EAASkuC,GAC5B,IAAKA,IAAmC,KAAtBziD,KAAKiH,OAAO0jB,QAAiBpW,EAAQkX,QAAUzrB,KAAKiH,OAAOi8C,WAAaljD,KAAKiH,OAAOk8C,YAAa,OAAO,EAChG,KAAtBnjD,KAAKiH,OAAO0jB,QAAehrB,EAAQ8J,OAAO8K,GAAW,GAAI,CAC3D6uC,OAAQpjD,KAAK2R,QACb0xC,UAAU,IACT,IAELC,cAAe,SAAU/uC,GACvB,IACIqF,EADOrF,EAAQvN,KACc,YAAhBuN,EAAQzC,KAAqB,QAAU,UACxD,OAAO4H,KAAKwJ,IAAItJ,EAAQ0E,GAAIilC,SAAW,EAAIjlC,GAAIklC,cAEjDZ,eAAgB,SAAUruC,EAAS7K,EAAMgT,GACvC,IAOI+mC,EAAuBC,EAPvBnoB,EAA0B,QAAfhnB,EAAQopC,IAAgBgG,EAAAA,EAAW3jD,KAAKsjD,cAAc/uC,GAEjE6uC,EAAS7uC,EAAQ6uC,QAAUpjD,KAAK4jD,mBAAmBC,IAEnDC,EAAa,GACbC,EAAS,GACTnqC,EAAQ,EAEZ8C,EAAQA,GAAS,EACjBhT,EAAOA,GAAQ,GAEf,IAAK,IAAIhJ,EAAI,EAAGA,EAAIV,KAAKkF,KAAKwyB,MAAMj2B,QAAS,CAC3C,IAAIpB,EAAML,KAAKkF,KAAKklB,KAAKpqB,KAAKkF,KAAKwyB,MAAMh3B,IAIzC,GAFAgjD,EAAShjD,EADA2d,SAAS3d,EAAI0iD,GACAA,EAElB/iD,GAAOqjD,GAAUhnC,EAAO,CAG1B,IAFA9C,GAAS5Z,KAAKsE,KAAKsV,OAEP2hB,GAAYmoB,EAAShnC,EAAO,CAEtC+mC,EAAgBM,EAAOtiD,OAASib,EAChConC,EAAWviD,KAAKwiD,GAChBrjD,GAAS0iD,EAASW,EAAOtiD,OACzBsiD,EAAS,GACTnqC,EAAQ,EACR,SAGF,IAAIoqC,EAAYhkD,KAAKsE,KAAKulB,SAASxpB,EAAKL,KAAKsE,MACzC6T,EAAYnY,KAAKikD,eACjBzsC,EAAQ,CACVghB,QAAS,aACT1e,OAAQ9Z,KAAKsE,KAAKwV,OAAS,KAC3BF,MAAO5Z,KAAKsE,KAAKsV,MAAQ,MAG3BmqC,EAAOxiD,KAAK,CACV2iD,IAAKF,EACL7rC,UAAWA,EAAY,KAAO9X,EAAI8jD,MAAQ,IAC1C3sC,MAAOA,KAGJ9W,EAAI,GAAK0iD,GAAW,IACvBU,EAAWviD,KAAKwiD,GAChBA,EAAS,GACTnqC,EAAQ,GAIZlZ,IAKF,OAFAgJ,EAAKnI,KAAKuiD,GACNL,GAAezjD,KAAK4iD,eAAeruC,EAAS7K,EAAM+5C,GAC/C/5C,GAETo5C,cAAe,SAAUH,EAAWpuC,GAClC,IAAIia,EAAY1W,GAAO,OAsCvB,OArCA6qC,EAAUrmB,QAAQ7zB,GAAK,SAAUo6C,EAAOniD,GACtC,IAAI0jD,EAAYtsC,GAAO,QAAS,CAC9B0D,MAAS,qBAAuBxb,KAAK6qB,MAAM1S,UAC3CX,MAAS,6BA2BX,GAzBAqrC,EAAMvmB,SAAQ,SAAU3Y,GACtB,IAAInG,EAAK1F,GAAO,MAChB6L,EAAI2Y,SAAQ,SAAU+nB,GACpB,IAAIzmC,EAAK9F,GAAO,OACZusC,EAAOH,MAAKtmC,EAAGnH,UAAY4tC,EAAOH,KAClCG,EAAOlsC,YAAWyF,EAAGzF,UAAYksC,EAAOlsC,WAExCksC,EAAO7sC,QACEtV,OAAOo+B,KAAK+jB,EAAO7sC,OACzB8kB,SAAQ,SAAUjrB,GACjBgzC,EAAO7sC,MAAMnG,KAAMuM,EAAGpG,MAAMnG,GAAOgzC,EAAO7sC,MAAMnG,OAIpDgzC,EAAOC,OACLD,EAAOC,KAAKC,QAAU,IAAG3mC,EAAG4mC,QAAUH,EAAOC,KAAKC,SAClDF,EAAOC,KAAKG,QAAU,IAAG7mC,EAAG8mC,QAAUL,EAAOC,KAAKG,UAGxDjnC,EAAG9F,YAAYkG,MAEjBwmC,EAAU1sC,YAAY8F,MAExBgR,EAAU9W,YAAY0sC,IAEjB7vC,EAAQ8uC,UAAY3iD,EAAI,EAAIiiD,EAAUlhD,OAAQ,CACjD,IAAIkjD,EAAK7sC,GAAO,MAAO,CACrB0D,MAAS,0BAEXgT,EAAU9W,YAAYitC,MAEvB3kD,OACIwuB,IAIPo2B,GAAS,KAETC,GAAY,CACd3pC,OAAQ,SAAUhU,EAAIoU,EAAKgpB,GACzB,IAAKtkC,KAAK8kD,YAAcxgB,IACjBtkC,KAAK+kD,OAAO79C,EAAIoU,GAAM,CACzB,IAAIjR,EAAOrK,KAAKglD,YAAY99C,GAExBmD,IACFA,EAAK8N,WAAa,IAAMmD,EACxBgpB,GAAS,GAKf,OAAOtkC,KAAKkF,KAAK+/C,QAAQ/9C,EAAIoU,EAAK,EAAG,EAAGgpB,IAE1ClpB,UAAW,SAAUlU,EAAIoU,EAAKgpB,GAC5B,IAAKtkC,KAAK8kD,YAAcxgB,GAClBtkC,KAAK+kD,OAAO79C,EAAIoU,GAAM,CACxB,IAAIjR,EAAOrK,KAAKglD,YAAY99C,GAExBmD,IACFA,EAAK8N,UAAY9N,EAAK8N,UAAUzN,QAAQ4Q,EAAK,IAAI5Q,QAAQ,KAAM,KAC/D45B,GAAS,GAKf,OAAOtkC,KAAKkF,KAAKggD,WAAWh+C,EAAIoU,EAAK,EAAGgpB,IAE1CygB,OAAQ,SAAU79C,EAAImO,GACpB,OAAOrV,KAAKkF,KAAKigD,QAAQj+C,EAAImO,IAE/B+vC,SAAU,SAAU9pC,EAAKgpB,GACvB,OAAOtkC,KAAKkF,KAAKmgD,UAAU/pC,EAAK,EAAGgpB,KAWnCghB,GAAW,CAEbC,KAAM,SAAUC,EAAKC,EAAQC,EAAMr/C,GAEjC,IAAIs/C,GADJt/C,EAAUA,GAAW,IACAu/C,OAASJ,EAC9BE,EAAOA,GAAQ1lD,KACf,IAAIkF,EAAOlF,KAAK8jC,QAAQ0hB,GAKxB,OAJA1/C,EAAOZ,EAAM,kCAETwgD,IAAMxgD,EAAOwgD,EAAKG,cAAc3gD,IAE7BwgD,EAAKxgD,KAAKg4B,IAAIwoB,EAAKG,cAAc3gD,EAAMygD,GAASF,EAAQp/C,EAAQsH,QAAU,IAEnFm4C,iBAAkB,SAAUC,EAAK1kD,EAAM4D,GACrC,GAAI5D,GAAQ0kD,EAAK,CACf,IAAIC,EAAYhmD,KAAKimD,aAAaF,GAClC,OAAOC,GAAa/gD,GAAUjF,MAAQiF,EAAOghD,aAAa5kD,GAAQ2kD,EAAY,EAAI,KAItFnU,KAAM,SAAU2T,EAAKC,EAAQC,EAAMr/C,GAEjC,IAAIs/C,GADJt/C,EAAUA,GAAW,IACAu/C,OAASJ,EAG9B,GADA1/C,GADA4/C,EAAOA,GAAQ1lD,MACHkF,KAAM,iDACbwgD,EAAKxgD,KAAV,CAEA,GAAImD,EAAQm9C,GAAM,CAEZA,EAAI/jD,OAAS,IACfzB,KAAKkmD,aAAeR,EAAKQ,cAAe,GAE1C,IAAK,IAAIxlD,EAAI,EAAGA,EAAI8kD,EAAI/jD,OAAQf,IAAK,CAEnC,IAAIylD,EAAOnmD,KAAK6xC,KAAK2T,EAAI9kD,GAAI+kD,EAAQC,EAAMr/C,GAE3Co/C,EAASC,EAAKI,iBAAiBK,EAAMX,EAAI9kD,EAAI,GAAIV,MAWnD,OARAA,KAAKkmD,aAAeR,EAAKQ,cAAe,OAEpCV,EAAI/jD,OAAS,IAEfzB,KAAKmqB,UACDu7B,GAAQ1lD,MAAM0lD,EAAKv7B,YAM3B,IAAI47B,EAAMP,EAENtgD,EAAOlF,KAAK8jC,QAAQ0hB,GAcxB,OAbA1/C,EAAOZ,EAAM,kCAERwgD,GAAQA,GAAQ1lD,MAOnB+lD,EAAML,EAAKxgD,KAAKg4B,IAAIwoB,EAAKG,cAAc3gD,EAAMygD,GAASF,EAAQp/C,EAAQsH,QAAU,GAChF3N,KAAKkF,KAAK+F,OAAOu6C,KAPbC,EAAS,IAAGA,EAASzlD,KAAKkF,KAAKwyB,MAAMj2B,OAAS,GAClDzB,KAAKkF,KAAK2sC,KAAK7xC,KAAKimD,aAAaT,GAAMC,GAEvCzlD,KAAKkF,KAAK4H,UAAU,aAAc,CAAC04C,EAAKC,EAAQ,KAAMzlD,KAAKkF,KAAKwyB,MAAM+tB,EAAS,MAO1EM,IAGTK,OAAQ,SAAUl/C,EAAIm/C,GACpB,IAAIhpC,EAAQrd,KAAKimD,aAAa/+C,IAAOm/C,GAAQ,GAC7C,OAAOrmD,KAAK6xC,KAAK3qC,EAAImW,EAAQ,EAAI,EAAIA,IAGvCipC,SAAU,SAAUp/C,EAAIm/C,GACtB,OAAOrmD,KAAKomD,OAAOl/C,GAAkB,GAAbm/C,GAAQ,KAGlCE,QAAS,SAAUr/C,GACjB,OAAOlH,KAAK6xC,KAAK3qC,EAAI,IAGvBs/C,WAAY,SAAUt/C,GACpB,OAAOlH,KAAK6xC,KAAK3qC,EAAIlH,KAAKkF,KAAKyM,QAAU,IAO3Ck0C,cAAe,SAAU3gD,EAAMgC,GAC7B,IAAIu/C,EAAU9mD,EAAQ8J,OAAO,GAAIvE,GAIjC,OAHAuhD,EAAQv/C,IAAMA,GAAMlH,KAAKkF,KAAKklB,KAAKljB,GAAMiD,IAAQjD,EACjDu/C,EAAQC,UAAY,KAChB1mD,KAAKoN,UAAUu5C,eAAcF,EAAUzmD,KAAKoN,UAAUu5C,aAAavkD,KAAKpC,KAAMymD,EAASv/C,EAAIhC,IACxFuhD,IAIPG,GAAe,CACjB58C,MAAO,WACDhK,KAAKosB,SAASpsB,KAAK6M,YAAY,WAAY7M,KAAK6mD,kBAEtDA,gBAAiB,WACf,GAAI7mD,KAAK2wB,SACP,IAAK,IAAIzpB,KAAMlH,KAAK2wB,SAClB3wB,KAAK8mD,eAAe5/C,IAI1B6+B,SAAU,SAAUj0B,EAAMzR,GACxByF,EAAO9F,KAAK8M,UAAW,uCACvB9M,KAAK8M,UAAU,mBAAoB,IACnC,IAAIi6C,EAAS/mD,KAAKgnD,kBAAoB,GAElCr7C,GAAS,EACTs7C,EAAWjnD,KAAKoN,UAAU85C,MAC1BC,EAAWnnD,KAAKgqB,YAAchqB,KAAKgqB,YACnCo9B,EAAiBt1C,GAAQA,EAAKyR,OAC9B8jC,EAAmBv1C,GAAQA,EAAK+O,SAEhC8P,EAAW,GACXpN,EAAS,GAEb,IAAK,IAAI7iB,KAAKV,KAAK2wB,SAAU,CAC3B,IAAI/qB,EAAO5F,KAAK2wB,SAASjwB,GAAGuG,OAAOrB,MAK9BuhD,GAAYnnD,KAAK2wB,SAASjwB,GAAGspB,aAAeo9B,KAAoBpnD,KAAK2wB,SAASjwB,GAAGm+B,aAAewoB,GAAmB12B,EAAS/qB,GAAQ5F,KAAK2wB,SAASjwB,GACrJ6iB,EAAO3d,IAAQ,EAMnB,IAFIqhD,GAAYt2B,KAAetwB,GAAOL,KAAKykC,YAAWpkC,EAAML,KAAKykC,aAE7DwiB,EAAU,CAERA,EAASK,OAAM37C,EAAS3L,KAAKunD,UAAUN,EAASK,KAAMjnD,EAAKA,EAAK,KAAOsL,GAE3E,IAAIxG,EAAM8hD,EAASO,KACftiD,EAAO7E,EAIX,GAHIL,KAAKoN,UAAUq6C,cAAaviD,EAAOoiB,GAAWC,cAAclnB,EAAK,GAAI,IAAI,SAAUqD,GACrF,OAAQujD,EAASvjD,OAEfyB,EAAK,IAAK,IAAIwN,KAAQtS,EACxB,IAAIkjB,EAAO5Q,GAAX,CAEA,IAAI+0C,EAAY1nD,KAAKunD,UAAUpiD,EAAKD,EAAKyN,GAAOtS,EAAKsS,GAEhD+0C,IAAWX,EAAOp0C,IAAQ,GAC/BhH,EAAS+7C,GAAa/7C,EAGxB,IAAK,IAAIg8C,KAASV,EAChB,IAAI1jC,EAAOokC,IAEgB,IAAvBA,EAAMh7C,QAAQ,OAAeo6C,EAAOY,GAAQ,CAC9C7hD,EAAOmhD,EAASU,GAAQ,oBAAsBA,GAE9C,IAAIC,EAAa5nD,KAAKunD,UAAUN,EAASU,GAAQziD,EAAKyiD,GAAQtnD,EAAKsnD,GAE9DC,IAAYb,EAAOY,IAAS,GACjCh8C,EAASi8C,GAAcj8C,GAM7B,GAAIglB,EACF,IAAK,IAAItf,KAAOsf,EACd,IAAIo2B,EAAO11C,GAAX,CACA,IAAIw2C,EAAUl3B,EAAStf,GAEvB,GAAIw2C,EAAQ9hB,SAAU,CACpB,IAAI+hB,EAAcD,EAAQ9hB,WAE1Bp6B,EAASm8C,GAAen8C,EACnBm8C,IAAaf,EAAO11C,IAAO,OAC3B,CACL,IAAI+lB,EAAQywB,EAAQz6C,UAEpB,GAAIgqB,EAAO,CAET,IAAI2wB,EAAY3wB,EAAM2O,SAGtB,IAFKgiB,GAAa3wB,EAAMC,WAAU0wB,EAAYd,EAASpwB,YAEnDkxB,EAAW,CACb,IAAIC,EAAchoD,KAAKunD,UAAUQ,EAAW1nD,EAAIgR,GAAMhR,EAAKgR,GAEtD22C,IAAajB,EAAO11C,IAAO,GAChC1F,EAASq8C,GAAer8C,KAQlC,OADA3L,KAAK8M,UAAU,oBAAqB,CAACnB,EAAQ3L,KAAKgnD,oBAC3Cr7C,GAET47C,UAAW,SAAUnwC,EAAMlS,EAAM7E,EAAKgR,GAGpC,MAFmB,iBAAR+F,IAAkBA,EAAOqf,GAAMrf,IAEtCA,EAAKhV,KAAKpC,KAAMkF,EAAM7E,EAAKgR,IACzBrR,KAAK8M,UAAU,sBAAuB,CAACuE,EAAKhR,KAASL,KAAK8mD,gBAAgB9mD,KAAK8mD,eAAez1C,IAC3F,IAEHrR,KAAK8M,UAAU,oBAAqB,CAACuE,EAAKhR,KAASL,KAAKioD,eAAejoD,KAAKioD,cAAc52C,IAGzF,KAIP62C,GAAQ,YACHC,GAAGviD,EAAMwiD,GAEhB,GADqB,UAAjBnoD,EAAQ2F,IAAqBA,EAAKwH,YAAWxH,EAAOA,EAAKwH,UAAUlG,IACnEghD,GAAMtiD,IAASwiD,EAAS,OAAOF,GAAMtiD,GACtB,iBAARA,GAAmC,iBAARA,IAAkBA,EAAO,CAC7DwF,OAAQyjB,GAAGjpB,KAEb,IAAIyiD,EAAK,IAAIC,GAAc1iD,GACvB2iD,EAAWF,EAAGj7C,UAAUhC,OAAOgC,UAAUlG,GAM7C,OALAghD,GAAMK,GAAYF,EAClBx5B,GAAG05B,GAAU17C,YAAY,cAAc,WACrCq7C,GAAMloD,KAAKoN,UAAUlG,IAAM,YACpBghD,GAAMloD,KAAKoN,UAAUlG,OAEvBmhD,EAETxoD,EAAO,KAAMsoD,IAEbA,GAAGt5B,GAAK,SAAU3nB,GAChB,OAAOghD,GAAMhhD,IAGf,IAAIohD,GAAgB3oD,EAAQ4xB,MAAM,CAChCxnB,SAAU,CACRy+C,YAAY,EACZC,oBAAoB,EACpB32C,KAAM,OACN42C,cAAe,kBACfC,WAAW;;;AAKb3+C,MAAO,WACLhK,KAAKkrB,QACLlrB,KAAK4oD,SAAU,EACf5oD,KAAK4F,KAAO,gBACZ5F,KAAKslB,OAAO/jB,KAAKvB,KAAK6oD,mBAExB39B,MAAO,WACLlrB,KAAK8oD,SAAW,IAElBrjC,WAAY,SAAUjkB,GAIpB,IAAIsQ,EAAO,GAEX,GAAoB,iBAATtQ,EAAmB,CAC5B,IAAI6S,EAAQ7S,EAAMqO,MAAM,MAEpBwE,EAAM5S,OAAS,IACjBD,EAAQ6S,EAAM,GACdvC,EAAOuC,EAAM,SAEN7S,GAASA,EAAMsQ,OACxBA,EAAOtQ,EAAMsQ,KACbtQ,EAAQA,EAAMiQ,KAGhB,OAAIK,EAAagE,GAAQhE,EAAMtQ,GACxBA,GAET4+C,cAAe,SAAU5+C,GACvB,IAAIunD,EAAQvnD,EAGZ,MAFkB,aAAdA,EAAMoE,OAAqBmjD,EAAQvnD,EAAM0D,MAC7ClF,KAAKoN,UAAU27C,MAAQA,EAChBvnD,GAETu1B,SAAU,SAAU5yB,GAClB,IAAI0wC,EAAO70C,KAAKgpD,UAChBhpD,KAAKgpD,UAAY,GACjB7kD,IACA,IAAIwH,EAASs9C,QAAQ9jD,IAAInF,KAAKgpD,WAG9B,OAFAhpD,KAAKgpD,UAAYnU,EACbA,GAAMA,EAAKtzC,KAAKoK,GACbA;;;AAKTk9C,iBAAkB,WAChB,IAAIE,EAAQ/oD,KAAKoN,UAAU27C,MAEvBA,IACFA,EAAMl8C,YAAY,iBAAkBpE,EAAKzI,KAAKkpD,gBAAiBlpD,OAC/D+oD,EAAMl8C,YAAY,aAAcpE,EAAKzI,KAAKmpD,YAAanpD,SAG3DopD,OAAQ,SAAUtgD,EAAMsC,GACtB,IAAIsE,EAAO1P,KAAK4oD,QAChB5oD,KAAK4oD,SAAU,EACf9/C,EAAK1G,KAAKgJ,GAAUpL,MACpBA,KAAK4oD,QAAUl5C,GAEjB25C,IAAK,WACHrpD,KAAK4oD,SAAU,GAEjBU,GAAI,WACFtpD,KAAK4oD,SAAU,GAEjBW,WAAY,SAAUtkD,GACpB,IAAI5E,EAAM,GAEV,IAAK,IAAIgR,KAAOpM,EACW,IAArBoM,EAAI1E,QAAQ,OAAYtM,EAAIgR,GAAOpM,EAAOoM,IAGhD,OAAOhR,GAETqU,KAAM,SAAUxN,EAAI0N,EAAWvU,GAE7B,OADAuU,EAAYA,GAAa,SAClB5U,KAAKwpD,YAAYtiD,EAAI7G,EAAKuU,GAAW,IAE9C40C,YAAa,SAAUtiD,EAAI7G,EAAKuU,EAAW60C,GAEzC,GADmB,UAAfxpD,EAAQiH,KAAiBA,EAAKA,EAAG/E,YAChC+E,IAAuB,IAAjBlH,KAAK4oD,SAAqBh0C,GAA0B,SAAbA,EAAlD,CACA,IAAIm0C,EAAQ/oD,KAAKoN,UAAU27C,MAEvBA,IACF1oD,EAAMA,GAAOL,KAAKoN,UAAU27C,MAAMjlB,QAAQ58B,GACtC6hD,EAAMW,oBAAmBrpD,EAAM0oD,EAAMW,kBAAkBrpD,KAG7D,IAAI4U,EAAS,CACX/N,GAAIA,EACJhC,KAAMlF,KAAKupD,WAAWlpD,GACtBuU,UAAWA,GAKb,GAFK5L,EAAY3I,EAAIspD,WAAU10C,EAAO/P,KAAKyI,OAAStN,EAAIspD,SAEhC,UAApB10C,EAAOL,UAAuB,CAEhC,IAAIxJ,EAASpL,KAAKoN,UAAUhC,OACxBA,GAAUA,EAAOlG,MAAQkG,EAAOlG,KAAKigD,SAAW/5C,EAAOlG,KAAKigD,QAAQj+C,EAAI,mBAAkB+N,EAAO20C,UAAW,GAC3G5pD,KAAK+lC,SAAS,KAAM9wB,EAAO/P,QAAO+P,EAAO20C,UAAW,GAI3D,OADI5pD,KAAK6pD,cAAc50C,IAASjV,KAAK8oD,SAASvnD,KAAK0T,GAC/CjV,KAAKoN,UAAUo7C,YAAciB,EAAYzpD,KAAK8pD,UAAU5iD,QAA5D,IAGFiiD,YAAa,SAAU3D,EAAKC,EAAQ93C,EAAQo8C,GAC1C,GAAI/pD,KAAKoN,UAAUu7C,UAAW,CAC5B,IAAItoD,EAAMwH,EAAK7H,KAAKoN,UAAU27C,MAAMjlB,QAAQ0hB,IAC5CnlD,EAAI2pD,iBAAmBvE,EACvBplD,EAAI4pD,cAAgBF,EACpB1pD,EAAI6pD,kBAAoBv8C,EAExB3N,KAAKwpD,YAAYhE,EAAKnlD,EAAK,WAG/B6oD,gBAAiB,SAAUhiD,EAAI7G,EAAKuU,GAClC,OAAQA,GACN,IAAK,OAIL,IAAK,SACHA,EAAY,SACZ,MAEF,IAAK,MACHA,EAAY,SACZ,MAEF,IAAK,SACHA,EAAY,SACZ,cAGA,OAAO,EAGX,OAAO5U,KAAKwpD,YAAYtiD,EAAI7G,EAAKuU,IAEnCi1C,cAAe,SAAU1uC,GACvB,IAAK,IAAIza,EAAI,EAAGA,EAAIV,KAAK8oD,SAASrnD,OAAQf,IAAK,CAC7C,IAAIypD,EAAMnqD,KAAK8oD,SAASpoD,GAExB,GAAIypD,EAAIjjD,IAAMiU,EAAMjU,KAAOijD,EAAIC,aAO7B,MANuB,UAAnBjvC,EAAMvG,YACa,UAAjBu1C,EAAIv1C,UAAuB5U,KAAK8oD,SAAS99C,OAAOtK,EAAG,GAAQypD,EAAIv1C,UAAY,UAGjFu1C,EAAIjlD,KAAOiW,EAAMjW,KACjBilD,EAAIP,SAAWzuC,EAAMyuC,UACd,EAIX,OAAO,GAETr2C,KAAM,WACJ,OAAOvT,KAAK8pD,aAEdA,UAAW,SAAUO,GACnB,GAAKrqD,KAAKoN,UAAUqE,IAApB,CAMA,IALA,IAAI64C,EACAC,EAASvqD,KAAK8oD,SACd0B,EAAU,GACV/4C,EAAMzR,KAAKoN,UAAUqE,IAEhB/Q,EAAI,EAAGA,EAAI6pD,EAAO9oD,OAAQf,IAAK,CACtC,IAAI+pD,EAASF,EAAO7pD,GACpB,IAAI+pD,EAAOL,eACPK,EAAOb,SAAX,CACA,IAAI1iD,EAAKujD,EAAOvjD,GAEhB,GAAKlH,KAAKoN,UAAUo7C,aAAc6B,GAAaA,GAAanjD,EAA5D,CACA,IAAI0N,EAAY61C,EAAO71C,UACnB81C,EAAc50C,GAAQI,OAAuB,UAAhBjW,EAAQwR,IAAqBA,EAAI0C,OAA0B1C,EAAjBA,EAAImD,IAC3EytC,EAASqI,IAAgBA,EAAYv2C,QAAiC,mBAAhBu2C,GAC1D,GAAKA,EAAL,CACA,IAAI3B,EAAQ/oD,KAAKoN,UAAU27C,MAE3B,GADIA,GAASA,EAAM4B,cAAc5B,EAAM4B,aAAaF,EAAOvlD,MACtDlF,KAAK8M,UAAU,WAAa8H,EAAW,CAAC1N,EAAIujD,IAAjD,CAEA,GADAA,EAAOL,cAAe,GACjBpqD,KAAK8M,UAAU,mBAAoB,CAAC29C,IAAU,OACnDA,EAAOvlD,KAAOlF,KAAK4qD,aAAaH,EAAOvlD,MACvC,IAAIyG,OAAS,EAET++C,EAAYv2C,QACVu2C,EAAYh2C,OAEd/I,EAAS++C,EAAYh2C,KAAK1U,KAAKiH,OAAOmE,OAAQq/C,EAAQzqD,OAGxDwqD,EAAQjpD,KAAKkpD,KAEI,UAAb71C,UAA8B61C,EAAOvlD,KAAKgC,GAE1Cm7C,EAEF12C,EAAS++C,EAAYtoD,KAAKpC,KAAKiH,OAAOmE,OAAQq/C,EAAOvjD,GAAIujD,EAAO71C,UAAW61C,EAAOvlD,OAGlFulD,EAAOvlD,KAAKlF,KAAKoN,UAAUs7C,eAAiB9zC,EAC5CjJ,EAAS3L,KAAK6R,MAAM64C,EAAaD,EAAOvlD,KAAMlF,KAAKoN,UAAU0E,QAI7DnG,IACFA,EAAS3L,KAAK6qD,eAAel/C,EAAQ,CACnCzE,GAAIujD,EAAOvjD,GACX+L,OAAQw3C,EAAO71C,YAGby1C,GAAanjD,IAAOmjD,IACtBC,EAAO3+C,IAIX3L,KAAK8M,UAAU,kBAAmB,CAAC29C,QAGrC,GAAIh5C,EAAI0C,QAAU1C,EAAIq5C,SAAWN,EAAQ/oD,OAAQ,CAC/C,IAAIspD,EAAUt5C,EAAIq5C,QAAQ9qD,KAAKiH,OAAOmE,OAAQo/C,EAASxqD,MAEnD+qD,IACFA,EAAU/qD,KAAK6qD,eAAeE,EAAS,MAClCT,IAAMA,EAAOS,IAItB,OAAOT,IAETO,eAAgB,SAAUl/C,EAAQnI,GAChC,IAAIoiB,EAAQ5lB,KAEZ,GAAI2L,EAqBF,OApBKA,EAAOtI,OAAMsI,EAASxI,EAASY,QAAQ4H,IAC5CA,EAASA,EAAOtI,MAAK,SAAU6B,GAE7B,IAAI8lD,EAQJ,GATI9lD,GAA4B,mBAAbA,EAAKuO,OAAoBvO,EAAOA,EAAKuO,UAItDu3C,EADY,OAAVxnD,EACUoiB,EAAMqlC,eAAe/lD,GAErB0gB,EAAMqlC,eAAeznD,EAAO,GAAI0B,GAAM,IAGpC,MAAM8lD,EAEtB,OAAOA,KACN,SAAU/4C,GAGX,MAFA2T,EAAMslC,cAAc1nD,EAAO,GAAI,KAAMyO,GAE/BA,KAEJjS,KAAKgpD,WAAWhpD,KAAKgpD,UAAUznD,KAAKoK,GACjCA;;;;;;;AAUXi/C,aAAc,SAAU3lD,GACtB,IAAI6C,EAAS,GAEb,IAAK,IAAIy5C,KAAKt8C,EACW,IAAnBs8C,EAAE50C,QAAQ,OAAY7E,EAAOy5C,GAAKt8C,EAAOs8C,IAG/C,OAAOz5C;;;;;;;;;;;;AAcT+J,MAAO,SAAUJ,EAAKiC,EAAM5B,GAE1B,OADAhM,EAAO2L,EAAK,qCACLD,IAAOM,GAAML,EAAKiC,IAE3By3C,eAAgB,SAAUzuC,EAAOC,EAAK3K,GACpChS,KAAK6M,YAAY,mBAAoB6P,GACrC1c,KAAK6M,YAAY,cAAe8P,GAChC3c,KAAK6M,YAAY,mBAAoBmF,GACrChS,KAAK6M,YAAY,cAAemF,IAElCk5C,cAAe,SAAUhkD,EAAIf,EAAMjB,EAAMmiB,GACnCngB,EAAIlH,KAAKorD,qBAAoB,EAAMlkD,EAAGA,IAAI,EAAOA,EAAG+L,QAAQ,EAAO,CACrE9M,KAAMA,EACNjB,KAAMA,EACNmiB,OAAQA,KAERrnB,KAAK8M,UAAU,cAAexG,WAC9BwG,EAAU,cAAe,CAAC3G,EAAMjB,EAAMmiB,EAAQrnB,SAGlDorD,oBAAqB,SAAUp5C,EAAO9K,EAAI2N,EAAO5B,EAAQ5S,EAAKgG,GAC5D,IAAI+E,EAASpL,KAAKoN,UAAUhC,OACxB6J,EAASjV,KAAKqrD,aAAankD,GAG/B,GAFA+N,EAAOm1C,cAAe,GAElBp4C,EAAJ,CAeOhS,KAAKsrD,aAAapkD,GAAI,GAE7B,IAAI6hD,EAAQ/oD,KAAKoN,UAAU27C,MAc3B,OAZIA,GAASA,EAAMwC,OAAOrkD,KAEpB2N,GAAS3N,GAAM2N,GAAOk0C,EAAMyC,SAAStkD,EAAI2N,GACzCxU,GAAiB,UAAV4S,GAAsBjT,KAAKoN,UAAUq7C,oBAAoBzoD,KAAKopD,QAAO,WAC9EL,EAAM7jB,WAAWrwB,GAAS3N,EAAI7G,OAK9BL,KAAKoN,UAAUq+C,aAAergD,EAAOgC,UAAUs+C,MAAMtgD,EAAOugD,WAAW92C,GAAS3N,GACpFlH,KAAK8M,UAAU,cAAe,CAACzM,EAAK6G,EAAIb,IACxCrG,KAAK8M,UAAU,UAAYmG,EAAQ,CAAC5S,EAAK6G,EAAIb,IACtChG,GAAO,GA9BRL,KAAK8M,UAAU,oBAAqB,CAAC5F,EAAI+L,EAAQ5S,EAAKgG,MACxD4O,EAAO20C,UAAW,EAEd5pD,KAAKoN,UAAUq+C,aAAergD,EAAOgC,UAAUs+C,OACjD1rD,KAAKopD,QAAO,WACVh+C,EAAOsgD,KAAKxkD,MAEdlH,KAAKsrD,aAAapkD,GAAI,IAGxBlH,KAAK8M,UAAU,mBAAoB,CAAC5F,EAAI+L,EAAQ5S,EAAKgG,MAsB3DyO,cAAe,SAAUtR,EAAO4a,EAAM/X,GAEpC,IAAI2L,EAAQoM,IAAwB,SAAfA,EAAKnL,QAAoC,WAAfmL,EAAKnL,QAChD4B,IAAQuJ,IAAOA,EAAKvJ,OAASuJ,EAAKlX,IACtC,OAAOlH,KAAKorD,oBAAoBp5C,EAAOxO,EAAM0D,GAAI2N,EAAOrR,EAAMyP,OAAQmL,EAAM/X,IAG9E4kD,eAAgB,SAAUznD,EAAO2C,EAAMjB,EAAMmiB,GAC3C,IAEIukC,EAFA5lC,EAAShmB,KAKb,GAFAA,KAAK8M,UAAU,eAAgB,CAACtJ,EAAO2C,EAAMjB,EAAMmiB,IAE/Chf,EAAQ7E,GAEVooD,EAAc,GACdpoD,EAAM84B,SAAQ,SAAU6tB,GACtByB,EAAYrqD,KAAKykB,EAAOlR,cAAcq1C,EAAKA,EAAK,aAGlD,IAAe,IAAX9iC,EAEFukC,EAAc5rD,KAAK8U,cAActR,EAAO0B,EAAM,QACzC,CACL,IAKMkZ,EALFytC,EAAQ7rD,KAAKoN,UAAUqE,IAE3B,GAAIo6C,EAAM13C,QAAU03C,EAAMlgD,OACxBigD,EAAcC,EAAMlgD,OAAOnI,EAAOxD,KAAKoN,UAAUhC,OAAQpL,KAAMmG,EAAMjB,EAAMmiB,IAAW,QAIlFlhB,IACFiY,EAAOlZ,EAAKuO,OAERtN,GAAI,MAAKiY,IAA8CA,EAAO,CAChEnL,OAAQ,WAIZ24C,EAAc5rD,KAAK8U,cAActR,EAAO4a,EAAM,CAC5CjY,KAAMA,EACNjB,KAAMA,EACNmiB,OAAQA,IAOhB,OADArnB,KAAK8M,UAAU,cAAe,CAACtJ,EAAO2C,EAAMjB,EAAMmiB,IAC3CukC;;;;;;;AAST7iC,OAAQ,SAAUvnB,GAChB,OAAIxB,KAAKoN,UAAU2b,OAAe/oB,KAAKoN,UAAU2b,OAAOvnB,GAAmB+Q,mBAAmB/Q,IAEhG8/B,SAAU,WACR,IAAKthC,KAAK8oD,SAASrnD,OAAQ,OAAO,EAElC,IAAK,IAAIf,EAAIV,KAAK8oD,SAASrnD,OAAS,EAAGf,GAAK,EAAGA,IAC7C,GAAIV,KAAK8oD,SAASpoD,GAAG0pD,aAAc,MAAO,SAG5C,OAAO,GAETiB,aAAc,SAAUnkD,GACtB,IAAImW,EAAQrd,KAAK8rD,iBAAiB5kD,GAElC,OAAOlH,KAAK8oD,SAASzrC,IAAU,MAEjCiuC,aAAc,SAAUpkD,EAAI1D,GAC1B,GAAIA,EACFxD,KAAKwpD,YAAYtiD,EAAI,KAAM,cACtB,CACL,IAAImW,EAAQrd,KAAK8rD,iBAAiB5kD,GAE9BmW,GAAQ,GAAIrd,KAAK8oD,SAAS99C,OAAOqS,EAAO,KAGhDyuC,iBAAkB,SAAU5kD,GAG1B,IAFA,IAAImW,GAAQ,EAEH3c,EAAI,EAAGA,EAAIV,KAAK8oD,SAASrnD,OAAQf,IACxC,GAAIV,KAAK8oD,SAASpoD,GAAGwG,IAAMA,EAAI,CAC7BmW,EAAQ3c,EACR,MAIJ,OAAO2c,IAER8kB,GAAUn2B,EAAa46C,IAqBxB,SAEOmF,KACP/rD,KAAK4F,KAAO,YACZjG,EAAQ8J,OAAOzJ,KAAMgM,GACrBhM,KAAKgsD,UAAU,QAEfhsD,KAAKoqB,KAAO,GAEZpqB,KAAK03B,MAAQ/sB,IAEb3K,KAAKisD,OAAS,GAGhBF,GAAUxrD,UAAY,CAGpByrD,UAAW,SAAU1nD,GACnBwB,EAAOgf,GAAWxgB,GAAO,wBACzBtE,KAAKimB,OAASnB,GAAWxgB,IAG3BiiB,OAAQ,SAAUrhB,GAChBlF,KAAK8M,UAAU,UAAW,CAAC9M,KAAKimB,OAAQ/gB,IACpClF,KAAKksD,eAAelsD,KAAKqL,SAE7B,IAAIshB,EAAO3sB,KAAKimB,OAAOnX,QAAQ5J,GAC3BynB,EAAK1lB,QAAQjH,KAAK8M,UAAU,iBAAkB,CAAC6f,EAAK1lB,SACxD,IAAIsN,EAAUvU,KAAKimB,OAAOpX,WAAW3J,GACjCqP,GAASvU,KAAK8M,UAAU,kBAAmB,CAACyH,IAEhD,IAAI43C,EAAOnsD,KAAKimB,OAAO1X,WAAWrJ,GAElClF,KAAKosD,aAAaz/B,EAAMw/B,GAGpBnsD,KAAKqsD,eAAiBrsD,KAAKssD,oBAAsBtsD,KAAKusD,oBAAoBvsD,KAAKssD,kBAAkBtsD,KAAKqsD,eAEtGrsD,KAAKwsD,eACPxsD,KAAKoM,aACLpM,KAAKgpB,KAAKhpB,KAAKwsD,cACfxsD,KAAKsM,gBAGPtM,KAAK8M,UAAU,cAAe,CAAC9M,KAAKimB,OAAQ/gB,IAE5ClF,KAAKmqB,WAEPiiC,aAAc,SAAUz/B,EAAMw/B,GAC5B,IAAI9pD,EAAOsqB,EAAKtqB,KACZoqD,GAAU,EACVC,GAAQ,EAEZ,IAAKrqD,GAAiB,IAATA,GAAcrC,KAAK03B,MAAM,GAAI,CACxC,GAAI13B,KAAK2sD,cAAe,CAEtBD,EAAQ,GAER,IAAK,IAAIhsD,EAAI,EAAGA,EAAIV,KAAK03B,MAAMj2B,OAAQf,IACrCgsD,EAAM1sD,KAAK03B,MAAMh3B,KAAM,EAI3B+rD,GAAU,EACVpqD,EAAOrC,KAAK03B,MAAMj2B,YACbY,EAAqB,GAAbA,GAAQ,GAIvB,IAFA,IAAIk/C,EAAI,EAECngD,EAAK,EAAGA,EAAK+qD,EAAK1qD,OAAQL,IAAM,CAEvC,IAAIsO,EAAO1P,KAAKimB,OAAOtX,WAAWw9C,EAAK/qD,IACnC8F,EAAKlH,KAAKkH,GAAGwI,GAEZ1P,KAAKoqB,KAAKljB,GAIJulD,GAAWzsD,KAAK03B,MAAM6pB,EAAIl/C,IAAOk/C,KAF1CvhD,KAAK03B,MAAM6pB,EAAIl/C,GAAQ6E,EACvBq6C,KAGEvhD,KAAKoqB,KAAKljB,IACZvH,EAAQ8J,OAAOzJ,KAAKoqB,KAAKljB,GAAKwI,GAAM,GAEhC1P,KAAK4sD,gBAAgB5sD,KAAK4sD,eAAe5sD,KAAKoqB,KAAKljB,IAEnDwlD,UAAcA,EAAMxlD,KAExBlH,KAAKoqB,KAAKljB,GAAMwI,EACZ1P,KAAK6sD,cAAc7sD,KAAK6sD,aAAan9C,IAK7C,GAAIg9C,EAAO,CAGT,IAAK,IAAII,KAFT9sD,KAAKoM,aAEasgD,EAChB1sD,KAAKiL,OAAO6hD,GAGd9sD,KAAKsM,eAGP,IAAIygD,EAAqB,EAAZpgC,EAAK3lB,KAEd+lD,IACG/sD,KAAK03B,MAAMq1B,EAAS,KAAI/sD,KAAK03B,MAAMq1B,EAAS,QAAK7rD,GAClD6rD,EAAS/sD,KAAK03B,MAAMj2B,SAAQzB,KAAK03B,MAAQ/sB,EAAU3K,KAAK03B,MAAMrO,MAAM,EAAG0jC,OAI/E7lD,GAAI,SAAUhC,GACZ,OAAOA,EAAKgC,KAAOhC,EAAKgC,GAAKiD,MAE/BqhD,SAAU,SAAU5V,EAAK/gC,GAEnB+gC,GAAO/gC,IACP7U,KAAKoqB,KAAKwrB,KAAM51C,KAAKoqB,KAAKvV,GAAS7U,KAAKoqB,KAAKwrB,IACjD51C,KAAKoqB,KAAKvV,GAAO3N,GAAK2N,EACtB7U,KAAK03B,MAAM13B,KAAK03B,MAAMxsB,KAAK0qC,IAAQ/gC,EAC/B7U,KAAKksD,gBAAelsD,KAAKksD,cAAclsD,KAAKksD,cAAchhD,KAAK0qC,IAAQ/gC,GAEvE7U,KAAKisD,OAAOrW,KACd51C,KAAKisD,OAAOp3C,GAAS7U,KAAKisD,OAAOrW,UAC1B51C,KAAKisD,OAAOrW,IAGrB51C,KAAK8M,UAAU,aAAc,CAAC8oC,EAAK/gC,IAC/B7U,KAAKgtD,mBAAmBhtD,KAAKgtD,kBAAkBpX,EAAK/gC,UACjD7U,KAAKoqB,KAAKwrB,KAGnB9R,QAAS,SAAU58B,GACjB,OAAOlH,KAAKoqB,KAAKljB,IAGnBg+B,WAAY,SAAUh+B,EAAI+N,EAAQnD,GACZ,WAAhB7R,EAAQiH,KAAkBA,EAAKA,EAAG/E,YACtC,IAAI+C,EAAOlF,KAAK8jC,QAAQ58B,GACpB0uC,EAAM,KAENqX,EAAcjtD,KAAKyN,SAAS,gBAChC3H,EAAOZ,EAAM,6BACbY,GAAQmP,IAAWA,EAAO/N,IAAM+N,EAAO/N,IAAMA,EAAI,sCAE5C8B,EAAYiM,IAAW/P,IAAS+P,IAE/Bg4C,IAAarX,EAAM/tC,EAAK3C,IAC5BgC,EAAKhC,EAAKgC,GAEVvH,EAAQ8J,OAAOvE,EAAM+P,GAAQ,GAC7B/P,EAAKgC,GAAKA,GAGRlH,KAAK4sD,gBAAgB5sD,KAAK4sD,eAAe1nD,GAC7ClF,KAAK8M,UAAU,iBAAkB,CAAC5F,EAAIhC,EAAM4M,GAAQ,WAChDm7C,GAAajtD,KAAK8M,UAAU,eAAgB,CAAC5F,EAAIhC,EAAM0wC,KAG7DzrB,QAAS,SAAUjjB,GACblH,KAAKktD,gBAELhmD,EACElH,KAAKurD,OAAOrkD,IAAKlH,KAAK8M,UAAU,iBAAkB,CAAC5F,EAAIlH,KAAKoqB,KAAKljB,GAAK,UACrElH,KAAK8M,UAAU,iBAAkB,CAAC,KAAM,KAAM,SAEvDw3B,OAAQ,SAAUx7B,EAAMsC,GACtBpL,KAAKktD,eAAgB,EACrBpkD,EAAK1G,KAAKgJ,GAAUpL,MACpBA,KAAKktD,eAAgB,GAGvBC,SAAU,SAAU9qD,EAAM+qD,GASxB,GANU/qD,EAANA,EAAarC,KAAKimD,aAAa5jD,GAAkBrC,KAAKqtD,MAAQrtD,KAAKstD,aAAe,EAClFF,EAAIA,EAAKptD,KAAKimD,aAAamH,IAC7BA,EAAmB,IAAdptD,KAAKutD,KAAa,EAAI7zC,KAAKwJ,IAAIljB,KAAKutD,KAAOvtD,KAAKutD,KAAO,EAAIvtD,KAAKwtD,WAAa7J,EAAAA,EAAU3jD,KAAK2R,QAAU,IAClG,IAAGy7C,EAAK,GAGf/qD,EAAO+qD,EAAI,CAEb,IAAInkD,EAAImkD,EACRA,EAAK/qD,EACLA,EAAO4G,EAGT,OAAOjJ,KAAKytD,cAAcprD,EAAM+qD,IAGlCK,cAAe,SAAUprD,EAAM+qD,GAC7BA,EAAK1zC,KAAKwJ,IAAW,IAAPkqC,EAAW,EAAIA,GAAMzJ,EAAAA,EAAU3jD,KAAK2R,QAAU,GAK5D,IAHA,IAAIrI,EAAMqB,IAGDjK,EAAI2B,GAAQ,EAAG3B,GAAK0sD,EAAI1sD,IAC/B4I,EAAI/H,KAAKvB,KAAK8jC,QAAQ9jC,KAAK03B,MAAMh3B,KAGnC,OAAO4I,GAGTqI,MAAO,WACL,OAAO3R,KAAK03B,MAAMj2B,QAGpB8pD,OAAQ,SAAUrkD,GAChB,QAASlH,KAAKoqB,KAAKljB,IAIrB2qC,KAAM,SAAU6b,EAAQjI,GAEtB,GADA3/C,EAAO4nD,GAAU,GAAKjI,GAAU,EAAG,mBAC/BiI,GAAUjI,EAAd,CACA,IAAIv+C,EAAKlH,KAAK8rB,aAAa4hC,GACvBrtD,EAAML,KAAK8jC,QAAQ58B,GACnBlH,KAAKksD,eAAelsD,KAAK2tD,YAAY3tD,KAAKksD,cAAe,EAAG,EAAGlsD,KAAK8rB,aAAa4hC,GAAS1tD,KAAK8rB,aAAa25B,IAEhHzlD,KAAK2tD,YAAY3tD,KAAK03B,MAAOg2B,EAAQjI,GAGrCzlD,KAAK8M,UAAU,iBAAkB,CAAC5F,EAAI7G,EAAK,WAE7CstD,YAAa,SAAUp+C,EAAKm+C,EAAQjI,EAAQD,EAAK7X,GAC/C,GAAI6X,GAAO7X,EAAK,CACd+f,EAASjI,GAAS,EAElB,IAAK,IAAI/kD,EAAI,EAAGA,EAAI6O,EAAI9N,OAAQf,IAC1B6O,EAAI7O,IAAM8kD,GAAOkI,EAAS,IAAGA,EAAShtD,GACtC6O,EAAI7O,IAAMitC,GAAO8X,EAAS,IAAGA,EAAS/kD,GAI9C,IAAIwG,EAAKqI,EAAIm+C,GACbn+C,EAAI1E,SAAS6iD,GAEbn+C,EAAIzF,SAAS5C,EAAIwS,KAAKwJ,IAAI3T,EAAI9N,OAAQgkD,KAExCmI,OAAQ,SAAU3mD,GAUhB,IAAK,IAAIoK,KATTrR,KAAK6tD,QAAU,GACf7tD,KAAK2qD,aAAe1jD,EAAO6mD,MAC3B9tD,KAAK6sD,aAAe5lD,EAAO+C,OAAS/C,EAAO8mD,QAC3C/tD,KAAK4sD,eAAiB3lD,EAAO+mD,SAAW/mD,EAAO8mD,QAC/C/tD,KAAK0pD,kBAAoBziD,EAAOgnD,WAChCjuD,KAAKqsD,cAAgBplD,EAAOinD,OAC5BluD,KAAKwsD,aAAevlD,EAAOknD,MAC3BnuD,KAAKouD,eAAiBnnD,EAAOonD,QAEbpnD,EACU,KAApBoK,EAAIzE,OAAO,EAAG,KAAW5M,KAAK6tD,QAAQx8C,GAAOpK,EAAOoK,KAG5D6yB,WAAY,SAAUp8B,EAAQw8B,GAC5B,IAAIp/B,EAAO4C,EAASA,EAAO5C,MAAQ4C,EAAS,GAG5C,GAFA9H,KAAKksD,cAAgB,KAEQ,mBAAlBhnD,EAAKopD,UAAyB,CAIvC,GAHAtuD,KAAK03B,MAAQ/sB,EAAU,GAAG6rB,OAAOtxB,EAAKwyB,QAGlC13B,KAAKuuD,gBAAiB,CACxBvuD,KAAKuuD,iBAAkB,EACvB,IAAIC,EAAUxuD,KAAKoqB,KAGnB,IAAK,IAAIzX,KAFT3S,KAAKoqB,KAAO,GAEKllB,EAAKklB,KAAM,CAC1B,IAAIwrB,EAAM4Y,EAAQ77C,GAClB3S,KAAKoqB,KAAKzX,GAAQ9K,EAAK3C,EAAKklB,KAAKzX,IAC7BijC,GAAOA,EAAIpjC,OAAMxS,KAAKoqB,KAAKzX,GAAMH,MAAO,SAK9C,IAAK,IAAIm1C,KAFT3nD,KAAKoqB,KAAO,GAEMllB,EAAKklB,KACrBpqB,KAAKoqB,KAAKu9B,GAASziD,EAAKklB,KAAKu9B,GAI7BziD,EAAKupD,QAAUzuD,KAAKyuD,SACtBzuD,KAAKyuD,OAAS5mD,EAAK3C,EAAKupD,QACxBzuD,KAAK0uD,eAAiB,UAEnB,CAGL,IAAIxnD,EAAI7G,EACR,GAHAL,KAAK03B,MAAQ/sB,IACb3K,KAAKoqB,KAAO,GAER/hB,EAAQP,GAAS,IAAK,IAAI6mD,EAAQ,EAAGA,EAAQ7mD,EAAOrG,OAAQktD,IAE1C,UAAhB1uD,EADJI,EAAM6G,EAAKY,EAAO6mD,IACYtuD,EAAI6G,GAAK7G,EAAI6G,IAAMiD,IAAW9J,EAAM,CAChE6G,GAAIA,EACJ1F,MAAO0F,GAETlH,KAAK03B,MAAMn2B,KAAKlB,EAAI6G,IAChBlH,KAAK6sD,cAAc7sD,KAAK6sD,aAAaxsD,GACzCL,KAAKoqB,KAAK/pB,EAAI6G,IAAM7G,OACf,IAAK,IAAIuuD,KAAS1pD,EACvBlF,KAAK03B,MAAMn2B,KAAKqtD,GAChB5uD,KAAKoqB,KAAKwkC,GAAS,CACjB1nD,GAAI0nD,EACJptD,MAAO0D,EAAK0pD,IAKlB,GAAI5uD,KAAK6uD,eAAiB3pD,EAAKupD,OAAQ,CACrCzuD,KAAKyuD,OAAS,CACZ,EAAG,IAEAzuD,KAAK8uD,mBAAmB9uD,KAAK+uD,kBAAkB,QAEpD,IAAK,IAAIruD,EAAI,EAAGA,EAAIV,KAAK03B,MAAMj2B,OAAQf,IAAK,CAC1C,IAAI2Q,EAAMrR,KAAK03B,MAAMh3B,GAErBV,KAAK6uD,aAAa7uD,KAAKoqB,KAAK/Y,GAAM,EAAG,GAAG,IAI5CrR,KAAK8M,UAAU,cAAe,IACzBw3B,GAAQtkC,KAAK8M,UAAU,iBAAkB,KAEhDgH,KAAM,SAAU7O,EAAQoG,EAAQi5B,GAC9BtkC,KAAKgvD,SAEL,IAAI1qD,EAAOrE,EAAQgF,GASnB,GAPY,UAARX,IAAkBW,EAAS4pB,GAAG5pB,IAEtB,YAARX,GAA8B,UAARA,IACxBggC,EAASj5B,EACTA,EAAS,MAGQ,aAAfpG,EAAOW,MAAsC,aAAfX,EAAOW,KAAmB,CAC1D,IAAIX,EAAOC,MAA8B,cAArBD,EAAOC,KAAKU,MAA6C,cAArBX,EAAOC,KAAKU,KAElE,OADA5F,KAAKivD,aAAehqD,EACb6H,EAAU,gBAAiB,CAAC9M,KAAMiF,EAAQoG,IAFwCpG,EAASA,EAAOC,KAM7G,IAAIgqD,EAAazmD,GAAK,SAAUvB,EAAIhC,EAAM4M,GACpC9R,KAAKmvD,kBAIL9jD,GAAUrL,KAAKyuD,SAAQzuD,KAAKuuD,iBAAkB,GAClDvuD,KAAKkkC,WAAWj/B,GAAQ,GACpBoG,GAAQrL,KAAKskC,OAAOj5B,GACpBrL,KAAK4lC,UAAU5lC,KAAK4lC,WAClB1+B,GAAMhC,GAAQ4M,GAAU9R,KAAK2R,UACjC3R,KAAKisD,OAAS,IACJ,UAARn6C,GAAoB9R,KAAKisD,OAAO/kD,WAAYlH,KAAKisD,OAAO/kD,GAC5DlH,KAAK8M,UAAU,cAAe,IACzBw3B,EAA4BA,GAAS,EAA7BtkC,KAAKmqB,aACjBnqB,MACHA,KAAKovD,aAAe,CAACnqD,EAAO4H,YAAY,iBAAkBqiD,GAAajqD,EAAO4H,YAAY,aAAcpE,GAAK,SAAUmtC,EAAKmQ,GAC1H/lD,KAAKwrD,SAAS5V,EAAKmQ,GACnB/lD,KAAKmqB,QAAQ47B,KACZ/lD,QACHA,KAAKivD,aAAehqD,EAEpBjF,KAAKqvD,mBAAqBrvD,KAAK6M,YAAY,kBAAkB,SAAU3F,EAAIhC,EAAM4M,GACnE,UAARA,GAA4B,QAARA,IACtB9R,KAAKmvD,gBAAkB,EACvBlqD,EAAOigC,WAAWh+B,EAAIhC,GACtBlF,KAAKmvD,gBAAkB,MAG3BD,KAEFF,OAAQ,WACN,GAAIhvD,KAAKivD,aAAc,CACrB,IAAIhqD,EAASjF,KAAKivD,aAElB,GAAmB,aAAfhqD,EAAOW,MAAsC,aAAfX,EAAOW,MAAyBX,EAAOC,MAA4B,aAApBD,EAAOC,KAAKU,MAA2C,aAApBX,EAAOC,KAAKU,KAGzH,CAEL,IAAK,IAAIlF,EAAI,EAAGA,EAAIV,KAAKovD,aAAa3tD,OAAQf,IAC5CuE,EAAOuI,YAAYxN,KAAKovD,aAAa1uD,IAGvCV,KAAKwN,YAAYxN,KAAKqvD,yBAPtBviD,EAAU,kBAAmB,CAAC9M,KAAMiF,IAUtCjF,KAAKivD,aAAe,OAGxBv/B,WAAY,WACV1vB,KAAKgvD,SACLhvD,KAAKoqB,KAAOpqB,KAAK03B,MAAQ13B,KAAKisD,OAAS,KACvCjsD,KAAKiM,YAAcjM,KAAKkM,cAAgB,IAG1CgxB,IAAK,SAAU78B,EAAKgd,GAElB,GAAIrd,KAAK6tD,QAAS,IAAK,IAAIx8C,KAAOrR,KAAK6tD,QACjC7kD,EAAY3I,EAAIgR,MAAOhR,EAAIgR,GAAOrR,KAAK6tD,QAAQx8C,IAEjDrR,KAAK6sD,cAAc7sD,KAAK6sD,aAAaxsD,GAEzC,IAAI6G,EAAKlH,KAAKkH,GAAG7G,GAEbq3B,EAAQpxB,UAAU,IAAMtG,KAAK03B,MAE7B43B,EAAY53B,EAAMj2B,OAQtB,IAPIuH,EAAYqU,IAAUA,EAAQ,KAAGA,EAAQiyC,GAEzCjyC,EAAQiyC,IACVxpD,EAAO,EAAG,WACVuX,EAAQ3D,KAAKwJ,IAAIwU,EAAMj2B,OAAQ4b,KAGuB,IAApDrd,KAAK8M,UAAU,cAAe,CAAC5F,EAAI7G,EAAKgd,IAAmB,OAAO,EAKtE,GAJAvX,GAAQ9F,KAAKurD,OAAOrkD,GAAK,iBACzBlH,KAAKoqB,KAAKljB,GAAM7G,EAChBq3B,EAAM5tB,SAAS5C,EAAImW,GAEfrd,KAAKksD,cAAe,CAItB,IAAIqD,EAAiBvvD,KAAKksD,cAAczqD,OAEpCzB,KAAK03B,MAAMj2B,SAAQ8tD,EAAiB71C,KAAKwJ,IAAI7F,GAAS,EAAGkyC,IAE7DvvD,KAAKksD,cAAcpiD,SAAS5C,EAAIqoD,GAMlC,OAFAvvD,KAAK8M,UAAU,iBAAkB,CAAC5F,EAAI7G,EAAK,QAC3CL,KAAK8M,UAAU,aAAc,CAAC5F,EAAImW,IAC3Bhd,EAAI6G,IAGb+D,OAAQ,SAAU/D,GAEhB,GAAImB,EAAQnB,GACV,IAAK,IAAIxG,EAAI,EAAGA,EAAIwG,EAAGzF,OAAQf,IAC7BV,KAAKiL,OAAO/D,EAAGxG,QAFnB,CAQA,IAA+C,IAA3CV,KAAK8M,UAAU,iBAAkB,CAAC5F,IAAgB,OAAO,EAC7DpB,EAAO9F,KAAKurD,OAAOrkD,GAAK,oCAAsCA,GAC9D,IAAI7G,EAAML,KAAK8jC,QAAQ58B,GAGvBlH,KAAK03B,MAAMzsB,OAAO/D,GACdlH,KAAKksD,eAAelsD,KAAKksD,cAAcjhD,OAAO/D,UAC3ClH,KAAKoqB,KAAKljB,GACblH,KAAKisD,OAAO/kD,WAAYlH,KAAKisD,OAAO/kD,GAExClH,KAAK8M,UAAU,iBAAkB,CAAC5F,EAAI7G,EAAK,WAC3CL,KAAK8M,UAAU,gBAAiB,CAAC5F,MAGnC2f,SAAU,SAAU2oC,GAElBxvD,KAAKoqB,KAAO,GACZpqB,KAAKisD,OAAS,GACdjsD,KAAK03B,MAAQ/sB,IAEb3K,KAAKksD,cAAgB,KAChBsD,IAAMxvD,KAAKyR,IAAM,MACtBzR,KAAK8M,UAAU,aAAc,CAAC0iD,IAC9BxvD,KAAKmqB,WAGP2B,aAAc,SAAUzO,GAEtB,OADAvX,EAAOuX,GAAS,EAAG,2CACZrd,KAAK03B,MAAMra,IAGpB4oC,aAAc,SAAU/+C,GACtB,OAAKlH,KAAKoqB,KAAKljB,GAA2BlH,KAAK03B,MAAMxsB,KAAKhE,IAA/B,GAG7BuoD,UAAW,SAAUvoD,EAAIm/C,GACvB,OAAOrmD,KAAK03B,MAAM13B,KAAKimD,aAAa/+C,IAAOm/C,GAAQ,KAGrDqJ,WAAY,WACV,OAAO1vD,KAAK03B,MAAM,IAGpBi4B,UAAW,WACT,OAAO3vD,KAAK03B,MAAM13B,KAAK03B,MAAMj2B,OAAS,IAGxCmuD,UAAW,SAAU1oD,EAAIm/C,GACvB,OAAOrmD,KAAK03B,MAAM13B,KAAKimD,aAAa/+C,IAAOm/C,GAAQ,KAiBrDr9B,KAAM,SAAU6mC,EAAIvwB,EAAKwwB,GACvB,IAEIC,EAFAnqC,EAAQ5lB,KAGRgpB,EAAO6mC,EAYX,GANEE,EAJE1nD,EAAQ2gB,GAIG,CAHbA,EAAOA,EAAK1jB,KAAI,SAAU2D,GACxB,OAAO2c,EAAMoqC,WAAW/mD,OAKb,EADb+f,EAAOhpB,KAAKgwD,WAAWH,EAAIvwB,EAAKwwB,IACbD,GAAI7mC,EAAKsW,IAAKtW,EAAK8mC,GAAI9mC,GAGvChpB,KAAK8M,UAAU,eAAgBijD,GAApC,CACA,IAAIE,EAASjwD,KAAKkwD,QAAQp4C,OAAOkR,GACjChpB,KAAK03B,MAAQ13B,KAAKmwD,WAAWF,EAAQjwD,KAAK03B,OACtC13B,KAAKksD,gBAAelsD,KAAKksD,cAAgBlsD,KAAKmwD,WAAWF,EAAQjwD,KAAKksD,gBAE1ElsD,KAAKmqB,UACLnqB,KAAK8M,UAAU,cAAeijD,KAEhCC,WAAY,SAAUH,EAAIvwB,EAAKwwB,GAC7B,IAAI9mC,EAAO6mC,EAUX,MATiB,mBAANA,EAAkB7mC,EAAO,CAClC8mC,GAAID,EACJvwB,IAAKA,GACiB,iBAANuwB,IAAgB7mC,EAAO,CACvC6mC,GAAIA,EACJvwB,IAAKA,EACLwwB,GAAIA,IAEgB,iBAAX9mC,EAAK6mC,KAAgB7mC,EAAK6mC,GAAK7mC,EAAK6mC,GAAGnlD,QAAO,KAAO,KACzDse,GAETmnC,WAAY,SAAUF,EAAQv4B,GAC5B,GAAI13B,KAAK03B,MAAMj2B,OAAQ,CAKrB,IAJA,IAAI2uD,EAAM14B,EAAM1sB,OAAO,EAAGhL,KAAKqwD,SAE3BC,EAAW3lD,IAENjK,EAAIg3B,EAAMj2B,OAAS,EAAGf,GAAK,EAAGA,IACrC4vD,EAAS5vD,GAAKV,KAAKoqB,KAAKsN,EAAMh3B,IAIhC,OADA4vD,EAAStnC,KAAKinC,GACPtlD,EAAUylD,EAAI55B,OAAO85B,EAAShrD,KAAI,SAAUjF,GAEjD,OADAyF,EAAOzF,EAAK,qDACLL,KAAKkH,GAAG7G,KACdL,QAGL,OAAO03B,GAeT64B,cAAe,SAAUC,GAEnBxwD,KAAKksD,gBAAkBsE,IACzBxwD,KAAK03B,MAAQ13B,KAAKksD,qBACXlsD,KAAKksD,gBAGhBuE,aAAc,SAAUplD,EAAQ7J,EAAOgvD,GAKrC,IAJA,IAAIF,EAAW3lD,IAEXyS,EAASpd,KAAKqwD,SAAW,EAEpB3vD,EAAI,EAAGA,EAAIV,KAAK03B,MAAMj2B,OAAQf,IAAK,CAC1C,IAAIwG,EAAKlH,KAAK03B,MAAMh3B,IAChBA,EAAI0c,GAAU/R,EAAOrL,KAAK8jC,QAAQ58B,GAAK1F,KAAQ8uD,EAAS/uD,KAAK2F,GAI9DspD,GAAaxwD,KAAKksD,gBAAelsD,KAAKksD,cAAgBlsD,KAAK03B,OAChE13B,KAAK03B,MAAQ44B,GAEfplD,KAAM,SAAUjE,EAAQ+sB,GACtB,IAAIroB,EAAS,GAEb,IAAK,IAAIjL,KAAKV,KAAKoqB,KAAM,CACvB,IAAIllB,EAAOlF,KAAKoqB,KAAK1pB,GACjBgwD,GAAQ,EAEZ,GAAuB,UAAnBzwD,EAAQgH,IACV,IAAK,IAAIoK,KAAOpK,EACd,GAAI/B,EAAKmM,IAAQpK,EAAOoK,GAAM,CAC5Bq/C,GAAQ,EACR,YAGMzpD,EAAO/B,KAAOwrD,GAAQ,GAGlC,GADIA,GAAO/kD,EAAOpK,KAAK2D,GACnB8uB,GAASroB,EAAOlK,OAAQ,OAAOkK,EAAO,GAG5C,OAAOqoB,EAAQ,KAAOroB,GAExBN,OAAQ,SAAUlF,EAAMwqD,EAAOH,GAE7B,IAAKrqD,GAASnG,KAAKksD,eAAkBlsD,KAAK0uD,iBACrC1uD,KAAK8M,UAAU,iBAAkB,CAAC3G,EAAMwqD,MAE7C3wD,KAAKuwD,cAAcC,GAEdxwD,KAAK03B,MAAMj2B,QAAhB,CAEA,GAAI0E,EAAM,CACR,IAAIkF,EAASlF,EACbwqD,EAAQA,GAAS,GAEE,iBAARxqD,IACTA,EAAOA,EAAKuE,QAAO,KAAO,IACN,mBAATimD,EAAqBtlD,EAAS,SAAUhL,GACjD,OAAOswD,EAAMtwD,EAAI8F,MAEjBwqD,EAAQA,EAAMxuD,WAAWqE,cAEzB6E,EAAS,SAAUhL,EAAKmB,GAGtB,OADAsE,EAAOzF,EAAK,6DACwD,IAA5DA,EAAI8F,IAAS,IAAIhE,WAAWqE,cAAcmG,QAAQnL,MAKhExB,KAAKywD,aAAaplD,EAAQslD,EAAOH,EAAUxwD,KAAK4wD,aAIlD5wD,KAAKmqB,UACLnqB,KAAK8M,UAAU,gBAAiB,MAMlC+jD,WAAY,WAGV,IAFA,IAAI3rD,EAAO,GAEFxE,EAAIV,KAAK03B,MAAMj2B,OAAS,EAAGf,GAAK,EAAGA,IAC1CwE,EAAKxE,GAAKV,KAAKoqB,KAAKpqB,KAAK03B,MAAMh3B,IAGjC,OAAOwE,GAETiG,KAAM,SAAU/C,EAAQgD,EAAQjG,GAC9B,IAAIuyB,EAAQ13B,KAAK03B,MACbvyB,IAAKuyB,EAAQ13B,KAAKksD,eAAiBx0B,GAEvC,IAAK,IAAIh3B,EAAI,EAAGA,EAAIg3B,EAAMj2B,OAAQf,IAC5Bg3B,EAAMh3B,IAAI0H,EAAOhG,KAAKgJ,GAAUpL,KAAMA,KAAK8jC,QAAQpM,EAAMh3B,IAAKA,IAGtEowD,YAAa,SAAUnoD,EAAQP,GAC7B,OAAO,WACL,OAAOO,EAAOP,GAAQQ,MAAMD,EAAQrC,aAOxCyqD,WAAY,SAAUjpD,EAAQkpD,GACxBA,GACFhxD,KAAKuM,SAAS,CACZ0kD,aAAcnpD,EACdopD,YAAappD,EACbqpD,YAAarpD,EACbspD,WAAYtpD,EACZupD,eAAgBvpD,EAChBwpD,cAAexpD,EACfypD,aAAczpD,IAUlB,IAFA,IAAI0pD,EAAO,CAAC,OAAQ,MAAO,SAAU,SAAU,eAAgB,eAAgB,UAAW,aAAc,UAAW,QAAS,SAAU,OAAQ,YAAa,YAAa,WAAY,aAAc,YAAa,YAAa,QAEnN9wD,EAAI,EAAGA,EAAI8wD,EAAK/vD,OAAQf,IAC/BoH,EAAO0pD,EAAK9wD,IAAMV,KAAK8wD,YAAY9wD,KAAMwxD,EAAK9wD,KAGlDukD,QAAS,SAAU/9C,EAAImO,EAAMiG,EAAK9Z,EAAO8iC,GACvC,IAAIjkC,EAAML,KAAKisD,OAAO/kD,IAAO,GAG7B,GAFAlH,KAAKisD,OAAO/kD,GAAM7G,GAEbA,EAAIgV,GAAO,CAGd,GAFAhV,EAAIgV,GAAQ7T,IAAS,EAEjB8Z,EAAK,CACP,IAAIm2C,EAAUpxD,EAAI8jD,MAAQ,GAC1B9jD,EAAI8jD,KAAOsN,EAAU,IAAMp8C,EAGxBivB,GAAQtkC,KAAKmqB,QAAQjjB,GAG5B,OAAO7G,EAAIgV,IAEb6vC,WAAY,SAAUh+C,EAAImO,EAAMiG,EAAKgpB,GACnC,IAAIjkC,EAAML,KAAKisD,OAAO/kD,GAEtB,GAAI7G,EAAK,CAGP,GAFIA,EAAIgV,WAAchV,EAAIgV,GAEtBiG,EAAK,CACP,IAAIo2C,EAAcrxD,EAAI8jD,KAElBuN,IACFrxD,EAAI8jD,KAAOuN,EAAYhnD,QAAQ2K,EAAM,IAAI3K,QAAQ,KAAM,MAItD45B,GAAQtkC,KAAKmqB,QAAQjjB,KAG9Bi+C,QAAS,SAAUj+C,EAAImO,GACrB,IAAIhV,EAAML,KAAKisD,OAAO/kD,GACtB,QAAO7G,GAAMA,EAAIgV,IAEnBgwC,UAAW,SAAUz/C,EAAM0V,EAAKgpB,GAC9B,IAAK,IAAIp9B,KAAMlH,KAAKisD,OAAQ,CAC1B,IAAI5rD,EAAML,KAAKisD,OAAO/kD,GAElB7G,EAAIuF,YACCvF,EAAIuF,GACP0V,GAAOjb,EAAI8jD,OAAM9jD,EAAI8jD,KAAO9jD,EAAI8jD,KAAKz5C,QAAQ9E,EAAM,IAAI8E,QAAQ,KAAM,MACpE45B,GAAQtkC,KAAKmqB,QAAQjjB,MAQhConD,UAAW,SAAUnpD,GACnB,IAAIwsD,EAAM3xD,KAAK03B,MACXvyB,GAAOnF,KAAKksD,gBAAeyF,EAAM3xD,KAAKksD,eAG1C,IAFA,IAAIvgD,EAAS,GAEJjL,EAAI,EAAGA,EAAIixD,EAAIlwD,OAAQf,IAAK,CACnC,IAAIwd,EAAKle,KAAKoqB,KAAKunC,EAAIjxD,IAEnBV,KAAK0pD,oBAEI,KADXxrC,EAAKle,KAAK0pD,kBAAkBxrC,KAI9BvS,EAAOpK,KAAK2c,GAGd,OAAOvS,GAETukD,QAAS,CACPp4C,OAAQ,SAAU7Q,GAChB,OAAIoB,EAAQpB,GAAgBjH,KAAK4xD,OAAO3qD,GACjCjH,KAAK6xD,KAAK5qD,EAAOq4B,IAAKt/B,KAAK8xD,IAAI7qD,EAAO4oD,GAAI5oD,EAAO6oD,MAE1DA,GAAI,CAEFiC,OAAU,WACR,OAAO,GAETC,KAAQ,SAAU/oD,EAAG4E,GAGnB,OAFA5E,GAAQ,EACR4E,GAAQ,EACJmd,MAAMnd,GAAW,EACjBmd,MAAM/hB,IAAW,EACdA,EAAI4E,EAAI,EAAI5E,EAAI4E,GAAI,EAAK,GAElCokD,IAAO,SAAUhpD,EAAG4E,GAGlB,OAFA5E,GAAQ,EACR4E,GAAQ,EACJmd,MAAMnd,GAAW,EACjBmd,MAAM/hB,IAAW,EACdA,EAAI4E,EAAI,EAAI5E,EAAI4E,GAAI,EAAK,GAElCqkD,cAAiB,SAAUjpD,EAAG4E,GAC5B,OAAKA,EACA5E,GACLA,EAAIA,EAAE9G,aACN0L,EAAIA,EAAE1L,YACS,EAAI8G,EAAI4E,GAAI,EAAK,GAHjB,EADA,GAMjB4zC,OAAU,SAAUx4C,EAAG4E,GACrB,OAAKA,EACA5E,GACLA,EAAIA,EAAE9G,WAAWqE,gBACjBqH,EAAIA,EAAE1L,WAAWqE,eACF,EAAIyC,EAAI4E,GAAI,EAAK,GAHjB,EADA,GAMjBskD,IAAO,SAAUlpD,EAAG4E,GAClB,OAAO5E,EAAI4E,EAAI,EAAI5E,EAAI4E,GAAI,EAAK,IAGpC+jD,OAAQ,SAAUQ,GAChB,IAAIpsC,EAAShmB,KAKb,OAHAoyD,EAAUA,EAAQ9sD,KAAI,SAAUwI,GAC9B,OAAOkY,EAAO6rC,KAAK/jD,EAAEwxB,IAAKtZ,EAAO8rC,IAAIhkD,EAAE+hD,GAAI/hD,EAAEgiD,QAExC,SAAU7mD,EAAG4E,GAClB,IAAIlC,EACAjL,EAAI,KAGNiL,EAASymD,EAAQ1xD,GAAGuI,EAAG4E,UACflC,GAAUymD,IAAU1xD,IAE9B,OAAOiL,IAGXmmD,IAAK,SAAUrqC,EAAMrf,GACnB,OAAKqf,GACgB,mBAAVrf,IAAsBA,EAASpI,KAAK8vD,GAAG1nD,GAAU,WAC5DtC,EAAOsC,EAAQ,0BACR,SAAUa,EAAG4E,GAClB,OAAOzF,EAAOa,EAAEwe,GAAO5Z,EAAE4Z,MAJTrf,GAOpBypD,KAAM,SAAUpqC,EAAMrf,GACpB,MAAY,OAARqf,GAAkBA,EACf,SAAUxe,EAAG4E,GAClB,OAAsB,EAAfzF,EAAOa,EAAG4E,IAFgBzF,KAgBzC,IAAIiqD,GAAa1yD,EAAQ4xB,MAAM,CAC7BvnB,MAAO,SAAU/C,GAEfA,EAASA,GAAU,GACnBjH,KAAKsyD,WAAa,GAClBtyD,KAAKmlB,iBAAmB,EACxBnlB,KAAKkF,KAAO,IAAI6mD,GAChB/rD,KAAKkF,KAAK2H,YAAY,aAAcpE,EAAKzI,KAAKuyD,iBAAkBvyD,OAChEA,KAAKkF,KAAK2H,YAAY,iBAAkBpE,EAAKzI,KAAKwyD,gBAAiBxyD,OACnEA,KAAK6M,YAAY,aAAc7M,KAAKuyD,kBACpCvyD,KAAKkF,KAAKutD,KAAOzyD,KAAK0yD,MACtB1yD,KAAKkF,KAAK+O,MAAQhN,EAAOC,IAE3BwrD,MAAO,SAAUrwD,EAAMsP,EAAOgP,EAAUjb,EAAOigB,GAE7C,OAAI3lB,KAAK2yD,aACPjtD,EAAQvC,EAASuC,QACjB1F,KAAK2yD,YAAc,CAACtwD,EAAMsP,EAAOgP,EAAUjb,EAAOigB,GAE3CjgB,IACF1F,KAAK2yD,aAAc,EAE1B3yD,KAAKsyD,WAAWjwD,KAAOA,EACvBrC,KAAKsyD,WAAW3gD,MAAQA,EACjB3R,KAAK4yD,aAAaxwD,KAAKpC,KAAMqC,EAAMsP,EAAOgP,EAAUjb,GAAO,EAAOigB,KAE3EitC,aAAc,SAAUvwD,EAAMsP,EAAOgP,EAAUjb,EAAOW,EAASsf,GAC7D,IAAIC,EAAQ5lB,KAERyR,EAAMzR,KAAKkF,KAAKuM,IAChBpP,EAAO,IAAGA,EAAO,GAChBgE,IAASA,EAAU,CACtBqW,MAAOra,EACPsP,MAAOA,IAEL3R,KAAK2R,UAAStL,EAAkB,SAAI,QACxC,IAAI7C,EAAQxD,KAAKshC,SAAWthC,KAAKshC,WAAa,KAE9C,GAAI7vB,GAAqB,iBAAPA,EAMhB,OALIjO,IACEA,EAAMwlB,OAAM3iB,EAAQ2iB,KAAOxlB,EAAMwlB,MACjCxlB,EAAM6H,SAAQhF,EAAQgF,OAAS7H,EAAM6H,SAGpCrL,KAAKoU,KAAK3C,EAAK,EAAGpL,EAASsf,GAAOtiB,MAAK,SAAU6B,GACtD,OAAO0gB,EAAMitC,cAAc3tD,EAAMyb,EAAUjb,MAC1C,WACD,OAAOkgB,EAAMktC,oBAIfrhD,IAAiC,GAApBA,EAAI9E,QAAQ,KAAa,IAAM,IAC5C,IAAIxD,EAAS,GAEb,IAAK,IAAIrF,KAAKuC,EACZ8C,EAAO5H,KAAKuC,EAAI,IAAMuC,EAAQvC,IAGhC,GAAIN,EAAO,CACT,GAAIA,EAAMwlB,KAGR,IAFA,IAAIA,EAAO3gB,EAAQ7E,EAAMwlB,MAAQxlB,EAAMwlB,KAAO,CAACxlB,EAAMwlB,MAE5CtoB,EAAI,EAAGA,EAAIsoB,EAAKvnB,OAAQf,IAC/ByI,EAAO5H,KAAK,QAAUynB,EAAKtoB,GAAGwG,GAAK,KAAOqL,mBAAmByW,EAAKtoB,GAAG4+B,MAIzE,GAAI97B,EAAM6H,OAAQ,IAAK,IAAIgG,KAAO7N,EAAM6H,OAAQ,CAC9C,IAAI0nD,EAAcvvD,EAAM6H,OAAOgG,GACH,UAAxBpR,EAAQ8yD,KAA0BA,EAAcvhD,IAAO9F,UAAUqnD,IAErE5pD,EAAO5H,KAAK,UAAY8P,EAAM,KAAOkB,mBAAmBwgD,KAM5D,OAFAthD,GAAOtI,EAAO9B,KAAK,KAEfrH,KAAKsyD,WAAW7gD,MAAQA,GAC1BzR,KAAKsyD,WAAW7gD,IAAMA,EACfzR,KAAKoU,KAAK3C,EAAK,EAAG,KAAMkU,GAAOtiB,MAAK,SAAU6B,GACnD,OAAO0gB,EAAMitC,cAAc3tD,EAAMyb,EAAUjb,MAC1C,WACD,OAAOkgB,EAAMktC,sBAGf9yD,KAAK2yD,aAAc,EACZxvD,EAASa,WAItB6uD,cAAe,SAAU3tD,EAAMyb,EAAUjb,GACvC,IAAIsgB,EAAShmB,KAOb,OALAkJ,GAAM,WACJ,OAAO8c,EAAO8sC,mBACb,GAAI,GAAI,KACPnyC,GAAUnP,EAAK4B,UAAUpT,KAAM2gB,EAAUzb,GACzCQ,GAAOA,EAAM3B,QAAQmB,GAClBA,GAET4tD,eAAgB,WAEd,IAAIpjD,EAAO1P,KAAK2yD,YAChB3yD,KAAK2yD,aAAc,EACE,UAAjB1yD,EAAQyP,IAAmB1P,KAAKkF,KAAKutD,KAAK7pD,MAAM5I,KAAM0P,IAG5D0E,KAAM,SAAU3C,GACdA,EAAMqE,GAAQI,OAAOzE,GACrB,IAAI0D,EAAU+P,GAAe9Q,KAAKxL,MAAM5I,KAAMsG,WAG9C,OADKtG,KAAKkF,KAAKuM,MAAKzR,KAAKkF,KAAKuM,IAAMA,GAC7B0D,GAGT69C,SAAU,SAAUrhD,EAAO+K,EAAOiE,EAAUlP,EAAKg4C,EAAK9jC,GACpD,IAAI1e,EAASjH,KAAKoN,UAElB,GAAInG,EAAOgsD,eAAiBxJ,EAAK,CAC3BzpD,KAAKkzD,mBAAmB1wD,OAAOgyB,aAAax0B,KAAKkzD,mBACrD,IAAIxtD,EAAQvC,EAASuC,QAIrB,OAHA1F,KAAKkzD,kBAAoBhqD,GAAM,WAC7BxD,EAAM3B,QAAQ/D,KAAKgzD,SAASrhD,EAAO+K,EAAOiE,EAAUlP,GAAK,EAAMkU,MAC9D3lB,KAAM,EAAGiH,EAAOgsD,cACZvtD,EAMT,OAHKgX,GAAmB,IAAVA,IAAaA,EAAQ1c,KAAK2R,SACnCA,IAAOA,EAAQ1K,EAAOksD,WAAanzD,KAAK2R,SAC7C3R,KAAKkF,KAAKuM,IAAMA,GAAOzR,KAAKkF,KAAKuM,IAC7BzR,KAAK8M,UAAU,gBAAiB,CAAC4P,EAAO/K,EAAOgP,EAAUlP,KAASzR,KAAKkF,KAAKuM,IAAYzR,KAAKkF,KAAKutD,KAAKrwD,KAAKpC,KAAM0c,EAAO/K,EAAOgP,GAAU,EAAOgF,GAC9IxiB,EAASa,UAElBovD,uBAAwB,SAAUzhD,EAAOtP,GACvC,IAAIylC,EAAO9nC,KAAKsyD,WAEhB,SAAItyD,KAAK2yD,aAAe7qB,EAAKr2B,KACvBq2B,EAAKzlC,MAAQA,GAAQylC,EAAKn2B,MAAQm2B,EAAKzlC,MAAQsP,EAAQtP,IAK/DgxD,oBAAqB,SAAU7xD,GAC7B,OAAOxB,KAAKkF,KAAKynD,cAAgBnrD,GAKnC8xD,oBAAqB,WACnB,IAAI7hD,EAAMzR,KAAKoN,UAAUsH,MACb,IAARjD,IAAcA,EAAMzR,KAAKoN,UAAUsH,KAAO1U,KAAKoN,UAAUqE,KAC7D,IAAIpR,EAAM,CACR+K,OAAQpL,MAENyR,GAAOA,EAAIA,IAAK9R,EAAQ8J,OAAOpJ,EAAKoR,GAAUpR,EAAIoR,IAAMA,EAC5D02C,GAAG9nD,IAELkzD,YAAa,SAAU/xD,GAErB,OADIA,GAAOxB,KAAKslB,OAAO/jB,KAAKvB,KAAKszD,qBAC1B9xD,GAETgyD,SAAU,SAAUrvD,GAClB,IAAIiiB,EAASpmB,KAEb,OAAOmoD,GAAGnoD,MAAM+2B,UAAS,WACvB5yB,EAAQ/B,KAAKgkB,MACZ/iB,MAAK,SAAUowD,GAChB,OAAsB,GAAfA,EAAKhyD,OAAcgyD,EAAK,GAAKA,MAGxCC,cAAe,SAAUlyD,GACvBxB,KAAKkF,KAAK0oD,OAAOpsD,IAEnBmyD,gBAAiB,SAAUnyD,GA6CzB,OA5CAA,EAAQsU,GAAQI,OAAO1U,GACvBxB,KAAKkF,KAAK2H,YAAY,iBAAkBpE,GAAK,SAAUtC,EAAMytD,GAC3D,IAEIjoD,EAFAob,EAAS/mB,KAIb,GAAmB,mBAARmG,EAAoB,OAAO,EAEtC,GAAInG,KAAKoN,UAAU+Z,WAAahhB,GAAQytD,GAAc,CACpDztD,EAAOA,GAAQ,KACXytD,GAAuC,UAAxB3zD,EAAQ2zD,KAA0BA,EAAcA,EAAY1sD,IAC/E,IAAIuK,EAAMzR,KAAKoN,UAAU+Z,SAEzB,GAAkB,iBAAP1V,EAAiB,CAC1B,IAAIoiD,EAAU,UAAY1tD,EAAO,KAAOoM,mBAAmBqhD,GAC3DjoD,EAAS3L,KAAK6lB,OAAOpU,GAAOA,EAAI9E,QAAQ,KAAO,EAAI,IAAM,KAAOknD,EAAS7zD,KAAKoN,UAAUiY,cAErF,CACD,IAAIha,EAAS,GACbA,EAAOlF,GAAQytD,EAEG,mBAAPniD,EACT9F,EAAS8F,EAAIrP,KAAKpC,KAAM4zD,EAAavoD,GAC5BoG,EAAI0C,QAAU1C,EAAI2C,OAC3BzI,EAAS8F,EAAI2C,KAAKpU,KAAM,CACtBqL,OAAQA,KAgBhB,OAXIM,IACGA,EAAOtI,OAAMsI,EAASxI,EAASY,QAAQ4H,IAC5CA,EAAOtI,MAAK,SAAU6B,GACpB6hB,EAAOjB,QAAQ5gB,GAAM,GAErB6hB,EAAO7hB,KAAK4H,UAAU,gBAAiB,OACtC,SAAUmF,GACX,OAAO8U,EAAOhB,aAAa9T,QAIxB,KAERjS,OACIwB,GAET8kB,cAAe,WACb,GAAItmB,KAAKoN,UAAU4oB,QAAUh2B,KAAK8zD,gBAAiB,CACjD,IAAIhrD,EAAO0B,EAAUxK,KAAKoN,UAAU4oB,MAAOh2B,KAAKyM,QAC5C3D,GAAMI,EAAMJ,EAAM9I,KAAMsG,WACxBtG,KAAK8M,WAAW5D,EAAMlJ,KAAK8M,UAAW9M,KAAM,CAAC,UAAW,KAC5DA,KAAK8zD,iBAAkB,IAG3BvB,iBAAkB,SAAU/C,GAC1BxvD,KAAKmlB,mBAEAqqC,IACHxvD,KAAK2yD,aAAc,EACnB3yD,KAAKsyD,WAAa,GAClBtyD,KAAKolB,SAAWjiB,EAASuC,UAG7B8sD,gBAAiB,SAAUvrD,GACzBjH,KAAKqiC,kBAAkBp7B,KAExBie,IAEC6uC,GAAY,CACdzyB,SAAU,WAYR,IAXA,IAAI1b,EAAQ5lB,KAERg0D,EAASh0D,KAAKiH,OAAO6W,QAAQrc,OAC7Bqc,EAAU9d,KAAKiH,OAAO6W,QACtB2kB,EAAW,CACbkvB,IAAK,GACL3qD,KAAM,GACN02B,OAAQ19B,KAAKwjC,eAAc,GAC3B/X,OAAQzrB,KAAK0rB,kBAGNhrB,EAAI,EAAGA,EAAIszD,EAAQtzD,IAAK,CAC/B,IAAI6O,EAAMuO,EAAQpd,GAClB+hC,EAASkvB,IAAIpwD,KAAKgO,EAAIrI,IACtBu7B,EAASz7B,KAAKzF,KAAKgO,EAAI0kD,WAAa1kD,EAAI8gB,QAAS,EAAK9gB,EAAIqK,OAK5D,GAFA6oB,EAAS/K,MAAQ,GAAGlB,OAAOx2B,KAAKk0D,qBAAqBzyD,OAASzB,KAAKk0D,qBAAuBzxB,EAASkvB,KAE/F3xD,KAAKm0D,YAAY1yD,OAAQ,CAC3B,IAAIunB,EAAOhpB,KAAKm0D,YAAY7uD,KAAI,SAAU4B,GACxC,MAAO,CACLA,GAAIA,EACJo4B,IAAK1Z,EAAMwuC,aAAaltD,GAAIo4B,QAIhCmD,EAASzZ,KAAsB,GAAfA,EAAKvnB,OAAcunB,EAAK,GAAKA,EAK/C,GAAIhpB,KAAKq0D,kBAAoBr0D,KAAKs0D,oBAAqB,CACrD,IAAIjpD,EAAS,GACTkpD,EAAa,EAEjB,IAAK,IAAIljD,KAAOrR,KAAKq0D,iBACnB,IAAIr0D,KAAKw0D,oBAAoBnjD,GAA7B,CACA,IAAI1J,EAAI3H,KAAKq0D,iBAAiBhjD,GAC9B1J,EAAE,GAAGnG,MAAQ6J,EAAOgG,GAAO1J,EAAE,GAAGyQ,SAASzQ,EAAE,IAC3C4sD,EAAa,EAGXA,IAAY9xB,EAASp3B,OAASA,GAKpC,IAAK,IAAIsH,KAFT8vB,EAASlf,OAAS,GAEDvjB,KAAKw0D,oBACpB/xB,EAASlf,OAAOhiB,KAAKoR,GAGvB,OAAO8vB,GAETd,SAAU,SAAUthC,GAClB,IAAI2lB,EAAShmB,KAET8d,EAAU9d,KAAKiH,OAAO6W,QAC1B,GAAKzd,EAAL,CAMA,GALAL,KAAKy0D,cACLz0D,KAAKm0D,YAAc,GACnBn0D,KAAKo0D,aAAe,GACpBp0D,KAAKoM,aAED/L,EAAIq3B,OAASr3B,EAAIq3B,MAAMj2B,OAAQ,CACjCzB,KAAKk0D,qBAAuBvpD,EAAU,GAAG6rB,OAAOn2B,EAAIq3B,QACpD,IAAIg9B,EAAKr0D,EAAIq3B,MAAMj2B,OAASzB,KAAKoN,UAAUunD,WAC3C30D,KAAK40D,cAAgB,CAAC50D,KAAKoN,UAAUynD,UAAWH,EAAI10D,KAAKoN,UAAUunD,YAGrE,GAAIt0D,EAAIkjB,OAAQ,CAGd,IAFA,IAAIuxC,EAAS,GAEJp0D,EAAI,EAAGA,EAAIL,EAAIkjB,OAAO9hB,OAAQf,IACrCo0D,EAAOz0D,EAAIkjB,OAAO7iB,KAAM,EACnBV,KAAKk0D,qBAAqBzyD,QAAQzB,KAAK+0D,WAAW10D,EAAIkjB,OAAO7iB,IAGpE,GAAIV,KAAKk0D,qBAAqBzyD,OAC5B,IAAK,IAAIL,EAAK,EAAGA,EAAKpB,KAAKk0D,qBAAqBzyD,OAAQL,IAAM,CAC5D,IAAI4zD,EAAQh1D,KAAKk0D,qBAAqB9yD,KAChC0zD,EAAOE,KAAWh1D,KAAKw0D,oBAAoBQ,IAAQh1D,KAAK+0D,WAAWC,EAAO,IAAI,IAASF,EAAOE,KAK1G,GAAI30D,EAAIsxD,IAAK,CAGX,IAFA,IAAIsD,GAAU,EAEL3kD,EAAM,EAAGA,EAAMwN,EAAQrc,OAAQ6O,IAClCwN,EAAQxN,GAAKpJ,IAAM7G,EAAIsxD,IAAIrhD,KAAM2kD,GAAU,GAGjD,GAAIA,EAAS,CACX,IAAK,IAAIC,EAAM,EAAGA,EAAM70D,EAAIsxD,IAAIlwD,OAAQyzD,IACtCp3C,EAAQo3C,GAAOl1D,KAAKm1D,gBAAgB90D,EAAIsxD,IAAIuD,KAASp3C,EAAQo3C,GAG/Dl1D,KAAKo1D,kBAIT,GAAI/0D,EAAI2G,KAGN,IAFA,IAAIgtD,EAASt6C,KAAKwJ,IAAI7iB,EAAI2G,KAAKvF,OAAQqc,EAAQrc,QAEtC4zD,EAAM,EAAGA,EAAMrB,EAAQqB,IAAO,CACrC,IAAI9lD,EAAMuO,EAAQu3C,GAEd9lD,GAAOlP,EAAI2G,KAAKquD,GAAO,GAAK9lD,EAAIqK,OAASvZ,EAAI2G,KAAKquD,YAC7C9lD,EAAI0kD,iBACJ1kD,EAAI8gB,OAEXrwB,KAAKs1D,gBAAgBD,EAAKh1D,EAAI2G,KAAKquD,IAAM,IAK/Cr1D,KAAKsM,eACL,IAAIg4B,IAAWtkC,KAAKoN,UAAUynD,WAAa70D,KAAKoN,UAAUunD,YAE1D30D,KAAKu1D,wBAAwBjxB,GAE7BtkC,KAAK8M,UAAU,oBAAqB,IACpC,IAAIilD,EAAS/xD,KAAKw1D,gBAAkB,GAEpC,GAAIn1D,EAAI2oB,KAAM,CACZ,IAAIA,EAAO3oB,EAAI2oB,KACXysC,GAAQ,EAEPptD,EAAQ2gB,KACXA,EAAO,CAACA,GACRysC,GAAQ,GAGV,IAAK,IAAIC,EAAM,EAAGA,EAAM1sC,EAAKvnB,OAAQi0D,IAAO,CAC1C,IAAIC,EAAO31D,KAAKm1D,gBAAgBnsC,EAAK0sC,GAAKxuD,IAEtCyuD,IACF31D,KAAK41D,MAAMD,EAAKzuD,GAAI8hB,EAAK0sC,GAAKp2B,IAAKq2B,EAAK3sC,KAAMysC,GAE7B,UAAbE,EAAK3sC,OAAkB+oC,EAAO/oC,MAAO,KAK/C,GAAI3oB,EAAIgL,OAAQ,CAEd,IAAIqE,EAAO1P,KAAK61D,YAKhB,IAAK,IAAIxkD,KAHTrR,KAAK61D,YAAc,aAGHx1D,EAAIgL,OAAQ,CAC1B,IAAI7J,EAAQnB,EAAIgL,OAAOgG,GACnB1J,EAAI3H,KAAKq0D,iBAAiBhjD,GAC9B,GAAK7P,GAAUmG,EAAf,CACAA,EAAE,GAAGk6B,SAASl6B,EAAE,GAAInG,GACpB,IAAIs0D,EAAYnuD,EAAE,GAAGouD,UACjBD,IAAW91D,KAAKg2D,gBAAgBF,GAAWt0D,MAAQA,IAIzD,IAAK,IAAImmD,KAAS3nD,KAAKq0D,iBACrB,IAAKh0D,EAAIgL,OAAOs8C,GAAQ,CACtB,IAAIsO,EAAKj2D,KAAKq0D,iBAAiB1M,GAE/BsO,EAAG,GAAGp0B,SAASo0B,EAAG,GAAI,IAK1Bj2D,KAAK61D,YAAcnmD,EACnB1P,KAAK61D,cAUP,UANO71D,KAAKw1D,iBACRzD,EAAO/oC,MAAQ+oC,EAAO1mD,SAAQrL,KAAKgzD,SAAS,EAAG,EAAG,EAAG,GAAG,GAAM,GAAM3vD,MAAK,WACvE0uD,EAAO/oC,MAAMhD,EAAOkwC,eAAenE,EAAOoE,SAC1CpE,EAAO1mD,QAAQ2a,EAAOowC,sBAGxB/1D,EAAIq9B,QAAU19B,KAAK09B,OAAQ,CAC7B,IAAIA,EAASr9B,EAAIq9B,OACjB19B,KAAKq2D,WAEL,IAAK,IAAIC,EAAM,EAAGA,EAAM54B,EAAOj8B,OAAQ60D,IAChC54B,EAAO44B,GAAK3yC,MAAO3jB,KAAKurD,OAAO7tB,EAAO44B,GAAK3yC,MAAM3jB,KAAKu2D,QAAQ74B,EAAO44B,IAAM,GAIhFj2D,EAAIorB,QAAQzrB,KAAKksB,SAAS7rB,EAAIorB,OAAOxZ,EAAG5R,EAAIorB,OAAOhS,MAevD+8C,GAAW,CAEbC,cAAe,SAAUp2D,EAAK4E,EAAQ6C,GAC/B7C,GAAQyxC,GAAYE,QAAQv2C,EAAI6iC,YAAa7iC,GAAK,GAClDyH,GAAQ4uC,GAAYsB,QAAQ33C,EAAI6iC,YAAa7iC,GAClDL,KAAK6M,YAAY,aAAa,SAAU5D,EAAG4E,GACzC7N,KAAK02D,UAAUztD,EAAG4E,MAEpB7N,KAAK6M,YAAY,sBAAsB,WACrC,IAAI6f,EAAUgqB,GAAYjL,aAC1B,SAAUiL,GAAYQ,UAAWxqB,GAAYA,EAAQ0gC,KAAOptD,OAAQA,KAAK22D,wBAG7EC,YAAa,SAAUp1D,GAWrB,OAVIA,IACF7B,EAAQ8J,OAAOzJ,KAAMsqB,IAAY,GACpB,SAAT9oB,GAA6B,QAATA,GAAiB7B,EAAQ8J,OAAOzJ,KAAM6F,EAAI,cAAc,GACnE,SAATrE,GAA6B,SAATA,IAAkBxB,KAAK62D,kBAAmB,GAElE72D,KAAKy2D,cAAcz2D,KAAe,UAATwB,EAA4B,UAATA,UAErCxB,KAAK42D,aAGPp1D,GAUTg4C,QAAS,SAAU91B,EAAGnW,EAAGxI,GACvB,IAAI+xD,EAAK92D,KAAK0Y,OAAO3T,IAAM,KACvB2nB,EAAUgqB,GAAYmB,cAE1B,IAAK73C,KAAK62D,kBAAoBnqC,EAAQrqB,KAAKw0D,mBAAqBnqC,EAAQrqB,OAASrC,KAAM,OAAO,EAC9F,IAAIotD,EAAK1W,GAAY/hB,UAAUpnB,GAE3ByK,EAAOhY,KAAKglD,YAAY8R,EAAI/xD,IAAM/E,KAAKiqB,SAG3C,GAAIjS,GAAQ0+B,GAAY6C,SAAU,OAAOvhC,EACzC0U,EAAQ5kB,OAASgvD,EACjBpqC,EAAQ0gC,GAAKA,EACTptD,KAAKqrB,qBAAoBrrB,KAAKqrB,mBAAqB7oB,OAAOgyB,aAAax0B,KAAKqrB,qBAChF,IAAI0rC,EAAU/2D,KAAKg3D,gBAAkBh3D,KAAKoN,UAAU81C,UAOpD,OANkC,IAA9BljD,KAAKoN,UAAUsd,YAAyBqsC,IAAS/2D,KAAKqrB,mBAAqBniB,GAAM,SAAU+U,EAAQ/W,GACrGlH,KAAKi3D,YAAY/vD,GAEjBlH,KAAKuqB,aAAatM,EAAQ/W,KACzBlH,KAAM,CAACoa,GAAIrV,GAAI+xD,GAAK,MAElB92D,KAAKk3D,WAAWxqC,EAAS3nB,IAAO/E,KAAK8M,UAAU,iBAAkB,CAAC4f,EAAS3nB,KAOhF/E,KAAK02D,UAAUhqC,EAAS3nB,GACjBiT,IAPL0U,EAAQ0gC,GAAK1gC,EAAQ5kB,OAAS,KAC1B9H,KAAKqrB,qBAAoBrrB,KAAKqrB,mBAAqB7oB,OAAOgyB,aAAax0B,KAAKqrB,qBACzE,OAOX6rC,WAAY,WACV,OAAO,GAETD,YAAa,aAGbE,cAAe,SAAUrvD,GACvB,OAAOA,GAA8B,WAApB7H,EAAQ6H,GAAuBA,EAAO3F,WAAa2F,GAGtEmxC,SAAU,SAAUv1B,EAAGnW,EAAGkW,EAAG1e,GAC3B,IAAImC,GAAMlH,KAAKgwB,SAASgI,SAASvU,GAAKzjB,KAAK0Y,OAAO3T,GAAK,OAAS,KAC5D2nB,EAAUgqB,GAAYmB,cAE1B,OAAKnrB,EAAQ5kB,QAAU,IAAI3F,aAAe+E,GAAM,IAAI/E,aAChDnC,KAAKqrB,qBAAoBrrB,KAAKqrB,mBAAqB7oB,OAAOgyB,aAAax0B,KAAKqrB,qBAEhFqB,EAAQ5kB,OAAS4kB,EAAQ0gC,GAAK,KAC9BptD,KAAK8M,UAAU,YAAa,CAAC4f,EAAS3nB,KAJiC,MAQzEi0C,MAAO,SAAUt1B,EAAGnW,EAAGxI,GACrB,IAAI2nB,EAAUgqB,GAAYmB,cAE1BnrB,EAAQ0gC,GAAKptD,KAEbA,KAAKo3D,cAAc1zC,EAAGnW,EAAGmf,GAGzB1sB,KAAK02D,UAAU,GAAI3xD,GAEf2nB,EAAQrqB,MAAQqqB,EAAQrqB,MAAQqqB,EAAQ0gC,IAAM1gC,EAAQrqB,KAAKyK,YACxD4f,EAAQrqB,KAAKyK,UAAU,kBAAmB,CAAC4f,EAAS3nB,KAGtD/E,KAAK8M,UAAU,eAAgB,CAAC4f,EAAS3nB,MAE9C/E,KAAKq3D,iBAAiB3qC,EAAS3nB,GAE/B/E,KAAK8M,UAAU,cAAe,CAAC4f,EAAS3nB,MAE1CqyD,cAAe,SAAU1zC,EAAGnW,EAAGmf,GAC7B,IAAI5kB,EAAS9H,KAAKm3D,cAAczqC,EAAQ5kB,QAEpC9H,KAAKs3D,eACHxvD,GACF4kB,EAAQ/e,OAAS3N,KAAKu3D,YAAYzvD,GAClC4kB,EAAQrP,MAAQrd,KAAKs3D,eAAexvD,IAC/B4kB,EAAQrP,OAAQ,EAClBqP,EAAQrP,MAAQvV,EAAS9H,KAAKimD,aAAan+C,GAAU9H,KAAK2R,SAEnE0lD,iBAAkB,SAAU3qC,GAG1B,GAFA5mB,EAAO4mB,EAAQrqB,KAAM,iCAEjBqqB,EAAQrqB,MAAQqqB,EAAQrqB,KAAKwvC,KAAM,CAErC,IAAIxrC,EAAU,CACZsH,OAAQ+e,EAAQ/e,OAChBmE,KAAM4a,EAAQ5hB,KAEhB4hB,EAAQrqB,KAAKwvC,KAAKnlB,EAAQznB,OAAQynB,EAAQrP,MAAOqP,EAAQ0gC,GAAI/mD,KAGjEoxC,iBAAiB,EACjByC,gBAAiB,SAAUj8B,EAAQlZ,GACjC,GAAI/E,KAAKglD,YAAa,CACpB,IAAI99C,EAAKlH,KAAK0Y,OAAO3T,GAAG,GAGpBsF,EAAOnD,EAAKlH,KAAKglD,YAAY99C,GAAM,KACvC,OAAOmD,EAAOuO,GAAOvO,GAAQA,IAIjCwvC,MAAO,SAAUn2B,EAAG3e,GAClB,IAAImC,EAAKlH,KAAK0Y,OAAO3T,GAAG,GAExB,GAAImC,EAAI,CACN,IAAIsqD,EAAO,CAACtqD,GAEZ,GAAIlH,KAAKwjC,cAAe,CAGtB,IAAImd,EAAY3gD,KAAKwjC,eAAc,GAAM,GAEzC,GAAImd,GAAaA,EAAUl/C,OAAS,IAA8C,GAAzCoI,EAAaqB,KAAK9I,KAAKu+C,EAAWz5C,GAAW,CACpF,IAAIkX,EAAO,GACXozC,EAAO,GAEP,IAAK,IAAI9wD,EAAI,EAAGA,EAAIigD,EAAUl/C,OAAQf,IACpC0d,EAAKuiC,EAAUjgD,KAAM,EAGvB,IAAK,IAAIU,EAAK,EAAGA,EAAKpB,KAAKkF,KAAKwyB,MAAMj2B,OAAQL,IAAM,CAClD,IAAIo2D,EAAUx3D,KAAKkF,KAAKwyB,MAAMt2B,GAC1Bgd,EAAKo5C,IAAUhG,EAAKjwD,KAAKi2D,KAMnC,IAAI9qC,EAAUgqB,GAAYmB,cAAgB,CACxC5yC,OAAQusD,EACR90C,MAAOxV,GAIT,GAFAwlB,EAAQrqB,KAAOrC,KAEXA,KAAK8M,UAAU,eAAgB,CAAC4f,EAAS3nB,IAK3C,OAJIqsC,GAAMc,gBAAgBhpC,GAAM,WAC9BkoC,GAAMc,eAAiB,QAGlBxlB,EAAQ1U,MAAQhY,KAAKy3D,UAAUz3D,KAAK8jC,QAAQ58B,GAAKnC,EAAG2nB,GAI/D,OAAO,MAET+qC,UAAW,SAAUp3D,EAAK0E,EAAG2nB,GAC3B,IAAI1U,EAAOhY,KAAK2pB,QAAQtpB,GAGxB,OADIgI,EAAQqkB,EAAQznB,SAAWynB,EAAQznB,OAAOxD,OAAS,IAAGuW,EAAOhY,KAAK03D,gBAAgB1/C,EAAM0U,EAAQznB,OAAOxD,SACpGuW,GAET0/C,gBAAiB,SAAU1/C,EAAMjN,GAE/B,IAAI4sD,EAAW,0CAEf,OADI5sD,EAAM,IAAG4sD,EAAW,+CAAiDA,GAClEA,GAHP3/C,EAAO,gCAAkCA,EAAO,UAGvB,6BAA+BjN,EAAM,WAEhE2rD,UAAW,SAAUhqC,GACnB,IAAI5kB,EAAS,KASb,OARI4kB,EAAQ5kB,SAAQA,EAAS9H,KAAKm3D,cAAczqC,EAAQ5kB,SAEpD9H,KAAK43D,SAAW53D,KAAK43D,SAAW9vD,IAClC9H,KAAK63D,YAAY,CAAC73D,KAAK43D,SAAU,mBAAmB,GAEpD53D,KAAK43D,QAAU,OAGZ53D,KAAK43D,SAAW9vD,GACnB9H,KAAK43D,QAAU9vD,EAEf9H,KAAK83D,SAAS,CAAChwD,GAAS,mBAAmB,GAEpCA,KAGA4kB,EAAQ0gC,IAEnB0K,SAAU,SAAU7yD,EAAQqW,GAC1B,IAAK,IAAI5a,EAAI,EAAGA,EAAIuE,EAAOxD,OAAQf,IACjCV,KAAKkb,OAAOjW,EAAOvE,GAAI4a,IAG3Bu8C,YAAa,SAAU5yD,EAAQqW,GAC7B,IAAK,IAAI5a,EAAI,EAAGA,EAAIuE,EAAOxD,OAAQf,IACjCV,KAAKob,UAAUnW,EAAOvE,GAAI4a,IAI9By8C,UAAW,WACT,MAAO,IAETC,eAAgB,SAAUlwD,EAAQyF,GAChC,IAAIlD,EAAOrK,KAAKglD,YAAYl9C,GAExBuC,EACFA,EAAKgO,WAAWE,aAAam+B,GAAYuD,UAAU,GAAI5vC,GAClDkD,EAAEsoB,SAAS,GAAGne,YAAYg/B,GAAYuD,UAAU,MAIvDge,GAAY,CACdpe,MAAO,SAAUn2B,EAAG3e,GAClB,IAAIiT,EAAOw+C,GAAS3c,MAAMjxC,MAAM5I,KAAMsG,WACtC,IAAK0R,EAAM,OAAOA,EAClB,IAAI0U,EAAUgqB,GAAYmB,cAU1B,OATI73C,KAAKk4D,iBAAiBl4D,KAAKk4D,gBAAgBxrC,GAC3C1sB,KAAK62D,kBAAoB72D,KAAKs3D,iBAAgBt3D,KAAKm4D,wBAA0Bn4D,KAAKo4D,oBAAiE,IAA1Cp4D,KAAK8jC,QAAQpX,EAAQhQ,OAAO27C,OAAS,GAAU,EAAI,GAE5JhwD,EAAQqkB,EAAQznB,UAClByxC,GAAYkD,eAAe70C,GAE3B/E,KAAK83D,SAASprC,EAAQznB,OAAQ,oBAGzB+S,GAETwhC,QAAS,SAAU91B,EAAGnW,EAAGxI,GACvB,IAAIiT,EAAOw+C,GAAShd,QAAQ5wC,MAAM5I,KAAMsG,WACxC,IAAK0R,EAAM,OAAOA,EACb0+B,GAAYuD,YAAWvD,GAAYuD,UAAYj6C,KAAKs4D,mBACzD,IAAI5rC,EAAUgqB,GAAYmB,cACtB/vC,EAAS,cAGb,GAFI4kB,EAAQ5kB,SAAQA,EAAS9H,KAAKm3D,cAAczqC,EAAQ5kB,SAE1C,eAAVA,GAAqC,eAAVA,EAAyB,CACtD,IAAI26B,EAAW,CACbgE,UAAWzmC,KAAKoN,UAAUud,QAAU3qB,KAAKu4D,iBAAmB,IAC5DtmD,EAAG,QACHwH,EAAG,UAED++C,EAAM5/C,GAAOZ,GACbyuB,EAAYrsB,GAAIrV,GAAG09B,EAASgE,WAAa+xB,EAAI/1B,EAASgE,WAC1C,EAAZA,EAAgB+xB,EAAI/1B,EAASA,EAASgE,cAAa3+B,EAAS9H,KAAKyvD,UAAU3nD,IAAW,eAG5F,OAAIA,GAAU9H,KAAKy4D,iBAA6B,eAAV3wD,IACtC9H,KAAKy4D,gBAAkB3wD,EAEvB9H,KAAKg4D,eAAelwD,EAAQyF,IAH0CyK,GAOxE4/B,SAAU,SAAU35B,GAClB,IAAKje,KAAK62D,iBAAkB,CAC1B,IAAInqC,EAAUgqB,GAAYmB,cAG1B,OAFA55B,EAAOxE,GAAKiT,EAAQorB,cACpB75B,EAAOhM,GAAKya,EAAQqrB,UAItB,IAAIlgC,EAAMe,GAAO5Y,KAAK6qB,OAGtB,GAFqC,KAAzB7qB,KAAKoN,UAAUud,OAMzB,GAHA9S,EAAI5F,GAAK,GACTgM,EAAOxE,EAAI5B,EAAI4B,EAAI,EACnBwE,EAAOhM,EAAIgM,EAAOhM,EAAI,GAClBgM,EAAOhM,EAAI4F,EAAI5F,EAAGgM,EAAOhM,EAAI4F,EAAI5F,MAAO,CAC1C,IAAIyJ,EAAM7D,EAAI5F,EAAI4F,EAAI+B,MAClBqE,EAAOhM,EAAIyJ,IAAKuC,EAAOhM,EAAIyJ,QAMjC,GAHA7D,EAAI4B,IAAMzZ,KAAK04D,gBAAkB,GAAK,GACtCz6C,EAAOhM,EAAI4F,EAAI5F,EAAI,GAAKjS,KAAKm4D,yBAA2B,GACxDl6C,EAAOxE,EAAIwE,EAAOxE,EAAI,GAClBwE,EAAOxE,EAAI5B,EAAI4B,EAAGwE,EAAOxE,EAAI5B,EAAI4B,MAAO,CAC1C,IAAIk/C,EAAO9gD,EAAI4B,EAAI5B,EAAIiC,QAAU9Z,KAAK04D,gBAAkB,GAEpDz6C,EAAOxE,EAAIk/C,IAAM16C,EAAOxE,EAAIk/C,KAItC1f,SAAU,SAAUv1B,EAAGk1C,EAAIC,GAMzB,OALID,GAAMC,IACJ74D,KAAK84D,kBAAmB94D,KAAK84D,oBAAyB7tD,GAAOyrC,GAAYuD,WAC7Ej6C,KAAKy4D,gBAAkB/hB,GAAYuD,UAAY,MAG1Cuc,GAASvd,SAASrwC,MAAM5I,KAAMsG,YAEvC8wD,cAAe,SAAU1zC,EAAGnW,EAAGmf,GAC7B,IAAI5kB,EAAiC,eAAxB9H,KAAKy4D,gBAAmC,KAAOz4D,KAAKy4D,gBAE7Dz4D,KAAKs3D,eACHxvD,GACF4kB,EAAQ/e,OAAS3N,KAAKu3D,YAAYzvD,GAClC4kB,EAAQrP,MAAQrd,KAAKs3D,eAAexvD,GAChC4b,GAAKnW,GAAKvN,KAAKu3D,YAAY7qC,EAAQhQ,QAAUgQ,EAAQ/e,QAAU3N,KAAKs3D,eAAe5qC,EAAQhQ,OAASgQ,EAAQrP,QAAOqP,EAAQrP,OAAS,IACnIqP,EAAQrP,OAAQ,GAEvBqP,EAAQrP,MAAQvV,EAAS9H,KAAKimD,aAAan+C,GAAU9H,KAAK2R,QAC1D+a,EAAQrP,OAASqG,GAAKnW,GAAKvN,KAAKimD,aAAav5B,EAAQhQ,OAASgQ,EAAQrP,MAAQ,EAAI,IAGtF28B,aAAc,WACZ,IAAIttB,EAAUgqB,GAAYmB,cACtBxvC,EAAQqkB,EAAQznB,SAASjF,KAAK63D,YAAYnrC,EAAQznB,OAAQ,mBAC1DjF,KAAKoN,UAAU2rD,SAAS/4D,KAAK8pB,OAAO,KAAM,KAAM,YACpD7e,GAAOyrC,GAAYzT,QAErBq1B,gBAAiB,WACf,IAAIjuD,EAAOC,SAASkM,cAAc,OAMlC,OALAnM,EAAK8N,UAAY,kBACjB9N,EAAKmN,MAAMoC,MAAQ5Z,KAAKsE,KAAKsV,MAAQ,KACrCvP,EAAKmN,MAAMsC,OAAS9Z,KAAKsE,KAAKwV,OAAS,KACvCzP,EAAKoM,UAAYzW,KAAK+3D,YACtB1tD,EAAKoN,aAAazX,KAAKg5D,IAAK,eACrB,CAAC3uD,IAEVqsD,UAAW,WACT,OAAO,IAGX72D,EAAO,YAAao4D,IAEpB,IAAIgB,GAAO,CACTjvD,MAAO,WACLhK,KAAKk5D,aAAev5D,EAAQ8J,OAAO,GAAII,GAAc,GACrD7J,KAAKm5D,aAAc,GAErBC,YAAa,SAAU53D,GAOrB,OANIA,IACFxB,KAAKq5D,aAELr5D,KAAKq5D,WAAa,cAGb73D,GAET63D,WAAY,WACV,IAAIrkD,EAAOhV,KAEXA,KAAK6M,YAAY,gBAAgB,SAAU6f,GACzC,GAAIA,EAAQrqB,MAAQqqB,EAAQ0gC,GAAI,CAC9B,IAAInwC,EAAOjI,EAAKskD,aAAezxD,EAAK7H,KAAK8jC,QAAQpX,EAAQhQ,QAErD1c,KAAKkF,KAAKupD,OACZxxC,EAAKs8C,OAASv5D,KAAKs3D,eAAer6C,EAAK/V,IAClC+V,EAAKs8C,OAASv5D,KAAKimD,aAAahpC,EAAK/V,QAGhDlH,KAAKkF,KAAK2H,YAAY,cAAc,SAAU24C,GAC5C,GAAIxwC,EAAKskD,cAAgBtkD,EAAKskD,aAAapyD,IAAMs+C,EAAK,CACpD,IAAItgD,EAAO8P,EAAKskD,aAChBtkD,EAAKskD,aAAe,KAEpBtkD,EAAKwkD,cAAchU,EAAKtgD,EAAM,YAIlClF,KAAKkF,KAAK2H,YAAY,kBAAkB,SAAU3F,GAChD,GAAIlH,KAAK8jC,QAAQ58B,GAAK,CACpB,IAAI+V,EAAOjI,EAAKykD,aAAe5xD,EAAK7H,KAAK8jC,QAAQ58B,IAE7ClH,KAAKyuD,QACPxxC,EAAKs8C,OAASv5D,KAAKs3D,eAAepwD,GAC9BlH,KAAKyuD,OAAOvnD,KAAK+V,EAAKy8C,QAAU7xD,EAAK7H,KAAKsuD,UAAUpnD,MACnD+V,EAAKs8C,OAASv5D,KAAKimD,aAAa/+C,OAG3ClH,KAAKkF,KAAK2H,YAAY,gBAAgB,SAAU3F,EAAIhC,EAAM0wC,GACxD5gC,EAAKwkD,cAActyD,EAAK,GAAI0uC,EAAK,aAEnC51C,KAAKkF,KAAK2H,YAAY,kBAAkB,SAAU3F,EAAI+V,EAAMnL,GAC1D,IAAI5M,EAAO,KAEPgC,IACU,OAAR4K,EACF5M,EAAO2C,EAAKoV,GACK,UAARnL,IACT5M,EAAO8P,EAAKykD,cAGVv0D,GAAM8P,EAAKwkD,cAActyD,EAAIhC,EAAM4M,OAI3C9R,KAAKkF,KAAK2H,YAAY,cAAc,SAAU8sD,EAAO/T,GAC7B,UAAlB3lD,EAAQ05D,KAAoBA,EAAQA,EAAMh2C,KAE9C,IAAK,IAAIjjB,EAAI,EAAGA,EAAIsU,EAAKkkD,aAAaz3D,OAAQf,IACxCsU,EAAKkkD,aAAax4D,GAAGwG,IAAMyyD,IAC7B3kD,EAAKkkD,aAAax4D,GAAGwG,GAAK0+C,OAKlC4T,cAAe,SAAUtyD,EAAIhC,EAAM00D,IAC5B55D,KAAK65D,cAAgB75D,KAAKoN,UAAUs+C,OACvC1rD,KAAKk5D,aAAa33D,KAAK,CACrB2F,GAAIA,EACJ0yD,OAAQA,EACR10D,KAAMA,IAGwB,IAA5BlF,KAAKk5D,aAAaz3D,QAAczB,KAAKk5D,aAAaluD,OAAO,EAAG,GAC3DhL,KAAK85D,iBAAgB95D,KAAKm5D,YAAcn5D,KAAKk5D,aAAaz3D,OAAS,KAG5Es4D,WAAY,SAAUt5B,EAAMr1B,GAC1BpL,KAAK65D,cAAe,EACpBp5B,EAAKr+B,KAAKgJ,GAAUpL,MACpBA,KAAK65D,cAAe,GAEtBlO,WAAY,SAAUzkD,GACpB,IAAK,IAAIxG,EAAIV,KAAKk5D,aAAaz3D,OAAS,EAAGf,GAAK,EAAGA,IAC7CV,KAAKk5D,aAAax4D,GAAGwG,IAAMA,IACM,MAA/BlH,KAAKk5D,aAAax4D,GAAGk5D,SACvB1yD,EAAKlH,KAAKk5D,aAAax4D,GAAGwE,MAG5BlF,KAAKk5D,aAAaruD,SAASnK,IAI/BV,KAAKm5D,YAAcn5D,KAAKk5D,aAAaz3D,OAAS,GAEhDiqD,KAAM,SAAUxkD,GACd,GAAIA,EACFlH,KAAK+5D,YAAW,WACd,IAAI70D,EAAMxE,EAEV,IAAKA,EAAIV,KAAKk5D,aAAaz3D,OAAS,GAAIyD,GAAQxE,GAAK,EAAGA,IAClDV,KAAKk5D,aAAax4D,GAAGwG,IAAMA,IAAIhC,EAAOlF,KAAKk5D,aAAax4D,IAG1DwE,IAGFlF,KAAKg6D,YAAY90D,GAEjBlF,KAAKk5D,aAAaruD,SAASnK,EAAI,GAE/BV,KAAKm5D,YAAcn5D,KAAKk5D,aAAaz3D,OAAS,UAG7C,CACL,IAAIw4D,EAAOj6D,KAAKk5D,aAAal5D,KAAKm5D,aAE9Bc,IACFj6D,KAAK+5D,YAAW,WACd/5D,KAAKg6D,YAAYC,GAEjBj6D,KAAKk5D,aAAaruD,SAAS7K,KAAKm5D,gBAElCn5D,KAAKm5D,iBAMXa,YAAa,SAAU35D,GACrB,GAAkB,UAAdA,EAAIu5D,OAAoB,CAC1B,IAAInL,EAAS,KACTyL,EAAW75D,EAAI6E,KAAKykD,QAEpBtpD,EAAI6E,KAAKw0D,UACXjL,EAAS,CACP9gD,OAAQtN,EAAI6G,GACZhC,KAAM2C,EAAKxH,EAAI6E,KAAKw0D,iBAEfr5D,EAAI6E,KAAKw0D,QACZQ,IAAal6D,KAAKkF,KAAKklB,KAAK8vC,KAAWA,EAAW,IAGxDl6D,KAAKk9B,IAAI78B,EAAI6E,KAAM7E,EAAI6E,KAAKq0D,OAAQW,GAEhCzL,GACFzuD,KAAKoR,MAAMq9C,OAEU,OAAdpuD,EAAIu5D,OACb55D,KAAKiL,OAAO5K,EAAI6G,IACO,UAAd7G,EAAIu5D,OACb55D,KAAKklC,WAAW7kC,EAAI6G,GAAI7G,EAAI6E,MACL,QAAd7E,EAAIu5D,SACTv5D,EAAI6E,KAAKykD,QACP3pD,KAAK8jC,QAAQzjC,EAAI6E,KAAKykD,UAAU3pD,KAAK6xC,KAAKxxC,EAAI6G,GAAI7G,EAAI6E,KAAKq0D,OAAQ,KAAM,CAC3E5rD,OAAQtN,EAAI6E,KAAKykD,UAEd3pD,KAAK6xC,KAAKxxC,EAAI6G,GAAI7G,EAAI6E,KAAKq0D,oBAoB/BY,GAAeC,GAClBA,GAAWA,EAAQC,iBAAmBD,EAAQE,sBAChDF,EAAQE,qBAAsB,EAC9BF,EAAQvtD,YAAY,kBAAkB,WACpC3D,GAAM,WACJ4D,EAAU,YAAa,oBAMtBytD,GAAetzD,GACtB,MAAqB,iBAAVA,EAA2BA,EAClCA,EAAOuzD,UAAkBvzD,EAAOmG,UAAUlG,IAEvB,UAAnBjH,EAAQgH,IACNoB,EAAQpB,KAASA,EAAS,CAC5B/B,KAAM+B,IAERA,EAAO+N,KAAO/N,EAAO+N,MAAQ,YACT,IAAX/N,IAAiBA,EAAS,CACnC+N,KAAM,YAGEqZ,GAAGpnB,GACFA,OAAOC,aAGXuzD,GAASxzD,GAEhB,QADWA,EAAO+M,QAAU/M,EAAO+M,OAAO,GAAK/M,EAAO+M,OAAO,GAAG7N,KAAOc,EAAOyzD,WAAazzD,EAAO0zD,QAClF,IAAIx4D,WAAWuI,QAAO,WAAa,IAUrD,IAAIkwD,GAAU,CACZz0D,KAAQ,CACNyW,MAAO,WACL5c,KAAK0yB,aAAa1yB,KAAKqK,MAAMuS,QAC7B5c,KAAK0yB,aAAa1yB,KAAKqK,MAAMqzB,UAE/BtlB,SAAU,WACR,OAAOpY,KAAK0yB,aAAa1yB,KAAKqK,MAAM7I,OAEtCqgC,SAAU,SAAUrgC,GAClB,IAAI41B,EAAQp3B,KAAK0yB,aAAa1yB,KAAKqK,MACnC+sB,EAAM51B,MAAQA,EACd,IAAI44D,WA/DYS,EAAQzjC,GAC5B,IAAIgjC,EAAUS,EAAO5zD,OAAOmzD,QAE5B,GAAIA,EAAS,CACX,IACIU,EAASjsC,GADHgsC,EAAO5zD,OAAOmzD,QAAUG,GAAeH,IAGjD,OADIU,GAAU1jC,GAAO0jC,EAAON,UAAUpjC,GAC/B0jC,GAwDSC,CAAa/6D,KAAMo3B,GACjC+iC,GAAeC,IAEjB1nC,aAAc,WACZ,OAAO1yB,KAAKqK,KAAKqG,YAEnBoZ,OAAQ,WACN,OAAOhS,GAAO,MAAO,CACnB0D,MAAS,mBACR,kCAAoCi/C,GAASz6D,KAAKiH,QAAU,QAGnE,kBAAmB,CACjB6iB,OAAQ,WACN,MAAO,IAET1R,SAAU,WACR,OAAOpY,KAAKqK,KAAK2wD,SAEnBn5B,SAAU,aACVjlB,MAAO,WACL5c,KAAKqK,KAAKuS,SAEZ8V,aAAc,aACduoC,SAAS,GAEX,cAAe,CACbnxC,OAAQ,WACN,MAAO,IAET1R,SAAU,WACR,OAAOpY,KAAKqK,KAAK7I,OAEnBqgC,SAAU,aACVjlB,MAAO,WACL5c,KAAKqK,KAAKuS,QACV5c,KAAKqK,KAAKqzB,UAEZhL,aAAc,aACduoC,SAAS,GAEXC,SAAY,CACVt+C,MAAO,WACL5c,KAAK0yB,eAAe9V,SAEtBxE,SAAU,WACR,OAAOpY,KAAK0yB,eAAesoC,SAE7Bn5B,SAAU,SAAUrgC,GAClBxB,KAAK0yB,eAAesoC,UAAYx5D,GAElCkxB,aAAc,WACZ,OAAO1yB,KAAKqK,KAAKqG,WAAWA,YAE9BoZ,OAAQ,WACN,OAAOhS,GAAO,MAAO,CACnB0D,MAAS,mBACR,2CAA6Ci/C,GAASz6D,KAAKiH,QAAU,cAG5Ey2B,OAAU,CACR9gB,MAAO,WACL5c,KAAK0yB,eAAe9V,SAEtBxE,SAAU,WACR,OAAOpY,KAAK0yB,eAAelxB,OAE7BqgC,SAAU,SAAUrgC,GAClBxB,KAAK0yB,eAAelxB,MAAQA,GAE9BkxB,aAAc,WACZ,OAAO1yB,KAAKqK,KAAKqG,YAEnBoZ,OAAQ,WACN,IAAI9R,EAAO,GACPzD,EAAUvU,KAAKiH,OAAOsN,SAAWvU,KAAKiH,OAAOk0D,WAEjD,GADAr1D,EAAOyO,EAAS,yCACZA,EAAQrP,MAAQqP,EAAQrP,KAAKiG,KAAMoJ,EAAQrP,KAAKiG,MAAK,SAAU9K,GACjE2X,GAAQ,kBAAoB3X,EAAI6G,GAAK,KAAO7G,EAAImB,MAAQ,oBAExD,GAAI6G,EAAQkM,GACV,IAAK,IAAI7T,EAAI,EAAGA,EAAI6T,EAAQ9S,OAAQf,IAAK,CACvC,IAAI06D,EAAM7mD,EAAQ7T,GACd26D,EAAUryD,EAAYoyD,EAAIl0D,IAC1BA,EAAKm0D,EAAUD,EAAMA,EAAIl0D,GACzByzD,EAAQU,EAAUD,EAAMA,EAAI55D,MAChCwW,GAAQ,kBAAoB9Q,EAAK,KAAOyzD,EAAQ,iBAE7C,IAAK,IAAItpD,KAAOkD,EACrByD,GAAQ,kBAAoB3G,EAAM,KAAOkD,EAAQlD,GAAO,YAG5D,OAAOyG,GAAO,MAAO,CACnB0D,MAAS,mBACR,uBAAyBi/C,GAASz6D,KAAKiH,QAAU,KAAO+Q,EAAO,eAGtEsa,MAAO,CACL1V,MAAO,WACL5c,KAAK0yB,eAAe9V,SAEtB0+C,QAAS,WACPt7D,KAAKu7D,WAAW7mC,QAElBtc,SAAU,WACR,OAAOpY,KAAK0yB,eAAeta,YAAc,IAE3CypB,SAAU,SAAUrgC,GAClBxB,KAAKu7D,WAAW9oC,KAAKzyB,KAAKqK,MAC1BrK,KAAK0yB,eAAemP,SAASrgC,IAE/BkxB,aAAc,WACZ,OAAO1yB,KAAKu7D,WAAW7sC,gBAAgB,IAEzC6sC,SAAU,WAER,OADKv7D,KAAKiH,OAAOu0D,SAAQx7D,KAAKiH,OAAOu0D,OAASx7D,KAAKy7D,eAC5C5sC,GAAG7uB,KAAKiH,OAAOu0D,SAExBC,YAAa,WACX,IAGMC,EAHFppC,EAAQtyB,KAAKiH,OAAOqrB,OAAStyB,KAAKiH,OAAOmzD,QAE7C,GAAI9nC,EAeF,MAZsB,UAAlBryB,EAAQqyB,IAAuBA,EAAM1sB,KAGlC81D,EAAO7sC,GAAGyD,IAFfA,EAAMtd,KAAOsd,EAAMtd,MAAQ,UAC3B0mD,EAAOrtC,GAAGxmB,EAAKyqB,KAIZopC,EAAKC,UACJD,EAAKlB,UAAWkB,EAAKlB,UAAUlwD,SAASyO,MAAe/Y,KAAKw6D,WAAWx6D,KAAKw6D,UAAUlwD,SAASyO,MACnG2iD,EAAKC,SAAU,GAGjBxB,GAAeuB,GACRA,EAGT,IAAIp3D,EAAOs2D,GAAQY,OAAOx7D,KAAK47D,WAQ/B,MANmB,iBAARt3D,GAAqBA,EAAKsB,OACnCtB,EAAOs2D,GAAQY,OAAOx7D,KAAK47D,WAAavtC,GAAG/pB,GAC3CtE,KAAK67D,UAAUv3D,GACVA,EAAKk2D,WAAWx6D,KAAKw6D,UAAUlwD,SAASyO,OAGxCzU,EAAK8I,UAAUlG,IAExBszD,UAAW,SAAUnwD,GACnBkiB,GAAOniB,EAAOC,GAAO,UAAW5B,GAAK,SAAU1D,GAE7C,GAAK/E,KAAKiH,OAAOu0D,OAAjB,CACA,IAKMl8B,EALFx2B,EAAO/D,EAAE+yB,OAAS/yB,EAAEgzB,QACpBy5B,EAAOxxD,KAAK0yB,eAChB,GAAK8+B,EAAKxnC,YAEV,GAAIwnC,EAAKsK,eAAiBhzD,EAAO,IAAMA,EAAO,GAEhC,IAARA,IAAYw2B,EAAM,QACV,IAARx2B,IAAYw2B,EAAM,UACV,IAARx2B,IAAYw2B,EAAM,UACV,IAARx2B,IAAYw2B,EAAM,OACV,IAARx2B,IAAYw2B,EAAM,QACV,IAARx2B,IAAYw2B,EAAM,MACV,IAARx2B,IAAYw2B,EAAM,SACV,IAARx2B,IAAYw2B,EAAM,QACtBkyB,EAAKsK,cAAcx8B,QAEH,KAATx2B,GAAsC,aAAtB/D,EAAE+C,OAAOsH,UAA4BrK,EAAE46B,UAAW7yB,EAAU,YAAa,OACjG9M,QAEL67D,UAAW,aACXD,UAAW,OACX9xC,OAAQ,WACN,MAAO,IAETmxC,SAAS,IAGbL,GAAQmB,MAAQp8D,EAAQ8J,OAAO,CAC7BmT,MAAO,aACPg/C,UAAW,QACXC,UAAW,SAAUvpC,GACnBA,EAAM5D,gBAAgB,GAAG7hB,YAAY,eAAe,SAAUrL,GAC5DsL,EAAU,YAAa,CAACtL,SAG3Bo5D,GAAQtoC,OACXsoC,GAAQ5I,KAAOryD,EAAQ8J,OAAO,CAC5BmT,MAAO,aACPg/C,UAAW,OACX/5B,SAAU,SAAUrgC,GAClBxB,KAAKg8D,WAAah8D,KAAKiH,OAAOg1D,cAAgBz6D,GAAyB,iBAATA,EAC9Do5D,GAAQtoC,MAAMuP,SAASz/B,KAAKpC,KAAMwB,IAEpC4W,SAAU,WACR,OAAOpY,KAAK0yB,eAAeta,SAASpY,KAAKg8D,WAAazwD,EAAKO,eAAiB,KAAO,IAErF+vD,UAAW,SAAUvpC,GACnBA,EAAM5D,gBAAgB,GAAG7hB,YAAY,qBAAqB,SAAUrL,GAClEsL,EAAU,YAAa,CAACtL,SAG3Bo5D,GAAQtoC,OACXsoC,GAAQsB,MAAQv8D,EAAQ8J,OAAO,CAC7B0yD,gBAAiB,SAAUl1D,GACzB,IAAImzD,EAASlzD,EAWb,OATIlH,KAAKiH,OAAOqrB,MAEdprB,GADAkzD,EAAUp6D,KAAKiH,OAAOqrB,OACTrrB,OAAOC,GACXD,EAETmzD,EAAUvrC,GADV3nB,EAAKqzD,GAAetzD,IAEfC,EAAKlH,KAAKo8D,gBAAgBn1D,GAEjCkzD,GAAeC,GACRlzD,GAETk1D,gBAAiB,WACf,IAAIr3D,EAAI61D,GAAQsB,MAChB,OAAOn3D,EAAEs3D,SAAWt3D,EAAEs3D,UAAYr8D,KAAKm8D,iBAAgB,IAEzDryC,OAAQ,WACN,IAAIzf,EAAOyN,GAAO,MAAO,CACvB0D,MAAS,mBACR,kDAAoDi/C,GAASz6D,KAAKiH,QAAU,MAE3EmzD,EAAUp6D,KAAKiH,OAAOmzD,QAAUp6D,KAAKm8D,gBAAgBn8D,KAAKiH,OAAOmzD,SAQrE,OANIA,IACFvrC,GAAGurC,GAASI,UAAUnwD,EAAKqG,YAAY,GAEvC6b,GAAOliB,EAAKqG,WAAY,QAASjI,EAAKzI,KAAKs8D,UAAWt8D,QAGjDqK,GAETkxD,SAAU,WACR,OAAO1sC,GAAG7uB,KAAKiH,OAAOmzD,UAExBkC,UAAW,WACT,IAAIhqC,EAAQtyB,KAAKu7D,WACb/J,EAAOl/B,EAAMiqC,UACbnlC,EAAQp3B,KAAK0yB,eACblxB,EAAQxB,KAAKw8D,eACjBlqC,EAAMG,KAAK2E,GACXA,EAAM3f,aAAa,gBAAiB,QAEhCjW,GACFsE,EAAO0rD,EAAKjG,OAAO/pD,GAAQ,kBAAoBA,EAAQ,kBAEnDgwD,EAAKjG,OAAO/pD,KACdgwD,EAAK9zB,OAAOl8B,GACZgwD,EAAKiL,SAASj7D,MAGhBgwD,EAAK6E,WACL7E,EAAKiL,SAASjL,EAAK9B,eAGrBp9B,EAAMoqC,mBAAqBtlC,GAE7BulC,YAAa,WACX38D,KAAKs8D,aAEPz6B,SAAU,SAAUrgC,GAGlB,GAFAxB,KAAKw8D,eAAiBh7D,EAElBxB,KAAKiH,OAAOmzD,QAAS,CACvB,IAAIwC,EAAO/tC,GAAG7uB,KAAKiH,OAAOmzD,SACtBl1D,EAAOlF,KAAKiH,OAAOk0D,YAAcn7D,KAAKiH,OAAOsN,QAC7CrP,GAAM03D,EAAKL,UAAUr3D,KAAKg/B,WAAWh/B,GACzClF,KAAK0yB,aAAa1yB,KAAKqK,MAAM7I,MAAQo7D,EAAKC,YAAYr7D,KAG1D4W,SAAU,WACR,IAAI5W,EAAQxB,KAAK0yB,eAAelxB,MAEhC,GAAIxB,KAAKiH,OAAOmzD,QAAS,CACvB,IAAIA,EAAUvrC,GAAG7uB,KAAKiH,OAAOmzD,SACzB5I,EAAO4I,EAAQmC,WACf/6D,GAASgwD,EAAKhuB,eAAiBguB,EAAKhuB,mBAAiBhiC,EAAQ44D,EAAQ0C,cAAct7D,IAGzF,OAAOA,IAERo5D,GAAQz0D,MACXy0D,GAAQmC,WAAap9D,EAAQ8J,OAAO,CAClCmT,MAAO,aACPxE,SAAU,WACR,OAAOpY,KAAKu7D,WAAWnjD,YAEzBypB,SAAU,SAAUrgC,GAClB,IAAI44D,EAAUp6D,KAAKiH,OAAOk0D,YAAcn7D,KAAKiH,OAAOsN,QACpDvU,KAAK0yB,eACD0nC,GAASp6D,KAAKu7D,WAAWgB,UAAUr3D,KAAKg/B,WAAWk2B,GACvDp6D,KAAKu7D,WAAW9oC,KAAKzyB,KAAKqK,MAC1BrK,KAAKu7D,WAAW15B,SAASrgC,IAE3BkxB,aAAc,WACZ,OAAO1yB,KAAKu7D,WAAWgB,WAEzBV,UAAW,SAAUvpC,GACnBA,EAAMkoC,UAAUlwD,SAASyO,MACzBohD,GAAe7nC,IAEjBspC,UAAW,cACVhB,GAAQtoC,OACXsoC,GAAQoC,SAAWr9D,EAAQ8J,OAAO,CAChCqgB,OAAQ,WACN,IAAIlE,EAAQ5lB,KAERqK,EAAOyN,GAAO,MAAO,CACvB0D,MAAS,yCACR,sCAAwCi/C,GAASz6D,KAAKiH,QAAU,8CASnE,OANAslB,GAFWliB,EAAK6sB,cAAc,eAEjB,SAAS,WACpBtR,EAAMq3C,cAENr3C,EAAM8M,aAAa9M,EAAMvb,MAAMuS,WAG1BvS,GAET4yD,YAAa,WACX,IAAI7lC,EAAQp3B,KAAK0yB,aAAa1yB,KAAKqK,MAC/B6yD,EAA4C,aAA/B9lC,EAAMpoB,aAAa,QACpCooB,EAAM3f,aAAa,OAAQylD,EAAa,OAAS,YACtC9lC,EAAM4V,YACZ70B,UAAY,qBAAqBqe,OAAO0mC,EAAa,SAAW,MAEtEtC,GAAQz0D,MACXy0D,GAAQY,OAAS,CACfr1D,KAAM,CACJ6O,KAAM,QACN4E,MAAO,IACPE,OAAQ,IACRf,KAAM,CACJ/D,KAAM,aAGV+mD,MAAO,CACL/mD,KAAM,QACN+D,KAAM,CACJ/D,KAAM,eAGVg9C,KAAM,CACJh9C,KAAM,QACN4E,MAAO,IACPE,OAAQ,IACR22B,QAAS,EACT13B,KAAM,CACJ/D,KAAM,WACNmoD,OAAO,EACP/hC,YAAY,IAGhB2hC,WAAY,CACV/nD,KAAM,UACN+D,KAAM,CACJ/D,KAAM,OACN0oB,QAAQ,IAGZ0/B,YAAa,CACXpoD,KAAM,eACNolD,QAAS,CACP58B,QAAQ,KAad,IAAI6/B,GAAc,CAChBtzD,SAAU,CACRuzD,WAAY,SAEdtzD,MAAO,SAAU/C,GACfjH,KAAKu9D,SAAW,GAChBv9D,KAAK6/B,cAAgB,EACrB7/B,KAAK6tB,gBAAkB,EACvB7tB,KAAKkjC,YAAY1rB,MAAM0Y,SAAW,WAC9BjpB,IAAQA,EAAOu2D,WAAav2D,EAAOu2D,YAAc,IACrDx9D,KAAK6M,YAAY,gBAAiB7M,KAAKy9D,wBAEnCz9D,KAAKoN,UAAUswD,UAAU19D,KAAK29D,yBAClCh+D,EAAQ8J,OAAOzJ,KAAMi5D,KAEvB2E,aAAc,SAAUC,GACtB,IAEE,GAAqC,iBAA1BA,EAAQ/gD,eACjB+gD,EAAQ/gD,eAAiB+gD,EAAQ9gD,aAAe8gD,EAAQr8D,MAAMC,YACzD,QAAsC,IAA3Bo8D,EAAQC,gBAAgC,CACxD,IAAIj6C,EAAQg6C,EAAQC,kBACpBj6C,EAAMk6C,UAAS,GACfl6C,EAAM6Z,UAER,MAAO34B,MAGX04D,uBAAwB,WACtB,IAAI5C,EAAS76D,KAAK8gD,YAElB,GAAI+Z,GAAUA,EAAOI,UAAYJ,EAAOU,SAAU,CAChD,IAAIsC,EAAU79D,KAAKg+D,aAAanD,GAEhC,GAAIgD,GAAWA,GAAWhD,EAAOxwD,KAAM,CACrC,IAAIlE,EAAO00D,EAAOxwD,KAAK7I,MACvBq5D,EAAOxwD,KAAOwzD,EACdA,EAAQr8D,MAAQ2E,EAChB03D,EAAQjhD,QAER5c,KAAK49D,aAAaC,QACb79D,KAAK+/B,aAGhBk+B,gBAAiB,SAAUz8D,GAEzB,OADIA,GAAOxB,KAAK29D,yBACTn8D,GAETm8D,uBAAwB,WAEtB,IAAIn5D,EAAKqI,EAAY,YAAapE,GAAK,WACjCzI,KAAK6/B,eAAe7/B,KAAK+/B,aAC5B//B,OACCgF,EAAK6H,EAAY,UAAWpE,GAAK,SAAU1D,GAEzC/E,KAAK6/B,eAAiB,IAAIr3B,KAASxI,KAAK6tB,gBAAkB,MACvD7tB,KAAK4iC,eAAgB5iC,KAAK4iC,aAAag5B,WAAc72D,GAAM/E,KAAK4iC,aAAav4B,MAASrK,KAAK4iC,aAAav4B,KAAK2tB,SAASjzB,EAAE+C,SAAS9H,KAAK+/B,cAE5I//B,OACHA,KAAK6M,YAAY,cAAc,WAC7BW,EAAYhJ,GACZgJ,EAAYxI,MAGVhF,KAAKkF,KAAK2H,aAAa7M,KAAKkF,KAAK2H,YAAY,aAAcpE,GAAK,SAAUm7B,EAAO/uB,GACnF7U,KAAKk+D,gBAAgBt6B,EAAO/uB,KAC3B7U,OAEHA,KAAK6M,YAAY,eAAe,SAAU3F,GACpClH,KAAKoN,UAAUswD,UAAyC,SAA7B19D,KAAKoN,UAAUkwD,YAAuBt9D,KAAKm+D,KAAKj3D,MAEjFlH,KAAK6M,YAAY,kBAAkB,SAAU3F,GACvClH,KAAKoN,UAAUswD,UAAyC,YAA7B19D,KAAKoN,UAAUkwD,YAA0Bt9D,KAAKm+D,KAAKj3D,MAGpFlH,KAAKo+D,qBAAuB31D,GAAK,WAC/BzI,KAAK6tB,gBAAkB,IAAIrlB,OAC1BxI,MAEHA,KAAK29D,uBAAyB,aAE1B39D,KAAKq+D,+BAA+Br+D,KAAKq+D,iCAE/CC,mBAAoB,WAClBp1D,GAAM,WACJ,IAAI2xD,EAAS76D,KAAK8gD,YAElB,GAAI+Z,GAAUA,EAAO5zD,OAAOs3D,SAAU,CACpC,IAAIh9B,EAAW,CACb//B,MAAOq5D,EAAOziD,WACdw9B,IAAKilB,EAAOr5D,OAEd,GAAI+/B,EAAS//B,OAAS+/B,EAASqU,IAAK,OACpCilB,EAAOr5D,MAAQ+/B,EAAS//B,MAExBxB,KAAKw+D,eAAe3D,EAAQt5B,EAAS//B,OAAO,GAE5CxB,KAAK8M,UAAU,aAAc,CAACy0B,EAAUs5B,OAEzC76D,OAELy+D,kBAAmB,SAAUv3D,GAC3B,IAAI46B,EAAO9hC,KAAKoN,UAAU00B,KACP,iBAARA,IAAkB9hC,KAAKoN,UAAU00B,KAAOA,EAAOzT,GAAGyT,GAAM76B,OAAOC,IAE1E,IAAIw3D,GADJ58B,EAAOjT,GAAGiT,IACUpb,UAAYob,EAAOA,EAAKpT,gBAAgB,GAC5DgwC,EAASh4C,UAAU1mB,KAAK8jC,QAAQ58B,EAAGyc,KAAOzc,IAAK,EAAO,QACtD46B,EAAK76B,OAAOmE,OAASpL,KAAKiH,OAAOC,GACjC46B,EAAKrP,KAAKzyB,KAAKglD,YAAY99C,IAC3B,IAAI8sB,EAAQ0qC,EAAShwC,gBAAgB,GACjCsF,EAAMpX,OAAOoX,EAAMpX,SAEzBuhD,KAAM,SAAUj3D,EAAIspD,EAAU/9B,GAC5B,GAAKzyB,KAAKoN,UAAUswD,UAAa19D,KAAK8M,UAAU,oBAAqB,CAAC5F,IAAtE,CACA,GAAIlH,KAAKoN,UAAU00B,KAAM,OAAO9hC,KAAKy+D,kBAAkBv3D,GAEvD,IAAI2zD,EAAS76D,KAAK2+D,iBAAiBz3D,GAEnC,GAAI2zD,EAAQ,CACV,GAAI76D,KAAK8gD,UAAU55C,GAAK,OACnBspD,GAAUxwD,KAAK+/B,WAEpBj6B,EAAO80D,GAAQC,GAAS,wBAA0BA,GAClD,IAAIv2D,EAAO3E,EAAQ8J,OAAO,GAAImxD,GAAQC,IAElCxwD,EAAOrK,KAAK4+D,aAAa13D,EAAI5C,EAAMmuB,GAEnCnuB,EAAK2C,OAAOs3D,WAAUv+D,KAAK6+D,oBAAsB7+D,KAAK6M,YAAY,aAAc7M,KAAKs+D,qBACzF,IAAI1lC,EAAOt0B,EAAKi3D,SAAWj3D,EAAKi3D,SAASlxD,GAAM2lB,SAAW3lB,EAc1D,OAbIuuB,GAAMrM,GAAOqM,EAAM,QAAS54B,KAAKo+D,sBACjC/zD,GAAMkiB,GAAOliB,EAAM,QAASrK,KAAK8+D,kBAAmB,CACtDr2D,KAAM,CACJuM,KAAMhV,KACNkH,GAAIA,MAGK,IAATurB,GAAgBnuB,EAAKsY,QACrB5c,KAAK++D,YAAY/+D,KAAK++D,WAAWz6D,GAErCtE,KAAK6tB,gBAAkBX,GAAM8xC,eAAiB,IAAIx2D,KAClDg0B,GAAUyB,SAASj+B,MAAM,GACzBA,KAAK8M,UAAU,mBAAoB,CAAC5F,IAC7B5C,EAGT,OAAO,OAETw8C,UAAW,SAAU55C,GACnB,OAAKA,EACElH,KAAKu9D,SAASr2D,GADLlH,KAAK4iC,cAGvBs7B,gBAAiB,SAAUt6B,EAAO/uB,GAChC,IAAIgmD,EAAS76D,KAAKu9D,SAAS35B,GAEvBi3B,IACF76D,KAAKu9D,SAAS1oD,GAASgmD,EACvBA,EAAO3zD,GAAK2N,SACL7U,KAAKu9D,SAAS35B,KAGzBk7B,kBAAmB,WACb9+D,KAAKgV,KAAKvH,SAAS,mBAAmBzN,KAAKgV,KAAKlI,UAAU,iBAAkB,CAAC9M,KAAKkH,GAAIlH,KAAKgV,KAAKiqD,eAAej/D,KAAKkH,OAE1Hg4D,iBAAkB,WAChB,OAAOl/D,KAAKoN,WAEdwxD,aAAc,SAAU13D,EAAI5C,EAAMmuB,GAChCnuB,EAAK2C,OAASjH,KAAKk/D,iBAAiBh4D,GACpC,IAAImD,EAAO/F,EAAKwlB,SACZxlB,EAAK22D,UAAS5wD,EAAOrK,KAAKg+D,aAAa92D,IAC3C5C,EAAK+F,KAAOA,EACZ,IAAI4S,EAAOjd,KAAK8jC,QAAQ58B,GAEpB1F,EAAQyb,EAAKjd,KAAKoN,UAAUstD,WAAa,SAY7C,OAVI1xD,EAAYxH,KAAQA,EAAQ,IAChC8C,EAAKu9B,SAASrgC,EAAOyb,GACrB3Y,EAAK9C,MAAQA,EAEbxB,KAAKm/D,WAAWj4D,EAAI5C,IAGP,IAATmuB,GAAgBzyB,KAAKy8D,SAASv1D,GAC7B5C,EAAK22D,SAASj7D,KAAKo/D,YAAYl4D,EAAImD,GAAM,GAC1C/F,EAAKq4D,aAAar4D,EAAKq4D,cACpBtyD,GAETg1D,aAAc,SAAUn4D,GACtB,OAAOlH,KAAKglD,YAAY99C,IAE1B82D,aAAc,SAAU92D,GACtB,IAAI0c,EAAO5jB,KAAKq/D,aAAan4D,GAG7B,OADI0c,IAAMA,EAAOA,EAAK1V,qBAAqB,SAAS,IAAM0V,GACnDA,GAET+6C,iBAAkB,WAChB,OAAO3+D,KAAKoN,UAAUytD,QAExBsE,WAAY,SAAUj4D,EAAI5C,GACxBA,EAAK4C,GAAKA,EACVlH,KAAKu9D,SAASr2D,GAAMlH,KAAK4iC,aAAet+B,EACxCtE,KAAK6/B,iBAEPy/B,cAAe,SAAUzE,GACnB76D,KAAK4iC,cAAgBi4B,IAAQ76D,KAAK4iC,aAAe,GACjDi4B,EAAOS,SAAST,EAAOS,iBACpBT,EAAOvoC,aACPuoC,EAAOxwD,YACPrK,KAAKu9D,SAAS1C,EAAO3zD,IAC5BlH,KAAK6/B,iBAEP0/B,YAAa,WACX,IAAI1E,EAAS76D,KAAK8gD,UAAUl4C,MAAM5I,KAAMsG,WACpCu0D,GAAUA,EAAOj+C,OAAOi+C,EAAOj+C,SAErColB,WAAY,WACVhiC,KAAK+/B,SAAS,KAAM,MAAM,IAE5B1B,cAAe,SAAUngB,GACvB,GAAIA,EAAI,CACN,IAAI6jC,EAAK/hD,KAAK8gD,YACd,GAAIiB,GAAMA,EAAGwZ,UAAYxZ,EAAGwZ,YAAcr9C,EAAG+jB,mBAAoB,OAGnEjiC,KAAK+/B,YAEPA,SAAU,SAAU74B,GAClB,IAAIlH,KAAKw/D,WAAT,CACAx/D,KAAKw/D,WAAa,EAClB,IAAIvmC,EAAS3yB,UAAU,GACnBqF,EAAS,EASb,OAPKzE,EAIEyE,EAAS3L,KAAKy/D,UAAUz/D,KAAKu9D,SAASr2D,GAAK+xB,GAHhDj5B,KAAK0/D,kBAAiB,SAAU7E,GAC9BlvD,GAAkB3L,KAAKy/D,UAAU5E,EAAQ5hC,MAI7Cj5B,KAAKw/D,WAAa,EACX7zD,IAETkgB,cAAe,SAAU3kB,GACvB,IAAI8Q,EAAOhY,KAAKglD,YAAY99C,GAC5B,MAAO,CACLsS,KAAMxB,EAAK2nD,WACXpmD,IAAKvB,EAAK4nD,UACV9lD,OAAQ9B,EAAK+B,aACbH,MAAO5B,EAAK6B,YACZlM,OAAQ3N,KAAKkjC,cAGjBk8B,YAAa,SAAUl4D,EAAImD,EAAMw1D,GAE/B,GAAKx1D,EAAKmN,MAAV,CAEA,IAAIyG,EAASje,KAAK6rB,cAAc3kB,EAAI,MAAM,GAS1C,OAPAmD,EAAKmN,MAAM+B,IAAM0E,EAAO1E,IAAM,KAC9BlP,EAAKmN,MAAMgC,KAAOyE,EAAOzE,KAAO,KAChCnP,EAAKmN,MAAMoC,MAAQqE,EAAOrE,MAAQ,EAAI,KACtCvP,EAAKmN,MAAMsC,OAASmE,EAAOnE,OAAS,EAAI,KACxCzP,EAAKkP,IAAM0E,EAAO1E,IAEdsmD,GAAQ5hD,EAAOtQ,OAAO+J,YAAYrN,GAC/B4T,IAETyhD,iBAAkB,SAAUv7D,GAC1B,IAAK,IAAI02D,KAAU76D,KAAKu9D,SACtBp5D,EAAQ/B,KAAKpC,KAAMA,KAAKu9D,SAAS1C,KAGrC4E,UAAW,SAAU5E,EAAQzR,GAC3B,GAAKyR,IAAU3tC,GAAMY,mBAArB,CACA,IAAIyT,EAAW,CACb//B,MAAOxB,KAAK8/D,eAAejF,GAC3BjlB,IAAKilB,EAAOr5D,OAGd,GAAIxB,KAAK8M,UAAU,mBAAoB,CAACy0B,EAAUs5B,EAAQzR,IAAU,CAClE,IAAKA,EAAQ,CAGX,IAAIxT,EAAMrU,EAASqU,IAGnB,GAF6B,iBAAlBrU,EAAS//B,QAAmBo0C,GAAO,IAE1CA,GAAOrU,EAAS//B,OAASq5D,EAAO5zD,OAAOs3D,SAAU,CACnD,IAAIthD,EAAOjd,KAAKw+D,eAAe3D,EAAQt5B,EAAS//B,OAAO,GAEvDxB,KAAKklC,WAAW21B,EAAOl3C,KAAOk3C,EAAO3zD,GAAI+V,IAIzC49C,EAAOI,QAASJ,EAAOxwD,KAAO,KAAUY,GAAO4vD,EAAOxwD,MAC1D,IAAIioB,EAAQuoC,EAAO5zD,OAAOmzD,QAO1B,OANI9nC,GAAyB,iBAATA,GAAmBzD,GAAGyD,GAAOoC,OAEjD10B,KAAKs/D,cAAczE,GAEf76D,KAAK6+D,qBAAqB7+D,KAAKwN,YAAYxN,KAAK6+D,qBACpD7+D,KAAK8M,UAAU,kBAAmB,CAACy0B,EAAUs5B,EAAQzR,IAC9C,EAGT,OAAO,IAET2W,eAAgB,SAAU74D,GACxB,IAAIyE,GAAS,EAEb,GAAI3L,KAAKoN,UAAU85C,MAAO,CACxB,IAAI2T,EAAS76D,KAAK8gD,UAAU55C,GACxBmK,EAAMwpD,EAAOxW,QAAUrkD,KAAKoN,UAAUstD,WAAa,QACnDtjD,EAAOpX,KAAKoN,UAAU85C,MAAM71C,GAC5BlM,EAAMnF,KAAKoN,UAAU85C,MAAMM,KAC3BpwB,EAAQyjC,EAAOnoC,eAEnB,IAAKtb,GAAQjS,KAASiyB,EAAMpH,SAAU,CAEpC,IAAI3vB,EAAML,KAAKkF,KAAK4+B,QAAQ+2B,EAAOl3C,KAAOk3C,EAAO3zD,IAC7C1F,EAAQq5D,EAAOziD,WACfhB,IAAMzL,EAASyL,EAAKhV,KAAKpC,KAAMwB,EAAOnB,EAAKgR,IAC3ClM,IAAKwG,EAASxG,EAAI/C,KAAKpC,KAAMwB,EAAOnB,EAAKgR,IAAQ1F,GACjDA,EAAQyP,GAAUgc,EAAO,iBAAsBlc,GAAOkc,EAAO,iBACjEtqB,EAAU,mBAAoB,CAAC+tD,EAAQlvD,EAAQtL,EAAKmB,KAIxD,OAAOmK,GAETszD,eAAgB,SAAU/3D,GACxB,IAAI2zD,EAEJ,GAD4BA,EAAH,IAArBv0D,UAAU7E,OAAuBzB,KAAK4iC,aAA2B5iC,KAAK8gD,UAAU55C,GACxE,OAAO2zD,EAAOziD,YAE5B4nD,aAAc,WACZ,OAAOhgE,KAAK4iC,eAAgB,GAE9B9C,SAAU,SAAUz+B,EAAMgB,GAGxB,GAFAhB,GAAgB,IAATA,EAEmB,GAAtBrB,KAAK6/B,eAAsBx9B,EAAM,CAEnC,IAAI49D,EAAcjgE,KAAKkgE,gBAAgBlgE,KAAK4iC,cAAgBvgC,GAAM,SAAU6E,GAC1E,QAAIlH,KAAK2+D,iBAAiBz3D,KAEzB7F,GAEH,GAAIrB,KAAK+/B,WASP,OAPIkgC,IAEFjgE,KAAKm+D,KAAK8B,GAEVjgE,KAAKmgE,iBAAiBF,KAGjB,IAKbE,iBAAkB,aAClBD,gBAAiB,SAAUxjD,EAAOvB,EAAOsrB,GACvC,IAAI9iB,EAAM3jB,KAAKimD,aAAavpC,EAAMxV,IAC9BwwB,EAAQ13B,KAAKkF,KAAKwyB,MAEtB,GAAI+O,GACF,IAAK,IAAI/lC,EAAIijB,EAAM,EAAGjjB,EAAIg3B,EAAMj2B,OAAQf,IACtC,GAAIya,EAAM/Y,KAAKpC,KAAM03B,EAAMh3B,IAAK,OAAOg3B,EAAMh3B,QAG/C,IAAK,IAAIU,EAAKuiB,EAAM,EAAGviB,GAAM,EAAGA,IAC9B,GAAI+Z,EAAM/Y,KAAKpC,KAAM03B,EAAMt2B,IAAM,OAAOs2B,EAAMt2B,GAIlD,OAAO,MAET0+D,eAAgB,SAAUjF,GACxB,OAAOA,EAAOziD,YAEhBomD,eAAgB,SAAU3D,EAAQuF,EAAWpqD,GAC3C,IAAIiH,EAAOjH,EAAU,GAAKhW,KAAK8jC,QAAQ+2B,EAAO3zD,IAE9C,OADA+V,EAAKjd,KAAKoN,UAAUstD,WAAa,SAAW0F,EACrCnjD,IAIPojD,GAAa,CACfr2D,MAAO,WACLhK,KAAK6qB,MAAM1S,WAAa,qBAE1BmoD,qBAAsB,aACtBC,oBAAqB,aACrBC,mBAAoB,aACpBh4B,SAAU,WACR3hC,EAAqB7G,MAAM,GAC3B,IAAIqqC,EAAI,EACJC,EAAI,EACJm2B,EAAIzgE,KAAKoN,UAAUo0B,QACvBxhC,KAAKq7B,OAAS,GAEd,IAAK,IAAI36B,EAAI,EAAGA,EAAIV,KAAKi8B,OAAOx6B,OAAQf,IAAK,CAC3C,IAAIsG,EAAOhH,KAAKi8B,OAAOv7B,GAAG8nC,SAAS,EAAG,GAEtCxoC,KAAKq7B,OAAO95B,KAAKyF,GAEjBqjC,EAAI3wB,KAAKgC,IAAI2uB,EAAGrjC,EAAK,IACrBsjC,EAAI5wB,KAAKgC,IAAI4uB,EAAGtjC,EAAK,IAGvBqjC,GAAKrqC,KAAK0gE,SAASlnD,KAAOxZ,KAAK0gE,SAASz0C,MACxCqe,GAAKtqC,KAAK0gE,SAASnnD,IAAMvZ,KAAK0gE,SAASl1C,OACnCxrB,KAAKoN,UAAUwM,QAAOywB,EAAI3wB,KAAKgC,IAAI2uB,EAAGrqC,KAAKoN,UAAUwM,QACrD5Z,KAAKoN,UAAU0M,SAAQwwB,EAAI5wB,KAAKgC,IAAI4uB,EAAGtqC,KAAKoN,UAAU0M,SAC1D,IAAI2lC,EAAY,CAACpV,EAAG,IAAQC,EAAG,IAAQm2B,GAEvC,OADAt5D,EAAmBnH,EAAMy/C,GAClBA,GAET31B,OAAQ,WACN9pB,KAAKy1B,UAEPkrC,gBAAiB,WACf,GAAK3gE,KAAKgqB,UAAUhqB,KAAKoN,UAAUlG,IAAnC,CACA,IAAI05D,EAAK5gE,KAAK6qB,MAAMrT,MAChBqpD,EAASnnD,KAAKC,MAAM3Z,KAAK8gE,QAAU,GACvCF,EAAGG,WAAa/gE,KAAK0gE,SAASnnD,IAAMsnD,EAAS,KAC7CD,EAAGI,cAAgBhhE,KAAK0gE,SAASl1C,OAASq1C,EAAS,KACnDD,EAAGK,YAAcjhE,KAAK0gE,SAASlnD,KAAOqnD,EAAS,KAC/CD,EAAGM,aAAelhE,KAAK0gE,SAASz0C,MAAQ40C,EAAS,KAEjD,IAAK,IAAIngE,EAAI,EAAGA,EAAIV,KAAKi8B,OAAOx6B,OAAQf,IACtC,IAAIV,KAAKi8B,OAAOv7B,GAAG0M,UAAUmW,OAA7B,CACA,IAAIvO,EAAOhV,KAAKi8B,OAAOv7B,GAAGmqB,MACtB7jB,EAAOhH,KAAKq7B,OAAO36B,GACnBuG,EAASjH,KAAKi8B,OAAOv7B,GAAG0M,UAExB4H,IACFA,EAAKwC,MAAM8jB,SAAWt0B,EAAK,GAAK,KAC5BA,EAAK,GAAK,KAAUA,EAAK,IAAMA,EAAK,KAAIgO,EAAKwC,MAAM+jB,SAAWv0B,EAAK,GAAK,MAC5EgO,EAAKwC,MAAM2pD,UAAYl6D,EAAOk6D,WAAan6D,EAAK,GAAK,KACrDgO,EAAKwC,MAAM4pD,SAAWn6D,EAAOm6D,WAAap6D,EAAK,IAAMA,EAAK,GAAKA,EAAK,GAAK,GACzEgO,EAAKwC,MAAMsC,OAAS9S,EAAK,IAAMA,EAAK,GAAK,OAASA,EAAK,GAAK,KAC5DgO,EAAKwC,MAAMgkB,UAAYx0B,EAAK,GAAK,KAC7BA,EAAK,GAAK,KAAUA,EAAK,IAAMA,EAAK,KAAIgO,EAAKwC,MAAMikB,UAAYz0B,EAAK,GAAK,MAC7EgO,EAAKwC,MAAMqpD,OAASA,EAAS,MAMjC,IAFA,IAAIQ,EAAM,GAEDjgE,EAAK,EAAGA,EAAKpB,KAAKi8B,OAAOx6B,OAAQL,IACxC,IAAIpB,KAAKi8B,OAAO76B,GAAIgM,UAAUmW,OAA9B,CACA,IAAI2N,EAAQlxB,KAAKi8B,OAAO76B,GAAIypB,MAC5Bw2C,EAAIjgE,GAAM,CAAC8vB,EAAMrX,YAAaqX,EAAMnX,cAGtC,IAAK,IAAIzJ,EAAM,EAAGA,EAAMtQ,KAAKi8B,OAAOx6B,OAAQ6O,IAC1C,IAAItQ,KAAKi8B,OAAO3rB,GAAKlD,UAAUmW,OAA/B,CACA,IAAIK,EAAO5jB,KAAKi8B,OAAO3rB,GAGvB,GAFasT,EAAKiH,MAEN,CACVjH,EAAKxW,UAAUm7B,MAAO,EACtB,IAAI+4B,EAAQthE,KAAKq7B,OAAO/qB,GACpBg6B,EAAIg3B,EAAM,IAAMA,EAAM,GAAKA,EAAM,GAAKD,EAAI/wD,GAAK,GACnDsT,EAAKikB,SAASw5B,EAAI/wD,GAAK,GAAIg6B,GAC3B1mB,EAAKxW,UAAUm7B,MAAO,GAI1BvoC,KAAK6qB,MAAMrT,MAAMsC,OAAS,GAC1B9Z,KAAKooC,QAAUpoC,KAAKqoC,gBAAkBroC,KAAK6qB,MAAM02C,aACjDvhE,KAAK6qB,MAAMrT,MAAMsC,OAAS9Z,KAAKqoC,gBAAkB,QAIjDm5B,GAAe,CACjBC,IAAK,SAAUr/B,EAAUl9B,GACvBA,EAAOA,GAAQlF,KAGf,IAFA,IAAI0hE,EAAO,EAEFhhE,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,IAAK,CACpC,IAAIqT,EAAMkX,WAAWmX,EAASl9B,EAAKxE,IAAK,IACnCsqB,MAAMjX,KAAM2tD,GAAQ3tD,GAG3B,OAAO2tD,GAETx+C,IAAK,SAAUkf,EAAUl9B,GACvBA,EAAOA,GAAQlF,KAGf,IAFA,IAAIkjB,EAAMygC,EAAAA,EAEDjjD,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,IAAK,CACpC,IAAIqT,EAAMkX,WAAWmX,EAASl9B,EAAKxE,IAAK,IACpCsqB,MAAMjX,IACNA,EAAMmP,IAAKA,EAAMnP,GAGvB,OAAOmP,IAAQygC,EAAAA,EAAW,EAAU,EAANzgC,GAEhCxH,IAAK,SAAU0mB,EAAUl9B,GACvBA,EAAOA,GAAQlF,KAGf,IAFA,IAAI0b,GAAOioC,EAAAA,EAEFjjD,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,IAAK,CACpC,IAAIqT,EAAMkX,WAAWmX,EAASl9B,EAAKxE,IAAK,IACpCsqB,MAAMjX,IACNA,EAAM2H,IAAKA,EAAM3H,GAGvB,OAAO2H,KAASioC,EAAAA,EAAW,EAAU,EAANjoC,GAEjC/J,MAAO,SAAUywB,EAAUl9B,GAGzB,IAFA,IAAIyM,EAAQ,EAEHjR,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,IAAK,CACpC,IAAIihE,EAAOv/B,EAASl9B,EAAKxE,IACrBihE,MAAAA,GAA8ChwD,IAGpD,OAAOA,GAET2jB,IAAK,SAAU8M,EAAUl9B,GACvB,OAAOk9B,EAASl9B,EAAK,KAEvBu8C,OAAQ,SAAUrf,GAChB,OAAOA,EAASyL,QAIhB+zB,GAAa,CACf53D,MAAO,WACL,IAAI4b,EAAQ5lB,KAEZA,KAAK6M,YAAY,cAAc,WAC7B,OAAO+Y,EAAM2mC,mBAAqB,QAEpCvsD,KAAK6M,YAAY,eAAe,WAC9B,OAAO+Y,EAAM2mC,mBAAqB,SAGtCsV,QAAS,SAAU/5D,GACjB,GAAI9H,KAAKs3D,gBACP,IAAKt3D,KAAK8hE,cAAch6D,GAAS,WAC5B,CACL,IAAK9H,KAAKusD,mBAAoB,OAC9BvsD,KAAK03B,MAAQ13B,KAAKusD,mBAClBvsD,KAAKoqB,KAAOpqB,KAAK+hE,kBAGnB/hE,KAAK8M,UAAU,iBAAkB,KAEnCg1D,cAAe,SAAUh6D,GASvB,IARA,IAAIke,EAAShmB,KAET2N,EAAS7F,GAAU,EACnBk6D,EAAkB,KAAVr0D,EAAgB,EAAI3N,KAAK8jC,QAAQn2B,GAAQ0qD,OAAS,EAC1D4J,GAAU,EACV1oD,EAAMvZ,KAAKyuD,OAAO9gD,GAClB+pB,EAAQ,GAEHh3B,EAAI,EAAGA,EAAI6Y,EAAI9X,OAAQf,IAAK,CACnC,IAAIwG,EAAKqS,EAAI7Y,GAEb,GAAIV,KAAKoqB,KAAKljB,GAAIgnD,OAAQ,CACxB+T,GAAU,EACV,IAAI1qD,EAAQvX,KAAKyuD,OAAOvnD,GACpBqQ,IAAOvX,KAAKyuD,OAAOvnD,GAAMqQ,EAAMlM,QAAO,SAAUpC,GAClD,IAAK+c,EAAOoE,KAAKnhB,GAAGi5D,QAAS,OAAOj5D,EAEpC+c,EAAOm8C,gBAAgBl5D,OAEzByuB,EAAQA,EAAMlB,OAAOx2B,KAAKyuD,OAAOvnD,IAAO,IAExClH,KAAKmiE,gBAAgBj7D,QAChBwwB,EAAMn2B,KAAK2F,GAGpB,QAAK+6D,IACLjiE,KAAKyuD,OAAO9gD,GAAU+pB,EAEtB13B,KAAKoiE,kBAAkBpiE,KAAKyuD,OAAO9gD,GAASA,EAAQq0D,QAE9B,IAAXl6D,GAAwB9H,KAAK8hE,iBACjC,IAETK,gBAAiB,SAAUj7D,UAClBlH,KAAKoqB,KAAKljB,UACVlH,KAAKyuD,OAAOvnD,IAErBolD,kBAAmB,SAAUsB,GAC3B5tD,KAAKoM,aACLpM,KAAKuX,MAAMq2C,GACX5tD,KAAKsM,gBAEP+1D,qBAAsB,SAAU5+D,GAC9B,GAAkB,mBAAPA,EAAmB,OAAOA,EAErC,IAAI6+D,EAAM,SAAUjiE,GAClB,OAAOA,EAAIoD,IAIb,OADA6+D,EAAIz0B,MAAQpqC,EACL6+D,GAET/qD,MAAO,SAAUtQ,EAAQa,GAEvB,IAAIsvB,EAqBJ,GAtBAtxB,EAAOmB,EAAQ,gBAGO,iBAAXA,GACTmwB,EAAQnwB,EACRA,EAAS,CACP4oD,GAAI7vD,KAAKqiE,qBAAqBp7D,GAC9B3B,IAAK,KAEoB,mBAAX2B,EAChBA,EAAS,CACP4oD,GAAI5oD,EACJ3B,IAAK,IAEuB,iBAAd2B,EAAO4oD,KACvBz4B,EAAQnwB,EAAO4oD,GACf5oD,EAAO4oD,GAAK7vD,KAAKqiE,qBAAqBp7D,EAAO4oD,KAG/C5oD,EAAO3B,IAAM2B,EAAO3B,KAAO,GACvB8xB,IAAUnwB,EAAO3B,IAAI8xB,KAAQnwB,EAAO3B,IAAI8xB,GAAS,CAACA,IACtDnwB,EAAOs7D,aAA6BrhE,IAAnB+F,EAAOs7D,SAA+Bt7D,EAAOs7D,QAC1DviE,KAAKs3D,eAAgB,OAAOt3D,KAAKwiE,YAAYv7D,EAAQa,GAEpD9H,KAAKusD,qBACRvsD,KAAKusD,mBAAqBvsD,KAAK03B,MAC/B13B,KAAK+hE,kBAAoB/hE,KAAKoqB,MAGhC,IAAIq4C,EAAS,GACTC,EAAS,GACTC,EAAS,GACTC,EAAW37D,EAAOs7D,QACtBviE,KAAKmL,MAAK,SAAUjG,GAClB,IAAIqrB,EAAUtpB,EAAO4oD,GAAG3qD,GAExB,IAAKqrB,GAAuB,IAAZA,EAAe,CAC7B,IAAiB,IAAbqyC,EAAoB,OAExB,IAAiB,IAAbA,EAEF,YADAD,EAAOphE,KAAK2D,GAIdqrB,EAAUqyC,EAGPH,EAAOlyC,KACVmyC,EAAOnhE,KAAK,CACV2F,GAAIqpB,EACJ/uB,MAAO+uB,EACP29B,QAAQ,EACR2U,KAAM57D,EAAO0c,MAEf8+C,EAAOlyC,GAAW5lB,KAGpB83D,EAAOlyC,GAAShvB,KAAK2D,MAGvB,IAAK,IAAIxE,EAAI,EAAGA,EAAIgiE,EAAOjhE,OAAQf,IAAK,CACtC,IAAI6W,EAAQmrD,EAAOhiE,GAEnBV,KAAK8iE,WAAW77D,EAAO3B,IAAKiS,EAAOkrD,EAAOC,EAAOhiE,GAAGwG,KAEhDlH,KAAKyN,SAAS,mBAAmBzN,KAAK8M,UAAU,iBAAkB,CAACyK,EAAMrQ,GAAIqQ,EAAM/V,MAAOihE,EAAOC,EAAOhiE,GAAGwG,MAGjHlH,KAAK03B,MAAQ/sB,IACb3K,KAAKoqB,KAAO,GAEZpqB,KAAK+iE,WAAWL,GAEhB1iE,KAAK+iE,WAAWJ,GAEhB3iE,KAAK8M,UAAU,iBAAkB,KAEnCi2D,WAAY,SAAUtiE,GACpB,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAIgB,OAAQf,IAAK,CACnC,IAAIwG,EAAKlH,KAAKkH,GAAGzG,EAAIC,IACjBV,KAAKoqB,KAAKljB,KAAKA,EAAKzG,EAAIC,GAAGwG,GAAKiD,KACpCnK,KAAKoqB,KAAKljB,GAAMzG,EAAIC,GACpBV,KAAK03B,MAAMn2B,KAAK2F,GACZlH,KAAK6sD,cAAc7sD,KAAK6sD,aAAapsD,EAAIC,MAGjDoiE,WAAY,SAAUx9D,EAAKiS,EAAOrS,GAChC,IAAK,IAAIuiB,KAAQniB,EAAK,CACpB,IAAIoD,EAAUpD,EAAImiB,GAAM,IAAM,MAE1B2a,EAAWpiC,KAAKqiE,qBAAqB/8D,EAAImiB,GAAM,IAE7B,mBAAX/e,IACT5C,EAAO07D,GAAa94D,GAAU,0BAA4BA,GAC1DA,EAAU84D,GAAa94D,IAGzB6O,EAAMkQ,GAAQ/e,EAAQtG,KAAKpC,KAAMoiC,EAAUl9B,KAG/Cs9D,YAAa,SAAUv7D,EAAQ0G,GAE7B,IAAIq0D,EAAQ,EACRr0D,EAAQq0D,EAAQhiE,KAAK8jC,QAAQn2B,GAAQ0qD,OAAY1qD,EAAS,EAQ9D,IANA,IAAIq1D,EAAY,GACZN,EAAS,GACTC,EAAS,GACTjrC,EAAQ13B,KAAKyuD,OAAO9gD,GACpB80D,EAAS,GAEJ/hE,EAAI,EAAGA,EAAIg3B,EAAMj2B,OAAQf,IAAK,CACrC,IAAIwE,EAAOlF,KAAK8jC,QAAQpM,EAAMh3B,IAC1B6vB,EAAUtpB,EAAO4oD,GAAG3qD,GACxB,IAAKqrB,GAAuB,IAAZA,EAAa,CAAE,IAAuB,IAAnBtpB,EAAOs7D,QAAmB,SAAc,IAAuB,IAAnBt7D,EAAOs7D,QAAkB,CACtGI,EAAOphE,KAAK2D,EAAKgC,IACjB,SACKqpB,EAAUtpB,EAAOs7D,QACxB,IAAIU,EAAWR,EAAOlyC,GAEtB,IAAK0yC,EAAU,CACb,IAAI/7D,EAAKiD,IACL+4D,EAAUljE,KAAKoqB,KAAKljB,GAAM,CAC5BA,GAAIA,EACJ1F,MAAO+uB,EACP29B,QAAQ,EACR2U,KAAM57D,EAAO0c,KAEX3jB,KAAK6sD,cAAc7sD,KAAK6sD,aAAaqW,GACzCR,EAAOnhE,KAAK2hE,IACZD,EAAWR,EAAOlyC,GAAWvwB,KAAKyuD,OAAOvnD,GAAM,IACtCi8D,SAAW,GACpBH,EAAUzhE,KAAK2F,GAGjB+7D,EAAS1hE,KAAK2D,EAAKgC,IAEnB+7D,EAASE,SAAS5hE,KAAK2D,GAGzBlF,KAAKyuD,OAAO9gD,GAAUq1D,EAAUxsC,OAAOmsC,GAEvC,IAAK,IAAIvhE,EAAK,EAAGA,EAAKshE,EAAOjhE,OAAQL,IAAM,CACzC,IAAImW,EAAQmrD,EAAOthE,GAMnB,GAJApB,KAAK8iE,WAAW77D,EAAO3B,IAAKiS,EAAOvX,KAAKyuD,OAAOiU,EAAOthE,GAAI8F,IAAIi8D,UAE1DnjE,KAAKyN,SAAS,mBAAmBzN,KAAK8M,UAAU,iBAAkB,CAACyK,EAAMrQ,GAAIqQ,EAAM/V,MAAOxB,KAAKyuD,OAAOl3C,EAAMrQ,IAAIi8D,WAEhHl8D,EAAOm8D,OAAQ,CACjB,IAAIpK,EAAM,UAAYzhD,EAAMrQ,GAExBk8D,EAASpjE,KAAKoqB,KAAK4uC,GAAO,CAC5B9xD,GAAI8xD,EACJkJ,SAAS,EACT1gE,MAAO+V,EAAM/V,MACb62D,OAAQ2J,EACRqB,OAAQ,EACR1Z,QAASpyC,EAAMrQ,GACf27D,KAAM57D,EAAOm8D,OAAOz/C,KAGtB3jB,KAAK8iE,WAAW77D,EAAOm8D,OAAQA,EAAQpjE,KAAKyuD,OAAOiU,EAAOthE,GAAI8F,IAAIi8D,UAElEnjE,KAAKyuD,OAAOl3C,EAAMrQ,IAAI3F,KAAK6hE,EAAOl8D,IAClClH,KAAK8M,UAAU,gBAAiB,CAACs2D,EAAOl8D,GAAIk8D,EAAO5hE,MAAOxB,KAAKyuD,OAAOl3C,EAAMrQ,IAAIi8D,kBAG3EnjE,KAAKyuD,OAAOl3C,EAAMrQ,IAAIi8D,SAG/BnjE,KAAKoiE,kBAAkBpiE,KAAKyuD,OAAO9gD,GAASA,EAAQq0D,EAAQ,GAE5DhiE,KAAK8M,UAAU,iBAAkB,KAEnCs1D,kBAAmB,SAAU3T,EAAQ9gD,EAAQq0D,GACvCr0D,IAAQ3N,KAAK8jC,QAAQn2B,GAAQ01D,OAAS5U,EAAOhtD,QAEjD,IAAK,IAAIf,EAAI,EAAGA,EAAI+tD,EAAOhtD,OAAQf,IAAK,CACtC,IAAIuc,EAAOjd,KAAKoqB,KAAKqkC,EAAO/tD,IAC5Buc,EAAKo7C,OAAS2J,EACd/kD,EAAK0sC,QAAUh8C,EACf,IAAItM,EAAOrB,KAAKyuD,OAAOxxC,EAAK/V,IACxB7F,GAAMrB,KAAKoiE,kBAAkB/gE,EAAM4b,EAAK/V,GAAI86D,EAAQ,MAK1DsB,GAAQ,CACVt5D,MAAO,WACLrK,EAAQ8J,OAAOzJ,KAAKkF,KAAM08D,KAE5BrqD,MAAO,SAAUtQ,EAAQa,GAClBA,GAAqB,IAAXA,IACb9H,KAAKkmD,cAAe,EACpBlmD,KAAKkF,KAAK28D,UACV7hE,KAAKkmD,cAAe,GAGtBlmD,KAAKkF,KAAKqS,MAAMtQ,EAAQa,IAE1B+5D,QAAS,SAAU/5D,GACjB9H,KAAKkF,KAAK28D,QAAQ/5D,KAMlBy7D,GAAc,CAChBv5D,MAAO,WACL,IAAI4b,EAAQ5lB,KAEZA,KAAKslB,OAAO/jB,MAAK,WACVqkB,EAAM49C,qBAAsB59C,EAAM3e,OAAOipC,aAAa3jB,GAAO3G,EAAMiF,MAAO,UAAWjF,EAAM69C,eAAgB,CAC9Gh7D,KAAMmd,QAIZ2Y,OAAQ,WACN,IAAK/B,GAAUgC,SAASx+B,MAAO,OAAO,EAEtC,IAAIo3B,EAAQp3B,KAAK0jE,gBAEjB,GAAItsC,EAAO,IAAK,IAAI12B,EAAI,EAAGA,EAAI02B,EAAM31B,OAAQf,IAC3C,GAAyC,KAArC02B,EAAM12B,GAAGsO,aAAa,YAAoB,OAAOooB,EAAM12B,GAAGkc,SAGlE+mD,MAAO,WACL,IAAIvsC,EAAQp3B,KAAK0jE,gBAEjB,GAAItsC,EAAO,IAAK,IAAI12B,EAAI,EAAGA,EAAI02B,EAAM31B,OAAQf,IAC3C,GAAyC,KAArC02B,EAAM12B,GAAGsO,aAAa,YAAoB,OAAOooB,EAAM12B,GAAG09B,QAGlEqlC,eAAgB,SAAU1+D,GACxB,IAAI+D,EAAO/D,EAAE+yB,OAAS/yB,EAAEgzB,QAExB,GAAIjvB,EAAO,IAAMA,EAAO,GAAI,CAC1B,IAAI86D,EAAM5jE,KAAK0jE,gBAEXvwC,GAAW,EACf,IAAKywC,EAAIniE,OAAQ,OACjB+Y,GAAazV,GACb,IAAIu6B,EAAe,KAATx2B,GAAwB,KAATA,GAAwB,KAATA,GAAc,EAAK,EAC3D,GAAa,KAATA,EAAaqqB,EAAWywC,EAAIniE,OAAS,OAAO,GAAa,KAATqH,EAAaqqB,EAAW,OAC1E,IAAK,IAAIzyB,EAAI,EAAGA,EAAIkjE,EAAIniE,OAAQf,IAC9B,GAAuC,KAAnCkjE,EAAIljE,GAAGsO,aAAa,YAAoB,CAC1CmkB,EAAWzyB,EAAI4+B,EACf,MAKN,IAAiB,IAAbnM,EAAoB,CACtB,IAAI/xB,EAAK+xB,KAMP,GAHI/xB,GAAMwiE,EAAIniE,SAAQL,EAAK,GACvBA,EAAK,IAAGA,EAAKwiE,EAAIniE,OAAS,GAEzBmiE,EAAIxiE,GAAI4N,aAAa,kBAUnB5N,GAAMk+B,MAVgC,CAC3C,IAAIp4B,EAAK08D,EAAIxiE,GAAI4N,aAEjB,aAEAhP,KAAK6hC,SAAS36B,EAAI,QAElB08D,EAAIxiE,GAAIwb,QAERxb,EAAK,iBAEO,YAAPA,GAAoBA,IAAO+xB,MAI1C0X,kBAAmB,SAAUt9B,EAAGxI,OAC9B,IAAImC,EACAmD,EAAOtF,EAAE+C,OAENuC,IAASA,EAAK+oB,eAAe,CAElC,GADAlsB,EAAKmD,EAAK2E,aAAa,cACf,OAAOhP,KAAK6jE,UAAU38D,GAC9BmD,EAAOA,EAAKgO,WAGd,OAAO,MAETyrD,YAAa,SAAU58D,GAGrB,IAFA,IAAIqN,EAAUvU,KAAKoN,UAAUmH,QAEpB7T,EAAI,EAAGA,EAAI6T,EAAQ9S,OAAQf,IAClC,GAAI6T,EAAQ7T,GAAGwG,IAAMA,EAAI,OAAOxG,EAGlC,OAAO,GAETmjE,UAAW,SAAU38D,GACnB,IAAIisB,EAAWnzB,KAAK8jE,YAAY58D,GAChC,OAAiB,IAAbisB,EAAwBnzB,KAAKoN,UAAUmH,QAAQ4e,GAC5C,MAET4wC,UAAW,SAAU78D,EAAI1F,EAAOixB,EAAMU,GACpC,IAAI9yB,EAAM6G,EAES,UAAfjH,EAAQiH,GAEV7G,EAAM,CACJ6G,GAAIA,EACJ1F,MAHFA,EAAQA,GAAS0F,IAMjBA,EAAK7G,EAAI6G,GACTisB,EAAWV,EACXA,EAAOjxB,IAGoB,IAAzBxB,KAAK8jE,YAAY58D,KACnB2C,EAAaC,SAAS1H,KAAKpC,KAAKoN,UAAUmH,QAASlU,EAAK8yB,GAExDnzB,KAAKmqB,UACLnqB,KAAK8M,UAAU,cAAe,CAAC5F,EAAI7G,KAGjCoyB,IACoC,IAAlCzyB,KAAKoN,UAAUmH,QAAQ9S,SAAczB,KAAKoN,UAAU5L,MAAQ,IAChExB,KAAK6hC,SAAS36B,EAAI,UAGtB88D,aAAc,SAAU98D,GACtB,IAAIisB,EAAWnzB,KAAK8jE,YAAY58D,GAEhC,IAAiB,IAAbisB,EAAiB,CACnB,IAAI5e,EAAUvU,KAAKoN,UAAUmH,QAE7B1K,EAAagB,SAASzI,KAAKmS,EAAS4e,GAEpCnzB,KAAKmqB,UAEDnqB,KAAKoN,UAAU5L,OAAS0F,GAAIlH,KAAKikE,gBAAgB1vD,EAAS4e,GAC9DnzB,KAAK8M,UAAU,iBAAkB,CAAC5F,EAAIlH,KAAKoN,UAAU5L,UAGzDyiE,gBAAiB,SAAU1vD,EAAS4e,GAClC,IAAInsB,EAAOuN,EAAQ9S,OAEnB,GAAIuF,IAAShH,KAAKwjE,mBAAoB,CAGpC,IAAK,IAAI9iE,EAFTyyB,EAAWzZ,KAAKwJ,IAAIiQ,EAAUnsB,EAAO,GAEdtG,EAAIsG,EAAMtG,IAC/B,IAAK6T,EAAQ7T,GAAG6iB,OAAQ,OAAOvjB,KAAK6hC,SAASttB,EAAQ7T,GAAGwG,GAAI,QAI9D,IAAK,IAAIoJ,EAAM6iB,EAAU7iB,GAAO,EAAGA,IACjC,IAAKiE,EAAQjE,GAAKiT,OAAQ,OAAOvjB,KAAK6hC,SAASttB,EAAQjE,GAAKpJ,GAAI,QAKpElH,KAAK6hC,SAAS,GAAI,SAEpBqiC,gBAAiB,SAAUlwC,GACzB,IAAIzf,EAAUvU,KAAKoN,UAAUmH,QAE7B,GAAIA,EAAQ9S,OAAQ,CAClB,IAAK,IAAIf,EAAI,EAAGA,EAAI6T,EAAQ9S,OAAQf,IAClC,IAAK6T,EAAQ7T,GAAG6iB,SAAWhP,EAAQ7T,GAAGmgB,SAAU,OAAOtM,EAAQ7T,GAAGwG,GAGpE,GAAI8sB,EAAO,OAAOzf,EAAQ,GAAGrN,GAG/B,MAAO,IAETi9D,eAAgB,SAAU5vD,GAGxB,IAFA,IAAIyB,EAAU,GAELtV,EAAI,EAAGA,EAAI6T,EAAQ9S,OAAQf,IAC7B6T,EAAQ7T,GAAG6iB,QAAQvN,EAAQzU,KAAKgT,EAAQ7T,IAG/C,OAAOsV,GAETouD,gBAAiB,SAAUl9D,EAAIm9D,EAAO7gE,GACpC,IAAI+Q,EAAUvU,KAAKoN,UAAUmH,QACzB4e,EAAWnzB,KAAK8jE,YAAY58D,GAE5BqN,EAAQ4e,IAAa3vB,KAAW+Q,EAAQ4e,GAAUkxC,KAEpD9vD,EAAQ4e,GAAUkxC,GAAS7gE,EACvBA,GAAmB,WAAV6gE,GAAsBrkE,KAAKoN,UAAU5L,OAAS0F,GACzDlH,KAAKikE,gBAAgB1vD,EAAS4e,GAChCnzB,KAAKmqB,YAGTm6C,WAAY,SAAUp9D,GACpBlH,KAAKokE,gBAAgBl9D,EAAI,UAAU,IAErCq9D,WAAY,SAAUr9D,GACpBlH,KAAKokE,gBAAgBl9D,EAAI,UAAU,IAErCs9D,cAAe,SAAUt9D,GACvBlH,KAAKokE,gBAAgBl9D,EAAI,YAAY,IAEvCu9D,aAAc,SAAUv9D,GACtBlH,KAAKokE,gBAAgBl9D,EAAI,YAAY,KAIrCw9D,GAAU/kE,EAAQ4xB,MAAM,CAC1BvnB,MAAO,SAAUqH,GACfrR,KAAKg5D,IAAM,OAAS7uD,IACpBnK,KAAK2S,KAAOtB,EACZrR,KAAK2kE,KAAO,GACZ3kE,KAAK4kE,OAAS,IAEhBC,QAAS,SAAU39D,EAAI49D,EAAQC,GAC7B/kE,KAAKglE,eAAe99D,EAAI,OAAQ49D,EAAQC,IAE1CE,QAAS,SAAU/9D,EAAI49D,EAAQC,GAC7B/kE,KAAKglE,eAAe99D,EAAI,OAAQ49D,EAAQC,IAE1CC,eAAgB,SAAU99D,EAAIg+D,EAAOC,EAAQJ,GAC3C,IAAIK,EAAa,GACO,GAApB9+D,UAAU7E,SAAa2jE,EAAa,aAAeL,EAAW,KAElE/kE,KAAK2kE,KAAKpjE,KAAK,SAAWvB,KAAK2S,KAAO,KAAOzL,EAAK,YAAcg+D,EAAQ,aAAeC,EAAO99D,OAAS,KAAO+9D,EAAa,YAE3HplE,KAAK4kE,OAAOrjE,KAAK,CACf8b,MAAO0nD,EACPD,OAAQK,KAGZE,UAAW,SAAUn+D,EAAIo+D,EAAQC,EAAQtzD,EAAGwH,EAAG+rD,EAAGC,EAAIV,GACpD,IAAID,EAAS,GACbA,EAAOvjE,KAAK0Q,GACZ6yD,EAAOvjE,KAAKmY,KAAKqgB,MAAMtgB,EAAIgsD,IAE3B,IAAK,IAAI/kE,EAAI4kE,EAAQ5kE,EAAI6kE,EAAQ7kE,GAAKgZ,KAAKgsD,GAAK,GAC9CZ,EAAOvjE,KAAKmY,KAAKqgB,MAAM9nB,EAAIuzD,EAAI9rD,KAAKisD,IAAIjlE,KACxCokE,EAAOvjE,KAAKmY,KAAKqgB,OAAOtgB,EAAI+rD,EAAI9rD,KAAKksD,IAAIllE,IAAM+kE,IAOjD,OAJAX,EAAOvjE,KAAKmY,KAAKqgB,MAAM9nB,EAAIuzD,EAAI9rD,KAAKisD,IAAIJ,KACxCT,EAAOvjE,KAAKmY,KAAKqgB,OAAOtgB,EAAI+rD,EAAI9rD,KAAKksD,IAAIL,IAAWE,IACpDX,EAAOvjE,KAAK0Q,GACZ6yD,EAAOvjE,KAAKmY,KAAKqgB,MAAMtgB,EAAIgsD,IACpBzlE,KAAKilE,QAAQ/9D,EAAI49D,EAAQC,IAElCrwC,KAAM,SAAUr0B,EAAK6E,EAAM4M,GACzB,GAAIzR,EAAIk4B,iBAGN,IAFA,IAAIstC,EAAQxlE,EAAIk4B,iBAAiB,kBAAqBrzB,EAAO,MAEpDxE,EAAI,EAAGA,EAAImlE,EAAMpkE,OAAQf,IAAK,CACrC,IAAIolE,EAAMD,EAAMnlE,GAEZoR,EACEg0D,EAAI92D,aAAa,YACnB82D,EAAIC,UAAYD,EAAI92D,aAAa,UACjC82D,EAAIruD,aAAa,SAAU,IAC3BquD,EAAIX,OAAS,IAELrzD,GACNg0D,EAAIC,YACND,EAAIruD,aAAa,SAAUquD,EAAIC,WAC/BD,EAAIX,OAASW,EAAIC,UACjBD,EAAIC,UAAY,IAIpBF,EAAMnlE,GAAG8W,MAAMghB,QAAU1mB,EAAO,OAAS,KAI/CgY,OAAQ,SAAUzpB,GAChB,IAAIyD,EAAIgU,GAAO,OACfhU,EAAE0T,MAAMU,QAAU,iEAClB7X,EAAIqX,YAAY5T,GAChB,IAAI0d,EAAMlD,GAAIe,KAAO,GAAK,2GAC1Bvb,EAAE2S,UAAY,YAAczW,KAAKg5D,IAAM,WAAah5D,KAAKg5D,IAAM,KAAOh5D,KAAK2kE,KAAKt9D,KAAK,MAAQ,cAAgBma,EAAM,mCAAqCxhB,KAAKg5D,IAAM,KACnK34D,EAAI0iC,SAAWj/B,EAEf9D,KAAK2kE,KAAO,MAIZqB,GAAU,CACZh8D,MAAO,WACLhK,KAAK2nC,UAAY,GACjB3nC,KAAK4nC,eAAiB,GACtB5nC,KAAKiiC,iBAAmBjiC,KAAKimE,UAAYx9D,GAAK,WAC5C,OAAOzI,OACNA,MAEHA,KAAKkmE,wBAELlmE,KAAKslB,OAAO/jB,KAAKvB,KAAKmmE,8BAExBt3C,GAAI,SAAU3nB,GACZ,OAAOlH,KAAK2nC,UAAUzgC,IAExBk/D,QAAS,SAAUl/D,GACjB,OAAOlH,KAAK4nC,eAAe1gC,IAE7Bg/D,sBAAuB,WACrBlmE,KAAKynC,iBAAmBva,GAAMG,mBAC9BH,GAAMG,mBAAqBrtB,MAE7BmmE,4BAA6B,WAC3B,IAAK,IAAIvgE,KAAQ5F,KAAK2nC,UAAW,CAC/B,IAAIvQ,EAAQp3B,KAAK2nC,UAAU/hC,GACvB5F,KAAK8M,WAAasqB,EAAM7qB,WAAa6qB,EAAMjrB,SAASk6D,aAAajvC,EAAM7qB,SAAS,CAClF85D,YAAarmE,OAEfo3B,EAAM6K,iBAAmBjiC,KAAKimE,UAGhC/4C,GAAMG,mBAAqBrtB,KAAKynC,iBAChCznC,KAAKynC,iBAAmB,GAE1B3E,eAAgB,SAAU57B,UACjBlH,KAAK2nC,UAAUzgC,IAExBmnB,GAAI,WACFruB,KAAKkmE,wBAEL,IAAIx2D,EAAO2e,GAAGzlB,MAAM5I,KAAMsG,WAI1B,OAFAtG,KAAKmmE,8BAEEz2D,IAIP42D,GAAiB,CACnBt8D,MAAO,WACDhK,KAAKwjC,eAAexjC,KAAK6M,YAAY,gBAAiB7M,KAAKumE,qBAC3DvmE,KAAK87D,eAAe97D,KAAK6M,YAAY,aAAc7M,KAAKwmE,kBAE9DA,gBAAiB,WACf,GAAIxmE,KAAKwjC,cAAe,CACtB,IAAID,EAAMvjC,KAAKwjC,eAAc,GACxBD,EAAI9hC,QAAWzB,KAAKglD,YAAYzhB,EAAI,KAAKvjC,KAAK87D,cAAc,UAGrEyK,oBAAqB,WACnB,IAAIhjC,EAAMvjC,KAAKwjC,eAAc,GAE7B,IAAKD,EAAI9hC,SAAWzB,KAAKglD,YAAYzhB,EAAI,IAAK,CAC5C,IAAIl5B,EAAOrK,KAAKiqB,SAASiN,cAAc,IAAMl3B,KAAKg5D,IAAM,KAEpD3uD,GAAMA,EAAKoN,aAAa,WAAY,OAG5CgvD,mBAAoB,SAAU30D,GAC5B,OAAO,SAAUkD,EAAMjQ,GACrB,IAAIiL,EAAMjL,EAAE+C,OAEZ,IAAKkI,EAAIhB,aAET,eAAgB,CAGd,IAAIpJ,EAAOoK,EAAIQ,QACf,GAAY,SAAR5K,GAA2B,YAARA,GAA8B,UAARA,EAAkB,OAAO,EAGxE,GAAIoP,GAAQA,EAAK8mD,eAAiB9mD,EAAK/N,OAAOy/D,aAAe1xD,EAAK6qB,cAEhE,OADArlB,GAAazV,GACNiQ,EAAK8mD,cAAchqD,EAAM,CAC9B6uB,MAAO57B,EAAE46B,SACT1M,KAAMluB,EAAEg8B,QACRh8B,EAAGA,MAKX+2D,cAAe,SAAUhqD,EAAMzL,EAASuW,GACtC,IAAI3V,EAASjH,KAAKoN,UAClB,IAAInG,EAAO4Z,SAAX,CAEA,IAAa,SAAR/O,GAA2B,QAARA,IAAmB9R,KAAK2mE,aAAc,CAC5D,IAAIh5D,EAASkhB,GAAG7uB,KAAK2mE,cAKrB,OAHAh5D,EAAOi5D,gBAAe,QAEO,MAAzBj5D,EAAO1G,OAAO0jB,OAAgBhd,EAAOmuD,cAAchqD,GAAW0qB,GAAUyB,SAAStwB,IAKvF,IAAIk5D,EAAW7mE,KAAKwjC,eAAc,GAC9BsjC,EAAW9mE,KAAK2R,QAA2B,KAAjB1K,EAAO0jB,QAAiB1jB,EAAOm8C,OAAS,GAClEvO,GAAO,EAEX,IAAKgyB,EAASplE,QAAUzB,KAAK2R,QAAS,CACpC,GAAY,QAARG,GAA0B,SAARA,GAAmBg1D,EAAUh1D,EAAO,UAAW,CAAA,KAAY,MAARA,GAAwB,QAARA,GAAkBg1D,GAA+B,OAArBh1D,EAAO,SAC5H+0D,EAAW,CAAC7mE,KAAK0vD,cACjB7a,GAAO,EAGT,GAAuB,GAAnBgyB,EAASplE,OAAa,CAKxB,GAHAolE,EAAWA,EAAS,GACpBhyB,GAAgB,IAATA,EAAgBgyB,EAAW,KAEtB,QAAR/0D,EAAgB,CAClB,GAAI9R,KAAKk8B,QAAUl8B,KAAK86C,eAAgB,OAAO96C,KAAKk8B,MAAM2qC,GAE1D,GAAI7mE,KAAK+mE,WAAa/mE,KAAK+mE,UAAUF,GAAW,OAAO7mE,KAAK8pB,cACvD,GAAY,SAARhY,EAAiB,CAC1B,GAAI9R,KAAKwS,KAAM,OAAOxS,KAAKwS,KAAKq0D,GAChC,GAAI7mE,KAAKgnE,aAAehnE,KAAKgnE,YAAYH,GAAW,OAAO7mE,KAAK8pB,SAGlE,GAAY,OAARhY,EACF+0D,EAAW7mE,KAAK0vD,kBACX,GAAY,UAAR59C,EACT+0D,EAAW7mE,KAAK2vD,iBACX,GAAY,MAAR79C,GAAwB,QAARA,GAA0B,QAARA,EAAgB,CAC3D,IAAIqhB,EAAWnzB,KAAKimD,aAAa4gB,GAC7BxgB,EAAe,QAARv0C,EAAiB,GAAK,EACjC+0D,EAAW7mE,KAAK8rB,aAAapS,KAAKgC,IAAI,EAAGyX,EAAWkzB,QAC/C,CAAA,GAAY,QAARv0C,GAA0B,SAARA,GAA2B,UAARA,EAQ9C,YADAhM,GAAO,EAAO,uCANd,IAAI8e,EAAS5kB,KAAKimD,aAAa4gB,GAE3BI,EAAgB,UAARn1D,EAAmB,GAAK,EAEpC+0D,EAAW7mE,KAAK8rB,aAAapS,KAAKwJ,IAAIljB,KAAK2R,QAAU,EAAGiT,EAASqiD,IAMnE,IAAI3nC,EAAc,MAARxtB,GAAwB,QAARA,GAA0B,UAARA,GAA4B,UAARA,GAAmB,EAAK,EAExF,GAAI9R,KAAKknE,cACPL,EAAW7mE,KAAKknE,WAAWL,EAAUhyB,EAAMvV,IAC5B,OAOjB,GAJAt/B,KAAKy8D,SAASoK,GACd7mE,KAAK09B,OAAOmpC,GACR7mE,KAAKmnE,YAAcnnE,KAAKmnE,WAAWN,IAAW7mE,KAAKonE,uBAAuBP,EAAU7mE,KAAKglD,YAAY6hB,KAEpG5/D,EAAO+6C,YAAuB,IAAVplC,EAAiB,CACxC,IAAIvS,EAAOrK,KAAKglD,YAAY6hB,GACxBx8D,GAAMA,EAAKuS,SAInB,OAAO,IAETyqD,kBAAmB,SAAU7lE,GAwB3B,OAtBIA,IAAUg7B,GAAU8qC,2BACtB9qC,GAAU8qC,0BAA2B,EAGrC9qC,GAAU6D,UAAU,KAAMrgC,KAAKymE,mBAAmB,OAClDjqC,GAAU6D,UAAU,OAAQrgC,KAAKymE,mBAAmB,SACpDjqC,GAAU6D,UAAU,QAASrgC,KAAKymE,mBAAmB,UACrDjqC,GAAU6D,UAAU,OAAQrgC,KAAKymE,mBAAmB,SACpDjqC,GAAU6D,UAAU,WAAYrgC,KAAKymE,mBAAmB,OACxDjqC,GAAU6D,UAAU,aAAcrgC,KAAKymE,mBAAmB,SAC1DjqC,GAAU6D,UAAU,cAAergC,KAAKymE,mBAAmB,UAC3DjqC,GAAU6D,UAAU,aAAcrgC,KAAKymE,mBAAmB,SAC1DjqC,GAAU6D,UAAU,gBAAiBrgC,KAAKymE,mBAAmB,OAC7DjqC,GAAU6D,UAAU,kBAAmBrgC,KAAKymE,mBAAmB,SAC/DjqC,GAAU6D,UAAU,mBAAoBrgC,KAAKymE,mBAAmB,UAChEjqC,GAAU6D,UAAU,kBAAmBrgC,KAAKymE,mBAAmB,SAC/DjqC,GAAU6D,UAAU,SAAUrgC,KAAKymE,mBAAmB,SACtDjqC,GAAU6D,UAAU,WAAYrgC,KAAKymE,mBAAmB,WACxDjqC,GAAU6D,UAAU,OAAQrgC,KAAKymE,mBAAmB,QACpDjqC,GAAU6D,UAAU,MAAOrgC,KAAKymE,mBAAmB,YAG9CjlE,IAMP+lE,GAAgB,CAClBv9D,MAAO,WACLhK,KAAKslB,OAAO/jB,KAAKvB,KAAKwnE,qBACtBxnE,KAAK6M,YAAY,oBAAqB7M,KAAKwnE,qBAC3CxnE,KAAK6M,YAAY,mBAAmB,WAC7B7M,KAAKynE,mBAAmBhmE,QAAQzB,KAAKwnE,0BAG9CA,oBAAqB,WACnB,IAAI95D,EAAQ1N,KAAKynE,mBAAqB,GAClCxgE,EAASjH,KAAKoN,UACdnG,EAAO6W,SAAS9d,KAAK0nE,gBAAgBzgE,EAAO6W,SAC5C9d,KAAKoN,UAAU9H,KAAKtF,KAAK2nE,mBAAmB1gE,EAAO3B,KAEnDoI,EAAMjM,SACRzB,KAAKkF,KAAK2nD,aAAe,SAAUxsD,GACjC,IAAK,IAAIK,EAAI,EAAGA,EAAIgN,EAAMjM,OAAQf,IAChCgN,EAAMhN,GAAGL,MAKjBsnE,mBAAoB,SAAUriE,GAC5B,IAAK,IAAI+L,KAAO/L,EACdtF,KAAKynE,mBAAmBlmE,KAAKvB,KAAK4nE,oBAAoBv2D,EAAK/L,EAAI+L,MAGnEu2D,oBAAqB,SAAU9/D,EAAQxC,EAAKyQ,GAC1C,IACI8xD,EADA5iE,EAASK,EAAIoF,QAAO,0BAA4B,IAepD,MAZe,KAAXzF,EACF4iE,EAAY,SAAU5+D,GACpB,OAAOA,EAAEnB,MAGiB,IAAxB7C,EAAO0H,QAAQ,OAAuC,IAAxB1H,EAAO0H,QAAQ,OAC/C1H,EAAS,IAAMA,EAAS,KAG1B4iE,EAAYx/C,GAASpjB,IAGO,IAA1BK,EAAIqH,QAAQ,WACVoJ,IAAUA,EAAMiuB,SAAQjuB,EAAMiuB,OAASz4B,EAAK+Y,eACzC,SAAUjkB,GACf,IAAIynE,GAAWD,EAAUxnE,IAAQ,IAAI8B,WACrC9B,EAAIyH,GAAUyD,EAAKw8D,gBAAgBD,KAEA,IAA5BxiE,EAAIqH,QAAQ,YACd,SAAUtM,GACfA,EAAIyH,GAA2B,EAAjB+/D,EAAUxnE,IAGnB,SAAUA,GACfA,EAAIyH,GAAU+/D,EAAUxnE,IAAQ,KAItCqnE,gBAAiB,SAAU5pD,GAEzB,IAAK,IAAIpd,EAAI,EAAGA,EAAIod,EAAQrc,OAAQf,IAAK,CACvC,IAAI6O,EAAMuO,EAAQpd,GAEb6O,EAAIrI,KACPqI,EAAIrI,GAAK,IAAMiD,IACVoF,EAAIyE,SAAQzE,EAAIyE,OAAS,KAG5BzE,EAAIjK,KAAKtF,KAAKynE,mBAAmBlmE,KAAKvB,KAAK4nE,oBAAoBr4D,EAAIrI,GAAIqI,EAAIjK,IAAKwY,EAAQpd,KAE5FV,KAAKgoE,aAAalqD,EAAQpd,MAG9BunE,mBAAoB,SAAU1zD,GAC5B,GAAuB,iBAAZA,EAAsB,CAC/B,IAAI2zD,EAAer5C,GAAGta,GAEjB2zD,EAOE3zD,EAAU2zD,GALf3zD,EAAU,IAAK1O,EAAI,kBAAT,CAA4B,CACpC4L,IAAK8C,IAGPvU,KAAKwwB,iBAAiBjvB,KAAKgT,IAGzBA,EAAQsnB,UACVtnB,EAAU2zD,EAAarsC,gBACpB,GAAuB,mBAAZtnB,GAA0BA,EAAQJ,OAElDI,EAAU,IAAK1O,EAAI,kBAAT,CAA4B,CACpC4L,IAAK8C,IAGPvU,KAAKwwB,iBAAiBjvB,KAAKgT,QACtB,IAAKA,EAAQy+C,SAAU,CAC5B,IAAIpoD,EAAQvC,EAAQkM,GAChBrP,EAAO,GAEX,GAAI0F,GAAiC,WAAxB3K,EAAQsU,EAAQ,IAAkB,CAE7C,IAAK,IAAI7T,EAAI,EAAGA,EAAI6T,EAAQ9S,OAAQf,IAClCwE,EAAK3D,KAAK,CACR2F,GAAIqN,EAAQ7T,GACZc,MAAO+S,EAAQ7T,KAInB6T,EAAUrP,OACL,IAAK0F,EAAO,CAEjB,IAAK,IAAIxJ,KAAMmT,EACbrP,EAAK3D,KAAK,CACR2F,GAAI9F,EACJI,MAAO+S,EAAQnT,KAInBmT,EAAUrP,EAIZqP,EAAU,IAAK1O,EAAI,kBAAT,CAA4B,CACpCX,KAAMqP,IAGRvU,KAAKwwB,iBAAiBjvB,KAAKgT,GAI7B,OAAOA,GAETyzD,aAAc,SAAU3jB,GACtB,IAAI9vC,EAAU8vC,EAAO9vC,SAAW8vC,EAAO8W,WAEnC5mD,IACFA,EAAUvU,KAAKioE,mBAAmB1zD,GAElCvU,KAAKmoE,iBAAiB5zD,EAAS8vC,IAG7BA,EAAOrwC,SACThU,KAAKooE,oBAAoB/jB,EAAOrwC,QAEhChU,KAAKooE,oBAAoB/jB,EAAO+e,UAGpCgF,oBAAqB,SAAU3nE,GAC7B,IAAImlB,EAAQ5lB,KAEZS,EAAMA,GAAO,GAkBb,IAhBA,IAAI4nE,EAAQ,SAAU3nE,GACpB,IAAIuG,EAASxG,EAAIC,GAEjB,GAAIuG,GAAUA,EAAOsN,QAAS,CAC5B,IAAIA,EAAUtN,EAAOsN,QAChBA,EAAQy+C,WAAUz+C,EAAUtN,EAAOsN,QAAUqR,EAAMqiD,mBAAmB1zD,IAC3E,IAAIrN,EAAKqN,EAAQrP,KAAK2H,YAAY,kBAAkB,WAC9C+Y,EAAM0iD,eAAe1iD,EAAM0iD,cAAcrhE,EAAO8kB,aAGtDnG,EAAM/Y,YAAY,cAAc,WACzB0H,EAAQlL,aAAakL,EAAQrP,KAAKsI,YAAYtG,QAKhDxG,EAAI,EAAGA,EAAID,EAAIgB,OAAQf,IAC9B2nE,EAAM3nE,IAGVynE,iBAAkB,SAAU5zD,EAAS8vC,GACnC,IAAIr+B,EAAShmB,KAEb,GAAIqkD,EAAQ,QACHA,EAAO9vC,QACd8vC,EAAO8W,WAAa5mD,EACpB8vC,EAAOx6B,SAAWw6B,EAAOx6B,UAAY7pB,KAAKuoE,eAAelkB,EAAOmkB,aAChE,IAAIthE,EAAKqN,EAAQrP,KAAK2H,YAAY,kBAAkB,WAClDmZ,EAAOmE,UAEHnE,EAAOsiD,eAAetiD,EAAOsiD,cAAcjkB,EAAOn9C,OAExDlH,KAAK6M,YAAY,cAAc,WACxB0H,EAAQlL,aAAakL,EAAQrP,KAAKsI,YAAYtG,QAIzDqhE,eAAgB,SAAU9S,GACxB,GAAIA,EAAO,CACT,IAAIgT,EAA6B,iBAAVhT,EAAqBA,EAAQ,IACpD,OAAO,SAAUp1D,EAAKyoB,EAAQtnB,EAAO6iD,GACnC,IAAK7iD,EAAO,MAAO,GAGnB,IAFA,IAAImwD,EAAMnwD,EAAMW,WAAW0N,MAAM44D,GAExB/nE,EAAI,EAAGA,EAAIixD,EAAIlwD,OAAQf,IAAK,CACnC,IAAIwE,EAAOm/C,EAAO8W,WAAWj2D,KAAKklB,KAAKunC,EAAIjxD,IAC3CixD,EAAIjxD,GAAKwE,GAAOA,EAAK1D,OAAc,GAGrC,OAAOmwD,EAAItqD,KAAK,OAGlB,OAAO,SAAUhH,EAAKyoB,EAAQtnB,EAAO6iD,GACnC,IAAIn/C,EAAOm/C,EAAO8W,WAAWj2D,KAAKklB,KAAK5oB,GACvC,OAAI0D,IAASA,EAAK1D,OAAwB,IAAf0D,EAAK1D,OAAqB0D,EAAK1D,MACnD,MAMXknE,GAAc,CAChB1+D,MAAO,SAAU/C,GACfA,EAASA,GAAU,GACnBjH,KAAK2oE,YAAc,EACnB3oE,KAAK4oE,eAAiBtqD,GAAIa,MAAQ,IAAM,IACxCnf,KAAK6oE,cAAgB,KAErB7oE,KAAK8oE,qBAAqB7hE,EAAO8hE,QAAS,YAE1C/oE,KAAK8oE,qBAAqB7hE,EAAO+hE,UAAW,cAE5ChpE,KAAK8oE,qBAAqB7hE,EAAOu2D,WAAY,eAE7Cx9D,KAAK8oE,qBAAqB7hE,EAAOgiE,YAAa,iBAG1CjpE,KAAKqyB,UAAU9F,GAAOvsB,KAAKkjC,YAAa,QAASljC,KAAKkpE,SAAU,CAClEzgE,KAAMzI,OAEJA,KAAK6/C,YAAYtzB,GAAOvsB,KAAKkjC,YAAa,cAAeljC,KAAKmpE,WAAY,CAC5E1gE,KAAMzI,OAEJA,KAAKopE,eAAeppE,KAAKqpE,sBAE/BA,mBAAoB,WACbrpE,KAAKspE,sBACRtpE,KAAKopE,cAAgBppE,KAAKopE,eAAiB,GAE3C78C,GAAOvsB,KAAKkjC,YAAa,YAAaljC,KAAKupE,SAAU,CACnD9gE,KAAMzI,OAGRusB,GAAOvsB,KAAKkjC,YAAa,WAAYljC,KAAKupE,SAAU,CAClD9gE,KAAMzI,OAGRA,KAAKspE,oBAAsB,EAC3BtpE,KAAK6M,YAAY,cAAc,WACzB7M,KAAKwpE,mBAAmBhnE,OAAOgyB,aAAax0B,KAAKwpE,wBAI3DV,qBAAsB,SAAU7hE,EAAQoK,GACtC,GAAIpK,EAAQ,CACV,IAAIwiD,EAAMzpD,KAAKqR,GACXg1C,EAAOoD,EAAM9pD,EAAQ8J,OAAO,GAAIggD,GAAO,GAC3CzpD,KAAKqR,GAAO1R,EAAQ8J,OAAO48C,EAAMp/C,KAIrCiiE,SAAU,SAAUnkE,GAClB,IAAI6gB,EAAQ5lB,KAEZ,IAAKA,KAAK6+B,YAAa,OAAO,EAI9B,GAFArC,GAAUpK,cAAcpyB,MAEpBA,KAAKypE,aAAezpE,KAAK0Y,OAAQ,CACnC,GAAI1Y,KAAK0pE,eAAiB1pE,KAAK6oE,cAAgB,IAAM7oE,KAAK0Y,OAAO3T,GAAK,GAGpE,OAFAyvB,aAAax0B,KAAK0pE,eAClB1pE,KAAK0pE,cAAgB,KACd1pE,KAAK2pE,YAAY5kE,GAG1B/E,KAAK6oE,cAAgB7oE,KAAK0Y,OAAO3T,GACjC/E,KAAK0pE,cAAgBxgE,GAAM,WAEzB,OADA0c,EAAM8jD,cAAgB,KACf9jD,EAAMgkD,YAAY7kE,EAAG6gB,EAAMikD,gBAAiB,qBAClD,KAAM,CAAC9kE,GAAI/E,KAAK4oE,gBAGrB,OAAO5oE,KAAK4pE,YAAY7kE,EAAG/E,KAAKqyB,SAAU,cAG5Cs3C,YAAa,SAAU5kE,GACrB,OAAO/E,KAAK4pE,YAAY7kE,EAAG/E,KAAKypE,YAAa,iBAG/CN,WAAY,SAAUpkE,GACpB/E,KAAK4pE,YAAY7kE,EAAG/E,KAAK6/C,WAAY,oBAAqB,qBAQ5D0pB,SAAU,SAAUO,GACd9pE,KAAKqJ,cACLiB,SAASy/D,oBACXD,EAAIx/D,SAASy/D,kBAAkBnvD,QAC7B5a,KAAKwpE,mBACPhnE,OAAOgyB,aAAax0B,KAAKwpE,mBAE3BxpE,KAAK8M,UAAU,gBAAiB,CAACg9D,IAEjC9pE,KAAKwpE,kBAAoBtgE,GAAM,SAAUnE,GAEzB,aAAVA,EAAET,KAAqBtE,KAAKgqE,aAAajlE,GAAQ/E,KAAKiqE,YAAYllE,KACrE/E,KAAM,CAAC8pE,GAAI9pE,KAAKoN,UAAU88D,iBAAmB,OAGlDF,aAAc,SAAUjlE,GACjB/E,KAAK4pE,YAAY7kE,EAAG/E,KAAKopE,cAAe,cAAcppE,KAAKiqE,YAAYllE,IAG9EklE,YAAa,SAAUllE,GACrB/E,KAAK8M,UAAU,aAAc,CAAC/H,KAGhC6kE,YAAa,SAAU7kE,EAAGqZ,EAAMxY,EAAMukE,GACpC,IAAIplE,EAAEimD,WAAchrD,KAAKgwB,SAAzB,CACAjrB,EAAEimD,WAAY,MACd,IAAIryC,EAAM5T,EAAE+C,OACRwT,EAAM,GACNpU,EAAK,KACLmL,GAAQ,EAGLsG,GAAOA,EAAIN,YAAcrY,KAAKgwB,UAAYrX,GAAO3Y,KAAKgwB,SAAS3X,YAAY,CAChF,IAAKhG,GAASsG,EAAI3J,eAEhB9H,EAAKyR,EAAI3J,aAAahP,KAAKg5D,MAEnB,CAEN,GAAIrgD,EAAI3J,aAAa,kBAEnB,YADAhP,KAAK6oE,cAAgB,MAMvB,GAFA7oE,KAAK6oE,cAAgB3hE,EAEjBlH,KAAK8M,UAAW,CAElB,IAAK9M,KAAK8M,UAAU,KAAOlH,EAAM,CAACsB,EAAInC,EAAG4T,IAAO,OAC5CwxD,GAAMnqE,KAAK8M,UAAU,KAAOq9D,EAAM,CAACjjE,EAAInC,EAAG4T,IAIhDtG,GAAQ,EAMZ,GAFAiJ,EAAMiB,GAAc5D,GAEhByF,GAAQ9C,EAAK,CACfA,EAAMA,EAAInZ,WAAW0N,MAAM,KAE3B,IAAK,IAAInP,EAAI,EAAGA,EAAI4a,EAAI7Z,OAAQf,IAC9B,GAAI0d,EAAK9C,EAAI5a,IAAK,CAGhB,IAAY,IAFE8J,EAAU4T,EAAK9C,EAAI5a,IAAKV,KAAKyM,QACzBrK,KAAKpC,KAAM+E,EAAGmC,GAAMwR,GAAO3T,EAAG/E,KAAKg5D,KAAMrgD,GACxC,OAAOtG,GAKhCsG,EAAMA,EAAIN,WAGZ,OAAOhG,KAQP+3D,GAAoB,CACtBpgE,MAAO,WACLhK,KAAKslB,OAAO/jB,MAAK,WACfvB,KAAK6M,YAAY,aAAc7M,KAAK+oC,iBAGxCshC,YAAa,SAAUvhE,EAAM/D,GAC3B,GAAa,KAAT+D,GAAwB,KAATA,EAAa,CAC9B0R,GAAazV,GAEb/E,KAAKsqE,aAAsB,KAATxhE,GAAc,EAAK,GAErC,IAAIuB,EAAOrK,KAAKuqE,UAAUrzC,cAAc,kBAEpC7sB,GAAMA,EAAKuS,UAGnB4tD,aAAc,WACZv/D,GAAOjL,KAAKuqE,WACZvqE,KAAKuqE,UAAYzyD,GAAO,MAAO,CAC7B0D,MAAS,mCAA0Cxb,KAAKoN,UAAUs5D,WAAWpiE,KAC7E0kC,KAAQ,WACP,IAEHhpC,KAAKgwB,SAAStY,YAAY1X,KAAKuqE,WAE/BvqE,KAAKyqE,kBAELzqE,KAAK0qE,oBAEL1qE,KAAK2qE,wBAEPA,qBAAsB,WACpB,IAAIrgC,EAAI,GACJtqC,KAAKuqE,YAAWjgC,EAAE,GAAK7d,GAAQzsB,KAAKuqE,UAAW,QAAS9hE,GAAK,SAAU1D,OACzE,IAAI8T,EAAO9T,EAAE+C,OACTuK,GAAQ,EAELwG,GAAQ7Y,KAAKuqE,YAAcl4D,GAAO,CACvC,IAAIu4D,EAAS/xD,EAAK7J,aAAahP,KAAK6qE,WAEhCD,IACFv4D,GAAQ,EAERrS,KAAK8qE,eAAeF,IAGtB/xD,EAAOA,EAAKR,cAEbrY,QACCA,KAAK+qE,iBAAgBzgC,EAAE,GAAK7d,GAAQzsB,KAAK+qE,eAAgB,QAAStiE,GAAK,WACzEzI,KAAKsqE,cAAa,KACjBtqE,QACCA,KAAKgrE,iBAAgB1gC,EAAE,GAAK7d,GAAQzsB,KAAKgrE,eAAgB,QAASviE,GAAK,WACzEzI,KAAKsqE,aAAa,KACjBtqE,QACHA,KAAK6M,YAAY,cAAc,WAC7B,IAAK,IAAInM,EAAI,EAAGA,EAAI4pC,EAAE7oC,OAAQf,IAC5BV,KAAKwN,YAAY88B,EAAE5pC,IAGrB4pC,EAAI,SAGRggC,aAAc,SAAUW,GACtB,GAAIjrE,KAAKi8B,OAAQ,CACf,IAAI9I,EAAWnzB,KAAKkrE,aAAeD,GAE/B93C,GAAYnzB,KAAKi8B,OAAOx6B,QAAU0xB,EAAW,KAC/CA,EAAWA,EAAW,EAAInzB,KAAKi8B,OAAOx6B,OAAS,EAAI,GAGrDzB,KAAKmrE,eAAeh4C,KAGxB23C,eAAgB,SAAU5jE,GACpBlH,KAAKi8B,QAAQpN,GAAG3nB,GAAIurB,QAE1Bg4C,gBAAiB,WACf,IAAIxtD,EAAMhW,EAGV,IAFAA,EAASjH,KAAKoN,UAAUs5D,YAEb0E,MAAO,CAChBprE,KAAK6qE,UAAY5jE,EAAOokE,UAExB,UACKrrE,KAAKuqE,UAAoCvqE,KAAKsrE,cAA9BtrE,KAAKwqE,eAC1B,IAAItlE,EAAOlF,KAAKi8B,OAASj8B,KAAKi8B,OAASj8B,KAAKkF,KAAKwyB,MAEjD,GAAIxyB,EAAKzD,OAAS,EAChB,IAAK,IAAIf,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,IAAK,CACpCuc,EAAOnF,GAAO,MAAO,CACnB0D,MAAS,6BAA+B9a,GAAKV,KAAKkrE,aAAe,SAAW,YAC5EliC,KAAQ,MACRuiC,SAAY7qE,GAAKV,KAAKkrE,aAAe,IAAM,OAE7C,IAAIhkE,EAAKlH,KAAKi8B,OAASj8B,KAAKi8B,OAAOv7B,GAAG0M,UAAUlG,GAAKhC,EAAKxE,GACtDwG,GAAI+V,EAAKxF,aAAazX,KAAK6qE,UAAW3jE,GAE1ClH,KAAKuqE,UAAU7yD,YAAYuF,MAKnCquD,YAAa,WACX,GAAItrE,KAAKuqE,UAGP,IAFA,IAAI95C,EAAOzwB,KAAKuqE,UAAUl6D,WAEjB3P,EAAI+vB,EAAKhvB,OAAS,EAAGf,GAAK,EAAGA,IACpCuK,GAAOwlB,EAAK/vB,KAIlBgqE,kBAAmB,WACjB,IAAIzjE,EAASjH,KAAKoN,UAAUs5D,WAExBz/D,EAAOqyB,UACLt5B,KAAK+qE,gBAAgB9/D,GAAOjL,KAAK+qE,gBACjC/qE,KAAK+qE,gBAAgB9/D,GAAOjL,KAAKgrE,gBACrChrE,KAAK+qE,eAAiBjzD,GAAO,MAAO,CAClC0D,MAAS,oBAAsBvU,EAAO3C,KAAO,2BAC5C,+CAAsDiH,EAAKigE,KAAKC,QAAU,2CAE7EzrE,KAAKgwB,SAAStY,YAAY1X,KAAK+qE,gBAE/B/qE,KAAKgrE,eAAiBlzD,GAAO,MAAO,CAClC0D,MAAS,oBAAsBvU,EAAO3C,KAAO,2BAC5C,+CAAsDiH,EAAKigE,KAAKC,QAAU,2CAE7EzrE,KAAKgwB,SAAStY,YAAY1X,KAAKgrE,mBAKjCU,GAAa,CACfC,YAAa,SAAUzlE,GAChBlG,KAAK4rE,SAMH5rE,KAAK4rE,SAASn1D,UAAYvQ,GAL/BlG,KAAK4rE,SAAW9zD,GAAO,MAAO,CAC5B0D,MAAS,iBACRtV,GAAW,IACdqS,GAAavY,KAAK4rE,SAAU5rE,KAAKgwB,SAAStf,WAAY1Q,KAAKgwB,UAC3DhwB,KAAKgwB,SAASxY,MAAM0Y,SAAW,aAGnC27C,YAAa,WACP7rE,KAAK4rE,WACP3gE,GAAOjL,KAAK4rE,UACZ5rE,KAAK4rE,SAAW,QAKlBE,GAAgB,CAClBC,aAAc,SAAUC,GACtB,GAAoB,iBAATA,EAAmB,CAC5B,IAAIC,EAAWp9C,GAAGm9C,GAElB,IAAKC,EAWH,OAVAjsE,KAAKkmD,cAAe,EACpBh9C,GAAM,WACJ,IAAI7I,EAAMwuB,GAAGm9C,GACbhsE,KAAKoN,UAAU4+D,MAAQhsE,KAAK+rE,aAAa1rE,GACzC,IAAIqjB,EAAIrjB,EAAI+M,UACZsW,EAAE/R,MAAQ3R,KAAKkF,KAAKgnE,mBAAmBxoD,EAAEs+C,OACzC3hE,EAAI8pB,UACJnqB,KAAKkmD,cAAe,EACpBlmD,KAAK8pB,WACJ9pB,MACI,KAGTgsE,EAAQC,EA6CV,OAfAjsE,KAAK6M,YAAY,2BA3BRs/D,EAAkBC,GAIzB,GAFIpsE,KAAKiH,OAAO0kB,WAAU3rB,KAAKiH,OAAO0kB,SAAW,GAE7CqgD,EAAM/kE,OAAOolE,UAAYrsE,KAAKssE,gBAAiB,CACjD,IAAI36D,EAAQ3R,KAAKssE,kBAEbthD,MAAMrZ,IACRq6D,EAAM/kE,OAAOD,KAAO,EACpBkC,EAAMijE,EAAmBnsE,KAAM,EAAC,KACvB2R,GAASq6D,EAAM/kE,OAAOD,OAC/BglE,EAAM/kE,OAAOD,KAAO2K,EACpBq6D,EAAM7hD,WACS,IAAXiiD,GAAiBpsE,KAAKmqB,WAI9B,IAAIzG,EAAI1jB,KAAKoN,UAAU4+D,MAEvB,OAAc,GAAVtoD,EAAE6oD,OACNvsE,KAAKkF,KAAKmoD,KAAOrtD,KAAKwsE,mBAAmB,EAAG9oD,EAAE6oD,KAAO7oD,EAAE1c,MAEvDhH,KAAKkF,KAAKqoD,KAAOvtD,KAAKwsE,mBAAmBxsE,KAAKkF,KAAKmoD,KAAM3pC,EAAE1c,MAC3DhH,KAAKkF,KAAKunE,UAAYzsE,KAAKkF,KAAKqoD,KAAOvtD,KAAKkF,KAAKmoD,MAC1C,MAKJ2e,EAAMnhD,QACTmhD,EAAMh3D,KAAO,QACbg3D,EAAQ39C,GAAG29C,IAGbhsE,KAAK0sE,OAASV,EACdA,EAAMW,QAAU3sE,KAChBA,KAAKkF,KAAK2H,YAAY,kBAAkB,WACtC,IAAI6W,EAAIsoD,EAAM5+D,UACdsW,EAAE/R,MAAQ3R,KAAKksE,mBAAmBxoD,EAAEs+C,OACpCgK,EAAM7hD,aAERnqB,KAAKkF,KAAKgnE,mBAAqBlsE,KAAKksE,mBAC7BF,EAAM5+D,WAEf8+D,mBAAoB,SAAUlK,GAC5B,GAAIA,GAAmB,IAAVA,EAAa,CACxB,IAAIrwD,EAAQ,EAIZ,OAHA3R,KAAKmL,MAAK,SAAU9K,GACdA,EAAIg4D,QAAU2J,GAAOrwD,OAEpBA,EACF,OAAO3R,KAAK2R,SAErB66D,mBAAoB,SAAU9vD,EAAO/K,GACnC,IAAI+R,EAAI1jB,KAAKoN,UAAU4+D,MAEvB,GAAItoD,EAAEs+C,OAAqB,IAAZt+C,EAAEs+C,MAAa,CAC5B,IAAIrlD,EAAMD,EACNhB,EAAM1b,KAAKkF,KAAKwyB,MAAMj2B,OAC1B,GAAIkQ,EAAK,KAASgL,EAAMjB,GAAK,CAC3B,GAAI1b,KAAKkF,KAAKwyB,MAAM/a,IAAQ3c,KAAKkF,KAAK4+B,QAAQ9jC,KAAKkF,KAAKwyB,MAAM/a,IAAM07C,QAAU30C,EAAEs+C,MAAO,CACrF,GAAc,IAAVrwD,EAAa,MAAWA,IAG9BgL,IAEF,OAAOA,EACF,OAAOD,EAAQ/K,GAExBi7D,QAAS,SAAUprE,GACbxB,KAAK0sE,QAAQ1sE,KAAK0sE,OAAOhvC,OAAOl8B,IAEtCqrE,QAAS,WACP,OAAO7sE,KAAK0sE,OAAOt/D,UAAUm/D,MAE/BO,SAAU,WACR,OAAO9sE,KAAK0sE,SAIZK,GAAc,CAChB/iE,MAAO,WACL,IAAI4b,EAAQ5lB,KAERgJ,EAAYhJ,KAAKgtE,YAAchtE,KAAK6M,cACtC7M,KAAK6M,YAAY,gBAAgB,WAC/B,OAAO+Y,EAAMqnD,kBAEfjtE,KAAK6M,YAAY,eAAe,WAC9B,OAAO+Y,EAAMsnD,kBAEfltE,KAAKgtE,UAAY,OAGrBC,aAAc,SAAUhmE,GAEtB,IAAI2S,EAEJ,IAAK5Z,KAAKgtE,UAAW,CAQnB,IAAIG,EAAuB,SAP3BlmE,EAAStH,EAAQ8J,OAAO,CACtBymB,SAAU,EACV9mB,MAAO,IACP9E,KAAM,OACNi4B,KAAM,WACN7H,MAAM,GACLztB,GAAU,IAAI,IACE3C,KAAiB2C,EAAOs1B,KAAO,cAAgB,GAalE,GAZAv8B,KAAKgtE,UAAYl1D,GAAO,MAAO,CAC7B0D,MAAS,kBAAoBvU,EAAO3C,KACpC0kC,KAAQ,cACR,gBAAiB,IACjB,gBAAiB,MACjBuiC,SAAY,KACX,oCAAsC4B,EAAQ,YAC5CntE,KAAKqvB,cAAarvB,KAAKgwB,SAASxY,MAAM0Y,SAAW,YACtD3X,GAAavY,KAAKgtE,UAAWhtE,KAAKgwB,SAAStf,WAAY1Q,KAAKgwB,UAE5DhwB,KAAKgwB,SAASvY,aAAa,YAAa,SAEnCzX,KAAKg3D,eACJh3D,KAAK0rB,eAAgB,CACvB,IAAID,EAASzrB,KAAK0rB,iBAEd1rB,KAAKgwB,SAASiE,aAAej0B,KAAKgoC,SACpChoC,KAAKgtE,UAAUx1D,MAAMgC,KAAOiS,EAAOxZ,EAAI,MAGrCjS,KAAKgwB,SAASuxC,cAAgBvhE,KAAKooC,UAClB,UAAfnhC,EAAO3C,KACTtE,KAAKgtE,UAAUx1D,MAAM+B,IAAMkS,EAAOhS,EAAI,KAEtCzZ,KAAKgtE,UAAUx1D,MAAM+B,IAAMkS,EAAOhS,EAAIzZ,KAAKooC,QAAUpoC,KAAKgtE,UAAUjzD,aAAe,MAM3F/Z,KAAKotE,kBAAmC,QAAfnmE,EAAO3C,KAGlC,GAAK2C,EAAL,CAEA,GAAIjH,KAAKotE,kBAAmB,CAC1B,IAAIl9C,EAAWjpB,EAAOipB,UAAY,EAE9BjpB,EAAOmC,QAETwQ,EAAQ5Z,KAAKgwB,SAAStf,WAAWmJ,YACjC7Z,KAAKgtE,UAAUt8D,WAAW8G,MAAM8G,GAAIuB,oBAAsB5Y,EAAOmC,MAAQ,MAI3EpJ,KAAKgtE,UAAUt8D,WAAW8G,MAAMoC,MAAmB,IAAXsW,EAAiB,IAM3D,OAHIlwB,KAAKqtE,gBAAgB74C,aAAax0B,KAAKqtE,gBACvCpmE,EAAOytB,OAAM10B,KAAKqtE,eAAiBnkE,EAAMlJ,KAAKktE,aAAcltE,KAAM,EAAC,GAAOiH,EAAOmC,QAE9EwQ,IAETszD,aAAc,SAAUzjB,GAClBzpD,KAAKgtE,YACHvjB,IAAQzpD,KAAKotE,mBACfniE,GAAOjL,KAAKgtE,WACZhtE,KAAKgtE,UAAY,KAEjBhtE,KAAKgwB,SAASyK,gBAAgB,cAE9Bz6B,KAAKitE,aAAa,CAChB/8C,SAAU,IACV9mB,MAAO,IACPsrB,MAAM,OAOZ44C,GAAc,CAChBtjE,MAAO,WACLlE,EAAO9F,KAAKkF,KAAM,mDAClBY,EAAOuiB,GAAU,0CAGjBroB,KAAKijC,MAAQ34B,SAASkM,cAAc,OACpCxW,KAAKkF,KAAK2H,YAAY,aAAcpE,EAAKzI,KAAKgtD,kBAAmBhtD,OACjEA,KAAK6M,YAAY,cAAe7M,KAAKutE,eAEhCvtE,KAAKsjB,QACRtjB,KAAKsjB,MAAQ,CACX0J,QAAWhtB,KAAKsE,MAElBtE,KAAKsE,KAAKsB,KAAO,WAGnB5F,KAAKsE,KAAOoD,EAAM1H,KAAKsE,OAEzBulC,UAAW,SAAUxpC,GACnBysB,GAAK9sB,KAAMK,IAEbmtE,YAAa,SAAUhsE,GACrB,OAAOxB,KAAKytE,YAAYjsE,IAE1BisE,YAAa,SAAUjsE,GAMrB,OALKxB,KAAKsjB,MAAM9hB,IACdxB,KAAKsE,KAAOoD,EAAM1H,KAAKsjB,MAAM9hB,IACzBxB,KAAKsE,KAAKgX,MAAKtb,KAAKkjC,YAAY/qB,WAAa,IAAMnY,KAAKsE,KAAKgX,MAF3Ctb,KAAK6pC,UAAUroC,GAInCxB,KAAKsE,KAAK+tB,UAAU1yB,EAAQ8J,OAAOzJ,KAAKqyB,SAAUryB,KAAKsE,KAAK+tB,UACzD7wB,GAET6oB,gBAAiB,SAAU7oB,GACzBxB,KAAKsE,KAAKulB,SAAWxB,GAAS7mB,IAGhCmoB,QAAS,SAAUtpB,GACjB,IAAIgV,EAAOrV,KAAKkF,KAAK+mD,OAAO5rD,EAAI6G,IAIhC,OAFApB,GAAQzF,EAAIqmD,WAAa1mD,KAAKsE,KAAK,WAAajE,EAAIqmD,WAAY,oCAAsCrmD,EAAIqmD,WAC1G1mD,KAAK8M,UAAU,eAAgB,CAACzM,IACzBL,KAAKsE,KAAKylC,cAAc1pC,EAAKL,KAAKsE,KAAM+Q,IAAShV,EAAIqmD,UAAY1mD,KAAKsE,KAAK,WAAajE,EAAIqmD,WAAa1mD,KAAKsE,KAAKulB,UAAUxpB,EAAKL,KAAKsE,KAAM+Q,GAAQrV,KAAKsE,KAAK0lC,YAAY3pC,EAAKL,KAAKsE,KAAM+Q,IAGpMq4D,cAAe,SAAUrtE,GAEvB,OADAL,KAAKijC,MAAMxsB,UAAYzW,KAAK2pB,QAAQtpB,GAC7BL,KAAKijC,MAAMvyB,YAEpBs8C,kBAAmB,SAAUpX,EAAK/gC,GAChC,IAAIxU,EAAML,KAAKglD,YAAYpP,GAEvBv1C,IACFA,EAAIoX,aAAazX,KAAKg5D,IAAKnkD,GAC3B7U,KAAK+iC,SAASluB,GAAS7U,KAAK+iC,SAAS6S,UAC9B51C,KAAK+iC,SAAS6S,KAIzB23B,cAAe,WACb,GAAIvtE,KAAKoN,UAAUiP,MAAO,CACxB,IAAIvT,EAAO0B,EAAUxK,KAAKoN,UAAUiP,MAAOrc,KAAKyM,QAC5C3D,GAAQA,EAAK1G,MAAM0G,EAAKF,MAAM5I,KAAMsG,aAK5C0+C,YAAa,SAAU2oB,GACrB,GAAI3tE,KAAK+iC,SAAU,OAAO/iC,KAAK+iC,SAAS4qC,GAExC3tE,KAAK+iC,SAAW,GAGhB,IAFA,IAAIx1B,EAAIvN,KAAKiqB,SAAS5Z,WAEb3P,EAAI,EAAGA,EAAI6M,EAAE9L,OAAQf,IAAK,CACjC,IAAIwG,EAAKqG,EAAE7M,GAAGsO,aAAahP,KAAKg5D,KAE5B9xD,IAAIlH,KAAK+iC,SAAS77B,GAAMqG,EAAE7M,IAIhC,OAAOV,KAAKglD,YAAY2oB,IAG1Bj1D,OAAQ,SAAU3T,GAChB,OAAO2T,GAAO3T,EAAG/E,KAAKg5D,MAIxByD,SAAU,SAAUv1D,GAClB,IAAI8Q,EAAOhY,KAAKglD,YAAY99C,GAE5B,GAAI8Q,GAAQhY,KAAKksB,SAAU,CACzB,IAAI0hD,EAAQ51D,EAAK2nD,WACbkO,EAAQD,EAAQ51D,EAAK6B,YACrBi0D,EAAQ91D,EAAK4nD,UACbmO,EAAQD,EAAQ91D,EAAK+B,aACrBvW,EAAQxD,KAAK0rB,iBACbzZ,EAAIzO,EAAMyO,GACVA,EAAI27D,GAAS37D,EAAIjS,KAAKioC,eAAiB4lC,KAAO57D,EAAI27D,GACtD,IAAIn0D,EAAIjW,EAAMiW,GACVA,EAAIq0D,GAASr0D,EAAIzZ,KAAKqoC,gBAAkB0lC,KAAOt0D,EAAIq0D,GACvD9tE,KAAKksB,SAASja,EAAGwH,GACbzZ,KAAKguE,gBAAgBhuE,KAAKguE,eAAe9mE,KAMjD4iB,OAAQ,SAAU5iB,EAAIhC,EAAM4kC,GAC1B,GAAK9pC,KAAKgqB,UAAUhqB,KAAKoN,UAAUlG,MAAOlH,KAAKkmD,aAE/C,GAAIh/C,EAAI,CACN,IAAI+mE,EAAOjuE,KAAKglD,YAAY99C,GAE5B,OAAQ4iC,GACN,IAAK,QACL,IAAK,SAEH,IAAKmkC,EAAM,OAIX11D,GAFSvY,KAAK+iC,SAAS77B,GAAMlH,KAAK0tE,cAAcxoE,GAE/B+oE,GACjBhjE,GAAOgjE,GACP,MAEF,IAAK,SAEH,IAAKA,EAAM,OACXhjE,GAAOgjE,UACAjuE,KAAK+iC,SAAS77B,GACrB,MAEF,IAAK,MAIHqR,GAFSvY,KAAK+iC,SAAS77B,GAAMlH,KAAK0tE,cAAcxoE,GAE/BlF,KAAKglD,YAAYhlD,KAAKkF,KAAKuqD,UAAUvoD,IAAMlH,KAAKiqB,UACjE,MAEF,IAAK,OAEH1R,GAAavY,KAAKglD,YAAY99C,GAAKlH,KAAKglD,YAAYhlD,KAAKkF,KAAKuqD,UAAUvoD,IAAMlH,KAAKiqB,UACnF,cAGAnkB,EAAO,EAAG,2BAA6BgkC,SAKvC9pC,KAAK8M,UAAU,iBAAkB,CAAC9M,KAAKkF,UAExClF,KAAKkuE,YAAcluE,KAAKiqB,UAAUxT,UAAYzW,KAAKkF,KAAKioD,WAAW7nD,IAAItF,KAAK2pB,QAAS3pB,MAAMqH,KAAK,IACjGrH,KAAK+iC,SAAW,KAEhB/iC,KAAK8M,UAAU,gBAAiB,OAMpCqhE,GAAa,CACfnkE,MAAO,SAAU/C,GAEf,GAAIA,IAAWA,EAAOwkB,QAAUzrB,KAAKouE,iBAAkB,OAAOpuE,KAAKiqB,SAAWjqB,KAAKiqB,UAAYjqB,KAAKkjC,aAEnGljC,KAAKiqB,UAAYjqB,KAAKkjC,aAAaxrB,YAAYI,GAAO,MAAO,CAC5D0D,MAAS,qBACR,KAEHxb,KAAKiqB,UAAYjqB,KAAKiqB,UAAYjqB,KAAKkjC,aAAaxyB,WAChD1Q,KAAK8M,YAAc9M,KAAK40C,aAAaroB,GAAOvsB,KAAKgwB,SAAU,UAAU,WACvE9mB,GAAM,WACJlJ,KAAK8M,UAAU,gBAAiB,MAC/B9M,QACF,CACDyI,KAAMzI,QAGVquE,cAAe,SAAU7sE,GACvB,IAAKA,EAAO,OAAO,EACnB,IAAI8sE,EAAiB,SAAV9sE,EACP+9B,EAAkB,KAAT/9B,EAAe,IAAe,MAATA,GAAuB8sE,EAAP,KAAqB,IACnEhwD,GAAIiwD,eAAe3pB,GAAOxd,OAAOpnC,KAAMu/B,GAC3C,IAAI/nB,EAAQxX,KAAKiqB,SAAS5R,WAAWb,MAgBrC,OAdI82D,IAAShwD,GAAIiwD,cACf/2D,EAAMg3D,UAAYh3D,EAAMi3D,UAAY,SAER,IAAxBlvC,EAAO5yB,QAAQ,OACjB3M,KAAKsoC,WAAY,EACjB9wB,EAAMg3D,UAAY,WAGQ,IAAxBjvC,EAAO5yB,QAAQ,OACjB3M,KAAKkoC,WAAY,EACjB1wB,EAAMi3D,UAAY,WAIflvC,GAETmvC,cAAe,SAAU58D,EAAMwtB,GAC7B,KAAMt/B,KAAKoN,UAAUqe,UAAY3Z,EAAjC,CAEA,IAAKwM,GAAIiwD,cACKvuE,KAAKiqB,SAAS5R,WAAWb,MACvB,MAAR8nB,EAAc,YAAc,aAAextB,EAAO,OAAS,SAGvD,MAARwtB,EACFt/B,KAAKsoC,UAAYx2B,EAEjB9R,KAAKkoC,UAAYp2B,EAGnB9R,KAAKoN,UAAUqe,SAAS3Z,GAAOwtB,IAEjC5T,eAAgB,WACd,MAAO,CACLzZ,EAAGjS,KAAKiqB,SAAS5R,WAAWc,WAC5BM,EAAGzZ,KAAKiqB,SAAS5R,WAAWY,YAGhCiT,SAAU,SAAUja,EAAGwH,GACrBzZ,KAAKiqB,SAAS5R,WAAWc,WAAalH,EACtCjS,KAAKiqB,SAAS5R,WAAWY,UAAYQ,IAerCk1D,GAAiB,CACnB3kE,MAAO,WAELhK,KAAKiiD,UAAYt3C,IACjB7E,EAAO9F,KAAKkF,KAAM,sDAElBlF,KAAKkF,KAAK2H,YAAY,iBAAkBpE,EAAKzI,KAAK4uE,cAAe5uE,OACjEA,KAAKkF,KAAK2H,YAAY,cAAepE,EAAKzI,KAAK6uE,aAAc7uE,OAC7DA,KAAKkF,KAAK2H,YAAY,gBAAiBpE,EAAKzI,KAAK8uE,eAAgB9uE,OACjEA,KAAKkF,KAAK2H,YAAY,cAAepE,EAAKzI,KAAK+uE,cAAe/uE,OAC9DA,KAAKkF,KAAK2H,YAAY,aAAcpE,EAAKzI,KAAKgvE,YAAahvE,OAC3DA,KAAKslB,OAAO/jB,KAAKvB,KAAKivE,gBAExBA,cAAe,YACgB,eAAzBjvE,KAAKoN,UAAUswB,QAA2B19B,KAAKoN,UAAUgwD,aAAwC,QAAzBp9D,KAAKoN,UAAUswB,SAAkBnR,GAAOvsB,KAAK6qB,MAAO,aAAa,SAAU9lB,GACrJ,GAAIA,EAAE46B,UAAYrhB,GAAIe,MAAQta,EAAEg8B,QAAS,CACvC,IAAI12B,EAAOiU,GAAIe,KAAO/U,SAASyO,KAAO/Y,KACtCktB,GAAMc,kBAAoB3jB,EAC1B6Q,GAAO7Q,EAAM,kBAAkB,QAIrC2kE,YAAa,SAAUprC,EAAO/uB,GAC5B,IAAK,IAAInU,EAAIV,KAAKiiD,UAAUxgD,OAAS,EAAGf,GAAK,EAAGA,IAC1CV,KAAKiiD,UAAUvhD,IAAMkjC,IAAO5jC,KAAKiiD,UAAUvhD,GAAKmU,IAGxDi6D,eAAgB,WACd,IAAK,IAAIpuE,EAAIV,KAAKiiD,UAAUxgD,OAAS,EAAGf,GAAK,EAAGA,IAC9C,GAAIV,KAAKkF,KAAK+gD,aAAajmD,KAAKiiD,UAAUvhD,IAAM,EAAG,CACjD,IAAIwG,EAAKlH,KAAKiiD,UAAUvhD,GACxBV,KAAKob,UAAUlU,EAAI,kBAAkB,GAErClH,KAAKiiD,UAAUj3C,OAAOtK,EAAG,GAEzBV,KAAK8M,UAAU,iBAAkB,CAAC5F,MAKxC0nE,cAAe,SAAU1nE,EAAI7G,EAAKiE,GACpB,UAARA,EAEEtE,KAAKkvE,WAEPlvE,KAAK+uE,gBACA/uE,KAAKiiD,UAAUh3C,OAAO/D,GACnBA,GAAOlH,KAAKkF,KAAKyM,SAAY3R,KAAKkF,KAAKgnD,eAAkBlsD,KAAKkF,KAAKwpD,iBAE7E1uD,KAAKiiD,UAAYt3C,MAGrBkkE,aAAc,WACR7uE,KAAKoN,UAAUswB,QAAQ19B,KAAKkF,KAAKiG,MAAK,SAAU9K,GAC9CA,GAAOA,EAAI8uE,WAAWnvE,KAAK09B,OAAOr9B,EAAI6G,MACzClH,OAEL+uE,cAAe,WACb,IAAK,IAAIruE,EAAIV,KAAKiiD,UAAUxgD,OAAS,EAAGf,GAAK,EAAGA,IACzCV,KAAKurD,OAAOvrD,KAAKiiD,UAAUvhD,KAAKV,KAAKiiD,UAAUj3C,OAAOtK,EAAG,IAIlE0uE,aAAc,SAAUloE,EAAIq6B,EAAUpX,EAASklD,GAC7C,IAAIC,EAAQ/tC,EAAW,iBAAmB,mBAC1C,IAAKvhC,KAAK8M,UAAUwiE,EAAO,CAACpoE,EAAIq6B,IAAY,OAAO,EAE/C8tC,IACFrvE,KAAKuvE,mBAAoB,EACzBvvE,KAAKwvE,cACLxvE,KAAKuvE,mBAAoB,GAGvBhuC,EAAUvhC,KAAKkb,OAAOhU,EAAI,kBAAkB,GAAWlH,KAAKob,UAAUlU,EAAI,kBAAkB,GAC5FijB,EAASA,EAAQ5oB,KAAK2F,IAElBq6B,EAAUvhC,KAAKiiD,UAAU1gD,KAAK2F,GAC7BlH,KAAKiiD,UAAUh3C,OAAO/D,GAE3BlH,KAAKyvE,mBAAmBvoE,IAG5B,IAAIwoE,EAAQnuC,EAAW,gBAAkB,kBAEzC,OADAvhC,KAAK8M,UAAU4iE,EAAO,CAACxoE,KAChB,GAGTw2B,OAAQ,SAAUx2B,EAAIspD,GACpB,IAAIzvB,EAAUz6B,UAAU,GACpBq5B,EAAWr5B,UAAU,GAEzB,IAAKY,EAAI,OAAOlH,KAAK2vE,YAErB,GAAItnE,EAAQnB,GACV,IAAK,IAAIxG,EAAI,EAAGA,EAAIwG,EAAGzF,OAAQf,IAC7BV,KAAK09B,OAAOx2B,EAAGxG,GAAIA,EAAI,EAAI8vD,EAAUzvB,EAASpB,OAFlD,CAUA,GAFA75B,EAAO9F,KAAKkF,KAAKqmD,OAAOrkD,GAAK,mCAAqCA,GAE9Dy4B,GAAY3/B,KAAKiiD,UAAUxgD,OAAQ,OAAOzB,KAAK2vE,UAAU3vE,KAAKiiD,UAAUjiD,KAAKiiD,UAAUxgD,OAAS,GAAIyF,GAExG,IAAImoE,GAAgB,EACftuC,GAAYyvB,GAAsC,GAAzBxwD,KAAKiiD,UAAUxgD,QAAezB,KAAKiiD,UAAU,IAAM/6C,IAAKmoE,GAAgB,GAEjGA,IAAiBrvE,KAAK4vE,WAAW1oE,GAMtClH,KAAKovE,aAAaloE,GAAI,EAAM,KAAMmoE,GAL5BtuC,GAAS/gC,KAAKq2D,SAASnvD,KAQ/BmvD,SAAU,SAAUnvD,GAElB,IAAKA,EAAI,OAAOlH,KAAKwvE,cAChBxvE,KAAK4vE,WAAW1oE,IAErBlH,KAAKovE,aAAaloE,GAAI,IAGxByoE,UAAW,SAAUttE,EAAM+qD,GACzB,IACIjjC,EAAU,IACV9nB,GAAQ+qD,EAAYptD,KAAKkF,KAAKioD,SAAS9qD,GAAQ,KAAM+qD,GAAM,MAClDptD,KAAKkF,KAAKioD,YAGjBhiD,MAAK,SAAU9K,GACdL,KAAKkF,KAAKigD,QAAQ9kD,EAAI6G,GAAI,oBAC7BlH,KAAKiiD,UAAU1gD,KAAKlB,EAAI6G,IAExBlH,KAAKovE,aAAa/uE,EAAI6G,IAAI,EAAMijB,MAEjCnqB,MAEHA,KAAKyvE,mBAAmBtlD,IAG1BqlD,YAAa,WACX,IAAIrlD,EAAU,GAEdnqB,KAAKiiD,UAAU92C,MAAK,SAAUjE,GAC5BlH,KAAKovE,aAAaloE,GAAI,EAAOijB,KAE5BnqB,MAEHA,KAAKiiD,UAAYt3C,IAEjB3K,KAAKyvE,mBAAmBtlD,IAI1BylD,WAAY,SAAU1oE,GACpB,OAAkC,GAA3BlH,KAAKiiD,UAAU/2C,KAAKhE,IAS7Bs8B,cAAe,SAAUqsC,GACvB,OAAQ7vE,KAAKiiD,UAAUxgD,QACrB,KAAK,EACH,OAAOouE,EAAW,GAAK,GAEzB,KAAK,EACH,OAAOA,EAAW,CAAC7vE,KAAKiiD,UAAU,IAAMjiD,KAAKiiD,UAAU,WAGvD,MAAO,GAAGzrB,OAAOx2B,KAAKiiD,aAI5B6tB,gBAAiB,SAAUD,GACzB,IAAItsC,EAAMvjC,KAAKwjC,eAAc,GAE7B,GAAID,EAAI9hC,OAAS,GAAKouE,EAAU,CAC9B,IAAK,IAAInvE,EAAI6iC,EAAI9hC,OAAS,EAAGf,GAAK,EAAGA,IACnC6iC,EAAI7iC,GAAKV,KAAK8jC,QAAQP,EAAI7iC,IAG5B,OAAO6iC,EACF,GAAIA,EAAI9hC,OAAQ,OAAOzB,KAAK8jC,QAAQP,EAAI,KAGjDwsC,mBAAoB,SAAU1vE,GAE5B,OAAOA,EAAIoB,OAAS,KAAOpB,EAAIoB,OAASzB,KAAKkF,KAAKyM,MAAQ,GAE5D89D,mBAAoB,SAAUtlD,GAE5B,GADwB,UAApBlqB,EAAQkqB,KAAsBA,EAAU,CAACA,IACxCA,EAAQ1oB,OAAb,CAEA,GAAIzB,KAAK+vE,mBAAmB5lD,GAAUnqB,KAAKkF,KAAKilB,eAC3C,IAAK,IAAIzpB,EAAI,EAAGA,EAAIypB,EAAQ1oB,OAAQf,IAErCV,KAAK8pB,OAAOK,EAAQzpB,GAAIV,KAAKkF,KAAK4+B,QAAQ3Z,EAAQzpB,IAAK,UAEtDV,KAAKuvE,mBAAmBvvE,KAAK8M,UAAU,iBAAkB,CAACqd,OAGnE6L,IAAM,WACJvJ,GAAQniB,SAASyO,KAAM,WAAW,WAC5BmU,GAAMc,oBACR5S,GAAU8R,GAAMc,kBAAmB,kBACnCd,GAAMc,kBAAoB,YAKhC,IAAIgiD,GAAQ,CACVC,OAAQ,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACpFC,MAAO,SAAUC,EAAQ1uE,GACvB0uE,EAAS9xD,SAAS8xD,EAAQ,QAC1B,IAAIvpE,EAAM,GAEHupE,EAAS,GACdvpE,EAAM5G,KAAKiwE,OAAOE,EAAS,IAAMvpE,EACjCupE,EAASz2D,KAAKqgB,MAAMo2C,EAAS,SAGxBvpE,EAAInF,OAASA,GAClBmF,EAAM,IAAMA,EAGd,OAAOA,GAETwpE,SAAU,SAAUC,GAClB,IAAI5vE,EAAM,GAKV,MAJmB,iBAAR4vE,EAAkBA,EAAI3lE,QAAO,YAAa,SAAUhH,GAC7DjD,EAAIc,KAAK0pB,WAAWvnB,OACV2E,EAAQgoE,KAAM5vE,EAAM4vE,GAEjB,IAAX5vE,EAAI,GAAiB,GAClBA,EAAI4oB,MAAM,EAAG,GAAG/jB,KAAI,SAAUme,GACnC,OAAOusD,GAAME,MAAMx2D,KAAKqgB,MAAMtW,GAAI,MACjCpc,KAAK,KAEVipE,SAAU,SAAUC,GAClB,OAAOlyD,SAASkyD,EAAK,KAEvBC,MAAO,SAAUH,GACf,IAAI9qE,EAAGk7D,EAAG5yD,EAAG4iE,EA2Bb,MAzBkB,iBAAPJ,GACT9qE,EAAI8qE,EAAI,GACR5P,EAAI4P,EAAI,GACRxiE,EAAIwiE,EAAI,KACuB,GAAtBA,EAAI1jE,QAAQ,QAErBpH,GADAkrE,EAASJ,EAAIzjE,OAAOyjE,EAAI1jE,QAAQ,KAAO,EAAG0jE,EAAIK,YAAY,KAAOL,EAAI1jE,QAAQ,KAAO,GAAGkD,MAAM,MAClF,GACX4wD,EAAIgQ,EAAO,GACX5iE,EAAI4iE,EAAO,KAEa,KAApBJ,EAAIzjE,OAAO,EAAG,KAChByjE,EAAMA,EAAIzjE,OAAO,IAGnBrH,EAAIvF,KAAKswE,SAASD,EAAIzjE,OAAO,EAAG,IAChC6zD,EAAIzgE,KAAKswE,SAASD,EAAIzjE,OAAO,EAAG,IAChCiB,EAAI7N,KAAKswE,SAASD,EAAIzjE,OAAO,EAAG,OAGlCrH,EAAI8Y,SAAS9Y,EAAG,KAAO,GAGf,GAAKA,EAAI,OAAKA,EAAI,KAF1Bk7D,EAAIpiD,SAASoiD,EAAG,KAAO,GAGf,GAAKA,EAAI,OAAKA,EAAI,KAF1B5yD,EAAIwQ,SAASxQ,EAAG,KAAO,GAGf,GAAKA,EAAI,OAAKA,EAAI,GACnB,CAACtI,EAAGk7D,EAAG5yD,IAEhB8iE,SAAU,SAAUrmC,EAAG5mB,EAAGhgB,GACxB,IAAIktE,EAAIjpE,EAAGpD,EAAGssE,EAAGtjE,EAAGhI,EAAGk7D,EAAG5yD,EAU1B,OAPAtJ,EAAIb,GAAK,EAAIggB,GACbmtD,EAAIntE,GAAK,GAFTiE,EAAI2iC,EAAI,IADRsmC,EAAKl3D,KAAKqgB,MAAMuQ,EAAI,IAAM,IAGT5mB,GACjBnW,EAAI7J,GAAK,GAAK,EAAIiE,GAAK+b,GACvBne,EAAI,EACJk7D,EAAI,EACJ5yD,EAAI,EAEI+iE,GACN,KAAK,EACHrrE,EAAI7B,EACJ+8D,EAAIlzD,EACJM,EAAItJ,EACJ,MAEF,KAAK,EACHgB,EAAIsrE,EACJpQ,EAAI/8D,EACJmK,EAAItJ,EACJ,MAEF,KAAK,EACHgB,EAAIhB,EACJk8D,EAAI/8D,EACJmK,EAAIN,EACJ,MAEF,KAAK,EACHhI,EAAIhB,EACJk8D,EAAIoQ,EACJhjE,EAAInK,EACJ,MAEF,KAAK,EACH6B,EAAIgI,EACJkzD,EAAIl8D,EACJsJ,EAAInK,EACJ,MAEF,KAAK,EACH6B,EAAI7B,EACJ+8D,EAAIl8D,EACJsJ,EAAIgjE,EAUR,MAAO,CAHPtrE,EAAImU,KAAKqgB,MAAU,IAAJx0B,GACfk7D,EAAI/mD,KAAKqgB,MAAU,IAAJ0mC,GACf5yD,EAAI6L,KAAKqgB,MAAU,IAAJlsB,KAGjBijE,SAAU,SAAUvrE,EAAGk7D,EAAG5yD,GACxB,IAAIkjE,EAAIC,EAAIC,EAAIC,EAAMC,EAAS7mC,EAsB/B,OArBAymC,EAAKxrE,EAAI,IACTyrE,EAAKvQ,EAAI,IACTwQ,EAAKpjE,EAAI,IACTqjE,EAAOx3D,KAAKwJ,IAAI6tD,EAAIC,EAAIC,GAExB3mC,EAAI,GADJ6mC,EAAOz3D,KAAKgC,IAAIq1D,EAAIC,EAAIC,KAKZC,EACV5mC,EAAI,EACK6mC,GAAQJ,GAAMC,GAAMC,EAC7B3mC,EAAI,IAAM0mC,EAAKC,IAAOE,EAAOD,GAAQ,EAC5BC,GAAQJ,GAAMC,EAAKC,EAC5B3mC,EAAI,IAAM0mC,EAAKC,IAAOE,EAAOD,GAAQ,IAC5BC,GAAQH,EACjB1mC,EAAI,IAAM2mC,EAAKF,IAAOI,EAAOD,GAAQ,IAC5BC,GAAQF,IACjB3mC,EAAI,IAAMymC,EAAKC,IAAOG,EAAOD,GAAQ,KAGhC,CAAC5mC,EAfK,IAAT6mC,EAAa,EAAI,EAAID,EAAOC,EAC5BA,cAkBCC,GAAer5D,GACtB,IAAIpM,EAAS,IACb,GAAIoM,EAAO,IAAK,IAAI9O,KAAK8O,EACvBpM,GAAU1C,EAAI,KAAQ8O,EAAM9O,GAAK,KAEnC,OAAO0C,EAIT,IAAI0lE,GAAM,CAEVA,KAAW,SAAUn0D,EAAStD,EAAOE,EAAQwB,GAS3C,MAAO,QAAU81D,GARL,CACVE,MAAO,6BACPC,QAAS,MACTz3D,OAAQ,OACRF,MAAO,OACP43D,QAAS,OAAS53D,EAAQ,IAAME,EAChC0B,MAASF,GAAO,KAEuB,IAAM4B,EAAU,UAG3Dm0D,SAAe,CACbI,UAAa,SACb1V,MAAS,QAGXsV,MAAY,SAAUniE,GACpB,MAAO,MAAQA,EAAO,SAGxBmiE,GAAIK,UAAY,CAEdC,EAAK,SAAUptE,GACb,MAAO,MAAQA,EAAE0N,EAAI,IAAM1N,EAAEkV,GAG/Bm4D,EAAK,SAAUrtE,GACb,MAAO,MAAQA,EAAE0N,EAAI,IAAM1N,EAAEkV,GAG/Bo4D,EAAK,SAAUC,EAAKC,EAAKxtE,GACvB,MAAO,MAAQutE,EAAI7/D,EAAI,IAAM6/D,EAAIr4D,EAAI,IAAMs4D,EAAI9/D,EAAI,IAAM8/D,EAAIt4D,EAAI,IAAMlV,EAAE0N,EAAI,IAAM1N,EAAEkV,GAGvFu4D,EAAK,SAAUztE,EAAG0tE,EAAQC,EAAQC,GAChC,IAAIlgE,EAAI1N,EAAE0N,EAAIyH,KAAKisD,IAAIwM,GAAUF,EAC7Bx4D,EAAIlV,EAAEkV,EAAIC,KAAKksD,IAAIuM,GAAUF,EAEjC,MAAO,MAAQA,EAAS,IAAMA,EAAS,OADvBE,EAASD,GAAUx4D,KAAKgsD,GACoB,EAAI,GAAK,MAAQzzD,EAAI,IAAMwH,IAI3F43D,GAAIe,WAAa,SAAUtN,EAAQ5oC,GAGjC,IAFA,IAAIhtB,EAAO,GAEFxO,EAAI,EAAGA,EAAIokE,EAAOrjE,OAAQf,IAAK,CACtCoF,EAAOg/D,EAAOpkE,GAAG,IAA6B,iBAAhBokE,EAAOpkE,GAAG,GAAgB,8BACxD,IAAI4D,EAAOwgE,EAAOpkE,GAAG,GAAG2xE,cACxBvsE,EAAO9F,KAAK0xE,UAAUptE,GAAO,uBAC7B4K,GAAQlP,KAAK0xE,UAAUptE,GAAMsE,MAAM5I,KAAM8kE,EAAOpkE,GAAG2oB,MAAM,IAI3D,OADI6S,IAAOhtB,GAAQ,MACZA,GAGTmiE,GAAIiB,YAAc,SAAUxN,GAG1B,IAFA,IAAIn5D,EAAS,GAEJjL,EAAI,EAAGA,EAAIokE,EAAOrjE,OAAQf,IACjCiL,EAAOpK,KAAK,CAACb,EAAI,IAAM,IAAKokE,EAAOpkE,KAGrC,OAAOiL,GAGT0lE,GAAIkB,WAAa,SAAUC,EAAUC,GACnC,IAAIC,EAAW1C,GAAMQ,MAAMgC,GAE3B,OADAE,EAASnxE,KAAKkxE,GACP,QAAUC,EAASrrE,KAAK,KAAO,KAGxCgqE,GAAIsB,aAAe,SAAU7N,GAG3B,IAFA,IAAIn5D,EAAS,GAEJjL,EAAI,EAAGA,EAAIokE,EAAOrjE,OAAQf,IAAK,CACtC,IAAI6D,EAAIugE,EAAOpkE,GAEVA,GACHiL,EAAOpK,KAAK,CAAC,IAAKgD,EAAE,KAGtBoH,EAAOpK,KAAK,CAAC,IAAKgD,EAAE,GAAIA,EAAE,GAAIA,EAAE,KAGlC,OAAOoH,GAGT0lE,GAAIuB,QAAU,SAAU1jE,EAAMoM,EAAKvD,GAEjC,MAAO,gBAAmBuD,EAAM,2CAAiDpM,EAAO,MADxF6I,EAAQq5D,GAAer5D,IACiF,MAG1Gs5D,GAAIwB,UAAY,SAAUtuE,EAAG0tE,EAAQC,EAAQC,EAAQ72D,EAAKvD,GACxDA,EAAQq5D,GAAer5D,GACvB,IAEIopC,EAAQ,CAAC,CAAC,IAAK58C,GAAI,CAAC,IAAK,CAC3B0N,EAHO1N,EAAE0N,EAAIyH,KAAKisD,IAAIuM,GAAUD,EAIhCx4D,EAHOlV,EAAEkV,EAAIC,KAAKksD,IAAIsM,GAAUD,IAI9B,CAAC,IAAK1tE,EAAG0tE,EAAQC,EAAQC,GAAS,CAAC,IAAK5tE,IAC5C,MAAO,gBAAmB+W,EAAM,2CAAiD+1D,GAAIe,WAAWjxB,GAAO,GAAQ,KAAQppC,EAAQ,MAGjIs5D,GAAIyB,SAAW,SAAUhO,EAAQxpD,EAAKvD,GAGpC,OAFAA,EAAQq5D,GAAer5D,GAEhB,4BAAiCuD,EAAM,2CADnCtb,KAAKoyE,WAAWpyE,KAAK2yE,aAAa7N,IACyD,KAAQ/sD,EAAQ,MAGxHs5D,GAAI0B,QAAU,SAAUC,EAAIC,EAAI33D,EAAKvD,GACnC,OAAO/X,KAAK4yE,QAAQ5yE,KAAKoyE,WAAWpyE,KAAKsyE,YAAY,CAACU,EAAIC,KAAM,GAAO33D,EAAKvD,IAG9Es5D,GAAI6B,UAAY,SAAU3uE,EAAG0tE,EAAQ32D,EAAKvD,GAExC,OADAA,EAAQq5D,GAAer5D,GAChB,kBAAqBuD,EAAM,SAAa/W,EAAE0N,EAAI,SAAa1N,EAAEkV,EAAI,QAAYw4D,EAAS,KAAQl6D,EAAQ,MAG/Gs5D,GAAI8B,QAAU,SAAUlhE,EAAGwH,EAAGG,EAAOE,EAAQwB,EAAKvD,GAEhD,MAAO,gBAAmBuD,EAAM,sBAA8BrJ,EAAI,QAAYwH,EAAI,YAAgBG,EAAQ,aAAiBE,EAAS,MADpI/B,EAAQq5D,GAAer5D,IAC6H,MAGtJ,IAAIq7D,GAAW,CACbC,SAAU,EACVC,SAAU,EACVrB,OAAQ,EACRz2C,UAAW,EACX+3C,YAAa,YAGNC,GAAKvsE,GACZjH,KAAKiH,OAAStH,EAAQ8J,OAAO5B,EAAKurE,IAAWnsE,GAAU,IAAI,GAG7DusE,GAAKjzE,UAAUkzE,KAAO,SAAUvuE,EAAM0U,EAAOE,GAC3C,IAAIgrD,EAAS9kE,KAAK0zE,UAAUxuE,EAAM0U,EAAOE,GACrC7S,EAASjH,KAAKiH,OACd0sE,EAAWtC,GACXhuD,EAASpc,EAAO80D,MAAQ/7D,KAAK4zE,YAAYD,EAAU1sE,EAAO80D,OAAS,KAEnE7sD,EAAOykE,EAASvB,WAAWpyE,KAAK6zE,eAAe/O,IAC/CgP,EAAQH,EAASp8D,MAAMo8D,EAASf,QAAQ1jE,EAAM,yBAA2BmU,EAAS,IAAMA,EAAO6pB,KAAO,MAE1G4mC,GAAS9zE,KAAK+zE,WAAWJ,EAAU7O,EAAQ79D,EAAOgrE,OAAQ,yBAA2B5uD,EAAS,IAAMA,EAAOpG,KAAO,KAElH,IAAIs2D,EAAc75D,KAAKwJ,IAAIhe,EAAKzD,QAAUmY,EAAQ,GAAK3S,EAAOosE,UAAY,IAAMnuE,EAAKzD,OAAS,EAAGwF,EAAOssE,aAExG,OADAO,GAAS9zE,KAAKg0E,gBAAgBL,EAAU7O,EAAQyO,GACzCI,EAASF,KAAKK,EAAOl6D,EAAOE,EAAQ,+BAAiC7S,EAAOqU,IAAM,IAAMrU,EAAOqU,IAAM,MAG9Gk4D,GAAKjzE,UAAUqzE,YAAc,SAAUD,EAAU5X,GAC/C,IAAI90D,EAAS,CACXimC,KAAQ,GACRjwB,KAAQ,IAEN3X,EAAMquE,EAASM,SAEnB,GAAIlY,EAIF,IAAK,IAAIn2D,KAHTqB,EAAOimC,KAAK5nC,EAAImsE,WAAa1V,EAC7B90D,EAAOgW,KAAK3X,EAAIy2D,OAASA,EAER90D,EACfA,EAAOrB,GAAQuR,GAAUlQ,EAAOrB,IAIpC,OAAOqB,GAGTusE,GAAKjzE,UAAUwzE,WAAa,SAAUJ,EAAU7O,EAAQmN,EAAQ32D,EAAKvD,GAGnE,IAFA,IAAIqzD,EAAQ,GAEH1qE,EAAI,EAAGA,EAAIokE,EAAOrjE,OAAQf,IACjC0qE,EAAM7pE,KAAKoyE,EAAST,UAAUpO,EAAOpkE,GAAIuxE,EAAQ32D,EAAKvD,IAGxD,OAAO47D,EAASp8D,MAAM6zD,EAAM/jE,KAAK,MAGnCmsE,GAAKjzE,UAAUyzE,gBAAkB,SAAUL,EAAU7O,EAAQmN,GAG3D,IAFA,IAAI7G,EAAQ,GAEH1qE,EAAI,EAAGA,EAAIokE,EAAOrjE,OAAQf,IACjC0qE,EAAM7pE,KAAKoyE,EAAST,UAAUpO,EAAOpkE,GAAIuxE,EAAQ,8BAA+B,CAC9EiC,WAAYxzE,KAIhB,OAAOizE,EAASp8D,MAAM6zD,EAAM/jE,KAAK,MAGnCmsE,GAAKjzE,UAAUszE,eAAiB,SAAU/O,GACxC,IAAIpkE,EACA4D,EACAqH,EAAS,GAEb,IAAKjL,EAAI,EAAGA,EAAIokE,EAAOrjE,OAAQf,IAC7B4D,EAAO5D,EAAI,IAAM,IACjBiL,EAAOpK,KAAK,CAAC+C,EAAMwgE,EAAOpkE,KAG5B,OAAOiL,GAGT6nE,GAAKjzE,UAAUmzE,UAAY,SAAUxuE,EAAM0U,EAAOE,GAChD,IAAI7S,EAASjH,KAAKiH,OACdktE,EAAWz6D,KAAKwJ,IAAIta,MAAM,KAAM1D,QACP,IAAlB+B,EAAO2E,SAAwBuoE,EAAWz6D,KAAKwJ,IAAIjc,EAAO2E,OAAQuoE,IAC7E,IAAIC,EAAW16D,KAAKgC,IAAI9S,MAAM,KAAM1D,GAChCyG,EAAS,GACTsG,EAAIhL,EAAOosE,UAAY,EACvB55D,EAAIxS,EAAOqsE,UAAY,EAC3B15D,GAASA,GAAS,KAAW,EAAJ3H,EACzB,IAAIupB,EAAYv0B,EAAOu0B,WAAa,EAGpC,GAFA1hB,GAAUA,GAAU,KAAW,EAAJL,EAEvBvU,EAAKzD,OACP,GAAmB,GAAfyD,EAAKzD,OAAakK,EAAOpK,KAAK,CAChC0Q,EAAG2H,EAAQ,EAAI3H,EACfwH,EAAGK,EAAS,EAAI7H,QACV,CACN,IAAIoiE,EAAQz6D,GAAS1U,EAAKzD,OAAS,GAC/B6yE,EAAOrtE,EAAO0kC,OAASyoC,EAAWD,EAClCI,GAASz6D,EAAS0hB,IAAc84C,GAAc,GAC7CA,IAAMx6D,GAAU,GAErB,IAAK,IAAIpZ,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,IAC/BiL,EAAOpK,KAAK,CACV0Q,EAAGyH,KAAKiC,KAAK04D,EAAQ3zE,GAAKuR,EAC1BwH,EAAGK,EAASJ,KAAKiC,KAAK44D,GAASrvE,EAAKxE,GAAKyzE,IAAa16D,EAAI+hB,IAMlE,OAAO7vB,GAGT,IAAI6oE,GAAa,CACfnB,SAAU,EACVC,SAAU,EACVrB,OAAQ,EACRz2C,UAAW,EACX+3C,YAAa,YAGNkB,GAAKxtE,GACZjH,KAAKiH,OAAStH,EAAQ8J,OAAO5B,EAAK2sE,IAAavtE,GAAU,IAAI,GAG/DwtE,GAAKl0E,UAAUkzE,KAAO,SAAUvuE,EAAM0U,EAAOE,GAC3C,IAAIy5D,EACAO,EACA5kE,EACA41D,EACAzhD,EACApc,EAASjH,KAAKiH,OACdytE,EAAUlB,GAAKjzE,UACfozE,EAAWtC,GAef,OAbAvM,EAAS9kE,KAAK0zE,UAAUxuE,EAAM0U,EAAOE,GACrC5K,EAAOykE,EAASvB,WAAWsC,EAAQb,eAAe/O,IAAS,GACvD79D,EAAO80D,QAAO14C,EAASrjB,KAAK4zE,YAAYD,EAAU1sE,EAAO80D,QAC7D+X,EAAQH,EAASp8D,MAAMo8D,EAASf,QAAQ1jE,EAAM,yBAA2BmU,EAAS,IAAMA,EAAOuV,KAAO,MAEtGksC,EAAO95D,OAAO85D,EAAOrjE,OAAS,EAAG,GACjCyN,EAAOykE,EAASvB,WAAWsC,EAAQb,eAAe/O,IAClDgP,GAASH,EAASp8D,MAAMo8D,EAASf,QAAQ1jE,EAAM,yBAA2BmU,EAAS,IAAMA,EAAO6pB,KAAO,MAEvG4mC,GAASY,EAAQX,WAAWJ,EAAU7O,EAAQ79D,EAAOgrE,OAAQ,yBAA2B5uD,EAAS,IAAMA,EAAOpG,KAAO,KAErHs2D,EAAc75D,KAAKwJ,IAAIhe,EAAKzD,QAAUmY,EAAQ,GAAK3S,EAAOosE,UAAY,IAAMnuE,EAAKzD,OAAS,EAAGwF,EAAOssE,aACpGO,GAASY,EAAQV,gBAAgBL,EAAU7O,EAAQyO,GAC5CI,EAASF,KAAKK,EAAOl6D,EAAOE,EAAQ,+BAAiC7S,EAAOqU,IAAM,IAAMrU,EAAOqU,IAAM,MAG9Gm5D,GAAKl0E,UAAUqzE,YAAc,SAAUD,EAAU5X,GAC/C,IAAI90D,EAAS,CACX2xB,KAAQ,GACRsU,KAAQ,GACRjwB,KAAQ,IAEN3X,EAAMquE,EAASM,SAEnB,GAAIlY,EAKF,IAAK,IAAIn2D,KAJTqB,EAAO2xB,KAAKtzB,EAAIy2D,OAAS4X,EAASpB,WAAWxW,EAAO,IACpD90D,EAAOimC,KAAK5nC,EAAImsE,WAAa1V,EAC7B90D,EAAOgW,KAAK3X,EAAIy2D,OAASA,EAER90D,EACfA,EAAOrB,GAAQuR,GAAUlQ,EAAOrB,IAIpC,OAAOqB,GAGTwtE,GAAKl0E,UAAUmzE,UAAY,SAAUxuE,EAAM0U,EAAOE,GAChD,IACIgrD,EADU0O,GAAKjzE,UACEmzE,UAAUtxE,KAAKpC,KAAMkF,EAAM0U,EAAOE,GACnD7H,EAAIjS,KAAKiH,OAAOosE,UAAY,EAC5B55D,EAAIzZ,KAAKiH,OAAOqsE,UAAY,EAWhC,OAVAxO,EAAOvjE,KAAK,CACV0Q,EAAG2H,EAAQ3H,EACXwH,EAAGK,EAASL,GACX,CACDxH,EAAGA,EACHwH,EAAGK,EAASL,GACX,CACDxH,EAAGA,EACHwH,EAAGqrD,EAAO,GAAGrrD,IAERqrD,GAGT,IAAI6P,GAAa,CACftB,SAAU,EACVC,SAAU,EACV15D,MAAO,GACPinD,OAAQ,EACRrlC,UAAW,EACX+3C,YAAa,EACb3nE,OAAQ,EACRgpE,QAAS,SAAUpzE,GACjB,OAAOA,GAASxB,KAAKiH,OAAO2E,QAAU,GAAK,iCAAmC,cAIzEipE,GAAI5tE,GACXjH,KAAKiH,OAAStH,EAAQ8J,OAAO5B,EAAK8sE,IAAa1tE,GAAU,IAAI,GAG/D4tE,GAAIt0E,UAAUkzE,KAAO,SAAUvuE,EAAM0U,EAAOE,GAC1C,IAAIpZ,EACA4a,EACA/W,EACAkV,EACAg3B,EACAxpC,EAASjH,KAAKiH,OACd6sE,EAAQ,GACR1I,EAAQ,GACRtG,EAAS9kE,KAAK0zE,UAAUxuE,EAAM0U,EAAOE,GACrC65D,EAAWtC,GAEf,IAAK3wE,EAAI,EAAGA,EAAIokE,EAAOrjE,OAAQf,IAC7B4a,EAA+B,mBAAlBrU,EAAO2tE,QAAwB3tE,EAAO2tE,QAAQxyE,KAAKpC,KAAMkF,EAAKxE,IAAMuG,EAAO2tE,SAAW,GAC/F3tE,EAAO6tE,eAAiB5vE,EAAKxE,GAAKuG,EAAO2E,OAAQ0P,GAAO,IAAMtb,KAAK4zE,YAAYD,EAAU1sE,EAAO6tE,eAAwB7tE,EAAO80D,QAAOzgD,GAAO,IAAMtb,KAAK4zE,YAAYD,EAAU1sE,EAAO80D,QACzLx3D,EAAIugE,EAAOpkE,GACX0qE,EAAM7pE,KAAKoyE,EAASR,QAAQ5uE,EAAE0N,EAAG1N,EAAEkV,EAAGlV,EAAEqV,MAAOrV,EAAEuV,OAAQ,wBAA0BwB,IAGrFw4D,GAASH,EAASp8D,MAAM6zD,EAAM/jE,KAAK,KAEnCoS,EAAI4E,SAASre,KAAK+0E,WAAW7vE,EAAM0U,EAAOE,GAAS,IAAM,GACzD22B,EAAUxpC,EAAOosE,UAAY,EAC7BS,GAASH,EAASp8D,MAAMo8D,EAASZ,QAAQ,CACvC9gE,EAAGw+B,EACHh3B,EAAGA,GACF,CACDxH,EAAG2H,EAAQ62B,EACXh3B,EAAGA,GACF,4BAEH,IAAIu7D,EAAWh1E,KAAKi1E,gBAAgB/vE,EAAM0U,EAAOE,GAE7Co7D,EAAU,GAEd,IAAKx0E,EAAI,EAAGA,EAAIs0E,EAASvzE,OAAQf,IAC/B6D,EAAIywE,EAASt0E,GACbw0E,EAAQ3zE,KAAKoyE,EAASR,QAAQ5uE,EAAE0N,EAAG1N,EAAEkV,EAAGlV,EAAEqV,MAAOrV,EAAEuV,OAAQ,+BAAgC,CACzFo6D,WAAcxzE,KAKlB,OADAozE,GAASH,EAASp8D,MAAM29D,EAAQ7tE,KAAK,KAC9BssE,EAASF,KAAKK,EAAOl6D,EAAOE,EAAQ,8BAAgC7S,EAAOqU,IAAM,IAAMrU,EAAOqU,IAAM,MAG7Gu5D,GAAIt0E,UAAUqzE,YAAc,SAAUD,EAAU5X,GAC9C,IAAI90D,EAAS,GACT3B,EAAMquE,EAASM,SAEnB,OADIlY,IAAO90D,EAAO3B,EAAIy2D,OAASA,GACxB5kD,GAAUlQ,IAGnB4tE,GAAIt0E,UAAUw0E,WAAa,SAAU7vE,EAAM0U,EAAOE,GAChD,IAAI7S,EAASjH,KAAKiH,OACdwS,EAAIxS,EAAOqsE,UAAY,EAEvBr1D,EAASxE,GADbK,GAAUA,GAAU,KAAW,EAAJL,GAG3B,IAAsB,IAAlBxS,EAAO2E,OAAkB,CAC3B,IAAIuoE,EAAWz6D,KAAKwJ,IAAIta,MAAM,KAAM1D,GAChCkvE,EAAW16D,KAAKgC,IAAI9S,MAAM,KAAM1D,GAChC0G,EAAS3E,EAAO2E,SAAU,KAE9B,GAAIA,GAAUwoE,EACZn2D,EAASxE,OACJ,GAAI7N,EAASuoE,EAAU,CAE5Bl2D,GADYnE,GAAUs6D,EAAWD,IACdvoE,EAASuoE,IAIhC,OAAOl2D,GAGT42D,GAAIt0E,UAAU00E,gBAAkB,SAAU/vE,EAAM0U,EAAOE,GACrD,IAAInO,EAAS,GACTsG,EAAIjS,KAAKiH,OAAOosE,UAAY,EAC5B55D,EAAIzZ,KAAKiH,OAAOqsE,UAAY,EAIhC,GAHA15D,GAASA,GAAS,KAAW,EAAJ3H,EACzB6H,GAAUA,GAAU,KAAW,EAAJL,EAEvBvU,EAAKzD,OAGP,IAFA,IAAI4yE,EAAQz6D,EAAQ1U,EAAKzD,OAEhBf,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,IAC/BiL,EAAOpK,KAAK,CACV0Q,EAAGyH,KAAKiC,KAAK04D,EAAQ3zE,GAAKuR,EAC1BwH,EAAGA,EACHK,OAAQA,EACRF,MAAOy6D,IAKb,OAAO1oE,GAGTkpE,GAAIt0E,UAAUmzE,UAAY,SAAUxuE,EAAM0U,EAAOE,GAC/C,IAAI7S,EAASjH,KAAKiH,OACdktE,EAAWz6D,KAAKwJ,IAAIta,MAAM,KAAM1D,GAChC+B,EAAO2E,OAASuoE,IAAUA,EAAWltE,EAAO2E,QAChD,IAAIwoE,EAAW16D,KAAKgC,IAAI9S,MAAM,KAAM1D,GAChCyG,EAAS,GACTsG,EAAIhL,EAAOosE,SACX55D,EAAIxS,EAAOqsE,SACXzS,EAAS55D,EAAO45D,OAChBsU,EAAWluE,EAAO2S,OAAS,GAE3Bw7D,EAAUp1E,KAAK+0E,WAAW7vE,EAAM0U,EAAOE,GAK3C,GAHAF,GAASA,GAAS,KAAW,EAAJ3H,EACzB6H,GAAUA,GAAU,KAAW,EAAJL,EAEvBvU,EAAKzD,OAAQ,CACf,IAAI4yE,EAAQz6D,EAAQ1U,EAAKzD,OACrB6yE,EAAOrtE,EAAO0kC,OAASyoC,EAAWD,EAEtCtT,EAASwT,GADTc,EAAWz7D,KAAKwJ,IAAImxD,EAAQxT,EAAQsU,IAEpC,IAAI35C,EAAY,EACZ5vB,EAASuoE,GACS,IAAlBltE,EAAO2E,QAAoB3E,EAAO2E,OAASuoE,EAAUvoE,EAAS3E,EAAO2E,QAAU,EAAO4vB,EAAYv0B,EAAOu0B,UAG7G,IAFA,IAAI+4C,GAASz6D,EAAS0hB,IAAc84C,GAAc,GAEzC5zE,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,IAAK,CACpC,IAAI4pC,EAAI5wB,KAAKiC,KAAK44D,GAASrvE,EAAKxE,GAAKkL,IACrCD,EAAOpK,KAAK,CACV0Q,EAAGyH,KAAKiC,KAAK04D,EAAQ3zE,GAAKuR,EAAI4uD,EAAS,EACvCpnD,EAAG27D,GAAWlwE,EAAKxE,IAAMkL,EAAS0+B,EAAI,GAAK9O,EAC3C1hB,OAAQJ,KAAKyS,IAAIme,GAAK9O,EACtB5hB,MAAOu7D,KAKb,OAAOxpE,GAGT,IAAI0pE,GAAa,CACf/B,SAAU,YAGHgC,GAAIruE,GACXjH,KAAKiH,OAAStH,EAAQ8J,OAAO4rE,GAAYpuE,GAAU,IAAI,GAGzDquE,GAAI/0E,UAAUg1E,iBAAmB,EACjCD,GAAI/0E,UAAUi1E,WAAa,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAEjMF,GAAI/0E,UAAUk1E,UAAY,SAAU/0E,EAAGwE,GACrC,IAAIyM,EAAQzM,EAAKzD,OACbi0E,EAAc11E,KAAKw1E,WAAW/zE,OAUlC,OARIi0E,EAAc/jE,GACZjR,IAC2BA,EAAzBA,EAAIg1E,EAAc/jE,EAAW3R,KAAKu1E,iBAAmB,EAAWv1E,KAAKu1E,iBAAmB,GAG9Fv1E,KAAKu1E,iBAAmB70E,GACnBA,GAAQg1E,EAER11E,KAAKw1E,WAAW90E,IAGzB40E,GAAI/0E,UAAUkzE,KAAO,SAAUvuE,EAAM0U,EAAOE,GAC1C,IAAI/B,EACA+7D,EACApzE,EACAi1E,EACA1uE,EAASjH,KAAKiH,OACd80D,EAAQ90D,EAAO80D,OAAS/7D,KAAKy1E,UAC7B3Q,EAAS9kE,KAAK41E,UAAU1wE,GACxByuE,EAAWtC,GAGf9rE,EAAIuU,EAAS,GAFL7S,EAAOqsE,UAAY,GAI3BuC,EAAKj8D,EAAQ,EACTk8D,EAAKh8D,EAAS,EAOlB,IALoB,mBAATiiD,IAAqBA,EAAQ,WACtC,OAAOA,IAET4Z,EAAU,GAELj1E,EAAI,EAAGA,EAAIokE,EAAOrjE,OAAQf,KAC7BqX,EAAQ,IACF47D,EAASM,SAAgB,OAAKlY,EAAM35D,KAAKpC,KAAMU,EAAGwE,EAAMlF,KAAK+1E,UACnEJ,GAAWhC,EAASd,UAAU,CAC5B5gE,EAAG4jE,EACHp8D,EAAGq8D,GACFvwE,EAAGu/D,EAAOpkE,GAAG,GAAIokE,EAAOpkE,GAAG,GAAI,0BAA2BqX,GAO/D,IAJA+7D,EAAQH,EAASp8D,MAAMo+D,GAEvBA,EAAU,GAELj1E,EAAI,EAAGA,EAAIokE,EAAOrjE,OAAQf,IAC7Bi1E,GAAWhC,EAASd,UAAU,CAC5B5gE,EAAG4jE,EACHp8D,EAAGq8D,GACFvwE,EAAGu/D,EAAOpkE,GAAG,GAAIokE,EAAOpkE,GAAG,GAAI,8BAA+B,CAC/DwzE,WAAcxzE,IAKlB,OADAozE,GAASH,EAASp8D,MAAMo+D,GACjBhC,EAASF,KAAKK,EAAOl6D,EAAOE,EAAQ,8BAAgC7S,EAAOqU,IAAM,IAAMrU,EAAOqU,IAAM,MAG7Gg6D,GAAI/0E,UAAUq1E,UAAY,SAAU1wE,GAClC,IACI8wE,EACAt1E,EAFAu1E,GAAMv8D,KAAKgsD,GAAK,EAGhB/5D,EAAS,GAETuqE,EAASl2E,KAAKm2E,WAAWjxE,GAE7B,IAAKxE,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,IAC3Bs1E,GAAMt8D,KAAKgsD,GAAK,EAAIwQ,EAAOx1E,GAAK,KAChCiL,EAAOpK,KAAK,CAAC00E,EAAID,IACjBC,EAAKD,EAGP,OAAOrqE,GAGT2pE,GAAI/0E,UAAU61E,eAAiB,SAAUlxE,GAGvC,IAFA,IAAIqI,EAAI,EAEC7M,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,IAC/B6M,GAAe,EAAVrI,EAAKxE,GAGZ,OAAO6M,GAGT+nE,GAAI/0E,UAAU41E,WAAa,SAAUjxE,GACnC,IAAIxE,EACAc,EACA00E,EAAS,GACTG,EAAU,EACVC,EAAat2E,KAAKo2E,eAAelxE,GAErC,IAAKxE,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,IAC3Bc,EAAkB,EAAV0D,EAAKxE,GACbw1E,EAAOx1E,GAAe,EAAVgZ,KAAKgsD,IAAU4Q,GAAc90E,EAAQ60E,GAAWC,EAAa,EAAIpxE,EAAKzD,QAClF40E,GAAW70E,EAGb,OAAO00E,GAGT,IAAIK,GAAa,CACflD,SAAU,EACVC,SAAU,EACVrB,OAAQ,EACRz2C,UAAW,EACX+3C,YAAa,YAGNiD,GAAOvvE,GACdjH,KAAKiH,OAAStH,EAAQ8J,OAAO5B,EAAK0uE,IAAatvE,GAAU,IAAI,GAG/DuvE,GAAOj2E,UAAUkzE,KAAO,SAAUvuE,EAAM0U,EAAOE,GAC7C,IAAI7S,EAASjH,KAAKiH,OACd6sE,EAAQ,GACRY,EAAUlB,GAAKjzE,UACfukE,EAAS9kE,KAAK0zE,UAAUxuE,EAAM0U,EAAOE,GACrC65D,EAAWtC,GACXhuD,EAASpc,EAAO80D,MAAQ/7D,KAAK4zE,YAAYD,EAAU1sE,EAAO80D,OAAS,KAEvE+X,GAASH,EAASp8D,MAAMo8D,EAASb,SAAShO,EAAQ,yBAA2BzhD,EAAS,IAAMA,EAAO6pB,KAAO,MAC1G,IAAIupC,EAAa/B,EAAQhB,UAAUtxE,KAAKpC,KAAMkF,EAAM0U,EAAOE,GAE3Dg6D,GAASY,EAAQX,WAAWJ,EAAU8C,EAAYxvE,EAAOgrE,OAAQ,yBAA2B5uD,EAAS,IAAMA,EAAOpG,KAAO,KAEzH,IAAIs2D,EAAc75D,KAAKwJ,IAAIhe,EAAKzD,QAAUmY,EAAQ,GAAK3S,EAAOosE,UAAY,IAAMnuE,EAAKzD,OAAS,EAAGwF,EAAOssE,aAExG,OADAO,GAASY,EAAQV,gBAAgBL,EAAU8C,EAAYlD,GAChDI,EAASF,KAAKK,EAAOl6D,EAAOE,EAAQ,+BAAiC7S,EAAOqU,IAAM,IAAMrU,EAAOqU,IAAM,MAG9Gk7D,GAAOj2E,UAAUqzE,YAAc,SAAUD,EAAU5X,GACjD,IAAI90D,EAAS,CACXimC,KAAQ,GACRjwB,KAAQ,IAEN3X,EAAMquE,EAASM,SAEnB,GAAIlY,EAIF,IAAK,IAAIn2D,KAHTqB,EAAOimC,KAAK5nC,EAAImsE,WAAa1V,EAC7B90D,EAAOgW,KAAK3X,EAAIy2D,OAASA,EAER90D,EACfA,EAAOrB,GAAQuR,GAAUlQ,EAAOrB,IAIpC,OAAOqB,GAGTuvE,GAAOj2E,UAAUmzE,UAAY,SAAUxuE,EAAM0U,EAAOE,GAClD,IAAIpZ,EACAokE,EACAjxB,EACAE,EACApoC,EAAS,GACTsG,EAAI,GACJwH,EAAI,GAIR,IAFAqrD,EADc0O,GAAKjzE,UACFmzE,UAAUtxE,KAAKpC,KAAMkF,EAAM0U,EAAOE,GAE9CpZ,EAAI,EAAGA,EAAIokE,EAAOrjE,OAAQf,IAC7BuR,EAAE1Q,KAAKujE,EAAOpkE,GAAGuR,GACjBwH,EAAElY,KAAKujE,EAAOpkE,GAAG+Y,GAOnB,IAJAo6B,EAAK7zC,KAAK02E,kBAAkBzkE,GAC5B8hC,EAAK/zC,KAAK02E,kBAAkBj9D,GAGvB/Y,EAAI,EAAGA,EAAIokE,EAAOrjE,OAAS,EAAGf,IACjCiL,EAAOpK,KAAK,CAACujE,EAAOpkE,GAAI,CACtBuR,EAAG4hC,EAAG,GAAGnzC,GACT+Y,EAAGs6B,EAAG,GAAGrzC,IACR,CACDuR,EAAG4hC,EAAG,GAAGnzC,GACT+Y,EAAGs6B,EAAG,GAAGrzC,IACRokE,EAAOpkE,EAAI,KAGhB,OAAOiL,GAKT6qE,GAAOj2E,UAAUm2E,kBAAoB,SAAU5R,GAC7C,IAMIpkE,EACAo0B,EAPA7rB,EAAI,GACJ4E,EAAI,GACJC,EAAI,GACJvI,EAAI,GACJ0tE,EAAK,GACL0D,EAAK,GAGLlzD,EAAIqhD,EAAOrjE,OAAS,EAMxB,IALAwH,EAAE,GAAK,EACP4E,EAAE,GAAK,EACPC,EAAE,GAAK,EACPvI,EAAE,GAAKu/D,EAAO,GAAK,EAAIA,EAAO,GAEzBpkE,EAAI,EAAGA,EAAI+iB,EAAI,EAAG/iB,IACrBuI,EAAEvI,GAAK,EACPmN,EAAEnN,GAAK,EACPoN,EAAEpN,GAAK,EACP6E,EAAE7E,GAAK,EAAIokE,EAAOpkE,GAAK,EAAIokE,EAAOpkE,EAAI,GAQxC,IALAuI,EAAEwa,EAAI,GAAK,EACX5V,EAAE4V,EAAI,GAAK,EACX3V,EAAE2V,EAAI,GAAK,EACXle,EAAEke,EAAI,GAAK,EAAIqhD,EAAOrhD,EAAI,GAAKqhD,EAAOrhD,GAEjC/iB,EAAI,EAAGA,EAAI+iB,EAAG/iB,IACjBo0B,EAAI7rB,EAAEvI,GAAKmN,EAAEnN,EAAI,GACjBmN,EAAEnN,GAAKmN,EAAEnN,GAAKo0B,EAAIhnB,EAAEpN,EAAI,GACxB6E,EAAE7E,GAAK6E,EAAE7E,GAAKo0B,EAAIvvB,EAAE7E,EAAI,GAK1B,IAFAuyE,EAAGxvD,EAAI,GAAKle,EAAEke,EAAI,GAAK5V,EAAE4V,EAAI,GAExB/iB,EAAI+iB,EAAI,EAAG/iB,GAAK,IAAKA,EACxBuyE,EAAGvyE,IAAM6E,EAAE7E,GAAKoN,EAAEpN,GAAKuyE,EAAGvyE,EAAI,IAAMmN,EAAEnN,GAGxC,IAAKA,EAAI,EAAGA,EAAI+iB,EAAI,EAAG/iB,IACrBi2E,EAAGj2E,GAAK,EAAIokE,EAAOpkE,EAAI,GAAKuyE,EAAGvyE,EAAI,GAIrC,OADAi2E,EAAGlzD,EAAI,GAAK,IAAOqhD,EAAOrhD,GAAKwvD,EAAGxvD,EAAI,IAC/B,CAACwvD,EAAI0D,IAGd,IAAIC,GAAe,CACjBvD,SAAU,EACVC,SAAU,EACVrB,OAAQ,EACRz2C,UAAW,EACX+3C,YAAa,YAGNsD,GAAW5vE,GAClBjH,KAAKiH,OAAStH,EAAQ8J,OAAO5B,EAAK+uE,IAAe3vE,GAAU,IAAI,YAsExD6vE,MAnETD,GAAWt2E,UAAYsH,EAAK2uE,GAAOj2E,WAEnCs2E,GAAWt2E,UAAUkzE,KAAO,SAAUvuE,EAAM0U,EAAOE,GACjD,IAAI7S,EAASjH,KAAKiH,OACdytE,EAAUlB,GAAKjzE,UACfozE,EAAWtC,GACXhuD,EAASpc,EAAO80D,MAAQ/7D,KAAK4zE,YAAYD,EAAU1sE,EAAO80D,OAAS,KACnE+I,EAAS9kE,KAAK0zE,UAAUxuE,EAAM0U,EAAOE,GAErC28D,EAAa3R,EAAO95D,OAAO85D,EAAOrjE,OAAS,EAAG,GAE9Cs1E,EAAWpD,EAASrB,YAAYmE,GAEpCM,EAAS,GAAG,GAAK,IAEjB,IAAIC,EAAarD,EAAShB,aAAa7N,GAAQtuC,OAAOugD,GAElDjD,EAAQH,EAASp8D,MAAMo8D,EAASf,QAAQe,EAASvB,WAAW4E,GAAa,yBAA2B3zD,EAAS,IAAMA,EAAOuV,KAAO,KAAK,IAE1Ik7C,GAASH,EAASp8D,MAAMo8D,EAASf,QAAQe,EAASvB,WAAWuB,EAAShB,aAAa7N,IAAU,yBAA2BzhD,EAAS,IAAMA,EAAO6pB,KAAO,MACrJ,IAAI+pC,EAAavC,EAAQhB,UAAUtxE,KAAKpC,KAAMkF,EAAM0U,EAAOE,GAE3Dg6D,GAASY,EAAQX,WAAWJ,EAAUsD,EAAYhwE,EAAOgrE,OAAQ,yBAA2B5uD,EAAS,IAAMA,EAAOpG,KAAO,KAEzH,IAAIs2D,EAAc75D,KAAKwJ,IAAIhe,EAAKzD,QAAUmY,EAAQ,GAAK3S,EAAOosE,UAAY,IAAMnuE,EAAKzD,OAAS,EAAGwF,EAAOssE,aAExG,OADAO,GAASY,EAAQV,gBAAgBL,EAAUsD,EAAY1D,GAChDI,EAASF,KAAKK,EAAOl6D,EAAOE,EAAQ,qCAAuC7S,EAAOqU,IAAM,IAAMrU,EAAOqU,IAAM,MAGpHu7D,GAAWt2E,UAAUqzE,YAAc,SAAUD,EAAU5X,GACrD,IAAI90D,EAAS,CACX2xB,KAAQ,GACRsU,KAAQ,GACRjwB,KAAQ,IAEN3X,EAAMquE,EAASM,SAEnB,GAAIlY,EAKF,IAAK,IAAIn2D,KAJTqB,EAAO2xB,KAAKtzB,EAAIy2D,OAAS4X,EAASpB,WAAWxW,EAAO,IACpD90D,EAAOimC,KAAK5nC,EAAImsE,WAAa1V,EAC7B90D,EAAOgW,KAAK3X,EAAIy2D,OAASA,EAER90D,EACfA,EAAOrB,GAAQuR,GAAUlQ,EAAOrB,IAIpC,OAAOqB,GAGT4vE,GAAWt2E,UAAUmzE,UAAY,SAAUxuE,EAAM0U,EAAOE,GACtD,IAAIgrD,EAAS0R,GAAOj2E,UAAUmzE,UAAUtxE,KAAKpC,KAAMkF,EAAM0U,EAAOE,GAC5D7H,EAAIjS,KAAKiH,OAAOosE,UAAY,EAC5B55D,EAAIzZ,KAAKiH,OAAOqsE,UAAY,EAWhC,OAVAxO,EAAOvjE,KAAK,CACV0Q,EAAG2H,EAAQ3H,EACXwH,EAAGK,EAASL,GACX,CACDxH,EAAGA,EACHwH,EAAGK,EAASL,GACX,CACDxH,EAAGA,EACHwH,EAAGqrD,EAAO,GAAG,GAAGrrD,IAEXqrD,GAgBTgS,GAAWxzD,MAAQ,GAEnBwzD,GAAWI,YAAc,SAAUC,GACjC,IAAIlwE,EAASkwE,GAAgB,GACF,iBAAhBA,IAA0BlwE,EAAS,CAC5C3C,KAAM6yE,IAERx3E,EAAQ8J,OAAOxC,EAAQ,CACrB3C,KAAM,SAER,IAAI8yE,EAAgBp3E,KAAKsjB,MAAMrc,EAAO3C,MAEtC,OADAwB,EAAOsxE,EAAe,0BACf3uE,EAAKzI,KAAKq3E,UAAW,IAAID,EAAcnwE,KAGhD6vE,GAAWO,UAAY,SAAUp6D,EAAM6L,EAAQ5jB,EAAMm/C,GACnD,OAAIA,EAAerkD,KAAKyzE,cA3BTvuE,GAGf,IAFA,IAAI8gC,EAAS,GAEJtlC,EAAIwE,EAAKzD,OAAS,EAAGf,GAAK,EAAGA,IAAK,CACzC,IAAIc,EAAQ0D,EAAKxE,GACjBslC,EAAOtlC,GAAwB,WAAnBT,EAAQuB,GAAsBA,EAAMA,MAAQA,EAG1D,OAAOwkC,EAmBsBsxC,CAAQpyE,GAAOm/C,EAAOzqC,MAAO,IAAgB5Z,KAAKyzE,KAAKx2D,EAAK/X,MAAQ+X,EAAM6L,EAAOlP,MAAOkP,EAAOhP,SAI9HjN,EAAY,eAAe,SAAUg2C,GACnCA,EAAMv+C,KAAKizE,WAAaT,GAAWI,iBAErCJ,GAAWxzD,MAAY,KAAImxD,GAC3BqC,GAAWxzD,MAAW,IAAIuxD,GAC1BiC,GAAWxzD,MAAY,KAAIkwD,GAC3BsD,GAAWxzD,MAAW,IAAIgyD,GAC1BwB,GAAWxzD,MAAc,OAAIkzD,GAC7BM,GAAWxzD,MAAkB,WAAIuzD,GAEjC,IAAIW,GAAa,CACf31B,iBAAkB,SAAUrgD,GAgB1B,OAfc,IAAVA,GAA4B,IAAVA,IAAaA,EAAQ,SAC3C6+C,GAAWpqC,OACXjW,KAAK6M,YAAY,iBAAkB7M,KAAK8hD,cACxC9hD,KAAK6M,YAAY,mBAAmB,SAAUnJ,EAAGq+C,GAC/C,IAAIxe,EAAMvjC,KAAKwjC,eAAc,GACX,GAAdD,EAAI9hC,QAAesgD,EAAGp+B,KAAO4f,EAAI,GAAG5f,KAAK3jB,KAAK8hD,kBAGpD9hD,KAAK6M,YAAY,eAAe,WAC1BvC,SAASm1B,eAAiBz/B,KAAK6qB,MAAMmN,SAAS1tB,SAASm1B,iBACzD4gB,GAAWzjC,QACX4f,GAAUyB,SAASj+B,UAGvBA,KAAK6M,YAAY,UAAW7M,KAAKy3E,cAC1Bj2E,GAET8gD,oBAAqBj6B,GACrBy5B,aAAc,WACZ,IAAIl8B,EAAQ5lB,KAEZkJ,GAAM,WAEJ,KAAK0c,EAAMvc,aAAiBuc,EAAMk7B,WAAcl7B,EAAMk7B,aAAc,CAClE,IAAI57C,EAAO0gB,EAAM8xD,gBAEjBr3B,GAAW1lB,IAAIz1B,GACfs3B,GAAUyB,SAASrY,QAIzB8xD,cAAe,WACb,IAAIxyE,EAAO,GACPmG,EAASrL,KAAKoN,UAAU80C,aAQ5B,OAPAliD,KAAK23E,cAAa,SAAUn2E,EAAOmiB,EAAKpU,EAAKqoE,GACtC1yE,EAAK0yE,KAAU1yE,EAAK0yE,GAAW,IACpC,IAAIC,EAAWxsE,EAASA,EAAO7J,EAAOmiB,EAAKpU,GAAO/N,EAElD,OADA0D,EAAK0yE,GAASr2E,KAAKs2E,GACZr2E,KAEmB,IAAhB0D,EAAKzD,QAAmC,IAAnByD,EAAK,GAAGzD,OAAeyD,EAAK,GAAG,GAAK67C,GAAMr1C,UAAUxG,EAAMlF,KAAKoN,UAAU4zC,YAG5Gy2B,aAAc,SAAUtxE,GACtB,IAAK6C,EAAYhJ,KAAKwgD,OAAOxgD,KAAKoN,UAAU40C,YAAa,CACvD,IAAI98C,EAAO67C,GAAM3vC,MAAMjL,EAAMnG,KAAKoN,UAAU4zC,WAE5ChhD,KAAKwgD,OAAOxgD,KAAKoN,UAAU40C,WAAW5/C,KAAKpC,KAAMkF,KAGrDs7C,OAAQ,CACNs3B,MAAO,SAAU5yE,GACf,IAAI6yE,EAAU/3E,KAAK23E,aAAa,MAC3BI,IAEL/3E,KAAKg4E,SAASD,EAAQp0D,IAAKo0D,EAAQ1zB,OAAQn/C,EAAKzD,OAAQ,MAAM,SAAUD,EAAOmiB,EAAKpU,EAAKqoE,EAASK,GAChG,OAAI/yE,EAAK0yE,IAAY1yE,EAAK0yE,GAASn2E,OAASw2E,EACnC/yE,EAAK0yE,GAASK,GAGhBz2E,KAETxB,KAAK8pB,WAEP62B,UAAW,SAAUz7C,GACnBlF,KAAK23E,cAAa,SAAUn2E,EAAOmiB,EAAKpU,EAAKqoE,EAASK,GACpD,OAAI/yE,EAAK0yE,IAAY1yE,EAAK0yE,GAASn2E,OAASw2E,EAAgB/yE,EAAK0yE,GAASK,GACnEz2E,KAETxB,KAAK8pB,UAEPsiD,OAAQ,SAAUlnE,GAChBlF,KAAK23E,cAAa,SAAUn2E,EAAOmiB,EAAKpU,EAAKqoE,EAASK,GAGpD,OAFAt0D,EAAMze,EAAK0yE,EAAU1yE,EAAKzD,SACdw2E,EAAUt0D,EAAIliB,WAG5BzB,KAAK8pB,UAEPu4B,OAAQ,eAIR61B,GAAU,CACZ1lE,KAAM,SAAUtL,EAAIurB,GAClB,GAAKvrB,EAAL,CAEA,IAAI+V,EAAOjd,KAAK8jC,QAAQ58B,GACxBpB,EAAOmX,EAAM,yBAA2B/V,GACnC+V,EAAKomD,SAAUpmD,EAAKzK,OAErBxS,KAAK8M,UAAU,eAAgB,CAAC5F,MAClC+V,EAAKzK,MAAO,EACZxS,KAAKkF,KAAK4H,UAAU,iBAAkB,CAAC5F,EAAI,EAAG,WAC9ClH,KAAK8M,UAAU,cAAe,CAAC5F,KAG7BurB,GAAc,KAANvrB,GAAWlH,KAAKwS,KAAKxS,KAAKu3D,YAAYrwD,GAAKurB,MAEzDyJ,MAAO,SAAUh1B,GACf,GAAKA,EAAL,CACA,IAAI+V,EAAOjd,KAAK8jC,QAAQ58B,GACnB+V,EAAKzK,MAENxS,KAAK8M,UAAU,gBAAiB,CAAC5F,MACnC+V,EAAKzK,MAAO,EACZxS,KAAKkF,KAAK4H,UAAU,iBAAkB,CAAC5F,EAAI,EAAG,WAC9ClH,KAAK8M,UAAU,eAAgB,CAAC5F,OAGpCixE,QAAS,SAAUjxE,GACjBlH,KAAKkF,KAAKkzE,YAAYlxE,GAAM,GAAG,SAAU7G,EAAKouD,GACxCA,IAAQpuD,EAAImS,MAAO,MAEzBxS,KAAKkF,KAAKilB,WAEZkuD,SAAU,SAAUnxE,GAClBlH,KAAKkF,KAAKkzE,YAAYlxE,GAAM,GAAG,SAAU7G,EAAKouD,GACxCA,IAAQpuD,EAAImS,MAAO,MAEzBxS,KAAKkF,KAAKilB,WAEZmuD,oBAAqB,SAAUpxE,EAAI4K,EAAM/M,GACvC,GAAI/E,KAAKoN,UAAUmrE,WAAY,OAAOv4E,KAAKw4E,sBAAsBtxE,EAAa,OAAT4K,EAAgBA,EAAO,IAC5F,IAAItQ,EACAyb,EAAOjd,KAAK8jC,QAAQ58B,GACpByR,EAAM5T,EAAIA,EAAE+C,OAAS,KAGUtG,EAA/BmX,GAAmB,YAAZA,EAAIrU,OAA4BqU,EAAIqiD,QAA6C,OAATlpD,EAAgBA,GAAQmL,EAAK+9C,QAChH/9C,EAAK+9C,QAAUx5D,EACfxB,KAAK8M,UAAU,cAAe,CAAC5F,EAAI+V,EAAK+9C,QAASj2D,KAEnD0zE,aAAc,SAAU9K,GACtB,GAAiB,KAAbA,EAAkB,OAAO,EAC7B,IAAI1wD,EAAOjd,KAAK8jC,QAAQ6pC,GACxB,QAAI1wD,EAAKzK,MAAaxS,KAAKy4E,aAAax7D,EAAK0sC,UAG/C+uB,aAAc,WACZ,IAAIlmE,EAAO,GAEX,IAAK,IAAItL,KAAMlH,KAAKkF,KAAKupD,OACnBzuD,KAAKurD,OAAOrkD,IAAOlH,KAAK8jC,QAAQ58B,GAAIsL,MAAMA,EAAKjR,KAAK2F,GAG1D,OAAOsL,GAET8uB,SAAU,WACR,MAAO,CACL9uB,KAAMxS,KAAK04E,eACXh7C,OAAQ19B,KAAKwjC,eAAc,KAG/Bm1C,kBAAmB,SAAUC,EAAMpmE,GACjC,IAAIoI,EAAQ5a,KAAKkF,KAAK2H,YAAY,eAAe,WAC/C+rE,EAAKj3C,SAASv/B,KAAKw2E,EAAMpmE,GACzBomE,EAAK1zE,KAAKsI,YAAYoN,GACtBg+D,EAAO,SAGXj3C,SAAU,SAAUn+B,GAClB,GAAIA,EAAMgP,KAAM,CACdxS,KAAKq4E,WAGL,IAFA,IAAI7lE,EAAOhP,EAAMgP,KAER9R,EAAI,EAAGA,EAAI8R,EAAK/Q,OAAQf,IAAK,CACpC,IAAIuc,EAAOjd,KAAK8jC,QAAQtxB,EAAK9R,IAE7B,GAAIuc,GAAQA,EAAKomD,SACfpmD,EAAKzK,MAAO,GAEO,GAAfyK,EAAKomD,QAKP,OAHArjE,KAAK24E,kBAAkB34E,KAAMwD,GAE7BxD,KAAKmqB,UACE,EAKbnqB,KAAKmqB,UAGP,GAAI3mB,EAAMk6B,QAAU19B,KAAK09B,OAAQ,CAC/B,IAAIA,EAASl6B,EAAMk6B,OACnB19B,KAAKq2D,WAEL,IAAK,IAAIj1D,EAAK,EAAGA,EAAKs8B,EAAOj8B,OAAQL,IAC/BpB,KAAKurD,OAAO7tB,EAAOt8B,KAAMpB,KAAK09B,OAAOA,EAAOt8B,IAAK,GAIzD,OAAO,IAIPy3E,GAAY,CACdC,gBAAiB,SAAU/zE,EAAGmC,GAE5B,OADAlH,KAAKk8B,MAAMh1B,IACJ,GAET6xE,iBAAkB,SAAUh0E,EAAGmC,GAE7B,OADAlH,KAAKwS,KAAKtL,IACH,GAET8xE,oBAAqB,SAAUj0E,EAAGmC,GAGhC,OAFAlH,KAAKs4E,oBAAoBpxE,EAAI,KAAMnC,IAE5B,IAIPk0E,GAAiB,CACnBjvE,MAAO,WACLhK,KAAKkF,KAAK2H,YAAY,iBAAkBpE,EAAKzI,KAAKk5E,gBAAiBl5E,MAAO,MAAM,GAEhFA,KAAK4yD,aAAe5yD,KAAKm5E,eAE3BA,cAAe,SAAU92E,EAAMsP,EAAOgP,EAAUjb,EAAOW,EAASsf,GAK9D,OAHAtf,EAAoB,IAAVsL,EAAc,CACtBhE,OAAQ4E,mBAAmBlQ,IACzB,KACGgwD,GAAW9xD,UAAUqyD,aAAaxwD,KAAKpC,KAAMqC,EAAMsP,EAAOgP,EAAUjb,EAAOW,EAASsf,IAG7FupD,WAAY,SAAUhoE,EAAIyZ,EAAUlP,GAGlC,OAFAvK,EAAKA,GAAM,EACXlH,KAAKkF,KAAKuM,IAAMA,GAAOzR,KAAKkF,KAAKuM,IAC7BzR,KAAK8M,UAAU,gBAAiB,CAAC5F,EAAIyZ,EAAU3gB,KAAKkF,KAAKuM,OAASzR,KAAKkF,KAAKuM,IAAYzR,KAAKkF,KAAKutD,KAAKrwD,KAAKpC,KAAMkH,EAAI,EAAGyZ,GACtHxd,EAASa,UAElBk1E,gBAAiB,SAAUhyE,EAAIhC,EAAM4M,GAC9BA,GAAgB,OAARA,GAAyB,UAARA,GAA4B,UAARA,GAChD9R,KAAKkF,KAAKk0E,eAAep5E,QAY3Bq5E,GAAe,CACjBrvE,MAAO,WACLlE,EAAO9F,KAAKkF,KAAM,iDAGpBqgD,KAAM,SAAUC,EAAKC,EAAQC,EAAMr/C,GAGjC,OAFAA,EAAUA,GAAW,IACbk/C,MAAO,EACRvlD,KAAK6xC,KAAK2T,EAAKC,EAAQC,EAAMr/C,IAEtCy/C,iBAAkB,SAAUC,EAAK1kD,EAAM4D,GACrC,GAAI5D,GAAQ0kD,EAAK,CACf,IAAIC,EAAYhmD,KAAKs3D,eAAevR,GAEpC,OAAOC,GAAa/gD,GAAUjF,MAAQA,KAAKu3D,YAAYxR,IAAQ/lD,KAAKu3D,YAAYl2D,IAAS4D,EAAOqyD,eAAej2D,GAAQ2kD,EAAY,EAAI,KAG3IszB,oBAAqB,SAAU3rE,EAAQe,GACrC,IAAInB,EAAIvN,KAAKkF,KAAKupD,OAAO9gD,GAEzB,GAAIJ,GAAKA,EAAE9L,OACT,IAAK,IAAIf,EAAI,EAAGA,EAAI6M,EAAE9L,OAAQf,IAAK,CACjC,GAAI6M,EAAE7M,IAAMgO,EAAO,OAAO,EAC1B,GAAI1O,KAAKs5E,oBAAoB/rE,EAAE7M,GAAIgO,GAAQ,OAAO,EAItD,OAAO,GAET6qE,eAAgB,SAAU5nB,GACxB,IAAK,IAAIjxD,EAAI,EAAGA,EAAIixD,EAAIlwD,OAAQf,QAC9B,IAAIwG,EAAKyqD,EAAIjxD,GAENV,KAAKu3D,YAAYrwD,IACtBA,EAAKlH,KAAKu3D,YAAYrwD,IAEiB,GAAnC2C,EAAaqB,KAAK9I,KAAKuvD,EAAKzqD,KAC9ByqD,EAAI3mD,OAAOtK,EAAG,GACdA,KAMN,OAAOixD,GAGT9f,KAAM,SAAU2T,EAAKC,EAAQC,EAAMr/C,GAEjCo/C,EAASA,GAAU,EACnB,IAAIE,GAFJt/C,EAAUA,GAAW,IAEAu/C,OAASJ,EAC1Bg0B,EAAgBnzE,EAAQsH,QAAU,EAGtC,GADA7H,GADA4/C,EAAOA,GAAQ1lD,MACHkF,KAAM,iDACbwgD,EAAKxgD,KAAV,CAEA,IAAImD,EAAQm9C,GAAZ,CAYA,GAAIxlD,MAAQ0lD,GAAQr/C,EAAQk/C,KAAM,CAGhC,GAFAI,EAASD,EAAKxgD,KAAKg4B,IAAIwoB,EAAKG,cAAc7lD,KAAK8jC,QAAQ0hB,GAAMG,GAASF,EAAQ+zB,GAAiB,GAE3Fx5E,KAAKkF,KAAKupD,OAAOjJ,IAAQE,EAAK4R,eAAgB,CAChD,IAAI5nD,EAAO1P,KAAKkF,KAAKwkD,kBAErB1pD,KAAKkF,KAAKwkD,kBAAoB,SAAUrpD,GACtC,IAAI2V,EAAUnO,EAAKxH,GAKnB,cAJO2V,EAAQ2zC,eACR3zC,EAAQqiD,cACRriD,EAAQyjE,OACX/zB,EAAKxgD,KAAKklB,KAAKpU,EAAQ9O,MAAK8O,EAAQ9O,GAAKiD,KACtC6L,GAGT,IAAI0jE,EAAY,CACdx0E,KAAMlF,KAAKsuD,UAAU9I,GAAK,GAC1B73C,OAAQg4C,GAEV3lD,KAAKkF,KAAKwkD,kBAAoBh6C,EAC9Bg2C,EAAKt0C,MAAMsoE,GAGRrzE,EAAQk/C,MAAMvlD,KAAKkF,KAAK+F,OAAOu6C,OAC/B,CAEL,GAAIA,GAAOg0B,GAAiBx5E,KAAKs5E,oBAAoB9zB,EAAKg0B,GAAgB,OAC1E,IAAIv0E,EAASjF,KAAK8jC,QAAQ0hB,GACtBm0B,EAAU35E,KAAKkF,KAAKupD,OAAO+qB,GAC1BG,IAASA,EAAU35E,KAAKkF,KAAKupD,OAAO+qB,GAAiB,IAC1D,IAAII,EAAU55E,KAAKkF,KAAKupD,OAAOxpD,EAAO0kD,SAElC+D,EAAS7jD,EAAaqB,KAAK9I,KAAKw3E,EAASp0B,GAI7C,GAFIC,EAAS,IAAGA,EAASk0B,EAAQl4E,QAE7Bm4E,IAAYD,GAAWl0B,IAAWiI,EAAQ,OAAO/H,EASrD,GAPA97C,EAAagB,SAASzI,KAAKw3E,EAASlsB,GAEpC7jD,EAAaC,SAAS1H,KAAKu3E,EAASn0B,EAAK9rC,KAAKwJ,IAAIy2D,EAAQl4E,OAAQgkD,IAE7Dm0B,EAAQn4E,eAAezB,KAAKkF,KAAKupD,OAAOxpD,EAAO0kD,SAChD1kD,EAAO0kD,SAA6B,KAAlB1kD,EAAO0kD,SAAgB3pD,KAAK8jC,QAAQ7+B,EAAO0kD,SAAS0Z,SAEtEmW,GAAkC,KAAjBA,EAAsB,CACzC,IAAI1xE,EAAS49C,EAAK5hB,QAAQ01C,GAC1B1xE,EAAOu7D,SAEPrjE,KAAK65E,eAAe50E,EAAQ6C,EAAOuwD,OAAS,QACvCr4D,KAAK65E,eAAe50E,EAAQ,GAEnCA,EAAO0kD,QAAU6vB,EACjB9zB,EAAKxgD,KAAK4H,UAAU,aAAc,CAAC04C,EAAKC,EAAQ+zB,EAAeG,EAAQl0B,EAAS,KAIlF,OADAzlD,KAAKmqB,UACEw7B,EApEL3lD,KAAKu5E,eAAe/zB,GAEpB,IAAK,IAAI9kD,EAAI,EAAGA,EAAI8kD,EAAI/jD,OAAQf,IAAK,CAEnC,IAAIqlD,EAAM/lD,KAAK6xC,KAAK2T,EAAI9kD,GAAI+kD,EAAQC,EAAMr/C,GAC1Co/C,EAASC,EAAKI,iBAAiBC,EAAKP,EAAI9kD,EAAI,GAAIV,SAiEtD65E,eAAgB,SAAU58D,EAAMzb,GAC9Byb,EAAKo7C,OAAS72D,EACd,IAAIitD,EAASzuD,KAAKkF,KAAKupD,OAAOxxC,EAAK/V,IACnC,GAAIunD,EAAQ,IAAK,IAAI/tD,EAAI,EAAGA,EAAI+tD,EAAOhtD,OAAQf,IAC7CV,KAAK65E,eAAe75E,KAAK8jC,QAAQ2qB,EAAO/tD,IAAKc,EAAQ,IAIzDy1D,YAAa,SAAU/vD,GACjBA,IAAOA,EAAG8M,QAAUhU,KAAKurD,OAAOrkD,IAAOlH,KAAKm3D,cAAcjwD,IAAOwvC,GAAYmB,cAAcn7B,OAC7F1c,KAAKwS,KAAKtL,IAEdgwD,WAAY,SAAUxqC,GACpB,GAAIA,EAAQrqB,MAAQqqB,EAAQ0gC,GAAI,OAAO,EAEvC,IAAK,IAAI1sD,EAAI,EAAGA,EAAIgsB,EAAQznB,OAAOxD,OAAQf,IACzC,GAAIV,KAAKs5E,oBAAoB5sD,EAAQznB,OAAQynB,EAAQ5kB,QAAS,OAAO,EAGvE,OAAO,GAOT+9C,cAAe,SAAU3gD,EAAMgC,GAC7B,IAAIwW,EAAW4nC,GAASO,cAAczjD,KAAKpC,KAAMkF,EAAMgC,GAGvD,cADOwW,EAASlL,KACTkL,IAIPo8D,GAAkB,CACpB9vE,MAAO,WACLlE,EAAO9F,KAAK8pB,OAAQ,yDAEtBiwD,YAAa,SAAU15E,GACrB,IAAIgV,EAAOrV,KAAKkF,KAAK+mD,OAAO5rD,EAAI6G,IAEhC,OADAlH,KAAK8M,UAAU,eAAgB,CAACzM,IACzBL,KAAKsE,KAAKylC,cAAc1pC,EAAKL,KAAKsE,KAAM+Q,IAAShV,EAAIqmD,UAAY1mD,KAAKsE,KAAK,WAAajE,EAAIqmD,WAAWrmD,EAAKL,KAAKsE,KAAM+Q,GAAQrV,KAAKsE,KAAKulB,SAASxpB,EAAKL,KAAKsE,KAAM+Q,IAASrV,KAAKsE,KAAK0lC,eAE9LgwC,kBAAmB,SAAU35E,GAE3B,OADAL,KAAKijC,MAAMxsB,UAAYzW,KAAK+5E,YAAY15E,GACjCL,KAAKijC,MAAMvyB,YAGpBiZ,QAAS,SAAUtpB,GAEjByF,GAAQzF,EAAIqmD,WAAa1mD,KAAKsE,KAAK,WAAajE,EAAIqmD,WAAY,oCAAsCrmD,EAAIqmD,WAE1G,IAAI1uC,EAAO,qDAAuD3X,EAAIg4D,OAAS,KAAOr4D,KAAK+5E,YAAY15E,GAIvG,OAFIA,EAAImS,OAAMwF,GAAQhY,KAAKi6E,aAAa55E,EAAI6G,KAC5C8Q,GAAQ,UAGViiE,aAAc,SAAU/yE,GACtB,IAAI8Q,EAAO,GACPkiE,EAASl6E,KAAKkF,KAAKupD,OAAOvnD,GAE9B,GAAIgzE,EAAQ,CACVliE,GAAQ,sDAGR,IAFA,IAAI8vB,EAAOoyC,EAAOz4E,OAAS,EAElBf,EAAI,EAAGA,GAAKonC,EAAMpnC,IAAK,CAC9B,IAAIL,EAAML,KAAK8jC,QAAQo2C,EAAOx5E,IAC1B8C,EAAQxD,KAAKsE,KAAK61E,0BACR,IAAV32E,IAAaA,EAAMnD,EAAIg4D,QAAU33D,GAAKonC,GAC1C9vB,GAAQhY,KAAK2pB,QAAQtpB,GAGvB2X,GAAQ,SAGV,OAAOA,GAGT8R,OAAQ,SAAU5iB,EAAIhC,EAAMZ,GAG1B,GAFAw1E,GAAgB5uC,KAAOlrC,KAElBA,KAAKgqB,UAAUhqB,KAAKoN,UAAUlG,MAAOlH,KAAKkmD,aAA/C,CAEA,GAAIh/C,EAAI,CACN,IAAI+mE,EAAM5jE,EACN4S,EAAOjd,KAAK8jC,QAAQ58B,GAExB,GAAY,OAAR5C,KACF2pE,EAAOjuE,KAAKglD,YAAY99C,IACb,OAGb,OAAQ5C,GACN,IAAK,SACH,IAAImqD,EAASwf,EAAK51D,WAElBE,GADAlO,EAAOrK,KAAK0tE,cAAczwD,GACPwxC,GACnBxjD,GAAOwjD,GACPzuD,KAAK+iC,SAAW,KAChB,MAEF,IAAK,QACL,IAAK,SAEHxqB,GADAlO,EAAOrK,KAAK+iC,SAAS77B,GAAMlH,KAAKg6E,kBAAkB/8D,GAC/BgxD,GACnBhjE,GAAOgjE,GACP,MAEF,IAAK,SAEHhjE,GAAOgjE,EAAK51D,YACZ,MAEF,IAAK,MACH,IAAI1K,EAGJ,GAAoB,GAAhBsP,EAAK0sC,QACPh8C,EAAS3N,KAAKiqB,SAASvZ,gBAClB,GAAI1Q,KAAK8jC,QAAQ7mB,EAAK0sC,SAASn3C,OACpC7E,EAAS3N,KAAKglD,YAAY/nC,EAAK0sC,UAEnB,CAGV,IAAKh8C,EAAOq/B,YAAa,CACvB,IAAIotC,EAAQtiE,GAAO,MAAO,CACxB0D,MAAS,qBACR,IACH7N,EAAO0K,WAAWX,YAAY0iE,GAGhCzsE,EAASA,EAAOq/B,YAIpB,GAAIr/B,EAAQ,CACV,IAAItM,EAAOrB,KAAKkF,KAAKm1E,iBAAiBnzE,IACtC7F,EAAOrB,KAAKglD,YAAY3jD,MACdA,EAAOA,EAAKgX,YACtBhO,EAAOrK,KAAK0tE,cAAczwD,GAC1Bjd,KAAK+iC,SAAS77B,GAAMmD,EAAKqG,WACzB6H,GAAalO,EAAMhJ,EAAMsM,GAG3B,cAGA,OAAO,EAGX3N,KAAK8M,UAAU,kBAAmB,CAAC5F,EAAIhC,EAAMZ,SAGzCtE,KAAK8M,UAAU,iBAAkB,CAAC9M,KAAKkF,SAEzClF,KAAKsE,KAAK61E,0BAA4B,GAEtCn6E,KAAKiqB,SAASxT,UAAYzW,KAAKi6E,aAAa,GAC5Cj6E,KAAK+iC,SAAW,KAEhB/iC,KAAK8M,UAAU,gBAAiB,KAOpC,OAFA9M,KAAKsE,KAAK61E,0BAA4B,EACtCL,GAAgB5uC,KAAO,MAChB,IAET8Z,YAAa,SAAU2oB,GACrB,GAAI3tE,KAAK+iC,SAAU,OAAO/iC,KAAK+iC,SAAS4qC,GAExC3tE,KAAK+iC,SAAW,GAIhB,IAFA,IAAIx1B,EAAIvN,KAAKiqB,SAAS/b,qBAAqB,OAElCxN,EAAI,EAAGA,EAAI6M,EAAE9L,OAAQf,IAAK,CACjC,IAAIwG,EAAKqG,EAAE7M,GAAGsO,aAAahP,KAAKg5D,KAE5B9xD,IAAIlH,KAAK+iC,SAAS77B,GAAMqG,EAAE7M,IAIhC,OAAOV,KAAKglD,YAAY2oB,IAE1B2M,yBAA0B,GAGxBC,GAAoB,CACtBC,wBAAyB,WACvB,GAAIx6E,KAAKs6E,yBAA0B,CACjC,IAAIz0C,EAAa7lC,KAAK8pB,OAEtB9pB,KAAK8pB,OAAS,SAAU5iB,EAAIhC,GAC1B,IAAIu1E,EAAU50C,EAAWj9B,MAAM5I,KAAMsG,WACjCtG,KAAKoN,UAAUmrE,YAAckC,GAAmB,YAARv1E,GAAoBlF,KAAK06E,eAAe9xE,MAAM5I,KAAMsG,YAGlGtG,KAAKw6E,wBAA0B,eAGnCG,kBAAmB,SAAUn5E,GAE3B,OADIA,GAAOxB,KAAKw6E,0BACTh5E,GAETk5E,eAAgB,SAAUxzE,GACxB,IAAIxG,EAAGw5E,EAAQU,EAASC,EAAgBjC,EAaxC,GAZAgC,EAAU,GACVhC,EAAO54E,KAGHkH,IAAO0xE,EAAK1zE,KAAKklB,KAAKljB,KACxBA,EAAK,IAOFA,GAAM0xE,EAAK1zE,KAAKklB,KAAKljB,GAAIm8D,OAM5B,KALA6W,EAASl6E,KAAK86E,cAAc5zE,IACrB8hB,MAAK,SAAU/f,EAAG4E,GACvB,OAAO+qE,EAAK1zE,KAAKklB,KAAKvc,GAAGwqD,OAASugB,EAAK1zE,KAAKklB,KAAKnhB,GAAGovD,UAGjD33D,EAAI,EAAGA,EAAIw5E,EAAOz4E,OAAQf,IACxBA,GAAKk4E,EAAK1zE,KAAKklB,KAAK8vD,EAAOx5E,IAAIipD,SAAWivB,EAAK1zE,KAAKklB,KAAK8vD,EAAOx5E,EAAI,IAAIipD,UAASixB,EAAUA,EAAQpkD,OAAOoiD,EAAKmC,qBAAqBb,EAAOx5E,WAIlJk6E,EAAUA,EAAQpkD,OAAOoiD,EAAKmC,qBAAqB7zE,IAKrD,IAFA2zE,EAAiB,GAEZn6E,EAAI,EAAGA,EAAIk6E,EAAQn5E,OAAQf,IACzBm6E,EAAeD,EAAQl6E,MAC1Bm6E,EAAeD,EAAQl6E,IAAM,EAE7BV,KAAKg7E,0BAA0BJ,EAAQl6E,KAI3Ck4E,EAAO,MAEToC,0BAA2B,SAAU9zE,GACnC,IAAI+zE,EACGj7E,KAAKglD,YAAY99C,KAGtBlH,KAAK8pB,OAAO5iB,EAAI,WAAY,UAGxBlH,KAAK8jC,QAAQ58B,GAAIg0E,gBAEnBD,EADOj7E,KAAKglD,YAAY99C,GACVgH,qBAAqB,SAAS,MAChC+sE,EAAOC,cAAgBl7E,KAAK8jC,QAAQ58B,GAAIg0E,iBAI1DH,qBAAsB,SAAUI,GAG9B,IAAIngB,EAASogB,EAAcF,EAAehhB,EAAUvuD,EAAQ0vE,EAAaC,MACzEphB,EAAWl6D,KAAKu3D,YAAY4jB,GAC5BxvE,EAAS,GAEFuuD,GAAwB,KAAZA,GAAiB,CAClCmhB,EAAc,EACdD,EAAe,EACfp7E,KAAKkF,KAAKq2E,UAAUrhB,GAAU,SAAU75D,GAClCA,EAAI66E,cACNG,IACSh7E,EAAI26D,SACbogB,OAGJpgB,EAAUkgB,EAAgBI,GAAa,EACvC,IAAIr+D,EAAOjd,KAAK8jC,QAAQo2B,GAEpBkhB,GAAgBn+D,EAAKomD,OACvBrI,GAAU,GACDogB,EAAe,GAAKC,EAAc,KAC3CH,GAAgB,IAIdA,GAAiBA,GAAiBj+D,EAAKi+D,iBAAeI,GAAa,GACvEr+D,EAAKi+D,cAAgBA,GACjBlgB,GAAW/9C,EAAK+9C,SAAWA,KAASsgB,GAAa,GACrDr+D,EAAK+9C,QAAUA,EAEXsgB,GACF3vE,EAAOpK,KAAK24D,GACZA,EAAWl6D,KAAKu3D,YAAY2C,IACvBA,EAAW,EAGpB,OAAOvuD,GAIT6vE,WAAY,WACV,IAAI7vE,EAAS,GACTitE,EAAO54E,KAIX,OAHAA,KAAKkF,KAAKkzE,YAAY,GAAG,SAAU/3E,GAC7Bu4E,EAAKhiD,UAAUv2B,EAAI6G,KAAKyE,EAAOpK,KAAKlB,EAAI6G,OAEvCyE,GAET6sE,sBAAuB,SAAUtxE,EAAI4K,GACnC,IAAImL,EAAOjd,KAAK8jC,QAAQ58B,GAExB,GAAI+V,IACW,KAATnL,IAAaA,GAAQmL,EAAK+9C,SAE1B/9C,EAAK+9C,SAAWlpD,GAAQmL,EAAKi+D,eAAe,CAC9Cj+D,EAAK+9C,QAAUlpD,EAEf9R,KAAKy7E,mBAAmBv0E,GAExB,IAAI0zE,EAAU56E,KAAK+6E,qBAAqB7zE,GAExC,GAAIlH,KAAKs6E,0BAA4BM,EAAQn5E,OAAS,EACpD,IAAK,IAAIf,EAAI,EAAGA,EAAIk6E,EAAQn5E,OAAQf,IAClCV,KAAKg7E,0BAA0BJ,EAAQl6E,SAEpCV,KAAKmqB,UAEZnqB,KAAK8M,UAAU,cAAe,CAAC5F,EAAI4K,MAMzC4pE,UAAW,SAAUx0E,GACnBlH,KAAKs4E,oBAAoBpxE,GAAI,GAE7BlH,KAAKklC,WAAWh+B,IAIlBy0E,YAAa,SAAUz0E,GACrBlH,KAAKs4E,oBAAoBpxE,GAAI,GAE7BlH,KAAKklC,WAAWh+B,IAElB00E,iBAAkB,SAAU10E,EAAI4K,EAAM3M,GACpC,IAAIiD,EAAS0J,EAAO,YAAc,cAC7B5K,EAAgBlH,KAAKoI,GAAQlB,GAAzBA,EAAK,EAEVlH,KAAKoN,UAAUmrE,WACZrxE,GAAIlH,KAAKkF,KAAKq2E,UAAU,GAAG,SAAUt+D,GACxCjd,KAAKoI,GAAQ6U,EAAK/V,MACjBlH,KAAMmF,GACJnF,KAAKkF,KAAKiG,MAAK,SAAU8R,GAC9Bjd,KAAKoI,GAAQ6U,EAAK/V,MACjBlH,KAAMmF,EAAK+B,IAIhB20E,SAAU,SAAU30E,EAAI/B,GACtBnF,KAAK47E,iBAAiB10E,GAAI,EAAM/B,IAIlC22E,WAAY,SAAU50E,EAAI/B,GACxBnF,KAAK47E,iBAAiB10E,GAAI,EAAO/B,IAEnCs2E,mBAAoB,SAAUv0E,GAC5B,IAAI1D,EACAyZ,EAAOjd,KAAK8jC,QAAQ58B,GACxB+V,EAAKi+D,eAAgB,EACrB13E,EAAQyZ,EAAK+9C,QACbh7D,KAAKkF,KAAKkzE,YAAYlxE,GAAI,SAAUwH,GAClCA,EAAMwsE,eAAgB,EACtBxsE,EAAMssD,QAAUx3D,KAGdxD,KAAKs6E,0BAA4Bt6E,KAAKy4E,aAAax7D,EAAK0sC,UAE1D3pD,KAAK8pB,OAAO5iB,EAAI,EAAG,WAKvB0vB,UAAW,SAAU1vB,GACnB,OAAOlH,KAAK8jC,QAAQ58B,GAAI8zD,SAI1B8f,cAAe,SAAU5gB,GACvB,IAAIvuD,EAAS,GAIb,OAHA3L,KAAKkF,KAAKkzE,YAAYle,GAAU,SAAU75D,EAAKouD,GACxCA,GAAQ9iD,EAAOpK,KAAKlB,EAAI6G,OAExByE,IAOPowE,GAAY,CACdn2E,KAAM,YACNoE,MAAO,WACLhK,KAAK4wD,YAAc,CAEjBorB,cAAc,GAEhBh8E,KAAKyuD,OAAS,CACZ,EAAG,IAELzuD,KAAK6M,YAAY,WAAW,SAAUoZ,GACpCjmB,KAAK+uD,kBAAkB9oC,EAAOvX,UAEhC1O,KAAK6M,YAAY,aAAcpE,GAAK,WAClCzI,KAAK0uD,eAAiB,OACrB1uD,QAELi8E,kBAAmB,SAAUnqE,GAC3B,OAAOnS,EAAQ8J,OAAOzJ,KAAK4wD,YAAa9+C,GAAM,IAEhDy+C,cAAe,SAAUC,GAEvB,GAAIxwD,KAAK0uD,iBAAmB8B,EAAU,CAIpC,IAAK,IAAIn/C,KAHTrR,KAAKyuD,OAASzuD,KAAK0uD,eACnB1uD,KAAK03B,MAAQ/sB,EAAU9C,EAAK7H,KAAKyuD,OAAO,KAExBzuD,KAAKyuD,OACR,KAAPp9C,IACFrR,KAAK8jC,QAAQzyB,GAAKgyD,OAASrjE,KAAKyuD,OAAOp9C,GAAK5P,eAGzCzB,KAAK0uD,iBAGhB+B,aAAc,SAAUplD,EAAQ7J,EAAOgvD,EAAU0rB,GAQ1C1rB,GAAaxwD,KAAK0uD,iBACrB1uD,KAAK0uD,eAAiB1uD,KAAKyuD,OAC3BzuD,KAAKyuD,OAAS/mD,EAAM1H,KAAKyuD,SAG3BzuD,KAAKyuD,OAAO,GAAKzuD,KAAKm8E,mBAAmB9wE,EAAQ7J,EAAOxB,KAAKyuD,OAAO,GAAI,EAAGytB,GAAc,KAE3FC,mBAAoB,SAAU9wE,EAAQ7J,EAAOitD,EAAQuT,EAAO/6D,GAK1D,IAHA,IAAIqpD,EAAW,GACX/a,EAAQtuC,EAAO+6D,OAAS/6D,EAAO+6D,OAASA,EAEnCthE,EAAI,EAAGA,EAAI+tD,EAAOhtD,OAAQf,IAAK,CACtC,IAAIwG,EAAKunD,EAAO/tD,GACZuc,EAAOjd,KAAK8jC,QAAQ58B,GACpBk1E,GAAY,EACZ1vE,EAAM1M,KAAKyuD,OAAOvnD,GAEtB,GAAIquC,EACF6mC,GAAY,OACP,GAAI/wE,EAAOrL,KAAK8jC,QAAQ58B,GAAK1F,GAAQ,CAG1C,GAFA8uD,EAAS/uD,KAAK2F,IAEa,IAAvBD,EAAOo1E,gBACT,IAAIniB,EAAWl6D,KAAKu3D,YAAYrwD,GAEzBgzD,GAAwB,KAAZA,GACjBl6D,KAAK8jC,QAAQo2B,GAAU1nD,KAAO,EAC9B0nD,EAAWl6D,KAAKu3D,YAAY2C,GAKhC,GAAIjzD,EAAO+6D,OAAS/6D,EAAO+0E,aAAc,cAGzCI,GAAY,EAId,IAAI7mC,IAAUtuC,EAAO+6D,QACft1D,EAAK,CACP,IAAI4vE,EAASt8E,KAAKyuD,OAAOvnD,GAAMlH,KAAKm8E,mBAAmB9wE,EAAQ7J,EAAOkL,EAAKs1D,EAAQ,EAAG/6D,GAEtFgW,EAAKomD,OAASiZ,EAAO76E,OACjB26E,GAAaE,EAAO76E,QAAQ6uD,EAAS/uD,KAAK2F,IAKpD,OAAOopD,GAET3+C,MAAO,WACL,GAAI3R,KAAK03B,MAAMj2B,OAAQ,OAAOzB,KAAK03B,MAAMj2B,OAEzC,IAAIkQ,EAAQ,EAIZ,OAHA3R,KAAKu8E,UAAS,WACZ5qE,OAEKA,GAET6qE,kBAAmB,SAAUC,EAAU9uE,EAAQioC,EAAK/gC,GAClD,GAAI4nE,EAAS7mC,GAAM,CAGjB,IAFA,IAAI6Y,EAASguB,EAAS5nE,GAAS4nE,EAAS7mC,GAE/Bl1C,EAAI,EAAGA,EAAI+tD,EAAOhtD,OAAQf,IACjCV,KAAK8jC,QAAQ2qB,EAAO/tD,IAAIipD,QAAU90C,SAG7B4nE,EAAS7mC,GAGlB,GAAI6mC,EAAS9uE,GAAS,CACpB,IAAI0P,EAAQxT,EAAaqB,KAAK9I,KAAKq6E,EAAS9uE,GAASioC,GAEjDv4B,GAAS,IAAGo/D,EAAS9uE,GAAQ0P,GAASxI,KAG9C22C,SAAU,SAAU5V,EAAK/gC,GACvB,GAAI+gC,GAAO/gC,EAAX,CACA,IAAIlH,EAAS3N,KAAK8jC,QAAQ8R,GAAK+T,QAM/B,OAJA3pD,KAAKw8E,kBAAkBx8E,KAAKyuD,OAAQ9gD,EAAQioC,EAAK/gC,GAG7C7U,KAAK0uD,gBAAgB1uD,KAAKw8E,kBAAkBx8E,KAAK0uD,eAAgB/gD,EAAQioC,EAAK/gC,GAC3Ek3C,GAAUxrD,UAAUirD,SAASppD,KAAKpC,KAAM41C,EAAK/gC,KAEtDgS,SAAU,SAAU2oC,GAClBxvD,KAAKyuD,OAAS,CACZ,EAAG,IAEL1C,GAAUxrD,UAAUsmB,SAASzkB,KAAKpC,KAAMwvD,IAE1CktB,iBAAkB,SAAUx1E,GAC1B,IAAIwwB,EAAQ13B,KAAKyuD,OAAOzuD,KAAK8jC,QAAQ58B,GAAIyiD,SACrC7+C,EAAMjB,EAAaqB,KAAK9I,KAAKs1B,EAAOxwB,GAAM,EAC9C,OAAI4D,GAAO,EAAU4sB,EAAM5sB,GACpB,MAETuvE,iBAAkB,SAAUnzE,GAC1B,IAAIwwB,EAAQ13B,KAAKyuD,OAAOzuD,KAAK8jC,QAAQ58B,GAAIyiD,SACrC7+C,EAAMjB,EAAaqB,KAAK9I,KAAKs1B,EAAOxwB,GAAM,EAC9C,OAAI4D,EAAM4sB,EAAMj2B,OAAei2B,EAAM5sB,GAC9B,MAETysD,YAAa,SAAUrwD,GACrB,OAAOlH,KAAK8jC,QAAQ58B,GAAIyiD,SAE1BgzB,gBAAiB,SAAUz1E,GACzB,IAAIwwB,EAAQ13B,KAAKyuD,OAAOvnD,GACxB,OAAIwwB,GAASA,EAAMj2B,OAAei2B,EAAM,GACjC,MAETklD,SAAU,SAAUjvE,GAClB,QAAS3N,KAAKyuD,OAAO9gD,IAEvB2pD,eAAgB,SAAU5oD,GACxB,IAAInB,EAAIvN,KAAKyuD,OAAOzuD,KAAKoqB,KAAK1b,GAAOi7C,SACrC,OAAO9/C,EAAaqB,KAAK9I,KAAKmL,EAAGmB,IAEnCqgD,kBAAmB,SAAU8tB,GACQ78E,KAAK8uD,kBAAf,iBAAd+tB,EAAiD,SAAUx8E,GACpE,IAAIkN,EAAIlN,EAAIw8E,GAEZ,OADItvE,UAAUlN,EAAIw8E,GACXtvE,GACuBsvE,GAElCzwB,aAAc,SAAUz/B,EAAMw/B,GAG5B,IAFA,IAAIx+C,EAASgf,EAAKhf,QAAU,EAEnBjN,EAAI,EAAGA,EAAIyrD,EAAK1qD,OAAQf,IAAK,CAEpC,IAAIgP,EAAO1P,KAAKimB,OAAOtX,WAAWw9C,EAAKzrD,IACnCwG,EAAKlH,KAAKkH,GAAGwI,GAEbuF,IAAWjV,KAAKoqB,KAAKljB,GAErB+N,GACFvF,EAAO/P,EAAQ8J,OAAOzJ,KAAKoqB,KAAKljB,GAAKwI,GAAM,GACvC1P,KAAK4sD,gBAAgB5sD,KAAK4sD,eAAel9C,KAEzC1P,KAAK6sD,cAAc7sD,KAAK6sD,aAAan9C,GACzC1P,KAAKoqB,KAAKljB,GAAMwI,GAGlB1P,KAAK6uD,aAAan/C,EAAM/B,EAAQ,EAAGsH,EAAQ0X,EAAKtqB,KAAmB,EAAZsqB,EAAKtqB,KAAW3B,EAAI,GAI7E,IAAIo8E,EAAQ98E,KAAKoqB,KAAKzc,IAAW,GAC7BovE,EAAU/8E,KAAKyuD,OAAO9gD,IAAW,GACrCmvE,EAAMzZ,OAAS0Z,EAAQt7E,cAChBq7E,EAAME,WACTrwD,EAAK3lB,MAAQ2lB,EAAK3lB,MAAQ+1E,EAAQt7E,SAAQs7E,EAAQpwD,EAAK3lB,KAAO,QAAK9F,IAEzE2tD,aAAc,SAAUxuD,EAAKsN,EAAQq0D,EAAO/sD,EAAQ5S,GAElDhC,EAAIgjE,OAAS,EAEbhjE,EAAIspD,QAAoB,KAAVh8C,EAAgBA,EAAS,EACvCtN,EAAIg4D,OAAS2J,IAAoB,KAAVr0D,EAAgB3N,KAAKoqB,KAAKzc,GAAQ0qD,OAAS,EAAI,GACtE,IAAI4kB,EAAgBj9E,KAAKyuD,OAAOpuD,EAAIspD,UAC/BszB,IAAeA,EAAgBj9E,KAAKyuD,OAAOpuD,EAAIspD,SAAW,IAC3D3pD,KAAK0uD,iBAAgB1uD,KAAK0uD,eAAeruD,EAAIspD,SAAWszB,GAEvDhoE,KAEHgoE,EADU56E,GAAQ46E,EAAcx7E,QACXpB,EAAI6G,IAG3B,IAAIwH,EAAQ1O,KAAK8uD,kBAAkBzuD,GAEnC,GAAIA,EAAI28E,WACN,OAAO38E,EAAIgjE,QAAS,EAGtB,IAAK30D,EACH,OAAOrO,EAAIgjE,OAAS,EAEjBh7D,EAAQqG,KAAQA,EAAQ,CAACA,IAE9B,IAAK,IAAIhO,EAAI,EAAGA,EAAIgO,EAAMjN,OAAQf,IAAK,CAErC,IAAIuc,EAAO6H,GAAWrR,KAAK9E,WAAWD,EAAMhO,IACxCw8E,EAASl9E,KAAKkH,GAAG+V,IACrBhI,IAAWjV,KAAKoqB,KAAK8yD,KAGnBjgE,EAAOtd,EAAQ8J,OAAOzJ,KAAKoqB,KAAK8yD,GAASjgE,GAAM,GAC3Cjd,KAAK4sD,gBAAgB5sD,KAAK4sD,eAAe3vC,KAEzCjd,KAAK6sD,cAAc7sD,KAAK6sD,aAAa5vC,GACzCjd,KAAKoqB,KAAK8yD,GAAUjgE,GAGtBjd,KAAK6uD,aAAa5xC,EAAM5c,EAAI6G,GAAI7G,EAAIg4D,OAAS,EAAGpjD,GAIlD,IAAIw5C,EAASzuD,KAAKyuD,OAAOpuD,EAAI6G,IACzBunD,IAAQpuD,EAAIgjE,OAAS5U,EAAOhtD,SAElC23E,eAAgB,SAAUhuE,GACxBpL,KAAK03B,MAAQ/sB,IAEb3K,KAAKm9E,iBAAiBn9E,KAAK03B,MAAO,EAAGtsB,IAEvC+xE,iBAAkB,SAAUzlD,EAAOhb,EAAOtR,GAGxC,IAFA,IAAIqjD,EAASzuD,KAAKyuD,OAAO/xC,GAEhBhc,EAAI,EAAGA,EAAI+tD,EAAOhtD,OAAQf,IAAK,CACtC,IAAIwG,EAAKunD,EAAO/tD,GAChBg3B,EAAMn2B,KAAK2F,GACX,IAAI+V,EAAOjd,KAAKoqB,KAAKljB,GAEjB+V,GAAQA,EAAKzK,QACI,GAAfyK,EAAKomD,OAAcj4D,EAAO8jE,WAAWhoE,GAAa+V,EAAKomD,QAAQrjE,KAAKm9E,iBAAiBzlD,EAAOxwB,EAAIkE,MAI1G2lD,WAAY,SAAUjpD,EAAQkpD,GAG5B,IAFA,IAAIQ,EAAO,CAAC,mBAAoB,mBAAoB,cAAe,kBAAmB,WAAY,iBAAkB,qBAE3G9wD,EAAI,EAAGA,EAAI8wD,EAAK/vD,OAAQf,IAC/BoH,EAAO0pD,EAAK9wD,IAAMV,KAAK8wD,YAAY9wD,KAAMwxD,EAAK9wD,IAG3CoH,EAAOm+C,cAAc8F,GAAUxrD,UAAUwwD,WAAW3uD,KAAKpC,KAAM8H,EAAQkpD,IAE9EosB,YAAa,WACX,OAAOzyE,EAAU,GAAG6rB,OAAOx2B,KAAKyuD,OAAO,KAAKnpD,KAAI,SAAU4B,GACxD,OAAOlH,KAAK8jC,QAAQ58B,KACnBlH,OAELu7E,UAAW,SAAUr0E,EAAIwB,EAAS0C,EAAQjG,GACxC,IAAIspD,EAASzuD,KAAKyuD,OACdtpD,GAAOnF,KAAK0uD,iBAAgBD,EAASzuD,KAAK0uD,gBAC9C,IAAIhhD,EAAQ+gD,EAAOvnD,GACnB,GAAIwG,EAAO,IAAK,IAAIhN,EAAI,EAAGA,EAAIgN,EAAMjM,OAAQf,IACvCgN,EAAMhN,IAAIgI,EAAQtG,KAAKgJ,GAAUpL,KAAMA,KAAK8jC,QAAQp2B,EAAMhN,MAGlEyK,KAAM,SAAU/C,EAAQgD,EAAQjG,EAAK+B,GACnClH,KAAKu7E,UAAUr0E,GAAM,GAAG,SAAU+V,GAChC,IAAIwxC,EAASzuD,KAAKyuD,OAClBrmD,EAAOhG,KAAKgJ,GAAUpL,KAAMid,GACxB9X,GAAOnF,KAAK0uD,iBAAgBD,EAASzuD,KAAK0uD,gBAC1CzxC,GAAQwxC,EAAOxxC,EAAK/V,KAAKlH,KAAKmL,KAAK/C,EAAQgD,EAAQjG,EAAK8X,EAAK/V,MAChElH,KAAMmF,IAEXo3E,SAAU,SAAUn0E,EAAQgD,EAAQlE,GAClClH,KAAKu7E,UAAUr0E,GAAM,GAAG,SAAU+V,GAChC7U,EAAOhG,KAAKgJ,GAAUpL,KAAMid,GACxBjd,KAAKyuD,OAAOxxC,EAAK/V,KAAO+V,EAAKzK,MAAMxS,KAAKu8E,SAASn0E,EAAQgD,EAAQ6R,EAAK/V,QAG9EkxE,YAAa,SAAUlxE,EAAIwB,GACzB,IAAI6Q,EAAMvZ,KAAKyuD,OAAOvnD,GAAM,GAC5B,GAAIqS,EAAK,IAAK,IAAI7Y,EAAI,EAAGA,EAAI6Y,EAAI9X,OAAQf,IAAK,CAC5C,IAAI2Q,EAAMkI,EAAI7Y,GAEVV,KAAKyuD,OAAOp9C,IACd3I,EAAQtG,KAAKpC,KAAMA,KAAK8jC,QAAQzyB,IAAM,GACtCrR,KAAKo4E,YAAY/mE,EAAK3I,IACjBA,EAAQtG,KAAKpC,KAAMA,KAAK8jC,QAAQzyB,IAAM,KAGjDgsE,SAAU,SAAUn2E,EAAIwB,GACtB,IAAI6Q,EAAMvZ,KAAKyuD,OAAOvnD,GAAM,GAC5B,GAAIqS,EAAK,IAAK,IAAI7Y,EAAI,EAAGA,EAAI6Y,EAAI9X,OAAQf,IAAK,CAC5C,IAAI2Q,EAAMkI,EAAI7Y,GAEVV,KAAKyuD,OAAOp9C,GACdrR,KAAKq9E,SAAShsE,EAAK3I,GACdA,EAAQtG,KAAKpC,KAAMA,KAAK8jC,QAAQzyB,IAAM,KAGjD8+C,WAAY,SAAUF,EAAQv4B,GAC5B,IAAK,IAAIrmB,KAAOrR,KAAKyuD,OAAQ,CAI3B,IAHA,IAAI6uB,EAAOt9E,KAAKyuD,OAAOp9C,GACnBnM,EAAO,GAEFxE,EAAI,EAAGA,EAAI48E,EAAK77E,OAAQf,IAC/BwE,EAAK3D,KAAKvB,KAAKoqB,KAAKkzD,EAAK58E,KAG3BwE,EAAK8jB,KAAKinC,GAEV,IAAK,IAAI7uD,EAAK,EAAGA,EAAKk8E,EAAK77E,OAAQL,IACjC8D,EAAK9D,GAAM8D,EAAK9D,GAAI8F,GAGtBlH,KAAKyuD,OAAOp9C,GAAOnM,EAGrB,OAAOwyB,GAETwF,IAAK,SAAU78B,EAAKgd,EAAOkgE,GACzB,IAAIC,GAAiB,EACjB7vE,EAAS3N,KAAK8jC,QAAQy5C,GAAO,GAgBjC,GAdI5vE,IAEG3N,KAAKyuD,OAAO9gD,EAAOzG,MAAKs2E,GAAiB,GAC9C7vE,EAAO01D,SAGF11D,EAAO01D,SAAQ11D,EAAO01D,OAAS,IAGtCrjE,KAAKyuD,OAAO8uB,GAAO,GAAKv9E,KAAK03B,MAAQ/sB,EAAU3K,KAAKyuD,OAAO8uB,GAAO,IAClEl9E,EAAIgjE,OAAShjE,EAAI28E,YAAa,EAAK,EACnC38E,EAAIg4D,OAAS1qD,EAASA,EAAO0qD,OAAS,EAAI,EAC1Ch4D,EAAIspD,QAAUh8C,EAASA,EAAOzG,GAAK,EAE/BlH,KAAK0uD,eAAgB,CAEvB,IAAI9iD,EAAS5L,KAAK0uD,eAAe6uB,GAAO,GAIxC,GAFK3xE,IAAQA,EAAS5L,KAAK0uD,eAAe6uB,GAAOv9E,KAAK03B,OAElD13B,KAAK03B,QAAU9rB,EAAQ,CAGzB,IAAI2jD,EAAiB3jD,EAAOnK,QAEvB4b,GAASrd,KAAKyuD,OAAO8uB,GAAO,GAAG97E,SAAQ8tD,EAAiB,GAC7D3jD,EAASjB,EAAUiB,GACnBvL,EAAI6G,GAAK7G,EAAI6G,IAAMiD,IACnByB,EAAO9B,SAASzJ,EAAI6G,GAAIqoD,IAK5B,IAAI5jD,EAASogD,GAAUxrD,UAAU28B,IAAI96B,KAAKpC,KAAMK,EAAKgd,GAErD,OADImgE,GAAgBx9E,KAAKmqB,QAAQozD,GAC1B5xE,GAET8xE,YAAa,SAAUv2E,GACrB,IAAI7G,EAAML,KAAKoqB,KAAKljB,GAEpB,GAAIlH,KAAKyuD,OAAOpuD,EAAI6G,KAAOlH,KAAKyuD,OAAOpuD,EAAI6G,IAAIzF,OAAS,EAGtD,IAFA,IAAIgtD,EAASzuD,KAAKyuD,OAAOvnD,GAEhBxG,EAAI,EAAGA,EAAI+tD,EAAOhtD,OAAQf,IACjCV,KAAKy9E,YAAYhvB,EAAO/tD,IAAI,UAIzBV,KAAKyuD,OAAOvnD,GACflH,KAAK0uD,uBAAuB1uD,KAAK0uD,eAAexnD,UAC7ClH,KAAKoqB,KAAKljB,GACblH,KAAKisD,OAAO/kD,WAAYlH,KAAKisD,OAAO/kD,IAE1Cw2E,gBAAiB,SAAUtzD,EAAM8vC,EAAUhzD,GACzC,IAAIunD,EAASrkC,EAAK8vC,GAEG,GAAjBzL,EAAOhtD,QAAegtD,EAAO,IAAMvnD,GAAMgzD,SACpC9vC,EAAK8vC,GACPvvD,EAAU8jD,GAAQxjD,OAAO/D,IAElC+D,OAAQ,SAAU/D,GAEhB,GAAImB,EAAQnB,GACV,IAAK,IAAIxG,EAAI,EAAGA,EAAIwG,EAAGzF,OAAQf,IAC7BV,KAAKiL,OAAO/D,EAAGxG,QAFnB,CAQAoF,EAAO9F,KAAKurD,OAAOrkD,GAAK,oCAAsCA,GAC9D,IAAI7G,EAAML,KAAKoqB,KAAKljB,GAChBgzD,EAAW75D,EAAIspD,SAAW,EAC9B,IAA+C,IAA3C3pD,KAAK8M,UAAU,iBAAkB,CAAC5F,IAAgB,OAAO,EAE7DlH,KAAKy9E,YAAYv2E,GAEjBlH,KAAK8M,UAAU,gBAAiB,CAAC5F,IACjC,IAAIyG,EAAS3N,KAAKoqB,KAAK8vC,GAEvBl6D,KAAK09E,gBAAgB19E,KAAKyuD,OAAQyL,EAAUhzD,GAExClH,KAAK0uD,gBAAgB1uD,KAAK09E,gBAAgB19E,KAAK0uD,eAAgBwL,EAAUhzD,GAC7E,IAAIs2E,EAAiB,EAEjB7vE,IACFA,EAAO01D,SAEH11D,EAAO01D,QAAU,IACnB11D,EAAO01D,OAAS,EAChB11D,EAAO6E,KAAO,EACdgrE,EAAiB,IAKrBx9E,KAAK8M,UAAU,iBAAkB,CAAC5F,EAAI7G,EAAK,WACvCm9E,GAAgBx9E,KAAKmqB,QAAQxc,EAAOzG,MAM1C+8B,UAAW,SAAU/8B,GACnB,IAAIy2E,EAAM,GACNvS,GAASprE,KAAK0uD,gBAAkB1uD,KAAKyuD,QAAQvnD,GACjD,GAAIkkE,EAAO,IAAK,IAAI1qE,EAAI,EAAGA,EAAI0qE,EAAM3pE,OAAQf,IAC3Ci9E,EAAIj9E,GAAKV,KAAKoqB,KAAKghD,EAAM1qE,IAE3B,OAAOi9E,GAETrvB,UAAW,SAAUpnD,EAAI/B,GACvB,IAAIsrB,EAAOzwB,KAAKyuD,OAEZtpD,GAAOnF,KAAK0uD,iBAAgBj+B,EAAOzwB,KAAK0uD,gBAI5C,IAHA,IAAIiD,EAAMlhC,EAAKvpB,GAAM,GACjByE,EAAS,GAEJjL,EAAI,EAAGA,EAAIixD,EAAIlwD,OAAQf,IAAK,CACnC,IACI4gB,EADAjhB,EAAML,KAAKoqB,KAAKunC,EAAIjxD,IAGxB,GAAIV,KAAK0pD,mBAEP,IAAY,KADZpoC,EAAMthB,KAAK0pD,kBAAkBrpD,IACV,cACdihB,EAAMzZ,EAAKxH,GAEdowB,EAAKpwB,EAAI6G,MAAKoa,EAAIpc,KAAOlF,KAAKsuD,UAAUjuD,EAAI6G,GAAI/B,IACpDwG,EAAOpK,KAAK+f,GAGd,OAAO3V,IAIPiyE,GAAiB,CACnBz7B,OAAQ,SAAUj9C,GAGhB,IAFA,IAAIyI,EAAS3N,KAAKwjC,eAAc,GAAM,GAE7B9iC,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,IAAK,CAGpC,IAFA,IAAIuc,EAAO,GAEFskC,EAAI,EAAGA,EAAIvhD,KAAKoN,UAAU0Q,QAAQrc,OAAQ8/C,IACjDtkC,EAAKjd,KAAKoN,UAAU0Q,QAAQyjC,GAAGr6C,IAAMhC,EAAKxE,GAAG6gD,IAAM,IAGhDv4C,EAAYiU,EAAK/V,KAAOlH,KAAKurD,OAAOtuC,EAAK/V,MAAK+V,EAAK/V,GAAKiD,KAC7DnK,KAAKk9B,IAAIjgB,EAAM,KAAMtP,EAAO,OAK9BkwE,GAAW,CACb7gD,MAAO,SAAU38B,GAGf,IAFA,IAAI2X,EAAO,GAEFtX,EAAI,EAAGA,EAAIL,EAAIg4D,OAAQ33D,IAC9BsX,GAAQ,sCAGV,OAAOA,GAETukB,KAAM,SAAUl8B,GACd,OAAIA,EAAIgjE,OACFhjE,EAAImS,KAAa,sCAAkD,uCAC3D,uCAEhB0oD,SAAU,SAAU76D,GAClB,OAAIA,EAAIy9E,WAAmB,GACpB,uDAAyDz9E,EAAI26D,QAAU,UAAY,KAAO36D,EAAIwgB,SAAW,YAAc,IAAM,KAEtIk9D,OAAQ,SAAU19E,GAChB,OAAIA,EAAIk8B,KAAa,0CAA4Cl8B,EAAIk8B,KAAO,WAExEl8B,EAAIgjE,OACFhjE,EAAImS,KAAa,6CAAyD,wCAGzE,wCAIPwrE,GAAe,CACjBC,QAAS,WACP,GAAIj+E,KAAKk+E,aAGPl+E,KAAKkjC,YAAYxyB,WAAWgH,YAAY1X,KAAKk+E,kBAH/C,CAQAl+E,KAAKm+E,MAAMtxE,YAAY,iBAAkB7M,KAAKo+E,YAC9C,IAAIC,EAAe,CACjB/5E,KAAQ,OACRkX,MAAS,sBACT+vD,UAAU,GAERvrE,KAAKoN,UAAUkxE,SAAQD,EAAaC,OAASt+E,KAAKoN,UAAUkxE,QAC5Dt+E,KAAKoN,UAAUuqD,WAAU0mB,EAAa1mB,SAAW,QAEjD33D,KAAKoN,UAAUmxE,YACjBF,EAAaG,gBAAkB,OAC/BH,EAAaI,aAAe,OAC5BJ,EAAaE,UAAY,QAG3B,IAAI52E,EAAImQ,GAAO,QAASumE,GACxBr+E,KAAKk+E,aAAel+E,KAAKkjC,YAAYxyB,WAAWgH,YAAY/P,GAE5D4kB,GAAOvsB,KAAKgwB,SAAU,OAAQvnB,GAAK,SAAU1D,GAC3C/E,KAAKg5C,MAAMj0C,GACXyV,GAAazV,KACZ/E,OAEHusB,GAAO5kB,EAAG,SAAUc,GAAK,WAGvB,GAFAzI,KAAK0+E,WAAW/2E,EAAEw2E,OAEd7/D,GAAIe,KAAM,CACZ,IAAI9R,EAAIjD,SAASkM,cAAc,QAC/BjJ,EAAEmK,YAAY1X,KAAKk+E,cACnB3wE,EAAE2d,QAEFlrB,KAAKkjC,YAAYxyB,WAAWgH,YAAY/P,QACnCA,EAAEnG,MAAQ,KAChBxB,OAEHusB,GAAOvsB,KAAKgwB,SAAU,QAASvnB,GAAK,WACnB,IAAID,MAEHxI,KAAK2+E,qBAAuB,GAAK,KAC/C3+E,KAAK4+E,eAEN5+E,OAEHusB,GAAOvsB,KAAKgwB,SAAU,YAAaxV,IAEnC+R,GAAOvsB,KAAKgwB,SAAU,WAAYxV,IAElC+R,GAAOvsB,KAAKgwB,SAAU,WAAYxV,MAEpCqkE,gBAAiB,SAAUr9E,GACzB,OAAOA,EAAMs9E,aAEfC,eAAgB,SAAU9hE,EAAMzZ,EAAO0L,GACrC,GAAI+N,EAAK+hE,OACP/hE,EAAK8D,MAAK,SAAUA,GAClBvd,EAAMy7E,QAAQl+D,EAAM,KAAM,KAAM,CAC9Bnb,KAAMsJ,EAAO,IAAM6R,EAAKnb,eAGvB,GAAIqX,EAAK6hE,YAAa,CAEX7hE,EAAKiiE,eACXC,aAAY,SAAUC,GAC9B,IAAK,IAAI1+E,EAAI,EAAGA,EAAI0+E,EAAQ39E,OAAQf,IAClC8C,EAAMu7E,eAAeK,EAAQ1+E,GAAI8C,GAAQ0L,EAAOA,EAAO,IAAM,IAAM+N,EAAKrX,WAMhFozC,MAAO,SAAUj0C,GACf,IAAIo5E,EAAQp5E,EAAEs6E,aAAalB,MACvB/S,EAAQrmE,EAAEs6E,aAAajU,MAE3B,GAAK+S,EAAM18E,OAAX,CAEA,GAAIzB,KAAK8M,UAAU,mBAAoB,CAACqxE,EAAOp5E,IAAK,CAClDqmE,EAAQA,GAAS+S,EAEjB,IAAK,IAAIz9E,EAAI,EAAGA,EAAI0qE,EAAM3pE,OAAQf,IAAK,CAErC,IAAIuc,EAAOmuD,EAAM1qE,GAEbuc,EAAKqiE,mBACPriE,EAAOA,EAAKqiE,oBAEHR,YACP9+E,KAAK++E,eAAe9hE,EAAMjd,KAAM,IAMpCA,KAAKi/E,QAAQd,EAAMz9E,KAIvBV,KAAK8M,UAAU,kBAAmB,CAACqxE,EAAOp5E,MAE5C65E,WAAY,SAAUlyD,GACpB1sB,KAAK2+E,oBAAsB,IAAIn2E,KAC/BxI,KAAKu/E,mBAAqB7yD,EAE1B,IAAI8yD,EAASx/E,KAAKgwB,SAAS9hB,qBAAqB,SAEhDsxE,EAAOA,EAAO/9E,OAAS,GAAG4a,SAE5B9I,KAAM,SAAUrM,GAOd,GALiB,mBAANA,IACTlH,KAAKy/E,+BAAiCv4E,EACtCA,EAAK,GAGFA,EAAL,CAUA,IAAI+V,EAAOjd,KAAKm+E,MAAMr6C,QAAQ58B,GAC9B,GAAoB,WAAhB+V,EAAKhK,OAAqB,OAAO,EACrCnN,EAAO9F,KAAKoN,UAAUsyE,OAAQ,wDAC9BziE,EAAKhK,OAAS,WACd,IAAI0sE,EAAW,IAAIrtE,SACnBqtE,EAASC,OAAO5/E,KAAKiH,OAAO44E,UAAW5iE,EAAK8D,KAAM9D,EAAKrX,MACvD+5E,EAASC,OAAO5/E,KAAKiH,OAAO44E,UAAY,YAAa5iE,EAAKrX,MAC1D,IAAIsM,EAAU,GACV4tE,EAAa9/E,KAAKoN,UAAUuyE,UAAY,GAClB,mBAAfG,IAA2BA,EAAaA,EAAW19E,KAAKpC,OACnE,IAAIqG,EAAU1G,EAAQ8J,OAAOwT,EAAK0iE,UAAY,GAAIG,GAC9CtqE,EAAM,IAAI5D,eAEVH,EAAMzR,KAAK+/E,gBAAgB9iE,GAE/B,GAAInQ,EAAU,eAAgB,CAAC,OAAQ2E,EAAKpL,EAASmP,EAAKtD,EAASytE,IAAY,CAC7E,IAAK,IAAItuE,KAAOhL,EACds5E,EAASC,OAAOvuE,EAAKhL,EAAQgL,IAY/B,IAAK,IAAIsB,KATTsK,EAAKzH,IAAMA,EACXA,EAAIkqE,OAAO18E,iBAAiB,WAAYyF,GAAK,SAAU1D,GACrD/E,KAAKggF,gBAAgB94E,EAAInC,EAAEk7E,OAASl7E,EAAEm7E,MAAQ,OAC7ClgF,OAAO,GACVwV,EAAI6L,OAAS5Y,GAAK,WACX+M,EAAI2qE,SAASngF,KAAKogF,eAAel5E,KACrClH,MACHwV,EAAIhD,KAAK,OAAQf,GAAK,GAELS,EACfsD,EAAI3C,iBAAiBF,EAAMT,EAAQS,IAGrC6C,EAAIjC,KAAKosE,GAIX,OADA3/E,KAAKggF,gBAAgB94E,EAAI,IAClB,EA9CL,IAAIwwB,EAAQ13B,KAAKm+E,MAAMj5E,KAAKwyB,MACxB2oD,GAAW,EACf,GAAI3oD,EAAMj2B,OAAQ,IAAK,IAAIf,EAAI,EAAGA,EAAIg3B,EAAMj2B,OAAQf,IAClD2/E,GAAYrgF,KAAKuT,KAAKmkB,EAAMh3B,KAAO2/E,EAEjCA,GAAUrgF,KAAKsgF,oBA2CvBF,eAAgB,SAAUl5E,GACxB,IAAI+V,EAAOjd,KAAKm+E,MAAMr6C,QAAQ58B,GAE9B,GAAI+V,EAAM,CACR,IAAI7O,EAAW,KAEf,GAAI6O,EAAKzH,IAAIvC,OAAS,IAAK,CACzB,IAAIgT,EAASnB,GAAW9kB,KAAKoN,UAAUiY,UAAY,SACnDjX,EAAW6X,EAAO9X,SAAS8O,EAAKzH,IAAItC,iBACtB9E,EAAW6X,EAAOtX,WAAWP,IAGxCA,GAA+B,SAAnBA,EAAS6E,QAQxBnN,GAAQsI,EAAS6E,QAA6B,UAAnB7E,EAAS6E,OAAoB,uDAExDjT,KAAKugF,UAAUr5E,EAAIkH,KARnB6O,EAAKhK,OAAS,eACPgK,EAAKujE,QACZxgF,KAAKm+E,MAAMj5C,WAAWh+B,GACtBlH,KAAK8M,UAAU,oBAAqB,CAACmQ,EAAM7O,YAQtC6O,EAAKzH,MAGhBirE,WAAY,SAAUv5E,GACpBuB,EAAKzI,KAAKo+E,WAAYp+E,KAAKm+E,MAA3B11E,CAAkCvB,IAEpCk3E,WAAY,SAAUl3E,GACpB,IAAI+V,EAAOjd,KAAK8jC,QAAQ58B,QAEA,IAAb+V,EAAKzH,MACdyH,EAAKzH,IAAI2qE,SAAU,EACnBljE,EAAKzH,IAAIkrE,eACFzjE,EAAKzH,IACZyH,EAAKhK,OAAS,YAKhB0tE,GAAqB,CACvBC,oBAAqB,WACnB5gF,KAAKkF,KAAK2H,YAAY,iBAAkBpE,GAAK,SAAUvB,EAAIhC,EAAM4M,IAC3D5K,GAAe,OAAR4K,GAAyB,UAARA,GAA4B,QAARA,GAAiB9R,KAAK+lC,SAAS7+B,KAC9ElH,OACHA,KAAKkF,KAAK2H,YAAY,aAAcpE,EAAKzI,KAAK6mD,gBAAiB7mD,OAE/DA,KAAK4gF,oBAAsB,cAE7BC,aAAc,SAAUr/E,GAKtB,OAJIA,GACFxB,KAAK4gF,sBAGAp/E,GAETqlD,gBAAiB,WACf7mD,KAAKkF,KAAKmgD,UAAU,iBAAiB,IAEvCtf,SAAU,SAAU7+B,GAClB,IAAIyE,GAAS,EACb,GAAKzE,EAEE,CACLlH,KAAKgnD,kBAAoB,GACzB,IAAI3mD,EAAML,KAAK8jC,QAAQ58B,IACvByE,EAASi7C,GAAa7gB,SAAS3jC,KAAKpC,KAAM,KAAMK,IAG1CL,KAAK8M,UAAU,sBAAuB,CAAC5F,EAAI7G,KAAOL,KAAK8mD,eAAe5/C,GAEtElH,KAAK8M,UAAU,oBAAqB,CAAC5F,EAAI7G,EAAKL,KAAKgnD,qBAAqBhnD,KAAKioD,cAAc/gD,EAAIlH,KAAKgnD,wBAVnG,IAAK,IAAI31C,KAAOrR,KAAKkF,KAAKklB,KACjCze,EAAS3L,KAAK+lC,SAAS10B,IAAQ1F,EAYjC,OAAOA,GAET47C,UAAW,SAAUnwC,EAAMlS,EAAM7E,EAAKgR,GACjB,iBAAR+F,IAAkBA,EAAOqf,GAAMrf,IAC1C,IAAI9H,EAAM8H,EAAKhV,KAAKpC,KAAMkF,EAAM7E,EAAKgR,GAMrC,OAJK/B,IACHtP,KAAKgnD,kBAAkB31C,IAAO,GAGzB/B,GAETw3C,eAAgB,SAAU5/C,GACxBlH,KAAKkF,KAAKggD,WAAWh+C,EAAI,iBAAiB,IAE5C+gD,cAAe,SAAU/gD,GACvBlH,KAAKkF,KAAK+/C,QAAQ/9C,EAAI,iBAAiB,KAIvC45E,GAAS,CACX92E,MAAO,WACLhK,KAAK2wB,SAAW,IAElB/T,MAAO,SAAUhX,GACf,GAAIA,EACFE,EAAO9F,KAAK2wB,SAAS/qB,GAAO,uBAAyBA,GAErD5F,KAAKu+B,OAAOv+B,KAAK2wB,SAAS/qB,SAE1B,IAAK,IAAI6d,KAAKzjB,KAAK2wB,SACjB,IAAsC,IAAlC3wB,KAAKu+B,OAAOv+B,KAAK2wB,SAASlN,IAAe,OAAO,EAIxD,OAAO,GAET8a,OAAQ,SAAUz2B,GAChB,SAAIA,IAAUA,EAAO8U,QACZ9U,EAAO8U,SAKlB8J,UAAW,SAAUxhB,EAAM+P,EAAQhO,GACjC,IAAI2e,EAAQ5lB,KAERA,KAAKoN,UAAUq6C,cAAaviD,EAAOoiB,GAAWC,cAAcriB,EAAM,GAAI,IAAI,SAAUxB,GACtF,OAAQkiB,EAAM+K,SAASjtB,OAGzB1D,KAAK+gF,iBAAiB77E,EAAM+P,EAAQhO,IAEtC85E,iBAAkB,SAAU77E,EAAM+P,EAAQhO,GAMxC,IAAK,IAAIrB,KALT5F,KAAKghF,eAAiB/rE,EAEtBjV,KAAKoM,aACA6I,GAAWjV,KAAKihF,UAASjhF,KAAKihF,QAAU,IAE5B/7E,EACVlF,KAAK2wB,SAAS/qB,KAAO5F,KAAKihF,QAAQr7E,GAAQV,EAAKU,IAGtD,IAAK,IAAIs7E,KAASlhF,KAAK2wB,SAAU,CAC/B,IAAIyG,EAAQp3B,KAAK2wB,SAASuwD,GAEtB9pD,IACGpuB,EAAY9D,EAAKg8E,KAAuDjsE,GAAUmiB,EAAM+pD,cAAc/pD,EAAMyK,SAAS,GAAI56B,GAA/FmwB,EAAMyK,SAAS38B,EAAKg8E,GAAQj6E,GAC3DjH,KAAKihF,QAAQC,GAAS9pD,EAAMhf,YAIhCpY,KAAKsM,eACLtM,KAAK8M,UAAU,WAAY,KAE7Bs0E,QAAS,WACP,QAASphF,KAAKghF,iBAAgD,IAA9BhhF,KAAKqhF,gBAAe,IAEtDp7C,SAAU,SAAUz8B,GAClBxJ,KAAKghF,eAAiBx3E,EACjBA,IAAMxJ,KAAKihF,QAAUjhF,KAAKshF,qBAEjCD,eAAgB,WACd,IAAI11E,EAAS,GAEb,GAAI3L,KAAKihF,QACP,IAAK,IAAIr7E,KAAQ5F,KAAK2wB,SAAU,CAC9B,IAAI3b,EAAOhV,KAAK2wB,SAAS/qB,GACrBpE,EAAQwT,EAAKoD,WACbmpE,EAAevhF,KAAKihF,QAAQr7E,GAC5Bw7E,EAAUpsE,EAAKwsE,eAAiBxsE,EAAKwsE,cAAcD,EAAc//E,GAAS+/E,GAAgB//E,EAE9F,GAAI4/E,IACFz1E,EAAO/F,GAAQpE,EACX8E,UAAU,IAAI,OAAO,EAK/B,OAAOqF,GAET81E,eAAgB,WACd,OAAOzhF,KAAKihF,SAEdx8C,UAAW,SAAUp5B,GACnB,IAAInG,EAAOlF,KAAKshF,iBAAiBj2E,GAGjC,OADIrL,KAAKoN,UAAUq6C,cAAaviD,EAAOoiB,GAAWI,YAAYxiB,IACvDA,GAETo8E,iBAAkB,SAAUj2E,GAE1B,IAAI0G,EACA8G,EAAO,KACP3T,EAAOlF,KAAKihF,QAAUp5E,EAAK7H,KAAKihF,SAAW,GAE/C,IAAK,IAAIr7E,KAAQ5F,KAAK2wB,SACpB9X,EAAO7Y,KAAK2wB,SAAS/qB,GACrBmM,GAAU,EAEN1G,IACqB,UAAnBpL,EAAQoL,KACY,IAAlBA,EAAOkY,SAAkBxR,EAAU8G,EAAKmR,aACxCjY,IAA+B,IAApB1G,EAAOwV,WAAoB9O,EAAU8G,EAAKgmB,cACpD9sB,EAAU1G,EAAOjJ,KAAKpC,KAAM6Y,IAGjC9G,EAAS7M,EAAKU,GAAQiT,EAAKT,kBAAuBlT,EAAKU,GAG7D,OAAOV,GAETygB,MAAO,SAAU1e,GACfjH,KAAKghF,gBAAiB,EACtB,IAAI97E,EAAO,GAEX,IAAK,IAAIU,KAAQ5F,KAAK2wB,SAChB3wB,KAAK2wB,SAAS/qB,GAAMu7E,eAAcj8E,EAAKU,GAAQ,IAGrD5F,KAAK+gF,iBAAiB77E,GAAM,EAAO+B,IAErCy6E,YAAa,SAAU97E,EAAMpC,GAE3B,IAAc,IAAVA,EACFxD,KAAK8mD,eAAelhD,OAEjB,CAED,GAAoB,iBAATpC,EAAmB,CAC5B,IAAI4zB,EAAQp3B,KAAK2wB,SAAS/qB,GACtBwxB,IAAOA,EAAMhqB,UAAUu0E,eAAiBn+E,GAI1CxD,KAAKgnD,oBAAmBhnD,KAAKgnD,kBAAkBphD,IAAQ,GAE3D5F,KAAKioD,cAAcriD,KAGzBqiD,cAAe,SAAU/gD,GACvB,IAAIkwB,EAAQp3B,KAAK2wB,SAASzpB,GAEtBkwB,IAAUA,EAAMhqB,UAAUkqB,UAC5Bpc,GAAOkc,EAAMpH,SAAU,iBAAiB,GACxCoH,EAAMhqB,UAAUkqB,SAAU,EAEH,iBADTF,EAAMhqB,UAAUu0E,gBACKvqD,EAAMwqD,eAAexqD,EAAMwqD,kBAGlE96B,eAAgB,SAAU5/C,GACxB,IAAIkwB,EAAQp3B,KAAK2wB,SAASzpB,GAEtBkwB,GAASA,EAAMhqB,UAAUkqB,UAC3Blc,GAAUgc,EAAMpH,SAAU,iBAC1BoH,EAAMhqB,UAAUkqB,SAAU,EAEH,iBADTF,EAAMhqB,UAAUu0E,gBACKvqD,EAAMwqD,eAAexqD,EAAMwqD,mBAehEC,GAAqB,CACvB73E,MAAO,WACLlE,EAAO9F,KAAK8pB,OAAQ,2DACpB9pB,KAAK+iC,SAAW,GAGhBxW,GAAOvsB,KAAKgwB,SAAU,SAAUvnB,EAAKzI,KAAK8hF,qBAAsB9hF,OAGhEA,KAAK+hF,iBAAmB,IAG1B/8B,YAAa,SAAU2oB,GAErB,OAAO3tE,KAAK+iC,SAAS4qC,IAGvBlR,SAAU,SAAUv1D,GAClB,IAAI2c,EAAQ7jB,KAAK4jD,mBAEbo+B,EAAMhiF,KAAKkF,KAAK+gD,aAAa/+C,GAE7B8tB,EAAKtb,KAAKqgB,MAAMioD,EAAMn+D,EAAMggC,KAAOhgC,EAAM2wB,GAEzChxC,EAAQxD,KAAK0rB,kBACbsJ,EAAKxxB,EAAMiW,GAAKub,EAAKh1B,KAAKoN,UAAU0M,QAAUtW,EAAMiW,EAAIzZ,KAAKqoC,kBAAiBroC,KAAKksB,SAAS,EAAG8I,IAIrGlL,OAAQ,SAAU5iB,EAAIhC,EAAMZ,GAC1B,GAAKtE,KAAKgqB,UAAUhqB,KAAKoN,UAAUlG,MAAOlH,KAAKkmD,aAE/C,GAAIh/C,EAAI,CACN,IAAI+mE,EAAOjuE,KAAKglD,YAAY99C,GAE5B,GACO,WADC5C,EACN,CACE,IAAK2pE,EAAM,OAIX11D,GAFQvY,KAAK+iC,SAAS77B,GAAMlH,KAAK0tE,cAAcxoE,GAE/B+oE,GAChBhjE,GAAOgjE,QAWPjuE,KAAKiiF,uBAMLjiF,KAAK8M,UAAU,iBAAkB,CAAC9M,KAAKkF,SACzClF,KAAK+iC,SAAW,GAEhB/iC,KAAK8hF,qBAAqB,MAAM,GAGhC9hF,KAAKkiF,kBAAmB,EACxBliF,KAAK8M,UAAU,gBAAiB,MAKtCm1E,gBAAiB,WAEXjiF,KAAKkiF,mBACTliF,KAAKkiF,kBAAmB,EACxB1/E,OAAOS,WAAWwF,GAAK,WACrBzI,KAAK8pB,WACJ9pB,MAAO,KAGZmiF,oBAAqB,SAAUroE,GACzBwE,GAAIoB,qBAAoB5F,EAASJ,KAAKwJ,IAAI5E,GAAIoB,mBAAoB5F,IACtE,IAAIzP,EAAOC,SAASkM,cAAc,OAElC,OADAnM,EAAKmN,MAAMU,QAAU,UAAY4B,EAAS,mCACnCzP,GAQTy3E,qBAAsB,SAAU/8E,EAAGmmB,GACjClrB,KAAK+hF,iBAAmB,GAExB,IAAIK,EAAWpiF,KAAK4jD,mBAGf5jD,KAAKiqB,SAASvZ,aAAcwa,IAE/BlrB,KAAKiqB,SAASxT,UAAY,GAE1BzW,KAAKiqB,SAASvS,YAAY1X,KAAKmiF,oBAAoBC,EAASzpB,OAG5D34D,KAAKgjC,UAAY,CAAChjC,KAAKiqB,SAASvZ,iBAelC,IAAInD,EAAI60E,EAASC,MAEV90E,GAAK60E,EAASE,SAAS,MAGrBtiF,KAAKgjC,UAAUz1B,IAAMvN,KAAKgjC,UAAUz1B,GAAGg1E,SAAWh1E,GAAK60E,EAASE,SACrE/0E,IAIF,GAAIA,EAAI60E,EAASE,QAAS,UAE1B,IAAIE,EAASj1E,GAELvN,KAAKgjC,UAAUw/C,IACrBA,IAGF,IAAIC,EAAaziF,KAAKgjC,UAAUw/C,GAE5B94E,EAAO6D,EAAI60E,EAASv+B,KAAO7jD,KAAKkF,KAAKmoD,MAAQ,GAEjD,GAAI3jD,GAAQ1J,KAAKkF,KAAKqoD,MAAQ5J,EAAAA,GAAW,MAEzC,IAAI++B,EAAYhpE,KAAKwJ,IAAIxZ,EAAO04E,EAASv+B,IAAM,EAAG7jD,KAAKkF,KAAKqoD,KAAOvtD,KAAKkF,KAAKqoD,KAAO,EAAI5J,EAAAA,GAEpFt5C,EAAOrK,KAAKmiF,oBAAoBC,EAAS5tC,IAGzC3wB,EAAQ7jB,KAAKkF,KAAKuoD,cAAc/jD,EAAMg5E,GAC1C,IAAK7+D,EAAMpiB,OAAQ,MAKnB,IAJA,IAAIkhF,EAAU,CACZj8B,UAAW,WAGJhmD,EAAI,EAAGA,EAAImjB,EAAMpiB,OAAQf,IAC3BmjB,EAAMnjB,IAAIV,KAAK+hF,iBAAiBxgF,KAAKmI,EAAOhJ,GACjDmjB,EAAMnjB,GAAKV,KAAK2pB,QAAQ9F,EAAMnjB,IAAMiiF,GAGtCt4E,EAAKoM,UAAYoN,EAAMxc,KAAK,IAE5B,IAAK,IAAIjG,EAAK,EAAGA,EAAKyiB,EAAMpiB,OAAQL,IAElCpB,KAAK+iC,SAAS/iC,KAAKkF,KAAK4mB,aAAapiB,EAAOtI,IAAOiJ,EAAKgG,WAAWjP,GAIrE,IAAIkpC,EAAIrf,WAAWw3D,EAAWjrE,MAAMsC,OAAQ,IACxCw5B,GAAS/lC,EAAIi1E,GAAUJ,EAAS5tC,GAChCouC,EAASt4C,EAAIgJ,EAAQ8uC,EAAS5tC,GAclC,GAZAj8B,GAAalO,EAAMipC,EAAQmvC,EAAWz1C,YAAcy1C,EAAYziF,KAAKiqB,UACrEjqB,KAAKgjC,UAAUz1B,GAAKlD,EACpBA,EAAKk4E,SAAU,EAUXjvC,GAAS,GAAKsvC,EAAS,EACzBH,EAAWjrE,MAAMsC,OAAS8oE,EAAS,KACnC5iF,KAAKgjC,UAAUz1B,EAAI,GAAKk1E,OAIxB,GAFInvC,EAAQ,EAAGroC,GAAOw3E,GAAiBA,EAAWjrE,MAAMsC,OAASw5B,EAAQ,KAErEsvC,EAAS,EAGXrqE,GAFgBvY,KAAKgjC,UAAUz1B,EAAI,GAAKvN,KAAKmiF,oBAAoBS,GAEzCv4E,EAAK2iC,YAAahtC,KAAKiqB,UAInD1c,IAIF,GAAIvN,KAAK+hF,iBAAiBtgF,OAAQ,CAGhC,IAAIY,EAAOrC,KAAK+hF,iBAAiB,GAC7B30B,EAAKptD,KAAK+hF,iBAAiBjyE,MAAQ,EAEvC,GAAIs9C,EAAK/qD,EAAM,CAEb,IAAIsP,EAAQy7C,EAAK/qD,EACjB,GAAIrC,KAAKozD,uBAAuBzhD,EAAOtP,GAAO,OAC9CsP,EAAQ+H,KAAKgC,IAAI/J,EAAO3R,KAAKoN,UAAU+lD,WAAanzD,KAAKoN,UAAUy1E,WAAa,GAChF7iF,KAAKgzD,SAASrhD,EAAOtP,MAK3BuhD,iBAAkB,WAChB,IAAIpgD,EAAQxD,KAAK0rB,iBACbnS,EAAMG,KAAKgC,IAAI,EAAGlY,EAAMiW,GACxBqpE,EAAW9iF,KAAK+iF,eAAiB,EACjCnpE,EAAQ5Z,KAAKioC,eAAiB66C,EAC9BhpE,EAAS9Z,KAAKqoC,gBAAkBy6C,EAAW,EAE3Cv1E,EAAIvN,KAAKsE,KACTywB,EAAKrb,KAAKqgB,MAAMngB,EAAQrM,EAAEqM,QAAU,EAEpCsJ,EAAMxJ,KAAKqgB,MAAMxgB,EAAMhM,EAAEuM,QAEzBkb,EAAKtb,KAAKiC,MAAM7B,EAASP,GAAOhM,EAAEuM,QAAU,EAG5CnI,EAAQ3R,KAAKkF,KAAKqoD,KAAOvtD,KAAKkF,KAAKqoD,KAAOvtD,KAAKkF,KAAKmoD,KAAOrtD,KAAKkF,KAAKyM,QAGzE,MAAO,CACL0wE,MAAOn/D,EACPo/D,QAASttD,EACTguD,KAAMzpE,EACNo/C,KANQj/C,KAAKiC,KAAKhK,EAAQojB,GAAMxnB,EAAEuM,OAOlC06B,GAAIjnC,EAAEuM,OACN+pC,IAAK9uB,IAGTlJ,cAAe,SAAU3kB,GACvB,IAAI8Q,EAAOhY,KAAKglD,YAAY99C,GAU5B,OARK8Q,IACHhY,KAAKy8D,SAASv1D,GAEdlH,KAAK8hF,uBAEL9pE,EAAOhY,KAAKglD,YAAY99C,IAGnB,CACLsS,KAAMxB,EAAK2nD,WACXpmD,IAAKvB,EAAK4nD,UACV9lD,OAAQ9B,EAAK+B,aACbH,MAAO5B,EAAK6B,YACZlM,OAAQ3N,KAAKkjC,eASf+/C,GAAe,CACjBj5E,MAAO,WACLhK,KAAK+iC,SAAW,GAEhBxW,GAAOvsB,KAAKgwB,SAAU,SAAUvnB,GAAK,WACnCzI,KAAK8pB,OAAO,KAAM,KAAM,WACvB9pB,QAILglD,YAAa,SAAU2oB,GACrB,OAAO3tE,KAAK+iC,UAAY/iC,KAAK+iC,SAAS4qC,IAIxClR,SAAU,SAAUv1D,GAClB,IAAIisB,EAAWnzB,KAAKkF,KAAK+gD,aAAa/+C,GAEtC,GAAIisB,GAAW,EAAI,CACjB,IAAI5Z,EAAM4Z,EAAWnzB,KAAKsE,KAAKwV,OAC3B0R,EAASjS,EAAMvZ,KAAKsE,KAAKwV,OACzB2R,EAASzrB,KAAK0rB,iBACd7T,EAAMe,GAAO5Y,KAAK6qB,OAClBtR,EAAMkS,EAAOhS,EAAGzZ,KAAKksB,SAAS,EAAG3S,GAAciS,EAASC,EAAOhS,EAAI5B,EAAIiC,QAAQ9Z,KAAKksB,SAAS,EAAGV,EAAS3T,EAAIiC,UAKrHgQ,OAAQ,SAAU5iB,EAAIhC,EAAMZ,GAC1B,GAAKtE,KAAKgqB,UAAUhqB,KAAKoN,UAAUlG,MAAOlH,KAAKkmD,aAA/C,CACA,IAAIv4C,EAAS3N,KAAKkuE,YAAcluE,KAAKiqB,SAErC,IAAI/iB,GACU,SAAR5C,GAA2B,UAARA,EADzB,CAqBA,IAAI4+E,EACAj+E,EACAslD,EAASvqD,KAAKy4D,gBAElB,GAAI/hB,GAAYhb,QAAkB,YAARp3B,EAAoB,CAC5C,IAAIooB,EAAUgqB,GAAYjL,aAG1BxmC,GAFAi+E,EAASljF,KAAKs4D,iBAAmB5rC,EAAQrqB,OAASrC,OAE/B2K,EAAU9C,EAAK6kB,EAAQznB,QAAU,KAUtD,IAPY,SAARX,GAAmB4+E,KAErBljF,KAAK+iC,SAAW,GAChBp1B,EAAO8I,UAAY,IAIjBzW,KAAK8M,UAAU,iBAAkB,CAAC9M,KAAKkF,OAAQ,CACjD,IAAIyM,EAAQ3R,KAAKkF,KAAKyM,QAClB8Z,EAASzrB,KAAK0rB,iBACd7T,EAAMe,GAAO5Y,KAAKgwB,UAClBzW,EAAMG,KAAKqgB,MAAMtO,EAAOhS,EAAIzZ,KAAKsE,KAAKwV,QAAU,EAChD0R,EAAS9R,KAAKiC,MAAM8P,EAAOhS,EAAI5B,EAAIiC,QAAU9Z,KAAKsE,KAAKwV,QAAU,EACrEP,EAAMG,KAAKgC,IAAI,EAAGnC,GAClBiS,EAAS9R,KAAKwJ,IAAIvR,EAAQ,EAAG6Z,GAAU03D,EAASj+E,EAAOxD,OAAS,EAAI,IAGpE,IAFA,IAAIuW,EAAO,GAEFtX,EAAI6Y,EAAK7Y,GAAK8qB,EAAQ9qB,IAAK,CAClC,IAAI8kD,EAAMxlD,KAAKkF,KAAKwyB,MAAMh3B,GAE1B,GAAIwiF,IAA+B,IAArBj+E,EAAOiG,KAAKs6C,GACpBA,GAAO+E,IAAQA,EAASvqD,KAAKkF,KAAKwyB,MAAMh3B,EAAI,SAE3C,GAAKV,KAAK+iC,SAASyiB,GAcxBxtC,EAAKzW,KAAK,0BAA4Bi1B,OAAOx2B,KAAKg5D,IAAK,MAAOxiC,OAAOgvB,EAAK,iBAd5C,CAC9B,IAAIvoC,EAAOjd,KAAKkF,KAAK4+B,QAAQ0hB,GAE7B,IAAKvoC,EAAM,CACTjd,KAAKmjF,eAAe,CAClBxxE,MAAO6Z,EAAS9qB,GAAKV,KAAKoN,UAAUy1E,WAAa,GACjDnmE,MAAOhc,IAGT,MAGFsX,EAAKzW,KAAKvB,KAAK2pB,QAAQ1M,KAQ3B,GAFAjd,KAAKijC,MAAMxsB,UAAYuB,EAAK3Q,KAAK,IAE7BrH,KAAKs4D,iBAA2B,WAARh0D,EAAmB,CAE7C,IAAI+F,EAAOrK,KAAKijC,MAAM/L,cAAc,IAAIV,OAAOx2B,KAAKg5D,IAAK,MAAOxiC,OAAO+zB,EAAQ,OAE3ElgD,EACFrK,KAAKijC,MAAM1qB,aAAam+B,GAAYuD,UAAU,GAAI5vC,GAC7CrK,KAAKijC,MAAMvrB,YAAYg/B,GAAYuD,UAAU,IAGtDtsC,EAAO6J,MAAM0Y,SAAW,WACxBviB,EAAO6J,MAAMsC,OAASnI,EAAQ3R,KAAKsE,KAAKwV,OAAS,KAGjD,IAFA,IAAI+sB,EAAO7mC,KAAKijC,MAAM5yB,WAEbjP,EAAKylC,EAAKplC,OAAS,EAAGL,GAAM,EAAGA,IAAM,CAC5C,IAAIsN,EAAQm4B,EAAKzlC,GACjB,IAAIsN,EAAMM,aAAa,cAAvB,CACA,IAAIo0E,EAAM10E,EAAMM,aAAahP,KAAKg5D,KAE9BoqB,IACF10E,EAAM8I,MAAM0Y,SAAW,WACvBxhB,EAAM8I,MAAM+B,KAAOA,EAAMnY,GAAMpB,KAAKsE,KAAKwV,OAAS,KAClDpL,EAAM8I,MAAMgC,KAAO,EACnB9K,EAAM8I,MAAMoC,MAAQ,OACpBjM,EAAO+J,YAAYhJ,GACnB1O,KAAK+iC,SAASqgD,GAAO10E,IAIzB1O,KAAK8M,UAAU,gBAAiB,SAvGlC,CAEI,IAAImhE,EAAOjuE,KAAKglD,YAAY99C,GAE5B,GAAI+mE,EAAM,CACR,IAAI1gE,EAAIvN,KAAK+iC,SAAS77B,GAAMlH,KAAK0tE,cAAcxoE,GAQ/C,OANAqI,EAAEiK,MAAM+B,IAAM00D,EAAKz2D,MAAM+B,IACzBhM,EAAEiK,MAAM0Y,SAAW,WACnB3iB,EAAEiK,MAAMgC,KAAO,EACfjM,EAAEiK,MAAMoC,MAAQ,OAChBrB,GAAahL,EAAG0gE,QAChBhjE,GAAOgjE,OA8FfpmC,SAAU,WACJ8B,GAAON,IAAIxB,SAASj/B,MAAM5I,KAAMsG,YAClCtG,KAAK8pB,OAAO,KAAM,KAAM,UAG5Bq5D,eAAgB,SAAUE,GACxB,IAAI1xE,EAAQ+H,KAAKgC,IAAI2nE,EAAK1xE,MAAO3R,KAAKoN,UAAU+lD,WAAanzD,KAAKoN,UAAUy1E,WAAa,GACrF7iF,KAAKozD,uBAAuBiwB,EAAK1xE,MAAO0xE,EAAK3mE,QACjD1c,KAAKgzD,SAASrhD,EAAO0xE,EAAK3mE,QAE5Bs7C,eAAgB,WACdh4D,KAAK8pB,OAAO,KAAM,KAAM,YAE1BgvC,kBAAmB,WACjB7tD,GAAOyrC,GAAYuD,WACnBj6C,KAAK8pB,OAAO,KAAM,KAAM,cAOxBw5D,GAAe,wCAEVC,GAAclyE,EAAKgzC,EAAQ8N,GAClC,OAAKA,GAAO9N,EAAOrgB,OAAe,SAAU3jC,GAC1C,OAAOgkD,EAAOrgB,OAAO3jC,EAAIgR,KAEpB,SAAUhR,GACf,OAAOA,EAAIgR,aAINmyE,GAAcxuE,EAAMhB,GAC3B,IAAI7N,EAAO6N,EAAO7N,KAElB,GAAI6N,EAAO+hD,UAAW,CACpB,IAAI74C,EAAUlI,EAAKyuE,iBAAiBzvE,EAAO+hD,WACvC74C,IAAYA,EAAQ5Y,KAAKo/E,QAAOv9E,EAAO+W,EAAQ9E,UAAS,IAG9D,OAAQjS,GAAQ,IAAIhE,WAAWuI,QAAO,YAAc,aAG7Ci5E,GAAUp+E,EAAGuI,EAAGuV,GAEvB,OAAIA,EAAO9d,IAAM8d,EAAO9d,GAAGuI,GAAWuV,EAAO9d,GAAGuI,GACzC,YAEA81E,GAAgB5uE,EAAMT,GAC7B,IAyFIsvE,EAzFAj2B,EAAS,GACTk2B,EAAU,EACVC,EAAU,EACVC,EAAUhvE,EAAKmgD,gBACfr3C,EAAUvJ,EAAQuJ,QAClBq0C,IAAQ59C,EAAQ0vE,UAChBC,EAA2B,aAAlBlvE,EAAK9P,KAAKU,KACnBu+E,EAAY5vE,EAAQ4vE,UASxB,KARkB,IAAdA,GAAsBn7E,EAAYm7E,MAAYA,EAAY,SAC9Dv2B,EAAOlpC,QAAU,IAEbnQ,EAAQgP,QAAUhP,EAAQmgB,QAC5Bk5B,EAAOw2B,WAAa,GACpBx2B,EAAOy2B,WAAa,IAGjBvmE,GAuBE,IAAKA,EAAQrc,OAAQ,CAE1B,IAAIhB,EAAM,GAEV,IAAK,IAAIkS,KAAQmL,EACfrd,EAAIc,KAAK5B,EAAQ8J,OAAO,CACtBvC,GAAIyL,GACHhT,EAAQ8J,OAAO,GAAIqU,EAAQnL,MAGhCmL,EAAUrd,QA9BV,GAFAqd,EAAU,GAENkmE,EAAS,CACX,IAAItsD,EAAQ1iB,EAAKk/C,qBAEjB,GAAI3/C,EAAQgP,QAAUmU,EAAMj2B,OAC1B,IAAK,IAAIf,EAAI,EAAGA,EAAIg3B,EAAMj2B,OAAQf,IAAK,CACrC,IAAI6O,EAAMyF,EAAKmgD,gBAAgBz9B,EAAMh3B,IAChCsU,EAAKsvE,gBAAgB/0E,EAAIrI,MAAK0mD,EAAOw2B,WAAW70E,EAAIrI,IAAM,GAC/D4W,EAAQvc,KAAKgO,QAEVuO,EAAUA,EAAQ0Y,OAAOxhB,EAAKuvE,cAChC,CACL,IAAIlkF,EAAM2U,EAAK9P,KAAKklB,KAAKpV,EAAK9P,KAAKwyB,MAAM,IAEzC,IAAK,IAAIrmB,KAAOhR,EACF,OAARgR,GAA0B,KAAVA,EAAI,IAAWyM,EAAQvc,KAAK,CAC9C2F,GAAImK,EACJ6yE,OAAQA,GAAU7yE,IAAQ8yE,IAiBlC,GAAI5vE,EAAQ60C,OAAQ,IAAK,IAAIhoD,EAAK0c,EAAQrc,OAAS,EAAGL,GAAM,EAAGA,IACzDmT,EAAQ60C,OAAOtrC,EAAQ1c,GAAI8F,KAAK4W,EAAQ9S,OAAO5J,EAAI,GAErDmT,EAAQrN,IAAI0mD,EAAOrsD,KAAK,CAC1B2F,GAAI,KACJ0S,MAAO,GACP5F,OAAQ,IACR6V,SAAU,SAAUxpB,GAClB,OAAOA,EAAI6G,MAIXqN,EAAQiwE,UAAQ,WAOhB,IALA,IAAIC,EAAUlwE,EAAQiwE,SAASt9E,GAC3B8O,EAAU,GAAGwgB,OAAOjiB,EAAQiwE,SAAS1mE,SACrC4mE,EAAO,GACPC,IAAapwE,EAAQiwE,SAASE,KAEzBp0E,EAAM,EAAGA,GAAO0F,EAAQvU,OAAQ6O,IACvC0F,EAAQ1F,EAAM,GAAGuZ,SAAQ,SAAanpB,GACpC,OAAO,SAAUL,GACf,OAAOA,EAAIg4D,QAAU33D,EAAIgkF,EAAKhkF,GAAKL,EAAIokF,GAAWE,GAAYjkF,EAAIL,EAAIg4D,OAASqsB,EAAKhkF,GAAK,IAFpE,CAIvB4P,GAKJ,IAFA,IAAI+M,EAAQ,EAEH63C,EAAMp3C,EAAQrc,OAAS,EAAGyzD,GAAO,EAAGA,IACvCp3C,EAAQo3C,GAAKhuD,KAAOu9E,IAASpnE,EAAQ63C,GAG3Cp3C,EAAU,GAAG0Y,OAAO1Y,EAAQuL,MAAM,EAAGhM,IAAQmZ,OAAOxgB,GAASwgB,OAAO1Y,EAAQuL,MAAMhM,EAAQ,IArB1E,GA2BpB,IAAK,IAAIkkC,EAAI,EAAGA,EAAIzjC,EAAQrc,OAAQ8/C,IAAK,CACvC,IAAI8C,EAASvmC,EAAQyjC,GACjBoG,EAAQtD,EAAOn9C,GACnB,IAAIm9C,EAAOugC,SAAX,CAGA,IAAIC,EAAY1yB,GAAO6xB,EAEvB,GAAIA,EAAS,CACX,IAAIc,EAAe9vE,EAAKmgD,gBAAgBxN,IAEpCtD,EAAOx6B,UAAci7D,GAAgBA,EAAaj7D,UAAYw6B,EAAOx6B,WAAWg7D,GAAY,GAC5FC,IAAczgC,EAAS1kD,EAAQ8J,OAAO9J,EAAQ8J,OAAO,GAAI46C,GAASygC,IAGxE,IAAIr+D,EAAS,CACXvf,GAAIm9C,EAAOn9C,GACX2iB,SAAUg7D,IAAcxgC,EAAOx6B,SAAW05D,GAAc57B,EAAOtD,EAAQ8N,GAAO9N,EAAOx6B,SACrFjQ,OAAQyqC,EAAOzqC,OAAS,MAAgC,UAAxBrF,EAAQwwE,YAA0B,KAAO,GAAK,GAC9E/wE,QAA0B,IAAlBqwC,EAAOrwC,OAAmBqwC,EAAOrwC,QAAU2zC,EAAQ,IAEzDu8B,GAAUv8B,IAAUw8B,IAAW19D,EAAOy9D,OAASL,GAAa,GAEpC,UAAxBtvE,EAAQwwE,cACVplF,EAAQ8J,OAAOgd,EAAQ,CACrBniB,KAAM+/C,EAAO2gC,YAAc,GAC3BhhD,OAAQqgB,EAAO4gC,cAAgB,KAG7B5gC,EAAO9gC,SACJqqC,EAAOw2B,aAAYx2B,EAAOw2B,WAAa,IAC5Cx2B,EAAOw2B,WAAW//B,EAAOn9C,IAAM,IAIN,iBAAlBuf,EAAOzS,OAAqByS,EAAOzS,OAAS,CAAC,CACtD7N,KAAMsgB,EAAOzS,SACPyS,EAAOzS,OAAS,GAAGwiB,OAAO/P,EAAOzS,QAEzC,IAAK,IAAIqhD,EAAM,EAAGA,EAAM5uC,EAAOzS,OAAOvS,OAAQ4zD,IAC5C5uC,EAAOzS,OAAOqhD,GAAO5uC,EAAOzS,OAAOqhD,GAAOmuB,GAAcxuE,EAAMyR,EAAOzS,OAAOqhD,IAAQ,GAKtF,GAFAyuB,EAAUpqE,KAAKgC,IAAIooE,EAASr9D,EAAOzS,OAAOvS,QAEtCuT,EAAK/N,OAAOm8D,OAAQ,CACtB,IAAIA,EAAS/e,EAAO+e,QAAU,GACCA,EAAV,iBAAVA,EAA6B,CAAC,CACvCj9D,KAAMi9D,IACS,GAAG5sC,OAAO4sC,GAE3B,IAAK,IAAI1N,EAAM,EAAGA,EAAM0N,EAAO3hE,OAAQi0D,IACrC0N,EAAO1N,GAAO0N,EAAO1N,GAAO8tB,GAAcxuE,EAAMouD,EAAO1N,IAAQ,GAGjEjvC,EAAO28C,OAASA,EAChB2gB,EAAUrqE,KAAKgC,IAAIqoE,EAASt9D,EAAO28C,OAAO3hE,QAG5CmsD,EAAOrsD,KAAKklB,KAGTo9D,GAAcK,GAAU3vE,EAAQ4vE,WAAaA,GAAav2B,EAAO,KAAIA,EAAO,GAAGs2B,QAAS,GAE7F,IAAK,IAAI5tB,EAAM,EAAGA,EAAM1I,EAAOnsD,OAAQ60D,IAAO,CAG5C,IAFA,IAAI4uB,EAAOpB,EAAUl2B,EAAO0I,GAAKtiD,OAAOvS,OAE/BqC,EAAI,EAAGA,EAAIohF,EAAMphF,IACxB8pD,EAAO0I,GAAKtiD,OAAOzS,KAAK,IAG1B,GAAIyT,EAAK/N,OAAOm8D,OAAQ,CACtB8hB,EAAOnB,EAAUn2B,EAAO0I,GAAK8M,OAAO3hE,OAEpC,IAAK,IAAIT,EAAK,EAAGA,EAAKkkF,EAAMlkF,IAC1B4sD,EAAO0I,GAAK8M,OAAO7hE,KAAK,KAK9B,OAAOqsD,WAEAu3B,GAAYv/E,EAAMw/E,GAEzB,OADIx/E,IAAMA,EAAOA,EAAK8E,QAAO,gBAAkB,IAAIg3C,UAAU,EAAG,MACzD,GAAGlrB,OAAO5wB,GAAQ,OAAQ,KAAK4wB,OAAO4uD,YAEtCC,GAAcrwE,EAAMT,EAASq5C,GACpC,IAGI55C,EAAQ9B,EAHRozE,IAAe/wE,EAAQ+wE,WACvBC,EAAU,YACVrgF,EAAO,GAEP4M,EAAOyC,EAAQwwE,YAOnB,GALc,UAATjzE,GAA4B,OAARA,IAAkByC,EAAQixE,YACjDtgF,EAAO,CAAC,EAAEqP,EAAQixE,UAAUr/E,MAAQoO,EAAQixE,WAAWrjF,YAAa,CAAC,KACxD,UAAT2P,GAAoByC,EAAQixE,UAAU1rE,SAAQ8zC,EAAOlpC,QAAQ,GAAKnQ,EAAQixE,UAAU1rE,UAGnE,IAAnBvF,EAAQP,QAAoB45C,EAAOnsD,OACrC,IAAK,IAAI6oC,EAAI,EAAGA,EAAIsjB,EAAO,GAAG55C,OAAOvS,OAAQ6oC,IAAK,CAChDp4B,EAAU,GAEV,IAAK,IAAIxR,EAAI,EAAGA,EAAIktD,EAAOnsD,OAAQf,IACjCsT,EAAS,GAEL45C,EAAOltD,GAAGsT,OAAOs2B,KACnBt2B,EAAS45C,EAAOltD,GAAGsT,OAAOs2B,GACtBg7C,IAAYtxE,EAAS45C,EAAOltD,GAAGsT,OAAOs2B,GAAKt2B,EAAOtJ,QAAQ66E,EAAY,MAG5ErzE,EAAQ3Q,KAAKyS,GAGH,SAARlC,IAAmBkD,EAAKuvE,WAAgC,IAApBhwE,EAAQmQ,SAAsB1P,EAAKywE,SAASn7C,KAAOsD,GAAQM,WAAgC,OAAnB35B,EAAQmQ,UAAmBkpC,EAAOlpC,QAAQxf,EAAKzD,QAAUuT,EAAKywE,SAASn7C,IAC1K,QAATx4B,IAAgB5M,EAAKA,EAAKzD,QAAUyQ,GAI5CqC,EAAQ0P,aAAe1P,EAAQ0P,aAAe,GAAK/e,EAAKzD,OACxD,IAAIikF,EAAWnxE,EAAQiwE,UAAYjwE,EAAQoxE,YAAc,GAAK,IA0D9D,GAzDA3wE,EAAK9P,KAAKiG,MAAK,SAAU8R,EAAMI,GAC7B,IAAK9I,EAAQlJ,QAAUkJ,EAAQlJ,OAAO4R,GAAO,CAC3C,IAAI2oE,EAAerxE,EAAQgP,QAAUvO,EAAK9P,KAAKgnD,gBAA+C,GAA9Bl3C,EAAKixC,aAAahpC,EAAK/V,IAEvF,GAAIqN,EAAQmgB,MAAQngB,EAAQmgB,KAAKzX,IAAS2oE,EAAc,CACtD,IAAIzzE,GAAWoC,EAAQixE,UAAY,EAAI,KAAyB,IAAnBjxE,EAAQP,OAAmB,EAAI45C,EAAO,GAAG55C,OAAOvS,QAE7FmsD,EAAOy2B,WAAWlyE,EAAUkL,GAAS,EAGnCrd,KAAKkF,KAAKkpD,iBACZnxC,EAAOjI,EAAK9P,KAAKkpD,eAAenxC,IAKlC,IAFA,IAAIiwB,EAAO,GAEF24C,EAAM,EAAGA,EAAMj4B,EAAOnsD,OAAQokF,IAAO,CAC5C,IAAIxhC,EAASuJ,EAAOi4B,GAChBjiE,EAAO,KAKX,GAHI5O,EAAK8wE,gBAAiBliE,EAAO5O,EAAK8wE,gBAAgB7oE,EAAK/V,GAAIm9C,EAAOn9C,GAAIqN,GACjEA,EAAQ8P,MAAQpH,EAAK,IAAMonC,EAAOn9C,KAA0C,KAAnC+V,EAAK,IAAMonC,EAAOn9C,IAAIoO,OAAO,KAAWsO,EAAO3G,EAAK,IAAMonC,EAAOn9C,KAE/GlH,KAAK+lF,YAAa,CACpB,IAAIzhC,EAAOtkD,KAAKgmF,QAAQ/oE,EAAK/V,GAAIm9C,EAAOn9C,IAEpCo9C,GAAQA,EAAK,IAAMA,EAAK,IAAMrnC,EAAK/V,IAAMo9C,EAAK,IAAMD,EAAOn9C,KAC7D0c,EAAO0gC,EAAK,GACRghC,GAA8B,iBAAT1hE,IAAmBA,EAAOA,EAAKlZ,QAAQ66E,EAAY,MAI3E3hE,KACHA,EAAOygC,EAAOx6B,SAAS5M,EAAMjI,EAAK1Q,KAAM2Y,EAAKonC,EAAOn9C,IAAKm9C,EAAQwhC,KAC3C,IAATjiE,IAAYA,EAAO,IAC5BygC,EAAO6/B,QAAUwB,IAAU9hE,EAAO,IAAMjjB,MAAMsc,EAAKo7C,QAAQhxD,KAAKq+E,GAAY,IAAM9hE,GAElF0hE,GAA8B,iBAAT1hE,IACvBA,EAAOA,EAAKlZ,QAAQ66E,EAAY,KAId,iBAAT3hE,GAA8B,QAAT9R,IAAgB8R,EAAOA,EAAKqiE,QAExC,iBAATriE,GAA+B,UAAT9R,GAA6B,QAATA,IACnD8R,EAAOA,EAAKlZ,QAAO,eAAiB,QAIxCwiC,EAAK3rC,KAAKqiB,GAGA,SAAR9R,GAAmBkD,EAAKuvE,WAAgC,IAApBhwE,EAAQmQ,UAAsBzH,EAAKmrB,SAAWnrB,EAAKmrB,UAAYwF,GAAQ7iB,WAAgC,OAAnBxW,EAAQmQ,WAAmBkpC,EAAOlpC,QAAQxf,EAAKzD,QAAUwb,EAAKmrB,SAAWpoC,KAAKiH,OAAO8jB,WACjN7lB,EAAK3D,KAAK2rC,MAEXl4B,EAAMT,EAAQgP,SAEM,IAAnBhP,EAAQ6uD,OAGV,IAFA,IAAI2gB,EAAUn2B,EAAO,GAAGwV,OAASxV,EAAO,GAAGwV,OAAO3hE,OAAS,EAElDkG,EAAI,EAAGA,EAAIo8E,EAASp8E,IAAK,CAGhC,IAFA,IAAIu+E,EAAU,GAELC,EAAM,EAAGA,EAAMv4B,EAAOnsD,OAAQ0kF,IAAO,CAC5C,IAAI/iB,EAASxV,EAAOu4B,GAAK/iB,OAAOz7D,GAC5B29E,IAAYliB,EAASxV,EAAOu4B,GAAK/iB,OAAOz7D,GAAKy7D,EAAOjhE,WAAWuI,QAAQ66E,EAAY,KACvFW,EAAQ3kF,KAAK6hE,GAGH,SAARtxD,IAAmBkD,EAAKuvE,WAAgC,IAApBhwE,EAAQmQ,SAAsB1P,EAAKoxE,SAASz+E,KAAOimC,GAAQM,WAAgC,OAAnB35B,EAAQmQ,UAAmBkpC,EAAOlpC,QAAQxf,EAAKzD,QAAUuT,EAAKoxE,SAASz+E,IAC1K,QAATmK,GAAgB5M,EAAK3D,KAAK2kF,GASlC,MALa,UAATp0E,GAAoByC,EAAQyuC,YAC9B99C,EAAOA,EAAKsxB,OAAO,CAAC,GAAI,EAAEjiB,EAAQyuC,UAAU78C,MAAQoO,EAAQyuC,WAAW7gD,cACnEoS,EAAQyuC,UAAUlpC,SAAQ8zC,EAAOlpC,QAAQxf,EAAKzD,OAAS,GAAK8S,EAAQyuC,UAAUlpC,SAG7E5U,EA2DT,IAAImhF,GAAO,GACPC,GAAQ,SAAUp/E,EAAIqN,IACxBA,EAAUA,GAAW,IACbwwE,YAAc,MACtBplF,EAAQ8J,OAAO8K,EAAS,CACtBgyE,SAAU,kBACVC,aAAc,iBAEhBt/E,EAAKmB,EAAQnB,GAAMA,EAAK,CAACA,GAGzB,IAFA,IAAIunB,EAAQ,GAEH/tB,EAAI,EAAGA,EAAIwG,EAAGzF,OAAQf,IAAK,CAC7BwG,EAAGxG,GAAGwG,KAAIA,EAAGxG,GAAK,CACrBwG,GAAIA,EAAGxG,KAET,IAAIsU,EAAO6Z,GAAG3nB,EAAGxG,GAAGwG,IAEpB,GAAI8N,EAAM,CACR,IAAIyxE,EAAc9mF,EAAQ8J,OAAOvC,EAAGxG,GAAG6T,SAAW,GAAIA,GAClDikB,EAAUiuD,EAAYjuD,SAAW,QAIrC,GAH2B,SAAvBiuD,EAAYjuD,gBAA2BiuD,EAAYpjE,OACnDrO,EAAK0xE,cAAa1xE,EAAOA,EAAK0xE,YAAYD,IAE1Cp+E,EAAQ2M,GACVyZ,EAAQA,EAAM+H,OAAOxhB,GACjBT,EAAQoyE,WAAWC,GAAaH,EAAalyE,OAC5C,CAEL,IAAe,SAAXikB,GAAiC,OAAXA,IACpBxjB,EAAK9P,MAAQ8P,EAAK9P,KAAKklB,KAAM,CAC/B,IAAIwjC,EAASg2B,GAAgB5uE,EAAMyxE,GACnCh4D,EAAMltB,KAAK,CACTqsD,OAAQA,EACRi5B,WAAYxB,GAAcrwE,EAAMyxE,EAAa74B,GAC7C64B,YAAaA,IAEXlyE,EAAQoyE,WAAWC,GAAa5xE,EAAMT,EAASq5C,GAIvD,GAAe,SAAXp1B,GAAiC,OAAXA,EAAkB,CAC1C,IAAInuB,EAAOo8E,EAAYl3D,QAAUu3D,GAAoB9xE,EAAK6V,OAAS7V,EAAK6V,MACxE4D,EAAMltB,KAAK,CACT8I,KAAMA,EACNo8E,YAAaA,IAEXlyE,EAAQoyE,WAAWC,GAAa5xE,EAAMT,KAKhDzO,EAAOkP,EAAMsuE,IAGf,OAAI/uE,EAAQwyE,SAAiBt4D,EACtB/N,GAAQ,CAACpC,GAAI4D,IAAM,mBAAoB5D,GAAI4D,IAAM,mCAAmC7e,MAAK,WAC9F,GAAoB,GAAhBorB,EAAMhtB,OAAa,OAAO0B,EAASa,OAAOs/E,IAE9C,GAAI+C,GAAK9xE,EAAQgyE,WAAaF,GAAK9xE,EAAQiyE,cAGzC,OAFAjyE,EAAQyyE,aAAeX,GAAK9xE,EAAQgyE,UACpChyE,EAAQ0yE,kBAAoBZ,GAAK9xE,EAAQiyE,cAClCU,GAAWz4D,EAAOla,GAASlR,MAAK,SAAU8jF,GAC/C,OAAOC,GAAQD,EAAK5yE,MAGtB,IAAI7O,EAAQvC,EAASuC,QAarB,OAVA2hF,MAAMjzE,KAAKG,EAAQ+yE,SAAWhpE,GAAI4D,IAAM,WAAa3N,EAAQgyE,SAAW,QAAQ,SAAUgB,EAAKC,GAC7F,GAAID,EAAK,OAAO7hF,EAAM1B,OAAOujF,GAC7BF,MAAMjzE,KAAKG,EAAQkzE,aAAenpE,GAAI4D,IAAM,WAAa3N,EAAQiyE,aAAe,QAAQ,SAAU9kF,EAAKgmF,GACrGnzE,EAAQyyE,aAAeX,GAAK9xE,EAAQgyE,UAAY,IAAIc,MAAMM,QAAQH,GAClEjzE,EAAQ0yE,kBAAoBZ,GAAK9xE,EAAQiyE,cAAgB9kF,EAAM,KAAO,IAAI2lF,MAAMM,QAAQD,GACxFhiF,EAAM3B,QAAQmjF,GAAWz4D,EAAOla,GAASlR,MAAK,SAAU8jF,GACtD,OAAOC,GAAQD,EAAK5yE,aAInB7O,eAKJ0hF,GAAQD,EAAK5yE,GACpB,IAAIsH,EAAWspE,GAAY5wE,EAAQsH,SAAU,OACzC+rE,EAAO,IAAIC,KAAK,CAACV,EAAIhlF,YAAa,CACpCmC,KAAM,oBAGR,OADyB,IAArBiQ,EAAQqH,UAAoBA,GAASgsE,EAAM/rE,GACxC+rE,WAGAV,GAAWz4D,EAAOla,GAIzB,IAHA,IAAIwuC,WAgFaxuC,OAIyDuzE,EAHtEluE,EAAQrF,EAAQqF,OAAS,QACzBE,EAASvF,EAAQuF,QAAU,QAE3BvF,EAAQwzE,aAAuC,cAAxBxzE,EAAQwzE,cAAuCD,EAAAluE,EAAOA,EAAQE,EAAzBA,EAAUguE,GAC1E,OAAO,IAAIT,MAAMW,SAAS,CACxBv3C,QAAS,GACT41C,KAAM9xE,EAAQyyE,aACdiB,UAAW,IACXruE,MAAOA,EACPE,OAAQA,IA1FAouE,CAAU3zE,GAChB4zE,EAAW,GAENznF,EAAI,EAAGA,EAAI+tB,EAAMhtB,OAAQf,IAC5B+tB,EAAM/tB,GAAG2J,KAAM89E,EAAS5mF,KAAK6mF,GAAY35D,EAAM/tB,GAAG2J,OAAY89E,EAAS5mF,KAAK4B,EAASY,WAG3F,OAAOZ,EAASgC,IAAIgjF,GAAU9kF,MAAK,SAAUglF,GAC3C,IAAK,IAAIjnF,EAAK,EAAGA,EAAK+mF,EAAS1mF,OAAQL,IAAM,CAC3C,IAAIqlF,EAAch4D,EAAMrtB,GAAIqlF,YACxBA,EAAY6B,YAAYC,GAAQxlC,EAAK,SAAU0jC,EAAY6B,YAC3DD,EAAOjnF,GAAK2hD,EAAIylC,MAAMH,EAAOjnF,GAAK,CACpC0vB,MAAO,YAEP21D,EAAYQ,kBAAoB1yE,EAAQ0yE,kBACxCwB,GAAYh6D,EAAMrtB,GAAK2hD,IAErB0jC,EAAYiC,WAAWH,GAAQxlC,EAAK,QAAS0jC,EAAYiC,WACzDtnF,GAAMqtB,EAAMhtB,OAAS,GAAGshD,EAAI4lC,YAGlC,gBAoKkB5lC,EAAKxuC,IAEC,IAAtBA,EAAQyuC,YACVzuC,EAAQyuC,UAAYrjD,EAAQ8J,OAAO8K,EAAQyuC,WAAa,GAAI,CAC1D+Y,MAAO,QACP6sB,UAAW,WAEb7lC,EAAIqgB,SAASj9D,KAAKoO,EAAQyuC,WAAW48B,OAAOr0E,EAAKs9E,WAAWtc,MAAQ,QAAQuc,aAAalJ,OAAO,MAAQr0E,EAAKs9E,WAAWE,IAAM,MAAQ,MAAMC,aAG9I,IAAIC,EAAS,CACX9iF,KAAM,EACNqiF,MAAO,GAGLj0E,EAAQixE,YACsB,iBAArBjxE,EAAQixE,YAAuBjxE,EAAQixE,UAAY,CAC5Dr/E,KAAMoO,EAAQixE,YAEhB7lF,EAAQ8J,OAAO8K,EAAQixE,UAAW,CAChCzpB,MAAO,QACP6sB,UAAW,QACXlxD,MAAO,IAETuxD,EAAO9iF,KAAOoO,EAAQixE,UAAU9tD,OAG9BnjB,EAAQ20E,iBAC2B,iBAA1B30E,EAAQ20E,iBAA4B30E,EAAQ20E,eAAiB,CACtEz3E,IAAK8C,EAAQ20E,iBAEfvpF,EAAQ8J,OAAO8K,EAAQ20E,eAAgB,CACrCp4D,MAAO,QACP4G,MAAO,IAETuxD,EAAOT,MAAQj0E,EAAQ20E,eAAexxD,OAGpCnjB,EAAQixE,WAAayD,EAAOT,MAAQS,EAAO9iF,MAAM48C,EAAI/uC,OAAO,CAC9DgtD,cAAe,KACd76D,KAAKoO,EAAQixE,UAAUr/E,KAAMoO,EAAQixE,WAExC,GAAIjxE,EAAQ20E,eAAgB,CAC1B,IAAIxjF,EAAQvC,EAASuC,QAerB,OAdA2hF,MAAMjzE,KAAKG,EAAQ20E,eAAez3E,KAAK,SAAU/P,EAAKynF,GACpD,IAAKznF,EAAK,CACR,IAAI0nF,EAAM,IAAI/B,MAAMgC,MAAMF,GAC1BpmC,EAAI/uC,OAAO,CACTgtD,cAAe,KACdwnB,MAAMY,EAAK70E,EAAQ20E,gBAClB30E,EAAQixE,WAAayD,EAAOT,MAAQS,EAAO9iF,MAAM48C,EAAI/uC,OAAO,CAC9DgtD,cAAe,KACd76D,KAAKoO,EAAQixE,UAAUr/E,KAAMoO,EAAQixE,WAI1C9/E,EAAM3B,QAAQg/C,EAAIj5B,aAEbpkB,EACF,OAAOvC,EAASY,QAAQg/C,EAAIj5B,UA/N1Bw/D,CAAavmC,EAAKxuC,eAIpBg0E,GAAQxlC,EAAKz+C,EAAM6B,GACd,SAAR7B,GAAiBy+C,EAAI58C,OAAOw+C,KACb,iBAARx+C,IAAkBA,EAAO,CAClCA,KAAMA,IAER48C,EAAI58C,KAAKA,EAAKA,KAAMA,EAAKoO,SAAW,IACxB,UAARjQ,GAAkBy+C,EAAI58C,OAAOw+C,cAG1ByjC,GAAY/9E,GACnB,IAAIkZ,GAAUjZ,SAASyO,KAAKif,SAAS3tB,GASrC,OAPIkZ,IAEFjZ,SAASyO,KAAKrB,YAAYrN,GAC1BA,EAAKmN,MAAM0Y,SAAW,WACtB7lB,EAAKmN,MAAMgC,KAAO,WAGbhX,OAAO+mF,YAAYl/E,EAAM,CAC9Bm/E,WAAY,OACZC,SAAS,EACTC,SAAS,IACRrmF,MAAK,SAAUsmF,GAMhB,IALA,IAAInB,EAAQmB,EAAOC,UAAU,cACzBC,EAAgBrnF,OAAOsnF,KAAKtB,EAAM34E,MAAM,WAAW,IACnDpO,EAASooF,EAAcpoF,OACvBsoF,EAAQ,IAAIhoE,WAAWtgB,GAElBf,EAAI,EAAGA,EAAIe,EAAQf,IAC1BqpF,EAAMrpF,GAAKmpF,EAAcG,WAAWtpF,GAGtC,OAAO,IAAI2mF,MAAMgC,MAAMU,EAAMZ,WAC5Bc,SAAQ,WACL1mE,GAAQjZ,SAASyO,KAAKT,YAAYjO,eAIjCu8E,GAAa5xE,EAAMT,EAASq5C,GACnC,IACIh0C,EADA6N,EAAOlT,EAAQwzE,aAAsC,aAAvBxzE,EAAQwzE,YAA6B,SAAW,QAGlF,GAAIn6B,EAAQ,CACVh0C,EAAQ,GAER,IAAK,IAAIlZ,EAAI,EAAGA,EAAIktD,EAAOnsD,OAAQf,IACjCkZ,GAASg0C,EAAOltD,GAAGkZ,WAECA,EAAb5E,EAAKgzB,OAAgBhzB,EAAKgzB,OAC3BhzB,EAAKyS,GAEflT,EAAQkT,GAAQ/N,KAAKgC,IAAInH,EAAQkT,IAAS,EAAG7N,GAAS,YAiB/C6uE,GAAYzzE,EAAM+tC,GACzB,IAAI6K,EAAS54C,EAAK44C,OACd1oD,EAAO8P,EAAK6xE,WACZtyE,EAAUS,EAAKyxE,YACfpjE,EAASrO,EAAKqO,OAClB9O,EAAQP,OAAShL,EAAYuL,EAAQP,UAA8B,IAAnBO,EAAQP,OAAkB,GAAKO,EAAQP,OACvFO,EAAQ6uD,OAASp6D,EAAYuL,EAAQ6uD,UAA8B,IAAnB7uD,EAAQ6uD,OAAkB,GAAK7uD,EAAQ6uD,OACvF7uD,EAAQsuC,MAAQtuC,EAAQsuC,OAAS,GAMjC,IAJA,IAAIihC,GAA6B,IAAnBvvE,EAAQP,OAAmB,EAAI45C,EAAO,GAAG55C,OAAOvS,OAC1DsiF,GAA6B,IAAnBxvE,EAAQ6uD,QAAqBxV,EAAO,GAAGwV,OAAaxV,EAAO,GAAGwV,OAAO3hE,OAArB,EAC1DyoF,EAAY,GAEPxpF,EAAI,EAAGA,EAAIktD,EAAOnsD,OAAQf,IACjCwpF,EAAUxpF,GAAKktD,EAAOltD,GAAGkZ,MAG3B,IAAIuwE,EAAWxqF,EAAQ8J,OAAO8K,EAAQsuC,MAAO,CAC3CrZ,YAAa,EACb1vB,OAAQ,GACRqlC,WAAY,IACZirC,YAAa,SACbC,gBAAiB,SACjBtuB,MAAO,QACP6sB,UAAW,OACX1nB,aAAc,GACdD,YAAa,GACbqpB,WAAYxG,EACZt/D,OAAQ0lE,EAAUzoF,OAASyoF,EAAY,CAAC,UAEtCrnC,EAAQE,EAAIF,MAAMsnC,GAClBI,EAAWh2E,EAAQ0yE,kBAEvB,GAAInD,EAUF,IATA,IAAI0G,EAAY7qF,EAAQ8J,OAAO8K,EAAQP,OAAQ,CAC7Cy2E,iBAAkB,SAClBC,kBAAmB,SACnB3uB,MAAO,QACPsuB,gBAAiB,SACjBvwE,OAAQ,GACRqlC,WAAY,MAGL7uC,EAAM,EAAGA,EAAMwzE,EAASxzE,IAG/B,IAFA,IAAI0D,EAAS6uC,EAAMrlC,GAAGgtE,GAEb9mE,EAAI,EAAGA,EAAIkqC,EAAOnsD,OAAQiiB,IAAK,CACtC,IAAIinE,EAAYtnE,EAASsgE,GAAUrzE,EAAKoT,EAAGL,GAAU,GACjDknE,GAAYI,EAAUjD,OAAMiD,EAAUtE,KAAOkE,GACjDv2E,EAAO4J,GAAGgwC,EAAOlqC,GAAG1P,OAAO1D,GAAKnO,WAAYwoF,GAMlD,IAAK,IAAIplF,EAAI,EAAGA,EAAIL,EAAKzD,OAAQ8D,IAG/B,IAFA,IAAIoe,EAAMk/B,EAAMrlC,GAAG,IAEV1P,EAAI,EAAGA,EAAI5I,EAAKK,GAAG9D,OAAQqM,IAAK,CACvC,IAAI88E,EAAavnE,EAASsgE,GAAUp+E,EAAIu+E,EAASh2E,EAAGuV,GAAU,GAE1DknE,GAAYK,EAAWlD,OAAMkD,EAAWvE,KAAOkE,GACnD5mE,EAAI/F,GAAG1Y,EAAKK,GAAGuI,GAAI88E,GAKvB,GAAI7G,EAUF,IATA,IAAI8G,EAAYlrF,EAAQ8J,OAAO8K,EAAQ6uD,OAAQ,CAC7CqnB,iBAAkB,SAClBC,kBAAmB,SACnBL,gBAAiB,SACjBtuB,MAAO,QACPjiD,OAAQ,GACRqlC,WAAY,MAGL+V,EAAM,EAAGA,EAAM6uB,EAAS7uB,IAI/B,IAHA,IAAI41B,EAAchH,EAAU5+E,EAAKzD,OAC7B2hE,EAASvgB,EAAMrlC,GAAGqtE,GAEb1pF,EAAK,EAAGA,EAAKysD,EAAOnsD,OAAQN,IAAM,CACzC,IAAI4pF,EAAc1nE,EAASsgE,GAAUzuB,EAAM41B,EAAa3pF,EAAIkiB,GAAU,GAElEknE,GAAYQ,EAAYrD,OAAMqD,EAAY1E,KAAOkE,GACrDnnB,EAAOxlD,GAAGgwC,EAAOzsD,GAAIiiE,OAAOlO,GAAK/yD,WAAY4oF,aAoE5CjE,GAAoBz8E,GAC3B,IAAI2gF,EAAW3gF,EAAK4gF,WAAU,GAE9B,GAAI5gF,EAAKmG,QAAS,CAChB,IAAI6S,EAAS7gB,OAAO81B,iBAAiBjuB,GACrC2gF,EAASxzE,MAAMU,QAAUmL,EAAOnL,QAGlC,IAAK,IAAIxX,EAAI,EAAGA,EAAI2J,EAAKgG,WAAW5O,OAAQf,IAC1CsqF,EAAStzE,YAAYovE,GAAoBz8E,EAAKgG,WAAW3P,KAG3D,OAAOsqF,EAGT,IAAIE,GAAU,SAAUhkF,EAAIqN,IAC1BA,EAAUA,GAAW,IACbwwE,YAAc,QACtB79E,EAAKmB,EAAQnB,GAAMA,EAAK,CAACA,GAGzB,IAFA,IAAIunB,EAAQ,GAEH/tB,EAAI,EAAGA,EAAIwG,EAAGzF,OAAQf,IAAK,CAC7BwG,EAAGxG,GAAGwG,KAAIA,EAAGxG,GAAK,CACrBwG,GAAIA,EAAGxG,KAET,IAAIsU,EAAO6Z,GAAG3nB,EAAGxG,GAAGwG,IAChBu/E,EAAc9mF,EAAQ8J,OAAOvC,EAAGxG,GAAG6T,SAAW,GAAIA,GAItD,GAHIS,GAAQA,EAAK0xE,cAAa1xE,EAAOA,EAAK0xE,YAAYD,IACtD3gF,EAAOkP,EAAMsuE,IAETj7E,EAAQ2M,GAAOyZ,EAAQA,EAAM+H,OAAOxhB,QAAW,GAAIA,EAAK9P,MAAQ8P,EAAK9P,KAAKklB,KAAM,CAElF,IAAIwjC,EAASg2B,GAAgB5uE,EAAMyxE,GACnCh4D,EAAMltB,KAAK,CACTqsD,OAAQA,EACRi5B,WAAYxB,GAAcrwE,EAAMyxE,EAAa74B,GAC7CxqC,MAAOqjE,EAAYrjE,MAAQ+nE,GAASn2E,EAAMyxE,GAAe,GACzDA,YAAaA,KAKnB,GAAIlyE,EAAQwyE,SAAU,OAAOt4D,EAC7B,IAAI/oB,EAAQvC,EAASuC,QACrB,OAAOgb,GAAQpC,GAAI4D,IAAM,mCAAmC7e,MAAK,WAC/D,IAAKorB,EAAMhtB,OAAQ,OAAOiE,EAAM1B,OAAOs/E,IAUvC,IATA,IAAInhE,EAAK,CACPS,WAAY,GACZF,OAAQ,GACRI,SAAU,CACRsoE,QAAS,GACTroE,MAAO,KAIF3hB,EAAK,EAAGA,EAAKqtB,EAAMhtB,OAAQL,IAAM,KACxC,IAAIiqF,EAAe58D,EAAMrtB,GAAIqlF,YACzB54B,EAAUp/B,EAAMrtB,GAAIwsD,OACpBjiD,EAAS8iB,EAAMrtB,GAAIylF,WACnBzjE,EAAQqL,EAAMrtB,GAAIgiB,MAClBP,EAAS4L,EAAMrtB,GAAIyhB,QAAU,GAE7B3d,EAAOomF,GAAa3/E,EAAQkiD,EAASzqC,EAD5BqL,EAAMrtB,GAAIiiB,QAAU,GACuBgoE,GAEpD/b,GAAS+b,EAAazlF,MAAQ,QAAUxE,EAAK,IAAIsJ,QAAO,eAAiB,IAAIA,QAAO,KAAO,SAASg3C,UAAU,EAAG,IAGjH3xC,EAAI3O,GAE+B,GAAhC+gB,EAAGS,WAAWjW,QAAQ2iE,IAC3BA,EAAQ,UAAWv/D,EAGrBoS,EAAGS,WAAWrhB,KAAK+tE,GACnBntD,EAAGO,OAAO4sD,GAASpqE,EACnBid,EAAGW,SAASC,MAAQZ,EAAGW,SAASC,MAAMyT,OAAO3T,GAK/C,IAAI0oE,EAAM/oE,KAAKgpE,MAAMrpE,EAAI,CACvBspE,SAAU,OACVC,SAAS,EACTpnF,KAAM,WAEJuX,EAAWspE,GAAY5wE,EAAQsH,SAAU,QACzC+rE,EAAO,IAAIC,KAAK,CAAC8D,GAAUJ,IAAO,CACpCjnF,KAAM,qBAIR,OAFyB,IAArBiQ,EAAQqH,UAAoBA,GAASgsE,EAAM/rE,GAC/CnW,EAAM3B,QAAQ6jF,GACPliF,eAIFimF,GAAUjoE,GAIjB,IAHA,IAAIkoE,EAAM,IAAIC,YAAYnoE,EAAEjiB,QACxBuT,EAAO,IAAI+M,WAAW6pE,GAEjBlrF,EAAI,EAAGA,GAAKgjB,EAAEjiB,SAAUf,EAC/BsU,EAAKtU,GAAuB,IAAlBgjB,EAAEsmE,WAAWtpF,GAGzB,OAAOkrF,EAGT,IAAIE,GAAQ,CACV3b,OAAQ,IACRne,KAAM,IACNvQ,OAAQ,IACRsqC,QAAS,cAIFT,GAAapmF,EAAM0oD,EAAQxqC,EAAOC,EAAQ9O,GAajD,IAZA,IA4LiBy9C,EA5Lbg6B,EAAK,GACLnoE,EAAQ,CACVH,EAAG,CACD5V,EAAG,IACHvI,EAAG,KAELR,EAAG,CACD+I,EAAG,EACHvI,EAAG,IAIEigE,EAAI,EAAGA,GAAKtgE,EAAKzD,SAAU+jE,EAClC,IAAK,IAAIqM,EAAI,EAAGA,GAAK3sE,EAAKsgE,GAAG/jE,SAAUowE,EAAG,CACpChuD,EAAMH,EAAEne,EAAIigE,IAAG3hD,EAAMH,EAAEne,EAAIigE,GAC3B3hD,EAAMH,EAAE5V,EAAI+jE,IAAGhuD,EAAMH,EAAE5V,EAAI+jE,GAC3BhuD,EAAM9e,EAAEQ,EAAIigE,IAAG3hD,EAAM9e,EAAEQ,EAAIigE,GAC3B3hD,EAAM9e,EAAE+I,EAAI+jE,IAAGhuD,EAAM9e,EAAE+I,EAAI+jE,GAC/B,IAAIjuD,EAAO,CACTlgB,EAAGwB,EAAKsgE,GAAGqM,IAEb,GAAe,OAAXjuD,EAAKlgB,EAAT,CACA,IAAIuoF,EAAWzpE,KAAKsB,MAAMK,YAAY,CACpCrW,EAAG+jE,EACHtsE,EAAGigE,IAED0mB,EAActoE,EAAKlgB,EAAEvB,WACrBgqF,EAAsC,MAA1BD,EAAY52E,OAAO,GAEnC,GAAI+N,EAAQ,CACV,IAAIsnE,EAAYhH,GAAUne,EAAGqM,EAAGxuD,GAE5BsnE,EAAU3mD,SACZpgB,EAAK3T,EAAI06E,EAAU3mD,cACZ2mD,EAAU3mD,QAGf2mD,EAAUrmF,OACZsf,EAAKrW,EAAIu+E,GAAMnB,EAAUrmF,aAClBqmF,EAAUrmF,MAGnBsf,EAAKF,EAAIinE,EAOX,GAAInlB,IAFUjxD,EAAQixE,UAAY,EAAI,GAAK53B,EAAO,GAAG55C,OAAOvS,SAExC0qF,EAAW,CAC7B,IAAI9nC,EAASuJ,EAAOikB,GAChBxtB,EAAO//C,OAASsf,EAAKrW,IAAGqW,EAAKrW,EAAIu+E,GAAMznC,EAAO//C,OAAS,IACvD+/C,EAAOrgB,SAAWpgB,EAAK3T,IAAG2T,EAAK3T,EAAIo0C,EAAOrgB,QAI5CzvB,EAAQ63E,YAAcF,EAAatoE,EAAKrW,EAAI,IAAaqW,EAAKlgB,aAAa8E,MAC7Eob,EAAKrW,EAAIqW,EAAKrW,GAAK,IACnBqW,EAAK3T,EAAI2T,EAAK3T,GAAKuS,KAAK6pE,IAAS,OAAE,IACnCzoE,EAAKlgB,GAiIMsuD,EAjIQpuC,EAAKlgB,OAkI1B4oF,GAAiB,OAASt6B,EAAKu6B,UAAY,IAAAv6B,EAAKw6B,qBAAoC,OAClErqF,WAAWyK,OAAO,EAAG,MAlI5Bu/E,GACTvoE,EAAKrW,EAAIqW,EAAKrW,GAAK,IACnBqW,EAAKjc,EAAIic,EAAKlgB,EAAEg+C,UAAU,UACnB99B,EAAKlgB,GACFkgB,EAAKrW,IACO,kBAAXqW,EAAKlgB,EAAiBkgB,EAAKrW,EAAI,IAA+B,iBAAXqW,EAAKlgB,GAAkBunB,WAAWrH,EAAKlgB,IAAMkgB,EAAKlgB,GAC9GkgB,EAAKlgB,EAAa,EAATkgB,EAAKlgB,EACdkgB,EAAKrW,EAAI,MAGTqW,EAAKlgB,EAAIwoF,EACTtoE,EAAKrW,EAAI,MAGby+E,EAAGC,GAAYroE,GAQnB,OAJIC,EAAMH,EAAE5V,EAAI,MAAUk+E,EAAG,QAAUxpE,KAAKsB,MAAM2oE,aAAa5oE,IAC/DmoE,EAAG,kBAMkBp+B,GACrB,IAAIlpC,EAAUkpC,EAAOlpC,QAErB,IAAK,IAAIhkB,KAAKgkB,EACZA,EAAQhkB,GAAK,CACXmkB,IAAKH,EAAQhkB,GACbgsF,IAAkB,IAAbhoE,EAAQhkB,IAIjB,IAAI6iB,EAASqqC,EAAOy2B,WACpB,GAAI9gE,EAAQ,IAAK,IAAIjT,KAAOiT,EACrBmB,EAAQpU,KAAMoU,EAAQpU,GAAO,IAClCoU,EAAQpU,GAAKiT,OAAS,EAExB,OAAOmB,EArBOioE,CAAc/+B,GAC5Bo+B,EAAG,kBAiHqBp+B,GAGxB,IAFA,IAAIg/B,EAAS,GAEJlsF,EAAI,EAAGA,EAAIktD,EAAOnsD,OAAQf,IAAK,CACtC,IAAI6O,EAAMq+C,EAAOltD,GACjBksF,EAAOrrF,KAAK,CACVkjB,IAAKlV,EAAIqK,MACT2J,OAAQqqC,EAAOw2B,WAAax2B,EAAOw2B,WAAW70E,EAAIrI,IAAM,IAI5D,OAAO0lF,EA5HOC,CAAiBj/B,GAC3BxqC,EAAM3hB,SAAQuqF,EAAG,WAAa5oE,GAC3B4oE,WAqBAb,GAASn2E,EAAMT,GACtB,IAAIyvE,EAAUhvE,EAAKmgD,gBACf/qC,EAAOpV,EAAK+wE,YACZ3iE,EAAQ,GAEZ,GAAI4gE,EAAS,CAGX,IAFuB,IAAnBzvE,EAAQP,SAAkBoP,EAAQ0pE,GAAe93E,EAAMT,EAAS,SAAU6O,IAE1EgH,EAAM,CACR,IAAI2iE,EAAKx4E,EAAQyP,aAAe,EAC5BgpE,EAAKz4E,EAAQ0P,aAAe,EAEhC,IAAK,IAAIN,KAAOyG,EAAM,CAEpB,IAAIwG,EAAOxG,EAAKzG,GAEhB,IAAK,IAAIpU,KAAOqhB,EAAM,CACpB,IAAIq8D,EAAWj4E,EAAKk4E,eAAe39E,GAC/B49E,EAAQn4E,EAAK8uB,QAAQngB,GAAKzc,GAC1BkmF,EAAWp4E,EAAKixC,aAAaknC,GAEjC,GAAI54E,EAAQgP,OAAQ,CAClB,IAAI8pE,EAAkBr4E,EAAKk/C,qBAE3B,GAAIm5B,EAAgB5rF,OAAQ,CAC1B,IAAI6rF,EAAQt4E,EAAKmgD,gBAAgB5lD,GAAKrI,GACtC+lF,EAAWI,EAAgB1gF,QAAQ2gF,GAGrC,IAAIC,EAAkBv4E,EAAK9P,KAAKgnD,cAC5BqhC,GAAmBA,EAAgB9rF,SAAQ2rF,EAAWG,EAAgB5gF,QAAQwgF,IAGpF,IAAIK,EAAKP,EAAWF,EAChBU,EAAKL,EAAWJ,EACpB,KAAIQ,EAAK,GAAKC,EAAK,GAAnB,CAEA,IAAI7oF,EAAK4oF,EAAK58D,EAAKrhB,GAAK,GAAK,EACzBjM,EAAKmqF,GAAM78D,EAAKrhB,GAAK,GAAK,GAC9B6T,EAAM7hB,KAAK,CACTmiB,EAAG,CACD5V,EAAG0/E,EACHjoF,EAAGkoF,GAEL1oF,EAAG,CACD+I,EAAGlJ,EACHW,EAAGjC,SAOU,IAAnBiR,EAAQ6uD,SAAkBhgD,EAAQ0pE,GAAe93E,EAAMT,EAAS,SAAU6O,IAGhF,OAAOA,WAGA0pE,GAAe93E,EAAMT,EAASgD,EAAO6L,GAI5C,IAHA,IAAItF,EAAU9I,EAAK/N,OAAO6W,QACtBw1B,GAAS/+B,EAAQixE,UAAY,EAAI,IAAe,UAATjuE,EAAoB,IAAwB,IAAnBhD,EAAQP,OAAmBgB,EAAKywE,SAAShkF,OAAS,GAAKuT,EAAKrD,SAEvHjR,EAAI,EAAGA,EAAIod,EAAQrc,OAAQf,IAGlC,IAFA,IAAIsT,EAAS8J,EAAQpd,GAAG6W,GAEf+yB,EAAI,EAAGA,EAAIt2B,EAAOvS,OAAQ6oC,IAC7Bt2B,EAAOs2B,KAAOt2B,EAAOs2B,GAAGia,SAAWvwC,EAAOs2B,GAAGma,UAC/CrhC,EAAM7hB,KAAK,CACTmiB,EAAG,CACD5V,EAAGpN,EACH6E,EAAG+kC,EAAIgJ,GAETvuC,EAAG,CACD+I,EAAGpN,GAAKsT,EAAOs2B,GAAGia,SAAW,GAAK,EAClCh/C,EAAG+kC,GAAKt2B,EAAOs2B,GAAGma,SAAW,GAAK,EAAInR,KAOhD,OAAOlwB,EA0BT,IAAIsqE,GAAK,CACPC,eAAgB,IAChBC,UAAW,EACXC,iBAAkB,IAClBC,YAAa,EACbC,WAAY,WACZC,WAAY,WACZC,eAAgB,WAChBC,eAAgB,oBAChBC,GAAI,CAAC,KAAM,MACXC,GAAI,CAAC,KAAM,MACXC,MAAO,SACPC,cAAe,CACbX,eAAgB,IAChBC,UAAW,EACXC,iBAAkB,IAClBC,YAAa,GAEfS,SAAU,CAAC,IAAK,KAAM,KAAM,KAAM,KAAM,KAAM,MAC9CC,SAAU,CACRC,UAAW,CAAC,UAAW,WAAY,QAAS,QAAS,MAAO,OAAQ,OAAQ,SAAU,YAAa,UAAW,WAAY,YAC1HC,WAAY,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC1FC,QAAS,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,YAC5EC,SAAU,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACrDC,MAAO,QACPC,QAAS,UACTxtF,KAAM,OACNqkB,MAAO,QACPopE,MAAO,SAETlG,WAAY,CACVtc,KAAM,OACNwc,GAAI,MAENiG,UAAW,CACTjG,GAAI,KACJkG,cAAe,iBACfC,WAAY,cACZC,QAAS,WACTC,UAAW,aACXC,WAAY,cACZC,cAAe,iBACfC,cAAe,kBAEjB/jB,KAAM,CACJgjB,SAAU,WACVgB,cAAe,iBACfC,cAAe,iBACfC,SAAU,CAAC,iBAAkB,cAC7BC,QAAS,CAAC,gBAAiB,aAC3BC,UAAW,CAAC,kBAAmB,eAC/B7B,WAAY,WACZ8B,YAAa,QACbC,WAAY,KACZC,WAAY,eACZC,aAAc,cACdC,WAAY,cACZC,MAAO,CAAC,aAAc,gBAAiB,YAAa,aACpD3jB,KAAM,OACN4jB,WAAY,cACZC,UAAW,oBACXC,WAAY,qBACZC,SAAU,YACVC,SAAU,iBACVC,aAAc,iBACdC,WAAY,WACZC,QAAS,WACTjlB,QAAS,eACTklB,iBAAkB,cAClBC,sBAAuB,iBACvBC,UAAW,aACXC,UAAW,aACXC,YAAa,gBAEfC,SAAU,CACRC,UAAW,YACXvJ,KAAM,OACNwJ,OAAQ,UAEVh1B,MAAO,CACLx+B,OAAQ,SACRiyC,UAAW,aACXH,YAAa,gBAEftpE,QAAS,CACP8yB,GAAI,KACJC,OAAQ,UAEVk4D,SAAU,CACR59E,KAAM,OACN69E,eAAgB,6CAChBjzB,KAAM,OACNlzD,OAAQ,SACRmuB,YAAa,cACbi4D,aAAc,iBAEhBhmF,OAAQ,CACNimF,KAAM,OACNC,YAAa,gBACbC,QAAS,UACTC,eAAgB,mBAChBz5D,SAAU,WACV05D,YAAa,eACbC,MAAO,QACPC,SAAU,YACVC,WAAY,cACZC,cAAe,kBACfC,SAAU,YACVC,YAAa,gBACbC,QAAS,UACTC,WAAY,eAEdC,UAAW,CACTC,QAAS,YAITC,GAAQ,CACVC,eAAe,EACfC,QAAS,SAAUx+E,EAAKy+E,GAGtB,OAFIz+E,EAAM,KAAIA,EAAM,IAAMA,GACtBy+E,GAAMz+E,EAAM,MAAKA,EAAM,IAAMA,GAC1BA,GAET0+E,UAAW,SAAUzgC,GAEnB,IAAIrxB,GADJqxB,EAAOhyD,KAAKulD,KAAKyM,IACA0gC,SAMjB,OAJI1yF,KAAKsyF,gBACO,IAAV3xD,EAAaA,EAAQ,EAAOA,KAG3B3gC,KAAK2yF,SAAS3yF,KAAKk9B,IAAI80B,GAAM,EAAKrxB,EAAO,SAElDiyD,WAAY,SAAU5gC,GAGpB,OAFAA,EAAOhyD,KAAKulD,KAAKyM,IACZ6gC,QAAQ,GACN7yF,KAAK2yF,SAAS3gC,IAEvB8gC,UAAW,SAAU9gC,GAGnB,OAFAA,EAAOhyD,KAAKulD,KAAKyM,IACZ+gC,SAAS,GACP/yF,KAAK4yF,WAAW5gC,IAEzBghC,SAAU,SAAUhhC,GAClB,OAAOhyD,KAAK2yF,SAAS3gC,GAAM,IAE7BihC,UAAW,SAAUjvD,EAAQkvD,GAC3B,GAAqB,mBAAVlvD,EAAsB,OAAOA,EAExC,GAAI1lB,GAAIC,OACN,OAAO,SAAU40E,GACf,IAAKA,EAAM,MAAO,GACbA,EAAKC,WAAUD,EAAO5nF,EAAKw8D,gBAAgBorB,IAChD,IAAIE,EAAM,GACNpqE,EAAU,EA4Cd,OA3CA+a,EAAOt5B,QAAO,cAAe,SAAUgZ,EAAG5Y,GACxCuoF,GAAOrvD,EAAO3a,MAAMJ,EAASne,GAsC7BuoF,GApCS,SAAUrhC,GACjB,GAAS,MAALtuC,EAAW,OAAO2uE,GAAME,QAAQvgC,EAAKshC,WACzC,GAAS,MAAL5vE,EAAW,OAAO2uE,GAAME,QAAQvgC,EAAKohC,WAAa,GACtD,GAAS,MAAL1vE,EAAW,OAAOsuC,EAAKshC,UAC3B,GAAS,MAAL5vE,EAAW,OAAOsuC,EAAKohC,WAAa,EACxC,GAAS,MAAL1vE,EAAW,OAAO2uE,GAAME,QAAQvgC,EAAKuhC,cAAgB,KACzD,GAAS,MAAL7vE,EAAW,OAAOsuC,EAAKuhC,cAC3B,GAAS,MAAL7vE,EAAW,OAAOnY,EAAKijF,SAASI,SAAS58B,EAAK0gC,UAClD,GAAS,MAALhvE,EAAW,OAAOnY,EAAKijF,SAASG,QAAQ38B,EAAK0gC,UACjD,GAAS,MAALhvE,EAAW,OAAOnY,EAAKijF,SAASE,WAAW18B,EAAKohC,YACpD,GAAS,MAAL1vE,EAAW,OAAOnY,EAAKijF,SAASC,UAAUz8B,EAAKohC,YACnD,GAAS,MAAL1vE,EAAW,OAAO2uE,GAAME,SAASvgC,EAAKwhC,WAAa,IAAM,GAAK,GAClE,GAAS,MAAL9vE,EAAW,OAAQsuC,EAAKwhC,WAAa,IAAM,GAAK,EACpD,GAAS,MAAL9vE,EAAW,OAAOsuC,EAAKwhC,WAC3B,GAAS,MAAL9vE,EAAW,OAAO2uE,GAAME,QAAQvgC,EAAKwhC,YACzC,GAAS,MAAL9vE,EAAW,OAAO2uE,GAAME,QAAQvgC,EAAKyhC,cACzC,GAAS,MAAL/vE,EAAW,OAAOsuC,EAAKwhC,WAAa,GAAKjoF,EAAK6iF,GAAG,GAAK7iF,EAAK4iF,GAAG,GAClE,GAAS,MAALzqE,EAAW,OAAOsuC,EAAKwhC,WAAa,GAAKjoF,EAAK6iF,GAAG,GAAK7iF,EAAK4iF,GAAG,GAClE,GAAS,MAALzqE,EAAW,OAAO2uE,GAAME,QAAQvgC,EAAK0hC,cACzC,GAAS,MAALhwE,EAAW,OAAO2uE,GAAME,QAAQvgC,EAAK2hC,mBAAmB,GAC5D,GAAS,MAALjwE,EAAW,OAAO2uE,GAAME,QAAQ/pF,KAAKorF,WAAW5hC,IAEpD,GAAS,MAALtuC,EAAW,CACb,IAAI9c,EAAMorD,EAAKuhC,cAOf,OANA3sF,GAAO,IAAMyrF,GAAME,QAAQvgC,EAAKohC,WAAa,GAC7CxsF,GAAO,IAAMyrF,GAAME,QAAQvgC,EAAKshC,WAChC1sF,GAAO,IACPA,GAAOyrF,GAAME,QAAQvgC,EAAKwhC,YAC1B5sF,GAAO,IAAMyrF,GAAME,QAAQvgC,EAAKyhC,cAChC7sF,GAAO,IAAMyrF,GAAME,QAAQvgC,EAAK0hC,cAIlC,OAAOhwE,EAGF7gB,CAAGswF,GACVlqE,EAAUne,EAAM,KAElBuoF,GAAOrvD,EAAO3a,MAAMJ,EAAS+a,EAAOviC,SAKxCuiC,EAASA,EAAOt5B,QAAO,cAAe,SAAUzB,GAC9C,OAAQA,GACN,IAAK,KACH,MAAO,oCAET,IAAK,KACH,MAAO,yCAET,IAAK,KACH,MAAO,qBAET,IAAK,KACH,MAAO,0BAET,IAAK,KACH,MAAO,4CAET,IAAK,KACH,MAAO,yBAET,IAAK,KACH,MAAO,4CAET,IAAK,KACH,MAAO,2CAET,IAAK,KACH,MAAO,gDAET,IAAK,KACH,MAAO,+CAET,IAAK,KACH,MAAO,+CAET,IAAK,KACH,MAAO,kCAET,IAAK,KACH,MAAO,sBAET,IAAK,KACH,MAAO,qCAET,IAAK,KACH,MAAO,uCAET,IAAK,KACH,MAAO,iDAET,IAAK,KACH,MAAO,iDAET,IAAK,KACH,MAAO,uCAET,IAAK,KACH,MAAO,kDAET,IAAK,KACH,MAAO,4CAET,IAAK,KACH,IAAIrC,EAAM,yBAQV,OAPAA,GAAO,0CACPA,GAAO,qCACPA,GAAO,IACPA,GAAO,qCACPA,GAAO,wCACPA,GAAO,yCACK,IAARssF,IAActsF,GAAO,KAClBA,UAGP,OAAOqC,OAGD,IAARiqF,IAAclvD,EAASA,EAAOt5B,QAAO,aAAe,gBACxD,IAAIgF,EAAO,IAAI8Z,SAAS,OAAQ,OAAQ,QAAS,wFAA0Fwa,EAAS,MACpJ,OAAO,SAAUtgC,GACf,OAAOgM,EAAKhM,EAAG6H,EAAM8mF,MAGzBwB,UAAW,SAAU7vD,EAAQkvD,GAC3B,GAAqB,mBAAVlvD,EAAsB,OAAOA,EACxC,IAEItjC,EAAG6M,EAAGmW,EAFNowE,EAAO9vD,EAAO0sB,MAAK,cACnBqjC,EAAO,6EAGX,IAAKxoF,EAAKijF,SAASwF,gBAAiB,CAIlC,IAHAtwE,EAAInY,EAAKijF,SAASE,WAClBnhF,EAAIhC,EAAKijF,SAASwF,gBAAkB,GAE/BtzF,EAAI,EAAGA,EAAIgjB,EAAEjiB,OAAQf,IACxB6M,EAAEmW,EAAEhjB,IAAMA,EAMZ,IAHAgjB,EAAInY,EAAKijF,SAASC,UAClBlhF,EAAIhC,EAAKijF,SAASyF,eAAiB,GAE9BvzF,EAAI,EAAGA,EAAIgjB,EAAEjiB,OAAQf,IACxB6M,EAAEmW,EAAEhjB,IAAMA,EAId,GAAI4d,GAAIC,OACN,OAAO,SAAUyzC,GACf,IAAKA,EAAM,MAAO,GAClB,GAAqB,UAAjB/xD,EAAQ+xD,GAAmB,OAAOA,EACtC,IAAItiD,EAAOsiD,EAAKniD,MAAK,gBACrB,IAAKH,EAAKrI,KAAK,IAAK,MAAO,GAC3B,IAAIszB,EAAM,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAE7B,IAAKj6B,EAAI,EAAGA,EAAIozF,EAAKryF,OAAQf,IAAK,CAChC,IAAIuI,EAAI6qF,EAAKpzF,GACb,GAAS,MAALuI,EAAW0xB,EAAI,GAAe,EAAVjrB,EAAKhP,IAAUgP,EAAKhP,GAAK,GAAK,KAAO,UAAW,GAAS,MAALuI,EAC1E0xB,EAAI,GAAsB,GAAhBjrB,EAAKhP,IAAM,GACjBi6B,EAAI,GAAK,KAAIA,EAAI,IAAM,UACtB,GAAS,MAAL1xB,GAAkB,MAALA,EAAW0xB,EAAI,IAAMjrB,EAAKhP,IAAM,GAAK,OAAO,GAAS,MAALuI,EAAW0xB,EAAI,GAAKpvB,EAAKijF,SAASwF,gBAAgBtkF,EAAKhP,KAAO,OAAO,GAAS,MAALuI,EAAW0xB,EAAI,GAAKpvB,EAAKijF,SAASyF,eAAevkF,EAAKhP,KAAO,OAAO,GAAS,MAALuI,GAAkB,MAALA,EAAW0xB,EAAI,GAAKjrB,EAAKhP,IAAM,OAAO,GAAS,MAALuI,GAAkB,MAALA,GAAkB,MAALA,GAAkB,MAALA,EAAW0xB,EAAI,GAAKjrB,EAAKhP,IAAM,OAAO,GAAS,MAALuI,EAAW0xB,EAAI,GAAKA,EAAI,GAAK,KAAOjrB,EAAKhP,IAAM,KAAO6K,EAAK4iF,GAAG,GAAK,EAAI,SAAS,GAAS,MAALllF,EAAW0xB,EAAI,GAAKA,EAAI,GAAK,KAAOjrB,EAAKhP,IAAM,KAAO6K,EAAK4iF,GAAG,GAAK,EAAI,SAAS,GAAS,MAALllF,EAAW0xB,EAAI,GAAKjrB,EAAKhP,IAAM,OAAO,GAAS,MAALuI,EAAW0xB,EAAI,GAAKjrB,EAAKhP,IAAM,OAAO,GAAS,MAALuI,EAAW0xB,EAAI,GAAKjrB,EAAKhP,IAAM,OAAO,GAAS,MAALuI,EAAW,CAChpB,IACIqG,EADG,8CACOzG,KAAKmpD,GACnBr3B,EAAI,GAAqB,GAAfrrB,EAAI,IAAM,GAChBqrB,EAAI,GAAK,KAAIA,EAAI,IAAM,KAC3BA,EAAI,IAAMrrB,EAAI,IAAM,GAAK,EACzBqrB,EAAI,GAAKrrB,EAAI,IAAM,EACnBqrB,EAAI,GAAKrrB,EAAI,IAAM,EACnBqrB,EAAI,GAAKrrB,EAAI,IAAM,EACnBqrB,EAAI,GAAKrrB,EAAI,IAAM,GAIvB,OAAI4jF,EAAY,IAAI1qF,KAAKA,KAAK0rF,IAAIv5D,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,KAC/E,IAAInyB,KAAKmyB,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,KAIxE,IAAKj6B,EAAI,EAAGA,EAAIozF,EAAKryF,OAAQf,IAC3B,OAAQozF,EAAKpzF,IACX,IAAK,KACL,IAAK,KACHqzF,GAAQ,eAAiBrzF,EAAI,QAC7B,MAEF,IAAK,KACL,IAAK,KACHqzF,GAAQ,gBAAkBrzF,EAAI,WAC9B,MAEF,IAAK,KACHqzF,GAAQ,eAAiBrzF,EAAI,aAAeA,EAAI,mBAChD,MAEF,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACHqzF,GAAQ,eAAiBrzF,EAAI,QAC7B,MAEF,IAAK,KACHqzF,GAAQ,eAAiBrzF,EAAI,QAC7B,MAEF,IAAK,KACHqzF,GAAQ,gBAAkBrzF,EAAI,wCAC9B,MAEF,IAAK,KACHqzF,GAAQ,0BAA4BrzF,EAAI,uBACxC,MAEF,IAAK,KACHqzF,GAAQ,0BAA4BrzF,EAAI,uBACxC,MAEF,IAAK,KACHqzF,GAAQ,eAAiBrzF,EAAI,QAC7B,MAEF,IAAK,KACHqzF,GAAQ,eAAiBrzF,EAAI,QAC7B,MAEF,IAAK,KACHqzF,GAAQ,6CAA+CrzF,EAAI,SAC3D,MAEF,IAAK,KACHqzF,GAAQ,4CAA8CrzF,EAAI,SAC1D,MAEF,IAAK,KACHqzF,GAAQ,6BACRA,GAAQ,yCACRA,GAAQ,oDACRA,GAAQ,uBACRA,GAAQ,oBACRA,GAAQ,yCACRA,GAAQ,mBACRA,GAAQ,mBACRA,GAAQ,8BAQd,IAAIjrF,EAAO,mDACPoqF,IAAKpqF,EAAO,aAAeA,EAAO,KACtC,IAAIqrF,EAAO,IAAI3qE,SAAS,OAAQ,OAAQ,4FAA8FuqE,EAAO,oBAAsBjrF,EAAO,MAC1K,OAAO,SAAUpF,GACf,OAAOywF,EAAKzwF,EAAG6H,KAGnBqoF,WAAY,SAAUQ,GACpB,IAAKA,EAAO,OAAO,EACnB,IAAIC,EAAOD,EAAM1B,SAEJ,IAAT2B,IACFA,EAAO,GAGT,IAAIC,EAAiB,IAAI9rF,KAAK4rF,EAAMlqF,WACpCoqF,EAAezB,QAAQuB,EAAMd,WAAa,EAAIe,IAC9C,IAAIE,EAAcD,EAAef,cAE7BiB,EAAe96E,KAAKqgB,OAAOu6D,EAAe/H,UAAY,IAAI/jF,KAAK+rF,EAAa,EAAG,GAAGhI,WAAa,OAGnG,OADiB,EAAI7yE,KAAKqgB,MAAMy6D,EAAe,IAGjDC,cAAe,SAAUL,GACvB,OAAOp0F,KAAK4zF,WAAWQ,IAEzBM,aAAc,SAAU5wF,EAAG6wF,EAAI1pB,EAAK2pB,GAClC,GAAK3pB,EAAL,CACA,IAAI4pB,EAAYD,EAAU9wF,EAAG6wF,GAE7B,GAAIE,MACF,IAAIn0F,EAAIuqE,EAAM,EAAI,GAAI,EAEf4pB,GACL/wF,EAAEgxF,SAAShxF,EAAE0vF,WAAa9yF,GAC1Bm0F,EAAYD,EAAU9wF,EAAG6wF,GACzBj0F,GAAKuqE,EAAM,EAAI,GAAI,IAIzB/tC,IAAK,SAAU80B,EAAMiZ,EAAKn5D,EAAMyzC,GAC1BA,IAAMyM,EAAOhyD,KAAKulD,KAAKyM,IAC3B,IAAI+iC,EAAI1C,GAAM9sC,KAAKyM,GAEnB,OAAQlgD,GACN,IAAK,MACHkgD,EAAK6gC,QAAQ7gC,EAAKshC,UAAYroB,GAE9BjrE,KAAK00F,aAAa1iC,EAAM+iC,EAAG9pB,GAAK,SAAUnnE,EAAG6wF,GAC3C,OAAOtC,GAAMM,SAASgC,GAAI,GAAMzqF,WAAamoF,GAAMM,SAAS7uF,GAAG,GAAMoG,aAGvE,MAEF,IAAK,OACH8nD,EAAK6gC,QAAQ7gC,EAAKshC,UAAY,EAAIroB,GAElCjrE,KAAK00F,aAAa1iC,EAAM+iC,EAAG,EAAI9pB,GAAK,SAAUnnE,EAAG6wF,GAC/C,OAAOtC,GAAMM,SAASgC,GAAI,GAAMzqF,WAAamoF,GAAMM,SAAS7uF,GAAG,GAAMoG,aAGvE,MAEF,IAAK,QACH8nD,EAAK+gC,SAAS/gC,EAAKohC,WAAanoB,GAEhCjrE,KAAK00F,aAAa1iC,EAAM+iC,EAAG9pB,GAAK,SAAUnnE,EAAG6wF,GAC3C,OAAOA,EAAGvB,YAActvF,EAAEsvF,YAAcuB,EAAGK,WAAalxF,EAAEkxF,aAG5D,MAEF,IAAK,UACHhjC,EAAK+gC,SAAS/gC,EAAKohC,WAAmB,EAANnoB,GAEhCjrE,KAAK00F,aAAa1iC,EAAM+iC,EAAG9pB,GAAK,SAAUnnE,EAAG6wF,GAC3C,OAAOA,EAAGvB,YAActvF,EAAEsvF,YAAcuB,EAAGK,WAAalxF,EAAEkxF,aAG5D,MAEF,IAAK,OACHhjC,EAAKijC,QAAQjjC,EAAKuhC,cAAgBtoB,GAElCjrE,KAAK00F,aAAa1iC,EAAM+iC,EAAG9pB,GAAK,SAAUnnE,EAAG6wF,GAC3C,OAAOA,EAAGpB,eAAiBzvF,EAAEyvF,iBAG/B,MAEF,IAAK,OACHvhC,EAAK8iC,SAAS9iC,EAAKwhC,WAAavoB,GAEhCjrE,KAAK00F,aAAa1iC,EAAM+iC,EAAG9pB,GAAK,SAAUnnE,EAAG6wF,GAC3C,OAAOA,EAAGnB,YAAc1vF,EAAE0vF,YAAchrF,KAAKmqF,SAASgC,GAAI,IAASnsF,KAAKmqF,SAAS7uF,GAAG,MAGtF,MAEF,IAAK,SACHkuD,EAAKkjC,WAAWljC,EAAKyhC,aAAexoB,GACpC,cAGAonB,GAAMn1D,IAAIprB,GAAMkgD,EAAMiZ,EAAKn5D,GAI/B,OAAOkgD,GAET2gC,SAAU,SAAU3gC,EAAMzM,GACpBA,IAAMyM,EAAOhyD,KAAKulD,KAAKyM,IAE3B,IAAIluD,EAAI9D,KAAKulD,KAAKyM,GAYlB,OAXAluD,EAAEgxF,SAAS,GAEPhxF,EAAEwvF,WAAathC,EAAKshC,UACtBthC,EAAK8iC,SAAS,GAEd9iC,EAAK8iC,SAAS,GAGhB9iC,EAAKkjC,WAAW,GAChBljC,EAAKmjC,WAAW,GAChBnjC,EAAKojC,gBAAgB,GACdpjC,GAETqjC,SAAU,SAAUrjC,EAAMzM,GAExB,OADIA,IAAMyM,EAAOhyD,KAAKulD,KAAKyM,KACnBA,EAAK9nD,UAAY,IAAkC,GAA3B8nD,EAAKw6B,qBAA4B,OAEnEjnC,KAAM,SAAUyM,GACd,OAAO,IAAIxpD,KAAKwpD,EAAK9nD,YAEvBynF,MAAO,SAAU1oF,EAAG4E,GAClB,SAAK5E,IAAM4E,IACJ5E,EAAEiB,YAAc2D,EAAE3D,WAE3BorF,UAAW,SAAUC,GAEnB,GAAY,KADZA,EAAMA,EAAI7C,WACc,GAAP6C,EAAU,MAAO,oBAIlCC,GAAW,CACb33E,UAAW,SAAUrc,GACnB,IAAIyF,EAAS,CACX6mF,YAAa,EACbF,UAAW,IACXpmE,OAAQ,GACRnQ,MAAO,IAELhD,EAAQ7S,EAAMqO,MAAK,iBACnBwE,EAAM,GAAG5S,SAAQwF,EAAOugB,OAASnT,EAAM,IACvCA,EAAM,GAAG5S,SAAQwF,EAAOoQ,MAAQhD,EAAM,KAEtCpN,EAAOugB,QAAUvgB,EAAOoQ,SAC1B7V,EAAQA,EAAMoL,OAAO3F,EAAOugB,OAAO/lB,OAAQD,EAAMC,OAASwF,EAAOugB,OAAO/lB,OAASwF,EAAOoQ,MAAM5V,SAGhG,IAAIsS,EAAMvS,EAAMmL,QAAQ,KAEpBoH,EAAM,IACR9M,EAAOugB,OAAShmB,EAAMoL,OAAO,EAAGmH,GAChCvS,EAAQA,EAAMoL,OAAOmH,IAGvB,IAAI0hF,EAAMj0F,EAAMmL,QAAQ,KAEpB8oF,EAAM,IACRxuF,EAAO6mF,YAActsF,EAAMC,OAASg0F,EACpCxuF,EAAO4mF,iBAAmBrsF,EAAMi0F,EAAM,GACtCj0F,EAAQA,EAAMoL,OAAO,EAAG6oF,EAAM,IAGhC,IAAIx0C,EAAMz/C,EAAMkvD,MAAK,UAOrB,OALIzP,IACFh6C,EAAO2mF,UAAYpsF,EAAMC,OAASw/C,EAAI5jC,MAAQ,EAC9CpW,EAAO0mF,eAAiBnsF,EAAMy/C,EAAI5jC,QAG7BpW,GAETmK,MAAO,SAAU5P,EAAOyF,GACtB,IAAKzF,GAA0B,iBAAVA,EAAoB,OAAOA,EAC5CyF,EAAOugB,SAAQhmB,EAAQA,EAAMgF,cAAckE,QAAQzD,EAAOugB,OAAOhhB,eAAiB,GAAI,KACtFS,EAAOoQ,QAAO7V,EAAQA,EAAMgF,cAAckE,QAAQzD,EAAOoQ,MAAM7Q,eAAiB,GAAI,KACxF,IAAI42B,EAAU,GAEd,GAAIn2B,EAAO4mF,iBAAkB,CAC3B,IAAI7L,EAAMxgF,EAAMmL,QAAQ1F,EAAO4mF,kBAE3B7L,GAAM,IAER5kD,GADAA,EAAU57B,EAAMoL,OAAOo1E,EAAM,GAAGt3E,QAAO,UAAY,KACjCkC,OAAO,EAAG8M,KAAKwJ,IAAIka,EAAQ37B,OAAQwF,EAAO6mF,cAC5DtsF,EAAQA,EAAMoL,OAAO,EAAGo1E,IAI5B,IAAIxsC,EAAoB,MAAbh0C,EAAM,IAAa,EAAK,EAInC,OAHAA,EAAQA,EAAMkJ,QAAO,UAAY,OACrBlJ,EAAQ,KAChB47B,IAAS57B,GAAS,IAAM47B,GACrBnS,WAAWzpB,GAASg0C,GAE7BxR,OAAQ,SAAUxiC,EAAOyF,GACvB,GAAc,KAAVzF,QAAiC,IAAVA,EAAuB,OAAOA,EACzDyF,EAASA,GAAUsE,EAEnB,IAAIiqC,GADJh0C,EAAQypB,WAAWzpB,IACA,EAAI,IAAM,GAC7BA,EAAQkY,KAAKyS,IAAI3qB,GACZyF,EAAOyuF,kBAAiBl0F,EAAQA,EAAM+wF,QAAQtrF,EAAO6mF,cAC1D,IAAIlnF,EAAMpF,EAAMW,WAChByE,EAAMA,EAAIiJ,MAAM,KAChB,IAAI8lF,EAAY,GAEhB,GAAI1uF,EAAO2mF,UAAW,CACpB,IAAIvnC,EAAOp/C,EAAO2mF,UACdltF,EAAIkG,EAAI,GAAGnF,SAEZ,CAGDk0F,IAFAj1F,GAAK2lD,GACW,EAAIz/C,EAAI,GAAGgG,OAAOlM,EAAG2lD,GAAQz/C,EAAI,GAAGgG,OAAO,EAAGy5C,EAAO3lD,KAChDi1F,EAAY1uF,EAAO0mF,eAAiBgI,EAAY,UAC9Dj1F,EAAI,QACRi1F,EAAY/uF,EAAI,GAIvB,OAFwBA,EAApBK,EAAO6mF,YAAmBt4C,EAAOmgD,GAAa/uF,EAAI,GAAKK,EAAO4mF,iBAAmBjnF,EAAI,GAAK,IAAe4uC,EAAOmgD,EAEhH1uF,EAAOugB,QAAUvgB,EAAOoQ,MACnBpQ,EAAOugB,OAAS5gB,EAAMK,EAAOoQ,MACxBzQ,GAEhBgvF,SAAU,SAAU3uF,GAClB,OAAO,SAAUzF,GACf,OAAOg0F,GAASxxD,OAAOxiC,EAAOyF,eAK3BwC,GAAOC,EAAMzE,GACpB,IAAK,IAAImD,KAAUnD,EACc,UAA3BhF,EAAQgF,EAAOmD,KAAyBC,EAAQpD,EAAOmD,IAMpDsB,EAAKtB,GAAUnD,EAAOmD,IALtBsB,EAAKtB,KACRsB,EAAKtB,GAAU,IAGjBqB,GAAOC,EAAKtB,GAASnD,EAAOmD,KAKlC,IAAIytF,GAAU,CAAC,iBAAkB,aAAc,aAAc,iBAAkB,cAAe,mBAE9FtqF,EAAKuqF,UAAY,SAAUC,GAGzB,GAFqB,iBAAVA,IAAoBA,EAASxqF,EAAKyqF,QAAQD,IAEjDA,EAAQ,CACV,IAAInqF,EAAS/D,EAAK6lF,IAClBqI,EAAOzH,cAAgBzmF,EAAKkuF,EAAOzH,eAAiByH,GACpDtsF,GAAOmC,EAAQmqF,GACftsF,GAAO8B,EAAMK,UACNL,EAAKijF,SAASwF,uBACdzoF,EAAKijF,SAASyF,eAGvB,IAAK,IAAIvzF,EAAI,EAAGA,EAAIm1F,GAAQp0F,OAAQf,IAAK,CACvC,IAAI2Q,EAAMwkF,GAAQn1F,GACdwyF,EAAM3nF,EAAK8F,EAAM,OACrB9F,EAAK8F,EAAM,OAASghF,GAAMY,UAAU1nF,EAAK8F,GAAM6hF,GAC/C3nF,EAAK8F,EAAM,QAAUghF,GAAMwB,UAAUtoF,EAAK8F,GAAM6hF,GAGlD,IAAI+C,EAAgB5tE,GAAS9c,EAAK8iF,OAE9B6H,EAAkB3qF,EAAK+iF,eAAiB/iF,EAE5CA,EAAK4qF,UAAYX,GAASI,SAAS,CACjChI,UAAWriF,EAAKqiF,UAChBD,eAAgBpiF,EAAKoiF,eACrBG,YAAa,IAGfviF,EAAK6qF,YAAc,SAAU50F,GAC3B,OAAOy0F,EAAcT,GAASxxD,OAAOxiC,EAAO00F,KAG9C3qF,EAAK8qF,aAAeb,GAASxxD,QAG/Bz4B,EAAKyqF,QAAU,CACb,QAAStI,IAEXniF,EAAKuqF,UAAU,SAEf,IAAIQ,GAAU,CAEdA,OAAiB,SAAU7rF,EAAO8rF,GAEhC,OADA9rF,GAAgB,IACT,CACLkJ,IAAK,SAAU/N,EAAMV,GACnB,OAAOqxF,EAAQ5iF,IAAIlJ,EAAQ7E,EAAMV,IAEnC6B,IAAK,SAAUnB,GACb,OAAO2wF,EAAQxvF,IAAI0D,EAAQ7E,IAE7BqF,OAAQ,SAAUrF,GAChB,OAAO2wF,EAAQtrF,OAAOR,EAAQ7E,OAKpC0wF,GAAQE,MAAQ,CACd7iF,IAAK,SAAU/N,EAAMV,GACfU,GAAQpD,OAAOuJ,MAAQvJ,OAAOi0F,cAChCj0F,OAAOi0F,aAAaC,QAAQ9wF,EAAM8F,EAAUxG,KAGhD6B,IAAK,SAAUnB,GACb,GAAIA,GAAQpD,OAAOuJ,MAAQvJ,OAAOi0F,aAAc,CAC9C,IAAIhjF,EAAOjR,OAAOi0F,aAAa3yD,QAAQl+B,GACvC,OAAK6N,EACEqR,GAAWrR,KAAKtF,SAASsF,GADd,KAEb,OAAO,MAEhBxI,OAAQ,SAAUrF,GACZA,GAAQpD,OAAOuJ,MAAQvJ,OAAOi0F,cAChCj0F,OAAOi0F,aAAaxG,WAAWrqF,IAGnC+f,MAAO,WACLnjB,OAAOi0F,aAAa9wE,UAGxB2wE,GAAQK,QAAU,CAChBhjF,IAAK,SAAU/N,EAAMV,GACfU,GAAQpD,OAAOuJ,MAAQvJ,OAAOo0F,gBAChCp0F,OAAOo0F,eAAeF,QAAQ9wF,EAAM8F,EAAUxG,KAGlD6B,IAAK,SAAUnB,GACb,GAAIA,GAAQpD,OAAOuJ,MAAQvJ,OAAOo0F,eAAgB,CAChD,IAAInjF,EAAOjR,OAAOo0F,eAAe9yD,QAAQl+B,GACzC,OAAK6N,EACEqR,GAAWrR,KAAKtF,SAASsF,GADd,KAEb,OAAO,MAEhBxI,OAAQ,SAAUrF,GACZA,GAAQpD,OAAOuJ,MAAQvJ,OAAOo0F,gBAChCp0F,OAAOo0F,eAAe3G,WAAWrqF,IAGrC+f,MAAO,WACLnjB,OAAOo0F,eAAejxE,UAG1B2wE,GAAQO,OAAS,CACfljF,IAAK,SAAU/N,EAAMV,EAAM4xF,EAAQC,GAC7BnxF,GAAQpD,OAAOuJ,OACjBzB,SAASusF,OAASjxF,EAAO,IAAMmjB,OAAOrd,EAAUxG,KAAU6xF,GAAWA,aAAmBvuF,KAAO,YAAcuuF,EAAQC,cAAgB,KAAOF,EAAS,WAAaA,EAAS,KAAOx4E,GAAIG,MAAQ,UAAY,MAG9Mw4E,OAAQ,SAAUC,GAShB,IANA,IAAIC,EAAgB7sF,SAASusF,OAAOhnF,MAAM,KACtCunF,EAAgB,GAEhBC,EAAe,GAGV32F,EAAI,EAAGA,EAAIy2F,EAAc11F,OAAQf,IAAK,CAM7C,IAJA02F,EAAgBD,EAAcz2F,GAAGmP,MAAM,MAEX,GAAGnF,QAAO,aAAe,KAElCwsF,EAQjB,OAPiB,EAEbE,EAAc31F,OAAS,IACzB41F,EAAeC,SAASF,EAAc,GAAG1sF,QAAO,aAAe,MAI1D2sF,EAGTD,EAAgB,KACF,GAGhB,OAIO,MAETrwF,IAAK,SAAUnB,GACb,GAAIA,GAAQpD,OAAOuJ,KAAM,CACvB,IAAI0H,EAAOzT,KAAKi3F,OAAOrxF,GACvB,OAAK6N,EACEqR,GAAWrR,KAAKtF,SAASmpF,SAAS7jF,IADvB,KAEb,OAAO,MAEhBxI,OAAQ,SAAUrF,EAAMkxF,GAClBlxF,GAAQ5F,KAAKi3F,OAAOrxF,KAAO0E,SAASusF,OAASjxF,EAAO,KAAOkxF,EAAS,WAAaA,EAAS,IAAM,2CAEtGnxE,MAAO,SAAUmxE,GAGf,IAFA,IAAIS,EAAUjtF,SAASusF,OAAOhnF,MAAM,KAE3BnP,EAAI,EAAGA,EAAI62F,EAAQ91F,OAAQf,IAClC4J,SAASusF,OAAM,SAAYhuF,KAAK0uF,EAAQ72F,IAAI,GAAK,KAAOo2F,EAAS,WAAaA,EAAS,IAAM,2CAKnGx4E,GAAIilC,SAAW,GACfjlC,GAAIklC,YAAc,IAAOllC,GAAIilC,SAC7B,IAAIi0C,GAAS,CACXC,GAAM,KACNC,GAAM,KACNr2D,OAAU,UAERs2D,GAAO,CACTprB,MAAM,EACNrnE,MAAM,GAEJ0yF,GAAQ,CACVC,UAAU,EACVC,WAAW,GAETC,GAAQ,CAEVC,GAAM,CACJp+E,MAAO,KACPE,OAAQ,MAEVm+E,GAAM,CACJr+E,MAAO,KACPE,OAAQ,MAEVunB,OAAU,CACRznB,MAAO,IACPE,OAAQ,KA6EgB,SAGnBo+E,GAAiB3gF,EAAOhD,GAC/B,IAAIP,EAAS8D,GAAO,MAAO,CACzB0D,MAAS,0BAA4BjE,EAAM/Q,cAC3CgR,MAAS,iCACRjD,EAAQ,MAAQgD,IACL,WAAVA,EAAoBgB,GAAavE,EAAQ1J,SAASyO,KAAKrI,YAAiBpG,SAASyO,KAAKrB,YAAY1D,GACtGO,EAAQ,MAAQgD,GAASvD,EAG3B,IAmFImkF,GAAW,CACbC,MAAO,CACLtE,KAAM,oBACNv+C,MAAK,UAEP8iD,KAAM,CACJvE,KAAM,sBACNv+C,MAAK,UAEPyc,KAAM,CACJ8hC,KAAM,mBACNv+C,MAAK,WAQL+iD,GAAY,gCAEPC,GAAc9mF,EAAKxK,GAC1BjH,KAAKw4F,OAAS,GACdx4F,KAAKy4F,OAAS,GACdz4F,KAAK04F,KAAOjnF,EACZzR,KAAK2S,KAAO,GACR1L,EAAQjH,KAAK24F,SAAS1xF,GAAajH,KAAKi2B,OAASzkB,EAAKC,GAAKpO,MAAK,SAAU6B,GAC5E,OAAOA,EAAKiB,UACX9C,KAAKoF,GAAK,SAAUtC,GAKrB,OAJAA,EAAOA,EAAK0J,MAAM,WAAW,GAE7B7P,KAAK24F,SAAS5sF,KAAKqF,MAAMjL,IAElBnG,KAAKw4F,SACXx4F,gBAuII44F,GAAOnnF,EAAKxK,GACnB,IAEI4kD,EAFM,IAAI0sC,GAAc9mF,EAAKxK,GAEjB4xF,YAEhB,IAAK,IAAIxnF,KAAOw6C,EACditC,GAAOznF,GAAOw6C,EAAMx6C,GAGtB,OAAOw6C,EA7IT0sC,GAAch4F,UAAY,CACxBo4F,SAAU,SAAU1xF,GAElB,GADIA,EAAO8xF,OAAM/4F,KAAK2S,KAAO1L,EAAO8xF,MAChC9xF,EAAO+xF,MAAO,IAAK,IAAI3nF,KAAOpK,EAAO+xF,MACvCh5F,KAAKw4F,OAAOnnF,GAAOpK,EAAO+xF,MAAM3nF,GAGlCrR,KAAKumB,OAAOtf,EAAQjH,KAAKw4F,OAAQ,KAEnCjyE,OAAQ,SAAU8iB,EAAKhpC,EAAKmnB,GAC1B,IAAK,IAAInW,KAAOg4B,EACd,GAAY,SAARh4B,GAA0B,UAARA,EAAtB,CACA,IAAI5N,EAAM4lC,EAAIh4B,GAEd,GAAoB,UAAhBpR,EAAQwD,GAAkB,CAC5B,IAAIiJ,EAAMrM,EAAIgR,GAAO,GAErBrR,KAAKumB,OAAO9iB,EAAKiJ,EAAK8a,EAASnW,EAAM,UAChChR,EAAIgR,GAAOrR,KAAKi5F,YAAYj5F,KAAMwnB,EAASnW,KAGtD6nF,MAAO,SAAUtzF,EAAMuzF,GACrB,IAAIvnE,EAAM5xB,KAAKo5F,QAAQp5F,KAAM4F,EAAMuzF,GAMnC,OAJAn5F,KAAKy4F,OAAOl3F,KAAKqwB,GAEjB5xB,KAAKq5F,eAEEznE,GAETynE,aAAc,WACPr5F,KAAKs5F,SAAQt5F,KAAKs5F,OAASr2F,WAAWwF,EAAKzI,KAAKu5F,WAAYv5F,MAAO,KAE1Eu5F,WAAY,WAIV,IAHA,IAAIC,EAAO,GACPC,EAAOz5F,KAAKy4F,OAEPiB,EAAI,EAAGA,EAAI15F,KAAKy4F,OAAOh3F,OAAQi4F,IAAK,CAC3C,IAAI9nE,EAAM5xB,KAAKy4F,OAAOiB,GAElB9nE,EAAI+nE,OACNF,EAAKzuF,OAAO0uF,EAAG,GACfA,KACKF,EAAKj4F,KAAK,CACfqE,KAAMgsB,EAAIic,MACVsrD,KAAMvnE,EAAIgoE,QAId,GAAIH,EAAKh4F,OAAQ,CACf,IAAIo4F,EAAUroF,IAEVsoF,EAAO95F,KAAK+5F,MAAMP,GAEtB1sF,EAAU,qBAAsB,CAAC+sF,EAASC,EAAM,KAChD,IAAIl5E,EAAUi5E,EAAQnmF,KAAK1T,KAAK04F,KAAMoB,GAAMz2F,MAAK,SAAU+K,GAIzD,IAHA,IACIo4B,EADOp4B,EAASqF,OACDvO,KAEVxE,EAAI,EAAGA,EAAI8lC,EAAQ/kC,OAAQf,IAAK,CACvC,IAAI4O,EAAMk3B,EAAQ9lC,GACdsR,EAAQw0B,EAAQ9lC,IAAM8lC,EAAQ9lC,GAAG43F,IAEjCtmF,GACFlF,EAAU,gBAAiB,CAACkF,IAC5BynF,EAAK/4F,GAAGsD,OAAOgO,IAEfynF,EAAK/4F,GAAGqD,QAAQuL,OAGnB,SAAUA,GACX,IAAK,IAAI5O,EAAI,EAAGA,EAAI+4F,EAAKh4F,OAAQf,IAC/B+4F,EAAK/4F,GAAGsD,OAAOsL,GAGjB,MAAMA,KAERxC,EAAU,oBAAqB,CAAC8T,IAGlC5gB,KAAKy4F,OAAS,GACdz4F,KAAKs5F,OAAS,MAEhB7mF,MAAO,WACL,IAAIjR,EAAQ,KACZxB,KAAK25F,OAAQ,EACb,IAAIz0F,EAAO,CAAC,CACVU,KAAM5F,KAAK6tC,MACXsrD,KAAMn5F,KAAK45F,QAGb,IACE,IAAIC,EAAUroF,IAEVsoF,EAAO95F,KAAKg6F,SAASD,MAAM70F,GAE/B4H,EAAU,qBAAsB,CAAC+sF,EAASC,EAAM,CAC9ChmF,MAAM,KAER,IAAI0B,EAAMqkF,EAAQ/lF,OAAOJ,KAAK1T,KAAKg6F,SAAStB,KAAMoB,GAClDhtF,EAAU,oBAAqB,CAAC,QAChCtL,EAAQuK,KAAKqF,MAAMoE,EAAItC,cAAchO,KAAK,IAChCozF,MAAY92F,EAAQ,MAC9B,MAAOuD,IAGT,OAAOvD,GAET43F,QAAS,SAAUhuF,EAAQxF,EAAMuzF,GAC/B,IAAIc,EAAK92F,EAASuC,QAKlB,OAJAu0F,EAAGnmF,KAAO1I,EAAOqH,MACjBwnF,EAAGpsD,MAAQjoC,EACXq0F,EAAGL,MAAQT,EACXc,EAAGD,SAAWh6F,KACPi6F,GAEThB,YAAa,SAAU7tF,EAAQxF,GAC7B,OAAO,WACL,OAAOwF,EAAO8tF,MAAMtzF,EAAM,GAAGyjB,MAAMjnB,KAAKkE,cAG5CuyF,UAAW,WACT,OAAO74F,KAAKi2B,QAAUj2B,KAAKw4F,QAE7BuB,MAAO,SAAU15F,GACf,MAAO,CACLgR,IAAKrR,KAAK2S,KACVunF,QAAS75F,KAiBf,IAAIy4F,GAAS,SAAUrnF,EAAKxK,GAC1B,GAAqB,WAAjBhH,EAAQwR,GAAmB,CAC7B,IAAI0oF,EAAU7vF,SAAS4D,qBAAqB,UAG5C,OAFAjH,EAASwK,EAEFmnF,GADPnnF,EAAM0oF,EAAQA,EAAQ14F,OAAS,GAAG+f,IACfva,GACd,OAAO2xF,GAAOnnF,EAAKxK,aAqHnBmzF,KAEP,UADkB53F,OAAO63F,OAAOtS,YAAcvlF,OAAO63F,OAAOtS,YAAYuS,MAAQ93F,OAAOulF,aAC/D,cAGjBwS,KACP,IAAIC,EAAkBJ,KAClBltE,GAAM66D,cAAgByS,IAC1BttE,GAAM66D,YAAcyS,EACpB1tF,EAAU,WAAY,CAAC0tF,KAGrBl8E,GAAIW,SACNiO,GAAM66D,YAAcqS,KACpB3tE,GAAQjqB,OAAQ,SAAU+3F,KAmC5B,IAAIE,GAAa,CACfC,cAAe,IACfC,WAAc,CACZviF,SAAU,SAAU/N,GAClB,OAAOA,EAAKuwF,WAEd/4D,SAAU,aACV1X,QAAS,SAAU/e,EAAQf,EAAMwwF,GAC/B,IAAIlvF,EAAS,EACbP,EAAO4sE,SAAS,KAAM6iB,EAAM9uE,SAAU,KAAM,GAAG,SAAUvqB,GACvDA,GAAgB,EACXwpB,MAAMxpB,KAAQmK,GAAUnK,MAC5B,GACCq5F,EAAM72D,SAAQr4B,EAASkvF,EAAM72D,OAAOr4B,IACpCkvF,EAAMhxE,WAAUle,EAASkvF,EAAMhxE,SAAS,CAC1CroB,MAAOmK,KAETtB,EAAKoM,UAAY9K,GAEnBmvF,YAAY,EACZhxE,OAAQ,SAAU1e,EAAQnE,GAExB,OADIA,EAAO4iB,WAAU5iB,EAAO4iB,SAAWxB,GAASphB,EAAO4iB,WAChD,KAGXkxE,eAAkB,CAChB3iF,SAAU,aACVypB,SAAU,aACVm5D,UAAW,SAAU3wF,EAAMpD,GACzB,MAAO,CACLkU,MAAO,WACLlU,EAAO+zD,SAAU,EACjB3wD,EAAKwuB,WAEPoiE,QAAS,WACPh0F,EAAO+zD,SAAU,EACjB3wD,EAAKwuB,WAEPjC,UAAW,WACT,OAAO3vB,EAAO+zD,WAIpB7wC,QAAS,SAAU/e,EAAQf,EAAMpD,GAC/BoD,EAAKwuB,QAAU,WACb74B,KAAKkO,qBAAqB,SAAS,GAAG8sD,QAAU/zD,EAAO+zD,SAAW/zD,EAAO+zD,QACzE,IAAI3W,EAASj5C,EAAO+pD,gBAAgBluD,EAAO8kB,UACvCivC,EAAU/zD,EAAO+zD,QAAU3W,EAAO62C,WAAa72C,EAAO82C,aAC1D/vF,EAAOlG,KAAKiG,MAAK,SAAU9K,GACzBA,EAAI4G,EAAO8kB,UAAYivC,EACvB5vD,EAAO0B,UAAU,UAAW,CAACzM,EAAI6G,GAAID,EAAO8kB,SAAUivC,IACtDh7D,KAAK8M,UAAU,iBAAkB,CAACzM,EAAI6G,GAAI7G,EAAK,YAEjD+K,EAAO+e,YAGXL,OAAQ,SAAU1e,EAAQnE,GACxB,MAAO,2BAA6BA,EAAO+zD,QAAU,cAAgB,IAAM,MAG/EogC,WAAc,CACZ1oE,aAAc,SAAUroB,GACtB,OAAOA,EAAK6sB,cAAc,UAAY,CACpC11B,MAAO,OAGX4W,SAAU,SAAU/N,GAClB,OAAOrK,KAAK0yB,aAAaroB,GAAM7I,OAEjCqgC,SAAU,SAAUx3B,EAAM7I,GACxBxB,KAAK0yB,aAAaroB,GAAM7I,MAAQA,GAElC2oB,QAAS,SAAU/e,EAAQf,EAAM7I,GAC/B6I,EAAKgxF,UAAYjwF,EAAOgC,UAAUlG,GAClCkE,EAAOkwF,eAAejxF,EAAM7I,EAAOxB,MACnCqK,EAAKkxF,SAAWnwF,EAAOgC,UAAUlG,GAC7B1F,EAAMA,OAASxB,KAAKoY,SAAS/N,IAAS7I,EAAMA,OAAOxB,KAAK6hC,SAASx3B,EAAM7I,EAAMA,OACjF6I,EAAKwuB,QAAUre,GAEf+R,GAAOliB,EAAM,UAAWrK,KAAKw7F,eAE/B1xE,OAAQ,SAAU1e,EAAQnE,GAGxB,OAFIjH,KAAKiW,MAAMjW,KAAKiW,KAAKhP,GACzBA,EAAOqU,KAAOrU,EAAOqU,KAAO,IAAM,mBAC3B,WAAarU,EAAOmyB,YAAc,gBAAmBnyB,EAAOmyB,YAAc,KAAQ,IAAM,gBAEjGoiE,aAAc,SAAUz2F,GACtB,IAAImC,EAAKlH,KAAKu7F,SAIgB,IAAzBx2F,EAAE+yB,OAAS/yB,EAAEgzB,WACd/3B,KAAKy7F,eAAej5F,OAAOgyB,aAAax0B,KAAKy7F,eACjDz7F,KAAKy7F,cAAgBj5F,OAAOS,YAAW,WACrC,IAAIy4F,EAAQ7sE,GAAG3nB,GAEXw0F,GAAOA,EAAM7lC,gBAChB4kC,GAAWC,kBAGlBiB,aAAgB,CACdjpE,aAAc,SAAUroB,GACtB,OAAOA,EAAK6sB,cAAc,WAAa,CACrC11B,MAAO,OAGX4W,SAAU,SAAU/N,GAClB,OAAOrK,KAAK0yB,aAAaroB,GAAM7I,OAEjCqgC,SAAU,SAAUx3B,EAAM7I,GACxBxB,KAAK0yB,aAAaroB,GAAM7I,MAAQA,GAElC2oB,QAAS,SAAU/e,EAAQf,EAAM7I,GAE/BA,EAAMo6F,QAAUp6F,EAAMo6F,SAAW,SAAU3yF,EAAG4E,GAC5C,OAAO5E,GAAK4E,GAGdxD,EAAKgxF,UAAYjwF,EAAOgC,UAAUlG,GAClCkE,EAAOkwF,eAAejxF,EAAM7I,EAAOxB,MAEnC,IAAIkF,EAAOu1F,GAAWoB,UAAUzwF,EAAQ5J,IAEd,IAAtBA,EAAMs6F,aAAuB52F,EAAKoI,QAAQ,CAC5CpG,GAAI,GACJ1F,MAAOA,EAAMs6F,aAAe,KAM9B,IAFA,IAAIp+D,EAASpzB,SAASkM,cAAc,UAE3B9V,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,IAAK,CACpC,IAAIq7F,EAASzxF,SAASkM,cAAc,UACpCulF,EAAOv6F,MAAQ0D,EAAKxE,GAAGwG,GACvB60F,EAAO51F,KAAOjB,EAAKxE,GAAGc,MACtBk8B,EAAOR,IAAI6+D,GAGb1xF,EAAKoM,UAAY,GACjBpM,EAAKqN,YAAYgmB,GACbl8B,EAAMA,OAAOxB,KAAK6hC,SAASx3B,EAAM7I,EAAMA,OAC3C6I,EAAKwuB,QAAUre,GACfkjB,EAAO69D,SAAWnwF,EAAOgC,UAAUlG,GAEnCqlB,GAAOmR,EAAQ,SAAU19B,KAAKg8F,aAEhClyE,OAAQ,SAAU1e,EAAQnE,GAGxB,OAFIjH,KAAKiW,MAAMjW,KAAKiW,KAAKhP,GACzBA,EAAOqU,KAAOrU,EAAOqU,KAAO,IAAM,mBAC3B,IAET0gF,WAAY,WACVntE,GAAG7uB,KAAKu7F,UAAU1lC,gBAGtBgmC,UAAW,SAAUzwF,EAAQ5J,GAC3B,IACI+S,EAAU/S,EAAM+S,QAMpB,OAJIA,EACKnJ,EAAO6wF,eAAe75F,KAAKmS,EAAS,KAAM,SACrCnJ,EAAO8wF,cAAc16F,EAAMuqB,SAAUvqB,EAAM26F,WAK7D1B,GAAW2B,aAAez8F,EAAQ8J,OAAO,CACvC4yF,SAAS,EACTb,aAAc,SAAUz2F,GACtB,IAAImC,EAAKlH,KAAKu7F,SACVzyF,EAAO/D,EAAE+yB,OAAS/yB,EAAEgzB,QAEZ,GAARjvB,GAAaA,GAAQ,IAAMA,GAAQ,KACnC9I,KAAKy7F,eAAej5F,OAAOgyB,aAAax0B,KAAKy7F,eACjDz7F,KAAKy7F,cAAgBj5F,OAAOS,YAAW,WACrC4rB,GAAG3nB,GAAI2uD,gBACN4kC,GAAWC,kBAEfD,GAAWW,YACdX,GAAW6B,mBAAqB38F,EAAQ8J,OAAO,CAC7C4yF,SAAS,EACTL,WAAY,WAEVntE,GADS7uB,KAAKu7F,UACP1lC,gBAER4kC,GAAWkB,cACdlB,GAAW8B,aAAe58F,EAAQ8J,OAAO,CACvCwM,KAAM,SAAUhP,GACdA,EAAOu1F,QAAU,SAAUh7F,GACzB,IAKIo6F,EALAh2E,EAAQ5lB,KAERy8F,GAAiC,GAAtBj7F,EAAMmL,QAAQ,KACzB+vF,EAAW18F,KAAKgkC,OAAOxiC,GAC3B,MAAiB,KAAbk7F,EAAwB,KAGF,GAAtBl7F,EAAMmL,QAAQ,KAChBivF,EAAU57F,KAAK28F,UACgB,GAAtBn7F,EAAMmL,QAAQ,OACvBivF,EAAU57F,KAAK48F,SAIf31F,EAAO20F,QADLA,GAAWa,EACI,SAAUxzF,EAAG4E,GAC5B,OAAO+X,EAAMi3E,OAAO5zF,EAAG4E,IAAM+tF,EAAQ3yF,EAAG4E,IAGzB+tF,GAAW57F,KAAK68F,OAG5BH,KAGX14D,OAAQ,SAAUxiC,GAChB,OAAOA,EAAMkJ,QAAO,aAAe,KAErCiyF,SAAU,SAAU1zF,EAAG4E,GACrB,OAAW,EAAJ5E,EAAQ4E,GAEjB+uF,QAAS,SAAU3zF,EAAG4E,GACpB,MAAa,KAAN5E,GAAgB,EAAJA,EAAQ4E,GAE7BgvF,OAAQ,SAAU5zF,EAAG4E,GACnB,MAAa,KAAN5E,GAAgB,EAAJA,GAAS4E,IAE7B4sF,GAAWW,YACdX,GAAWqC,WAAan9F,EAAQ8J,OAAO,CACrCu6B,OAAQ,SAAUxiC,GAChB,GAAc,KAAVA,EAAc,MAAO,GACzB,IAAIwwD,EAAO,IAAIxpD,KAEf,IAA8B,GAA1BhH,EAAMmL,QAAQ,SAChBqlD,EAAOqgC,GAAMW,SAAShhC,QACjB,IAA4B,GAAxBxwD,EAAMmL,QAAQ,OAAc,CACrC,IAAI0H,EAAQ7S,EAAMkvD,MAAK,WACvB,IAAKr8C,IAAUA,EAAM5S,OAAQ,MAAO,GAEhC4S,EAAM5S,OAAS,GACjB4S,EAAM0oF,UACN/qC,EAAO,IAAIxpD,KAAK6L,EAAM,IAAKA,EAAM,IAAM,GAAK,EAAG,IAC1C29C,EAAOzmD,EAAKyxF,eAAex7F,EAAMkJ,QAAO,WAAa,KAG9D,OAAOsnD,EAAK9nD,YAEbuwF,GAAW8B,eAEVj+E,GAAIW,QAAUX,GAAIiwD,iBAAejwD,GAAI6pB,WAAa,GACtDnS,IAAM,WACJ1X,GAAI6pB,sBAIJ,IAAI80D,EAAMnlF,GAAO,OACjBmlF,EAAI9kF,UAAY,kBAChB8kF,EAAIzlF,MAAMU,QAAU,wGACpB5N,SAASyO,KAAKrB,YAAYulF,GAC1B,IAAIrjF,EAAQqjF,EAAIpjF,YAAcojF,EAAI/oE,YAC9BtuB,EAAO,CACT,IAAK,OACL,IAAK,UACL,IAAK,WACL,IAAK,WACL,IAAK,QAC+B,GAApC8T,KAAKqgB,MAAMkjE,EAAIljF,aAAe,KAChCzP,SAASyO,KAAKT,YAAY2kF,GACtBr3F,GAAMkoC,GAAMloC,GAChB,OAAI0Y,GAAIiwD,cAAsB,EACvB30D,EAnBUsjF,MAsBnB,IAAIC,IAAQ,EAUZt9F,EAAO,yBAPDs9F,KACJ7lF,GAAS,8BACThN,SAASyO,KAAKZ,WAAa,qBAC3Bi5B,GAAMM,OAAM,GACZyrD,IAAQ,MAKV9uE,GAAGqa,iBAtagBroC,EAAKsN,EAAQ1G,GAC9B,IAAIy0D,EAAO7sC,GAAGlhB,GAEd,GAAI+tD,EAAM,CACR,IAAI0hC,EAASn2F,GAAU,CACrB3C,KAAM,QACNmiC,UAAW,QAGT3iC,EAAI43D,EAAK1rC,SAASi7D,WAAU,GAE5Bj2E,EAAOqZ,GAAGhuB,EAAKsN,GAEnBqH,EAAKgb,SAAS3X,WAAWX,YAAY5T,GAErC,IAAIopC,EAAOxE,GAAQmE,SAAS73B,EAAKgb,SAAUlsB,EAAGs5F,GAO9C,OALAA,EAAOz8E,SAAW,WAChB+nB,GAAQuE,UAAUC,IAGpBxE,GAAQwE,EAAMkwD,GACPpoF,IAiZXqZ,GAAGgvE,qBA9YkBC,EAAMC,EAAct2F,GAGvC,GAFAq2F,EAAOzuE,GAAGyuE,GAEA,CACRr2F,EAASA,GAAU,CACjB3C,KAAM,QACNmiC,UAAW,QAab,IAVA,IAAI+2D,EAAU,SAAUxoF,GACtB,IAAIkJ,EAAKlJ,EAAKgb,SACV1U,EAAM4C,EAAG/F,UACT+E,EAAUgB,EAAGzH,UACjB,MAAO,eAAiB6E,EAAM,kBAAoB4C,EAAGrE,YAAc,aAAeqE,EAAGnE,aAAe,QAAUmD,EAAU,UAItHsb,EAAU,GAELilE,EAAI,EAAGA,EAAIH,EAAKttE,SAAS3f,WAAW5O,OAAQg8F,IAAK,CACxD,IAAIpzF,EAAOizF,EAAKttE,SAAS3f,WAAWotF,GAChCj8F,EAAQ6I,EAAKqzF,aAAerzF,EAAKqzF,aAAallE,QAAUF,iBAAiBjuB,EAAM,MAAMmuB,QACzFA,EAAQj3B,KAAKC,GAAS,IAIxB,IAAIm8F,EAAeH,EAAQF,GAEA,mBAAhBC,GACTA,EAAan7F,KAAKpC,MAYpB,IARA,IAAI49F,EAAWJ,EAAQF,GAEnBO,EAAaP,EAAKttE,SAASzX,aAAaT,GAAO,MAAO,CACxD0D,MAAS,qBACThE,MAAS,SAAW8lF,EAAKttE,SAASnW,YAAc,aAAeyjF,EAAKttE,SAASjW,aAAe,OAC3F6jF,EAAWD,GAAeL,EAAKttE,SAAStf,YAGlCtP,EAAK,EAAGA,EAAKk8F,EAAKttE,SAAS3f,WAAW5O,OAAQL,IACrDk8F,EAAKttE,SAAS3f,WAAWjP,GAAIoW,MAAMghB,QAAU,OAI/C,IAAI0U,EAAOxE,GAAQmE,SAASgxD,EAAWxtF,WAAW,GAAIwtF,EAAWxtF,WAAW,GAAIpJ,GAehF,OAbAA,EAAO0Z,SAAW,WAChB,GAAIk9E,EAAY,CACdP,EAAKttE,SAAS1X,YAAYulF,GAE1BA,EAAa,KAEb,IAAK,IAAIn9F,EAAI,EAAGA,EAAI48F,EAAKttE,SAAS3f,WAAW5O,OAAQf,IACnD48F,EAAKttE,SAAS3f,WAAW3P,GAAG8W,MAAMghB,QAAUA,EAAQ93B,KAK1DgoC,GAAQwE,EAAMjmC,GACPq2F,IAkVXjvE,GAAGjR,OAASgY,GACZ/G,GAAGoH,OAASF,GACZlH,GAAGyH,OAASA,GACZzH,GAAGosE,WAAaA,GAChBpsE,GAAGyvE,sBAhUD,GAAKx/E,GAAIW,OAAT,CACAjC,GAAQ,WAAY,wEACpBsB,GAAIc,WAAY,EACZd,GAAIQ,MAAO9B,GAAQ,+BAAgC,QACrDA,GAAQ,yBAA0B,OAClC1F,GAAS,gDAGX,IAAIymF,EAAM,WACR,IAAI9rF,EAAIzP,OAAOk3B,WACXjgB,EAAIjX,OAAOo3B,YAEXngB,IACFnP,SAASyO,KAAKvB,MAAMsC,OAASL,EAAI,KACjCnP,SAASyO,KAAKvB,MAAMoC,MAAQ3H,EAAI,MAGlCib,GAAMO,gBAAiB,EACvB8H,MAGEyoE,EAAW,WACb9wE,GAAMO,gBAAiB,EACvBvkB,EAAM60F,EAAK,KAAM,GAAI,KAGvBlxF,EAAY,WAAYmxF,GACxBzD,KACArxF,EAAM80F,KAgzCRzyF,EAAKyqF,QAAQ,SAzgCJ,CACPrI,eAAgB,IAChBC,UAAW,EACXC,iBAAkB,IAClBC,YAAa,EACbC,WAAY,WACZC,WAAY,QACZC,eAAgB,YAChBC,eAAgB,kBAChBC,GAAI,KACJC,GAAI,KACJC,MAAO,UACLC,cAAa,CACbX,eAAgB,IAChBC,UAAW,EACXC,iBAAkB,IAClBC,YAAa,GAEfU,SAAU,CACRC,UAAW,CAAC,SAAU,UAAW,OAAS,QAAS,MAAO,OAAQ,OAAQ,SAAU,YAAa,UAAW,WAAY,YACvHC,WAAW,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC1FC,QAAS,CAAC,UAAW,SAAU,WAAY,WAAY,aAAc,UAAW,WAChFC,SAAU,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAC/CC,MAAO,UACPC,QAAS,UACTxtF,KAAM,SACNqkB,MAAO,YACPopE,MAAO,SAETlG,WAAY,CACVtc,KAAM,QACNwc,GAAI,OAENiG,UAAW,CACTjG,GAAI,MACJkG,cAAe,mBACfC,WAAY,mBACXC,QAAQ,eACRC,UAAU,eACXC,WAAY,aACXC,cAAc,oBACfC,cAAe,qBAEjB/jB,KAAM,CACJgjB,SAAU,WACVgB,cAAe,eACdC,cAAc,kBACfC,SAAU,CAAC,mBAAoB,kBAC9BC,QAAQ,CAAC,kBAAmB,iBAC5BC,UAAU,CAAC,mBAAqB,0BAC/B7B,WAAU,YACZ8B,YAAa,QACbC,WAAY,KACZC,WAAY,cACZC,aAAc,cACdC,WAAY,oBACZC,MAAO,CAAC,cAAe,kBAAmB,aAAc,gBACxD3jB,KAAM,QACN4jB,WAAY,YACXC,UAAU,wBACVC,WAAW,2BACXC,SAAS,gBACTC,SAAS,eACVC,aAAc,oCACZC,WAAU,YACZC,QAAS,aACTjlB,QAAS,aACRklB,iBAAiB,qBACjBC,sBAAsB,oBACvBC,UAAW,iBACXC,UAAW,mBACXC,YAAa,sBAEfC,SAAU,CACRC,UAAW,iBACXvJ,KAAM,eACNwJ,OAAQ,UAEVh1B,MAAO,CACLx+B,OAAQ,YACPiyC,UAAU,kBACVH,YAAY,oBAEftpE,QAAS,CACP8yB,GAAI,KACJC,OAAQ,aAEVk4D,SAAU,CACR59E,KAAM,WACN69E,eAAgB,gDAChBjzB,KAAM,aACNlzD,OAAQ,UACPmuB,YAAY,uBACbi4D,aAAc,mBAEhBhmF,OAAQ,CACNimF,KAAM,UACNC,YAAa,sBACbC,QAAS,OACTC,eAAgB,qBACdz5D,SAAQ,UACT05D,YAAY,gBACZC,MAAM,SACPC,SAAU,WACVC,WAAY,cACZC,cAAe,oBACfC,SAAU,YACVC,YAAa,kBACbC,QAAS,WACTC,WAAY,kBAEdC,UAAW,CACTC,QAAS,aA05Bb7mF,EAAKyqF,QAAQ,SAr5BJ,CACPrI,eAAgB,IAChBC,UAAW,EACXC,iBAAkB,IAClBC,YAAa,EACbC,WAAY,WACZC,WAAY,QACZC,eAAgB,WAChBC,eAAgB,iBAChBC,GAAI,KACJC,GAAI,KACJC,MAAO,UACLC,cAAa,CACbX,eAAgB,IAChBC,UAAW,EACXC,iBAAkB,IAClBC,YAAa,GAEfU,SAAU,CACRC,UAAW,CAAC,QAAS,UAAW,QAAS,QAAS,OAAQ,QAAS,QAAS,SAAU,aAAc,UAAW,YAAa,aAC5HC,WAAY,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC1FC,QAAS,CAAC,UAAW,QAAS,SAAU,YAAc,SAAU,UAAW,UACzEC,SAAQ,CAAC,MAAO,MAAO,MAAO,MAAQ,MAAO,MAAO,OACpDC,MAAK,QACPC,QAAS,UACTxtF,KAAM,QACNqkB,MAAO,WACPopE,MAAO,OAETlG,WAAY,CACVtc,KAAM,SACLwc,GAAG,MAENiG,UAAW,CACTjG,GAAI,KACJkG,cAAe,kBACdC,WAAW,cACXC,QAAQ,mBACPC,UAAS,kBACVC,WAAW,sBACXC,cAAc,2BACdC,cAAc,yBAEjB/jB,KAAM,CACJgjB,SAAU,aACTgB,cAAc,oBACfC,cAAe,qBACfC,SAAU,CAAC,eAAgB,eAC1BC,QAAQ,CAAC,eAAiB,eACxBC,UAAQ,CAAC,kBAAoB,kBAC7B7B,WAAS,WACZ8B,YAAa,QACbC,WAAY,KACZC,WAAY,YACZC,aAAc,cACdC,WAAY,qBACZC,MAAO,CAAC,iBAAmB,kBAAmB,mBAAqB,iBAC/D3jB,KAAE,SACL4jB,WAAW,kBACVC,UAAS,6BACXC,WAAY,2BACZC,SAAU,aACVC,SAAU,mBACTC,aAAa,6BACdC,WAAY,uBACZC,QAAS,gBACTjlB,QAAS,eACTklB,iBAAkB,kBACjBC,sBAAsB,qBACvBC,UAAW,oBACVC,UAAU,iBACXC,YAAa,8BAEfC,SAAU,CACRC,UAAW,WACXvJ,KAAM,UACNwJ,OAAQ,WAEVh1B,MAAO,CACLx+B,OAAQ,cACRiyC,UAAW,mBACXH,YAAa,qBAEftpE,QAAS,CACP8yB,GAAI,KACJC,OAAQ,YAEVk4D,SAAU,CACR59E,KAAM,SACN69E,eAAgB,8CACdjzB,KAAI,WACNlzD,OAAQ,WACRmuB,YAAa,iBACZi4D,aAAa,mBAEhBhmF,OAAQ,CACNimF,KAAM,QACNC,YAAa,gBACbC,QAAS,QACTC,eAAgB,gBAChBz5D,SAAU,WACV05D,YAAa,eACbC,MAAO,QACPC,SAAU,cACVC,WAAY,eACZC,cAAe,kBACfC,SAAU,cACVC,YAAa,iBACbC,QAAS,QACTC,WAAY,YAEdC,UAAW,CACTC,QAAS,aAsyBb7mF,EAAKyqF,QAAQ,SAlyBJ,CACPrI,eAAgB,IAChBC,UAAW,EACXC,iBAAkB,IAClBC,YAAa,EACbC,WAAY,WACZC,WAAY,QACZC,eAAgB,WAChBC,eAAgB,iBAChBG,MAAO,UACLC,cAAa,KAEfE,SAAU,CACRC,UAAW,CAAC,UAAW,UAAY,OAAQ,QAAS,MAAO,OAAQ,UAAW,OAAS,YAAa,UAAW,WAAY,YACxHC,WAAS,CAAC,MAAO,MAAQ,MAAO,MAAO,MAAO,OAAQ,OAAQ,MAAQ,MAAO,MAAO,MAAO,OAC3FC,QAAM,CAAC,WAAY,QAAS,QAAS,WAAY,QAAS,WAAY,UACzEC,SAAU,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACrDC,MAAO,SACPC,QAAS,UACTxtF,KAAM,OACNqkB,MAAO,UACPopE,MAAO,eAETlG,WAAY,CACVtc,KAAM,OACNwc,GAAI,OAENiG,UAAW,CACTjG,GAAI,MACJkG,cAAe,mBACfC,WAAY,kBACZC,QAAS,oBACTC,UAAW,qBACXC,WAAY,kBACZC,cAAe,yBACfC,cAAe,wBAEjB/jB,KAAM,CACJgjB,SAAU,aACTgB,cAAc,sBACfC,cAAe,0BACfC,SAAU,CAAC,oBAAuB,oBAChCC,QAAO,CAAC,mBAAuB,qBAC7BC,UAAO,CAAC,sBAA0B,oBAClC7B,WAAQ,WACZ8B,YAAa,QACbC,WAAY,KACZC,WAAY,aACZC,aAAc,cACdC,WAAY,oBACVC,MAAK,CAAC,gBAAkB,kBAAqB,gBAAiB,iBAC5D3jB,KAAE,OACN4jB,WAAY,gBACZC,UAAW,6BACXC,WAAY,4BACZC,SAAU,aACVC,SAAU,oBACVC,aAAc,6BACbC,WAAW,mBACXC,QAAQ,eACTjlB,QAAS,gBACPklB,iBAAgB,oBAChBC,sBAAqB,oBACrBC,UAAS,gBACXC,UAAW,eACXC,YAAa,wBAEfC,SAAU,CACRC,UAAW,YACXvJ,KAAM,OACNwJ,OAAQ,YAEVh1B,MAAO,CACLx+B,OAAQ,eACPiyC,UAAU,oBACVH,YAAY,uBAEftpE,QAAS,CACP8yB,GAAI,KACJC,OAAQ,WAEVk4D,SAAU,CACR59E,KAAM,UACN69E,eAAgB,+CACbjzB,KAAG,WACNlzD,OAAQ,UACRmuB,YAAa,gBACZi4D,aAAa,wBAEhBhmF,OAAQ,CACNimF,KAAM,QACNC,YAAa,oBACXC,QAAO,aACTC,eAAgB,oBACdz5D,SAAQ,WACV05D,YAAa,cACbC,MAAO,OACNC,SAAS,WACTC,WAAW,eACZC,cAAe,kBACfC,SAAU,iBACVC,YAAa,qBACbC,QAAS,QACTC,WAAY,aAEdC,UAAW,CACTC,QAAS,aAyrBb7mF,EAAKyqF,QAAQ,SAprBJ,CACPrI,eAAgB,IAChBC,UAAW,EACXC,iBAAkB,IAClBC,YAAa,EACbC,WAAY,WACZC,WAAY,QACZC,eAAgB,WAChBC,eAAgB,iBAChBC,GAAI,KACJC,GAAI,KACJC,MAAO,UACLC,cAAa,CACbX,eAAgB,IAChBC,UAAW,EACXC,iBAAkB,IAClBC,YAAa,GAEfU,SAAU,CACRC,UAAW,CAAC,UAAW,WAAY,QAAS,SAAU,SAAU,SAAU,SAAU,SAAU,YAAa,UAAW,WAAY,YAClIC,WAAY,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC1FC,QAAS,CAAC,WAAY,SAAW,UAAY,YAAc,UAAY,UAAY,UAC9EC,SAAK,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACrDC,MAAO,SACPC,QAAS,SACTxtF,KAAM,SACNqkB,MAAO,UACPopE,MAAO,QAETlG,WAAY,CACVtc,KAAM,SACNwc,GAAI,MAENiG,UAAW,CACTjG,GAAI,KACJkG,cAAe,kBACfC,WAAY,mBACZC,QAAS,0BACTC,UAAW,yBACXC,WAAY,uBACZC,cAAe,wBACfC,cAAe,mBAEjB/jB,KAAM,CACJgjB,SAAU,aACVgB,cAAe,oBACfC,cAAe,mBACfC,SAAU,CAAC,iBAAkB,oBAC7BC,QAAS,CAAC,gBAAiB,mBAC3BC,UAAW,CAAC,sBAAuB,qBACnC7B,WAAY,WACZ8B,YAAa,QACbC,WAAY,KACZC,WAAY,aACZC,aAAc,aACdC,WAAY,uBACZC,MAAO,CAAC,eAAgB,oBAAqB,oBAAqB,iBAClE3jB,KAAM,SACN4jB,WAAY,kBACZC,UAAW,2BACXC,WAAY,2BACZC,SAAU,aACVC,SAAU,kBACTC,aAAa,+BACdC,WAAY,oBACZC,QAAS,iBACTjlB,QAAS,iBACTklB,iBAAkB,oBAClBC,sBAAuB,uBACvBC,UAAW,mBACXC,UAAW,qBACXC,YAAa,0BAEfC,SAAU,CACRC,UAAW,eACXvJ,KAAM,YACNwJ,OAAQ,WAEVh1B,MAAO,CACLx+B,OAAQ,cACRiyC,UAAW,kBACXH,YAAa,qBAEftpE,QAAS,CACP8yB,GAAI,KACJC,OAAQ,aAEVk4D,SAAU,CACR59E,KAAM,UACN69E,eAAgB,yCACfjzB,KAAK,aACNlzD,OAAQ,UACRmuB,YAAa,iBACbi4D,aAAc,kBAEhBhmF,OAAQ,CACNimF,KAAM,OACNC,YAAa,kBACbC,QAAS,WACTC,eAAgB,oBAChBz5D,SAAU,WACV05D,YAAa,eACbC,MAAO,SACPC,SAAU,aACVC,WAAY,aACZC,cAAe,iBACfC,SAAU,cACVC,YAAa,kBACbC,QAAS,MACTC,WAAY,WAEdC,UAAW,CACTC,QAAS,YAqkBb7mF,EAAKyqF,QAAQ,SAjkBJ,CACPrI,eAAgB,IAChBC,UAAW,EACXC,iBAAkB,IAClBC,YAAa,EACbC,WAAY,WACZC,WAAY,QACZC,eAAgB,YACVC,eAAU,iBAChBG,MAAO,SACNC,cAAc,CACbV,UAAW,EACXD,eAAgB,IAChBE,iBAAkB,GAClBC,YAAa,GAEfU,SAAU,CACRC,UAAW,CAAC,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,MAAS,MAAS,OAC9EC,WAAZ,CAAC,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,MAAS,MAAS,OAC/EC,QAAf,CAAC,MAAa,MAAa,MAAa,MAAa,MAAa,MAAa,OAC9CC,SAAhC,CAAC,IAAO,IAAO,IAAO,IAAO,IAAO,IAAO,KACvCC,MAAP,OACCC,QAAC,IACPxtF,KAAI,OACEqkB,MAAD,OACCopE,MAAD,MAETlG,WAAY,CACVtc,KAAM,MACAwc,GAAF,MAENiG,UAAW,CACTjG,GAAI,KACAkG,cAAW,QACLC,WAAE,OACJC,QAAC,SACGC,UAAD,OACHC,WAAI,SACAC,cAAG,aACKC,cAAL,aAEjB/jB,KAAM,CACJgjB,SAAU,QACAgB,cAAK,MACTC,cAAS,SACHC,SAAF,CAAC,MAAa,MACdC,QAAD,CAAC,KAAU,MACZC,UAAG,CAAC,OAAgB,SACd7B,WAAF,YACN8B,YAAO,SACTC,WAAQ,MACVC,WAAU,WACJC,aAAM,QACZC,WAAU,WACIC,MAAT,CAAC,QAAmB,QAAmB,QAAmB,UACvB3jB,KAApC,MACA4jB,WAAM,UACEC,UAAH,YACOC,WAAN,WACIC,SAAN,UACIC,SAAJ,cACYC,aAAR,YACIC,WAAN,SACAC,QAAH,OACDjlB,QAAC,OACDklB,iBAAU,YACAC,sBAAK,WACPC,UAAL,QACDC,UAAC,SACCC,YAAC,cAEfC,SAAU,CACRC,UAAW,UACGvJ,KAAR,MACAwJ,OAAE,SAEVh1B,MAAO,CACLx+B,OAAQ,OACAiyC,UAAG,QACDH,YAAG,eAEftpE,QAAS,CACP8yB,GAAI,KACJC,OAAQ,QAEVk4D,SAAU,CACR59E,KAAM,KACF69E,eAAY,sBACkBjzB,KAA5B,KACFlzD,OAAI,KACJmuB,YAAS,UACHi4D,aAAI,YAEhBhmF,OAAQ,CACNimF,KAAM,KACFC,YAAS,KACTC,QAAK,QACCC,eAAM,KACZz5D,SAAM,UACI05D,YAAD,WACGC,MAAT,QACGC,SAAA,WACMC,WAAJ,SACAC,cAAG,WACCC,SAAN,SACEC,YAAC,cACSC,QAAb,KACLC,WAAQ,QAEdC,UAAW,CACTC,QAAS,MAodb7mF,EAAKyqF,QAAQ,SAhdJ,CACPrI,eAAgB,IAChBC,UAAW,EACXC,iBAAkB,IAClBC,YAAa,EACbC,WAAY,WACZC,WAAY,QACZC,eAAgB,iBAChBC,eAAgB,uBAChBC,GAAI,KACJC,GAAI,KACJC,MAAO,WACPC,cAAe,CACbX,eAAgB,IAChBC,UAAW,EACXC,iBAAkB,IAClBC,YAAa,GAEfS,SAAU,CAAC,IAAK,KAAM,KAAM,KAAM,KAAM,KAAM,MAC9CC,SAAU,CACRC,UAAW,CAAC,UAAW,YAAa,QAAU,QAAS,OAAQ,QAAS,QAAS,SAAU,WAAY,UAAW,WAAY,YAC7HC,WAAW,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC1FC,QAAS,CAAC,UAAW,gBAAiB,cAAgB,eAAgB,eAAgB,cAAe,UACnGC,SAAQ,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACpDC,MAAM,QACPC,QAAS,UACTxtF,KAAM,QACNqkB,MAAO,SACPopE,MAAO,QAETlG,WAAY,CACVtc,KAAM,SACLwc,GAAG,MAENiG,UAAW,CACTjG,GAAI,KACJkG,cAAe,kBACdC,WAAW,gBACZC,QAAS,oBACRC,UAAU,oBACVC,WAAW,mBACXC,cAAc,iBACfC,cAAe,mBAEjB/jB,KAAM,CACJgjB,SAAU,aACTgB,cAAc,mBACfC,cAAe,mBACfC,SAAU,CAAC,eAAiB,eACzBC,QAAM,CAAC,eAAgB,eACzBC,UAAU,CAAC,kBAAoB,kBAC7B7B,WAAS,iBACZ8B,YAAa,WACbC,WAAY,KACZC,WAAY,YACZC,aAAc,cACdC,WAAY,mBACZC,MAAO,CAAC,kBAAoB,kBAAoB,iBAAoB,iBAC9D3jB,KAAA,SACL4jB,WAAW,kBACXC,UAAU,sBACXC,WAAY,0BACZC,SAAU,aACVC,SAAU,mBACVC,aAAc,0BACZC,WAAU,OACZC,QAAS,cACRjlB,QAAQ,eACTklB,iBAAkB,qBAClBC,sBAAuB,mBACvBC,UAAW,kBACTC,UAAS,iBACXC,YAAa,uBAEfC,SAAU,CACRC,UAAW,aACXvJ,KAAM,UACNwJ,OAAQ,WAEVh1B,MAAO,CACLx+B,OAAQ,aACRiyC,UAAW,kBACXH,YAAa,mBAEftpE,QAAS,CACP8yB,GAAI,KACJC,OAAQ,YAEVk4D,SAAU,CACR59E,KAAM,SACN69E,eAAgB,8CACbjzB,KAAG,SACNlzD,OAAQ,UACRmuB,YAAa,gBACbi4D,aAAc,oBAEhBhmF,OAAQ,CACNimF,KAAM,QACNC,YAAa,iBACbC,QAAS,QACTC,eAAgB,iBAChBz5D,SAAU,SACT05D,YAAY,aACXC,MAAK,QACPC,SAAU,cACRC,WAAU,aACXC,cAAc,iBACbC,SAAQ,cACVC,YAAa,kBACZC,QAAQ,QACTC,WAAY,aAEdC,UAAW,CACTC,QAAS,aAgWb7mF,EAAKyqF,QAAQ,SA3VJ,CACPrI,eAAgB,IAChBC,UAAW,EACXC,iBAAkB,IAClBC,YAAa,EACbC,WAAY,WACZC,WAAY,QACZC,eAAgB,kBACVC,eAAU,wBACVC,GAAF,CAAC,KAAU,MACPC,GAAJ,CAAC,KAAU,MACPC,MAAD,SACNC,cAAc,CACbX,eAAgB,IAChBC,UAAW,EACXC,iBAAkB,IAClBC,YAAa,GAEfU,SAAU,CACRC,UAAW,CAAC,KAAU,KAAU,KAAU,KAAU,KAAU,KAAU,KAAU,KAAU,KAAU,KAAU,MAAa,OACzEC,WAAxC,CAAC,KAAU,KAAU,KAAU,KAAU,KAAU,KAAU,KAAU,KAAU,KAAU,KAAU,MAAa,OAC1EC,QAA3C,CAAC,MAAa,MAAa,MAAa,MAAa,MAAa,MAAa,OAC9CC,SAAhC,CAAC,KAAU,KAAU,KAAU,KAAU,KAAU,KAAU,MAC3CC,MAArB,KACHC,QAAK,KACLxtF,KAAE,KACFqkB,MAAG,KACHopE,MAAG,MAETlG,WAAY,CACVtc,KAAM,IACJwc,GAAE,KAENiG,UAAW,CACTjG,GAAI,IACFkG,cAAa,WACCC,WAAJ,OACJC,QAAC,OACDC,UAAG,OACHC,WAAI,OACJC,cAAO,OACPC,cAAO,QAEjB/jB,KAAM,CACJgjB,SAAU,KACNgB,cAAW,MACTC,cAAS,MACTC,SAAI,CAAC,MAAa,OACZC,QAAH,CAAC,KAAU,MACZC,UAAG,CAAC,OAAgB,QACZ7B,WAAJ,kBACN8B,YAAO,YACTC,WAAQ,OACVC,WAAU,SACRC,aAAU,SACVC,WAAQ,MACNC,MAAC,CAAC,MAAa,MAAa,MAAa,QACrB3jB,KAApB,IACJ4jB,WAAU,OACJC,UAAG,QACDC,WAAE,QACFC,SAAA,OACFC,SAAE,OACFC,aAAM,OACNC,WAAI,MACNC,QAAG,QACCjlB,QAAD,QACCklB,iBAAQ,MACZC,sBAAiB,MACjBC,UAAK,OACHC,UAAG,OACHC,YAAK,UAEfC,SAAU,CACRC,UAAW,MACLvJ,KAAA,KACFwJ,OAAI,MAEVh1B,MAAO,CACLx+B,OAAQ,KACJiyC,UAAO,KACPH,YAAS,QAEftpE,QAAS,CACP8yB,GAAI,KACAC,OAAI,MAEVk4D,SAAU,CACR59E,KAAM,KACF69E,eAAY,aACEjzB,KAAZ,KACFlzD,OAAI,KACJmuB,YAAS,SACLi4D,aAAM,QAEhBhmF,OAAQ,CACNimF,KAAM,KACFC,YAAS,OACLC,QAAC,KACLC,eAAY,OACRz5D,SAAE,KACN05D,YAAS,MACPC,MAAC,KACHC,SAAM,MACJC,WAAM,MACNC,cAAS,OACPC,SAAE,KACNC,YAAS,OACLC,QAAC,KACLC,WAAQ,OAEdC,UAAW,CACTC,QAAS,MA4Ob7mF,EAAKyqF,QAAQ,SAxOJ,CACPrI,eAAgB,IAChBC,UAAW,EACXC,iBAAkB,IAClBC,YAAa,EACbC,WAAY,WACZC,WAAY,QACZC,eAAgB,WAChBC,eAAgB,iBAChBG,MAAO,aACJC,cAAY,KAEfE,SAAU,CACRC,UAAW,CAAC,SAAgB,UAAkB,OAAY,SAAgB,MAAQ,OAAY,OAAY,SAAgB,WAAoB,UAAiB,SAAgB,WAC9GC,WAArD,CAAC,MAAU,MAAU,MAAQ,MAAS,MAAQ,MAAU,MAAU,MAAS,MAAU,MAAU,MAAU,OACvFC,QAArB,CAAC,cAA0B,cAA0B,UAAkB,QAAc,UAAkB,UAAkB,WAC3EC,SAA7C,CAAC,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,MAC7CC,MAAP,OACHC,QAAK,SACHxtF,KAAA,SACFqkB,MAAG,WACCopE,MAAD,WAETlG,WAAY,CACVtc,KAAM,WACEwc,GAAJ,MAENiG,UAAW,CACTjG,GAAI,KACFkG,cAAa,qBACEC,WAAL,mBACGC,QAAN,kBACKC,UAAH,kBACGC,WAAF,kBACEC,cAAC,iBACFC,cAAE,mBAEjB/jB,KAAM,CACJgjB,SAAU,YACDgB,cAAM,qBACEC,cAAF,qBACEC,SAAP,CAAC,mBAAmC,mBACjBC,QAApB,CAAC,iBAA+B,iBAChBC,UAAd,CAAC,wBAA4C,wBACnB7B,WAAzB,WACZ8B,YAAa,QACbC,WAAY,KACZC,WAAY,WACRC,aAAU,aACRC,WAAM,kBACEC,MAAP,CAAC,kBAAiC,sBAAyC,qBAAuC,sBACvD3jB,KAA5D,WACE4jB,WAAI,qBACIC,UAAL,6BACaC,WAAZ,2BACUC,SAAZ,kBACIC,SAAJ,0BACWC,aAAP,4CACwBC,WAA1B,0BACQC,QAAX,oBACOjlB,QAAP,qBACQklB,iBAAC,mBACHC,sBAAQ,kBACTC,UAAH,gBACCC,UAAD,gBACCC,YAAC,yBAEfC,SAAU,CACRC,UAAW,gBACEvJ,KAAP,SACAwJ,OAAE,UAEVh1B,MAAO,CACLx+B,OAAQ,UACDiyC,UAAI,cACDH,YAAG,gBAEftpE,QAAS,CACP8yB,GAAI,KACJC,OAAQ,UAEVk4D,SAAU,CACR59E,KAAM,YACG69E,eAAO,wCACejzB,KAAzB,gBACOlzD,OAAL,UACDmuB,YAAM,kBACDi4D,aAAE,uBAEhBhmF,OAAQ,CACNimF,KAAM,SACAC,YAAO,mBACCC,QAAL,SACHC,eAAU,mBACFz5D,SAAJ,WACF05D,YAAK,cACHC,MAAH,QACFC,SAAK,WACHC,WAAK,eACDC,cAAI,kBACFC,SAAH,eACEC,YAAC,kBACCC,QAAL,QACJC,WAAO,YAEdC,UAAW,CACTC,QAAS,YA+Hb7mF,EAAKyqF,QAAQ,SA3HJ,CACPrI,eAAgB,IAChBC,UAAW,EACXC,iBAAkB,IAClBC,YAAa,EACbC,WAAY,WACZC,WAAY,QACZC,eAAgB,WAChBC,eAAgB,iBAChBG,MAAO,aACJC,cAAY,CACbV,UAAW,EACXD,eAAgB,IAChBE,iBAAkB,GAClBC,YAAa,GAEfU,SAAU,CACRC,UAAW,CAAC,WAAoB,OAAY,UAAkB,WAAoB,UAAkB,UAAkB,SAAgB,UAAkB,WAAoB,aAAwB,WAAoB,WACjIC,WAA3E,CAAC,QAAc,MAAU,MAAU,OAAY,OAAY,MAAU,MAAU,OAAY,MAAU,OAAY,OAAY,QAC7FC,QAAnC,CAAC,UAAkB,aAAwB,UAAkB,SAAgB,SAAgB,UAAkB,UACvEC,SAAvC,CAAC,KAAQ,KAAQ,MAAU,KAAQ,MAAU,KAAQ,MAC/CC,MAAT,UACAC,QAAE,UACFxtF,KAAD,SACAytF,MAAC,QACHppE,MAAG,YAETkjE,WAAY,CACVtc,KAAM,WACEwc,GAAJ,KAENiG,UAAW,CACTjG,GAAI,IACHkG,cAAc,kBACDC,WAAF,kBACEC,QAAL,iBACIC,UAAF,kBACGC,WAAF,kBACEC,cAAC,kBACDC,cAAC,sBAEjB/jB,KAAM,CACJgjB,SAAU,WACFgB,cAAO,sBACGC,cAAH,qBACEC,SAAP,CAAC,kBAAiC,kBACjBC,QAAlB,CAAC,gBAA6B,gBAChBC,UAAZ,CAAC,yBAA8C,yBACnB7B,WAA3B,WACZ8B,YAAa,QACbC,WAAY,KACZC,WAAY,YACZC,aAAc,cACPC,WAAK,mBACGC,MAAR,CAAC,kBAAiC,sBAAyC,qBAAuC,oBACzD3jB,KAA1D,WACE4jB,WAAI,iBACCC,UAAF,wBACQC,WAAP,wBACOC,SAAT,kBACIC,SAAJ,yBACUC,aAAN,uCACmBC,WAArB,6BACWC,QAAd,oBACOjlB,QAAP,qBACQklB,iBAAC,iBACLC,sBAAU,mBACRC,UAAJ,kBACGC,UAAH,iBACEC,YAAA,yBAEfC,SAAU,CACRC,UAAW,iBACGvJ,KAAR,YACGwJ,OAAD,UAEVh1B,MAAO,CACLx+B,OAAQ,SACFiyC,UAAK,aACFH,YAAI,gBAEftpE,QAAS,CACP8yB,GAAI,KACFC,OAAM,UAEVk4D,SAAU,CACR59E,KAAM,UACC69E,eAAS,0CACiBjzB,KAA3B,aACIlzD,OAAF,WACAmuB,YAAK,eACJi4D,aAAK,qBAEhBhmF,OAAQ,CACNimF,KAAM,OACFC,YAAS,iBACDC,QAAH,QACJC,eAAW,kBACHz5D,SAAH,UACH05D,YAAM,aACJC,MAAF,SACDC,SAAI,YACFC,WAAI,eACDC,cAAI,kBACFC,SAAH,eACEC,YAAC,gBACDC,QAAH,QACJC,WAAO,YAEdC,UAAW,CACTC,QAAS,YAeb,IAAI6L,GAAQ,CACVr4F,KAAM,aACNw2B,QAAS,SAAUmF,EAAU7hC,EAASw+F,GACpC,IAAIvgB,EAAM39E,KAAKm+F,SAASt2F,EAAK05B,GAAW7hC,GAExC,GAAIw+F,EAAY,OAAOvgB,EAAStvD,GAAGsvD,EAAI/sD,MAAQ+sD,EAAIlgE,KAAMzd,OAE3Dm+F,SAAU,SAAU58D,EAAU7hC,GAC5B,IAAI6hC,EAAS68D,QAOX,OAAO1+F,EAAQ0C,KAAKpC,KAAMuhC,GAJ1B,IAFA,IAAI70B,EAAM60B,EAAS3Q,MAAQ2Q,EAAS9jB,KAE3B/c,EAAI,EAAGA,EAAIgM,EAAIjL,OAAQf,IAC9BgM,EAAIhM,GAAKV,KAAKm+F,SAASzxF,EAAIhM,GAAIhB,GAMnC,OAAO6hC,GAET+sB,UAAW,SAAU+vC,GAInB,IAHA,IAAI1gB,EAAM,GACN2gB,EAASt+F,KAAK0uB,gBAEThuB,EAAI,EAAGA,EAAI49F,EAAO78F,OAAQf,IAAK,CACtC,IAAIgM,EAAM4xF,EAAO59F,GAEjB,GAAIgM,EAAI6xF,YAAa,CACnB,IAAI7vF,EAAQhC,EAAIgiB,gBAChBivD,EAAIp8E,KAAK88F,EAAWj8F,KAAKpC,KAAM0O,EAAMA,EAAMjN,OAAS,UAC3CiL,EAAI4hD,UAEbqvB,EAAIp8E,KAAKmL,EAAI4hD,UAAU+vC,GAAY,IAGnC1gB,EAAIp8E,KAAK88F,EAAWj8F,KAAKpC,KAAM0M,IAInC,IAAIrM,EAAM,CACR+9F,SAAS,EACT95F,KAAMtE,KAAKiH,OAAO3C,MAGpB,OADItE,KAAKiH,OAAOwW,KAAMpd,EAAIod,KAAOkgE,EAASt9E,EAAIuwB,KAAO+sD,EAC9Ct9E,GAET2J,MAAO,SAAU/C,GACfjH,KAAKslB,OAAO/jB,KAAKvB,KAAKw+F,cACtBx+F,KAAKiqB,SAAWjqB,KAAKkjC,YACrBljC,KAAKy+F,cAAgB,GACrBz+F,KAAK0+F,YAAc,GACnB1+F,KAAK0gE,SAAW,CACdnnD,IAAK,EACLC,KAAM,EACNyS,MAAO,EACPT,OAAQ,GAGNvkB,EAAOgoB,WACThoB,EAAOm0B,YAAa,EACpBn0B,EAAOioB,OAAS,CACd3V,KAAK,EACLC,MAAM,EACNgS,QAAQ,EACRS,OAAO,IAIPhlB,EAAO03F,SAASh/F,EAAQ8J,OAAOzJ,KAAMgmE,KAE3C44B,YAAa,SAAUp9F,GAGrB,OAFAxB,KAAK6+F,sBAAwB,EAC7B7+F,KAAK8+F,YAAct9F,GACZ,GAETu9F,YAAa,SAAUv9F,GAIrB,OAHAxB,KAAK6+F,sBAAwB,EAC7B7+F,KAAK6qB,MAAMrT,MAAMwnF,WAAa,SAC9Bh/F,KAAK8+F,YAAct9F,GACZ,GAETquB,QAAS,SAAU7a,GACjB,IAAIme,EAAWtpB,EAAaqB,KAAK9I,KAAKpC,KAAKi8B,OAAQjnB,GAE/ChV,KAAKi/F,mBAAmBj/F,KAAKi/F,kBAAkB9rE,GAEnDtpB,EAAagB,SAASzI,KAAKpC,KAAKi8B,OAAQ9I,GAExCnzB,KAAKk/F,mBAAkB,IAEzBA,kBAAmB,SAAUC,GAC3Bn/F,KAAKo/F,aAAe,EAEpB,IAAK,IAAI1+F,EAAI,EAAGA,EAAIV,KAAKi8B,OAAOx6B,OAAQf,IAAK,CAC3C,IAAIkjB,EAAO5jB,KAAKi8B,OAAOv7B,IACnBkjB,EAAKxW,UAAUmW,QAAUK,EAAKy7E,WAAUr/F,KAAKo/F,eAG/CD,GAAWn/F,KAAKmpC,gBAAe,IAErCxZ,SAAU,SAAUmtB,EAAUwiD,GAC5B,GAAIt2F,EAAYs2F,GAAY,CAC1B,IAAK,IAAI5+F,EAAI,EAAGA,EAAIV,KAAKi8B,OAAOx6B,OAAQf,IACtCV,KAAKi8B,OAAOv7B,GAAGgvB,aAGjB1vB,KAAK8+F,YAAchiD,EAEnB98C,KAAKw+F,mBACA,CACL,IAAIv5F,EAEoB,iBAAbq6F,IACLA,EAAY,GAAKA,EAAYt/F,KAAKi8B,OAAOx6B,UAAQ69F,EAAYt/F,KAAKi8B,OAAOx6B,QAE7EoI,EAAaC,SAAS1H,KAAKpC,KAAKi8B,OAAQ6gB,EAAUwiD,GAE7CxiD,EAAS1vC,UAAUmW,QAAQvjB,KAAKu/F,kBAAkBziD,EAAU98C,KAAKi8B,OAAOqjE,MAE7Er6F,EAAS4pB,GAAGywE,GAEZx5F,GAAoB,IADpBw5F,EAAYz1F,EAAaqB,KAAK9I,KAAKpC,KAAKi8B,OAAQh3B,IACxB,4CACnB63C,EAAS1vC,UAAUmW,QAAQvjB,KAAKu/F,kBAAkBziD,EAAU73C,GACjEA,EAAOyqB,aACP1vB,KAAKi8B,OAAOqjE,GAAaxiD,GAGtB98C,KAAK6+F,uBAAuB7+F,KAAKsgE,qBAAqBxjB,GAG7D98C,KAAKk/F,mBAAkB,GAEvB,IAAIp9D,EAAO9hC,KAAK2wB,SAAW3wB,KAAOA,KAAKy+B,cACnCqD,IAAS9hC,KAAKw/F,YAAY19D,EAAKwE,sBACnCx5B,EAAU,gBAAiB,CAAC9M,QAE9BsgE,qBAAsB,SAAU18C,GAC9BA,EAAKoM,SAASxY,MAAMghB,QAAU,eAC9B5U,EAAKoM,SAASxY,MAAMioF,cAAgB,OAEtC3jE,QAAS,SAAU9mB,EAAMme,GACnBnqB,EAAYmqB,KAAWA,EAAWnzB,KAAKi8B,OAAOx6B,QAClD,IAAI8X,EAAMvZ,KAAK6uB,GAAK7uB,KAAOA,KAAKiiC,mBAChC/U,GAAMQ,aAAe1tB,KACrB,IAAI0/F,EAAQnmF,GAAOA,EAAI8U,GAAK9U,EAAI8U,GAAGrZ,EAAMhV,KAAMmzB,GAAY9E,GAAGrZ,EAAMhV,KAAMmzB,GAE1E,OADAjG,GAAMQ,aAAe,KACdgyE,EAAMtyF,UAAUlG,IAEzBy4F,WAAY,SAAUz4F,GACpB,IAAI8N,EACyBA,EAAV,UAAf/U,EAAQiH,GAAwB2nB,GAAG3nB,KAAQlH,KAAK6uB,GAAK7uB,KAAK6uB,GAAG3nB,GAAM,MAAkBA,EAEzF,IAAIY,EAAS+B,EAAaqB,KAAK9I,KAAKpC,KAAKi8B,OAAQjnB,GAEjD,GAAIlN,GAAU,EAAG,CACX9H,KAAKi/F,mBAAmBj/F,KAAKi/F,kBAAkBn3F,EAAQkN,GAC3D,IAAI8sB,EAAO9hC,KAAK2wB,SAAW3wB,KAAOA,KAAKy+B,cAEvCz+B,KAAKi8B,OAAOjxB,OAAOlD,EAAQ,GAEvBg6B,GAAMpM,GAAM1gB,GAAM,SAAUtI,GAC1BA,EAAI9G,aAAak8B,EAAK2/C,iBAAiB/0E,EAAIzF,OAAOrB,QACrDk8B,GAAM,GACT9sB,EAAK0a,aAEL1vB,KAAKk/F,mBAAkB,GAEnBp9D,GAAMA,EAAKwE,2BACVxgC,GAAO,EAAO,uCAAyCoB,GAE9D4F,EAAU,gBAAiB,CAAC9M,QAE9B4/F,YAAa,WACX5/F,KAAKo/F,aAAe,EAEpBp/F,KAAK2vB,SAAS3vB,KAAK8+F,cAErB58D,MAAO,SAAU7hC,EAAKoiC,EAAU6B,GAC1BjkC,EAAI+M,UAAUmW,SAClBljB,EAAI+M,UAAUmW,QAAS,EACvBtY,GAAO5K,EAAI2vB,UACXhwB,KAAKo/F,eACA96D,GAAWpX,GAAMU,cAAc5tB,KAAKmpC,gBAAe,KAE1DN,qBAAsB,SAAU7zB,GAC1BA,EAAKlI,WAAWkI,EAAKlI,UAAU,aAAc,KAEnDq8B,eAAgB,WACd,IAAIjc,GAAMO,gBAENztB,KAAKy+F,cAAe,CACtB,IAAI9wF,EAAS3N,KAAKmvB,gBAElB,GAAIxhB,EACF,OAAIA,EAAOw7B,eAAuBx7B,EAAOw7B,iBAA6Bx7B,EAAO8nB,SAG/E,IACIxjB,EAAGwH,EAAGg6B,EAAIC,EADVtsC,EAAQpH,KAAKwoC,SAAS,EAAG,GAY7B,GAVAiL,EAAKxhC,EAAIjS,KAAKy+F,cAAc,IAAM,EAClC/qD,EAAKj6B,EAAIzZ,KAAKy+F,cAAc,IAAM,GAE7Br3F,EAAM,IAAM,KAAUA,EAAM,IAAM,MAAWpH,KAAKgwB,SAAS3X,aAG9Do7B,EAAKxhC,EAAIyH,KAAKgC,IAAItU,EAAM,GAAIpH,KAAKoN,UAAUwM,OAAS5Z,KAAKgwB,SAAS3X,WAAWwB,aAAe5H,GAAK,GACjGyhC,EAAKj6B,EAAIC,KAAKgC,IAAItU,EAAM,GAAIpH,KAAKoN,UAAU0M,QAAU9Z,KAAKgwB,SAAS3X,WAAW0B,cAAgBN,GAAK,IAGhG9L,EAWE3N,KAAK2gE,gBAAgB1uD,EAAGwH,OAXlB,CAEPrS,EAAM,GAAK6K,IAAGwhC,EAAKrsC,EAAM,IAEzBA,EAAM,GAAKqS,IAAGi6B,EAAKtsC,EAAM,IAC7B,IAAI6oB,EAAajwB,KAAKgwB,SAAS3X,YAAc/N,SAASyO,OAAS/Y,KAAKqvB,aAE/DY,GAAche,EAAI7K,EAAM,KAAIqsC,EAAKrsC,EAAM,KAEvC6oB,GAAcxW,EAAIrS,EAAM,KAAIssC,EAAKtsC,EAAM,IAC5CpH,KAAK6nC,SAAS4L,EAAIC,GAGhBxmB,GAAMK,wBACRL,GAAMK,uBAAwB,EAC9BvtB,KAAKmpC,kBAGPr8B,EAAU,WAAY,MAG1B4hB,cAAe,WACb,OAAO1uB,KAAKi8B,QAEd5e,MAAO,SAAUhd,GACXA,EAAI+M,YAAW/M,EAAMA,EAAI+M,UAAUlG,IAEvC,IAAK,IAAIxG,EAAI,EAAGA,EAAIV,KAAKi8B,OAAOx6B,OAAQf,IACtC,GAAIV,KAAKi8B,OAAOv7B,GAAG0M,UAAUlG,IAAM7G,EAAK,OAAOK,EAGjD,OAAO,GAET6+F,kBAAmB,SAAUvqF,EAAMwD,GACjC,GAAIA,EACF,GAAIA,EAAOpL,UAAUmW,QAAUvO,IAASwD,EAAQ,KAE9C,IAAI2a,EAAWnzB,KAAKqd,MAAM7E,GAAU,EAE7BxY,KAAKi8B,OAAO9I,IAAanzB,KAAKi8B,OAAO9I,GAAU/lB,UAAUmW,QAC9D4P,IAGF3a,EAASxY,KAAKi8B,OAAO9I,GAAYnzB,KAAKi8B,OAAO9I,GAAUnD,SAAW,UAElExX,EAASA,EAAOwX,SAIpBzX,GAAavD,EAAKgb,SAAUxX,EAAQxY,KAAKiqB,UAAYjqB,KAAKgwB,WAE5D2Y,MAAO,SAAUtoC,EAAKoiC,EAAU6B,GACzBjkC,EAAI+M,UAAUmW,SAEnBvjB,KAAKu/F,kBAAkBl/F,EAAKA,GAE5BA,EAAI+M,UAAUmW,QAAS,EACvBvjB,KAAKo/F,eAEA96D,IACHtkC,KAAKmpC,gBAAe,GAChB9oC,EAAI8pB,SAAS9pB,EAAI8pB,WAGnB9pB,EAAIyM,YACNzM,EAAIyM,UAAU,aAAc,IAE5B4oB,GAAMr1B,EAAKL,KAAK6oC,yBAGpBg3D,UAAW,SAAUj6F,EAAMkM,GACzB,IAAI0+C,OAA0B,IAAR1+C,EAGtB,GAFAA,GAAgB,IAATA,EAEF0+C,EAGExwD,KAAKoN,UAAU0yF,aAAe,OAHtB,CACb,GAAI9/F,KAAKoN,UAAU0yF,cAAgBl6F,EAAM,OACzC5F,KAAKoN,UAAU0yF,aAAel6F,EAKhC,IAFA,IAAI6sB,EAAO,GAEF/xB,EAAI,EAAGA,EAAIV,KAAKi8B,OAAOx6B,OAAQf,IACjCV,KAAKi8B,OAAOv7B,GAAG0M,UAAU2yF,OAAU//F,KAAKi8B,OAAOv7B,GAAG0M,UAAUmW,OAA2CvjB,KAAKi8B,OAAOv7B,GAAG0M,UAAU2yF,OAASn6F,EACxIkM,EAAM2gB,EAAKlxB,KAAKvB,KAAKi8B,OAAOv7B,IAASV,KAAKkiC,MAAMliC,KAAKi8B,OAAOv7B,GAAI,MAAM,GAChE8vD,GAAUxwD,KAAKkiC,MAAMliC,KAAKi8B,OAAOv7B,GAAI,MAAM,GAFkB+xB,EAAKlxB,KAAKvB,KAAKi8B,OAAOv7B,IAKjG,IAAK,IAAIU,EAAK,EAAGA,EAAKqxB,EAAKhxB,OAAQL,IACjCpB,KAAK2oC,MAAMlW,EAAKrxB,GAAK,MAAM,GAE3BqxB,EAAKrxB,GAAIwnC,uBAGX5oC,KAAKmpC,gBAAe,IAEtBq1D,aAAc,SAAUrjC,GACtBn7D,KAAKi8B,OAAS,GACdn2B,EAAOq1D,EAAYn7D,KAAK4F,KAAO,0FAE/B,IAAK,IAAIlF,EAAI,EAAGA,EAAIy6D,EAAW15D,OAAQf,IACrCwsB,GAAMQ,aAAe1tB,KAChBm7D,EAAWz6D,GAAGwuB,SAAQisC,EAAWz6D,GAAG06B,YAAa,GACtDp7B,KAAKi8B,OAAOv7B,GAAK2tB,GAAG6C,MAAMiqC,EAAWz6D,GAAIV,MACpCA,KAAK6+F,uBAAuB7+F,KAAKsgE,qBAAqBtgE,KAAKi8B,OAAOv7B,IAEnEV,KAAKoN,UAAU0yF,cAAgB9/F,KAAKoN,UAAU0yF,cAAgB9/F,KAAKi8B,OAAOv7B,GAAG0M,UAAU2yF,OAAS//F,KAAKi8B,OAAOv7B,GAAG0M,UAAU2yF,QAC3H//F,KAAKi8B,OAAOv7B,GAAG0M,UAAUmW,QAAS,GAG/BvjB,KAAKi8B,OAAOv7B,GAAG0M,UAAUmW,SAC3BvjB,KAAKiqB,UAAYjqB,KAAKkjC,aAAaxrB,YAAY1X,KAAKi8B,OAAOv7B,GAAGsvB,UAInEhwB,KAAKk/F,oBAEDl/F,KAAKggG,sBAAsBhgG,KAAKggG,qBAAqB7kC,IAE3D8kC,uBAAwB,SAAUzoF,EAAOgV,GACnCA,EAAMjT,MAAK/B,EAAMylC,eAAiB,OAClCzwB,EAAMhT,OAAMhC,EAAM2lC,gBAAkB,OACpC3wB,EAAMP,QAAOzU,EAAM4lC,iBAAmB,OACtC5wB,EAAMhB,SAAQhU,EAAM0lC,kBAAoB,QAE9CgjD,aAAc,SAAUz4E,EAAMzgB,EAAMm5F,GAClC,GAAIngG,KAAK6+F,uBAAyBsB,EAAU,IAAK,IAAIz/F,EAAI,EAAGA,EAAIV,KAAKi8B,OAAOx6B,OAAQf,IAClFV,KAAKi8B,OAAOv7B,GAAG0M,UAAUqa,GAAQzgB,EAC7BhH,KAAKi8B,OAAOv7B,GAAGw/F,cAAclgG,KAAKi8B,OAAOv7B,GAAGw/F,aAAaz4E,EAAMzgB,EAAMm5F,IAG7E33D,SAAU,SAAUzT,EAAIC,GACtBnuB,EAAqB7G,MAAM,GAC3B,IAAIs7B,EAAW,EACXC,EAAW,IACXE,EAAY,IACZD,EAAY,EACZx7B,KAAK6+F,sBAAuBpjE,EAAY,EAAOF,EAAW,EAC9D,IAAI4iB,EAAQ,EACRiiD,EAAc,EACd5+D,EAAU,EACdxhC,KAAKq7B,OAAS,GAEd,IAAK,IAAI36B,EAAI,EAAGA,EAAIV,KAAKi8B,OAAOx6B,OAAQf,IAEtC,IAAIV,KAAKi8B,OAAOv7B,GAAG0M,UAAUmW,OAA7B,CAEA,IAAInc,EAAQpH,KAAKq7B,OAAO36B,GAAKV,KAAKi8B,OAAOv7B,GAAG8nC,SAAS,EAAG,GAEpDxoC,KAAKi8B,OAAOv7B,GAAG2+F,SACjBe,IAIEpgG,KAAK6+F,uBAEHz3F,EAAM,GAAKk0B,IAAUA,EAAWl0B,EAAM,IAEtCA,EAAM,GAAKm0B,IAAUA,EAAWn0B,EAAM,IAC1Co0B,GAAap0B,EAAM,GACnBq0B,GAAar0B,EAAM,GAEfA,EAAM,IAAMA,EAAM,KAAkB,GAAZA,EAAM,IAChC+2C,GAAS/2C,EAAM,GACfg5F,KACK5+D,GAAWp6B,EAAM,KAGpBA,EAAM,GAAKo0B,IAAWA,EAAYp0B,EAAM,IAExCA,EAAM,GAAKq0B,IAAWA,EAAYr0B,EAAM,IAC5Ck0B,GAAYl0B,EAAM,GAClBm0B,GAAYn0B,EAAM,GAEdA,EAAM,IAAMA,EAAM,KAAkB,GAAZA,EAAM,IAChC+2C,GAAS/2C,EAAM,GACfg5F,KACK5+D,GAAWp6B,EAAM,IAIxBo0B,EAAYC,IAAWA,EAAYD,GACnCF,EAAWC,IAAUA,EAAWD,GACpCt7B,KAAKqgG,aAAe,CAACliD,EAAOn+C,KAAKi8B,OAAOx6B,OAAS2+F,EAAa5+D,GAC9DxhC,KAAKsgG,cAAgB,CAAChlE,EAAWvG,EAAIyG,EAAYxG,GAEjD,IAAIyqB,EAAYrW,GAAKC,IAAIb,SAASpmC,KAAKpC,KAAM,EAAG,GAUhD,OARIy/C,EAAU,IAAM,MAAQA,EAAU,GAAK,GACvCA,EAAU,IAAM,MAAQA,EAAU,GAAK,GAC3CA,EAAU,IAAMA,EAAU,IAAMnkB,GAAYvG,EAC5C0qB,EAAU,GAAK/lC,KAAKgC,IAAI+jC,EAAU,IAAKA,EAAU,IAAMlkB,GAAYxG,GACnE0qB,EAAU,IAAMA,EAAU,IAAMjkB,GAAaxG,EAC7CyqB,EAAU,GAAK/lC,KAAKgC,IAAI+jC,EAAU,IAAKA,EAAU,IAAMhkB,GAAazG,GACpE7tB,EAAmBnH,EAAMy/C,IACpBz/C,KAAK6+F,uBAAyB7+F,KAAKoN,UAAUmzF,aAAY9gD,EAAU,GAAK,GACtEA,GAET5X,SAAU,SAAU51B,EAAGwH,GACrBzZ,KAAKy+F,cAAgB,CAACxsF,EAAGwH,GACzB5S,EAAqB7G,MACrBopC,GAAKC,IAAIxB,SAASzlC,KAAKpC,KAAMiS,EAAGwH,GAEhCzZ,KAAK2gE,gBAAgB1uD,EAAGwH,GAExBtS,EAAmBnH,EAAM,CAACiS,EAAGwH,KAE/B+mF,kBAAmB,SAAUp5F,EAAO8b,EAAKxH,GAGvC,IAAI5B,EAFJoJ,EAAM9b,EAAM8b,GAIZ,GAAIA,IAHJxH,EAAMtU,EAAMsU,IAGI,CACd,IAAI+kF,EAAKzgG,KAAK0gG,gBAAkBt5F,EAAM,GAAKpH,KAAK2gG,kBAEhD,GAAIF,EAAKv9E,EACPpJ,EAASoJ,EACTljB,KAAK2gG,mBAAqBv5F,EAAM,GAChCpH,KAAK0gG,iBAAmB5mF,MACnB,CAAA,KAAI2mF,EAAK/kF,GAKd,OAAO,EAJP5B,EAAS4B,EACT1b,KAAK2gG,mBAAqBv5F,EAAM,GAChCpH,KAAK0gG,iBAAmB5mF,GAM5B,OAAOA,GAET8mF,iBAAkB,SAAUh9E,EAAM9R,GAChC,IAAIhK,EAAS+mB,GAAG/c,GAED,SAAXhK,GAAsBA,GAKnBA,IAAQA,EAASumB,GAAG,CACvBrZ,KAAM,QACN+D,KAAM,CAAC,OAET6K,EAAKi9E,kBAAoBj9E,EAAKxW,UAAUwM,MACxCgK,EAAKk9E,mBAAqBl9E,EAAKxW,UAAU0M,OACzC8J,EAAKm9E,mBAAqBj5F,EAAOsF,UAAUlG,GAC3C0c,EAAKxW,UAAUwM,MAAQ,EAClBgK,EAAKxW,UAAU0M,SAAQ8J,EAAKxW,UAAU+1C,YAAa,GACxD90B,GAAGzK,EAAM9b,EAAQ9H,KAAK0+F,YAAYj9F,UAblCmiB,EAAK8Q,OACL9Q,EAAKm9E,mBAAqB,QAe5B/gG,KAAK0+F,YAAYn9F,KAAKqiB,IAExBo9E,iBAAkB,SAAUp9E,GAC1B,IAAI9b,EAAS8b,EAAKm9E,mBAGlB,GAFAn9E,EAAKm9E,mBAAqB,EAEX,SAAXj5F,GAAsBA,EAEnB,CACL8b,EAAKxW,UAAUwM,MAAQgK,EAAKi9E,kBAC5Bj9E,EAAKxW,UAAU0M,OAAS8J,EAAKk9E,0BACtBl9E,EAAKxW,UAAU+1C,eACtB,IAAIhwB,EAAW,EAERnzB,KAAKi8B,OAAO9I,KAAgE,IAAnDnzB,KAAKi8B,OAAO9I,GAAU/lB,UAAU6zF,gBAC9D9tE,IAGF9E,GAAGzK,EAAM5jB,KAAMmzB,QAXfvP,EAAK6O,OAcPzyB,KAAK0+F,YAAY5uF,OAEnBoxF,kBAAmB,SAAUjvF,GAG3B,GAFAib,GAAMM,qBAAsB,EAExBvb,EAAIjS,KAAK0gE,SAASlnD,KAAOxZ,KAAK0gE,SAASz0C,MAAQjsB,KAAK8gE,SAAW9gE,KAAKi8B,OAAOx6B,OAAS,GAAKzB,KAAKsgG,cAAc,GAG9G,IAFA,IAAI5kF,EAAM1b,KAAKi8B,OAAOx6B,OAAS,EAEtBf,EAAI,EAAGA,EAAIgb,EAAKhb,IAAK,CAC5B,IAAIkjB,EAAO5jB,KAAKi8B,OAAOv7B,GAEvB,IAAKkjB,EAAKm9E,mBAAkB,CAC1B,IAAsC,IAAlCn9E,EAAKxW,UAAU6zF,eAA0B,CAC3CjhG,KAAK4gG,iBAAiBh9E,EAAM5jB,KAAKoN,UAAUmzF,YAE3CzzF,EAAU,mBAAoB,CAAC8W,EAAKxW,UAAUlG,KAC9CgmB,GAAMK,uBAAwB,EAC9B,MAEA7R,EAAM1b,KAAKi8B,OAAOx6B,aAInB,GAAIzB,KAAK0+F,YAAYj9F,OAAQ,CAClC,IAAI0/F,EAAQnhG,KAAK0+F,YAAY1+F,KAAK0+F,YAAYj9F,OAAS,GACnDszB,EAAiC,QAA5BosE,EAAMJ,mBAA+B,EAAII,EAAMN,kBAE/CM,EAAM34D,SAASzT,EAAI,GAErB,GAAK/0B,KAAKsgG,cAAc,GAAKtgG,KAAK8gE,QAAU,IAAM7uD,IACvDjS,KAAKghG,iBAAiBG,GAEtBr0F,EAAU,mBAAoB,CAACq0F,EAAM/zF,UAAUlG,KAC/CgmB,GAAMK,uBAAwB,GAIlCL,GAAMM,qBAAsB,GAE9BmzC,gBAAiB,SAAU1uD,EAAGwH,GAC5ByT,GAAMI,sBAAwBJ,GAAMI,sBAAwB,GAAK,GAC5DttB,KAAK6+F,uBAAyB7+F,KAAKoN,UAAUmzF,YAAYvgG,KAAKkhG,kBAAkBjvF,EAAGwH,GACxFzZ,KAAK0gG,iBAAmB1gG,KAAK6+F,sBAAwBplF,EAAIxH,GAAKjS,KAAKqgG,aAAa,GAChFrgG,KAAK2gG,kBAAoB3gG,KAAKqgG,aAAa,GAK3C,IAJA,IAAIzmF,EAAQ3H,EACR6H,EAASL,EACT60D,EAAO,GAEF5tE,EAAI,EAAGA,EAAIV,KAAKi8B,OAAOx6B,OAAQf,IAEtC,IAAIV,KAAKi8B,OAAOv7B,GAAG0M,UAAUmW,QAAWvjB,KAAKq7B,OAAO36B,GAApD,CACA,IAAI0G,EAAQpH,KAAKq7B,OAAO36B,GAExB,GAAIV,KAAK6+F,uBAGP,IAFA/kF,EAAS9Z,KAAKwgG,kBAAkBp5F,EAAO,EAAG,IAE7B,EAAG,CACdknE,EAAK/sE,KAAK,CACR6/F,SAAU1gG,EACVsU,KAAMhV,KAAKi8B,OAAOv7B,KAEpB,eAKF,IAFAkZ,EAAQ5Z,KAAKwgG,kBAAkBp5F,EAAO,EAAG,IAE7B,EAAG,CACbknE,EAAK/sE,KAAK,CACR6/F,SAAU1gG,EACVsU,KAAMhV,KAAKi8B,OAAOv7B,KAEpB,SAIJV,KAAKi8B,OAAOv7B,GAAGmnC,SAASjuB,EAAOE,GAGjC,IAAK,IAAIxJ,EAAM,EAAGA,EAAMg+D,EAAK7sE,OAAQ6O,IAAO,CAC1C,IAAI6iB,EAAWm7C,EAAKh+D,GAAK8wF,SACrB/lE,EAASr7B,KAAKq7B,OAAOlI,GACrB4B,EAAKrb,KAAKC,MAAM3Z,KAAK0gG,gBAAkBrlE,EAAO,GAAKr7B,KAAK2gG,mBAC5D3gG,KAAK0gG,iBAAmB3rE,EACxB/0B,KAAK2gG,mBAAqBtlE,EAAO,GAC7Br7B,KAAK6+F,sBAAuB/kF,EAASib,EACvCnb,EAAQmb,EAGVu5C,EAAKh+D,GAAK0E,KAAK6yB,SAASjuB,EAAOE,GAGjCoT,GAAMI,sBAAwB,GAEhC+zE,MAAO,SAAUhhG,EAAKyR,GACpB,IAAIqhB,EAAWnzB,KAAKqd,MAAMhd,GAC1B,OAAgB,GAAZ8yB,EAAuB,KACpBnzB,KAAKi8B,OAAO9I,EAAWrhB,IAEhCwvF,OAAQ,WACN,OAAOthG,KAAKi8B,OAAO,KAInBslE,GAAa,CACfl4D,IAAK40D,GACLjpF,KAHWrV,EAAQwxB,QAAQ8sE,GAAOjyF,EAAao9B,GAAKp0B,OAiBlDwsF,IAFS7hG,EAAQwxB,QATT,CACVvrB,KAAM,SACNmE,SAAU,CACRqxB,YAAY,GAEdpxB,MAAO,WACLhK,KAAKgwB,SAAS7X,WAAa,kBAGKwxB,GAAO30B,MAE/B,CACVpP,KAAM,WACNoE,MAAO,SAAU/C,GACf,IAAIszB,EAAUv6B,KAAKyhG,gBAAgBx6F,EAAO3C,MAEtCi2B,IACEA,EAAQjf,KAAOrU,EAAOqU,MAAKtb,KAAKgwB,SAAS7X,WAAa,IAAMoiB,EAAQjf,KACxE3b,EAAQ8J,OAAOxC,EAAQszB,GAEnBtzB,EAAOm0B,oBACFn0B,EAAOioB,OAEdlvB,KAAKg8B,WAAW/0B,KAIhBjH,KAAKiqB,UAAYjqB,KAAKgwB,UACxBhwB,KAAKiqB,SAAWnS,GAAO,OACvB9X,KAAKiqB,SAAS9R,UAAY,kBAE1BnY,KAAKgwB,SAAStY,YAAY1X,KAAKiqB,WAC1BjqB,KAAKiqB,SAAS9R,WAAa,kBAElCnY,KAAK6M,YAAY,gBAAiB7M,KAAK0hG,kBAEzCh7E,UAAW,SAAUrmB,EAAK4U,GACxBjV,KAAKkF,KAAO+P,EAAStV,EAAQ8J,OAAOzJ,KAAKkF,KAAM7E,GAAK,GAAQA,EAC5DL,KAAK8pB,UAEP2a,UAAW,WACT,OAAOzkC,KAAKkF,MAEd4sB,MAAO,WACL9xB,KAAKyhG,gBAAgBztF,OAAO8F,OAAS8zB,GAAQM,UAAkC,EAAtBN,GAAQpE,YACjExpC,KAAKyhG,gBAAgBE,QAAQ7nF,OAAS8zB,GAAQM,WAEhDuzD,gBAAiB,CACfztF,OAAU,CACRsH,IAAK,gBAEPqmF,QAAW,CACTrmF,IAAK,gBACL8f,YAAY,GAEdqU,MAAS,CACPn0B,IAAK,cACL8f,YAAY,IAGhBwmE,eAAgB,SAAUpgG,GAGxB,OAFAxB,KAAKqyB,SAAW1yB,EAAQ8J,OAAOzJ,KAAKqyB,UAAY,GAAI7wB,GAAO,GACtDxB,KAAKkpE,UAAUvpE,EAAQ8J,OAAOzJ,KAAM0oE,IAClClnE,GAETuI,SAAU,CACR8f,SAAUxB,GAASoB,OAErBo4E,WAAY,WACV7hG,KAAK8hG,gBAAiB,EAEtB9hG,KAAK+hG,sBAEL/hG,KAAKy1B,UAEPssE,oBAAqB,WACd/hG,KAAK8hG,iBACR9hG,KAAK8hG,gBAAiB,EACtB9hG,KAAK8pB,WAGTk4E,WAAY,SAAUxgG,GAEpB,OADAxB,KAAK8hG,gBAAiB,EACjB9hG,KAAK8M,UAAU,eAAgB,KACpC0E,EAAKhQ,EAAOiH,GAAK,SAAUtC,GACzBnG,KAAKoN,UAAUyc,SAAWxB,GAASliB,GAEnCnG,KAAK6hG,aAEL7hG,KAAK8M,UAAU,cAAe,MAC7B9M,OACIwB,GARyC,IAUlDygG,eAAgB,SAAUh7F,GACpBA,IACFjH,KAAK8hG,gBAAiB,EAEtB9hG,KAAK8pB,OAAS,aAEd9pB,KAAKiqB,SAASvS,YAAYtN,EAAOnD,IAEjCjH,KAAK0hG,oBAGTv3E,QAAS,WACPnqB,KAAK8pB,UAEPo4E,QAAS,SAAUlqF,GACjBhY,KAAKoN,UAAUyc,SAAW,WACxB,OAAO7R,GAGThY,KAAKmqB,WAEPg4E,WAAY,SAAUjlF,GACpBld,KAAKiqB,SAASxT,UAAY,GAC1BzW,KAAKiiG,eAAe/kF,IAEtB2qB,SAAU,SAAU51B,EAAGwH,GACrB,GAAIkwB,GAAON,IAAIxB,SAASzlC,KAAKpC,KAAMiS,EAAGwH,GAAI,CAGxC,GAFAzZ,KAAK+hG,sBAED/hG,KAAKoN,UAAU+1C,WAAY,CAC7B,IAAI5pC,EAAMvZ,KAAKiiC,mBACfzN,aAAajb,EAAI6oF,wBACjB7oF,EAAI6oF,uBAAyBl5F,EAAMlJ,KAAKy1B,OAAQz1B,MAGlD,OAAO,IAGXwoC,SAAU,SAAUv2B,EAAGwH,GAErB,OADIzZ,KAAKoN,UAAU+1C,YAAgBnjD,KAAKoN,UAAU9I,MAA+B,SAAvBtE,KAAKoN,UAAU9I,OAAkBtE,KAAKoN,UAAU0M,OAAS9Z,KAAKqiG,oBACjH14D,GAAON,IAAIb,SAASpmC,KAAKpC,KAAMiS,EAAGwH,IAE3CioF,gBAAiB,WAGX1hG,KAAKoN,UAAU+1C,aACjBnjD,KAAK+nC,WAAa,KAClB/nC,KAAKy1B,WAGT4sE,iBAAkB,WAChB,IAAIr7F,EACAypC,EAAU7C,GAAQ+B,cAAc3S,MAcpC,OAZAh9B,KAAK+hG,sBAEA/hG,KAAKgqB,aAKRhqB,KAAKiqB,SAASzS,MAAMsC,OAAS,OAC7B9S,EAAOhH,KAAKiqB,SAASs3C,aACrBvhE,KAAKiqB,SAASzS,MAAMsC,OAAS,IAL7B9S,EAAOqU,GAAYrb,KAAK2pB,QAAQ3pB,KAAKkF,OAASlF,KAAKiqB,SAASxT,UAC5D,kBAAmBzW,KAAKgoC,SAAWhoC,KAAKmvB,gBAAkBnvB,KAAKmvB,gBAAgB6Y,OAAS,IAAMyI,GAAS32B,OAOlG9S,GAETonE,kBAAkB,IAIhBk0B,GAAa,CACfj5D,IAAKm4D,GACLxsF,KAHWrV,EAAQwxB,QAAQqwE,GAAOrzB,GAAY1jC,GAAavlB,GAAgBwE,GAAY1d,EAAa29B,GAAO30B,OAQzGutF,GAAQ,CACV38F,KAAM,aACNmE,SAAU,CACR0hB,OAAQ,IACR+2E,YAAa,SAEfx4F,MAAO,WACLhK,KAAKgwB,SAAS7X,WAAa,qBAE7B0kC,YAAa,SAAU51C,GACrBA,EAAOm0B,YAAa,EACpBlO,GAAMQ,aAAe1tB,KACrBA,KAAK2uB,WAAaN,GAAG6C,MAAMjqB,GAE3BjH,KAAKiqB,SAASvS,YAAY1X,KAAK2uB,WAAWqB,WAE5CtB,cAAe,WACb,MAAO,CAAC1uB,KAAK2uB,aAEfkN,QAAS,WACP,OAAO77B,KAAK2uB,YAEdwa,eAAgB,WACTnpC,KAAK2uB,aACV3uB,KAAKsgG,cAAgBtgG,KAAK2uB,WAAW6Z,SAAS,EAAG,GAEjDxoC,KAAKyiG,kBAEL31F,EAAU,WAAY,MAExB21F,gBAAiB,WACf,IAAIC,EAAKhpF,KAAKgC,IAAI1b,KAAKioC,eAAgBjoC,KAAKsgG,cAAc,IACtDqC,EAAKjpF,KAAKgC,IAAI1b,KAAKqoC,gBAAiBroC,KAAKsgG,cAAc,IAE3DtgG,KAAK2uB,WAAWkZ,SAAS66D,EAAIC,GAE7B,IAAIl3E,EAASzrB,KAAK0rB,iBACdnS,EAAMvZ,KAAK2uB,WAAW0Z,gBAAkBroC,KAAKqoC,gBAC7C9uB,EAAMkS,EAAOhS,GACfzZ,KAAKksB,SAAS,KAAM3S,GAElB2T,GAAMK,wBACRL,GAAMK,uBAAwB,EAC9BvtB,KAAKsgG,cAAgBtgG,KAAK2uB,WAAW6Z,SAAS,EAAG,GAEjDxoC,KAAKyiG,oBAGTj6D,SAAU,SAAUzT,EAAIC,GACtB,IAAI4tE,EAAe5iG,KAAKsgG,cAAgBtgG,KAAK2uB,WAAW6Z,SAAS,EAAG,GAEhEq6D,EAAal5D,GAAON,IAAIb,SAASpmC,KAAKpC,KAAM+0B,EAAIC,GAChD8tE,EAAc9iG,KAAK+iG,gBAAkBzkF,GAAI6pB,WAU7C,MAR6B,KAAzBnoC,KAAKoN,UAAUqe,QACjBo3E,EAAW,GAAKnpF,KAAKgC,IAAImnF,EAAW,GAAID,EAAa,IAAME,EAC3DD,EAAW,GAAKnpF,KAAKwJ,IAAI2/E,EAAW,GAAID,EAAa,IAAME,GACzB,KAAzB9iG,KAAKoN,UAAUqe,SACxBo3E,EAAW,GAAKnpF,KAAKgC,IAAImnF,EAAW,GAAID,EAAa,IAAME,EAC3DD,EAAW,GAAKnpF,KAAKwJ,IAAI2/E,EAAW,GAAID,EAAa,IAAME,GAGtDD,GAETh7D,SAAU,SAAU51B,EAAGwH,GACrB,IAAI/J,EAAO4O,GAAI6pB,WACf7pB,GAAI6pB,WAAanoC,KAAK+iG,gBAAkBrzF,GACpCi6B,GAAON,IAAIxB,SAASzlC,KAAKpC,KAAMiS,EAAGwH,IAAMyT,GAAMsI,gBAAex1B,KAAKyiG,kBACtEnkF,GAAI6pB,WAAaz4B,GAEnB2+D,cAAe,SAAU7sE,GACvB,IAAI6gD,EAAS/jC,GAAIiwD,cAUjB,MARoB,iBAAT/sE,GAAkD,IAA7BA,EAAMmL,QAAQ,aAC5C3M,KAAK+iG,eAAiB,GACtBvhG,EAAQA,EAAMkJ,QAAQ,UAAW,IACjC4T,GAAIiwD,eAAgB,GAGtB/sE,EAAQ2sE,GAAWE,cAAcjsE,KAAKpC,KAAMwB,GAC5C8c,GAAIiwD,cAAgBlsB,EACb7gD,GAETmuB,SAAU,SAAUmtB,GAClB98C,KAAK2uB,WAAWe,aAEhB1vB,KAAK2uB,WAAamuB,EAElB98C,KAAKiqB,SAASvS,YAAY1X,KAAK2uB,WAAWqB,UAE1ChwB,KAAKmpC,kBAEP65D,SAAU,SAAU97F,GAClB,IAAI+7F,EAASp0E,GAAG3nB,GAAI2jB,MAAM+0C,UAAY/wC,GAAG3nB,GAAI2jB,MAAMxS,WAAWunD,UAC9D5/D,KAAKksB,SAAS,EAAG+2E,KA4BjBC,IAzBSvjG,EAAQwxB,QAAQoxE,GAAOp0B,GAAYniE,EAAa29B,GAAO30B,MAuBvDrV,EAAQwxB,QArBT,CACVvrB,KAAM,SACNoE,MAAO,WACLhK,KAAKiqB,SAAWjqB,KAAKkjC,YACrBljC,KAAKkjC,YAAYzsB,UAAY,+LAE/BrC,KAAM,SAAU5S,GACdxB,KAAKgiG,WAAWxgG,IAElBwgG,WAAY,SAAUxgG,GACpB,OAAKxB,KAAK8M,UAAU,eAAgB,KACpC9M,KAAKmjG,YAAY3hF,IAAMhgB,EAChBA,GAFyC,IAIlD2hG,UAAW,WACT,OAAOnjG,KAAKkjC,YAAYh1B,qBAAqB,UAAU,IAEzDk1F,UAAW,WACT,OAAOpjG,KAAKmjG,YAAYE,gBAGQ15D,GAAO30B,KAAMhJ,GAErC,CACVpG,KAAM,SACNoE,MAAO,WACLhK,KAAKo/F,aAAe,GAEtBr1F,SAAU,CACRzF,KAAM,QAERk6F,aAAc,WACRx+F,KAAKsjG,mBAAkBnoC,EAAan7D,KAAKsjG,iBAAiBnoC,IAEzDn7D,KAAKujG,cACRvjG,KAAKgwB,SAAS7X,WAAa,kBAAoBnY,KAAKoN,UAAU9I,MAAQ,IACtEtE,KAAKujG,YAAc,QAGSriG,IAA1BlB,KAAKoN,UAAUyzD,SAAsB7gE,KAAK8gE,QAAU9gE,KAAKoN,UAAUyzD,aACxC3/D,IAA3BlB,KAAKoN,UAAUqjC,SAA6D,WAApCxwC,EAAQD,KAAKoN,UAAUqjC,WAAuBzwC,KAAK0gE,SAASlnD,KAAOxZ,KAAK0gE,SAASz0C,MAAQjsB,KAAK0gE,SAASnnD,IAAMvZ,KAAK0gE,SAASl1C,OAASxrB,KAAKoN,UAAUqjC,cAC/JvvC,IAA5BlB,KAAKoN,UAAUimE,WAAwBrzE,KAAK0gE,SAASlnD,KAAOxZ,KAAK0gE,SAASz0C,MAAQjsB,KAAKoN,UAAUimE,eACrEnyE,IAA5BlB,KAAKoN,UAAUkmE,WAAwBtzE,KAAK0gE,SAASnnD,IAAMvZ,KAAK0gE,SAASl1C,OAASxrB,KAAKoN,UAAUkmE,UAC7D,WAApCrzE,EAAQD,KAAKoN,UAAUqjC,UAAuB9wC,EAAQ8J,OAAOzJ,KAAK0gE,SAAU1gE,KAAKoN,UAAUqjC,SAAS,IACpGzwC,KAAK0gE,SAASlnD,MAAQxZ,KAAK0gE,SAASz0C,OAASjsB,KAAK0gE,SAASnnD,KAAOvZ,KAAK0gE,SAASl1C,UAAQxrB,KAAK0gE,SAAS8iC,SAAU,GAEhHxjG,KAAKyjG,gBAAkBzjG,KAAKoN,UAAUguB,aACxCp7B,KAAKkjC,YAAY1rB,MAAMgyB,YAAc,MAErCxpC,KAAK0jG,iBAAkB,GAGzB,IAAIvoC,EAAan7D,KAAK8+F,YAClB9+F,KAAKoN,UAAUguB,aAAYp7B,KAAKoN,UAAU8hB,OAAS,CACrD3V,KAAK,EACLC,MAAM,EACNyS,OAAO,EACPT,QAAQ,IAGVxrB,KAAKugE,oBAAoBpF,GAEzBomC,GAAWl4D,IAAIm1D,aAAap8F,KAAKpC,KAAMm7D,GAEvCn7D,KAAKwgE,mBAAmBrF,IAE1B3yB,SAAU,SAAUzT,EAAIC,GACtBD,EAAKA,GAAM,EACXC,EAAKA,GAAM,EACX,IAAI2uE,EAAa3jG,KAAK8gE,SAAW9gE,KAAKi8B,OAAOx6B,OAASzB,KAAKo/F,aAAe,GAE1E,GAAIp/F,KAAK0jG,iBAAmB1jG,KAAKyjG,cAAe,CAC9C,IAAIh6D,EAAWzpC,KAAKoN,UAAU8hB,OAE1Bua,IACF1U,IAAO0U,EAASjwB,KAAO,EAAI,IAAMiwB,EAASxd,MAAQ,EAAI,GACtD+I,IAAOyU,EAASlwB,IAAM,EAAI,IAAMkwB,EAASje,OAAS,EAAI,IAM1D,OAFKxrB,KAAKoN,UAAU0M,SAAQkb,GAAMh1B,KAAK0gE,SAASnnD,IAAMvZ,KAAK0gE,SAASl1C,QAAUxrB,KAAK6+F,sBAAwB8E,EAAa,IACnH3jG,KAAKoN,UAAUwM,QAAOmb,GAAM/0B,KAAK0gE,SAASlnD,KAAOxZ,KAAK0gE,SAASz0C,OAASjsB,KAAK6+F,sBAAwB,EAAI8E,IACvGpC,GAAWl4D,IAAIb,SAASpmC,KAAKpC,KAAM+0B,EAAIC,IAEhD6S,SAAU,SAAU51B,EAAGwH,GACrBzZ,KAAKy+F,cAAgB,CAACxsF,EAAGwH,GACzB5S,EAAqB7G,MACjBA,KAAKyjG,eAAiBzjG,KAAK0jG,gBAAiB/5D,GAAON,IAAIxB,SAASzlC,KAAKpC,KAAMiS,EAAGwH,GAAQ2vB,GAAKC,IAAIxB,SAASzlC,KAAKpC,KAAMiS,EAAGwH,GAE1HA,EAAIzZ,KAAKqoC,gBACTp2B,EAAIjS,KAAKioC,eACIjoC,KAAKoN,UAEPqe,SACThS,EAAIC,KAAKgC,IAAIjC,EAAGzZ,KAAKsgG,cAAc,IACnCruF,EAAIyH,KAAKgC,IAAIzJ,EAAGjS,KAAKsgG,cAAc,KAGrCtgG,KAAK2gE,gBAAgB1uD,EAAGwH,GAExBtS,EAAmBnH,EAAM,CAACiS,EAAGwH,KAE/BknD,gBAAiB,SAAU1uD,EAAGwH,GAC5B,IAAIkqF,EAAa3jG,KAAK8gE,SAAW9gE,KAAKi8B,OAAOx6B,OAASzB,KAAKo/F,aAAe,GAI1E,OAHA3lF,GAAKzZ,KAAK0gE,SAASnnD,IAAMvZ,KAAK0gE,SAASl1C,OACvCvZ,GAAKjS,KAAK0gE,SAASlnD,KAAOxZ,KAAK0gE,SAASz0C,MACpCjsB,KAAK6+F,sBAAuBplF,GAAKkqF,EAAgB1xF,GAAK0xF,EACnDpC,GAAWl4D,IAAIs3B,gBAAgBv+D,KAAKpC,KAAMiS,EAAGwH,IAEtD0vB,eAAgB,SAAUy6D,GACxB,GAAIA,EAAmB,CACrB5jG,KAAK+nC,WAAa,KAIlB,IAFA,IAAI9gC,EAAS,GAEJvG,EAAI,EAAGA,EAAIV,KAAKi8B,OAAOx6B,OAAQf,IAAK,CAC3C,IAAIkjB,EAAO5jB,KAAKi8B,OAAOv7B,GACvBuG,EAAOvG,GAAKkjB,EAAKxW,UACjB,IAAIqW,EAAIG,EAAK66E,gBAAkB76E,EAAK8/E,iBAAmB9/E,EAAKxW,UAAUguB,WAAa,MAAQ,MAC3FxX,EAAKoM,SAASxY,MAAMylC,eAAiBr5B,EAAKoM,SAASxY,MAAM0lC,kBAAoBt5B,EAAKoM,SAASxY,MAAM2lC,gBAAkBv5B,EAAKoM,SAASxY,MAAM4lC,iBAAmB35B,EAG5JzjB,KAAKugE,oBAAoBt5D,GAEzB,IAAK,IAAI7F,EAAK,EAAGA,EAAK6F,EAAOxF,OAAQL,IAC/B6F,EAAO7F,GAAIg6B,YAAcp7B,KAAKi8B,OAAO76B,GAAI46B,YAAYh8B,KAAKi8B,OAAO76B,GAAI46B,WAAW/0B,EAAO7F,IAG7FpB,KAAKwgE,mBAAmBxgE,KAAKi8B,QAG3B/O,GAAMM,qBACV+zE,GAAWl4D,IAAIF,eAAe/mC,KAAKpC,OAErCyjG,YAAa,WACX,OAAOzjG,KAAK0gE,SAAS8iC,SAAWxjG,KAAK8gE,QAAU,IAAM9gE,KAAK6jG,cAE5DtjC,oBAAqB,SAAUpF,GAC7B,IAAIn7D,KAAKyjG,eAAmBzjG,KAAKoN,UAAUguB,YAAqC,SAAvBp7B,KAAKoN,UAAU9I,KASjE,CACL,IAAK,IAAIgM,EAAM,EAAGA,EAAM6qD,EAAW15D,OAAQ6O,IACzC6qD,EAAW7qD,GAAK4e,OAASxnB,EAAM1H,KAAKoN,UAAU8hB,QAGhD,IAAIpd,GAAO,EACP9R,KAAK6jG,eAAc/xF,GAAO,GAC9B,IAAIgyF,EAAY3oC,EAAW15D,OAE3B,GAAIzB,KAAK6+F,sBAAuB,CAC9B,IAAK,IAAI3pC,EAAM,EAAGA,EAAM4uC,EAAY,EAAG5uC,IACrCiG,EAAWjG,GAAKhmC,OAAO3V,IAAM4hD,EAAWjG,GAAKhmC,OAAO1D,OAAS1Z,EAG/D,GAAIgyF,EAAY,EAAG,KACU,QAAvB9jG,KAAKoN,UAAU9I,OAAgB62D,EAAW,GAAGjsC,OAAO1D,OAAS1Z,GAE1DqpD,EAAW2oC,EAAY,GAAGvgF,QAAUugF,EAAY,GACrDA,IAGEA,EAAY,IAAG3oC,EAAW2oC,EAAY,GAAG50E,OAAO3V,IAAMzH,QAEvD,CACL,IAAK,IAAIujD,EAAM,EAAGA,EAAMyuC,EAAY,EAAGzuC,IACrC8F,EAAW9F,GAAKnmC,OAAO1V,KAAO2hD,EAAW9F,GAAKnmC,OAAOjD,MAAQna,EAG/D,GAAIgyF,EAAY,EAAG,KACU,QAAvB9jG,KAAKoN,UAAU9I,OAAgB62D,EAAW,GAAGjsC,OAAOjD,MAAQna,GAChEqpD,EAAW2oC,EAAY,GAAG50E,OAAO1V,KAAO1H,EAEjCgyF,EAAY,GAAK3oC,EAAW2oC,EAAY,GAAGvgF,QAChDugF,IAGEA,EAAY,IAAG3oC,EAAW2oC,EAAY,GAAG50E,OAAO1V,KAAO1H,UA5C/D,IAAK,IAAIpR,EAAI,EAAGA,EAAIy6D,EAAW15D,OAAQf,IAChCy6D,EAAWz6D,GAAGwuB,QAAWisC,EAAWz6D,GAAG06B,aAAY+/B,EAAWz6D,GAAGwuB,OAAS,CAC7E3V,KAAK,EACLC,MAAM,EACNyS,OAAO,EACPT,QAAQ,KA4ChBg1C,mBAAoB,SAAUrF,GAG5B,IAFA,IAAIz+C,EAAQ,EAEHhc,EAAI,EAAGA,EAAIy6D,EAAW15D,OAAQf,IAAK,CAC1C,IAAIkjB,EAAO5jB,KAAKi8B,OAAOv7B,GACnBqjG,EAAUngF,EAAKxW,UAAU8hB,OAE7B,GAAItL,EAAKxW,UAAUmW,QAAUvjB,KAAKi8B,OAAOv7B,EAAI,GAAI,CAC/C,IAAIsjG,EAAShkG,KAAKi8B,OAAOv7B,EAAI,GAAG0M,UAAU8hB,OACrC60E,EAAQxqF,MAAKyqF,EAAOzqF,KAAM,GAC1BwqF,EAAQvqF,OAAMwqF,EAAOxqF,MAAO,GAC7B9Y,GAAKgc,GAAOA,IAGlB1c,KAAKigG,uBAAuBr8E,EAAKoM,SAASxY,MAAOoM,EAAKxW,UAAU8hB,QAQlE,IALA,IAAI1X,EAAQxX,KAAK6+F,sBAAwB,aAAe,YACpDoF,EAAajkG,KAAK6+F,sBAAwB,YAAc,aACxDpuD,EAAUzwC,KAAK6+F,sBAAwB7+F,KAAK0gE,SAASlnD,KAAOxZ,KAAK0gE,SAASnnD,IAC1E2qF,EAAelkG,KAAK6+F,sBAAwB7+F,KAAK0gE,SAASnnD,IAAMvZ,KAAK0gE,SAASlnD,KAEzEk8C,EAAM,EAAGA,EAAMyF,EAAW15D,OAAQi0D,IACzC11D,KAAKi8B,OAAOy5B,GAAK1lC,SAASxY,MAAMA,GAASi5B,EAAU,KAIjDzwC,KAAKi8B,OAAOx6B,SAAQzB,KAAKi8B,OAAOvf,GAAOsT,SAASxY,MAAMysF,GAAcC,EAAe,MAEvF,IAAK,IAAI7mF,EAAQX,EAAQ,EAAGW,EAAQ89C,EAAW15D,OAAQ4b,IACrDrd,KAAKi8B,OAAO5e,GAAO2S,SAASxY,MAAMysF,GAAcjkG,KAAK8gE,QAAU,MAGnE2M,YAAa,SAAUjsE,GAKrB,OAJAxB,KAAK8gE,aAA6C,IAA5B9gE,KAAKmkG,YAAY3iG,GAAyBxB,KAAKmkG,YAAY3iG,GAASxB,KAAKmkG,YAAkB,KACjHnkG,KAAK0gE,SAASlnD,KAAOxZ,KAAK0gE,SAASz0C,MAAQjsB,KAAK0gE,SAASnnD,IAAMvZ,KAAK0gE,SAASl1C,YAA4C,IAA5BxrB,KAAKmkG,YAAY3iG,GAAyBxB,KAAKokG,aAAa5iG,GAASxB,KAAKokG,aAAmB,KAC1LpkG,KAAK6jG,aAAwB,YAATriG,GAAgC,SAATA,EAC9B,YAATA,IAAqBxB,KAAKoN,UAAUguB,YAAa,GAC9C55B,GAETswB,MAAO,WACL9xB,KAAKmkG,YAAcv2D,GAAQ2B,aAC3BvvC,KAAKokG,aAAex2D,GAAQ+B,iBAG5B00D,GAAS1kG,EAAQwxB,QAAQ+xE,GAAO3B,GAAWvsF,MAC3CsvF,GAAS,CACXj7D,IAAK65D,GACLluF,KAAMqvF,IAIRA,GAAOjiG,MAAK,GAEZ,IAAImiG,GAAQ,CACV3+F,KAAM,YACNmE,SAAU,CACRy6F,WAAY,gBACZ/uC,OAAO,EACPh0B,WAAW,GAEbz3B,MAAO,WACLhK,KAAKgwB,SAASvY,aAAa,OAAQ,WAEnCzX,KAAKgwB,SAASvY,aAAa,uBAAwB,SAErDkY,SAAU,SAAU80E,GAClBH,GAAOj7D,IAAI1Z,SAAS/mB,MAAM5I,KAAMsG,WAE5Bm+F,EAAQC,kBAAoBD,EAAQt6E,SACtCs6E,EAAQt6E,WAGZq0E,aAAc,WAIZ,IAHA,IAAImG,EAAQ3kG,KAAKoN,UAAUo3F,WACvB9zE,EAAQ1wB,KAAK8+F,YAERp+F,EAAI,EAAGA,EAAIgwB,EAAMjvB,OAAQf,KAC3BgwB,EAAMhwB,GAAGqY,OAAQ2X,EAAMhwB,GAAGsT,QAAY0c,EAAMhwB,GAAGsU,MAAS0b,EAAMhwB,GAAGowB,QAAOJ,EAAMhwB,GAAGsU,KAAO2vF,GACzF37F,EAAY0nB,EAAMhwB,GAAG+gC,aAAY/Q,EAAMhwB,GAAG+gC,UAAYzhC,KAAKoN,UAAUq0B,WAG3EzhC,KAAK4kG,uBAAwB,EAE7BN,GAAOj7D,IAAIm1D,aAAap8F,KAAKpC,MAE7BA,KAAK4kG,uBAAwB,EAE7B,IAAK,IAAIxjG,EAAK,EAAGA,EAAKpB,KAAKi8B,OAAOx6B,OAAQL,IACpCpB,KAAKi8B,OAAO76B,GAAIwE,MAAQ++F,GAAO3kG,KAAKi8B,OAAO76B,GAAI+oB,UACnDnqB,KAAKi8B,OAAO76B,GAAIyjG,eAAgB,EAKlC,IAFA,IAAIxyF,GAAQ,EAEH/B,EAAMtQ,KAAKi8B,OAAOx6B,OAAS,EAAG6O,GAAO,IAAM+B,EAAO/B,IACpDtQ,KAAKi8B,OAAO3rB,GAAKlD,UAAUmW,SAC9BvjB,KAAKi8B,OAAO3rB,GAAKu0F,eAAgB,EACjCxyF,GAAQ,IAIdyyF,WAAY,SAAU9vF,GACpB,IAA6B,IAAzBhV,KAAKoN,UAAUqoD,QAAkD,IAA/Bz1D,KAAK4kG,sBACzC,IAAK,IAAIlkG,EAAI,EAAGA,EAAIV,KAAKi8B,OAAOx6B,OAAQf,IAClCsU,GAAQhV,KAAKi8B,OAAOv7B,KAAOV,KAAKi8B,OAAOv7B,GAAG0M,UAAUq0B,WAAazhC,KAAKi8B,OAAOv7B,GAAGq9D,UAAU/9D,KAAKi8B,OAAOv7B,GAAGq9D,WAI7G/oD,EAAKlI,YACPkI,EAAKlI,UAAU,aAAc,IAE7B4oB,GAAM1gB,EAAMhV,KAAK6oC,wBAGrBk8D,aAAc,SAAU/vF,GACtB,IAA6B,IAAzBhV,KAAKoN,UAAUqoD,OAAkBz1D,KAAK4kG,sBAAuB,OAAO,EAExE,IAAK,IAAIlkG,EAAI,EAAGA,EAAIV,KAAKi8B,OAAOx6B,OAAQf,IACtC,GAAIsU,GAAQhV,KAAKi8B,OAAOv7B,KAAOV,KAAKi8B,OAAOv7B,GAAG0M,UAAUq0B,WAAazhC,KAAKi8B,OAAOv7B,GAAGspB,cAAgBhqB,KAAKi8B,OAAOv7B,GAAG2+F,SAAU,OAAO,EAGtI,OAAO,GAETvtE,MAAO,WACLwyE,GAAOj7D,IAAIvX,MAAM1vB,KAAKpC,MAClB4tC,GAAQ8C,gBAAe1wC,KAAK+J,SAASzF,KAAOspC,GAAQ8C,iBAIxDs0D,GAAS,CACX37D,IAAKk7D,GACLvvF,KAHWrV,EAAQwxB,QAAQozE,GAAOD,GAAOtvF,OAgBvCiwF,IAFStlG,EAAQwxB,QART,CACVvrB,KAAM,eACNmE,SAAU,CACRzF,KAAM,YACNmxD,MAAO,QACPh0B,WAAW,IAGqBujE,GAAOhwF,MAE/B,CACVpP,KAAM,gBACNoE,MAAO,SAAU/C,GACfjH,KAAKgwB,SAASvZ,UAAY,kCAEHxP,EAAOC,GAAK,wLACnClH,KAAKkjC,YAAcljC,KAAKgwB,SACxBhwB,KAAKu6C,SAAWv6C,KAAKkjC,YAAY7yB,WAAW,GACvCpJ,EAAO+M,SAAQhU,KAAKu6C,SAAS/iC,MAAMghB,QAAU,QAClDx4B,KAAKklG,WAAallG,KAAKkjC,YAAY7yB,WAAW,GAAGA,WAAW,GAC5DrQ,KAAKmlG,YAAcnlG,KAAKkjC,YAAY7yB,WAAW,GAAGA,WAAW,GAC7DrQ,KAAKo8C,SAAWp8C,KAAKkjC,YAAY7yB,WAAW,GAC5CrQ,KAAKgwB,SAAS7X,WAAa,uBAC3BnY,KAAKq8C,WAAar8C,KAAK2uB,WAAa,KACpC3uB,KAAKi8B,QAAS,EAEdj8B,KAAKo8C,SAAS3kC,aAAa,OAAQ,YAEnCzX,KAAKu6C,SAAS9iC,aAAa,OAAQ,OAEnCzX,KAAK6M,YAAY,aAAc7M,KAAK+oC,cAEtClZ,QAAS,WACP7vB,KAAK68C,eAEPltB,SAAU,SAAUmtB,GAClB98C,KAAK2uB,WAAWe,aAEhB1vB,KAAK2uB,WAAamuB,EAElB98C,KAAKo8C,SAAS1kC,YAAY1X,KAAK2uB,WAAWqB,UAE1ChwB,KAAKy1B,UAEPujC,IAEA,cACAtqC,cAAe,WACb,MAAO,CAAC1uB,KAAK2uB,aAEfkuB,YAAa,SAAUr7C,GAerB,MAdsB,UAAlBvB,EAAQuB,KAAoBA,EAAQ,CACtCqoB,SAAUroB,IAEZA,EAAM0tB,OAAS,CACb3V,KAAK,EACLC,MAAM,EACNyS,OAAO,EACPT,QAAQ,GAEV0B,GAAMQ,aAAe1tB,KACrBA,KAAK2uB,WAAaN,GAAG6C,MAAM1vB,GAE3BxB,KAAKo8C,SAAS1kC,YAAY1X,KAAK2uB,WAAWqB,UAEnCxuB,GAET4jG,cAAe,SAAU5jG,GAEvB,OADIA,IAAOA,EAAQ6mB,GAAS7mB,IACrBA,GAET6jG,iBAAkB,SAAU7jG,GAE1B,OADIA,IAAOA,EAAQ6mB,GAAS7mB,IACrBA,GAETgnC,SAAU,SAAUzT,EAAIC,GACtB,IAAIhuB,EAAOhH,KAAK2uB,WAAW6Z,SAAS,EAAG,GAGnCiB,EAAWzpC,KAAKoN,UAAU8hB,OAE1Bua,IACF1U,IAAO0U,EAASjwB,KAAO,EAAI,IAAMiwB,EAASxd,MAAQ,EAAI,GACtD+I,IAAOyU,EAASlwB,IAAM,EAAI,IAAMkwB,EAASje,OAAS,EAAI,IAGxD,IAAIxX,EAAS,EACTyrC,EAAYrW,GAAKC,IAAIb,SAASpmC,KAAKpC,KAAM,EAAG,GAEhDy/C,EAAU,IAAMA,EAAU,IAAMz4C,EAAK,IAAM+tB,EACvC0qB,EAAU,IAAM,MAAQA,EAAU,GAAKz4C,EAAK,IAChDy4C,EAAU,IAAM1qB,EAChB0qB,EAAU,IAAMA,EAAU,IAAMz4C,EAAK,IAAMguB,EAC3C,IAAIswE,EAAc7lD,EAAU,GAAK,IAoBjC,OAnBK6lD,IAAa7lD,EAAU,GAAKz4C,EAAK,IACtCy4C,EAAU,IAAMzqB,EAEZh1B,KAAKmvB,gBAAgB0vE,sBACnB7+F,KAAKoN,UAAUq0B,UACjBge,EAAU,GAAKA,EAAU,GAAKz/C,KAAKulG,iBAAmBvwE,EAC7Ch1B,KAAKoN,UAAU4G,SAAQA,EAAShU,KAAKoN,UAAUo4F,eAEtDxlG,KAAKoN,UAAUq0B,YAAWge,EAAU,GAAKA,EAAU,GAAKz/C,KAAKulG,iBAAmBxwE,GAChF/0B,KAAKoN,UAAU4G,SAAQA,EAAShU,KAAKoN,UAAUo4F,eAIhDF,IACH7lD,EAAU,IAAMzrC,EAChByrC,EAAU,IAAMzrC,GAGlB1M,EAAetH,KAAMy/C,GAAW,GACzBA,GAETptB,SAAU,CACRozE,2BAA4B,SAAU1gG,GAGpC,OAFA/E,KAAK0lG,QAAQ3gG,IAEN,GAET4gG,6BAA8B,SAAU5gG,GAGtC,OAFA/E,KAAK0lG,QAAQ3gG,IAEN,IAGX2gG,QAAS,WACP1lG,KAAKH,OAAO,aAAcG,KAAKoN,UAAUq0B,YAE3CijE,iBAAkB,SAAUljG,GAC1B,IAA8B,IAA1BxB,KAAKoN,UAAU4G,OAAnB,CAEA,IAAIrG,EAAS3N,KAAKmvB,gBAElB,GAAIxhB,EAAQ,CACV,GAAKnM,EACH,GAAImM,EAAOo3F,aAAa/kG,MAAOA,KAAK4lG,gBAAiB,CACnD,IAAI7zF,EAAU,EACd,GAAIpE,EAAOsuB,OAAOx6B,OAAS,EAAG,IAAK,IAAIf,EAAI,EAAGA,EAAIiN,EAAOsuB,OAAOx6B,OAAQf,IAAK,CAC3E,IAAImlG,EAAOl4F,EAAOsuB,OAAOv7B,GAEzB,GAAIV,MAAQ6lG,GAAQA,EAAK77E,aAAe67E,EAAKC,OAAQ,CACnDD,EAAKC,SAEL9lG,KAAK4lG,YAEL7zF,EAAU,EACV,OAGJ,IAAKA,EAAS,YAfN/R,KAAK+lG,UAkBjB/lG,KAAKoN,UAAUq0B,UAAYjgC,EACtBA,GAAOmM,EAAOm3F,WAAW9kG,MAC9BA,KAAKmqB,UACA+C,GAAMU,cAAc5tB,KAAKy1B,SAC9B9nB,EAAOb,UAAU,WAAatL,EAAQ,WAAa,UAAW,CAACxB,KAAKoN,UAAUlG,KAC9ElH,KAAKoN,UAAU44F,UAAYxkG,EAG7B,OAAOA,IAETu8D,SAAU,WACR/9D,KAAKH,OAAO,aAAa,GAEzB28B,GAAUsC,gBAAgB9+B,OAE5B8lG,OAAQ,WACN9lG,KAAKH,OAAO,aAAa,IAE3B8oC,MAAO,WACL3oC,KAAKyyB,QAEPyP,MAAO,WACLliC,KAAK00B,QAEPqxE,QAAS,WACP/lG,KAAKo8C,SAAS5kC,MAAMghB,QAAU,GAC9Bpd,GAAUpb,KAAK6qB,MAAO,aACtBzP,GAAUpb,KAAKu6C,SAAU,aAEzBv6C,KAAKu6C,SAAS9iC,aAAa,gBAAiB,SAE9CmuF,UAAW,WACL5lG,KAAKoN,UAAU64F,YAAWjmG,KAAKklG,WAAWzuF,UAAYzW,KAAKoN,UAAU64F,aACzEjmG,KAAKo8C,SAAS5kC,MAAMghB,QAAU,OAC9Btd,GAAOlb,KAAK6qB,MAAO,aACnB3P,GAAOlb,KAAKu6C,SAAU,aAEtBv6C,KAAKu6C,SAAS9iC,aAAa,gBAAiB,UAE9C0S,QAAS,WACP,IAAI+7E,EAAclmG,KAAKoN,UAAUpN,KAAKoN,UAAUq0B,UAAY,YAAc,WAAazhC,KAAKoN,UAAU4G,OAElGkyF,IACFlmG,KAAKklG,WAAWzuF,UAAYyvF,IAE5BlmG,KAAKmlG,YAAY1tF,aAAa,aAAcyuF,MAG9C,IAAI5qF,EAAMtb,KAAKmvB,gBAAgB0vE,sBAAwB,WAAa,aAEhE7+F,KAAKgwB,SAAS7X,UAAUxL,QAAQ,IAAM2O,GAAO,GAC/CJ,GAAOlb,KAAKgwB,SAAU1U,IAG1BiqF,eAAgB,WACd,OAAOvlG,KAAKoN,UAAUq0B,UAAYzhC,KAAKoN,UAAU+4F,gBAAkBnmG,KAAKoN,UAAUo4F,cAEpF39D,SAAU,SAAU51B,EAAGwH,GACrB,GAAIkwB,GAAON,IAAIxB,SAASzlC,KAAKpC,KAAMiS,EAAGwH,IAAMzZ,KAAKulG,kBAAoBvlG,KAAKomG,sBAAuB,CAC/Fn0F,EAAIjS,KAAKioC,eACTxuB,EAAIzZ,KAAKqoC,gBAET,IAAIg+D,EAAarmG,KAAKomG,sBAAwBpmG,KAAKulG,iBAGnD,GAAIvlG,KAAKoN,UAAU4G,OAMjB,GALAhU,KAAKu6C,SAAS/iC,MAAMsC,OAASusF,EAAa,KAC1CrmG,KAAKu6C,SAAS/iC,MAAMoC,MAAQ,OAC5B5Z,KAAKu6C,SAAS/iC,MAAM8G,GAAIqB,WAAa,GACrC3f,KAAKu6C,SAAS/iC,MAAM0lC,mBAAqBl9C,KAAKoN,UAAUq0B,UAAY,EAAI,GAAK,KAEzEzhC,KAAKmvB,gBAAgB0vE,wBAA0B7+F,KAAKoN,UAAUq0B,UAChEhoB,GAAKzZ,KAAKulG,sBACL,GAAIvlG,KAAKoN,UAAUq0B,UAAW,CAEnCzhC,KAAKu6C,SAAS/iC,MAAMoC,MAAQH,EAAI,KAChCzZ,KAAKu6C,SAAS/iC,MAAMsC,OAAS7H,EAAI,EAAI,KACrC,IAAInO,EAAI4V,KAAKqgB,MAAMtgB,EAAI,EAAIxH,EAAI,IAAMA,EAAIjS,KAAKoN,UAAU+4F,iBAAmB,EAC3EnmG,KAAKu6C,SAAS/iC,MAAM8G,GAAIqB,WAAa,2BAA6B7b,EAAI,QAAUA,EAAI,GAAK,MAIxF9D,KAAKoN,UAAUq0B,YAClBzhC,KAAK2uB,WAAWkZ,SAAS51B,EAAGwH,GAE5BzZ,KAAKsmG,aAAe7sF,QAEjB,IAAKzZ,KAAKoN,UAAUq0B,UAAW,CACpC,IAAI1oB,EAAO/Y,KAAK2uB,WACZ3uB,KAAKsmG,cAAcvtF,EAAK8uB,SAAS7nC,KAAKioC,eAAgBjoC,KAAKsmG,gBAGnEx0E,MAAO,WACL9xB,KAAK+J,SAASo8F,gBAAkBnmG,KAAK+J,SAASy7F,aAAe53D,GAAQM,UAAkC,EAAtBN,GAAQpE,aAE3Fz/B,SAAU,CACRiK,QAAQ,EACRiyF,WAAW,EACXltF,KAAM,MAKNwtF,IAFS5mG,EAAQwxB,QAAQ8zE,GAAOv8B,GAAa18D,EAAa29B,GAAO30B,MAEzD,CACVpP,KAAM,aACNmE,SAAU,CACRu1B,IAAK,KAEPt1B,MAAO,SAAU/C,GACf,IAAI2e,EAAQ5lB,KAERs/B,EAAMr4B,EAAOq4B,KAAO,IACpBj1B,EAAOD,EAAOnD,EAAOunB,WACrBxnB,EAAc,KAAPs4B,EAAa,QAAU,SAC9BuhC,EAAS55D,EAAO45D,OAAS55D,EAAO45D,OAAS,KAAO,EACpD7gE,KAAKwmG,cAAuB,KAAPlnE,EAAa,OAAS,MAC3Ct/B,KAAKgwB,SAAWlY,GAAO,MAAO,CAC5B0D,MAAS,+BAAiC8jB,IAGxCuhC,IACcA,EAAL,KAAPvhC,EAAqBuhC,EAAS,MAAQA,EAAqB,KAAOA,EAAS,MAAQA,GAGzF7gE,KAAKymG,SAAW3uF,GAAO,MAAO,CAC5B0D,MAAS,uBAAyB8jB,EAClC9nB,MAASqpD,EAAS,WAAaA,EAAS,IACvC,4CACH7gE,KAAK0mG,WAAa5uF,GAAO,MAAO,CAC9B0D,MAAS,uBAAyB8jB,IAGhCr4B,EAAOD,KACThH,KAAK0mG,WAAWlvF,MAAMxQ,GAAQC,EAAOD,IAASC,EAAO0/F,OAAS,EAAI,GAAK,KACvE3mG,KAAKymG,SAASjvF,MAAMxQ,GAAQC,EAAOD,GAAQ,MAGzCC,EAAO2/F,SAAQ5mG,KAAKymG,SAASjvF,MAAMovF,OAAS5mG,KAAK0mG,WAAWlvF,MAAMovF,OAAS5mG,KAAKgwB,SAASxY,MAAMovF,OAAS3/F,EAAO2/F,QACnH5mG,KAAK6mG,QAAUp6E,GAAQpiB,EAAMiU,GAAIm4B,MAAM5E,KAAM7xC,KAAK8mG,QAAS,CACzDr+F,KAAMzI,OAERA,KAAK+mG,MAAQt6E,GAAQniB,SAAUgU,GAAIm4B,MAAM7Z,GAAI58B,KAAKgnG,MAAO,CACvDv+F,KAAMzI,OAGJse,GAAIa,QACNnf,KAAKinG,UAAYx6E,GAAQpiB,EAAMiU,GAAIa,MAAM0yB,MAAM,SAAU9sC,GACvD,OAAO6gB,EAAMkhF,QAAQ/hG,EAAG,WACvB,CACD8nB,SAAS,IAEX7sB,KAAKknG,QAAUz6E,GAAQniB,SAAUgU,GAAIa,MAAMyd,GAAI58B,KAAKgnG,MAAO,CACzDv+F,KAAMzI,QAIVA,KAAKymG,SAASjvF,MAAMxX,KAAKwmG,eAAiBxmG,KAAK0mG,WAAWlvF,MAAMxX,KAAKwmG,eAAiBv/F,EAAOyV,MAAQ,KACrGrS,EAAKqN,YAAY1X,KAAKgwB,UACtB3lB,EAAKqN,YAAY1X,KAAKymG,UACtBp8F,EAAKqN,YAAY1X,KAAK0mG,aAExBM,MAAO,WACLhnG,KAAK8M,UAAU,cAAe,CAAC9M,KAAKmnG,eACpC76E,GAAYtsB,KAAK6mG,SACjBv6E,GAAYtsB,KAAK+mG,OAEbzoF,GAAIa,QACNmN,GAAYtsB,KAAKinG,WACjB36E,GAAYtsB,KAAKknG,UAGnBj8F,GAAOjL,KAAKgwB,UACZ/kB,GAAOjL,KAAKymG,UACZx7F,GAAOjL,KAAK0mG,YACZ1mG,KAAKgwB,SAAWhwB,KAAKymG,SAAWzmG,KAAK0mG,WAAa,MAEpDI,QAAS,SAAU/hG,EAAGuyC,GACpB,IAAI8vD,EAAWhtF,GAAIrV,GACnB/E,KAAKmnG,cAAsC,KAAtBnnG,KAAKoN,UAAUkyB,IAAa8nE,EAASn1F,EAAIm1F,EAAS3tF,GAAKzZ,KAAKoN,UAAUsP,MAAQ1c,KAAKoN,UAAUg6F,SAClHpnG,KAAKymG,SAASjvF,MAAMxX,KAAKwmG,eAAiBxmG,KAAKmnG,aAAe,KAC9DnnG,KAAK8M,UAAU,WAAY,CAAC9M,KAAKmnG,eACjB,UAAZ7vD,GAAqB98B,GAAazV,MAKtCsiG,IAFS1nG,EAAQwxB,QAAQo1E,GAAOv6F,EAAam2B,IAErC,CACVv8B,KAAM,UACNmE,SAAU,CACR6P,MAAO,EACPE,OAAQ,GAEV9P,MAAO,SAAU/C,GACf,IAAI2e,EAAQ5lB,KAEZ8F,EAAO9F,KAAKmvB,gBAAiB,iDAC7BnvB,KAAKgwB,SAAS7X,WAAa,iBAE3B,IAAI6kB,EAAQh9B,KAAKmvB,gBAAgB2xC,QAEjCv0C,GAAOvsB,KAAKgwB,SAAU1R,GAAIm4B,MAAM5Z,MAAM,SAAU93B,GAC9C,OAAO6gB,EAAM0hF,QAAQviG,EAAG,YAGtBuZ,GAAIa,OAAOoN,GAAOvsB,KAAKgwB,SAAU1R,GAAIa,MAAM0d,MAAM,SAAU93B,GAC7D,OAAO6gB,EAAM0hF,QAAQviG,EAAG,YAG1B,IAAIu6B,EAAMt/B,KAAKunG,gBAEfvnG,KAAKwnG,aAAc,EACnBxnG,KAAKynG,aAAenoE,EACpBt/B,KAAK0nG,aAAsB,KAAPpoE,EAAa,QAAU,SAChC,KAAPA,EAAYr4B,EAAO6S,OAAS,EAAO7S,EAAO2S,MAAQ,EAElDojB,EAAQ,GACVh9B,KAAKgwB,SAAS7X,WAAa,mBAAqBmnB,EAChDt/B,KAAKgwB,SAASxY,MAAMmwF,YAAc,IAAM3qE,EAAQ,KACrC,KAAPsC,EAAYr4B,EAAO2S,MAAQojB,EAAW/1B,EAAO6S,OAASkjB,EAC1Dh9B,KAAKq/F,UAAW,GACXr/F,KAAKgwB,SAAS7X,WAAa,kBAAoBmnB,EAEtDt/B,KAAKgwB,SAASvZ,UAAY,4CACf,KAAP6oB,GAActC,EAAQ,IAAGh9B,KAAKgwB,SAASxY,MAAMowF,aAAe,KAAO3gG,EAAO6S,QAAU9Z,KAAK+J,SAAS+P,QAAU,MAEhH9Z,KAAKgwB,SAASvY,aAEd,qBAAsB,QAEtBzX,KAAKgwB,SAASvY,aAAa,WAAY,MAEvCzX,KAAKgwB,SAASvY,aAAa,eAAgB,UAE7C6vF,QAAS,SAAUO,EAAGvwD,GACpB,IAAItxB,EAAShmB,KAET0wB,EAAQ1wB,KAAK8nG,mBAGjB,GAAIp3E,IAAU1wB,KAAKoN,UAAUyT,SAAU,CACrC7gB,KAAKwnG,aAAc,EACnBxnG,KAAK+nG,YAAc3tF,GAAIytF,GACvB7nG,KAAKgoG,SAAW,GAEhBhoG,KAAKgwB,SAASvY,aAAa,eAAgB,QAE3C,IAAK,IAAI/W,EAAI,EAAGA,EAAI,EAAGA,IACrBgwB,EAAMhwB,GAAGmqB,MAAMpT,aAAa,kBAAmB,QAGjDzX,KAAKgwB,SAASvY,aAAa,kBAAmB,QAE9CzX,KAAKioG,SAASJ,EAAGn3E,EAAM,IAEvB,IAAIvsB,EAAUsoB,GAAQniB,SAAUgU,GAAIg5B,GAAS1a,IAAI,SAAU73B,GAEzD,OADAunB,GAAYnoB,GACL6hB,EAAOkiF,MAAMnjG,QAI1BmjG,MAAO,WACLloG,KAAKwnG,aAAc,EACnBxnG,KAAK+nG,aAAc,GAErBE,SAAU,SAAUljG,EAAG6e,GACrB,IAAI0b,EAAK6oE,EAAYlqF,EAAQmqF,EAAW1rF,EACxC4iB,EAAMt/B,KAAKynG,aAGXznG,KAAKmvB,gBAAgBa,SAASxY,MAAM0Y,SAAW,WAC/CjS,EAASrF,GAAO5Y,KAAKgwB,UACrBo4E,EAAYxvF,GAAO5Y,KAAKmvB,gBAAgBa,UACxCtT,EAAQuB,EAAOqhB,GAAO8oE,EAAU9oE,GAChC6oE,EAAavvF,GAAOgL,EAAKiH,OAAOyU,GAAO1mB,GAAO5Y,KAAKmvB,gBAAgBtE,OAAOyU,GAC1Et/B,KAAKqoG,aAAe,CAAC/oE,EAAK1b,EAAMlH,EAAOyrF,GAGvCnoG,KAAKsoG,aAAe,IAAIj6E,GAAGk6E,WAAW,CACpC/5E,UAAWxuB,KAAKmvB,gBAAgBa,SAChCsP,IAAKA,EACL8nE,SAAUpnG,KAAK+nG,YAAYzoE,GAC3B5iB,MAAOA,EAAQ,EACf5C,OAAQ9Z,KAAKooC,QACbxuB,MAAO5Z,KAAKgoC,OACZ2+D,OAAQ,EACR9lC,OAAQ7gE,KAAKmvB,gBAAgBuxC,SAAiB,MAARphC,EAAc,OAAS,SAI/Dt/B,KAAKsoG,aAAaz7F,YAAY,cAAepE,EAAKzI,KAAKwoG,OAAQxoG,OAI/DA,KAAKsoG,aAAaz7F,YAAY,WAAYpE,EAAKzI,KAAKyoG,iBAAkBzoG,OAEtEkb,GAAO5Q,SAASyO,KAAM,iBAAkB,IAE1CwuF,cAAe,WACb,OAAOvnG,KAAKmvB,gBAAgB0vE,sBAAwB,IAAM,KAE5D4J,iBAAkB,WAChB,IAAI/3E,EAAOg4E,EAAOxjB,EAAM5lD,EAAK5+B,EAAGioG,EAAQC,EAAYxhG,EAAOyhG,EAE3D,GAAI7oG,KAAKqoG,aAaP,IAZA33E,EAAQ1wB,KAAK8nG,mBACbxoE,EAAMt/B,KAAKqoG,aAAa,GAGxBnjB,EAAOllF,KAAKsoG,aAAanB,aAAennG,KAAKqoG,aAAa,GAG1DjhG,EAAQpH,KAAK8oG,oBAAoBp4E,EAAO4O,EAAK4lD,GAG7C2jB,EAAYn4E,EAAM,GAAG,IAAM1wB,KAAK0nG,cAAgBh3E,EAAM,GAAG,IAAM1wB,KAAK0nG,cAE/DhnG,EAAI,EAAGA,EAAI,EAAGA,IAAK,CACtBgoG,EAAQhoG,GAAKwkF,EAAOA,EAKpByjB,EAASj4E,EAAMhwB,GAAG8nC,SAAS,EAAG,GAG9B,IAAItlB,EAAa,KAAPoc,EAAaqpE,EAAO,GAAKA,EAAO,GACtCjtF,EAAa,KAAP4jB,EAAaqpE,EAAO,GAAKA,EAAO,GAO1C,GALIzlF,IAAQxH,IACVwH,EAAMwN,EAAMhwB,GAAG0M,UAAiB,KAAPkyB,EAAa,YAAc,aAAe,EACnE5jB,EAAMgV,EAAMhwB,GAAG0M,UAAiB,KAAPkyB,EAAa,YAAc,aAAe,KAGjEopE,EAAQ,GAAKhtF,GAAOA,GAAOtU,EAAM1G,IAAMgoG,EAAQ,GAAKxlF,GAAOA,GAAO9b,EAAM1G,GAQ1E,OAPAV,KAAKgoG,SAAStnG,GAAKgoG,EAAQ,EAAIhtF,EAAMwH,EAGrC0lF,EAAa5oG,KAAK+oG,qBAAqBr4E,EAAO4O,QAG9Ct/B,KAAKsoG,aAAa7B,SAASjvF,MAAa,KAAP8nB,EAAa,MAAQ,QAAUt/B,KAAKqoG,aAAa,GAAKO,EAAW,GAAK,MAE9FxhG,EAAM1G,GAAK,EAEpBV,KAAKsoG,aAAa7B,SAASjvF,MAAa,KAAP8nB,EAAa,MAAQ,QAAUt/B,KAAKqoG,aAAa,GAAK3nG,EAAImoG,EAAY,EAAI,KAE3G7oG,KAAKgoG,SAAStnG,GAAK,OAK3BonG,iBAAkB,WAChB,IAAIp3E,EAAOhwB,EAAG4O,EAGd,IAFAohB,EAAQ1wB,KAAKmvB,gBAAgB8M,OAExBv7B,EAAI,EAAGA,EAAIgwB,EAAMjvB,OAAQf,IAC5B,GAAIgwB,EAAMhwB,IAAMV,KAGd,OAFAsP,EAAM,CAACtP,KAAKgpG,WAAWt4E,EAAOhwB,EAAG,GAAG,GAAKV,KAAKgpG,WAAWt4E,EAAOhwB,EAAG,EAAG,KAC7D,IAAO4O,EAAI,KAAIA,EAAM,MACvBA,GAIb05F,WAAY,SAAUt4E,EAAOhwB,EAAG2lD,EAAM/mB,GACpC,IAAI1b,EAAO8M,EAAMhwB,EAAI4+B,EAAM+mB,GAC3B,OAAIziC,GAAQA,EAAKxW,UAAUmW,OAAevjB,KAAKgpG,WAAWt4E,EAAOhwB,EAAG2lD,EAAO,EAAG/mB,GAAc1b,GAAQA,EAAKxW,UAAU44F,UAAkB,KAAiBpiF,GAExJ4kF,OAAQ,SAAU78F,GAChB,QAAqB,IAAVA,EAAX,CACA,IAAI+kB,EAAO4O,EAAK4lD,EAAMl+E,EAElBm5F,EAAWngG,KAAKmvB,gBAAgB0vE,sBAIpC,GAFA7+F,KAAKipG,cAAgB,KAEjBjpG,KAAKqoG,aAAc,CAKrB,GAJA/oE,EAAMt/B,KAAKqoG,aAAa,GACxBnjB,EAAOv5E,EAAS3L,KAAKqoG,aAAa,IAClC33E,EAAQ1wB,KAAK8nG,oBAEH,IAAMp3E,EAAM,GAAI,CAExB1pB,EAAOhH,KAAKkpG,gBAAgBx4E,EAAO4O,EAAK4lD,GAExC,IAAK,IAAIxkF,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAE1B,IAAIyoG,EAAYz4E,EAAMhwB,GAAG8nC,SAAS,EAAG,GAErC,GAAI23D,EAAWgJ,EAAU,IAAMA,EAAU,GAAKzvF,KAAKyS,IAAIg9E,EAAU,GAAKA,EAAU,IAAM,EAEpFz4E,EAAMhwB,GAAG0M,UAAUpN,KAAK0nG,cAAgB1gG,EAAKtG,GACzCgwB,EAAMhwB,GAAGw/F,cAAcxvE,EAAMhwB,GAAGw/F,aAAalgG,KAAK0nG,aAAc1gG,EAAKtG,GAAIy/F,OACxE,CACL,IAAIjR,EAAax+D,EAAMhwB,GAAGmqB,MAAMs1E,EAAW,eAAiB,eAE5DzvE,EAAMhwB,GAAG0M,UAAUo0B,QAAUx6B,EAAKtG,GAAKwuF,EAAax+D,EAAMhwB,GAAG0M,UAAUo0B,SAI3E9Q,EAAM,GAAG+E,SAET,IAAK,IAAIr0B,EAAK,EAAGA,EAAK,EAAGA,IACnBsvB,EAAMtvB,GAAI0L,WAAW4jB,EAAMtvB,GAAI0L,UAAU,eAAgB,IAE7D4jB,EAAMtvB,GAAIypB,MAAM4P,gBAAgB,mBAGlC3tB,EAAU,iBAAkB,CAAC4jB,IAG/B1wB,KAAKqoG,cAAe,EAGtBroG,KAAKqoG,cAAe,EACpBroG,KAAKwnG,aAAc,EACnBxnG,KAAKgoG,SAAW,KAChB5sF,GAAU9Q,SAASyO,KAAM,kBAEzB/Y,KAAKgwB,SAASvY,aAAa,eAAgB,SAE3CzX,KAAKgwB,SAASyK,gBAAgB,qBAEhCsuE,qBAAsB,SAAUr4E,GAC9B,IAAI04E,EAAOC,EAAOR,EAWlB,OAVAA,EAAYn4E,EAAM,GAAG,IAAM1wB,KAAK0nG,cAAgBh3E,EAAM,GAAG,IAAM1wB,KAAK0nG,cAEhE1nG,KAAKgoG,SAAS,GAEhBqB,EAAQR,GADRO,EAAQppG,KAAKgoG,SAAS,IAEbhoG,KAAKgoG,SAAS,KAEvBoB,EAAQP,GADRQ,EAAQrpG,KAAKgoG,SAAS,KAIjB,CAACoB,EAAOC,IAEjBP,oBAAqB,SAAUp4E,EAAO4O,EAAK4lD,GAIzC,IAHA,IAAI99E,EAAQ,GACRkiG,EAAgC,UAArBtpG,KAAK0nG,aAA2B,eAAiB,cAEvDhnG,EAAI,EAAGA,EAAI,EAAGA,IACrB0G,EAAM1G,GAAKgwB,EAAMhwB,GAAGmqB,MAAMy+E,IAAa5oG,GAAI,EAAK,GAAKwkF,EAGvD,OAAO99E,GAET8hG,gBAAiB,SAAUx4E,EAAO4O,EAAK4lD,GACrC,IAAIxkF,EAAG0G,EAAOyhG,EAGd,GAAI7oG,KAAKgoG,SAAS,IAAMhoG,KAAKgoG,SAAS,GACpC5gG,EAAQpH,KAAK+oG,qBAAqBr4E,EAAO4O,QAIzC,IAFAl4B,EAAQpH,KAAK8oG,oBAAoBp4E,EAAO4O,EAAK4lD,GAExCxkF,EAAI,EAAGA,EAAI,EAAGA,IAEb0G,EAAM1G,GAAK,IACbmoG,EAAYzhG,EAAM,GAAKA,EAAM,GAC7BA,EAAM1G,GAAK,EACX0G,EAAM,EAAI1G,GAAKmoG,EAAY,GAKjC,OAAOzhG,KAKPmiG,IAFS5pG,EAAQwxB,QAAQk2E,GAAO3+B,GAAa/lC,GAAagH,GAAO30B,MAEzD,CACVpP,KAAM,QACNmE,SAAU,CACRqxB,YAAY,EACZ5hB,KAAM,EACND,IAAK,EACL0S,MAAO,EACPT,OAAQ,GAEVxhB,MAAO,WACLhK,KAAKgwB,SAAS7X,WAAa,qBAE7B0X,QAAS,WACP7vB,KAAK68C,YAAY,KAEnBltB,SAAU,SAAUmtB,GAClB98C,KAAK2uB,WAAWe,aAEhB1vB,KAAK2uB,WAAamuB,EAElB98C,KAAKgwB,SAAStY,YAAY1X,KAAK2uB,WAAWqB,UAE1ChwB,KAAKy1B,UAEP/G,cAAe,WACb,MAAO,CAAC1uB,KAAK2uB,aAEfkuB,YAAa,SAAUr7C,GAYrB,OAXAA,EAAM0tB,OAAS,CACb3V,KAAK,EACLC,MAAM,EACNyS,OAAO,EACPT,QAAQ,GAEV0B,GAAMQ,aAAe1tB,KACrBA,KAAK2uB,WAAaN,GAAG6C,MAAM1vB,GAE3BxB,KAAKgwB,SAAStY,YAAY1X,KAAK2uB,WAAWqB,UAEnCxuB,GAETgoG,aAAc,SAAUhoG,GACD,iBAAVA,IAAoBA,EAAQA,EAAMqO,MAAM,MACnD7P,KAAKypG,SAAWzpG,KAAK0pG,SAAW1pG,KAAK2pG,SAAW,GAEhD,IAAK,IAAIjpG,EAAI,EAAGA,EAAIc,EAAMC,OAAQf,IAAK,CACrC,IAAIoN,EAAItM,EAAMd,GACJ,WAANoN,GAAwB,SAANA,GAAsB,UAANA,IAAe9N,KAAKypG,SAAW37F,GAC3D,QAANA,GAAqB,WAANA,GAAwB,WAANA,IAAgB9N,KAAK0pG,SAAW57F,GAC3D,aAANA,IAAkB9N,KAAKypG,SAAWzpG,KAAK0pG,SAAW1pG,KAAK2pG,SAAW,WAGxE,OAAOnoG,GAETq6B,QAAS,WACP,OAAO77B,KAAK2uB,YAEdkZ,SAAU,SAAU51B,EAAGwH,GAErB,IAAIsb,EAAIC,EADR2U,GAAON,IAAIxB,SAASzlC,KAAKpC,KAAMiS,EAAGwH,GAG9BzZ,KAAK2pG,UACP50E,EAAK9iB,EAAIjS,KAAKoN,UAAUoM,KAAOxZ,KAAKoN,UAAU6e,MAC9C+I,EAAKvb,EAAIzZ,KAAKoN,UAAUmM,IAAMvZ,KAAKoN,UAAUoe,SAE7CuJ,EAAK/0B,KAAKsgG,cAAc,IAAMruF,EAC9B+iB,EAAKh1B,KAAKsgG,cAAc,IAAM7mF,GAGhCzZ,KAAK2uB,WAAWkZ,SAAS9S,EAAIC,GAE7B,IAAInd,EAAM7X,KAAK2uB,WAAWqB,SACL,UAAjBhwB,KAAKypG,SAAsB5xF,EAAIL,MAAMoyF,WAAalwF,KAAKiC,MAAM1J,EAAI8iB,GAAM,GAAK,KAA+B,SAAjB/0B,KAAKypG,SAAqB5xF,EAAIL,MAAMoyF,WAAa33F,EAAI8iB,EAAK,KAAUld,EAAIL,MAAMoyF,YAAc5pG,KAAK2pG,SAAW3pG,KAAKoN,UAAUoM,KAAO,GAAK,KAChN,UAAjBxZ,KAAK0pG,SAAsB7xF,EAAIL,MAAMqyF,UAAYnwF,KAAKiC,MAAMlC,EAAIub,GAAM,GAAK,KAA+B,UAAjBh1B,KAAK0pG,SAAsB7xF,EAAIL,MAAMqyF,UAAYpwF,EAAIub,EAAK,KAAUnd,EAAIL,MAAMqyF,WAAa7pG,KAAK2pG,SAAW3pG,KAAKoN,UAAUmM,IAAM,GAAK,MAEpOivB,SAAU,SAAUzT,EAAIC,GACtB,IAAIhuB,EAAOhH,KAAKsgG,cAAgBtgG,KAAK2uB,WAAW6Z,SAAS,EAAG,GAExDiX,EAAYrW,GAAKC,IAAIb,SAASpmC,KAAKpC,KAAM,EAAG,GAuBhD,OArBIA,KAAK2pG,WACP50E,GAAM/0B,KAAKoN,UAAUoM,KAAOxZ,KAAKoN,UAAU6e,MAC3C+I,GAAMh1B,KAAKoN,UAAUmM,IAAMvZ,KAAKoN,UAAUoe,SAGvCxrB,KAAKypG,UAAYzpG,KAAK2pG,UACzBlqD,EAAU,GAAKz4C,EAAK,GAAK+tB,EACzB0qB,EAAU,GAAKz4C,EAAK,GAAK+tB,IAEzB0qB,EAAU,IAAMA,EAAU,IAAMz4C,EAAK,IAAMguB,EAC3CyqB,EAAU,IAAM1qB,IAGb/0B,KAAK0pG,UAAY1pG,KAAK2pG,UACzBlqD,EAAU,GAAKz4C,EAAK,GAAKguB,EACzByqB,EAAU,GAAKz4C,EAAK,GAAKguB,IAEzByqB,EAAU,IAAMA,EAAU,IAAMz4C,EAAK,IAAMguB,EAC3CyqB,EAAU,IAAMzqB,GAGXyqB,KAKPqqD,IAFSnqG,EAAQwxB,QAAQo4E,GAAO5/D,GAAO30B,MAE/B,CACVpP,KAAM,YACNmE,SAAU,CACR2+B,QAAS,IAEX7G,SAAU,SAAUp+B,GAClBorB,GAAGprB,GAAKgvB,QAEVra,SAAU,WACR,OAAOpY,KAAK27B,eAEd3xB,MAAO,WACLhK,KAAKkrE,aAAe,EACpBlrE,KAAK6+F,sBAAwB,EAC7B7+F,KAAKgwB,SAASxY,MAAM0Y,SAAW,WAC/BlwB,KAAKgwB,SAAS7X,WAAa,mBAC3BnY,KAAK+pG,YAAc,IAErBC,YAAa,SAAUC,EAASC,GAC9B,IAAItmF,EAAOiL,GAAGo7E,GAETrmF,EAAKumF,eACRvmF,EAAKwmF,cAAgB,GACrBxmF,EAAKumF,aAAe,IAGjBvmF,EAAKumF,aAAaD,KACrBtmF,EAAKumF,aAAaD,IAAW,EAE7BtmF,EAAKwmF,cAAc7oG,KAAK2oG,KAG5BG,mBAAoB,SAAUJ,GAC5B,IAAIrmF,EAAOiL,GAAGo7E,GAUd,GATIjqG,KAAKoN,UAAU2/B,YAAWnpB,EAAKoM,SAASxY,MAAMghB,QAAU,IAGxDx4B,KAAK+pG,YAAY/pG,KAAK+pG,YAAYtoG,OAAS,IAAMwoG,GACpB,IAA3BjqG,KAAK+pG,YAAYtoG,QAAczB,KAAK+pG,YAAY/+F,OAAO,EAAG,GAE9DhL,KAAK+pG,YAAYxoG,KAAK0oG,IACjBjqG,KAAK+pG,YAAY/+F,OAAOhL,KAAK+pG,YAAYtoG,OAAS,EAAG,GAExDmiB,EAAKumF,aAAc,CACrB,IAAK,IAAIzpG,EAAI,EAAGA,EAAIkjB,EAAKwmF,cAAc3oG,OAAQf,IAAK,CAClD,IAAI4pG,EAAUz7E,GAAGjL,EAAKwmF,cAAc1pG,IAEhC4pG,GAASA,EAAQxgF,SAGvBlG,EAAKwmF,cAAgB,GACrBxmF,EAAKumF,aAAe,KAGxBruE,QAAS,SAAU9mB,EAAMme,GACvB,IAAI83C,GAAOjiE,EAAYmqB,IAAaA,GAAYnzB,KAAKkrE,aAAe,EAAI,EACpEhkE,EAAKq6F,GAAWl4D,IAAIvN,QAAQlzB,MAAM5I,KAAMsG,WAO5C,OALItG,KAAKi8B,OAAOx6B,OAAS,IACnBzB,KAAKoN,UAAU2/B,UAAWle,GAAG3nB,GAAI8oB,SAASxY,MAAMghB,QAAU,OAAYvtB,GAAO4jB,GAAG3nB,GAAI8oB,UACxFhwB,KAAKkrE,cAAgBD,GAGhB/jE,GAETyoB,SAAU,SAAU3a,GAClB,IAAKA,EAAK5H,UAAUguB,WAAY,CAC9B,IAAIqH,EAAW/6B,EAAM1H,KAAKoN,UAAU8hB,QACpCla,EAAK5H,UAAU8hB,OAASuT,EACxB,IAAIjrB,EAAQxC,EAAKgb,SAASxY,MAC1BA,EAAMylC,eAAiBzlC,EAAM0lC,kBAAoB1lC,EAAM2lC,gBAAkB3lC,EAAM4lC,iBAAmB,MAElGp9C,KAAKigG,uBAAuBzoF,EAAOirB,GAGrC8+D,GAAWl4D,IAAI1Z,SAAS/mB,MAAM5I,KAAMsG,YAEtC24F,kBAAmB,SAAU9rE,GAE3B,GAAIA,GAAYnzB,KAAKkrE,aAAc,CACjC,IAAI7pE,EAAO8xB,EAAWA,EAAW,EAAI,EAEjCnzB,KAAKi8B,OAAO56B,KACdrB,KAAKuqG,mBAAqB,KAE1BvqG,KAAK2oC,MAAM3oC,KAAKi8B,OAAO56B,IAAO,IAI9B8xB,EAAWnzB,KAAKkrE,cAAclrE,KAAKkrE,gBAGzChpC,MAAO,aACPs8D,aAAc,SAAUrjC,GACtBA,EAAaA,GAAcn7D,KAAK8+F,YAEhC,IAAK,IAAIp+F,EAAI,EAAGA,EAAIy6D,EAAW15D,OAAQf,IACrCy6D,EAAWz6D,GAAGwuB,OAASlvB,KAAKoN,UAAUguB,WAAa,CACjD7hB,IAAK,EACLC,KAAM,EACNyS,MAAO,EACPT,OAAQ,GACNxrB,KAAKoN,UAAU8hB,QAAU,GAG/BqyE,GAAWl4D,IAAIm1D,aAAap8F,KAAKpC,KAAMm7D,GAEvC,IAAK,IAAI/5D,EAAK,EAAGA,EAAKpB,KAAKi8B,OAAOx6B,OAAQL,IACpCpB,KAAKoN,UAAU2/B,UAAW/sC,KAAKi8B,OAAO76B,GAAI4uB,SAASxY,MAAMghB,QAAU,OAAYvtB,GAAOjL,KAAKi8B,OAAO76B,GAAI4uB,UAG5G,IAAK,IAAI1f,EAAM,EAAGA,EAAM6qD,EAAW15D,OAAQ6O,IAAO,CAChD,IAAIsT,EAAO5jB,KAAKi8B,OAAO3rB,GACnBsT,EAAKqY,SAAWrY,EAAK8/E,kBAEzB1jG,KAAKigG,uBAAuBr8E,EAAKoM,SAASxY,MAAOoM,EAAKxW,UAAU8hB,QAEhEtL,EAAKoM,SAASvY,aAAa,OAAQ,aAGrCzX,KAAKqqG,mBAAmBrqG,KAAK27B,gBAE/B6uE,aAAc,SAAUhpG,GACtBsE,EAAOtE,GAASA,EAAMC,OAAQ,oDAC9BzB,KAAK8+F,YAAct9F,GAErBipG,cAAe,SAAUppG,EAAMq6B,GAC7B,IAAI4D,GAAOt/B,KAAKoN,UAAUs7B,SAAW,IAAIjC,UACrCikE,EAAY,OAAPprE,GAAuB,UAAPA,EACzB,OAAOj+B,EAAOq6B,EAASgvE,EAAK,SAAW,QAAUA,EAAK,MAAQ,QAEhE/hE,MAAO,SAAUtoC,EAAKsqG,GACpB,IAAI/kF,EAAQ5lB,KACR4qG,EAAatkG,UAEbqH,EAAS3N,KAAKmvB,gBAElB,GAAIxhB,GAAUA,EAAOk9F,UAAW,CAC9B,IAAIC,EAASn9F,EAAOk9F,YACpBC,EAAO1+F,aACP0+F,EAAOjpE,SAASxhC,EAAI+M,UAAUy1B,KAAOxiC,EAAI+M,UAAUlG,IACnD4jG,EAAOx+F,eAGT,GAAItM,KAAKuqG,mBAAoB,OAAOvqG,KAAKuqG,mBAAmBlnG,MAAK,WAC/D,OAAOuiB,EAAM+iB,MAAM//B,MAAMgd,EAAOglF,MAKlC,IAFA,IAAIG,GAAa,EAERrqG,EAAI,EAAGA,EAAIV,KAAKi8B,OAAOx6B,OAAQf,IACtC,GAAIV,KAAKi8B,OAAOv7B,IAAML,EAAK,CACzB0qG,EAAarqG,EACb,MAIJ,KAAIqqG,EAAa,GAAKA,GAAc/qG,KAAKkrE,cAAzC,CACA,IAAIr2B,EAAO70C,KAAKi8B,OAAOj8B,KAAKkrE,cACxB7pE,EAAOrB,KAAKi8B,OAAO8uE,GAGvB,GAFAl2D,EAAKrM,SAAS,EAAG,IAEZmiE,GAAqB3hG,EAAY2hG,KAAuB3qG,KAAKoN,UAAUs7B,QAAS,CACnF,IAAI00D,EAASz9F,EAAQ8J,OAAO,GAAIzJ,KAAKoN,UAAUs7B,SAC3C1oC,KAAKoN,UAAU2/B,YAAWqwD,EAAOrwD,WAAY,GACjDqwD,EAAO32D,UAAYzmC,KAAKyqG,cAAcM,EAAY/qG,KAAKkrE,cACvDkyB,EAASj7D,GAASO,eAAeioE,GAAqB,GAAIvN,GAC1D,IAAIlwD,EAAOxE,GAAQmE,SAASxrC,EAAK2uB,SAAU6kB,EAAK7kB,SAAUotE,GAC1D/7F,EAAKmnC,SAAS,EAAG,GACjBnnC,EAAKwmC,SAAS7nC,KAAKioC,eAAgBjoC,KAAKqoC,iBACxC,IAAI2iE,EAAoB5N,EAAOz8E,SAE/By8E,EAAOz8E,SAAW,WAChB+nB,GAAQuE,UAAUC,EAAMltC,KAAKoN,UAAU2/B,WACvC/sC,KAAKuqG,mBAAqB,KAC1BnN,EAAO6N,eAAelnG,UAClBinG,GAAmBA,EAAkB5oG,KAAKpC,MAC9CgrG,EAAoB5N,EAAOhyF,OAASgyF,EAAOz8E,SAAW,KACtD3gB,KAAKy1B,UAGP2nE,EAAOhyF,OAASpL,KAChBA,KAAKkrE,aAAe6/B,EAEpB/qG,KAAKqqG,mBAAmBrqG,KAAK27B,eAE7B+M,GAAQwE,EAAMkwD,GACdp9F,KAAKuqG,mBAAqBnN,EAAO6N,eAAiB9nG,EAASuC,aAGvD1F,KAAKoN,UAAU2/B,UACjB8H,EAAK7kB,SAASxY,MAAMghB,QAAU,QAE9BvtB,GAAO4pC,EAAK7kB,UAEZhwB,KAAKgwB,SAAStY,YAAY1X,KAAKi8B,OAAOv7B,GAAGsvB,WAG3ChwB,KAAKkrE,aAAe6/B,EACpB/qG,KAAKmpC,iBAELnpC,KAAKqqG,mBAAmBrqG,KAAK27B,eAG3Bt6B,EAAKyL,YACPzL,EAAKyL,UAAU,aAAc,IAE7B4oB,GAAMr0B,EAAMrB,KAAK6oC,uBAGnB7oC,KAAK8M,UAAU,eAAgB,CAAC+nC,EAAKznC,UAAUlG,GAAI7F,EAAK+L,UAAUlG,OAEpEshC,SAAU,SAAUzT,EAAIC,GACtB,IAAKh1B,KAAKi8B,OAAOx6B,OAAQ,OAAO2nC,GAAKC,IAAIb,SAASpmC,KAAKpC,KAAM,EAAG,GAChE6G,EAAqB7G,MAAM,GAE3B,IAAIgH,EAAOhH,KAAKi8B,OAAOj8B,KAAKkrE,cAAc1iC,SAAS,EAAG,GAEtD,GAAIxoC,KAAKoN,UAAU89F,WACjB,IAAK,IAAIxqG,EAAI,EAAGA,EAAIV,KAAKi8B,OAAOx6B,OAAQf,IACtC,GAAIA,GAAKV,KAAKkrE,aAGZ,IAFA,IAAIigC,EAAQnrG,KAAKi8B,OAAOv7B,GAAG8nC,SAAS,EAAG,GAE9B+Y,EAAI,EAAGA,EAAI,EAAGA,IACrBv6C,EAAKu6C,GAAK7nC,KAAKgC,IAAI1U,EAAKu6C,GAAI4pD,EAAM5pD,IAO1C,IAAI9B,EAAYrW,GAAKC,IAAIb,SAASpmC,KAAKpC,KAAM,EAAG,GAShD,OAPIy/C,EAAU,IAAM,MAAQA,EAAU,GAAK,GACvCA,EAAU,IAAM,MAAQA,EAAU,GAAK,GAC3CA,EAAU,IAAMA,EAAU,IAAMz4C,EAAK,IAAM+tB,EAC3C0qB,EAAU,IAAMA,EAAU,IAAMz4C,EAAK,IAAM+tB,EAC3C0qB,EAAU,IAAMA,EAAU,IAAMz4C,EAAK,IAAMguB,EAC3CyqB,EAAU,IAAMA,EAAU,IAAMz4C,EAAK,IAAMguB,EAC3C7tB,EAAmBnH,EAAMy/C,GAClBA,GAET5X,SAAU,SAAU51B,EAAGwH,GAChBzZ,KAAKi8B,OAAOx6B,SACjBzB,KAAKy+F,cAAgB,CAACxsF,EAAGwH,GACzB2vB,GAAKC,IAAIxB,SAASzlC,KAAKpC,KAAMiS,EAAGwH,GAEhCzZ,KAAKi8B,OAAOj8B,KAAKkrE,cAAcrjC,SAAS51B,EAAGwH,KAE7CuQ,UAAW,SAAU8c,EAASmjE,GAC5B,OAAIA,GAAWA,GAAWjqG,KAAK27B,eACzBmL,GAAS9mC,KAAKgqG,YAAYC,EAASnjE,IAChC,GAGF6C,GAAON,IAAIrf,UAAU5nB,KAAKpC,KAAM8mC,EAAS9mC,KAAKoN,UAAUlG,KAEjEy0B,YAAa,WACX,OAAO37B,KAAKi8B,OAAOx6B,OAASzB,KAAKi8B,OAAOj8B,KAAKkrE,cAAc99D,UAAUlG,GAAK,MAE5EkkG,KAAM,SAAU/kD,GAGd,GAFAA,EAAOA,GAAQ,EAEXrmD,KAAK8M,UAAU,eAAgB,CAAC9M,KAAK27B,cAAe0qB,IAAQ,CAC9D,GAAIrmD,KAAK+pG,YAAYtoG,OAAS4kD,EAAM,CAClC,IAAIglD,EAASrrG,KAAK+pG,YAAY/pG,KAAK+pG,YAAYtoG,OAAS4kD,EAAO,GAE/D,OADAx3B,GAAGw8E,GAAQ54E,OACJ44E,EAGT,OAAO,KAGT,OAAO,MAET9L,kBAAmB,SAAUvqF,EAAMwD,IAC7BxY,KAAKoN,UAAU2/B,WAAcv0B,GAAUA,GAAUxY,KAAKi8B,OAAOj8B,KAAKkrE,eAAeq2B,GAAWl4D,IAAIk2D,kBAAkBn9F,KAAKpC,KAAMgV,EAAMwD,MAKvI8yF,IAFS3rG,EAAQwxB,QAAQ24E,GAAOvI,GAAWvsF,MAEnC,CACVpP,KAAM,UACNi8B,SAAU,SAAUp+B,EAAKwD,GACvBjH,KAAKi8B,OAAO,GAAG4F,SAASp+B,EAAKwD,IAE/BmR,SAAU,WACR,OAAOpY,KAAKi8B,OAAO,GAAG7jB,YAExByyF,UAAW,WACT,OAAO7qG,KAAKi8B,OAAO,IAErBsvE,aAAc,WACZ,OAAOvrG,KAAKi8B,OAAO,IAErBH,QAAS,SAAUz7B,GACjB,IAAI0lD,EAAM/lD,KAAKurG,eAAezvE,QAAQz7B,EAAI0Y,MAO1C,OANA1Y,EAAI6G,GAAK6+C,EACT1lD,EAAImB,MAAQnB,EAAI2T,cACT3T,EAAI0Y,YACJ1Y,EAAI2T,OACHhU,KAAK6qG,YACX9mC,UAAU1jE,GACL0lD,GAET45C,WAAY,SAAUz4F,GACpB,IAAIqG,EAAIvN,KAAK6qG,YACbt9F,EAAEy2D,aAAa98D,GACfqG,EAAE4c,WAEJngB,MAAO,SAAU/C,GACfjH,KAAKslB,OAAO/jB,KAAKvB,KAAKwrG,wBACtB,IAAI96E,EAAQzpB,EAAOypB,MACf+6E,EAAO,GACX3lG,EAAO4qB,GAASA,EAAMjvB,OAAQ,sCAE9B,IAAK,IAAIf,EAAIgwB,EAAMjvB,OAAS,EAAGf,GAAK,EAAGA,IAAK,CAC1C,IAAIsU,EAAO0b,EAAMhwB,GAAGqY,MAAQ2X,EAAMhwB,GAC7BsU,EAAK9N,KAAI8N,EAAK9N,GAAK,OAASiD,KACjCshG,EAAK/qG,GAAK,CACRc,MAAOkvB,EAAMhwB,GAAGsT,OAChB9M,GAAI8N,EAAK9N,GACTg1B,MAAOxL,EAAMhwB,GAAGw7B,MAChBtiB,MAAO8W,EAAMhwB,GAAGkZ,MAChB2J,SAAUmN,EAAMhwB,GAAG6iB,QAErBmN,EAAMhwB,GAAKsU,EAGb,IAAI02F,EAAS,CACX12F,KAAM,SACNgc,WAAW,GAET26E,EAAQ,CACV32F,KAAM,YACN0b,MAAOA,EACPgY,UAAWzhC,EAAOyhC,SAEhBzhC,EAAOzF,QAAOkqG,EAAOlqG,MAAQyF,EAAOzF,OACpCyF,EAAOykG,QAAQ/rG,EAAQ8J,OAAOiiG,EAAQzkG,EAAOykG,QAAQ,GACrDzkG,EAAO+pB,WAAWrxB,EAAQ8J,OAAOkiG,EAAO1kG,EAAO+pB,WAAW,GAC9D06E,EAAOn3F,QAAUm3F,EAAOn3F,SAAWk3F,EACnCxkG,EAAOwW,KAAO,CAACiuF,EAAQC,UAChB1kG,EAAOypB,aACPzpB,EAAOwkG,MAEhBD,uBAAwB,WACtBxrG,KAAK6qG,YAAYh+F,YAAY,kBAAkB,SAAU3F,GACvD,IAAI8N,EAAO6Z,GAAG3nB,GAEd,GAAI8N,EAAM,CACR,IAAIrH,EAASqH,EAAKma,gBACdxhB,GAAQA,EAAOgyF,WAAW3qF,UAOlC42F,IAFSjsG,EAAQwxB,QAAQm6E,GAAOhH,GAAOtvF,MAE/B,CACVpP,KAAM,WACNmE,SAAU,CACRy4F,YAAa,QACbl+F,KAAM,QACNoiE,WAAY,GACZh+B,SAAS,GAEX1+B,MAAO,WACLhK,KAAKgwB,SAAS7X,WAAa,kBAC3BnY,KAAK6rG,QAAU,KACf7rG,KAAKiqB,SAAW,KAChBjqB,KAAKkrE,aAAe,EACpBlrE,KAAKslB,OAAOhY,QAAQtN,KAAK8rG,aACzB9rG,KAAKslB,OAAO/jB,KAAKvB,KAAK6oD,mBAExB/sB,QAAS,SAAU9mB,EAAMqI,GACvB,IAAI9P,EAAIvN,KAAK6rG,QAAQ/vE,QAAQ9mB,EAAMqI,GAInC,OAFArd,KAAK+rG,sBAEEx+F,GAEToyF,WAAY,SAAUz4F,GACpBlH,KAAK6rG,QAAQlM,WAAWz4F,GAExBlH,KAAK+rG,uBAEPp8E,SAAU,SAAUmtB,EAAUwiD,GAC5Bt/F,KAAK6rG,QAAQl8E,SAASmtB,EAAUwiD,GAEhCt/F,KAAK+rG,uBAEPA,oBAAqB,WACnB/rG,KAAKi8B,OAASj8B,KAAK6rG,QAAQ5vE,OAE3Bj8B,KAAKwqE,eAELxqE,KAAKmrE,eAAezxD,KAAKwJ,IAAIljB,KAAKkrE,aAAclrE,KAAKi8B,OAAOx6B,OAAS,KAEvEqqG,YAAa,WACX,IAAIlmF,EAAQ5lB,KAERA,KAAK6rG,SAAW7rG,KAAK6rG,QAAQn8E,YAAY1vB,KAAK6rG,QAAQn8E,aAC1D,IAAI/E,EAAS,GAET3qB,KAAKiH,OAAO2pB,MACdjG,EAAS,OACT3qB,KAAK6+F,sBAAwB,IAE7Bl0E,EAAS,OACT3qB,KAAK6+F,sBAAwB,GAG/B,IAAI53F,EAAS,CACXm0B,YAAY,EACZ92B,KAAM,SAER2C,EAAO0jB,GAAU9iB,EAAK7H,KAAKoN,UAAUud,IAIrC,IAHA,IAAIqhF,EAAa,CAAC,OAAQ,SAAU,UAAW,UAAW,UAAW,WAAY,YAC7EC,EAAe,GAEVvrG,EAAI,EAAGA,EAAIsrG,EAAWvqG,OAAQf,IACjCV,KAAKoN,UAAU4+F,EAAWtrG,MAC5BurG,EAAaD,EAAWtrG,IAAMV,KAAKoN,UAAU4+F,EAAWtrG,KAI5Df,EAAQ8J,OAAOxC,EAAQglG,GAAc,GACrC/+E,GAAMQ,aAAe1tB,KACrBA,KAAK6rG,QAAUx9E,GAAG6C,MAAMjqB,GAExBjH,KAAKgwB,SAAStY,YAAY1X,KAAK6rG,QAAQ77E,UAEvChwB,KAAKi8B,OAASj8B,KAAK6rG,QAAQ5vE,OAC3Bj8B,KAAK6rG,QAAQljE,MAAQlgC,EAAKmjG,GAAMjjE,MAAO3oC,MACvCA,KAAK6rG,QAAQ73D,aAAevrC,EAAKmjG,GAAM53D,aAAch0C,MACrD,IAAIwE,EAAKqI,EAAY,iBAAiB,SAAUmI,GAC1CA,GAAQ4Q,EAAMimF,SAASjmF,EAAMsmF,gBAEnClsG,KAAK6M,YAAY,cAAc,WAC7BW,EAAYhJ,MAEdxE,KAAKkjC,YAAcljC,KAAKgwB,SAAStf,YAEnCq4B,YAAa,SAAUjgC,EAAM/D,GACvB/E,KAAKoN,UAAUs5D,WAAW0E,OAA2C,QAAlCrmE,EAAE+C,OAAOkH,aAAa,SAAmBhP,KAAKqqE,YAAYvhE,EAAM/D,GAEvGqkC,GAAKC,IAAIN,YAAY3mC,KAAKpC,KAAM8I,EAAM/D,IAExC2pB,cAAe,WACb,MAAO,CAAC1uB,KAAK6rG,UAEfM,UAAW,WACT,OAAOnsG,KAAK6rG,SAEdhjD,iBAAkB,WAChB7oD,KAAKkjC,YAAYzrB,aAAa,eAAgBzX,KAAK6+F,sBAAwB,IAAM,KAEjF7+F,KAAK6rG,QAAQh/F,YAAY,gBAAiBpE,GAAK,WAC7CzI,KAAK8M,UAAU,SAAU,CAAC9M,KAAK27B,kBAC9B37B,OAEH01B,GAAM11B,KAAK6rG,SAAS,SAAU72F,GAC5BA,EAAKgb,SAASvY,aAAa,OAAQ,gBAGvCu8B,aAAc,SAAUkB,GACtB,IACIyuD,EADA38F,EAAOhH,KAAK6+F,sBAAwB7+F,KAAKqoC,gBAAkBroC,KAAKioC,eAapE,OAVIjoC,KAAK6+F,uBACP8E,EAAajqF,KAAKC,MAAMu7B,EAAOvtC,EAAIX,GACnCkuC,EAAOvtC,EAAIg8F,EAAa38F,IAExB28F,EAAajqF,KAAKC,MAAMu7B,EAAOnwC,EAAIiC,GACnCkuC,EAAOnwC,EAAI4+F,EAAa38F,GAG1BhH,KAAKkrE,cAAgBy4B,EACjB3jG,KAAKoN,UAAUs5D,YAAY1mE,KAAKyqE,mBAC7B,GAET9hC,MAAO,SAAUtoC,GACf,IAAIK,EAAGiqB,EAAQyhF,EAAW9qC,EAAOrvD,EAAGwH,EAKpC,IAHA2yF,GAAY,EACZzhF,EAAS3qB,KAAK6rG,QAETnrG,EAAI,EAAGA,EAAIiqB,EAAOsR,OAAOx6B,OAAQf,IACpC,GAAIiqB,EAAOsR,OAAOv7B,IAAML,EAAK,CAC3B+rG,EAAY1rG,EACZ,MAIA0rG,EAAY,GAAKA,GAAapsG,KAAKkrE,eACvClrE,KAAKkrE,aAAekhC,EACpB9qC,EAAQ32C,EAAOk0E,sBAAwB7+F,KAAKqoC,gBAAkBroC,KAAKioC,eACnEh2B,IAAM0Y,EAAOk0E,sBAAwB,EAAIuN,EAAY9qC,GACrD7nD,IAAMkR,EAAOk0E,sBAAwBuN,EAAY9qC,EAAQ,GACzDthE,KAAKksB,SAASja,EAAGwH,GACjBzZ,KAAK8M,UAAU,SAAU,CAAC6d,EAAOsR,OAAOj8B,KAAKkrE,cAAc99D,UAAUlG,KACjElH,KAAKoN,UAAUs5D,YAAY1mE,KAAKwqE,iBAEtCt+C,SAAU,SAAUja,EAAGwH,GACjB23B,IAASpxC,KAAKoN,UAAUs7B,QAAS0I,GAAM6C,YAAYj0C,KAAKkjC,YAAajxB,EAAGwH,EAAGzZ,KAAKoN,UAAUo1F,aAAe,UAC3GxiG,KAAKkjC,YAAY1rB,MAAMoyF,WAAa33F,EAAI,KACxCjS,KAAKkjC,YAAY1rB,MAAMqyF,UAAYpwF,EAAI,OAG3C4tD,kBAAmB,SAAUpgE,GAO3B,OANAjH,KAAK0iC,eAAez7B,EAAQ,CAC1B3C,KAAM,SACNg1B,SAAS,EACT8xC,OAAO,IAGFnkE,GAETolG,SAAU,WACJrsG,KAAKkrE,aAAelrE,KAAK6rG,QAAQ5vE,OAAOx6B,OAAS,GAAGzB,KAAKmrE,eAAenrE,KAAKkrE,aAAe,IAElGohC,SAAU,WACJtsG,KAAKkrE,aAAe,GAAGlrE,KAAKmrE,eAAenrE,KAAKkrE,aAAe,IAErEC,eAAgB,SAAU3pE,GACxBsE,EAAOtE,EAAQxB,KAAK6rG,QAAQ5vE,OAAOx6B,OAAQ,oCAE3CotB,GADS7uB,KAAK6rG,QAAQ5vE,OAAOz6B,GAAO4L,UAAUlG,IACvCurB,QAET85E,eAAgB,WACd,OAAOvsG,KAAKkrE,cAEd1iC,SAAU,SAAUzT,EAAIC,GACtB,IAAIw3E,EAAcxsG,KAAK6rG,QAAQrjE,SAAS,EAAG,GAEvCikE,EAAY9iE,GAAON,IAAIb,SAASpmC,KAAKpC,KAAM+0B,EAAIC,GAUnD,OARIh1B,KAAK6rG,QAAQhN,uBACf4N,EAAU,GAAK/yF,KAAKgC,IAAI+wF,EAAU,GAAID,EAAY,IAClDC,EAAU,GAAK/yF,KAAKwJ,IAAIupF,EAAU,GAAID,EAAY,MAElDC,EAAU,GAAK/yF,KAAKgC,IAAI+wF,EAAU,GAAID,EAAY,IAClDC,EAAU,GAAK/yF,KAAKwJ,IAAIupF,EAAU,GAAID,EAAY,KAG7CC,GAET5kE,SAAU,SAAU51B,EAAGwH,GACrB,IAAIkR,EAAS3qB,KAAK6rG,QACd/9F,EAAI6c,EAAOsR,OAAOx6B,OAClBwgE,EAAUt4B,GAAON,IAAIxB,SAASzlC,KAAKpC,KAAMiS,EAAGwH,GAC5CuzE,EAAKhtF,KAAKqoC,iBAAmB1d,EAAOk0E,sBAAwB/wF,EAAI,GAChEi/E,EAAK/sF,KAAKioC,gBAAkBtd,EAAOk0E,sBAAwB,EAAI/wF,GAE/Dm0D,GACFjiE,KAAKkjC,YAAY1rB,MAAMsC,OAASkzE,EAAK,KACrChtF,KAAKkjC,YAAY1rB,MAAMoC,MAAQmzE,EAAK,KACpCpiE,EAAOkd,SAASklD,EAAIC,GAEpBhtF,KAAKksG,cACAvhF,EAAOkd,SAASklD,EAAIC,IAE7Bkf,WAAY,WACV,IAAIvhF,EAAS3qB,KAAK6rG,QACdnqE,EAAa1hC,KAAKkrE,cAAgB,EAClClkE,EAAO2jB,EAAOk0E,sBAAwB7+F,KAAKqoC,gBAAkBroC,KAAKioC,eAClEh2B,IAAM0Y,EAAOk0E,sBAAwB,EAAIn9D,EAAa16B,GACtDyS,IAAMkR,EAAOk0E,sBAAwBn9D,EAAa16B,EAAO,GAC7DhH,KAAKksB,SAASja,EAAGwH,GACbzZ,KAAKoN,UAAUs5D,YAAY1mE,KAAKwqE,gBAEtC7uC,YAAa,WACX,IAAI/X,EAAO5jB,KAAK6rG,QAAQ5vE,OAAOj8B,KAAKkrE,cACpC,OAAOtnD,EAAOA,EAAKxW,UAAUlG,GAAK,MAEpCwlG,UAAW,SAAUlrG,GACnBqtB,GAAGrtB,GAAOixB,UAKVk6E,IAFShtG,EAAQwxB,QAAQy6E,GAAO5/F,EAAao+D,GAAmBzgC,GAAO30B,MAE/D,CACVpP,KAAM,QACNi3C,YAAa,SAAUr7C,GAMrB,OALA0rB,GAAMQ,aAAe1tB,KACrBA,KAAK2uB,WAAaN,GAAG6C,MAAM1vB,GAE3BxB,KAAKgwB,SAAStY,YAAY1X,KAAK2uB,WAAWqB,UAEnCxuB,GAETktB,cAAe,WACb,MAAO,CAAC1uB,KAAK2uB,aAEfkZ,SAAU,SAAU51B,EAAGwH,GACrBkwB,GAAON,IAAIxB,SAASzlC,KAAKpC,KAAMiS,EAAGwH,GAElCzZ,KAAK2uB,WAAWkZ,SAAS7nC,KAAKgoC,OAAQhoC,KAAKooC,UAE7CI,SAAU,SAAUzT,EAAIC,GACtB,IAAI43E,EAAWjjE,GAAON,IAAIb,SAASpmC,KAAKpC,KAAM+0B,EAAIC,GAE9ChuB,EAAOhH,KAAK2uB,WAAW6Z,SAASzT,EAAIC,GAOxC,OALAhuB,EAAK,GAAK0S,KAAKgC,IAAIkxF,EAAS,GAAI5lG,EAAK,IACrCA,EAAK,GAAK0S,KAAKwJ,IAAI0pF,EAAS,GAAI5lG,EAAK,IACrCA,EAAK,GAAK0S,KAAKgC,IAAIkxF,EAAS,GAAI5lG,EAAK,IACrCA,EAAK,GAAK0S,KAAKwJ,IAAI0pF,EAAS,GAAI5lG,EAAK,IACrCA,EAAK,GAAK0S,KAAKgC,IAAIkxF,EAAS,GAAI5lG,EAAK,IAC9BA,GAET2oB,SAAU,SAAUlM,GAClBzjB,KAAK2uB,WAAWe,aAEhB1vB,KAAK2uB,WAAalL,EAElBzjB,KAAKgwB,SAAStY,YAAY+L,EAAEuM,UAE5BhwB,KAAKy1B,YAGI91B,EAAQwxB,QAAQw7E,GAAOhjE,GAAO30B,MAE3CrV,EAAQwxB,QAAQ,CACdvrB,KAAM,UACNmE,SAAU,CACR8f,SAAU,gEAEXy4E,GAAWttF,MAEdrV,EAAQwxB,QAAQ,CACdvrB,KAAM,YACNmE,SAAU,CACR8f,SAAU,kEAEXy4E,GAAWttF,MAEdrV,EAAQwxB,QAAQ,CACdvrB,KAAM,QACNmE,SAAU,CACR8f,SAAU,8DAEXy4E,GAAWttF,MAEdrV,EAAQwxB,QAAQ,CACdvrB,KAAM,YACNmE,SAAU,CACR8f,SAAU,kEAEXy4E,GAAWttF,MAEdrV,EAAQwxB,QAAQ,CACdvrB,KAAM,aACNmE,SAAU,CACR8f,SAAU,mEAEXy4E,GAAWttF,MAEd,IAAI63F,GAAQ,CACV7iG,MAAO,WACLrK,EAAQ8J,OAAOzJ,KAAMqgE,IAAY,IAEnCz6D,KAAM,cAEKjG,EAAQwxB,QAAQ07E,GAAOvI,GAAOtvF,MAE3CrV,EAAQwxB,QAAQ,CACdvrB,KAAM,iBACNmE,SAAU,CACR8f,SAAU,uEAEXy4E,GAAWttF,MAEd,IAAI83F,GAAQ,CACVlnG,KAAM,QACNoE,MAAO,WACL,IAAI4b,EAAQ5lB,KAEZA,KAAKoN,UAAU8tB,MAAO,EACtBl7B,KAAK6qB,MAAM1S,WAAa,eACxB,IAAI40F,EAAelgG,EAAY,WAAW,SAAU9H,GAClD,OAAO6gB,EAAMsc,MAAMn9B,MAErB/E,KAAK6M,YAAY,cAAc,WAC7BW,EAAYu/F,MAEd/sG,KAAK6M,YAAY,SAAU7M,KAAKs+C,cAElCxsB,MAAO,WACL4tB,GAASrW,IAAIvX,MAAM1vB,KAAKpC,MACxBA,KAAK+J,SAAS0mC,QAAU7C,GAAQ0C,aAChCtwC,KAAK+J,SAASszC,OAASzP,GAAQwC,aAC/BpwC,KAAK+J,SAASqxB,WAAawS,GAAQyC,iBAErCnU,MAAO,WACLjxB,GAAOjL,KAAKgtG,gBACZttD,GAASrW,IAAInN,MAAM95B,KAAKpC,OAE1BwoC,SAAU,SAAUv2B,EAAGwH,GACrB,OAAOimC,GAASrW,IAAIb,SAASpmC,KAAKpC,KAAMiS,EAA6B,EAAzBjS,KAAKoN,UAAUqjC,QAAah3B,EAA6B,EAAzBzZ,KAAKoN,UAAUqjC,UAE7F5I,SAAU,SAAU51B,EAAGwH,GACrBkwB,GAAON,IAAIxB,SAASzlC,KAAKpC,KAAMiS,EAAGwH,GAClCxH,EAAIjS,KAAKioC,eAA0C,EAAzBjoC,KAAKoN,UAAUqjC,QACzCh3B,EAAIzZ,KAAKqoC,gBAA2C,EAAzBroC,KAAKoN,UAAUqjC,QAC1CzwC,KAAKkjC,YAAY1rB,MAAMi5B,QAAUzwC,KAAKoN,UAAUqjC,QAAU,KAC1DzwC,KAAKu6C,SAAS/iC,MAAMghB,QAAU,OAE9Bx4B,KAAK2uB,WAAWkZ,SAAS51B,EAAGwH,IAI9BwlC,gBAAiB,SAAUz9C,QACM,IAApBA,EAAM45B,aAA2B55B,EAAM45B,YAAa,IAEjE8jB,YAAa,aACbb,WAAY,SAAUvsC,EAAM0H,EAAMD,EAAK4kC,GACrCn+C,KAAKs+C,cAELh0C,SAASyO,KAAKrB,YAAY1X,KAAKgtG,eAAiBl1F,GAAO,MAAO,CAC5D0D,MAAS,eAAiB1J,GACzB,KACH9R,KAAKgtG,eAAex1F,MAAMse,OAAS91B,KAAKgwB,SAASxY,MAAMse,OACvD91B,KAAKgtG,eAAex1F,MAAM0Y,SAAWiuB,EAAQ,QAAU,WACvDn+C,KAAKgtG,eAAex1F,MAAM+B,IAAMA,EAAM,KACtCvZ,KAAKgtG,eAAex1F,MAAMgC,KAAOA,EAAO,MAE1C8kC,YAAa,WACXt+C,KAAKgtG,eAAiB/hG,GAAOjL,KAAKgtG,kBAIlCC,GAAQ,CACV5jE,IAAKyjE,GACL93F,KAHWrV,EAAQwxB,QAAQ27E,GAAOptD,GAAS1qC,OAMzCk4F,GAAQ,CACVtnG,KAAM,UACNmE,SAAU,CACRzF,KAAM,WAERo/F,iBAAiB,EACjByJ,gBAAiB,gBACjBC,gBAAgB,EAChBpjG,MAAO,SAAU/C,GACVA,EAAOm0B,aACVp7B,KAAKkjC,YAAY1rB,MAAMgyB,YAAc,MACrCxpC,KAAKoN,UAAU8hB,OAAS,CACtB3V,KAAK,EACLC,MAAM,EACNyS,OAAO,EACPT,QAAQ,IAIZxrB,KAAKkjC,YAAY/qB,WAAa,IAAMnY,KAAKmtG,gBAEzCntG,KAAKgwB,SAASvY,aAAa,OAAQ,YAErC6uB,oBAAqB,WACnB,IAAIxE,EAAO9hC,KACX8hC,EAAKnR,SAAW,GAEhB+E,GAAM11B,MAAM,SAAUgV,GAWpB,GAVIA,EAAK5H,UAAUxH,MAAQoP,EAAKoD,UAAYpD,EAAK6sB,WAC/CC,EAAKnR,SAAS3b,EAAK5H,UAAUxH,MAAQoP,EACjCA,EAAKzI,UAAUyI,EAAKzI,SAAS,CAC/B8gG,iBAAkBvrE,EAClBwrE,gBAAiBxrE,EACjBukC,YAAavkC,EACbyrE,SAAUzrE,KAIV9sB,EAAK0R,WAAa1R,EAAKwqF,WAAY,OAAO,KAGhD,IAAI5pD,EAAM51C,KAAKihF,QAGf,GAFAjhF,KAAKimC,UAAS,GAEV2P,EAAK,CAEP,IAAI6T,EAAMzpD,KAAKihF,QAEf,IAAK,IAAI5vE,KAAOywB,EAAKnR,SACfilB,EAAIvkC,IAAQo4C,EAAIp4C,IAAQukC,EAAIvkC,KAC9Bo4C,EAAIp4C,GAAOukC,EAAIvkC,GACfrR,KAAKimC,UAAS,MAKtB+5D,qBAAsB,WACpBhgG,KAAKsmC,uBAEPg9D,iBAAkB,SAAUnoC,GAC1B,IAAIl0D,EAASjH,KAAKoN,UASlB,OAPInG,EAAO0pB,WAAawqC,IACtBn7D,KAAK8+F,YAAc3jC,EAAal0D,EAAO0pB,SACvC3wB,KAAK6+F,sBAAwB7+F,KAAKotG,sBAC3BnmG,EAAO0pB,UAGZ3wB,KAAKoN,UAAUogG,gBAAgBxtG,KAAKytG,oBAAoBztG,KAAK8+F,YAAa73F,EAAOumG,gBAC9EryC,GAETsyC,oBAAqB,SAAUl+F,EAAKkzB,GAClC,IAAK,IAAI/hC,EAAI,EAAGA,EAAI6O,EAAI9N,OAAQf,IAAK,CACnC,IAAIsxB,EAAUziB,EAAI7O,GAClBf,EAAQ8J,OAAOuoB,EAASyQ,GACxB,IAEI/1B,EAFAghG,EAAejrE,EACfzQ,EAAQw7E,iBAAgBE,EAAe/tG,EAAQ8J,OAAO9J,EAAQ8J,OAAO,GAAIuoB,EAAQw7E,gBAAiB/qE,KAEpF/1B,EAAdslB,EAAQjZ,KAAY,CAACiZ,EAAQjZ,MAAiBiZ,EAAQvU,MAAQuU,EAAQpB,MAAQoB,EAAQtB,OAASsB,EAAQjZ,OAClG/Y,KAAKytG,oBAAoB/gG,EAAKghG,KAG3CllE,SAAU,SAAUzT,EAAIC,GACtB,IAAI5tB,EAAQk9F,GAAOj7D,IAAIb,SAASpmC,KAAKpC,KAAM+0B,EAAIC,GAC3CrnB,EAAS3N,KAAKmvB,gBACd9R,EAAQrd,KAAK6+F,sBAAwB,EAAI,EAG7C,OAFIlxF,GAAU3N,KAAK6+F,uBAAyBlxF,EAAOkxF,wBAAuBz3F,EAAMiW,IAAU,KAC1F/V,EAAetH,KAAMoH,GAAO,GACrBA,GAET0iB,OAAQ,aACRK,QAAS,WACPnqB,KAAK8pB,WAIL4lB,GAAU,CACZrG,IAAK6jE,GACLl4F,KAHWrV,EAAQwxB,QAAQ+7E,GAAO/+B,GAAYjpD,GAAgB47D,GAAQwjB,GAAOtvF,KAAM4xC,KAMjF+mD,GAAQ,CACV/nG,KAAM,OACNmE,SAAU,CACRzF,KAAM,OACN6+C,YAAY,GAEdyqD,iBAAiB,EACjBT,gBAAiB,aACjBC,gBAAgB,EAChBpjG,MAAO,WACLhK,KAAKgwB,SAASvY,aAAa,OAAQ,SAErC+wB,SAAU,SAAUzT,EAAIC,GAClBh1B,KAAKkoC,YAAcloC,KAAKoN,UAAUwM,QAAOmb,GAAMzW,GAAI6pB,YACvD,IAAI/gC,EAAQk9F,GAAOj7D,IAAIb,SAASpmC,KAAKpC,KAAM+0B,EAAIC,GAO/C,OALIh1B,KAAKoN,UAAUqe,QAAWzrB,KAAKoN,UAAU+1C,aAC3C/7C,EAAM,GAAKpH,KAAKoN,UAAU0M,QAAU9Z,KAAKoN,UAAUouB,WAAa,EAChEp0B,EAAM,GAAKpH,KAAKoN,UAAU0M,QAAU,KAG/B1S,IAKPymG,IAFSluG,EAAQwxB,QAAQw8E,GAAOj+D,GAAQ16B,MAEhC,CACVpP,KAAM,WACNmE,SAAU,CACRqxB,YAAY,EACZ0yE,SAAU,iBACVz6B,SAAU,GACVC,SAAU,IAEZtpE,MAAO,SAAU3J,GACfA,EAAI0Y,KAAO1Y,EAAI0Y,MAAQ,GACvB,IAAIuC,EAAMtb,KAAK+J,SAAS+jG,SACxB9tG,KAAKgwB,SAAS7X,WAAa,IAAMmD,EACjCtb,KAAKgwB,SAASvZ,UAAY,4BAA8B6E,EAAM,UAAYjb,EAAIg3B,SAAW,kBAAoB,IAAM,0BAA4B/b,EAAM,4BAEvJyyF,aAAc,SAAUvsG,GAEtB,OADAxB,KAAKgwB,SAAStf,WAAWL,WAAW,GAAGoG,UAAYjV,EAC5CA,GAETktB,cAAe,WACb,MAAO,CAAC1uB,KAAKguG,aAEfnxD,YAAa,SAAU51C,GAGrB,OAFAimB,GAAMQ,aAAe1tB,KACrBA,KAAKguG,WAAa3/E,GAAGpnB,EAAQjH,KAAKgwB,SAAStf,WAAWL,WAAW,IAC1DpJ,GAET40B,QAAS,WACP,OAAO77B,KAAKguG,YAEd7kE,eAAgB,WACd,GAAKnpC,KAAKguG,WAAV,CACA,IAAI/7F,EAAIjS,KAAKgoC,OAAShoC,KAAKoN,UAAUimE,SACjC55D,EAAIzZ,KAAKooC,QAAUpoC,KAAKoN,UAAUkmE,SAElClsE,EAAQpH,KAAKguG,WAAWxlE,SAAS,EAAG,GAGpCphC,EAAM,GAAK6K,IAAGA,EAAI7K,EAAM,IAExBA,EAAM,GAAKqS,IAAGA,EAAIrS,EAAM,IAE5BpH,KAAKguG,WAAWnmE,SAAS51B,EAAGwH,GAE5BzZ,KAAKy1B,WAEP+S,SAAU,SAAUv2B,EAAGwH,GACrB5S,EAAqB7G,MAAM,GAC3BiS,GAAKjS,KAAKoN,UAAUimE,SACpB55D,GAAKzZ,KAAKoN,UAAUkmE,SAEpB,IAAI/lE,EAAIvN,KAAKguG,WAAWxlE,SAASv2B,EAAGwH,GAEhCiK,EAAI1jB,KAAKiuG,gBAAkBtkE,GAAON,IAAIb,SAASpmC,KAAKpC,KAAMiS,EAAGwH,GAWjE,OATIiK,EAAE,GAAKnW,EAAE,KAAImW,EAAE,GAAKnW,EAAE,IACtBmW,EAAE,GAAKnW,EAAE,KAAImW,EAAE,GAAKnW,EAAE,IAEtBmW,EAAE,GAAKnW,EAAE,KAAImW,EAAE,GAAKnW,EAAE,IACtBmW,EAAE,GAAKnW,EAAE,KAAImW,EAAE,GAAKnW,EAAE,IAEtBmW,EAAE,GAAKA,EAAE,KAAIA,EAAE,GAAKA,EAAE,IACtBA,EAAE,GAAKA,EAAE,KAAIA,EAAE,GAAKA,EAAE,IAC1Bvc,EAAmBnH,EAAM0jB,GAClBA,GAETmkB,SAAU,SAAU51B,EAAGwH,GACjBkwB,GAAON,IAAIxB,SAASzlC,KAAKpC,KAAMiS,EAAGwH,KACpCxH,EAAIyH,KAAKwJ,IAAIljB,KAAKiuG,gBAAgB,GAAIh8F,GACtCwH,EAAIC,KAAKwJ,IAAIljB,KAAKiuG,gBAAgB,GAAIx0F,GAEtCzZ,KAAKguG,WAAWnmE,SAAS51B,EAAIjS,KAAKoN,UAAUimE,SAAU55D,EAAIzZ,KAAKoN,UAAUkmE,cAK3E46B,GAAW,CACb7kE,IAAKwkE,GACL74F,KAHWrV,EAAQwxB,QAAQ08E,GAAOlkE,GAAO30B,OAMvCm5F,GAAQ,CACVvoG,KAAM,YACNmE,SAAU,CACR+jG,SAAU,kBACVM,WAAY,GACZC,WAAY,OAEZ/6B,SAAU,EACVD,SAAU,GAEZxxC,SAAU,SAAUrgC,EAAOyF,GACrBjH,KAAKguG,WAAWnsE,SAAU7hC,KAAKguG,WAAWnsE,SAASrgC,EAAOyF,GAAiBjH,KAAKguG,WAAWtnF,WAAW1mB,KAAKguG,WAAWtnF,UAAUllB,GAAO,EAAOyF,IAEpJ2V,MAAO,WACL,QAAI5c,KAAKguG,WAAWpxF,OACX5c,KAAKguG,WAAWpxF,SAK3BxE,SAAU,WACR,OAAIpY,KAAKguG,WAAW51F,SAAiBpY,KAAKguG,WAAW51F,WAAoBpY,KAAKguG,WAAWvpE,UAAkBzkC,KAAKguG,WAAWvpE,iBAAtD,GAEvE5I,QAAS,WACP,OAAO77B,KAAKguG,YAEdl8E,MAAO,WACL9xB,KAAKsuG,cAAgB1gE,GAAQa,aAC7BzuC,KAAKuuG,cAAgB3gE,GAAQmB,aAC7B/uC,KAAKwuG,gBAAkB5gE,GAAQe,gBAEjC3kC,MAAO,WACLhK,KAAKslB,OAAO/jB,MAAK,WACf,IAAIo5D,EAAQ36D,KAAKgwB,SAAStf,WAAWL,WAAW,GAC5C0I,EAAO/Y,KAAKgwB,SAAStf,WAAWL,WAAW,GAC3CpJ,EAASjH,KAAKoN,UAUlB,GAR4B,OAAxBnG,EAAOwnG,eACTxnG,EAAOmnG,WAAannG,EAAO0zD,MAAQ36D,KAAK0uG,eAAeznG,EAAOmnG,WAAYnnG,EAAO0zD,OAAS,EAC1F1zD,EAAOosE,SAAWpsE,EAAOmnG,WAAapuG,KAAKuuG,gBAE3CtnG,EAAOqsE,SAAWtzE,KAAKwuG,gBACvBvnG,EAAOosE,SAAWrzE,KAAKuuG,gBAGpBtnG,EAAO0zD,QAAU1zD,EAAOmnG,YAAsC,OAAxBnnG,EAAOwnG,cAKhD,OAJA9zC,EAAMnjD,MAAMghB,QAAU,OACtBzf,EAAKvB,MAAMi5B,QAAU,KAAOzwC,KAAKuuG,cAAgB,EAAI,KACrDtnG,EAAOosE,SAAWrzE,KAAKuuG,mBACvBtnG,EAAOqsE,SAAW,GAIQ,OAAxBrsE,EAAOwnG,eACT9zC,EAAMnjD,MAAM2nC,WAAan/C,KAAKwuG,gBAAkBxuG,KAAKsuG,cAAgB,KACrE3zC,EAAMxiD,WAAa,IAAMnY,KAAK+J,SAAS+jG,SAAW,aAClD/0F,EAAKvB,MAAMi5B,QAAU,KAAOzwC,KAAKuuG,cAAgB,EAAI,MAChD5zC,EAAMnjD,MAAMoC,MAAQ3S,EAAOosE,SAAWrzE,KAAKuuG,cAAgB,EAAI,KAEtE5zC,EAAMnjD,MAAMoxE,UAAY3hF,EAAOonG,WAC3BpnG,EAAOzF,OAAOxB,KAAK6hC,SAAS56B,EAAOzF,MAAO,YAGlDktG,eAAgB,SAAU90F,EAAO+gD,GAE/B,MADa,QAAT/gD,IAAiBA,EAAQyB,GAAYs/C,EAAO,mBAAmB/gD,OAC5DA,EAAQF,KAAKgC,IAAI9B,EAAOg0B,GAAQ2C,aAAe,GAExDqxC,cAAe,SAAUz7E,GACvB,IAAIc,EAASjH,KAAKoN,UAElB,QAAmB,IAARjH,EAAqB,CAC9B,GAAIc,EAAO0nG,aAAexoG,EAAM,OAChCc,EAAO0nG,YAAcxoG,EAGvB,IAAID,GAAWe,EAAOqwB,QAAUrwB,EAAO06E,eAAiB,KAAO16E,EAAO0nG,YAElE3uG,KAAK4uG,iBACP3jG,GAAOjL,KAAK4uG,iBAGV1oG,IACFlG,KAAK6qB,MAAMrT,MAAM0Y,SAAW,WAC5BlwB,KAAK4uG,gBAAkB92F,GAAO,MAAO,CACnC0D,MAAS,yBACTwtB,KAAM/hC,EAAOqwB,QAAU,QAAU,GACjC,gBAAiB,MACjB9f,MAAO,4DAA8Do2B,GAAQiD,UAAY,WAAa7wC,KAAKuuG,cAAgB,GAAKtnG,EAAO0zD,MAAQ1zD,EAAOmnG,WAAa,IAAM,QACxKloG,GAEHlG,KAAKgwB,SAAStY,YAAY1X,KAAK4uG,oBAIxBjvG,EAAQwxB,QAAQg9E,GAAOD,GAASl5F,eAEpC65F,GAAS3wF,GAChB,OAAKA,EAAG1N,QACD0N,EAAG1N,QAAQhK,cADM,cAIjBsoG,GAAW5wF,EAAItY,GACtB,IAAKsY,EAAGlP,aAAc,OAAO,KAC7B,IAAImP,EAAOD,EAAGlP,aAAapJ,GAC3B,OAAOuY,EAAOA,EAAK3X,cAAgB,cAG5BuoG,KACP,IAAIC,EAAUH,GAAS7uG,MAEvB,OAAIivG,GAAWD,GAAiBC,GAAWD,GAAShvG,MAC7CivG,GAAW9D,MAAMnrG,MAG1B,IAAIivG,GAAa,CACfC,MAAO,SAAUhxF,GACf,IAAK,IAAIxd,EAAI,EAAGA,EAAIwd,EAAGzc,OAAQf,IAC7B,GAAIwd,EAAGxd,GAAGs6D,QAAS,OAAO98C,EAAGxd,GAAGc,MAGlC,MAAO,IAET41B,MAAO,SAAUlZ,GAGf,MAAa,aAFF4wF,GAAW5wF,EAAI,QAEMA,EAAG88C,QAC5B98C,EAAG1c,OAEZi8B,SAAU,SAAUvf,GAClB,OAAOA,EAAG1c,OAEZk8B,OAAQ,SAAUxf,GAChB,IAAIiV,EAAWjV,EAAGixF,cAClB,OAAOjxF,EAAG3J,QAAQ4e,GAAU3xB,OAE9B2pG,MAAO,SAAUjtF,GACf,OAAOA,EAAGzH,qBAIL24F,GAAgB5tG,GACvB,IAAIwtG,EAAUH,GAAS7uG,MAEvB,OAAIqvG,GAAWL,GAAiBK,GAAWL,GAAShvG,KAAMwB,GACnD6tG,GAAWlE,MAAMnrG,KAAMwB,GAGhC,IAAI6tG,GAAa,CACfH,MAAO,SAAUhxF,EAAI1c,GACnB,IAAK,IAAId,EAAI,EAAGA,EAAIwd,EAAGzc,OAAQf,IAC7Bwd,EAAGxd,GAAGs6D,QAAU98C,EAAGxd,GAAGc,OAASA,GAGnC41B,MAAO,SAAUlZ,EAAI1c,GAGN,aAFFstG,GAAW5wF,EAAI,QAEDA,EAAG88C,UAAUx5D,EAA0B0c,EAAG1c,MAAQA,GAE7Ei8B,SAAU,SAAUvf,EAAI1c,GACtB0c,EAAG1c,MAAQA,GAEbk8B,OAAQ,SAAUxf,EAAI1c,GACpB0c,EAAG1c,MAAQA,GAEc,IAArB0c,EAAGixF,gBAAsBjxF,EAAG1c,MAAQ0c,EAAGoxF,kBAAkB9tG,QAE/D2pG,MAAO,SAAUjtF,EAAI1c,GACnB0c,EAAGzH,UAAYjV,IAGf+tG,GAAQ,CACV3pG,KAAM,WACNoE,MAAO,SAAU/C,GACfjH,KAAK2wB,SAAW,GAChB3wB,KAAKwvG,iBAAkB,EACnBvoG,EAAOiW,UAAYjW,EAAOunB,WAAavnB,EAAOiW,UAAYjW,EAAOunB,WAAavnB,EAAOiW,SAAW5S,SAASyO,QAAO/Y,KAAKyvG,qBAAsB,IAEjJxN,eAAgB,SAAU/kF,GAGxB,GAFAA,EAAU9S,EAAO8S,GAEbld,KAAKyvG,oBAAmB,KACnBvyF,EAAQ7M,WAAW5O,OAAS,GACjCzB,KAAKgwB,SAAS3f,WAAW,GAAGqH,YAAYwF,EAAQ7M,WAAW,SAG7DrQ,KAAKgwB,SAAS3f,WAAW,GAAGqH,YAAYwF,GAK1C,OAFAld,KAAK0vG,iBAEE,GAET5lF,OAAQ,WACNw4E,GAAWj5D,IAAIvf,OAAOlhB,MAAM5I,KAAMsG,WAElCtG,KAAK0vG,iBAEPA,cAAe,WACb,IAAIlwB,EAASx/E,KAAKgwB,SAASuI,iBAAiB,UAE5Cv4B,KAAK2wB,SAAW,GAEhB,IAAK,IAAIjwB,EAAI,EAAGA,EAAI8+E,EAAO/9E,OAAQf,IAAK,CACtC,IAAIwd,EAAKshE,EAAO9+E,GAEZkF,EAAOkpG,GAAW5wF,EAAI,QAE1B,GAAItY,EAAM,CACR,IAAIoK,EAAuB,WAAjB6+F,GAAS3wF,GAEf5Z,EAAOwqG,GAAW5wF,EAAI,QAEtByxF,EAAa3/F,GAAgB,WAAT1L,GAA8B,WAATA,EAE7C,GAAa,UAATA,EAAkB,CACpB,IAAIoJ,EAAQ1N,KAAK2wB,SAAS/qB,IAAS,GACnC8H,EAAM8C,QAAU,QAChB9C,EAAMnM,KAAK2c,GACXA,EAAKxQ,EAGP1N,KAAK2wB,SAAS/qB,GAAQsY,EACtBA,EAAG9F,SAAW22F,GACd7wF,EAAG2jB,SAAWutE,GACdlxF,EAAGijE,cAAgBwuB,GAIvB,OAAO3vG,KAAK2wB,UAEds3B,cAAe,SAAU/gD,EAAI7G,GAC3BL,KAAK8mD,eAAe5/C,EAAI7G,GAExB,IAAI6d,EAAKle,KAAKgwB,SAASkH,cAAc,UAAahwB,EAAK,MAEnDgX,GAAIhD,GAAOgD,EAAI,YAErB4oC,eAAgB,SAAU5/C,GACxB,IAAIgX,EAAKle,KAAKgwB,SAASkH,cAAc,UAAahwB,EAAK,MAEnDgX,GAAI9C,GAAU8C,EAAI,YAExBtB,MAAO,SAAUhX,GACf,IAAKA,GAAQ5F,KAAK6qB,MAAMmN,SAAS1tB,SAASm1B,eAExC,OAAO,EAGTqhD,GAAOlkE,MAAMhU,MAAM5I,KAAMsG,aAKzBspG,IAFSjwG,EAAQwxB,QAAQo+E,GAAOjN,GAAWttF,KAAM8rE,IAEzC,CACVl7E,KAAM,WACNoE,MAAO,WACLhK,KAAKkjC,YAAY/qB,WAAa,kBAE9BnY,KAAKkjC,YAAYzrB,aAAa,OAAQ,WAEtCzX,KAAKwwB,iBAAmB,GACxBxwB,KAAK6M,YAAY,oBAAoB,SAAU3F,GAE7CgU,GADWlb,KAAKglD,YAAY99C,GACf,oBAEflH,KAAK6M,YAAY,mBAAmB,SAAU3F,EAAI2zD,GAEhDz/C,GADWpb,KAAKglD,YAAY6V,EAAO5zD,OAAOC,IAC1B,qBAGpB6C,SAAU,CACR8lG,UAAW,IACXnyC,UAAU,GAEZoyC,UAAW,CACT9yC,SAAU,SAAUx7D,GAClB,OAAQA,GAAmB,IAAVA,EAAmB,SAAS4qE,OAAO5qE,EAAMW,WAAWV,QAAtC,IAEjCy5D,SAAU,SAAU15D,GAClB,MAAO,wDAA0DA,EAAQ,UAAY,IAAM,KAE7Fu6D,MAAO,SAAUv6D,GACf,MAAO,gEAAkEA,GAAS,WAAa,YAAcA,IAGjHuuG,QAAS,CACPp1C,OAAO,GAET3B,IAEA,aACA3mC,SAAU,CACR29E,qBAAsB,SAAU/1F,GAC9B,IAAI/S,EAAKlH,KAAK0Y,OAAOuB,GACjBgD,EAAOjd,KAAK8jC,QAAQ58B,GAExB,OADAlH,KAAK8M,UAAU,UAAW,CAAC5F,EAAI+V,EAAKzb,OAASyb,EAAKzb,SAC3C,IAGXioE,YAAa,GACbwmC,aAAc,SAAUrqG,EAAMV,GAG5B,GAFK8D,EAAY9D,EAAK2kB,YAAW7pB,KAAK8vG,UAAUlqG,GAAQV,EAAK2kB,UACxD7gB,EAAY9D,EAAK21D,UAAS76D,KAAK+vG,QAAQnqG,GAAQV,EAAK21D,SACpD7xD,EAAY9D,EAAKmX,OAAQ,IAAK,IAAIhL,KAAOnM,EAAKmX,MACjDrc,KAAKqyB,SAAShhB,GAAOnM,EAAKmX,MAAMhL,IAGpC6+F,gBAAiB,SAAUhrG,GACzBlF,KAAKmwG,UAAY,GAEjB,IAAK,IAAIzvG,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,IAAK,CACpC,IAAIwsC,EAAOhoC,EAAKxE,GACC,eAAbwsC,EAAK5oC,OAAuB4oC,EAAKs7B,aAAc,GAEnDt7B,EAAKhmC,GAAKgmC,EAAKhmC,IAAMiD,IACrB+iC,EAAKytB,MAAQztB,EAAKytB,OAAS,GAC3BztB,EAAK1rC,MAAQ0rC,EAAK1rC,OAAS,GAC3BxB,KAAKmwG,UAAUjjE,EAAKhmC,IAAMxG,EAE1BV,KAAKgoE,aAAa9iE,EAAKxE,IAGzB,OAAOwE,GAETu3D,SAAU,SAAUv1D,GAClBomE,GAAY7Q,SAASr6D,KAAKpC,KAAMkH,IAElCwR,OAAQ,WACN,OAAOA,GAAOpS,UAAU,GAAItG,KAAKg5D,MAEnChU,YAAa,SAAU99C,GACrB,OAAOlH,KAAKiqB,SAAS5Z,WAAWrQ,KAAKmwG,UAAUjpG,KAEjD48B,QAAS,SAAU58B,GACjB,OAAOlH,KAAKoN,UAAUujB,SAAS3wB,KAAKmwG,UAAUjpG,KAEhDy3D,iBAAkB,SAAUz3D,GAC1B,IAAI5C,EAAOtE,KAAK8jC,QAAQ58B,GAAI5C,KAC5B,GAAY,YAARA,EAAoB,MAAO,kBAC/B,IAAI8rG,EAAapwG,KAAK+vG,QAAQzrG,GAC9B,OAAsB,IAAf8rG,IAA+BA,GAAc9rG,IAEtD46D,iBAAkB,SAAUh4D,GAC1B,OAAOlH,KAAK8jC,QAAQ58B,IAEtBg5D,gBAAiB,SAAUxjD,EAAOvB,EAAOsrB,GACvC,IAAI9iB,EAAM3jB,KAAKmwG,UAAUzzF,EAAMxV,IAC3BwwB,EAAQ13B,KAAKoN,UAAUujB,SAE3B,GAAI8V,GACF,IAAK,IAAI/lC,EAAIijB,EAAM,EAAGjjB,EAAIg3B,EAAMj2B,OAAQf,IACtC,GAAIya,EAAM/Y,KAAKpC,KAAM03B,EAAMh3B,GAAGwG,IAAK,OAAOwwB,EAAMh3B,GAAGwG,QAGrD,IAAK,IAAI9F,EAAKuiB,EAAM,EAAGviB,GAAM,EAAGA,IAC9B,GAAI+Z,EAAM/Y,KAAKpC,KAAM03B,EAAMt2B,GAAI8F,IAAK,OAAOwwB,EAAMt2B,GAAI8F,GAIzD,OAAO,MAETg+B,WAAY,SAAU7zB,EAAKnM,GACzB,IAAIgoC,EAAOltC,KAAK8jC,QAAQzyB,GACpB67B,GAAMvtC,EAAQ8J,OAAOyjC,EAAMhoC,GAAQ,IAAI,GAC3ClF,KAAKmqB,WAEP0B,cAAe,SAAU3kB,GACvB,IAAI8Q,EAAOhY,KAAKglD,YAAY99C,GAC5B,MAAO,CACLsS,KAAMxB,EAAK2nD,WAAa3/D,KAAKoN,UAAUyiG,UACvCt2F,IAAKvB,EAAK4nD,UACV9lD,OAAQ9B,EAAKtH,WAAWqJ,aACxBH,MAAO5Z,KAAKqwG,YACZ1iG,OAAQ3N,KAAKkjC,cAGjBotE,OAAQ,WAGN,IAFA,IAAInvD,EAAQnhD,KAAKoN,UAAUujB,SAElBjwB,EAAI,EAAGA,EAAIygD,EAAM1/C,OAAQf,IAChCygD,EAAMzgD,GAAGc,MAAQ,IAGrBmkB,MAAO,WACL3lB,KAAKswG,SAELtwG,KAAKuwG,eAAiB,GACtBvwG,KAAKmqB,WAEPzD,UAAW,SAAUxhB,EAAM+P,GACzB,IAAI2Q,EAAQ5lB,KAOZ,IAAK,IAAIqR,KALLrR,KAAKoN,UAAUq6C,cAAaviD,EAAOoiB,GAAWC,cAAcriB,EAAM,GAAI,IAAI,SAAUxB,GACtF,OAAOsF,EAAY4c,EAAMuqF,UAAUzsG,QAEhCuR,GAAQjV,KAAKswG,SAEFprG,EAAM,CACpB,IAAIgoC,EAAOltC,KAAK8jC,QAAQzyB,GACpB67B,IAAMA,EAAK1rC,MAAQ0D,EAAKmM,IAG9BrR,KAAKuwG,eAAiBrrG,EACtBlF,KAAKmqB,WAEPsa,UAAW,WAGT,IAFA,IAAIv/B,EAAOwC,EAAM1H,KAAKuwG,gBAAkB,IAE/B7vG,EAAI,EAAGA,EAAIV,KAAKoN,UAAUujB,SAASlvB,OAAQf,IAAK,CACvD,IAAIwsC,EAAOltC,KAAKoN,UAAUujB,SAASjwB,GAClB,SAAbwsC,EAAK5oC,OAAiBY,EAAKgoC,EAAKhmC,IAAMgmC,EAAK1rC,OAIjD,OADIxB,KAAKoN,UAAUq6C,cAAaviD,EAAOoiB,GAAWI,YAAYxiB,IACvDA,GAETilB,QAAS,WACPnqB,KAAK8pB,UAEP+d,SAAU,SAAU51B,EAAGwH,GACjBkwB,GAAON,IAAIxB,SAASzlC,KAAKpC,KAAMiS,EAAGwH,KACpCzZ,KAAKqwG,YAAcrwG,KAAKioC,eAAiBjoC,KAAKoN,UAAUyiG,UACxD7vG,KAAK8pB,WAGT0e,SAAU,SAAUzT,EAAIC,GACtB,GAAIh1B,KAAKoN,UAAU+1C,WAAY,CAC7B,IAAIxxC,EAAQ3R,KAAKoN,UAAUujB,SAASlvB,OACpCzB,KAAKoN,UAAU0M,OAASJ,KAAKgC,IAAI1b,KAAKsE,KAAKwV,OAASnI,EAAO3R,KAAKoN,UAAUouB,WAAa,GAGzF,OAAOmO,GAAON,IAAIb,SAASpmC,KAAKpC,KAAM+0B,EAAIC,IAE5CrL,QAAS,WACP,IAAI3R,EAAO,GACPw4F,EAAMxwG,KAAKoN,UAAUujB,SACzB,GAAI6/E,EAAK,IAAK,IAAI9vG,EAAI,EAAGA,EAAI8vG,EAAI/uG,OAAQf,IAAK,CAC5C,IAAIwE,EAAOsrG,EAAI9vG,GACXwE,EAAKoW,KAA4B,UAArBrb,EAAQiF,EAAKoW,OAAkBpW,EAAKoW,IAAMnE,GAAUjS,EAAKoW,MACzE,IAAI80C,EAAM,oBAEalrD,EAAKgC,GAAK,KAAsB,UAAdhC,EAAKZ,KAAmB,6BAAmC,IAAM,gCAAmCY,EAAKoW,KAAO,IAAM,KAC/J,GAAiB,SAAbpW,EAAKZ,KAAiB0T,EAAKtX,GAAK0vD,EAAM,0CAA4ClrD,EAAKy1D,MAAQ,mBAAoB,CACrH,IACIz9C,EADA4M,EAAS9pB,KAAK8vG,UAAU5qG,EAAKZ,MAE7BoP,EAAO,kDAAoD1T,KAAKoN,UAAUyiG,UAAY,OAAS3qG,EAAKy1D,MAAQ,wDAA0D36D,KAAKqwG,YAAc,OAG3LnzF,EADEhY,EAAKi2D,YAAcj2D,EAAKqP,QAChBrP,EAAK2kB,SAAS3kB,EAAMlF,KAAKsE,KAAMY,EAAK1D,MAAO0D,GAC5CA,EAAK8+B,OACJ9+B,EAAK8+B,OAAO9+B,EAAK1D,OACZ0D,EAAK1D,MAElBsoB,IAAQ5M,EAAU4M,EAAO1nB,KAAKpC,KAAMkF,EAAK1D,MAAO0D,IACpD8S,EAAKtX,GAAK0vD,EAAM18C,EAAOwJ,EAAU,gBAGrC,OAAOlF,EAAK3Q,KAAK,KAEnB/C,KAAM,CACJwV,OAAQ,GACRiwB,cAAe1hB,GAAS,IACxB2hB,YAAa3hB,GAAS,WAExByJ,MAAO,WACL9xB,KAAKsE,KAAKwV,OAAS8zB,GAAQgB,sBAK3B6hE,IAFS9wG,EAAQwxB,QAAQy+E,GAAOnlE,GAAa4yB,GAAakK,GAAemB,GAAayF,GAAYvkC,GAAc1kB,GAAgBlZ,EAAa29B,GAAO30B,MAE5I,CACVpP,KAAM,WACNmE,SAAU,CACRioD,KAAMqgC,GAAMM,SAAS,IAAInqF,MAEzBk+D,YAAY,EACZgqC,aAAa,EACbC,YAAY,EACZC,aAAa,EACbC,YAAY,EACZC,gBAAgB,EAChBC,eAAgB,QAEhB7jG,OAAQmlF,GAAMiD,UACd0b,WAAY,EACZC,SAAU,YACV9zC,OAAO,EACP+zC,iBAAkB,GAClB1L,aAAc,GACd2L,YAAa,SAAUrtG,GACrB,OAAOA,EAAEwvF,WAEX15E,MAAO,IACPE,OAAQ,KAEVs3F,mBAAoB/oF,GACpBgpF,sBAAuBhf,GAAMY,UAC7Bqe,oBAAqB,SAAUttE,GAE7B,OADAhkC,KAAKuxG,cAAgBvtE,EACdquD,GAAMY,UAAUjvD,IAEzBwtE,YAAa,SAAUx/C,GAGrB,OAFAA,EAAOqgC,GAAM9sC,KAAKvlD,KAAKyxG,gBAAgBz/C,KAClC6gC,QAAQ,GACN7gC,GAET0/C,eAAgB,SAAU1/C,GACxB,OAAOqgC,GAAMM,SAAS3yF,KAAKyxG,gBAAgBz/C,KAE7C2/C,eAAgB,SAAU3/C,GACxB,OAAOqgC,GAAMM,SAAS3yF,KAAKyxG,gBAAgBz/C,KAE7C4/C,eAAgB,SAAU38E,GAMxB,MALmB,iBAARA,IAETA,EAAO,EADPA,EAAO1pB,EAAKsmG,oBAAoB58E,IACnBu+D,WAAYv+D,EAAKw+D,eAGzBx+D,GAET68E,eAAgB,SAAU78E,GAMxB,MALmB,iBAARA,IAETA,EAAO,EADPA,EAAO1pB,EAAKsmG,oBAAoB58E,IACnBu+D,WAAYv+D,EAAKw+D,eAGzBx+D,GAET88E,WAAY,WACV,IAAInsF,EAAQ5lB,KAEZusB,GAAOvsB,KAAK6qB,MAAO,aAAa,WAC9BjF,EAAMosF,YAAc,IAAIxpG,QAG1B+jB,GAAOvsB,KAAK6qB,MAAO,SAAS,SAAU9lB,GAEpC,IAAI6gB,EAAMxY,UAAUhC,OAApB,CACA,IAAIypC,EAAO9vC,EAAEktG,cACT32F,GAAsD,IAAhDvW,EAAE+C,OAAOqQ,UAAUxL,QAAQ,iBAErC,GAAIkoC,GAAQ,IAAIrsC,KAASod,EAAMosF,YAAc,KAAO12F,GAAOsK,EAAMiF,MAAMmN,SAAS6c,GAAO,CACrF,IAAI0gD,EAAM3vE,EAAMssF,YAAYntG,EAAE+C,QAEzB8d,EAAMusF,aAAa5c,IAAM3vE,EAAM69C,eAAe8xB,OAEpD,CACD3oE,SAAS,KAGb5iB,MAAO,WACLhK,KAAKgwB,SAAS7X,WAAa,kBAE3BnY,KAAKgwB,SAASvY,aAAa,OAAQ,UAEnCzX,KAAKgwB,SAASvY,aAAa,aAAclM,EAAKigE,KAAKgjB,UAGnDxuF,KAAKoyG,eAAiB,GACtBpyG,KAAKqyG,eAAiB,GACtBryG,KAAKsyG,YAAc,EAEnBtyG,KAAK+xG,aAEL/xG,KAAK6M,YAAY,aAAc7M,KAAK+oC,cAEtCA,YAAa,SAAUjgC,EAAM/D,GAC3B,IAAI+C,EAAS/C,EAAE+C,OACXkhC,EAAOlhC,EAAOkH,aAAa,QAEjB,KAATlG,GAAwB,KAATA,GAAyB,UAARkgC,GAA4B,OAARA,GAAmBhpC,KAAKoN,UAAUyT,WACzFlG,GAAa7S,EAAQ,aAAc,SACnC0S,GAAazV,KAGjBwtG,kBAAmB,SAAU/wG,GAC3B,OAAOkY,KAAKgC,IAAIhC,KAAKwJ,IAAI1hB,EAAO,IAAKxB,KAAK+J,SAASinG,aAErDvjC,YAAa,SAAUjsE,GAQrB,MAPa,QAATA,GACFxB,KAAKwyG,UAAW,EAChBxyG,KAAKsyG,aAAc,GACD,QAAT9wG,IACTxB,KAAKyyG,QAAS,GAGTjxG,GAETqmC,SAAU,SAAU51B,EAAGwH,GACjBkwB,GAAON,IAAIxB,SAASzlC,KAAKpC,KAAMiS,EAAGwH,IAEpCzZ,KAAK8pB,UAGT0e,SAAU,SAAUzT,EAAIC,GACtB,IAAItR,EAAI1jB,KAAKoN,UAEb,GAAIsW,EAAEgvF,aAAehvF,EAAEpf,KAAM,CAC3B,IAAId,EAAQxD,KAAK2yG,mBAAmBjvF,EAAEsuC,MAEtCtuC,EAAE5J,OAAS4J,EAAEgvF,WAAalvG,EAAMovG,MAAQlvF,EAAE8hF,cAAgB9hF,EAAEitF,WAAa/iE,GAAQ4C,yBAA2B,IAAM9sB,EAAEmvF,YAAc7yG,KAAK8yG,OAASpvF,EAAEwtF,iBAAmB,GAAqD,GAA/ClxG,KAAK+yG,iBAAmBnlE,GAAQpE,aAG7M,OAAOG,GAAON,IAAIb,SAASpmC,KAAKpC,KAAM+0B,EAAIC,IAE5C8mC,cAAe,SAAUhqD,EAAMzL,EAASuW,GACtC,IAAI5c,KAAKiH,OAAOmE,OAAhB,CAEA,IAAIsR,EAAQ1c,KAAKgzG,iBAAgB,GAC7BhhD,EAAOqgC,GAAM9sC,KAAK7oC,GAAS1c,KAAKizG,kBAEpCjzG,KAAKyjE,eAAezR,EAAMlgD,EAAM8K,KAElC6mD,eAAgB,SAAUzR,EAAMlgD,EAAM8K,GACpC,IAAItB,EAAMtb,KAAKkzG,YAAYlzG,KAAKsyG,aAAaa,UAAUnhD,EAAMlgD,EAAM9R,OAErD,IAAV4c,GAAiB5c,KAAKozG,eAAe93F,IAE3C83F,eAAgB,SAAU93F,EAAK0mE,GAC7B,IAAIz+C,GAIFA,EAFEy+C,GACFz+C,EAAMvjC,KAAKgwB,SAASkH,cAAc,oBACxB7mB,WAAW2xE,EAAIqxB,MAAMhjG,WAAW2xE,EAAIsxB,MAAQtzG,KAAKoN,UAAUyjG,WAAa,EAAI,IAC3E7wG,KAAKgwB,SAASkH,cAAc,IAAM5b,EAAM,oBAE5CioB,EAAI3mB,SAEf+1F,mBAAoB,SAAU3gD,EAAM9mC,GAKlC,IAAKlrB,KAAKuzG,kBAAoBroF,EAAO,CACnC,IAAIsoF,EAAQxhD,EAAKohC,WACbqgB,EAAOzhD,EAAKuhC,cACZlyF,EAAO,IAAImH,KAAKirG,EAAMD,EAAQ,EAAG,GACjC92F,EAAQ21E,GAAMI,UAAU,IAAIjqF,KAAKirG,EAAMD,EAAO,IAC9CE,EAAOh6F,KAAKC,OAAOtY,EAAK6I,UAAYwS,EAAMxS,WAAc,OACxDuT,EAAOzd,KAAKoN,UAAU0jG,eAAiBp3F,KAAKiC,KAAK+3F,EAAO,GAAK,EACjE1zG,KAAKuzG,iBAAmB,CACtBI,OAAQH,EACRI,OAAQl3F,EACR2kF,MAAOhgG,EACPuxG,MAAOn1F,GAIX,OAAOzd,KAAKuzG,kBAEdzhF,MAAO,WACD8b,GAAQ4gD,WACN5gD,GAAQ4gD,SAAS50E,QAAO5Z,KAAK+J,SAAS6P,MAAQg0B,GAAQ4gD,SAAS50E,OAC/Dg0B,GAAQ4gD,SAAS10E,SAAQ9Z,KAAK+J,SAAS+P,OAAS8zB,GAAQ4gD,SAAS10E,QACjE8zB,GAAQ4gD,SAASgX,eAAcxlG,KAAK+J,SAASy7F,aAAe53D,GAAQ4gD,SAASgX,cAC7E53D,GAAQ4gD,SAAS0iB,mBAAkBlxG,KAAK+J,SAASmnG,iBAAmBtjE,GAAQ4gD,SAAS0iB,mBAG3FlxG,KAAK+yG,iBAAmBnlE,GAAQ+B,cAAc7N,MAEhD+xE,sBAAuB,SAAU7hD,GAW/B,IAVA,IAAI8hD,EAAS9zG,KAAK2yG,mBAAmB3gD,GAEjCtuC,EAAI1jB,KAAKoN,UACT2mG,EAAiB,GACjBC,EAAgB,GAChB9wF,EAAMygC,EAAAA,EACNlqB,EAAiBz5B,KAAKioC,eAAiE,GAA/CjoC,KAAK+yG,iBAAmBnlE,GAAQpE,aACxE7P,EAAkB35B,KAAKqoC,iBAAmB3kB,EAAEktF,YAAcltF,EAAE8hF,aAAe,IAAM9hF,EAAEitF,WAAa/iE,GAAQ4C,yBAA2B,IAAM9sB,EAAEmvF,YAAc7yG,KAAK8yG,OAASpvF,EAAEwtF,iBAAmB,GAAqD,GAA/ClxG,KAAK+yG,iBAAmBnlE,GAAQpE,aAClOyqE,EAAgBvwF,EAAEmtF,WAAa,EAAI,EAE9BnwG,EAAI,EAAGA,EAAIuzG,EAAevzG,IACjCszG,EAActzG,GAAKgZ,KAAKiC,KAAK8d,GAAkBw6E,EAAgBvzG,IAC/D+4B,GAAkBu6E,EAActzG,GAChCwiB,EAAMxJ,KAAKwJ,IAAIA,EAAK8wF,EAActzG,IAKpC,IAFA,IAAIwzG,EAAaJ,EAAOlB,MAEf7iG,EAAI,EAAGA,EAAImkG,EAAYnkG,IAC9BgkG,EAAehkG,GAAK2J,KAAKiC,KAAKge,GAAmBu6E,EAAankG,IAC9D4pB,GAAmBo6E,EAAehkG,GAClCmT,EAAMxJ,KAAKwJ,IAAIA,EAAK6wF,EAAehkG,IAGrC,MAAO,CAACikG,EAAeD,EAAgB7wF,IAEzCixF,aAAc,SAAU3yG,GACjBA,EAAqD,UAAlBvB,EAAQuB,GAAoBxB,KAAK8yG,OAAStxG,EAAWxB,KAAK8yG,OAAS9yG,KAAKo0G,QAApGp0G,KAAK8yG,OAAS,MAE5BA,OAAQ,GACRsB,QAAS,CAAC,CACRvqF,SAAU,WACR,MAAO,gFAAkFte,EAAKijF,SAASO,MAAQ,WAEjH18D,SAAU,CACRgiF,qBAAwB,WACtB,IAAIriD,EAAO,IAAIxpD,KACVxI,KAAKoN,UAAUylG,aAAY7gD,EAAOqgC,GAAMM,SAAS3gC,IACtDhyD,KAAK6hC,SAASmwB,EAAM,QACpBhyD,KAAK8M,UAAU,aAAc,CAAC9M,KAAKgzG,uBAGtC,CACDnpF,SAAU,WACR,MAAO,gFAAkFte,EAAKijF,SAAS7oE,MAAQ,WAEjH0M,SAAU,CACRiiF,qBAAwB,WACtBt0G,KAAK6hC,SAAS,GAAI,QAClB7hC,KAAK8M,UAAU,cAAe,CAAC9M,KAAKgzG,wBAI1C7oF,QAAS,WACPnqB,KAAK8pB,UAEPA,OAAQ,WAEN9pB,KAAKsyG,YAAc,EACnBtyG,KAAKu0G,YAAa,EAClB,IAAI7wF,EAAI1jB,KAAKoN,UACb,GAAKpN,KAAKgqB,UAAUtG,EAAExc,IAAtB,CACAlH,KAAKw0G,cAAgBniB,GAAMM,SAAS,IAAInqF,MACxCxI,KAAK8M,UAAU,iBAAkB,IACjC,IAAIklD,EAAOhyD,KAAKizG,iBAEZa,EAAS9zG,KAAK2yG,mBAAmB3gD,GAAM,GAEvC5qD,EAAQpH,KAAK6zG,sBAAsB7hD,GAEnCyiD,EAAOz0G,KAAK+yG,iBAAmB,KAC/Bn5F,EAAQxS,EAAM,GACd0S,EAAS1S,EAAM,GACf4Q,EAAO,GAEP0L,EAAEktF,cACJ54F,GAAQ,gDAAkDy8F,EAAO,2FAA8F/wF,EAAEgtF,aAAgBhtF,EAAEgjD,WAAkC,+BAArB,oBAAuD,IAAMhjD,EAAEqtF,eAAe/+C,GAAQ,UAClRtuC,EAAEgjD,aAAY1uD,GAAQ,+CAAiDzM,EAAKigE,KAAKkkB,SAAS,GAAK,qFAAuFnkF,EAAKigE,KAAKkkB,SAAS,GAAK,0CAClN13E,GAAQ,UAGN0L,EAAEitF,aAAY34F,GAAQ,iDAAmDy8F,EAAO,wBAA0Bz0G,KAAK00G,eAAe96F,GAAS,UAC3I5B,GAAQ,2DAA6Dy8F,EAAO,KAAOz0G,KAAK20G,eAAe/6F,EAAOE,EAAQg6F,EAAQ1sG,EAAM,IAAM,UAEtIsc,EAAEmvF,YAAc7yG,KAAK8yG,UACvB96F,GAAQ,iDAAmDy8F,EAAO,KAC9D/wF,EAAEmvF,aAAY76F,GAAQhY,KAAK40G,qBAAqB5iD,IAChDhyD,KAAK8yG,SAAQ96F,GAAQhY,KAAK60G,mBAC9B78F,GAAQ,UAGVhY,KAAKkjC,YAAYzsB,UAAYuB,EAC7BhY,KAAKkjC,YAAYxyB,WAAW8G,MAAMqyF,UAAY4K,EAEhC,QAAV/wF,EAAEpf,KACJtE,KAAK80G,kBAAiB,EAAI9iD,GACP,SAAVtuC,EAAEpf,KACXtE,KAAK80G,iBAAiB,EAAG9iD,GACN,QAAVtuC,EAAEpf,MACXtE,KAAK80G,iBAAiB,EAAG9iD,GAG3BhyD,KAAKknC,aAELlnC,KAAK8M,UAAU,gBAAiB,MAElC+nG,gBAAiB,SAAU7iD,GAIzB,IAHA,IAAIh6C,EAAO,gCACPmlD,EAAQn9D,KAAK8yG,OAERpyG,EAAI,EAAGA,EAAIy8D,EAAM17D,OAAQf,IAAK,CACrC,GAAIy8D,EAAMz8D,GAAGmpB,SAAU,CACrB,IAAIq8E,EAA0C,mBAArB/oC,EAAMz8D,GAAGmpB,SAAyBszC,EAAMz8D,GAAGmpB,SAAWq8E,EAAY/oC,EAAMz8D,GAAGmpB,UACpG7R,GAAQkuF,EAAY9jG,KAAKpC,KAAMgyD,GAG7BmL,EAAMz8D,GAAG2xB,UACX1yB,EAAQ8J,OAAOzJ,KAAKqyB,SAAU8qC,EAAMz8D,GAAG2xB,UAK3C,OADAra,GAAQ,UAGV48F,qBAAsB,SAAU5iD,GAC9B,IAAIg8B,EAAahuF,KAAKoN,UAAU2nG,cAAgBxpG,EAAKypG,cACjDC,EAAQj1G,KAAKoN,UAAU6jG,SACvBiE,EAAM,GACV,GAAKl1G,KAAKoN,UAAUhC,OAA8M,CAEhO,IAAI+pG,EAAattG,EAAKgnB,GAAG7uB,KAAKoN,UAAUhC,QAAQgC,UAAU5L,OAG1D,IAAK,IAAId,KAFL2xF,GAAMV,MAAMwjB,EAAWx4F,IAAKq1C,KAAOmjD,EAAWz4F,MAAQy4F,EAAWx4F,KAEvDw4F,EACZD,GAAO,2DAA6Dx0G,EAAI,4CAA8Cu0G,EAAQ,aAAejnB,EAAWmnB,EAAWz0G,IAAM,cANjJw0G,EAAM,yDAA2Dl1G,KAAK8yG,OAAS,wBAA0B,IAAM,6BAA+BmC,EAAQ,aAAejnB,EAAWh8B,GAAQ,SASpN,OAAOkjD,GAETR,eAAgB,SAAUlwF,GACxB,IAAId,EAAI1jB,KAAKoN,UACTgoG,EAAgB,GAChBzR,EAAa,EAEbjgF,EAAEmtF,aACJlN,EAAa,EACbyR,GAAiB,oDAAsD5wF,EAAO,GAAK,UAAYd,EAAE2xF,oBAAsB,IAAM,UAK/H,IAFA,IAAItlG,EAAIsiF,GAAMC,cAAgB,EAAI,EAEzB5xF,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAE1B,IAAI40G,GAAavlG,EAAIrP,GAAK,EAEtB60F,EAAMhqF,EAAKijF,SAASI,SAAS0mB,GAEjCF,GAAiB,aAAeE,EAAY,mBAAqB9wF,EAAO9jB,EAAIijG,GAAc,SAAWpO,EAAM,SAG7G,OAAO6f,GAETG,kBAAmB,SAAU/zG,GAC3B,OAAOgJ,EAAUhJ,EAAOxB,KAAKyM,SAE/B+oG,SAAU,SAAUjgB,EAAKue,GACvB,IAAIx4F,EAAM,GACNm6F,GAAY,EAYhB,OAXIpjB,GAAMV,MAAM4D,EAAKv1F,KAAKw0G,iBAAgBl5F,GAAO,oBAC5Ctb,KAAK01G,WAAWngB,KAAMj6E,GAAO,2BAE9Bi6E,EAAInC,YAAc0gB,EAAOH,SAC3B8B,GAAY,EACZn6F,GAAO,uBAGJm6F,GAAaz1G,KAAKmyG,aAAa5c,KAAMj6E,GAAO,qBAC7Ctb,KAAKoN,UAAUF,SAAQoO,GAAO,KAAOtb,KAAKoN,UAAUF,OAAOqoF,EAAKkgB,IAAc,KAClFn6F,GAAO,kBAGTq5F,eAAgB,SAAUnwF,EAAQE,EAASovF,EAAQ6B,GAQjD,IAPA,IAKIC,EALAlyF,EAAI1jB,KAAKoN,UACTsP,EAAQgH,EAAEmtF,WAAa,EAAI,EAC3Btb,EAAMlD,GAAMM,SAASN,GAAM9sC,KAAKuuD,EAAOF,SACvC/C,EAAaxe,GAAMuB,WAAWvB,GAAMn1D,IAAIq4D,EAAK,EAAG,OAAO,IACvDv9E,EAAO,GAGFyB,EAAI,EAAGA,EAAIiL,EAAQjjB,OAAQgY,IAAK,CACvCzB,GAAQ,uDAAyD0M,EAAQjL,GAAK,kBAAoBiL,EAAQjL,GAAK,OAE3GiD,KAEG64E,EAAInC,YAAcmC,EAAIjC,UAAY,IAAGud,EAAaxe,GAAMuB,WAAWvB,GAAMn1D,IAAIq4D,EAAK,EAAG,OAAO,KACjGv9E,GAAQ,mEAAqEwM,EAAO,GAAK,OAASqsF,EAAa,UAGjH,IAAK,IAAI5+F,EAAIyK,EAAOzK,EAAIuS,EAAO/iB,OAAQwQ,IAAK,CAC1C,IAAIsxB,EAAMvjC,KAAKmyG,aAAa5c,GAExBj6E,EAAMtb,KAAKw1G,SAASjgB,EAAKue,GAEzBhwG,EAAI4f,EAAEytF,YAAY/uG,KAAKpC,KAAMu1F,GAC7BsgB,EAAS,GAEK,UAAd51G,EAAQ6D,IACV+xG,EAAS/xG,EAAE0nE,MAAQqqC,EACnB/xG,EAAIA,EAAEqC,MACD0vG,EAASxjB,GAAMY,UAAU1nF,EAAKigE,KAAKuiB,WAA1BsE,CAAsCkD,GAEtD,IAAIkgB,EAAYlgB,EAAInC,YAAc0gB,EAAOH,OAErCpoC,EAAWhoC,IAAQkyE,EAAY,IAAM,KACpB,GAAjBlgB,EAAIjC,WAAmBmiB,IAAWlqC,EAAW,mBACjC,KAAZA,IAAiBqqC,GAAY,GACjC59F,GAAQ,aAAe/F,EAAI,sBAAwBwjG,EAAY,qBAAuB,IAAM,gBAAkBI,EAAS,eAAiBtqC,EAAW,qBAAuBhoC,IAAQkyE,EAAY,OAAS,SAAW,YAAcn6F,EAAM,qCAAuCkJ,EAAOvS,GAAK,yFAA2FjS,KAAK81G,mBAAmBH,EAAQA,GAAU,KAAO7xG,EAAI,iBACzayxF,EAAMlD,GAAMn1D,IAAIq4D,EAAK,EAAG,QAChB/B,aAAY+B,EAAMlD,GAAMM,SAAS4C,IAG3Cv9E,GAAQ,SACR64F,IAGF,OAAO74F,EAAKtN,QAAQ,kBAAmBkrG,GAAalyF,EAAEtY,OAAS,KAAO,MAExE2qG,YAAa,SAAUz2E,EAAK+mB,GACrBA,IACHA,EAAOrmD,KAAKkzG,YAAYlzG,KAAKsyG,aAAa0D,aAG5C,IAAIvsD,EAAMzpD,KAAKoN,UAAU4kD,KACrB3wD,EAAOgxF,GAAMn1D,IAAIusB,EAAKnqB,EAAM+mB,EAAM,SAAS,GAE/CrmD,KAAKi2G,oBAAoBxsD,EAAKpoD,EAAMi+B,IAEtC22E,oBAAqB,SAAUxsD,EAAKpoD,EAAMi+B,GACxC,GAAIt/B,KAAK8M,UAAU,sBAAuB,CAAC28C,EAAKpoD,IAAQ,CACtD,GAAIrB,KAAKsyG,YACPtyG,KAAKk2G,mBAAmB70G,QAIxB,GAFArB,KAAKm2G,aAAa90G,GAEdrB,KAAKoN,UAAUwjG,aAAe5wG,KAAKoN,UAAUs5D,WAAY,CAC3D,IAAIprD,EAAM,cAAgBgkB,EAAM,EAAI,OAAS,QAAU,UAEvDt/B,KAAKozG,eAAe93F,GAIxBtb,KAAK8M,UAAU,qBAAsB,CAACzL,EAAMooD,MAGhDypD,YAAa,CACX,KAAM,CACJkD,WAAY,SAAU11G,GACpB,IAAIuG,EAASjH,KAAKoN,UACd4kD,EAAO/qD,EAAO+qD,KACdqkD,GAAY,EACZC,EAAUrvG,EAAOsvG,QAAUtvG,EAAOsvG,QAAQ,GAAK,EAC/CC,EAAUvvG,EAAOwvG,QAAUxvG,EAAOwvG,QAAQ,IAAMxvG,EAAOwvG,QAAQ,GAAK,EAAI,GAAK,GAC7EC,EAAYzvG,EAAOsvG,SAAWvkD,EAAKwhC,YAAc8iB,EAAUrvG,EAAOsvG,QAAQ,GAAK,EAC/EI,EAAY1vG,EAAOwvG,SAAWxvG,EAAOwvG,QAAQ,IAAMzkD,EAAKwhC,YAAcgjB,EAAU,EAAIvvG,EAAOwvG,QAAQ,GAAK,GAE5G,GAAIz2G,KAAKoN,UAAUwpG,UAAW,CAC5B,IAAI9yG,EAAIuuF,GAAM9sC,KAAKyM,GACnBluD,EAAEoxF,WAAWx0F,GACb21G,EAAYr2G,KAAKoN,UAAUwpG,UAAU9yG,GAGvC,OAAOpD,EAAIg2G,GAAah2G,GAAKi2G,GAAaN,GAE5CQ,YAAa,SAAUx1G,EAAMX,GAC3BW,EAAK6zF,WAAWx0F,IAElBo2G,YAAa,SAAU9kD,EAAMlgD,EAAM08E,GACjC,IAAKxuF,KAAKo2G,WAAWh0G,KAAKosF,EAAUx8B,EAAKyhC,cAAe,OAAOzhC,EAC7D,IAAI3L,EAAOmoC,EAASphF,UAAU4jG,WAC1B+F,EAAU1kB,GAAMn1D,IAAI80B,EAAc,SAARlgD,EAAkBu0C,GAAQA,EAAM,UAAU,GACxE,OAAI2L,EAAKwhC,aAAeujB,EAAQvjB,WAAmBxzF,KAAK82G,YAAYC,EAASjlG,EAAM08E,QAAnF,IAIN,KAAM,CACJ4nB,WAAY,SAAU11G,GACpB,IAAIuG,EAASjH,KAAKoN,UACd4kD,EAAO/qD,EAAO+qD,KACdskD,EAAUrvG,EAAOsvG,QAAUtvG,EAAOsvG,QAAQ,GAAK,EAC/CC,EAAUvvG,EAAOwvG,QAAUxvG,EAAOwvG,QAAQ,IAAMxvG,EAAOwvG,QAAQ,GAAK,EAAI,GAAK,GACjF,GAAI/1G,EAAI41G,GAAW51G,GAAK81G,EAAS,OAAO,EAExC,GAAIvvG,EAAO2vG,UAAW,CACpB,IAAI9yG,EAAIuuF,GAAM9sC,KAAKyM,GACnBluD,EAAEgxF,SAASp0F,GAIX,IAHA,IAAIg2G,EAAYzvG,EAAOsvG,SAAW71G,GAAK41G,EAAUrvG,EAAOsvG,QAAQ,GAAK,EACjEI,EAAY1vG,EAAOwvG,SAAWxvG,EAAOwvG,QAAQ,IAAM/1G,GAAK81G,EAAU,EAAIvvG,EAAOwvG,QAAQ,GAAK,GAErFl1D,EAAIm1D,EAAWn1D,EAAIo1D,EAAWp1D,GAAKt6C,EAAO+pG,WAEjD,GADAltG,EAAEoxF,WAAW3zC,IACRt6C,EAAO2vG,UAAU9yG,GAAI,OAAO,EAGnC,OAAO,IAGX+yG,YAAa,SAAUx1G,EAAMX,GAC3BW,EAAKyzF,SAASp0F,IAEhByyG,UAAW,SAAUnhD,EAAMlgD,EAAM08E,GAC/B,IAAIuoB,EACA9rC,EACA5kB,EAAOmoC,EAASphF,UAAU4jG,WA6B9B,MA3Ba,WAATl/F,GAA8B,QAATA,GACvBkgD,EAAK8iC,SAAkB,WAAThjF,EAAoB,GAAK,GACvCkgD,EAAKkjC,WAAoB,WAATpjF,EAAoB,GAAK,GACzCkgD,EAAKmjC,WAAW,GAChBnjC,EAAKojC,gBAAgB,GACrB2hB,EAAU/kD,GACQ,SAATlgD,GAA4B,UAATA,GAE5Bm5D,EAAe,UAATn5D,EAAmBu0C,GAAQA,EACpB,SAATv0C,GAAmBkgD,EAAKyhC,aAAeptC,IAAM4kB,EAAM,GAAK5kB,GAC/C,UAATv0C,GAAoBkgD,EAAKyhC,cAAgB,GAAKptC,IAAM4kB,EAAM5kB,EAAO,IACrE4kB,GAAOjZ,EAAKyhC,aAAeptC,EAC3B0wD,EAAUvoB,EAAS0kB,aAAY,GAAM4D,YAAYzkB,GAAMn1D,IAAI80B,EAAMiZ,EAAK,UAAWn5D,EAAM08E,IACrE,OAAT18E,GAA0B,SAATA,GAE1Bm5D,EAAe,SAATn5D,EAAkB,GAAI,EACf,SAATA,GAAuC,KAApBkgD,EAAKwhC,aAAmBvoB,GAAM,IACxC,OAATn5D,GAAqC,IAApBkgD,EAAKwhC,aAAkBvoB,EAAM,IAClD8rC,EAAU/2G,KAAK82G,YAAYzkB,GAAMn1D,IAAI80B,EAAMiZ,EAAK,QAASn5D,EAAM08E,KAC7C,IAAT18E,IAAgBilG,EAAU/2G,KAAK82G,YAAY9kD,EAAMlgD,EAAM08E,IAE9DuoB,IACFvoB,EAAS0nB,mBAAmBa,GAE5BvoB,EAASwoB,WAAWD,GAAS,GAAO,EAAO,SAGtC,mBAA8B,SAATjlG,GAA4B,UAATA,EAAmB,OAAS,KAE7EglG,YAAa,SAAU9kD,EAAMlgD,EAAM08E,GACjC,IAAKxuF,KAAKo2G,WAAWh0G,KAAKosF,EAAUx8B,EAAKwhC,YAAa,OAAOxhC,EAC3D,IAAI+kD,EAAU1kB,GAAMn1D,IAAI80B,EAAc,QAARlgD,EAAiB,GAAI,EAAI,QAAQ,GAC/D,OAAIkgD,EAAKshC,YAAcyjB,EAAQzjB,UAAkBtzF,KAAK82G,YAAYC,EAASjlG,EAAM08E,QAAjF,IAIN,EAAK,CAEHwnB,YAAa,EACb7C,UAAW,SAAUnhD,EAAMlgD,EAAM08E,GAC/B,IAAIuoB,EAAU/kD,EAId,MAHa,SAATlgD,GAA4B,WAATA,EAAmBilG,EAAU1kB,GAAMn1D,IAAI80B,EAAe,WAATlgD,EAAoB,GAAI,EAAI,SAA2B,WAATA,EAAmBilG,EAAU,IAAIvuG,KAAKwpD,EAAKuhC,cAAevhC,EAAKohC,WAAa,EAAG,GAAqB,QAATthF,EAAgBilG,EAAU,IAAIvuG,KAAKwpD,EAAK6gC,QAAQ,IAAsB,SAAT/gF,GAA4B,UAATA,EAAkBilG,EAAU1kB,GAAMn1D,IAAI80B,EAAe,UAATlgD,EAAmB,GAAI,EAAI,OAAyB,OAATA,GAA0B,SAATA,IAAiBilG,EAAU1kB,GAAMn1D,IAAI80B,EAAe,SAATlgD,EAAkB,GAAI,EAAI,SACrc08E,EAASknB,WAAWqB,KAAUA,EAAUvoB,EAASsoB,YAAY9kD,EAAMlgD,IACpEilG,GAASvoB,EAASwoB,WAAWD,GAAS,GAAM,EAAO,QAChD,kBAGX,EAAK,CAEHX,WAAY,SAAU11G,GACpB,IAAIsxD,EAAOhyD,KAAKizG,iBAChBjhD,EAAK+gC,SAASryF,GAEd,IAAIu2G,EAAUj3G,KAAKoN,UAAU8pG,YAAcl3G,KAAKoN,UAAU8pG,WAAW90G,KAAKpC,KAAMgyD,GAE5E9uC,EAAMljB,KAAKoN,UAAU+pG,QACrBz7F,EAAM1b,KAAKoN,UAAUgqG,QACrB3D,EAAOzzG,KAAKoN,UAAU4kD,KAAKuhC,cAE/B,GAAIrwE,IAAQ+zF,EAAS,CACnB,IAAII,EAAUn0F,EAAIqwE,cAClB0jB,EAAUxD,EAAO4D,GAAW5D,GAAQ4D,GAAWn0F,EAAIkwE,WAAa1yF,EAGlE,GAAIgb,IAAQu7F,EAAS,CACnB,IAAIK,EAAU57F,EAAI63E,cAClB0jB,EAAUxD,EAAO6D,GAAW7D,GAAQ6D,GAAW57F,EAAI03E,WAAa1yF,EAGlE,OAAOu2G,GAETviB,aAAc,SAAU1iC,EAAMw8B,GAS5B,OARAx8B,EAAOqgC,GAAMO,WAAW5gC,IAEbw8B,EAASphF,UAAU+pG,QAC5BnlD,EAAOqgC,GAAM9sC,KAAKipC,EAASphF,UAAU+pG,SAC5BnlD,EAAOw8B,EAASphF,UAAUgqG,UACnCplD,EAAOqgC,GAAM9sC,KAAKipC,EAASphF,UAAUgqG,UAGhCplD,GAETulD,UAAW,SAAUvlD,GACnB,OAAOA,EAAKuhC,eAEdikB,YAAa,SAAU92G,GACrB,OAAO6K,EAAKijF,SAASE,WAAWhuF,IAElCm2G,YAAa,SAAUx1G,EAAMX,GACvBA,GAAKW,EAAK+xF,YAAY/xF,EAAKwxF,QAAQ,GACvCxxF,EAAK0xF,SAASryF,IAEhBs1G,YAAa,GACb7C,UAAW,SAAUnhD,EAAMlgD,EAAM08E,GAC/B,IAAIuoB,EAAU/kD,EAcd,MAba,SAATlgD,GAA4B,WAATA,EAAmBilG,EAAU1kB,GAAMn1D,IAAI80B,EAAe,WAATlgD,EAAoB,GAAI,EAAI,QAA0B,WAATA,EAAmBilG,EAAU,IAAIvuG,KAAKwpD,EAAK+gC,SAAS,KAAuB,QAATjhF,EAAgBilG,EAAU,IAAIvuG,KAAKwpD,EAAK+gC,SAAS,IAAsB,SAATjhF,GAA4B,UAATA,EAAkBilG,EAAU1kB,GAAMn1D,IAAI80B,EAAe,UAATlgD,EAAmB,GAAI,EAAI,SAA2B,OAATA,GAA0B,SAATA,IAAiBilG,EAAU1kB,GAAMn1D,IAAI80B,EAAe,SAATlgD,EAAkB,GAAI,EAAI,UACnbilG,EAAUvoB,EAASkG,aAAaqiB,GAE3BvoB,EAASknB,WAAWqB,KACvBA,EAAUvoB,EAASsoB,YAAY9kD,EAAMlgD,IAGnCilG,IACFvoB,EAAS0nB,mBAAmBa,GAE5BvoB,EAASwoB,WAAWD,GAAS,GAAO,EAAO,SAGtC,oBAGX,EAAK,CAEHX,WAAY,SAAU11G,GACpBA,GAAKV,KAAKy3G,iBACV,IAAIzlD,EAAOhyD,KAAKizG,iBAChBjhD,EAAK0lD,YAAYh3G,GAEjB,IAAIu2G,EAAUj3G,KAAKoN,UAAU8pG,YAAcl3G,KAAKoN,UAAU8pG,WAAW90G,KAAKpC,KAAMgyD,GAE5E9uC,EAAMljB,KAAKoN,UAAU+pG,QACrBz7F,EAAM1b,KAAKoN,UAAUgqG,QACzB,SAAIH,GAAW/zF,GAAOA,EAAIqwE,cAAgB7yF,GAAKgb,GAAOA,EAAI63E,cAAgB7yF,IAG5Eg0F,aAAc,SAAU1iC,EAAMw8B,GAS5B,OARAx8B,EAAOqgC,GAAMS,UAAU9gC,IAEZw8B,EAASphF,UAAU+pG,QAC5BnlD,EAAOqgC,GAAM9sC,KAAKipC,EAASphF,UAAU+pG,SAC5BnlD,EAAOw8B,EAASphF,UAAUgqG,UACnCplD,EAAOqgC,GAAM9sC,KAAKipC,EAASphF,UAAUgqG,UAGhCplD,GAETulD,UAAW,SAAUvlD,EAAMw8B,GACzB,IAAI9xE,EAAQs1C,EAAKuhC,cAEjB,OADA/E,EAASipB,iBAAmB/6F,EAAQA,EAAQA,EAAQ,GAAK,EAClDA,EAAQ,OAASA,EAAQ,GAAK,IAEvC86F,YAAa,SAAU92G,EAAG8tF,GACxB,OAAOA,EAASipB,iBAAmB/2G,GAErCm2G,YAAa,SAAUx1G,EAAMX,EAAG8tF,GAC9BntF,EAAKq2G,YAAYlpB,EAASipB,iBAAmB/2G,IAE/Cs1G,YAAa,IACb7C,UAAW,SAAUnhD,EAAMlgD,EAAM08E,GAC/B,IAAIuoB,EAAU/kD,EAWd,MAVa,SAATlgD,GAA4B,WAATA,EAAmBilG,EAAU1kB,GAAMn1D,IAAI80B,EAAe,WAATlgD,EAAoB,IAAK,GAAK,QAA0B,WAATA,EAAmBilG,EAAU,IAAIvuG,KAAKwpD,EAAKijC,QAAQzG,EAASipB,iBAAmB,KAAuB,QAAT3lG,EAAgBilG,EAAU,IAAIvuG,KAAKwpD,EAAKijC,QAAQzG,EAASipB,mBAAqC,SAAT3lG,GAA4B,UAATA,EAAkBilG,EAAU1kB,GAAMn1D,IAAI80B,EAAe,UAATlgD,EAAmB,GAAI,EAAI,QAA0B,OAATA,GAA0B,SAATA,IAAiBilG,EAAU1kB,GAAMn1D,IAAI80B,EAAe,SAATlgD,EAAkB,GAAI,EAAI,SACteilG,EAAUvoB,EAASkG,aAAaqiB,GAC3BvoB,EAASknB,WAAWqB,KAAUA,EAAUvoB,EAASsoB,YAAY9kD,EAAMlgD,IAEpEilG,IACFvoB,EAAS0nB,mBAAmBa,GAE5BvoB,EAASwoB,WAAWD,GAAS,GAAO,EAAO,SAGtC,qBAIbY,oBAAqB,WACnB,IAAIj3G,EAGJ,GAFiBV,KAAKkzG,aAAY,GAAIkD,WAAWh0G,KAAKpC,KAAMA,KAAKoN,UAAU4kD,KAAKwhC,YAG9E,IAAK9yF,EAAI,EAAGA,EAAI,GAAIA,IAClB,IAAKV,KAAKkzG,aAAY,GAAIkD,WAAWh0G,KAAKpC,KAAMU,GAAI,CAClDV,KAAKoN,UAAU4kD,KAAK8iC,SAASp0F,GAE7B,MAON,GAFoBV,KAAKkzG,aAAY,GAAIkD,WAAWh0G,KAAKpC,KAAMA,KAAKoN,UAAU4kD,KAAKyhC,cAGjF,IAAK/yF,EAAI,EAAGA,EAAI,GAAIA,GAAKV,KAAKoN,UAAU4jG,WACtC,IAAKhxG,KAAKkzG,aAAY,GAAIkD,WAAWh0G,KAAKpC,KAAMU,GAAI,CAClDV,KAAKoN,UAAU4kD,KAAKkjC,WAAWx0F,GAE/B,QAKRw1G,mBAAoB,SAAUlkD,GAC5B,IAAI/qD,EAAQqU,EAAKxB,EAAQpZ,EAAGyyB,EAAUykF,EAAU/wC,EAAUviE,EAAMsV,EAAOi+F,EAAQnoG,EAAMimG,EACjF39F,EAAO,GACPy8F,EAAOz0G,KAAK+yG,iBAAmB,KAgBnC,GAdA5/E,EAAW,IADXlsB,EAASjH,KAAKoN,WACSujG,WAAa,EAAI,IAAM1pG,EAAO2pG,YAAc,EAAI,GACvEiH,EAAS73G,KAAKkzG,YAAYlzG,KAAKsyG,aAC/BsF,EAAW53G,KAAKkjC,YAAY7yB,WACxB2hD,GAAMhyD,KAAKH,OAAO,OAAQmyD,GAC9B1tD,EAAO2C,EAAO3C,KAETtE,KAAKu0G,aACRv0G,KAAK83G,oBAAsB93G,KAAKkjC,YAAYnpB,cAAgB9S,EAAO2pG,aAAe5wG,KAAKwyG,SAAWvrG,EAAOu+F,aAAe,GAAqD,GAA/CxlG,KAAK+yG,iBAAmBnlE,GAAQpE,aAClJ,QAARllC,GAA0B,SAARA,IAAiBtE,KAAK83G,qBAAuB7wG,EAAOiqG,kBAC1ElxG,KAAK+3G,mBAAqBH,EAASzkF,GAAUtZ,YAC7C7Z,KAAKu0G,WAAa,GAIhBv0G,KAAKwyG,SAAU,CAEjB14F,EAAS9Z,KAAK83G,oBAAsB,EACpC,IAAIE,EAAa,EAEbC,GADaj4G,KAAKuxG,eAAiBhmG,EAAKyiF,YAClBt9B,MAAK,YAa/B,IAZIunD,GAAUD,IACdp+F,EAAQyE,UAAUre,KAAK+3G,mBAAqB,GAAKC,EAAY,IAC7DrC,EAASj8F,KAAKwJ,IAAItJ,EAAOE,GACzB9B,GAAQ,kDAAoDy8F,EAAO,KAAOz0G,KAAKk4G,oBAAoBt+F,EAAOq+F,GAAY,SACtHjgG,GAAQ,8CAAgDhY,KAAK83G,oBAAsB,gBAAkBrD,EAAO,MAE5Gz0G,KAAK23G,sBAEL3/F,GAAQ,wDACR6uD,EAAW5/D,EAAO+qD,KAAKwhC,WACvB9jF,EAAO2iF,GAAM9sC,KAAKt+C,EAAO+qD,MAEpBtxD,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAGvB,GAFA4a,EAAM,GAEF28F,GACEv3G,EAAI,GAAM,EAAG,CACf,IAAIi6D,EAASj6D,EAAsB,IAALA,EAAU6K,EAAK6iF,GAAG,GAAK,GAApC7iF,EAAK4iF,GAAG,GACzBn2E,GAAQ,oCAAsCsD,EAAM,YAActb,KAAK81G,mBAAmBl8F,EAAOE,GAAzF,gBAA0H6gD,EAAQ,SAI1I36D,KAAKkzG,aAAY,GAAIkD,WAAWh0G,KAAKpC,KAAMU,GAC7C4a,GAAO,0BACEurD,GAAYnmE,IAAG4a,GAAO,mBAEjC5L,EAAKolF,SAASp0F,GACdsX,GAAQ,oBAAsBq6E,GAAMY,UAAU1nF,EAAKigE,KAAKukB,WAA1BsC,CAAsC3iF,GAA5D,gCAA2Gm3D,GAAYnmE,EAAI,IAAM,MAAQ,qBAAuBmmE,GAAYnmE,EAAI,OAAS,SAAW,2BAA6B4a,EAAM,iBAAmB5a,EAAI,YAAcV,KAAK81G,mBAAmBl8F,EAAOE,IAAWpZ,EAAI,GAAM,GAAMu3G,EAA2B,GAAhB,eAAsB,wCAA0Cj4G,KAAK81G,mBAAmBH,EAAQA,GAAU,KAAOtjB,GAAME,QAAQ0lB,EAAYv3G,GAAU,IAALA,EAAeA,EAAI,GAAT,GAAcA,GAAK,gBAQxgB,IALAsX,GAAQ,eACRA,GAAQ,0DACR6uD,EAAW5/D,EAAO+qD,KAAKyhC,aACvB/jF,EAAO2iF,GAAM9sC,KAAKt+C,EAAO+qD,MAEpBtxD,EAAI,EAAGA,EAAI,GAAIA,GAAKuG,EAAO+pG,WAC9B11F,EAAM,GAEFtb,KAAKkzG,aAAY,GAAIkD,WAAWh0G,KAAKpC,KAAMU,GAC7C4a,EAAM,0BACGurD,GAAYnmE,IAAG4a,EAAM,mBAEhC5L,EAAKwlF,WAAWx0F,GAChBsX,GAAQ,oBAAsBq6E,GAAMY,UAAU1nF,EAAKigE,KAAKwkB,aAA1BqC,CAAwC3iF,GAAQ,gCAAkCm3D,GAAYnmE,EAAI,IAAM,MAAQ,qBAAuBmmE,GAAYnmE,EAAI,OAAS,SAAW,+CAAiD4a,EAAM,iBAAmB5a,EAAI,YAAcV,KAAK81G,mBAAmBl8F,EAAOE,IAAWpZ,EAAIuG,EAAO+pG,WAAa,GAAM,EAAI,cAAgB,IAAM,wCAA0ChxG,KAAK81G,mBAAmBH,EAAQA,GAAU,KAAOtjB,GAAME,QAAQ7xF,GAAK,gBAGvfsX,GAAQ,eACRA,GAAQ,SACRA,GAAQ,kDAAoDy8F,EAAO,KAAOz0G,KAAKm4G,uBAAyB,SACxGn4G,KAAKkjC,YAAYzsB,UAAYuB,EAC7BhY,KAAKkjC,YAAYxyB,WAAW8G,MAAMqyF,UAAY4K,MACzC,CAGL,GAAIxtG,EAAO2pG,YAAa,CACtB,IAAI58F,EAAS4jG,EAAS,GAAGvnG,WAErB8oB,EAAQ0+E,EAAON,UAAUtwG,EAAO+qD,KAAMhyD,MAI1C,GAFIgU,EAAO,GAAGyC,WAAa0iB,IAAOnlB,EAAO,GAAGyC,UAAY0iB,GAEpDlyB,EAAOy/D,WAAY,CACrB,IAAIhE,EAASn3D,EAAKigE,KAAK,OAA6B,GAApBxrE,KAAKsyG,YAAmB,OAAS,WACjEt+F,EAAO,GAAGyD,aAAa,aAAcirD,EAAO,IAC5C1uD,EAAO,GAAGyD,aAAa,aAAcirD,EAAO,UAG9Cm1C,EAAON,UAAUtwG,EAAO+qD,KAAMhyD,MAOhC,IALA8Z,EAASJ,KAAKqgB,MAAM/5B,KAAK83G,oBAAsB,GAC/Cl+F,EAAQF,KAAKqgB,MAAM/5B,KAAK+3G,mBAAqB,GAC7CpC,EAASj8F,KAAKwJ,IAAIpJ,EAAQF,GAC1BitD,EAAgC,IAArB7mE,KAAKsyG,YAAoBrrG,EAAO+qD,KAAKohC,WAAansF,EAAO+qD,KAAKuhC,cAAgBvzF,KAAKy3G,iBAEzF/2G,EAAI,EAAGA,EAAI,GAAIA,IAAK,CACvB4a,EAAM,GAEFu8F,EAAOzB,WAAWh0G,KAAKpC,KAAMU,GAC/B4a,EAAM,0BACGurD,GAAYnmE,IAAG4a,EAAM,mBAEhC,IAAI0oB,EAASz4B,EAAKigE,MAA0B,GAApBxrE,KAAKsyG,YAAmB,QAAU,QAAU,UACpEt6F,GAAQ,oCAAsCq6E,GAAMY,UAAUjvD,EAAhBquD,CAAwBprF,EAAO+qD,MAAQ,iBAA8C,IAA5B12C,EAAI3O,QAAQ,YAAqB,IAAM,MAAQ,sBAAmD,IAA5B2O,EAAI3O,QAAQ,YAAqB,OAAS,SAAW,2BAA6B2O,EAAM,iBAAmB5a,EAAI,YAAcV,KAAK81G,mBAAmBl8F,EAAOE,GAAU,wCAA0C9Z,KAAK81G,mBAAmBH,EAAQA,GAAU,KAAOkC,EAAOL,YAAY92G,EAAGV,MAAQ,gBAG1ciH,EAAO0pG,aACTiH,EAASzkF,EAAW,GAAG3b,MAAMghB,QAAU,OACtB,IAAbrF,IAAgBykF,EAASzkF,GAAU3b,MAAMqyF,UAAY4K,IAG3DmD,EAASzkF,GAAU1c,UAAY,mBAAqBuB,EAAO,SAE/C,QAAR1T,GAA0B,SAARA,EACfszG,EAASzkF,EAAW,GAAgJykF,EAASzkF,EAAW,GAAG1c,UAAYzW,KAAKm4G,uBAApLn4G,KAAKkjC,YAAYzsB,WAAa,kDAAoDg+F,EAAO,KAAOz0G,KAAKm4G,uBAAyB,SAClJP,EAASzkF,EAAW,KAC7BykF,EAASzkF,EAAW,GAAG3b,MAAMghB,QAAU,QAGzCo/E,EAASzkF,GAAU3b,MAAMsC,OAAS9Z,KAAK83G,oBAAsB,OAGjEhC,mBAAoB,SAAUl8F,EAAOE,GACnC,MAAO,SAAWF,EAAQ,cAAgBE,EAAS,mBAAqBA,EAAS,OAEnFq+F,qBAAsB,WACpB,MAAO,yEAA2E5sG,EAAKijF,SAASltF,KAAO,MAEzG42G,oBAAqB,SAAUt+F,EAAOq+F,GACpC,IACIG,EAAa,EAARx+F,EACT,MAAO,6CAFEA,GAASq+F,EAAW,EAAI,GAE0B,OAAS1sG,EAAKijF,SAASK,MAAQ,qDAAuDupB,EAAK,OAAS7sG,EAAKijF,SAASM,QAAU,UAEzLgmB,iBAAkB,SAAUuD,EAAMrmD,GAChC,IAAIsmD,EAAUt4G,KAAKsyG,YAEftyG,KAAK8M,UAAU,eAAgB,CAACurG,EAAMC,MACxCt4G,KAAKsyG,YAAc+F,EACfA,EAAMr4G,KAAKk2G,mBAAmBlkD,GAAWhyD,KAAKm2G,aAAankD,GAC/DhyD,KAAK8M,UAAU,cAAe,CAACurG,EAAMC,MAGzC5jB,aAAc,SAAU1iC,GAEtB,OADIhyD,KAAKkzG,YAAYlzG,KAAKsyG,aAAa5d,eAAiB10F,KAAK01G,WAAW1jD,KAAOA,EAAOhyD,KAAKkzG,YAAYlzG,KAAKsyG,aAAa5d,aAAa1iC,EAAMhyD,OACrIgyD,GAETumD,eAAgB,SAAUzwG,EAAQb,GAChC,IAAI5F,EAAOrB,KAAKw4G,aAAa1wG,GAEzBuwG,EAAOr4G,KAAKsyG,aAAetyG,KAAKyyG,OAAS,EAAI,GAGjD,GAFApxG,EAAOrB,KAAK00F,aAAarzF,GAErBrB,KAAK01G,WAAWr0G,GAAO,CACzBrB,KAAK80G,iBAAiBuD,EAAMh3G,GAE5B,IAAIiD,EAAOtE,KAAKoN,UAAU9I,KACd,SAARA,GAA2B,QAARA,GAAgBtE,KAAKy4G,YAAYp3G,GAAM,EAAO4F,KAIzEwxG,YAAa,SAAUzmD,EAAM90B,EAAKj2B,GAC5BjH,KAAK8M,UAAU,qBAAsB,CAACklD,MACxChyD,KAAKg3G,WAAWhlD,GAAM,EAAM90B,EAAKj2B,GACjCjH,KAAK8M,UAAU,oBAAqB,CAACklD,MAGzCkgD,YAAa,SAAUpqG,EAAQk6E,GAC7B,IAAIsxB,EAAOr8F,GAAMnP,IAAW9H,KAAKoN,UAAUyjG,WAAa,EAAI,GACxDwC,EAAOp8F,GAAMnP,EAAOuQ,YACxB,GAAI2pE,EAAK,MAAO,CACdsxB,KAAMA,EACND,KAAMA,GAER,IAAIrhD,EAAOqgC,GAAMn1D,IAAIl9B,KAAK2yG,qBAAqBiB,OAAQN,EAAc,EAAPD,EAAU,OAAO,GAO/E,OALIrzG,KAAKoN,UAAUylG,aACjB7gD,EAAK8iC,SAAS90F,KAAKoN,UAAU4kD,KAAKwhC,YAClCxhC,EAAKkjC,WAAWl1F,KAAKoN,UAAU4kD,KAAKyhC,eAG/BzhC,GAETwmD,aAAc,SAAU1wG,GACtB,IAAItG,EAA4C,EAApCsG,EAAOkH,aAAa,cAC5BgzD,GAA2D,GAAnDl6D,EAAOqQ,UAAUxL,QAAQ,uBAA+B3M,KAAKsyG,YAAc,EAAItyG,KAAKsyG,YAC5FjxG,EAAOrB,KAAKizG,iBAIhB,OAFAjzG,KAAKkzG,YAAYlxC,GAAO60C,YAAYx1G,EAAMG,EAAOxB,MAE1CqB,GAETgxB,SAAU,CACRqmF,sBAAuB,WACrB14G,KAAK+1G,aAAY,IAEnB4C,sBAAuB,WACrB34G,KAAK+1G,YAAY,IAEnB6C,uBAAwB,WACtB,OAAO,GAETC,kBAAmB,WACjB,IAAK74G,KAAKoN,UAAUs5D,WAAY,OAAO,GAEzCoyC,cAAe,SAAU/zG,EAAGmC,EAAIY,GAC9B,IAAIkqD,EAAOhyD,KAAKkyG,YAAYpqG,GAExBk6E,EAAMhiF,KAAKoN,UAAUgwD,YAAcp9D,KAAKkyG,YAAYpqG,GAAQ,GAAQ,KACpEo1B,EAAqC,UAA/Bl9B,KAAKoN,UAAUgwD,aAA2Br4D,EAAEg8B,SAAWh8B,EAAEk8B,QAEnEjhC,KAAKy4G,YAAYzmD,EAAM90B,EAAK,QAE5Bl9B,KAAKozG,eAAe,gBAAiBpxB,IAEvC+2B,eAAgB,WACd,GAAI/4G,KAAKkzG,YAAYlzG,KAAKsyG,YAAc,GAAI,CAC1CtyG,KAAKwyG,UAAW,EAChB,IAAI6F,EAAOr4G,KAAKsyG,YAAc,EAE9BtyG,KAAK80G,iBAAiBuD,KAG1BW,uBAAwB,WACtBnqF,GAAG7uB,KAAKoN,UAAUhC,QAAQ6tG,WAAa,SAEzCC,qBAAsB,WACpBrqF,GAAG7uB,KAAKoN,UAAUhC,QAAQ6tG,WAAa,OAEzCE,eAAgB,WACd,IAAInnD,EAAOhyD,KAAKizG,iBAEhB,GAAIjzG,KAAKwyG,SAAU,CACjB,IAAI91F,EAAQ1c,KAAKgzG,iBAAgB,GAE7Bt2F,IACFA,EAAMo4E,SAAS9iC,EAAKwhC,YACpB92E,EAAMw4E,WAAWljC,EAAKyhC,cACtBzhC,EAAOt1C,GAIXs1C,EAAOhyD,KAAK00F,aAAa1iC,GAEzBhyD,KAAKy4G,YAAYzmD,GAAM,EAAO,SAEhConD,qBAAsB,WACpB,GAAKp5G,KAAKoN,UAAUs5D,aACpB1mE,KAAKwyG,UAAW,EAEQ,GAApBxyG,KAAKsyG,aAAqBtyG,KAAKoN,UAAUsjG,aAA7C,CACA,IAAI2H,EAAO3+F,KAAKgC,IAAI1b,KAAKsyG,YAAa,GAAK,EAE3CtyG,KAAK80G,iBAAiBuD,KAExBgB,gBAAiB,SAAUt0G,EAAGmC,EAAIyR,GAChC,GAAI3Y,KAAKwyG,SAAU,CACjB,IAAwD,IAApD75F,EAAIR,UAAUxL,QAAQ,0BAAkC,OAAO,EAEnE,IAAItL,EAAOrB,KAAKw4G,aAAa7/F,GAE7B3Y,KAAKk2G,mBAAmB70G,GAExB,IAAIia,EAAM,mBAC2C,IAAjD3C,EAAIR,UAAUxL,QAAQ,yBAA+B2O,EAAM,uBAE/Dtb,KAAKozG,eAAe93F,QAEmC,GAAnD3C,EAAIR,UAAUxL,QAAQ,2BAAiC3M,KAAKu4G,eAAe5/F,EAAK,UAI1F84F,gBAAiB,SAAUz/C,EAAMhuB,GAC/B,OAAKguB,GAEc,iBAARA,IACGA,EAARhuB,EAAequD,GAAMwB,UAAU7vD,EAAhBquD,CAAwBrgC,GAAkBzmD,EAAKw8D,gBAAgB/V,IAG7EA,GANWqgC,GAAMM,SAAS,IAAInqF,OAQvCktG,WAAY,SAAU1jD,GACpB,IAAIsnD,EAAct5G,KAAKoN,UAAU8pG,YAAcl3G,KAAKoN,UAAU8pG,WAAW90G,KAAKpC,KAAMgyD,GAEhFmlD,EAAUn3G,KAAKoN,UAAU+pG,QACzBC,EAAUp3G,KAAKoN,UAAUgqG,QACzBmC,EAAapC,GAAWnlD,EAAOmlD,GAAWC,GAAWplD,GAAQqgC,GAAMn1D,IAAIk6E,EAAS,EAAG,OAAO,GAC9F,OAAQkC,IAAgBC,GAE1BzC,YAAa,SAAU9kD,EAAMlgD,GAC3B,IAGM8pF,EAHFt8D,EAAe,QAATxtB,GAA2B,SAATA,GAA4B,SAATA,GAA4B,OAATA,GAAgB,EAAK,EACnFilG,EAAU1kB,GAAMn1D,IAAI80B,EAAM1yB,EAAK,OAAO,GAC1C,OAAIt/B,KAAK01G,WAAWqB,GAAiBA,GAEV,IAArB/2G,KAAKsyG,YAAmB1W,EAAU5pC,EAAKohC,aAAe2jB,EAAQ3jB,WAAyC,IAArBpzF,KAAKsyG,YAAmB1W,EAAU5pC,EAAKuhC,gBAAkBwjB,EAAQxjB,cAA4C,IAArBvzF,KAAKsyG,cAAmB1W,EAAUmb,EAAQxjB,cAAgBvzF,KAAKy3G,kBAAoBV,EAAQxjB,cAAgBvzF,KAAKy3G,iBAAmB,IAC7S7b,EAAgB57F,KAAK82G,YAAYC,EAASjlG,QAA9C,IAGJqkG,aAAc,SAAUnkD,GACtBhyD,KAAKH,OAAO,OAAQmyD,GACpBhyD,KAAK8pB,SACL9pB,KAAKy1B,UAEP08E,aAAc,SAAU5c,GACtB,OAAOA,GAAOv1F,KAAKqyG,eAAe9c,EAAIrrF,YAExC8oG,gBAAiB,SAAUh/E,GAKzB,IAJA,IAAIroB,EAAS,GACT20B,EAAOp+B,OAAOo+B,KAAKtgC,KAAKqyG,gBACxB5wG,EAASuyB,EAAQta,KAAKwJ,IAAI,EAAGod,EAAK7+B,QAAU6+B,EAAK7+B,OAE5Cf,EAAI,EAAGA,EAAIe,EAAQf,IAC1BiL,EAAOpK,KAAK8wF,GAAM9sC,KAAKvlD,KAAKqyG,eAAe/xE,EAAK5/B,MAGlD,OAAOV,KAAKiH,OAAOm2D,cAAgBppC,EAAQroB,EAASA,EAAO,IAAM,MAEnEsnG,eAAgB,WACd,OAAO5gB,GAAM9sC,KAAKvlD,KAAKoN,UAAU4kD,OAEnCnwB,SAAU,SAAUmwB,EAAM/qD,GACxBjH,KAAKg3G,WAAWhlD,GAAM,GAAM,EAAO/qD,IAErCmR,SAAU,SAAU4rB,GAClB,IAAIguB,EAAOhyD,KAAKgzG,kBAEhB,OADIhvE,IAAQguB,EAAOqgC,GAAMY,UAAUjvD,EAAhBquD,CAAwBrgC,IACpCA,GAETglD,WAAY,SAAUhlD,EAAMv/B,EAAMyK,EAAKj2B,GAGrC,GAFK+qD,GAAS90B,GAAQl9B,KAAKiH,OAAOm2D,cAAap9D,KAAKqyG,eAAiB,IAEjErgD,EAAM,CACH3pD,EAAQ2pD,KAAOA,EAAO,CAACA,IAE5B,IAAK,IAAItxD,EAAI,EAAGA,EAAIsxD,EAAKvwD,OAAQf,IAAK,CACpC,IAAIgzG,EAAO1zG,KAAKyxG,gBAAgBz/C,EAAKtxD,IAEjC2Q,EAAMghF,GAAMM,SAASN,GAAM9sC,KAAKmuD,IAAOxpG,UAE3C,GADIlK,KAAKqyG,eAAehhG,IAAQ6rB,SAAYl9B,KAAKqyG,eAAehhG,GAAUrR,KAAKqyG,eAAehhG,GAAOqiG,GAChG1zG,KAAKiH,OAAOm2D,YAAa,MAG5BpL,EAAKvwD,QAAUgxB,GAAMzyB,KAAKm2G,aAAankD,EAAK,KAGrC,IAATv/B,GAAgBzyB,KAAK8pB,SACzB9pB,KAAK8M,UAAU,WAAY,CAACklD,EAAM/qD,KAEpCyR,OAAQ,WACN,OAAO,QAKP8gG,IAFS75G,EAAQwxB,QAAQs/E,GAAOnqC,GAAgBoC,GAAa/+B,GAAO30B,KAAMhJ,GAElE,CACVpG,KAAM,aACNmE,SAAU,CACR8f,SAAU,SAAUxpB,GAClB,MAAO,yDAA4Dm2B,OAAOn2B,EAAIoD,IAAK,cAErFg2G,QAAS,KACT3/F,OAAQ,IACRF,MAAO,IACPgX,KAAM,GACNnT,KAAM,GACNi8F,aAAc,IACdC,aAAc,EACdjzC,YAAY,EACZkzC,WAAW,EACXt1G,KAAM,YAGR0F,MAAO,WACLuiB,GAAOvsB,KAAKgwB,SAAU,QAASvnB,GAAK,SAAU1D,GAE5C,IACIvD,EAAQkX,GADD3T,EAAE+C,OAAOuQ,WAGpB,aAEA,GAAI7W,EAAO,CACT,IAAIkmC,EAAW1nC,KAAKoN,UAAU5L,MAC9BxB,KAAK6hC,SAASrgC,EAAO,QAErBA,EAAQxB,KAAKoN,UAAU5L,MACvBxB,KAAK8M,UAAU,cAAe,CAACtL,EAAOuD,IAClCvD,GAASkmC,GAAU1nC,KAAK8M,UAAU,WAAY,CAACtL,OAEpDxB,OAEHA,KAAK6qB,MAAMpT,aAAa,OAAQ,QAEhCzX,KAAKgwB,SAASvY,aAAa,gBAAiB,SAE9CoiG,mBAAoB,WAClB,MAAO,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,YAExHrzC,gBAAiB,WACVxmE,KAAKoY,YAAYpY,KAAK87D,cAAc,OAE3Cg+C,WAAY,SAAUt4G,GACpB,IAAIu4G,EAAM/5G,KAAKoN,UAAUqsG,QACzBj4G,GAASA,GAAS,IAAI6wE,cAEtB,IAAK,IAAI9sE,EAAI,EAAGkY,EAAOs8F,EAAIt4G,OAAQ8D,EAAIkY,EAAMlY,IAC3C,IAAK,IAAIuI,EAAI,EAAG8iB,EAAOmpF,EAAIx0G,GAAG9D,OAAQqM,EAAI8iB,EAAM9iB,IAC9C,GAAIisG,EAAIx0G,GAAGuI,GAAGukE,eAAiB7wE,EAC7B,MAAO,CACLmiB,IAAKpe,EACLgK,IAAKzB,GAMb,OAAO,MAET+5B,SAAU,SAAU51B,EAAGwH,GACjBkwB,GAAON,IAAIxB,SAASzlC,KAAKpC,KAAMiS,EAAGwH,IACpCzZ,KAAK8pB,UAGT1R,SAAU,WACR,OAAOpY,KAAKoN,UAAU5L,OAExBw4G,QAAS,WACP,OAAOh6G,KAAKgwB,SAAStf,YAEvBupG,cAAe,SAAUz4G,GAGvB,OAFAA,EAAQA,EAAQA,EAAMW,SAAS,IAAM,KACL,KAAnBX,EAAM8T,OAAO,IAAS,iBAAqBvP,KAAKvE,KAAQA,EAAQ,IAAMA,GAC5EA,GAET04G,aAAc,SAAU14G,GACtB,OAAOxB,KAAKi6G,cAAcz4G,IAE5BqgC,SAAU,SAAUrgC,EAAOyF,GACzBzF,EAAQxB,KAAKi6G,cAAcz4G,GAC3B,IAAIkmC,EAAW1nC,KAAKoN,UAAU5L,MAE1BkmC,GAAYlmC,IACdxB,KAAKoN,UAAU5L,MAAQA,EACvBxB,KAAKm6G,UAAU34G,GACfxB,KAAK8M,UAAU,WAAY,CAACtL,EAAOkmC,EAAUzgC,MAGjDkzG,UAAW,SAAU34G,GACnB,GAAIxB,KAAKgqB,UAAUhqB,KAAKoN,UAAUlG,IAAK,CAErC,GAAIlH,KAAKo6G,iBAAkB,CACzB,IAAIC,EAAUr6G,KAAKs6G,SAASt6G,KAAKo6G,kBAEjCp6G,KAAKu6G,cAAcF,GAAS,GAG9B,IAAIr4B,EAAMhiF,KAAKo6G,iBAAmBp6G,KAAK85G,WAAWt4G,GAElD,GAAIwgF,EAAK,CACP,IAAIp+D,EAAO5jB,KAAKs6G,SAASt4B,GAEzBhiF,KAAKu6G,cAAc32F,GAAM,MAI/B02F,SAAU,SAAUt4B,GAClB,OAAOhiF,KAAKgwB,SAASwqF,UAAUnqG,WAAW2xE,EAAIr+D,KAAKtT,WAAW2xE,EAAIzyE,MAEpEgrG,cAAe,SAAU32F,EAAMpgB,GACzBA,GACFogB,EAAKnM,aAAa,WAAY,KAC9BmM,EAAKnM,aAAa,gBAAiB,QACnCyD,GAAO0I,EAAM,0BAEbA,EAAKnM,aAAa,WAAY,MAC9BmM,EAAK6W,gBAAgB,iBACrBrf,GAAUwI,EAAM,0BAKpB62F,UAAW,SAAUh3F,GACnB,OAAOusD,GAAME,MAAMzsD,EAAG,IAExBi3F,UAAW,SAAUn1G,EAAGk7D,EAAG5yD,GACzB,MAAO,IAAM7N,KAAKy6G,UAAU/gG,KAAKqgB,MAAMx0B,IAAMvF,KAAKy6G,UAAU/gG,KAAKqgB,MAAM0mC,IAAMzgE,KAAKy6G,UAAU/gG,KAAKqgB,MAAMlsB,KAEzG8sG,UAAW,SAAUrwE,EAAG5mB,EAAGk3F,GACzB,IAAIr1G,EAAGk7D,EAAG5yD,EAEV,GAAK6V,EAEE,CACL,IAAImtD,EAAI+pC,EAAI,GAAMA,GAAK,EAAIl3F,GAAKk3F,EAAIl3F,EAAIk3F,EAAIl3F,EACxCnf,EAAI,EAAIq2G,EAAI/pC,EAChBtrE,EAAIvF,KAAK66G,SAASt2G,EAAGssE,EAAGvmC,EAAI,EAAI,GAChCm2B,EAAIzgE,KAAK66G,SAASt2G,EAAGssE,EAAGvmC,GACxBz8B,EAAI7N,KAAK66G,SAASt2G,EAAGssE,EAAGvmC,EAAI,EAAI,QANhC/kC,EAAIk7D,EAAI5yD,EAAI+sG,EASd,MAAO,CACLr1G,EAAO,IAAJA,EACHk7D,EAAO,IAAJA,EACH5yD,EAAO,IAAJA,IAGPgtG,SAAU,SAAUt2G,EAAGssE,EAAGtjE,GAGxB,OAFIA,EAAI,IAAGA,GAAK,GACZA,EAAI,IAAGA,GAAK,GACZA,EAAI,EAAI,EAAUhJ,EAAc,GAATssE,EAAItsE,GAASgJ,EAAWA,GAAK,GAAcsjE,EAAWtjE,EAAI,EAAI,EAAUhJ,GAAKssE,EAAItsE,IAAM,EAAI,EAAIgJ,GAAK,EAAchJ,GAE/Iu2G,YAAa,SAAUzqC,EAAK0qC,GAK1B,MAAO,CACLx1G,EAJM8qE,EAAI,GAAK0qC,EAAK,KAAO,EAAIA,GAK/Bt6C,EAJM4P,EAAI,GAAK0qC,EAAK,KAAO,EAAIA,GAK/BltG,EAJMwiE,EAAI,GAAK0qC,EAAK,KAAO,EAAIA,KAOnCC,cAAe,SAAUC,GAKvB,IAJA,IAAIC,EAAO,GACPz3G,EAAM,IACN4iD,EAAO5iD,EAAMw3G,EAERv6G,EAAI,EAAGA,EAAIu6G,EAAUv6G,IAC5B+C,EAAMiW,KAAKC,MAAMlW,EAAM,EAAIA,EAAM,GACjCy3G,EAAK35G,KAAKvB,KAAK06G,UAAUj3G,EAAKA,EAAKA,IACnCA,GAAO4iD,EAIT,OADA60D,EAAKA,EAAKz5G,OAAS,GAAK,UACjBy5G,GAETC,aAAc,SAAUl0G,GAEtB,IAAIm0G,EAAcp7G,KAAK65G,qBAEvB5yG,EAAO2pB,KAAOwqF,EAAY35G,OAE1B,IAAI45G,EAAS,GACTC,EAAYr0G,EAAOwW,KAAO,EAE1B89F,EAAY,EAAIt0G,EAAOwW,KACvB+9F,EAAa,KAEjB,GAAIx7G,KAAKoN,UAAUwsG,UAAW,CAC5B,IAAI6B,EAAaz7G,KAAKg7G,cAAc/zG,EAAO2pB,MAE3CyqF,EAAO95G,KAAKk6G,EAAW1e,WAEvBwe,EAAY,EAAID,EAChBA,GAAa,EAGfD,EAAO95G,KAAK65G,GAEZ,IAAK,IAAI/0D,EAAO,EAAG00D,EAAK9zG,EAAO0yG,aAActzD,EAAOi1D,EAAWj1D,IAAQ,CACrE00D,GAAMQ,EACNC,EAAa,GAEb,IAAK,IAAIjsG,EAAM,EAAGA,EAAMtI,EAAO2pB,KAAMrhB,IAAO,CAC1C,IAAImsG,EAAW1rC,GAAMQ,MAAM4qC,EAAY7rG,IAEnC9L,EAAMzD,KAAK86G,YAAYY,EAAUX,GAErCS,EAAWj6G,KAAKvB,KAAK06G,UAAUj3G,EAAI8B,EAAG9B,EAAIg9D,EAAGh9D,EAAIoK,IAGnDwtG,EAAO95G,KAAKi6G,GAGdx7G,KAAKoN,UAAUqsG,QAAU4B,GAE3BM,gBAAiB,SAAU10G,GAEzB,IAAIo0G,EAAS,GACTO,EAAY,EAAI30G,EAAO2pB,KACvB0qF,EAAYr0G,EAAOwW,KACnB+9F,EAAa,KAEbx7G,KAAKoN,UAAUwsG,YACjByB,EAAO95G,KAAKvB,KAAKg7G,cAAc/zG,EAAO2pB,OACtC0qF,GAAa,GAKf,IAFA,IAAIC,GAAat0G,EAAO0yG,aAAe1yG,EAAOyyG,cAAgB4B,EAErDj1D,EAAO,EAAG00D,EAAK9zG,EAAOyyG,aAAcrzD,EAAOi1D,EAAWj1D,IAAQ,CACrEm1D,EAAa,GAEb,IAAK,IAAI1tG,EAAI,EAAGyB,EAAM,EAAGzB,EAAI7G,EAAO2pB,KAAM9iB,IAAK,CAC7C,IAAIrK,EAAMzD,KAAK26G,UAAUprG,EAAK,EAAGwrG,GAEjCS,EAAWj6G,KAAKvB,KAAK06G,UAAUj3G,EAAI8B,EAAG9B,EAAIg9D,EAAGh9D,EAAIoK,IACjD0B,GAAOqsG,EAGTP,EAAO95G,KAAKi6G,GACZT,GAAMQ,EAGRv7G,KAAKoN,UAAUqsG,QAAU4B,GAE3Bv/C,cAAe,SAAUhqD,EAAMzL,EAASuW,GACtC,IACIolE,EACAp+D,EAFApiB,EAAQxB,KAAKoY,WASjB,GANI5W,IAAOwgF,EAAMhiF,KAAK85G,WAAWt4G,IAC5BwgF,IAAKA,EAAM,CACdr+D,IAAK,EACLpU,IAAK,IAGHyyE,EAAK,CAOP,GANY,MAARlwE,GAAwB,QAARA,EAAgBkwE,EAAIr+D,IAAMq+D,EAAIr+D,KAAe,MAAR7R,GAAe,EAAK,GAAoB,SAARA,GAA2B,QAARA,EAAgBkwE,EAAIzyE,IAAMyyE,EAAIzyE,KAAe,SAARuC,EAAkB,GAAI,GAAqB,OAARA,EAAekwE,EAAIr+D,IAAMq+D,EAAIzyE,IAAM,EAAmB,UAARuC,IAChOkwE,EAAIr+D,IAAM3jB,KAAKgwB,SAASwqF,UAAUjiF,iBAAiB,oBAAoB92B,OAAS,EAChFugF,EAAIzyE,IAAMvP,KAAKgwB,SAASwqF,UAAUnqG,WAAW2xE,EAAIr+D,KAAKtT,WAAW5O,OAAS,GAE5EugF,EAAIr+D,IAAMjK,KAAKgC,IAAIsmE,EAAIr+D,IAAK,GAExBq+D,EAAIr+D,KAAO,EAAG,CAEhB,IAAIA,EAAM3jB,KAAKgwB,SAASwqF,UAAUnqG,WAAW2xE,EAAIr+D,KAC7CA,IAAKC,EAAOD,EAAItT,WAAW2xE,EAAIzyE,MAGrC,GAAIqU,EAAM,CACRpiB,EAAQoiB,EAAK5U,aAEb,aACA,IAAI/H,EAASZ,GAAWA,EAAQtB,aAAa82G,cAAgB,OAAS,OAItE,GAHA77G,KAAK6hC,SAASrgC,EAAOyF,GACrBjH,KAAK8M,UAAU,WAAY,CAAC9M,KAAKoN,UAAU5L,SAE7B,IAAVob,EAAiB,CACnB,IAAI2mB,EAAMvjC,KAAKgwB,SAASkH,cAAc,qBAElCqM,GAAKA,EAAI3mB,YAKrBk/F,WAAY,SAAUn4F,EAAKa,EAAQ1K,GAQjC,IAPA,IAAI5U,EAAO,CACT0U,MAAO,EACPE,OAAQ,EACRrW,IAAK,GAEHs4G,EAAU,2CAELn4F,EAAO,EAAGA,EAAOD,EAAIliB,OAAQmiB,IACpC1e,EAAK0U,MAAQ4K,EAAOZ,GACpB1e,EAAK4U,OAASA,EACd5U,EAAKzB,IAAMkgB,EAAIC,GACfm4F,GAAW/7G,KAAKg8G,YAAY92G,GAI9B,OADA62G,GAAW,UAGbC,YAAa,SAAU37G,GACrB,IAAI47G,EAAgB5zF,GAASroB,KAAKoN,UAAUyc,UAAY,IACxD,MAAO,kDAAuD2M,OAAOn2B,EAAIoD,IAAK,mBAAqB+yB,OAAOn2B,EAAIuZ,MAAO,cAAc4c,OAAOn2B,EAAIyZ,OAAQ,QAEtJ,YAAa,MAAO0c,OAAOn2B,EAAIoD,IAAK,MAAO+yB,OAAOylF,EAAc57G,GAAM,WAExEypB,OAAQ,WACN,GAAK9pB,KAAKgqB,UAAUhqB,KAAKoN,UAAUlG,IAAnC,CACA,IAAI5C,EAAOtE,KAAKoN,UAAU9I,KAErBtE,KAAKoN,UAAUqsG,UACL,YAATn1G,EAAoBtE,KAAK27G,gBAAgB37G,KAAKoN,WAAgBpN,KAAKm7G,aAAan7G,KAAKoN,YAG3F,IAAIqsG,EAAUz5G,KAAKoN,UAAUqsG,QAC7Bz5G,KAAK8M,UAAU,iBAAkB,IAWjC,IAVA,IAAI2jC,EAAmB,YAATnsC,EAAqB,EAAIspC,GAAQkD,aAC3CorE,EAAmC,UAAvBj8G,EAAQw5G,EAAQ,IAC5B0C,EAAWD,EAAYzC,EAAQ,GAAKA,EACpC2C,EAAuB,EAAV3rE,EAAcA,GAAW0rE,EAAS16G,OAAS,GACxD46G,EAAwB,EAAV5rE,EAAcA,GAAWyrE,EAAYzC,EAAQh4G,OAAS,EAAI,GACxEmY,EAAQ5Z,KAAKgoC,OAASo0E,EACtBtiG,EAAS9Z,KAAKooC,QAAUi0E,EACxB73F,EAAS,GACTxM,EAAO,mCAAoCwe,OAAO,iBAAmBlyB,EAAM,sBAEtE5D,EAAI,EAAGA,EAAIy7G,EAAS16G,OAAQf,IACnC8jB,EAAO9jB,GAAKgZ,KAAKqgB,MAAMngB,GAASuiG,EAAS16G,OAASf,IAClDkZ,GAAS4K,EAAO9jB,GAGlB,GAA2B,UAAvBT,EAAQw5G,EAAQ,IAClB,IAAK,IAAIl0G,EAAI,EAAGA,EAAIk0G,EAAQh4G,OAAQ8D,IAAK,CACvC,IAAImtG,EAAah5F,KAAKqgB,MAAMjgB,GAAU2/F,EAAQh4G,OAAS8D,IACvDuU,GAAU44F,EACV,IAAI/uF,EAAM81F,EAAQl0G,GAClByS,GAAQhY,KAAK87G,WAAWn4F,EAAKa,EAAQkuF,QAElC16F,GAAQhY,KAAK87G,WAAWrC,EAASj1F,EAAQ1K,GAEhD9B,GAAQ,SACRhY,KAAKgwB,SAASvZ,UAAYuB,EACtBhY,KAAKoN,UAAU5L,MAAOxB,KAAKm6G,UAAUn6G,KAAKoN,UAAU5L,OAAYxB,KAAKgwB,SAASwqF,UAAUnqG,WAAW,GAAGA,WAAW,GAAGoH,aAAa,WAAY,KAEjJzX,KAAKknC,aAELlnC,KAAK8M,UAAU,gBAAiB,MAElCqd,QAAS,WACPnqB,KAAK8pB,YAKLwyF,IAFS38G,EAAQwxB,QAAQqoF,GAAOlzC,GAAgB38B,GAAO30B,KAAMhJ,GAErD,CACVpG,KAAM,cACNmE,SAAU,CACR6P,MAAO,IACPE,OAAQ,IACRtY,MAAO,WAETwI,MAAO,WACL,IAAI4b,EAAQ5lB,KAEZA,KAAKu8G,QAAUv8G,KAAKw8G,QAAUx8G,KAAKy8G,QAAU,EAE7ClwF,GAAOvsB,KAAK6qB,MAAO,WAAW,SAAU9lB,GACtC,OAAO6gB,EAAM82F,sBAAsB33G,MAGrC/E,KAAK6M,YAAY,iBAAiB,WAChC,IAAImZ,EAAShmB,KAEbusB,GAAOvsB,KAAK28G,YAAar+F,GAAIm4B,MAAM5Z,MAAM,SAAU93B,GACjD,OAAOihB,EAAO42F,YAAY73G,EAAG,YAG/BwnB,GAAOvsB,KAAK68G,WAAYv+F,GAAIm4B,MAAM5Z,MAAM,SAAU93B,GAChD,OAAOihB,EAAO42F,YAAY73G,EAAG,SAAS,MAGpCuZ,GAAIa,QACNoN,GAAOvsB,KAAK28G,YAAar+F,GAAIa,MAAM0d,MAAM,SAAU93B,GACjD,OAAOihB,EAAO42F,YAAY73G,EAAG,YAG/BwnB,GAAOvsB,KAAK68G,WAAYv+F,GAAIa,MAAM0d,MAAM,SAAU93B,GAChD,OAAOihB,EAAO42F,YAAY73G,EAAG,SAAS,OAI1CwnB,GAAOvsB,KAAK88G,cAAe,UAAU,WACnC,OAAO92F,EAAO6b,SAAS7b,EAAO82F,cAAct7G,MAAO,WAGjDxB,KAAKoN,UAAUowB,QAAQjR,GAAOvsB,KAAKgwB,SAASkH,cAAc,iBAAkB,SAAS,WACvFlR,EAAOlZ,UAAU,gBAAiB,CAACkZ,EAAO5N,mBAG9CpY,KAAK6M,YAAY,cAAc,WAC7B7M,KAAK+8G,aAAe/8G,KAAKg9G,iBAAmBh9G,KAAK28G,YAAc,KAC/D38G,KAAK68G,WAAa78G,KAAK88G,cAAgB98G,KAAKi9G,eAAiBj9G,KAAKk9G,QAAU,SAGhFprF,MAAO,WACsC9xB,KAAKm9G,WAAnC,WAATtvE,IAA+B,QAATA,GAAmC,GAA0B,IAEzFhG,SAAU,SAAU51B,EAAGwH,GACjBkwB,GAAON,IAAIxB,SAASzlC,KAAKpC,KAAMiS,EAAGwH,IACpCzZ,KAAK8pB,UAGT1R,SAAU,WACR,OAAOpY,KAAKoN,UAAU5L,OAExBy4G,cAAe,SAAUz4G,GAGvB,OAFAA,EAAQA,EAAQA,EAAMW,SAAS,IAAM,KACL,KAAnBX,EAAM8T,OAAO,IAAS,iBAAqBvP,KAAKvE,KAAQA,EAAQ,IAAMA,GAC5EA,GAET04G,aAAc,SAAU14G,GACtB,OAAOxB,KAAKi6G,cAAcz4G,IAE5BqgC,SAAU,SAAUrgC,EAAOyF,GACzBzF,EAAQxB,KAAKi6G,cAAcz4G,GAC3B,IAAIkmC,EAAW1nC,KAAKoN,UAAU5L,MAE1BkmC,GAAYlmC,IACdxB,KAAKoN,UAAU5L,MAAQA,EACvBxB,KAAKm6G,UAAU34G,GACfxB,KAAK8M,UAAU,WAAY,CAACtL,EAAOkmC,EAAUzgC,MAGjDkzG,UAAW,SAAU34G,GACnB,GAAIxB,KAAKgqB,UAAUhqB,KAAKoN,UAAUlG,IAAK,CACrC,IAAImpE,EAAML,GAAMQ,MAAMhvE,GAEtB,GAAIA,IAAUxB,KAAKo9G,eAAgB,CAEjC,IAAIC,EAAMrtC,GAAMc,SAASloE,MAAMonE,GAAOluE,EAAmBuuE,IACzDrwE,KAAKu8G,QAAUc,EAAI,GACnBr9G,KAAKw8G,QAAUa,EAAI,GACnBr9G,KAAKy8G,QAAUY,EAAI,GAGrB,IAAI7jG,EAAOxZ,KAAKu8G,QAAUv8G,KAAKk9G,QAAQtjG,MAAQ,IAC/C5Z,KAAKg9G,iBAAiBxlG,MAAMgC,KAAOA,EAAO,KAC1C,IAAIvH,EAAIjS,KAAKw8G,QAAUx8G,KAAKk9G,QAAQtjG,MAChCH,EAAIC,KAAKyS,IAAInsB,KAAKk9G,QAAQpjG,QAAU9Z,KAAKy8G,QAAU,IACvDz8G,KAAK+8G,aAAavlG,MAAMgC,KAAOE,KAAKgC,IAAIhC,KAAKwJ,IAAIjR,EAAGjS,KAAKk9G,QAAQtjG,OAAQ,GAAK,KAC9E5Z,KAAK+8G,aAAavlG,MAAM+B,IAAMG,KAAKgC,IAAIhC,KAAKwJ,IAAIzJ,EAAGzZ,KAAKk9G,QAAQpjG,QAAS,GAAK,KAE9E9Z,KAAK+8G,aAAatlG,aAAa,iBAAkBjW,GAEjDxB,KAAKg9G,iBAAiBvlG,aAAa,iBAAkBjW,GAErDxB,KAAKs9G,cAAcjtC,EAAK7uE,GAExBxB,KAAKu9G,oBAGTD,cAAe,SAAUjtC,EAAKE,GACvBF,IAAKA,EAAML,GAAMW,SAAS3wE,KAAKu8G,QAASv8G,KAAKw8G,QAASx8G,KAAKy8G,UAC3DlsC,IAAKA,EAAM,IAAMP,GAAMI,SAASC,IACrC,IAAImtC,EAAU,OAAOhnF,OAAO65C,EAAI,GAAI,MAAM75C,OAAO65C,EAAI,GAAI,MAAM75C,OAAO65C,EAAI,GAAI,KAC9ErwE,KAAK+8G,aAAavlG,MAAM6yE,gBAAkBmzB,EAC1Cx9G,KAAKi9G,eAAezlG,MAAM6yE,gBAAkBmzB,EAC5Cx9G,KAAK88G,cAAct7G,MAAQ+uE,EAAI8B,cAC/BryE,KAAKo9G,eAAiB7sC,GAExBgtC,gBAAiB,WACf,IAAIltC,EAAML,GAAMW,SAAS3wE,KAAKu8G,QAAS,EAAG,GACtCkB,EAAS,OAAOjnF,OAAO65C,EAAI,GAAI,MAAM75C,OAAO65C,EAAI,GAAI,MAAM75C,OAAO65C,EAAI,GAAI,KAC7ErwE,KAAKg9G,iBAAiBxlG,MAAM6yE,gBAAkBozB,EAC9Cz9G,KAAK28G,YAAYnlG,MAAM6yE,gBAAkBozB,GAG3CC,YAAa,SAAU34G,GACrB,IAAIkZ,EAAS7D,GAAIrV,GACbkN,EAAIgM,EAAOhM,EAAIjS,KAAKk9G,QAAQjrG,EAC5BwH,EAAIwE,EAAOxE,EAAIzZ,KAAKk9G,QAAQzjG,EAChCxH,EAAIyH,KAAKgC,IAAIhC,KAAKwJ,IAAIjR,EAAGjS,KAAKk9G,QAAQtjG,OAAQ,GAC9CH,EAAIC,KAAKgC,IAAIhC,KAAKwJ,IAAIzJ,EAAGzZ,KAAKk9G,QAAQpjG,QAAS,GAC/C9Z,KAAK+8G,aAAavlG,MAAMgC,KAAOvH,EAAI,KACnCjS,KAAK+8G,aAAavlG,MAAM+B,IAAME,EAAI,KAClC,IAAIkkG,EAAM39G,KAAKk9G,QAAQtjG,MAAQ,IAC3BgkG,EAAM59G,KAAKk9G,QAAQpjG,OAAS,IAC5B4J,EAAIhK,KAAKiC,KAAK1J,EAAI0rG,GAAO,IACzBj6G,EAAIgW,KAAKiC,KAAKjC,KAAKyS,IAAI1S,EAAImkG,EAAM,MAAQ,IAC7C59G,KAAKw8G,QAAU94F,EACf1jB,KAAKy8G,QAAU/4G,EAEf1D,KAAKs9G,iBAEPO,WAAY,SAAU94G,GACpB,IACIkN,EADSmI,GAAIrV,GACFkN,EAAIjS,KAAKk9G,QAAQjrG,EAChCA,EAAIyH,KAAKgC,IAAIhC,KAAKwJ,IAAIjR,EAAGjS,KAAKk9G,QAAQtjG,OAAQ,GAC9C5Z,KAAKg9G,iBAAiBxlG,MAAMgC,KAAOvH,EAAI,KACvC,IAAIq4B,EAAI5wB,KAAKC,MAAU,IAAJ1H,EAAUjS,KAAKk9G,QAAQtjG,OAC1C5Z,KAAKu8G,QAAU7iG,KAAKgC,IAAIhC,KAAKwJ,IAAIonB,EAAG,KAAM,GAE1CtqC,KAAKs9G,gBAELt9G,KAAKu9G,mBAEPX,YAAa,SAAUkB,EAAGxmE,EAASpK,GACjC,IAAI9mB,EAASpmB,KAEbA,KAAKk9G,QAAUtkG,GAAO5Y,KAAK28G,aAEvBzvE,GACFhyB,GAAOlb,KAAK68G,WAAY,2BAExB78G,KAAK69G,WAAWC,KAEhB5iG,GAAOlb,KAAK28G,YAAa,2BAEzB38G,KAAK09G,YAAYI,IAGnB,IAAIjxF,EAAsB,UAAZyqB,EAAsB,CAClCzqB,SAAS,GACP,KACJ7sB,KAAK+9G,oBAAsB,CAACtxF,GAAQniB,SAASyO,KAAMuF,GAAIg5B,GAASzF,MAAM,SAAU9sC,GAC9E,OAAOqhB,EAAO43F,qBAAqBj5G,EAAGuyC,EAASpK,KAC9CrgB,GAAUJ,GAAQniB,SAAUgU,GAAIg5B,GAAS1a,IAAI,WAC9C,OAAOxW,EAAO63F,kBAAkB/wE,OAElChyB,GAAO5Q,SAASyO,KAAM,mBAExBilG,qBAAsB,SAAUj5G,EAAGuyC,EAASpK,GACtCA,EAAMltC,KAAK69G,WAAW94G,GAAQ/E,KAAK09G,YAAY34G,GACnC,UAAZuyC,GAAqB98B,GAAazV,IAExCk5G,kBAAmB,SAAU/wE,GAE3B5gB,GAAYtsB,KAAK+9G,oBAAoB,IACrCzxF,GAAYtsB,KAAK+9G,oBAAoB,IACrC/9G,KAAK+9G,oBAAsB,KAC3B/9G,KAAK6hC,SAAS7hC,KAAKo9G,eAAgB,QAE/BlwE,GACF9xB,GAAUpb,KAAK68G,WAAY,2BAE3B78G,KAAKg9G,iBAAiBpgG,UAEtBxB,GAAUpb,KAAK28G,YAAa,2BAE5B38G,KAAK+8G,aAAangG,SAGpBxB,GAAU9Q,SAASyO,KAAM,mBAE3BmlG,kBAAmB,SAAUz6G,EAAKwnE,GAChC,OAAOvxD,KAAKwJ,IAAIxJ,KAAKgC,IAAIjY,EAAMwnE,EAAM,IAAK,GAAI,IAEhDkzC,iBAAkB,SAAU16G,EAAKwnE,GAC/B,OAAOvxD,KAAKwJ,IAAIxJ,KAAKgC,IAAIjY,EAAMwnE,EAAK,GAAI,MAE1CyxC,sBAAuB,SAAU33G,GAC/B,IAAI+D,EAAO/D,EAAE+yB,OAAS/yB,EAAEgzB,QAExB,GAAIjvB,EAAO,IAAMA,EAAO,GAAI,CAC1B,IAAI4nD,EAAK,0BAA6B7nD,KAAK9D,EAAE+C,OAAOqQ,WACpD,IAAKu4C,EAAO,OAGZ,GAFAl2C,GAAazV,GAET2rD,EAAM,GAAGjvD,OAAQ,CAEnB,GAAa,KAATqH,EAAa9I,KAAKu8G,QAAU,OAAO,GAAa,KAATzzG,EAAa9I,KAAKu8G,QAAU,QAAS,CAC9E,IAAItxC,EAAe,KAATniE,GAAwB,KAATA,GAAwB,KAATA,GAAc,EAAK,EAC3D9I,KAAKu8G,QAAUv8G,KAAKm+G,iBAAiBn+G,KAAKu8G,QAAStxC,GAGrDjrE,KAAKu9G,uBAEL,GAAa,KAATz0G,EACF9I,KAAKw8G,QAAU,EACfx8G,KAAKy8G,QAAU,OACV,GAAa,KAAT3zG,EAAa9I,KAAKw8G,QAAUx8G,KAAKy8G,QAAU,OAAO,GAAa,KAAT3zG,GAAwB,KAATA,EAAa,CAC3F,IAAIs1G,EAAgB,KAATt1G,EAAc,GAAI,EAE7B9I,KAAKw8G,QAAUx8G,KAAKk+G,kBAAkBl+G,KAAKw8G,QAAS4B,OAC/C,CACL,IAAIC,EAAiB,KAATv1G,GAAwB,KAATA,EAAc,GAAI,EAE7C9I,KAAKy8G,QAAUz8G,KAAKk+G,kBAAkBl+G,KAAKy8G,QAAS4B,GAIxDr+G,KAAKs9G,gBAGDt9G,KAAKoN,UAAU5L,OAASxB,KAAKo9G,eAAgBp9G,KAAKm6G,UAAUn6G,KAAKo9G,gBAAqBp9G,KAAK6hC,SAAS7hC,KAAKo9G,eAAgB,UAGjIthD,cAAe,SAAUhqD,GACvB,GAAY,QAARA,GAA0B,UAARA,EAAkB,CAEtC,IAAIm5D,EAAe,SAATn5D,GAAkB,EAAK,EACjC9R,KAAKu8G,QAAUv8G,KAAKm+G,iBAAiBn+G,KAAKu8G,QAAStxC,GAEnDjrE,KAAKu9G,uBACA,GAAY,OAARzrG,GAA0B,WAATA,EAAmB,CAC7C,IAAIwsG,EAAgB,MAARxsG,GAAwB,SAARA,EAAkB,GAAI,EAEtC,QAARA,GAA0B,MAARA,EAAc9R,KAAKy8G,QAAUz8G,KAAKk+G,kBAAkBl+G,KAAKy8G,QAAS6B,GAAYt+G,KAAKw8G,QAAUx8G,KAAKk+G,kBAAkBl+G,KAAKw8G,QAAS8B,GAG1Jt+G,KAAKs9G,gBAELt9G,KAAK6hC,SAAS7hC,KAAKo9G,eAAgB,SAErCtzF,OAAQ,WACN,GAAK9pB,KAAKgqB,UAAUhqB,KAAKoN,UAAUlG,IAAnC,CACAlH,KAAK8M,UAAU,iBAAkB,IACjC,IAAIyxG,GAAYv+G,KAAKgoC,OAA+B,EAAtB4F,GAAQ2C,aAAmB,EAErDiuE,EAAUx+G,KAAKooC,QAAU,GAAK,GAAKpoC,KAAKm9G,YAAcn9G,KAAKoN,UAAUowB,OAASx9B,KAAKm9G,WAAa,GAAK,GACrGnlG,EAAO,iCACXA,GAAQ,gBAAgBwe,OAExB,qBAAsB,mDAAyDgoF,EAAS,8GAExF,qBAAsB,oMAAiNhoF,OAAO+nF,EAAU,sFAA4F/nF,OAAO+nF,EAAU,iEACjWv+G,KAAKoN,UAAUowB,SAAQxlB,GAAQ,+DAA+Dwe,OAAOjrB,EAAK2wD,MAAMx+B,OAAQ,oBAC5H1lB,GAAQ,SACRhY,KAAKgwB,SAASvZ,UAAYuB,EAE1BhY,KAAKy+G,gBAELz+G,KAAKm6G,UAAUn6G,KAAKoN,UAAU5L,OAE9BxB,KAAKknC,aAELlnC,KAAK8M,UAAU,gBAAiB,MAElC2xG,cAAe,WACbz+G,KAAK+8G,aAAe/8G,KAAKgwB,SAASkH,cAAc,uBAChDl3B,KAAKg9G,iBAAmBh9G,KAAKgwB,SAASkH,cAAc,4BACpDl3B,KAAK28G,YAAc38G,KAAKgwB,SAASkH,cAAc,sBAC/Cl3B,KAAK68G,WAAa78G,KAAKgwB,SAASkH,cAAc,qBAC9Cl3B,KAAK88G,cAAgB98G,KAAKgwB,SAASkH,cAAc,yBACjDl3B,KAAKi9G,eAAiBj9G,KAAKgwB,SAASkH,cAAc,0BAClDl3B,KAAKk9G,QAAUtkG,GAAO5Y,KAAK28G,cAE7BxyF,QAAS,WACPnqB,KAAK8pB,YAKL40F,IAFS/+G,EAAQwxB,QAAQmrF,GAAO3yE,GAAO30B,KAAMhJ,GAErC,CACVpG,KAAM,SACNqsB,WAAW,EACXH,MAAO,WACL9xB,KAAK+J,SAAS+P,OAAS8zB,GAAQY,cAAgBZ,GAAQW,aAEzDxkC,SAAU,CACR8f,SAAU,SAAUxpB,EAAKyoB,GACvB,IAAI3iB,EAAO2iB,EAAO61F,aAAat+G,EAAKyoB,GAEpC,OADIzoB,EAAIu+G,OAAuB,IAAdv+G,EAAIu+G,SAAaz4G,EAAOA,EAAKuE,QAAQ,YAAa,6BAA+BrK,EAAIu+G,MAAQ,qBACvG,0CAA4Cv+G,EAAIw+G,OAAS,cAAgBx+G,EAAIy+G,QAAU,OAAS34G,EAAO,UAEhHw0D,MAAO,GACPn5D,MAAO,GACP45B,YAAY,GAEdujF,aAAc,SAAUt+G,GACtB,MAAO,0BAA4BA,EAAIiyB,MAAQ,uBAAyB,IAAM,0BAA4BjyB,EAAIs6D,OAASt6D,EAAImB,OAAS,aAEtIwI,MAAO,SAAU/C,GACfjH,KAAKgwB,SAAS7X,WAAa,4BAA8BnY,KAAK8tG,UAAY9tG,KAAK4F,MAC/E5F,KAAKwwB,iBAAmB,GAExBxwB,KAAK++G,iBAAiB93G,GAEtBjH,KAAKkF,KAAOlF,KAAKoN,UACjBpN,KAAKiqB,SAAWjqB,KAAKgwB,SACrBhwB,KAAKslB,OAAO/jB,MAAK,WACfvB,KAAKg/G,WAAWh/G,KAAKiH,YAGzBg4G,cAAe,SAAU5tG,GACvB,IAAI6tG,EAAUl/G,KAEdA,KAAKm/G,kBAAkB9tG,GAAK,SAAU2D,EAAMiF,GACtCilG,EAAQl1F,cAEVrP,GADWukG,EAAQr0F,MAAMna,WACN,aAAc,SACjC8J,GAAaP,QAInB8kG,iBAAkB,SAAU93G,GACrBA,EAAOqU,KAAQtb,KAAKo/G,WAAWn4G,EAAOqU,QAAQtb,KAAK+J,SAASuR,KAAQtb,KAAKo/G,WAAWp/G,KAAK+J,SAASuR,QACrGtb,KAAKgwB,SAAS7X,WAAa,qBAG/BinG,WAAY,SAAU9jG,GACpB,GAAkB,iBAAPA,EAAiB,CAO1B,IAAK,IAAI5a,IANK,CACZ2+G,aAAc,EACdC,kBAAmB,EACnBC,cAAe,GAIf,IAAuB,IAAnBjkG,EAAI3O,QAAQjM,GAAW,OAAO,EAItC,OAAO,GAETy+G,kBAAmB,SAAU9tG,EAAKovB,EAAMzrB,GACtC,IAAI+iB,EAAUyE,GAAU6D,UAAUhvB,EAAKovB,EAAMzrB,GAC7ChV,KAAK6M,YAAY,cAAc,WAC7B2vB,GAAUgE,aAAazI,EAAS0I,EAAMzrB,OAG1Cy4D,YAAa,SAAUjsE,GAErB,OADIxB,KAAKw/G,OAAOh+G,KAAQxB,KAAK2+G,aAAet2F,GAASroB,KAAKw/G,OAAOh+G,KAC1DA,GAETi+G,iBAAiB,EACjBD,OAAQ,CACNh3B,MAAO,6MACPk3B,SAAU,sNACVnjF,KAAM,uLACNojF,QAAS,oMAEXC,eAAgB,WAId,IAHA,IAAIj0G,EAAS,GACTk0G,EAAW,CAAC,QAAS,SAAU,WAAY,UAEtCn/G,EAAI,EAAGA,EAAIm/G,EAASp+G,OAAQf,IAGnC,IAFA,IAAI8+E,EAASx/E,KAAK6qB,MAAM3c,qBAAqB2xG,EAASn/G,IAE7C6gD,EAAI,EAAGA,EAAIi+B,EAAO/9E,OAAQ8/C,IACjC51C,EAAOpK,KAAKi+E,EAAOj+B,IAIvB,OAAO51C,GAETw7B,QAAS,WACP,IAAIzmC,EACA2J,EACAwO,EAAO7Y,KAAKg6G,UAIhB,GAFA5wE,GAAKC,IAAIlC,QAAQv+B,MAAM5I,KAAMsG,WAEzBuS,IAAyD,GAAjDA,EAAKV,UAAUxL,QAAQ,uBAA8B,CAC/DkM,EAAKV,WAAa,sBAElB,IAAIqnE,EAASx/E,KAAK4/G,iBAElB,IAAKl/G,EAAI,EAAGA,EAAI8+E,EAAO/9E,OAAQf,IAC7B8+E,EAAO9+E,GAAG+W,aAAa,YAAY,GAWrC,IAPApN,EAAOrK,KAAK0yB,iBAE8B,OAA9BroB,EAAKmG,QAAQhK,gBACvBxG,KAAK8/G,kBAAoBz1G,EAAK2E,aAAa,YAC3C3E,EAAKowB,gBAAgB,aAGa,OAAhCz6B,KAAKoN,UAAUqhG,cAAwB,CACzC,IAAI9zC,EAAQ36D,KAAKiqB,SAASvZ,WACtBiqD,IAAOA,EAAMxiD,WAAa,gCAIpCivB,OAAQ,WACNgC,GAAKC,IAAIjC,OAAOx+B,MAAM5I,KAAMsG,WAE5B,IAAI+D,EACAwO,EAAO7Y,KAAKg6G,UAEhB,GAAInhG,EAAM,CACRA,EAAKV,UAAYU,EAAKV,UAAUzN,QAAQ,sBAAuB,IAI/D,IAFA,IAAI80E,EAASx/E,KAAK4/G,iBAETl/G,EAAI,EAAGA,EAAI8+E,EAAO/9E,OAAQf,IACjC8+E,EAAO9+E,GAAG+5B,gBAAgB,YAM5B,IAHApwB,EAAOrK,KAAK0yB,kBACC1pB,EAAYhJ,KAAK8/G,oBAAoBz1G,EAAKoN,aAAa,WAAYzX,KAAK8/G,mBAEjD,OAAhC9/G,KAAKoN,UAAUqhG,cAAwB,CACzC,IAAI9zC,EAAQ36D,KAAKiqB,SAASvZ,WACtBiqD,IAAOA,EAAMxiD,UAAYwiD,EAAMxiD,UAAUzN,QAAQ,4BAA6B,QAIxFm9B,SAAU,SAAU51B,EAAGwH,GACjBkwB,GAAON,IAAIxB,SAASzlC,KAAKpC,KAAMiS,EAAGwH,IACpCzZ,KAAK8pB,UAGT+X,SAAU,SAAUrgC,EAAOyF,GACzBzF,EAAQxB,KAAKi6G,cAAcz4G,GAC3B,IAAIkmC,EAAW1nC,KAAKoN,UAAU5L,MAE9B,GAAIxB,KAAKwhF,cAAc95C,EAAUlmC,IAE/B,GAAIxB,KAAK+/G,iBAAmB//G,KAAKggH,SAAU,CACzCx+G,EAAQxB,KAAKggH,SAASx+G,GACtB,IAAI41B,EAAQp3B,KAAK0yB,eACb0E,IAAUpuB,EAAYouB,EAAM51B,QAAU41B,EAAM51B,OAASA,GAAOxB,KAAKm6G,UAAU34G,SAMnFxB,KAAKoN,UAAU5L,MAAQA,EACnBxB,KAAK+/G,iBAAiB//G,KAAKm6G,UAAU34G,GACzCxB,KAAK8M,UAAU,WAAY,CAACtL,EAAOkmC,EAAUzgC,KAE/Cu6E,cAAe,SAAU95C,EAAUlmC,GAGjC,MAFqB,iBAAVA,IAAoBA,EAAQA,EAAMW,YACrB,iBAAbulC,IAAuBA,EAAWA,EAASvlC,YAC/CulC,GAAYlmC,GAErBy4G,cAAe,SAAUz4G,GACvB,OAAiB,IAAVA,EAAc,KAAOA,GAAS,IAAIW,YAE3C+3G,aAAc,SAAU14G,GACtB,OAAOxB,KAAKi6G,cAAcz4G,IAG5B24G,UAAW,SAAU34G,GACnB,IAAI6I,EAAOrK,KAAK0yB,eAEZroB,IAASrK,KAAKw/G,OAAOx/G,KAAKoN,UAAU9I,QACtC9C,EAAQxB,KAAKoN,UAAUutD,OAASn5D,EACZ,UAAhB6I,EAAKmG,QAAqBnG,EAAKoM,UAAYjV,EAAW6I,EAAK7I,MAAQA,IAG3E4W,SAAU,WAGR,IAAI5W,EAAQxB,KAAK+/G,gBAAkB//G,KAAKigH,YAAcjgH,KAAKoN,UAAU5L,MACrE,YAAuB,IAATA,EAAuB,GAAKA,GAE5Cy+G,UAAW,WACT,OAAOjgH,KAAKoN,UAAU5L,OAAS,IAEjCob,MAAO,WACL,IAAK4f,GAAUgC,SAASx+B,MAAO,OAAO,EACtC,IAAIo3B,EAAQp3B,KAAK0yB,eACb0E,GAASA,EAAMxa,OAAOwa,EAAMxa,SAElCwhB,KAAM,WACJ,IAAIhH,EAAQp3B,KAAK0yB,eACb0E,GAASA,EAAMgH,MAAMhH,EAAMgH,QAGjC1L,aAAc,WACZ,OAAO1yB,KAAKiqB,SAAS/b,qBAAqB,SAAS,IAAMlO,KAAKiqB,SAAS/b,qBAAqB,UAAU,IAGxG8rG,QAAS,WACP,IAAK,IAAIt5G,EAAI,EAAGA,EAAIV,KAAKiqB,SAAS5Z,WAAW5O,OAAQf,IACnD,GAAIV,KAAKiqB,SAAS5Z,WAAW3P,GAAGyX,UAAUxL,QAAQ,iBAAmB,EAAG,OAAO3M,KAAKiqB,SAAS5Z,WAAW3P,GAG1G,OAAO,MAETmqC,kBAAmB,SAAUt9B,EAAGxI,GAC9B,IAAIsF,EAAOtF,EAAE+C,OAET+P,EAAM7X,KAAKg6G,UAIf,MAFiD,OAAhCh6G,KAAKoN,UAAUqhG,eAA0BzuG,KAAKiqB,SAASvZ,WAAWsnB,SAAS3tB,IAE1EwN,GAAOA,EAAImgB,SAAS3tB,GAAcrK,KAAKoN,UAClD,MAET8yG,QAASxmG,KAAK+7B,KAAK,GACnBupE,WAAY,SAAU/3G,GAGpB,IAFAA,EAASA,GAAUjH,KAAKoN,WAEbu5E,UAAW,CACpB,IAAI/sE,EAAQyB,GAAYpU,EAAOzF,OAASyF,EAAO0zD,OAAS,GAAI,eAAe/gD,OAAS3S,EAAO23G,OAA0B,IAAjB33G,EAAO23G,MAA+D,EAAjDvjG,GAAYpU,EAAO23G,MAAO,eAAehlG,MAAY,GAAK,IAAsB,SAAhB3S,EAAO3C,KAAkB,GAAK,IAAsB,UAAhB2C,EAAO3C,KAAmB2C,EAAO6S,OAAS8zB,GAAQa,aAAe,GAC9R70B,EAAQF,KAAKgC,IAAIzU,EAAOq0B,UAAY,EAAG1hB,GACvC3S,EAAO2S,MAAQF,KAAKwJ,IAAIjc,EAAOs0B,UAAYooB,EAAAA,EAAU/pC,KAGzDumG,kBAAmB,WAIjBngH,KAAKogH,aAAepgH,KAAKoN,UAAUizG,aAAergH,KAAKioC,eAAiBjoC,KAAKoN,UAAUwM,MAAQ,EAAI5Z,KAAKoN,UAAUwM,MAAQ,IAAM5Z,KAAKioC,eACrIjoC,KAAKsgH,cAAgBtgH,KAAKoN,UAAUmhC,aAAevuC,KAAKugH,cAAgB,GAE1E9qF,OAAQ,WAGN,OAFAz1B,KAAKg/G,aAEEr1E,GAAON,IAAI5T,OAAO7sB,MAAM5I,KAAMsG,YAEvCwjB,OAAQ,WAUN,GATA9pB,KAAKmgH,oBAELngH,KAAKoN,UAAUyxG,OAAS7+G,KAAKogH,cAAgBpgH,KAAKioC,eAClDjoC,KAAKoN,UAAU0xG,QAAU9+G,KAAKsgH,eAAiBtgH,KAAKqoC,gBAEpDroC,KAAKoN,UAAUozG,QAAUxgH,KAAKoN,UAAU0xG,QAAU,EAClD9+G,KAAKoN,UAAUqzG,QAAUzgH,KAAKoN,UAAU0xG,QAAU,EAAIlxE,GAAQa,aAC9DzuC,KAAKoN,UAAUszG,QAAU1gH,KAAKoN,UAAUqzG,QAAU,EAE9C/2F,GAAWI,OAAO1nB,KAAKpC,MAAO,CAIhC,GAHAA,KAAK+/G,iBAAkB,EACnB//G,KAAKy/G,iBAAiBz/G,KAAKy/G,kBAE3Bz/G,KAAKoN,UAAU0jB,MAAO,CACxB,IAAI6vF,EAAS3gH,KAAKiqB,SAASvZ,WAG3B,OAFoC,OAAhC1Q,KAAKoN,UAAUqhG,eAA0BkS,EAAO3zE,cAAa2zE,EAASA,EAAO3zE,aAEzEhtC,KAAKoN,UAAU0jB,OACrB,IAAK,QACH6vF,EAAOnpG,MAAMopG,SAAW,QACxB,MAEF,IAAK,SACHD,EAAOnpG,MAAMghB,QAAU,eACvBmoF,EAAOtoG,WAAWb,MAAMoxE,UAAY,SACpC,MAEF,IAAK,SACH+3B,EAAOnpG,MAAMqyF,UAAYnwF,KAAKC,OAAO3Z,KAAKqoC,gBAAkBroC,KAAKsgH,eAAiB,GAAK,KACvF,MAEF,IAAK,SACHK,EAAOnpG,MAAMqyF,UAAY7pG,KAAKqoC,gBAAkBroC,KAAKsgH,cAAgB,KACrE,MAEF,IAAK,OACHK,EAAOnpG,MAAMopG,SAAW,OACxB,cAGA96G,GAAO,EAAO,uBAAyB9F,KAAKoN,UAAU0jB,QAKxD9wB,KAAKi+E,SAASj+E,KAAKi+E,QAAQj+E,KAAKkF,MAChClF,KAAKoN,UAAUyT,UAAU7gB,KAAKmnC,UAE9BnnC,KAAK6gH,aACP7gH,KAAK6gH,WAAW7gH,KAAKkF,MAErBlF,KAAK6gH,WAAa,KAIxB12F,QAAS,WACPnqB,KAAK8pB,UAEPuI,SAAU,CACRyuF,kBAAmB,SAAU7mG,GAC3B,IAAI/S,EAAKwR,GAAOuB,EAEhB,aACI8mG,EAAM/gH,KAAK6jE,UAAU38D,GAErB65G,IAAQA,EAAIlgG,UAAY7gB,KAAK8M,UAAU,mBAAoB,CAAC5F,EAAI+S,MAClEja,KAAK6hC,SAAS36B,EAAI,QAClBlH,KAAK4c,QACL5c,KAAK8M,UAAU,kBAAmB,CAAC5F,EAAI+S,MAG3C+mG,mBAAoB,SAAU/mG,EAAIujB,GAChCx9B,KAAKqyB,SAASyuF,kBAAkB1+G,KAAKpC,KAAMia,EAAIujB,IAEjDyjF,eAAgB,SAAUhnG,EAAIujB,GAC5Bx9B,KAAKqyB,SAASyuF,kBAAkB1+G,KAAKpC,KAAMia,EAAIujB,IAEjD0jF,uBAAwB,WACjBlhH,KAAKoN,UAAUmlB,UAAUvyB,KAAKqB,KAAKrB,KAAKoN,UAAUi5C,KAAM,SAE/D86D,uBAAwB,WACjBnhH,KAAKoN,UAAUmlB,UAAUvyB,KAAK60C,KAAK70C,KAAKoN,UAAUi5C,KAAM,SAE/D+6D,iBAAkB,WAChBphH,KAAK0yB,eAAe9V,SAEtBykG,iBAAkB,WAEhB,OADIrhH,KAAKmhF,cAAcnhF,KAAK6hC,SAAS,GAAI,SAClC,GAETy/E,0BAA2B,SAAUv8G,GAC9B/E,KAAKoN,UAAUyT,UAAgC,OAApB9b,EAAE+C,OAAO0I,SAAqBxQ,KAAKoN,UAAUmlB,UAAUvyB,KAAKuhH,OAAO,SAErGC,yBAA0B,WACnBxhH,KAAKoN,UAAUmlB,UAAUvyB,KAAKuhH,OAAO,SAE5CE,uBAAwB,SAAU18G,GAChC,IAAImC,EAAKwR,GAAO3T,EAEhB,YACIg8G,EAAM/gH,KAAK6jE,UAAU38D,GAErB65G,IAAQA,EAAIlgG,WACd7gB,KAAK6hC,SAAS36B,EAAI,QAClBlH,KAAK4c,UAGT8kG,oBAAqB,SAAUznG,EAAI5Z,EAAKgK,GACtC,IAAIioB,EAAQtyB,KAAKu7D,WAEZjpC,EAAMtI,YAGJsI,EAAMoC,QAFXpC,EAAMmD,SACNnD,EAAMG,KAAKpoB,EAAM,MAAM,KAG3Bs3G,gBAAiB,SAAU58G,GACzB,IAAImC,EAAKwR,GAAO3T,EAEhB,aACIg8G,EAAM/gH,KAAK6jE,UAAU38D,GAEzB,OADI65G,IAAQA,EAAIlgG,UAAY7gB,KAAK8M,UAAU,mBAAoB,CAAC5F,EAAInC,KAAK/E,KAAKgkE,aAAa98D,IACpF,IAIX06G,eAAgB,SAAU3hG,GACxBna,IAASma,EAAMjgB,KAAK4F,KAAO,yBAC3BE,EAAOuC,EAAQ4X,GAAOjgB,KAAK4F,KAAO,8BAElC,IAAK,IAAIlF,EAAI,EAAGA,EAAIuf,EAAKxe,OAAQf,IAE/BoF,GAAQma,EAAKvf,GAAGyF,KAAM,sDACtBL,GAAQma,EAAKvf,GAAGi6D,MAAO,uDAED,iBAAX16C,EAAKvf,GACduf,EAAKvf,GAAK,CACRwG,GAAI+Y,EAAKvf,GACTc,MAAOye,EAAKvf,KAGVsI,EAAYiX,EAAKvf,GAAGwG,MAAK+Y,EAAKvf,GAAGwG,GAAK+Y,EAAKvf,GAAGc,OAC9CwH,EAAYiX,EAAKvf,GAAGc,SAAQye,EAAKvf,GAAGc,MAAQye,EAAKvf,GAAGwG,KAI5D,OAAO+Y,GAET4hG,qBAAsB,SAAUxhH,GAC9B,IAAI+4B,EAAc/4B,EAAMA,EAAI+4B,YAAcp5B,KAAKoN,UAAUgsB,YACzD,OAAOA,EAAc,mCAAqCA,EAAc,UAAY,MAIpF0oF,GAAW,CACbz4E,IAAKq1E,GACL1pG,KAHWrV,EAAQwxB,QAAQutF,GAAO/0E,GAAO30B,KAAMy1B,GAAa/gB,GAAYyY,GAAUn2B,IAMhF+1G,GAAQ,CACVn8G,KAAM,QACNmE,SAAU,CACR8f,SAAU,+GAEZiI,MAAO,WACLgwF,GAASz4E,IAAIvX,MAAM1vB,KAAKpC,MACxBA,KAAK+J,SAAS+P,OAAS8zB,GAAQW,aAEjC3xB,MAAO,WACL,OAAO,GAETo9F,QAAS,WACP,OAAOh6G,KAAKiqB,SAASvZ,YAEvBwxF,QAAS,SAAUlqF,GACjBhY,KAAKoN,UAAUutD,MAAQ3iD,EACvBhY,KAAKmqB,WAEP0X,SAAU,SAAUrgC,GAClBxB,KAAKoN,UAAUutD,MAAQn5D,EACvBsgH,GAASz4E,IAAIxH,SAASj5B,MAAM5I,KAAMsG,YAEpC6zG,UAAW,SAAU34G,GACnBxB,KAAKiqB,SAASvZ,WAAW+F,UAAYjV,GAEvCy8E,QAAS,SAAUh3E,GACI,UAAjBA,EAAO6pB,QAAmB9wB,KAAKiqB,SAASvZ,WAAW8G,MAAMoxE,UAAY,UAE3E62B,iBAAiB,EACjBV,iBAAkB,aAClBC,WAAY,SAAU/3G,GACpB,IAAIqU,EAAM,2BAA6Btb,KAAK2+B,UAAU,UAAW,UAAY,qBAAuB,KACpG13B,EAASA,GAAUjH,KAAKoN,WACbu5E,YAAW1/E,EAAO2S,MAAQyB,GAAYpU,EAAO0zD,MAAOr/C,GAAK1B,SAKpEooG,IAFSriH,EAAQwxB,QAAQ4wF,GAAOD,GAAS9sG,MAE1B,CACjB,EAAG,MACH,GAAI,KACJ,GAAI,OACJ,GAAI,OACJ,GAAI,UAEFitG,GAAc,CAChBj4G,MAAO,SAAU/C,GACf,IAAIi7G,EAAUliH,KAAK+J,SAASm4G,SAAWj7G,EAAOi7G,QAC1Cl+E,EAAShkC,KAAK+J,SAASi6B,QAAU/8B,EAAO+8B,OAC5C/8B,EAAOzF,MAAQwH,EAAY/B,EAAOzF,OAAS,GAAKyF,EAAOzF,OAEnD0gH,GAAWl+E,IAAWhkC,KAAKmiH,iBAC7BniH,KAAK6M,YAAY,cAAc,SAAU/D,EAAM/D,GAC7C,KAAIA,EAAEg8B,SAAWh8B,EAAEi8B,QAAUhhC,KAAKoN,UAAUmlB,UAAYvyB,KAAKoiH,iBACzDt5G,EAAO,KAAOA,EAAO,MACvBA,GAAQ,IAENk5G,GAAal5G,IAAkB,IAATA,GAAuB,KAATA,IAOxC,OAFA9I,KAAKqiH,gBAAgBt9G,EAAG+D,IAEjB,KAET9I,KAAK6M,YAAY,gBAAiB7M,KAAKsiH,eAEvCtiH,KAAKuiH,QAAU,WACb,OAAOviH,KAAK0yB,eAAelxB,OAG7BxB,KAAKi6G,cAAgB,SAAUz4G,GAC7B,OAAOxB,KAAKggH,SAASx+G,GAAO,IAG9BxB,KAAKggH,SAAW,SAAUx+G,EAAOsQ,GAC/B,OAAa,IAATA,EAAuB9R,KAAKwiH,aAAahhH,GAAmBxB,KAAKyiH,cAAcjhH,IAGjFwiC,IACsB,WAApB/jC,EAAQ+jC,GACVhkC,KAAKoiH,eAAiBp+E,GAEtBA,EAASwxD,GAAS33E,UAAUmmB,GAC5BhkC,KAAKoiH,eAAiB,CACpBhxG,MAAO,SAAU5P,GACf,OAAOg0F,GAASpkF,MAAM5P,EAAOwiC,IAE/Bm6B,KAAM,SAAU38D,GACd,OAAOg0F,GAASxxD,OAAOxiC,EAAOwiC,QAQpCk+E,IACFliH,KAAKoN,UAAU80G,QAAUliH,KAAK0iH,eAAeR,UACtCj7G,EAAOi7G,UAGlBQ,eAAgB,SAAUlhH,GACxB,IAAI0gH,EAAU/pB,GAAS32F,IAAUA,EAQjC,MAPsB,iBAAX0gH,IAAqBA,EAAU,CACxCpuB,KAAMouB,IAERA,EAAQ3sE,MAAQ2sE,EAAQ3sE,OAAK,eAE7Bv1C,KAAK2iH,eAAeT,GAEbA,GAETU,iBAAkB,WAChB5iH,KAAKiH,OAAO8+B,SAAW/lC,KAAKiH,OAAO8+B,UAAYt9B,GAAK,WAClD,IAAIjH,EAAQxB,KAAKuiH,UACbpwD,EAAM3wD,EAAMkJ,QAAQ1K,KAAK6iH,eAAgB,IAE7C,OADerhH,EAAMW,WAAWuuD,MAAM1wD,KAAK8iH,kBAAoB,IAAIz7G,KAAK,IACzD5F,QAAU0wD,EAAI1wD,QAAUD,EAAMC,QAAUzB,KAAKoN,UAAU80G,QAAQpuB,KAAKryF,SAClFzB,OAELsiH,cAAe,WACb,IAAI18F,EAAQ5lB,KAEPA,KAAKoiH,gBAAgB71F,GAAOvsB,KAAK0yB,eAAgB,SAAS,WAC7D,IAAIqwF,GAAQ,IAAIv6G,MAAO0B,YAElBlK,KAAKgjH,iBAAmBD,EAAQ/iH,KAAKgjH,gBAAkB,OAC1DhjH,KAAKgjH,gBAAkBD,EACvB/iH,KAAKm6G,UAAUn6G,KAAKuiH,cAErB,CACD95G,KAAMzI,OAGRusB,GAAOvsB,KAAK0yB,eAAgB,QAAQ,WAClC,OAAO9M,EAAMyY,cAAc,YAG/BskF,eAAgB,SAAUT,GAMxB,IALA,IAAIpuB,EAAOouB,EAAQpuB,KACflmC,EAAS,GACTq1D,EAAQ,GACRtxG,EAAQ,EAEHjR,EAAI,EAAGA,EAAIozF,EAAKryF,OAAQf,IACf,MAAZozF,EAAKpzF,IACPktD,EAAOltD,GAAKiR,EACZA,MAEAi8C,EAAOltD,IAAK,GACmB,IAA3BuiH,EAAMt2G,QAAQmnF,EAAKpzF,MAAYuiH,GAAS,KAAOnvB,EAAKpzF,KAI5DV,KAAK8iH,gBAAkBZ,EAAQ3sE,MAC/Bv1C,KAAK6iH,eAAiB,IAAIv6G,OAAO,IAAM26G,EAAQ,IAAK,KACpDjjH,KAAKkjH,gBAAkBt1D,EAEvB5tD,KAAK4iH,oBAEPP,gBAAiB,SAAUt9G,EAAG+D,GAC5B,IAAIuB,EAAOrK,KAAK0yB,eACZlxB,EAAQ6I,EAAK7I,MACbyc,EAASpB,GAAkBxS,GAC3B+d,EAAM,GAEV,GAAY,GAARtf,GAAqB,IAARA,EACXmV,EAAOvB,OAASuB,EAAOtB,MACb,GAAR7T,EAAWmV,EAAOvB,QAAauB,EAAOtB,WAEvC,CACLyL,EAAMpG,OAAOC,aAAanZ,GAC1B,IAAIq6G,EAAap+G,EAAEq+G,iBAAiB,cAC/Br+G,EAAE46B,WAAawjF,GAAcp+G,EAAE46B,UAAYwjF,KAAY/6F,EAAMA,EAAI5hB,eAGxEhF,EAAQA,EAAMoL,OAAO,EAAGqR,EAAOvB,OAAS0L,EAAM5mB,EAAMoL,OAAOqR,EAAOtB,KAClEsB,EAASje,KAAKqjH,aAAaj7F,EAAK5mB,EAAMC,OAAQwc,EAAOvB,MAAO5T,GAC5D9I,KAAKsjH,YAAcx6G,EACnB9I,KAAKm6G,UAAU34G,GACfib,GAAkBpS,EAAM4T,IAE1BolG,aAAc,SAAUj7F,EAAKrd,EAAKkT,EAAQnV,GACxC,GAAIsf,GAAOA,EAAIsoC,MAAM1wD,KAAK8iH,kBAA4B,GAARh6G,GAAqB,IAARA,EACzDmV,EAASmK,EAAMnK,EAAS,EAAIA,EAC5BA,EAASje,KAAKujH,aAAatlG,EAAQnV,QAC9B,GAAIiC,EAAM,GAAKkT,GAAmB,IAATnV,GAAuB,KAATA,EAAa,CACzD,IAAIsN,EAAOpW,KAAKoN,UAAU80G,QAAQpuB,KAAKnnF,QAAQ,IAAKsR,GAEhD7H,EAAO,IAAG6H,GAAU7H,GAG1B,OAAO6H,GAETslG,aAAc,SAAUtlG,EAAQnV,GAC9B,IAAI+rC,EAAO52B,EAAyB,GAAN,KAATnV,GAErB,OAAmC,IAA/B9I,KAAKkjH,gBAAgBruE,IACvB52B,GAA2B,GAARnV,GAAY,EAAK,EAC7B9I,KAAKujH,aAAatlG,EAAQnV,KAGE,IAAjC9I,KAAKkjH,gBAAgBjlG,IAA8B,IAATnV,EAAmB9I,KAAKujH,aAAatlG,EAAS,EAAGnV,GAAQ,EAChGmV,GAETukG,aAAc,SAAUhhH,GACtB,OAAIxB,KAAKoiH,eAAuBpiH,KAAKoiH,eAAehxG,MAAM5P,KAC1DA,EAAQA,GAAmB,IAAVA,EAAcA,EAAQ,IACnBW,WAAWuuD,MAAM1wD,KAAK8iH,kBAAoB,IAC/Cz7G,KAAK,IAAIqD,QAAQ1K,KAAK6iH,eAAgB,KAEvDJ,cAAe,SAAUjhH,GACvB,GAAIxB,KAAKoiH,eAAgB,OAAOpiH,KAAKoiH,eAAejkD,KAAKn+D,KAAKoiH,eAAehxG,MAAM5P,IAEnF,IAAI2wD,EAAMnyD,KAAKwiH,aAAahhH,GACxB0gH,EAAUliH,KAAKoN,UAAU80G,QAAQpuB,KACjCA,EAAO9zF,KAAKoN,UAAU80G,QAAQpuB,KAC9BlmC,EAAS5tD,KAAKkjH,gBACdvmG,GAAM,EACNwW,EAAW,EACXqwF,EAAW,EACXC,EAAY,EAEhB,IAAK,IAAI/iH,KAAKktD,EACZ,IAAkB,IAAdA,EAAOltD,GAAc,CACvB,IAAKic,EAAK,CACRwW,EAAe,EAAJzyB,EAEX,IAAIgjH,EAAQvxD,EADZqxD,EAAW51D,EAAOltD,KACW,GACzBW,EAAO8wD,EAAIqxD,EAAW,GAC1BtB,GAAWwB,EAAQxB,EAAQt1G,OAAO,EAAGumB,GAAY,IAAMuwF,GAASA,GAASriH,EAAO6gH,EAAQt1G,OAAOumB,EAAW,GAAK,IAC1G9xB,IAAMsb,GAAM,GAGnB8mG,IAKJ,IAAIE,EAAQ3jH,KAAKsjH,YAEjB,GAAIK,GAAmB,IAAVA,IAAgBA,GAASF,EAAY,IAAMD,GAAYtB,EAAQzgH,OAASqyF,EAAKryF,OACxF,GAAI0wD,EAAK,CACP,IAAIyxD,EAAOzwF,EAAW,EAEtB,GAA0B,MAAtB2gE,EAAKx+E,OAAOsuG,IAAiB1B,EAAQzgH,OAASqyF,EAAKryF,OAAQ,CAC7D,IAAIoiH,EAAO/vB,EAAKnnF,QAAQ,IAAKi3G,GACzBC,EAAO,IAAGA,EAAO/vB,EAAKryF,QAC1BygH,GAAWpuB,EAAKlnF,OAAOg3G,EAAMC,EAAOD,SAEnB,KAAVD,IACTzB,GAAWpuB,EAAKlnF,OAAO,EAAGknF,EAAKnnF,QAAQ,OAK3C,OADA3M,KAAKsjH,YAAc,KACZpB,IAIP4B,GAAQ,CACVl+G,KAAM,OACNu7E,cAAc,EACd4iC,eAAgB,WACd,IAAIn+F,EAAQ5lB,KAEZ,GAAIA,KAAKmhF,aAAc,CACrB,IAAIrzE,EAAI9N,KAAKoN,UACT/C,EAAOrK,KAAK0yB,eAQhB,GALK1yB,KAAKgkH,SAASz3F,GAAOliB,EAAM,UAAU,WACxC,OAAOub,EAAMyY,cAAc,WAEzBvwB,EAAEssD,SAASvrC,GAAG/gB,EAAEssD,SAASI,UAAUx6D,MAEnC8N,EAAE6X,QAAU3lB,KAAKikH,WAAY,CAC/BjkH,KAAKkkH,YAAclkH,KAAK6qB,MAAMqM,cAAc,gCACxB,SAAhB7sB,EAAKmG,SAAsC,UAAhBnG,EAAKmG,SAAqB+b,GAAOliB,EAAM,SAAS,SAAUtF,GACvF,OAAO6gB,EAAMu+F,iBAAiBp/G,EAAE+C,OAAOtG,UAEzC,IAAI2E,EAAOnG,KAAKuiH,QAAUviH,KAAKuiH,UAAYz0G,EAAE3H,MAAQ2H,EAAEtM,MAEvDxB,KAAKmkH,iBAAiBh+G,MAI5Bk4B,cAAe,SAAUvwB,GACvB,IAAItM,EAAQxB,KAAKoY,WACjBpY,KAAK6hC,SAASrgC,EAAOsM,IAEvBq2G,iBAAkB,SAAU3iH,GAC1B,IAAIsM,EAAI9N,KAAKoN,UACb,GAAKU,EAAE6X,OAAU3lB,KAAKkkH,YAEtB,GAAgB,UAAZp2G,EAAE6X,OAAiC,YAAZ7X,EAAE6X,MAAqB,CAChD,IAAIrK,EAAM9Z,EAAQ,qBAAmC,UAAZsM,EAAE6X,MAAoB7X,EAAEyuB,KAAO,aAAezuB,EAAEyuB,KACzFv8B,KAAKkkH,YAAY/rG,UAAY,oBAAsBmD,MAC9C,CACL,IAAI9X,EAAQhC,EAAQ,GAAK,SACrBxB,KAAKkkH,YAAY1sG,MAAM4sG,aAAe5gH,IAAOxD,KAAKkkH,YAAY1sG,MAAM4sG,WAAa5gH,KAGzFsuB,MAAO,WACLgwF,GAASz4E,IAAIvX,MAAM1vB,KAAKpC,MACxBA,KAAK+J,SAAS+P,OAAS8zB,GAAQW,YAC/BvuC,KAAK+J,SAAS0kC,aAAeb,GAAQa,aACrCzuC,KAAKuuG,cAAgB3gE,GAAQmB,aAC7B/uC,KAAKwuG,gBAAkB5gE,GAAQe,gBAEjC3kC,MAAO,SAAU/C,GACa,OAAxBA,EAAOwnG,eAA0BzlG,EAAY/B,EAAO6S,SAAW9Z,KAAK+J,SAAS+P,SAC/E7S,EAAO6S,OAAS9Z,KAAK+J,SAAS+P,QAAU7S,EAAO0zD,MAAQ36D,KAAKwuG,gBAAkB,IAE3ExlG,EAAY/B,EAAOs1B,QAAOv8B,KAAKoN,UAAUmvB,KAAOt1B,EAAOs1B,MACxDv8B,KAAKgkH,SAAShkH,KAAK6M,YAAY,UAAU,WACvC7M,KAAK+/G,iBAAiB//G,KAAKgkH,aAEjChkH,KAAK6M,YAAY,gBAAiB7M,KAAK+jH,gBACvC/jH,KAAK6M,YAAY,cAAc,WAC7B7M,KAAKkkH,YAAc,SAGvBG,aAAc,SAAU7iH,GAMtB,OALIA,IACGxB,KAAKoN,UAAUmvB,OAAM/6B,GAAQ,GACpB,UAAVA,GAA+B,YAAVA,IAAqBA,IAAUA,IAGnDA,GAET8iH,YAAa,SAAUx2G,GACrB,IAAIgM,EAAShM,EAAEgxG,QAAU,EAAIhxG,EAAE2gC,aAC3BgC,GAAW32B,EAAS,IAAM,EAAI,EAC9BmS,EAAQjsB,KAAKuuG,cAAgB,EAAI,GACjCv2F,EAAO,GAYX,OAVIlK,EAAEyuB,OAEJvkB,GAAQ,uBADRiU,GAAS,IAC+B,cAAgBnS,EAAS22B,GAAW,kBAAoBA,EAAU,gCAAkC3iC,EAAEyuB,KAAO,cAGvI,IAAZzuB,EAAE6X,QAEJ3N,GAAQ,uBADRiU,GAAS,IAC+B,cAAgBnS,EAAS22B,GAAW,kBAAoBA,EAAU,2FAGrGz4B,GAETusG,mBAAoB,SAAUC,GAoB5B,OAnBAxkH,KAAK6M,YAAY,YAAY,WAC3B,IAAIrL,EAAQxB,KAAKoY,WACbtG,EAAO9R,KAAKoN,UAAUq3G,cACtBC,EAAS1kH,KAAKoN,UAAUu3G,YACxB3vG,EAAO6Z,GAAG61F,GAEd,IAAK1vG,EAAM,CACT,IAAIuE,EAAMvZ,KAAKiiC,mBACX1oB,GAAOA,EAAIsV,KAAI7Z,EAAOuE,EAAIsV,GAAG61F,IAGnC5+G,EAAOkP,EAAM,wBAA0B0vG,GAE3B,UAAR5yG,EACEtQ,EAAOwT,EAAKoyB,SAAcpyB,EAAKmyB,UAE/B3lC,EAAOwT,EAAKyd,OAAYzd,EAAK0f,UAG9B8vF,GAETI,qBAAsB,SAAUpjH,GAG9B,MAFa,QAATA,GAAiBxB,KAAK6M,YAAY,SAAU7M,KAAK+lC,UACxC,OAATvkC,GAAgBxB,KAAK6M,YAAY,kBAAmB7M,KAAK+lC,UACtDvkC,GAETukC,SAAU,WACR,IAAI3uB,EAAOpX,KAAKoN,UAAU24B,UACrB3uB,GAAQpX,KAAKoN,UAAUiqB,WAAUjgB,EAAOqf,GAAMI,YACnD,IAAIiL,EAAO9hC,KAAKy+B,cACZ74B,EAAO5F,KAAKoN,UAAUxH,KACtBpE,EAAQxB,KAAKoY,WACblT,EAAO,GAIX,OAHAA,EAAKU,GAAQpE,EACbsE,EAAOg8B,EAAM,gDACbh8B,EAAOF,EAAM,gDACTwR,IAAS0qB,EAAKylB,UAAUnwC,EAAM5V,EAAO0D,EAAMU,KAGjDi/G,mBAAoB,SAAUrjH,GAE5B,OADKxB,KAAKoN,UAAU03G,gBAAe9kH,KAAKoN,UAAU03G,cAAgB,IAC3DtjH,GAETujH,gBAAiB,WACf,IAAI5+G,EAAOnG,KAAKoN,UAAUu0E,eAM1B,MAJmB,mBAARx7E,GACTA,EAAK/D,KAAKpC,MAGLmG,GAETy7E,cAAe,SAAUz7E,EAAM2T,GAC7B,IAOIypB,EAPAt8B,EAASjH,KAAKoN,UAElB,IAAKpE,EAAY7C,GAAO,CACtB,GAAIc,EAAO0nG,aAAexoG,EAAM,OAChCc,EAAO0nG,YAAcxoG,EAIvB,IAAIixB,EAAQp3B,KAAK0yB,eAEb0E,IAAUpuB,EAAYouB,EAAM51B,SAC1B41B,GAAS9sB,SAASm1B,gBAAe8D,EAAM1mB,GAAkBua,IAE7Dp3B,KAAKq+B,cAAc,SAGrB,IAAIn4B,GAAWe,EAAOqwB,QAAUrwB,EAAO06E,eAAiB,KAAO16E,EAAO0nG,YACjEzoG,GAAYe,EAAO69G,gBAAe79G,EAAOsnC,YAAc,GAExDroC,IAAYe,EAAO69G,eACrB9kH,KAAKglH,gBAAkB,EACvB/9G,EAAO69G,cAAgB79G,EAAO69G,eAAiBhrG,GAAU,GACzD9Z,KAAK8pB,SACL9pB,KAAKqwB,SACLrwB,KAAKy1B,WACKvvB,GAAWlG,KAAKglH,iBAC1B/9G,EAAO69G,cAAgB9kH,KAAKglH,gBAAkB,EAEzC/9G,EAAO6S,QAAQ9Z,KAAK8pB,SACzB9pB,KAAKqwB,SACLrwB,KAAKy1B,UACAz1B,KAAK8pB,SAERyZ,GAAK9mB,GAAkBzc,KAAK0yB,eAAgB6Q,EAAI7mB,MAAO6mB,EAAI5mB,MAEjE6rB,SAAU,WACR,IAAIphC,EAAQuiC,GAAON,IAAIb,SAAS5/B,MAAM5I,KAAMsG,WACxC2+G,EAAYjlH,KAAKiH,OAAO69G,cAO5B,OALIG,IACF79G,EAAM,IAAM69G,EACZ79G,EAAM,IAAM69G,GAGP79G,GAETygC,SAAU,SAAU51B,EAAGwH,GACrB,IAAIxS,EAASjH,KAAKoN,UAElB,GAAIu8B,GAAON,IAAIxB,SAASzlC,KAAKpC,KAAMiS,EAAGwH,GAAI,CACxC,IAAKxH,IAAMwH,EAAG,OAEc,OAAxBxS,EAAOwnG,eACTxnG,EAAOmnG,WAAa,EAEfnnG,EAAOsnC,cAAavuC,KAAKugH,aAAevgH,KAAKqoC,iBAAmBphC,EAAO0zD,MAAQ36D,KAAKwuG,gBAAkB,IAAMxuG,KAAKiH,OAAO69G,eAAiB,MAE1I79G,EAAO0zD,QAAO1zD,EAAOmnG,WAAapuG,KAAK0uG,eAAeznG,EAAOmnG,WAAYnnG,EAAO0zD,QAChF1zD,EAAO69G,gBAAe79G,EAAOsnC,YAAcvuC,KAAKqoC,gBAAkBroC,KAAKiH,OAAO69G,gBAGpF9kH,KAAK8pB,WAGTo7F,iBAAkB,SAAUj+G,GAC1B,IAAI2S,GAAS5Z,KAAKogH,cAAgB,IAAMn5G,EAAO0zD,MAAQ1zD,EAAOmnG,WAAa,GAAKpuG,KAAKuuG,eAAiBtnG,EAAOk+G,WAAa,GAE1H,OAAOvrG,EAAQ,EAAI,EAAIA,GAEzBwrG,kBAAmB,SAAU/kH,EAAKyoB,GAChC,IAAI5hB,EAAK,IAAMiD,IAEXyP,EAAQkP,EAAOo8F,iBAAiB7kH,GAEhCglH,EAAahlH,EAAIglH,YAAc,OAC/BvrG,EAASzZ,EAAIy+G,QAAU,EAAIlxE,GAAQa,aAAe,EAAIb,GAAQpE,YAC9D87E,GAA6B,IAAdjlH,EAAIslB,MAAiB,sBAAwB,GAE5Dxf,EAAO9F,EAAI8F,MAAQ9F,EAAImB,OAASxB,KAAK6hH,qBAAqBxhH,GAE1D2X,EAAO,6DAA+DqQ,GAASU,OAAO1oB,EAAIs6D,OAAS,kBAAoBt6D,EAAIkyB,SAAW,wBAA0B,KAAOlyB,EAAIi3B,QAAU,sBAAwB,IAAM,kCAAoCxd,EAAS,YAAcF,EAAQ,iBAAmByrG,EAAa,IAAMC,EAAe,KAAOn/G,EAAO,SAC7V,OAAO2iB,EAAO61F,aAAat+G,EAAK2X,EAAM9Q,IAExCq+G,eAAgB,SAAUv1G,GACxB,IAAIgI,EAAO,IAAMhI,GAAOhQ,KAAKoN,UAAUgsB,YAAc,iBAAmB/Q,GAASU,OAAO/oB,KAAKoN,UAAUgsB,aAAe,KAAO,KACzHp5B,KAAKoN,UAAUmlB,WAAUva,GAAQ,oCACjChY,KAAKoN,UAAUiqB,WAAUrf,GAAQ,wBACjChY,KAAKoN,UAAUkqB,UAAStf,GAAQ,uBACpC,IAAID,EAAQ/X,KAAKoN,UAAUmD,WAC3B,GAAIwH,EAAO,IAAK,IAAI0P,KAAQ1P,EAC1BC,GAAQyP,EAAO,KAAO1P,EAAM0P,GAAQ,KAEtC,OAAOzP,GAETwtG,aAAc,SAAUv+G,EAAQC,GAC9B,IAAIyzD,EAAQ,GAEZ,GAAI1zD,EAAO0zD,MAAO,CAChB,IAAIphD,EAAsC,OAAhCvZ,KAAKoN,UAAUqhG,cACrBj3F,EAAQ,cAAcgf,OAAOvvB,EAAOonG,YAAc,OAAQ,kBAAkB73E,OAAOx2B,KAAKylH,gBAAgBlsG,GAAM,QAElHohD,EAAQ,kBADCnjD,GAAL+B,EAAc,iBAA+BtS,EAAOmnG,WAAa,SAAS53E,OAAOvvB,EAAOmnG,WAAY,OAAS,iBAC9E,qBAAuBlnG,EAAK,uBAAyBqS,EAAM,OAAS,IAAM,UAAYtS,EAAOowB,SAAW,iBAAmB,IAAM,MAAQpwB,EAAO0zD,OAAS,IAAM,WAGpM,OAAOA,GAET8qD,gBAAiB,SAAUlsG,GACzB,OAAOA,EAAMvZ,KAAKwuG,gBAAkBxuG,KAAKoN,UAAUqhC,aAAezuC,KAAKoN,UAAU0xG,QAAU,EAAI9+G,KAAKoN,UAAUqhC,cAEhHkwE,aAAc,SAAU13G,EAAQy+G,EAAWx+G,GACzC,IAAIm+G,EAAap+G,EAAOo+G,YAAc,OAClC9rG,EAA8B,OAAxBtS,EAAOwnG,cAEb4R,EAAargH,KAAKklH,iBAAiBj+G,GAEvCC,EAAKA,GAAMiD,IACX,IAAIwwD,EAAQ36D,KAAKwlH,aAAav+G,EAAQC,GAClC8Q,EAAO,GAEX,GAAI0tG,EACF1tG,GAAQ0tG,MACH,CACL,IAAIlkH,EAAQ6mB,GAASU,OAAO9hB,EAAOd,MAAQnG,KAAKggH,SAAS/4G,EAAOzF,QAC5D8jH,GAAgBr+G,EAAOs1B,MAAQt1B,EAAO0e,MAAQ,GAAK,IAAM1e,EAAOs1B,OAAyB,IAAjBt1B,EAAO0e,MAAiB,GAAK,GACzG2/F,EAAeA,IAAiBtlH,KAAKikH,WAAa,iBAAmBqB,EAAe,MAAQ,GAC5FttG,GAAQhY,KAAKulH,eAAe,SAAW,OAASr+G,EAAK,YAAcD,EAAO3C,MAAQtE,KAAK4F,MAAQ,KAAOqB,EAAOy2D,SAAW,mBAAqB,IAAM,WAAal8D,EAAQ,kBAAoB6+G,EAAa,iBAAmBgF,EAAa,IAAMC,EAAe,IAC9P,IAAIvtG,EAAQ9Q,EAAOsJ,WACnB,GAAIwH,EAAO,IAAK,IAAI0P,KAAQ1P,EAC1BC,GAAQ,IAAMyP,EAAO,KAAO1P,EAAM0P,GAAQ,IAE5CzP,GAAQ,MAGVA,GAAQhY,KAAKskH,YAActkH,KAAKskH,YAAYr9G,GAAU,GACtD,IAAI0E,EAAS,GAEJA,EAAL4N,EAAcohD,EAAQ,0CAA4C1zD,EAAO43G,OAAS,cAAgB53G,EAAO63G,QAAU,OAAS9mG,EAAO,SAAuB,0CAA4C/Q,EAAO43G,OAAS,cAAgB53G,EAAO63G,QAAU,OAASnkD,EAAQ3iD,EAAO,SAEnR,IAAIy4B,EAAUxpC,EAAO43G,OAASwB,EAAoC,EAAvBzyE,GAAQa,aAE/CvoC,GAAWe,EAAOqwB,QAAUrwB,EAAO06E,eAAiB,KAAO16E,EAAO0nG,YAEtE,OADIzoG,IAASyF,GAAU,uCAAyC1E,EAAOqwB,QAAU,mCAAqC,IAAM,kBAAoB+oF,GAAcp5G,EAAO43G,QAAU,kBAAoBnlG,KAAKgC,IAAI+0B,EAAS7C,GAAQa,cAAgB,QAAUvoC,EAAU,UAC1PyF,GAET5B,SAAU,CACR8f,SAAU,SAAUxpB,EAAKyoB,GACvB,OAAOA,EAAO61F,aAAat+G,IAE7Bs6D,MAAO,GACPyzC,WAAY,IAEdM,eAAgB,SAAU90F,EAAO+gD,GAE/B,MADa,QAAT/gD,IAAiBA,EAAQyB,GAAYs/C,EAAO,mBAAmB/gD,OAC5DA,EAAQF,KAAKgC,IAAI9B,EAAOg0B,GAAQ2C,aAAe,GAExDk9B,YAAa,SAAUjsE,GACrB,OAAOA,GAETi+G,iBAAiB,EACjBV,iBAAkB,aAClBiB,SAAU,SAAUx+G,GAClB,OAAOA,GAET24G,UAAW,SAAU34G,GACnBA,EAAQxB,KAAKggH,SAASx+G,GACtBxB,KAAK0yB,eAAelxB,MAAQA,EAE5BxB,KAAKmkH,iBAAiB3iH,IAExBy+G,UAAW,WACT,OAAOjgH,KAAKggH,SAAShgH,KAAK0yB,eAAelxB,OAAO,IAElDmkH,aAAc,SAAUjiH,EAAGwB,EAAMmB,GAC/B,GAAIA,GAAWA,EAAQu/G,OAAQ,CAC7B,IAAIliG,EAAIrd,EAAQu/G,OACZpkH,EAAQxB,KAAKoY,WACb0vB,EAAOtmC,EAAMkgD,UAAUr7C,EAAQyE,KAEnCtJ,GADAA,EAAQA,EAAMkgD,UAAU,EAAGr7C,EAAQyE,MACrB42C,UAAU,EAAGlgD,EAAMkvE,YAAYhtD,GAAKA,EAAEjiB,QAAUiC,EAC9D1D,KAAK6hC,SAASrgC,EAAQsmC,EAAMzhC,EAAQY,QACpCwV,GAAkBzc,KAAK0yB,eAAgBlxB,EAAMC,aACxCzB,KAAK6hC,SAASn+B,EAAG2C,GAAWA,EAAQY,SAE7C4+G,eAAgB,SAAUrkH,GACxB,IAAIwkB,EAAShmB,KAEb,GAAIwB,EAAO,CAGT,GAFAsE,GAAiB,IAAVtE,EAAgB,0EAEH,iBAATA,EAAmB,CAE5B,GADcqtB,GAAGrtB,GACJ,OAAOqtB,GAAGrtB,GAAO4L,UAAUlG,GACxC1F,EAAQ,CACNuX,KAAM,CACJtH,IAAKjQ,EACL2lB,SAAU3lB,SAGLA,EAAMsiC,QAAStiC,EAAQ,CAChCuX,KAAM,CACJ7T,KAAM1D,IAEC6G,EAAQ7G,GAAQA,EAAQ,CACjCuX,KAAM,CACJ7T,KAAMlF,KAAK4hH,eAAepgH,KAElBA,EAAMuX,OAAMvX,EAAMuX,KAAO,IAErCpZ,EAAQ8J,OAAOjI,EAAO,CACpBwT,KAAM,YAGR,IAAIkc,EAAQ7C,GAAG7sB,GAOf,OALAxB,KAAKwwB,iBAAiBjvB,KAAK2vB,GAE3BlxB,KAAKslB,OAAO/jB,MAAK,WACf,OAAO2vB,EAAM9jB,UAAUhC,OAAS4a,EAAO5Y,UAAUlG,MAE5CgqB,EAAM9jB,UAAUlG,GAGzB,OAAO,IAIP4+G,GAAO,CACTz8E,IAAKy6E,GACL9uG,KAHWrV,EAAQwxB,QAAQ2yF,GAAO7B,GAAaH,GAAS9sG,OAMtD+wG,GAAiBpmH,EAAQ4xB,MAAM,CACjC3rB,KAAM,iBACNokB,UAAW,WACT,SAAKhqB,KAAKkF,KAAKwyB,MAAMj2B,QAAWzB,KAAKkF,KAAKgnD,eAAkBlsD,KAAKoN,UAAU+Z,WAG7End,MAAO,SAAU/C,GACfjH,KAAKkF,KAAK6rD,WAAW/wD,MAAM,GAC3B,IAAIkH,EAAKD,GAAUA,EAAOC,GAAKD,EAAOC,GAAKiD,IAC3CnK,KAAKoN,UAAUlG,GAAKA,EACpBmnB,GAAGI,MAAMvnB,GAAMlH,KACfA,KAAKkF,KAAK2H,YAAY,cAAepE,GAAK,WACxCzI,KAAK8M,UAAU,gBAAiB,MAC/B9M,QAELmqB,QAAS,WACPnqB,KAAK8M,UAAU,gBAAiB,MAEjCw4C,GAAUjiB,GAAgBqB,GAAYi8C,GAAoBtuB,GAAYkV,GAAev7D,EAAas5B,GAAU3C,GAAaR,IAC5HtiC,EAAO,iBAAkBkmH,IAEzB,IAAIC,GAAQ,CACVpgH,KAAM,SACNmE,SAAU,CACR8f,SAAU,SAAUxpB,EAAKyoB,GACvB,IAAI5hB,EAAK,IAAMiD,IACX6N,EAAO8Q,EAAOy8F,eAAe,UAAY,OAASr+G,EAAK,kBAAoB4hB,EAAOo8F,iBAAiB7kH,GAAO,QAC1G4lH,EAAUp3F,GAAGxuB,EAAIkU,SAErB,GAAI0xG,GAAWA,EAAQ/gH,MAAQ+gH,EAAQ/gH,KAAKiG,KAC1C86G,EAAQ/gH,KAAKiG,MAAK,SAAU4wF,GAC1B/jF,GAAQ,WAAa+jF,EAAO70F,IAAM7G,EAAImB,MAAQ,mBAAqB,IAAM,WAAau6F,EAAO70F,GAAK,KAAO60F,EAAOv6F,MAAQ,oBAK1H,IAFA,IAAI+S,EAAUuU,EAAO84F,eAAevhH,EAAIkU,SAE/B7T,EAAI,EAAGA,EAAI6T,EAAQ9S,OAAQf,IAClCsX,GAAQ,WAAazD,EAAQ7T,GAAGwG,IAAM7G,EAAImB,MAAQ,mBAAqB,IAAM,WAAa+S,EAAQ7T,GAAGwG,GAAK,KAAOqN,EAAQ7T,GAAGc,MAAQ,YAKxI,OADAwW,GAAQ,YACD8Q,EAAO61F,aAAat+G,EAAK2X,EAAM9Q,KAG1Cg/G,eAAgB,SAAU1kH,GACxB,GAAIA,EAAO,CACT,GAAoB,iBAATA,EAAmB,CAC5B,IAAI25D,EAAa,IAAI4qD,GAAe,CAClCt0G,IAAKjQ,IAGP,OADA25D,EAAWj2D,KAAK2H,YAAY,cAAepE,EAAKzI,KAAKmqB,QAASnqB,OACvDm7D,EACF,OAAO35D,IAGlB8iH,YAAa,WACX,MAAO,IAGT5xF,aAAc,WACZ,OAAO1yB,KAAKiqB,SAAS/b,qBAAqB,UAAU,KAKpDi4G,IAFSxmH,EAAQwxB,QAAQ60F,GAAOF,GAAK9wG,MAE7B,CACVpP,KAAM,WACNmE,SAAU,CACRmxF,WAAY,EACZC,aAAc,EACdtxE,SAAU,SAAU5iB,EAAQ6hB,GAC1B,IAAI5hB,EAAK,IAAMiD,IACXi8G,EAAa,GAEbn/G,EAAOo/G,aACTD,EAAa,oCAAsCn/G,EAAOo/G,WAAa,WAEnEp/G,EAAOmnG,aAAYnnG,EAAO0zD,MAAQ1zD,EAAO0zD,OAAS,WAGxD,IAAIK,EAAU/zD,EAAOi0F,YAAcj0F,EAAOzF,MACtCq/D,EAASnnD,KAAKqgB,OAAOjR,EAAO1b,UAAU0xG,QAAU,IAAM,GACtDwH,EAAKx9F,EAAOy8F,eAAe,SAAW,qBAAuB1kD,EAAS,OAAS55D,EAAOgpC,eAAiB,eAAiB,IAAM,SAAW/oC,EAAK,sBAAwB8zD,EAAU,cAAgB,KAAO/zD,EAAOo/G,WAAa,gBAAkBh+F,GAASU,OAAO9hB,EAAOo/G,YAAc,IAAM,IAAM,KAC9RluG,EAAY,4DAA8D6iD,EAAU,IAAM,KAC1F/qB,EAAiBhpC,EAAOgpC,gBAAkB,GAE1CA,IAGFA,GADAA,GADAA,EAAiBA,EAAevlC,QAAO,2BAA6B,MAAQzD,EAAOzF,OAASyF,EAAOi0F,WAAa,OAAS,WACzFxwF,QAAO,yBAA2B,KAAO2d,GAASU,OAAO9hB,EAAOo/G,YAAcp/G,EAAO0zD,SACrFjwD,QAAO,2BAA6B,MAAQzD,EAAOqwB,QAAU,OAAS,WAGxG,IAAItf,EAAO,2BAA6B8Q,EAAO1b,UAAUqzG,QAAU,cAAgBtoG,EAAY,KAAOmuG,EAAKr2E,EAAiBm2E,EAAa,SACzI,OAAOt9F,EAAO61F,aAAa13G,EAAQ+Q,EAAM9Q,KAG7Cq/G,sBAAuB,SAAU/kH,GAK/B,OAJc,IAAVA,GAAkBosC,GAAQqC,iBAC5BzuC,EAAQ,4LAGHA,GAET48B,KAAM,WACJ,IAAIhH,EAAQp3B,KAAK0yB,eACb0E,GAAOA,EAAMgH,QAEnB67E,cAAe,SAAUz4G,GACvB,OAAOA,GAETuiH,eAAgB,aAChB5J,UAAW,SAAU34G,GACnB,IAAIo1B,EAAYp1B,GAASxB,KAAKoN,UAAU8tF,WACpC9jE,EAAQp3B,KAAK6qB,MAAM3c,qBAAqB,SAAS,GACjDmK,EAAa+e,EAAQA,EAAM/e,WAAa,KAE5C,GAAIA,GAAcrY,KAAKoN,UAAU6iC,eAAgB,CAC/C,IAAIzS,EAASnlB,EAAWnK,qBAAqB,UACzCsvB,EAAO,IAAIA,EAAO,GAAG/lB,aAAa,eAAgBmf,EAAY,OAAS,SAGzEve,IACFA,EAAWF,UAAYE,EAAWF,UAAUzN,QAAO,sBAAwB,MAAQksB,EAAY,EAAI,KAGrGQ,EAAM4jC,QAAUpkC,GAElB2qF,OAAQ,SAAUt6G,GAChB,IAAI6G,EAAI9N,KAAKoN,UACT5L,EAAQxB,KAAKoY,YAActK,EAAEotF,WAAaptF,EAAEotF,WAAaptF,EAAEqtF,aAC/Dn7F,KAAK6hC,SAASrgC,EAAOyF,IAEvBmR,SAAU,WACR,IAAItK,EAAI9N,KAAKoN,UACb,OAAOU,EAAEtM,OAASsM,EAAEotF,WAAaptF,EAAEotF,WAAaptF,EAAEqtF,cAEpDzoE,aAAc,WACZ,OAAO1yB,KAAK6qB,MAAM3c,qBAAqBlO,KAAKoN,UAAU6iC,eAAiB,SAAW,SAAS,IAE7Fne,MAAO,WACLg0F,GAAKz8E,IAAIvX,MAAM1vB,KAAKpC,MACpBA,KAAK+J,SAASkmC,iBAAmBrC,GAAQqC,kBAIzCirB,GAAW,CACb7xB,IAAK88E,GACLnxG,KAHWrV,EAAQwxB,QAAQg1F,GAAOL,GAAK9wG,OAMrCwxG,GAAQ,CACV5gH,KAAM,QACNmE,SAAU,CACR8f,SAAU,SAAU5iB,EAAQ6hB,GAC1BA,EAAO84F,eAAe36G,EAAOsN,SAS7B,IAPA,IAIIrN,EAAIu/G,EAAQ7vF,EAAW8vF,EAAY/rD,EAAOrnC,EAAS4c,EAAay2E,EAAUC,EAAIxvF,EAAOw+E,EAJrFrhG,EAAUuU,EAAOq7C,eAAel9D,EAAOsN,SAEvCmnB,EAAS5S,EAAOo7C,kBAGhBlsD,EAAO,GAEFtX,EAAI,EAAGA,EAAI6T,EAAQ9S,OAAQf,IAClC+lH,EAAS,IAAMt8G,IACfjD,EAAKA,GAAMu/G,EACP/lH,IAAM6T,EAAQ7T,GAAGmmH,SAAW5/G,EAAOk5F,WAAWnoF,EAAKzW,KAAK,wCAE5Dq0G,GADAh/E,EAAYriB,EAAQ7T,GAAGwG,IAAMD,EAAOzF,SACVyF,EAAOzF,OAAS+S,EAAQ7T,GAAGwG,KAAOw0B,EAC5DgrF,IAAenyG,EAAQ7T,GAAGmgB,SAC1B85C,EAAQpmD,EAAQ7T,GAAGc,OAAS,GAC5B8xB,EAAUrsB,EAAOqsB,QAAU,gBAAkB/e,EAAQ7T,GAAGwG,GAAK,IAAM,IACnEgpC,EAAcjpC,EAAOipC,aAAe,MAGlCy2E,GAAkB,IAANjmH,EAAUuG,EAAO0zD,MAAQ,IAAM,IAAMA,EAKjDzqB,GADAA,GADAA,GADAA,GADAA,EAAcA,EAAYxlC,QAAO,yBAA2B,KAAO2d,GAASU,OAAO49F,KACzDj8G,QAAO,2BAA6B,MAAQksB,EAAY,OAAS,WACjElsB,QAAO,uBAAyB,OAASg8G,GAAc9Q,EAAY,IAAM,QACzElrG,QAAO,2BAA6B,MAAQzD,EAAOqwB,QAAU,OAAS,WACtE5sB,QAAO,wBAA0B,KAAO6J,EAAQ7T,GAAGwG,IACzEw/G,IAAYx2E,EAAcA,EAAYxlC,QAAQ,eAAgB,wCAGpEk8G,EAAK99F,EAAOy8F,eAAe,SAAW,WAAat+G,EAAOrB,MAAQqB,EAAOC,IAAM,mBAAqB0vB,EAAY,cAAgB,IAAM,cAAgB8vF,GAAc9Q,EAAY,IAAM,MAAQ,WAAarhG,EAAQ7T,GAAGwG,GAAK,SAAWu/G,EAAS,KAAOC,EAAa,mBAAqB,IAAM,YAAcx2E,EAAc,eAAiB,IAAM,OACjV9Y,EAAQ,kBAEY7iB,EAAQ7T,GAAGwG,GAAK,gDAAkD0vB,EAAY,IAAM,KAAO,yBAA2BgwF,EAAK12E,EAAc,SACzJyqB,IAAOA,EAAQ,eAAiB8rD,EAAS,+BAAiC9rD,EAAQ,YACtF3iD,EAAKzW,KAAK,kCAAoCmlH,EAAa,kBAAoB,IAAM,wBAA0BpzF,EAAU,IAAM8D,EAAQujC,EAAQ,UAIjJ,OADA3iD,EAAO,qEAAuE/Q,EAAO0zD,MAAQ1zD,EAAOmnG,WAAa,GAAK,QAAUp2F,EAAK3Q,KAAK,IAAM,SACzIyhB,EAAO61F,aAAa13G,EAAQ+Q,EAAM9Q,KAG7CijB,QAAS,WACPnqB,KAAK8pB,SACD9pB,KAAK+nC,YAAc/nC,KAAKwoC,SAAS,EAAG,GAAG,IAAMxoC,KAAK+nC,WAAW,IAAI/nC,KAAKy1B,UAE5E+S,SAAU,SAAUzT,EAAIC,GACtB,IAAIhuB,EAAO86G,GAASz4E,IAAIb,SAASpmC,KAAKpC,KAAM+0B,EAAIC,GAE5CzgB,EAAUvU,KAAKmkE,eAAenkE,KAAKoN,UAAUmH,SAEjD,GAAIA,EAAS,CAGX,IAFA,IAAI5C,EAAQ3R,KAAKoN,UAAU+yF,SAAW,EAAI,EAEjCz/F,EAAI,EAAGA,EAAI6T,EAAQ9S,OAAQf,KAC9BV,KAAKoN,UAAU+yF,UAAY5rF,EAAQ7T,GAAGmmH,UAASl1G,IAGrD3K,EAAK,GAAKA,EAAK,GAAK0S,KAAKgC,IAAI1U,EAAK,IAAKhH,KAAKoN,UAAUujC,cAAgB,IAAMh/B,EAAsC,EAA9B3R,KAAKoN,UAAUqhC,cAAoD,OAAhCzuC,KAAKoN,UAAUqhG,cAAyBzuG,KAAKwuG,gBAAkB,IAGxL,IAAIyW,EAAYjlH,KAAKiH,OAAO69G,cAO5B,OALIG,IACFj+G,EAAK,IAAMi+G,EACXj+G,EAAK,IAAMi+G,GAGNj+G,GAET08D,cAAe,WACb,OAAO1jE,KAAKiqB,SAAS/b,qBAAqBlO,KAAKoN,UAAU8iC,YAAc,SAAW,UAEpFiqE,UAAW,SAAU34G,GAOnB,IANA,IAII0F,EAAI60F,EAAQ6Z,EAAWv9F,EAAYmlB,EAJnComC,EAAM5jE,KAAKiqB,SAAS/b,qBAAqB,SAEzCwtB,EAAS17B,KAAKkkE,kBAITxjE,EAAI,EAAGA,EAAIkjE,EAAIniE,OAAQf,IAC9BwG,EAAK08D,EAAIljE,GAAG2X,WAAWrJ,aAEvB,YACA+sF,EAAS/7F,KAAK6jE,UAAU38D,GACxB08D,EAAIljE,GAAGs6D,QAAU9zD,GAAM1F,EACvBo0G,EAAY7Z,IAAWA,EAAOl7E,WAAa+iD,EAAIljE,GAAGs6D,UAAYx5D,GAASu6F,EAAO70F,IAAMw0B,GACpFkoC,EAAIljE,GAAG+W,aAAa,WAAYm+F,EAAY,IAAM,OAClDv9F,EAAaurD,EAAIljE,GAAKkjE,EAAIljE,GAAG2X,WAAa,QAGxCA,EAAWF,UAAYE,EAAWF,UAAUzN,QAAO,mBAAqB,MAAQk5D,EAAIljE,GAAGs6D,QAAU,EAAI,IAEjGh7D,KAAKoN,UAAU8iC,cACjB1S,EAASnlB,EAAWnK,qBAAqB,WAE9B,KACTsvB,EAAO,GAAG/lB,aAAa,eAAgBmsD,EAAIljE,GAAGs6D,QAAU,OAAS,SACjEx9B,EAAO,GAAG/lB,aAAa,WAAYm+F,EAAY,IAAM,SAM/Dx9F,SAAU,WACR,OAAOpY,KAAKoN,UAAU5L,OAExBob,MAAO,WACL,OAAO5c,KAAKu+B,UAEdH,KAAM,WACJp+B,KAAK2jE,SAEPH,mBAAoB,SAAUhiE,GAI5B,OAHc,IAAVA,GAAkBosC,GAAQsC,cAAa1uC,EAAQ,+MAG5CA,GAETswB,MAAO,WACLg0F,GAAKz8E,IAAIvX,MAAM1vB,KAAKpC,MACpBA,KAAK+J,SAASmmC,cAAgBtC,GAAQsC,YAClCtC,GAAQ+C,eAAc3wC,KAAK+J,SAAS4mC,aAAe/C,GAAQ+C,gBAK/Dm2E,IAFSnnH,EAAQwxB,QAAQq1F,GAAOV,GAAK9wG,KAAMuuD,IAEnC,CACV39D,KAAM,aACNmhH,WAAW,EACX/8G,MAAO,SAAU/C,GAEXA,EAAOm2D,cACTp9D,KAAKoN,UAAUgwD,YAAcn2D,EAAOm2D,aAGlCn2D,EAAO3C,OACTtE,KAAKoN,UAAU9I,KAAO2C,EAAO3C,MAG/BtE,KAAKslB,OAAO/jB,KAAKvB,KAAKgnH,cAExBj9G,SAAU,CACR8f,SAAU,SAAUxpB,EAAKyoB,GACM,QAAzBA,EAAO1b,UAAU9I,OACnBwkB,EAAO1b,UAAUmvB,KAAOzT,EAAO1b,UAAU6jG,UAI3C,IAAI1jG,EAAIlN,EAAIiE,KACZjE,EAAIiE,KAAO,GACX,IAAIgL,EAAMjP,EAAIq9D,SAAW50C,EAAO61F,aAAat+G,GAAOyoB,EAAOs8F,kBAAkB/kH,EAAKyoB,GAElF,OADAzoB,EAAIiE,KAAOiJ,EACJ+B,GAET2sD,cAAc,EACd42C,YAAY,EACZt2E,KAAM,eACN4gC,OAAO,EACP8zC,SAAU,YACVxoC,UAAW,MAEbu7C,QAAS,WACP,IAAIiD,EAAUjnH,KAAKuiH,UACnB,GAAIviH,KAAKoN,UAAUjH,MAAQ8gH,EAA3B,CACA,IAAIzlH,EAAQxB,KAAKoN,UAAUswD,SAAW19D,KAAKoY,WAAapY,KAAKu7D,WAAWnjD,WACxEpY,KAAK6hC,SAASrgC,GAAS,GAAI,UAE7BswB,MAAO,WACLg0F,GAAKz8E,IAAIvX,MAAM1vB,KAAKpC,MACpBA,KAAK+J,SAAS0kC,aAAeb,GAAQa,aACrCzuC,KAAK+J,SAASszC,OAASzP,GAAQwC,cAEjCmrB,SAAU,WACR,OAAO1sC,GAAG7uB,KAAKoN,UAAUklB,QAE3B00F,YAAa,WACX,IAAI3mH,EAAML,KAAKoN,UACf,GAAI/M,EAAI+5D,QAAS/5D,EAAIiyB,MAAQjyB,EAAI+5D,aAAa,IAAK/5D,EAAIiyB,MAAO,CAC5D,IAAIugF,EAAa7yG,KAAKoN,UAAUylG,WAChCxyG,EAAIiyB,MAAQjyB,EAAI+5D,QAAUp6D,KAAK6lH,eAAe,CAC5CvhH,KAAM,WACN+4C,OAAgC,IAAzBr9C,KAAKoN,UAAUiwC,MACtB5M,QAAS,EACT13B,KAAM,CACJe,OAAQ,KAAO+4F,GAAc7yG,KAAKoN,UAAU+vD,MAAQ,GAAK,GACzDvjD,MAAO,IACPwjD,YAAap9D,KAAKoN,UAAUgwD,YAC5By1C,WAAYA,EACZvuG,KAAMtE,KAAKoN,UAAU9I,KACrB64D,MAAOn9D,KAAKoN,UAAU+vD,MACtB8zC,SAAUjxG,KAAKoN,UAAU6jG,YAK/BjxG,KAAK6gH,WAAa,cAEpB5iC,QAAS,SAAU59E,GACjBL,KAAKm6G,UAAU95G,EAAImB,QAErBy4G,cAAe,SAAUz4G,GACvB,GAAIxB,KAAKoN,UAAUgwD,YAAa,CACT,iBAAV57D,EAAoBA,EAAQA,EAAMqO,MAAM7P,KAAKoN,UAAUq7D,WAAoBjnE,aAAiBgH,KAAMhH,EAAQ,CAACA,GAAiBA,IAAOA,EAAQ,IAEtJ,IAAK,IAAId,EAAI,EAAGA,EAAIc,EAAMC,OAAQf,IAChCc,EAAMd,GAAKV,KAAKknH,oBAAoB1lH,EAAMd,IAG5C,OAAOc,EACF,OAAOxB,KAAKknH,oBAAoB1lH,IAEzC0lH,oBAAqB,SAAU1lH,GAC7B,IAAI8C,EAAOtE,KAAKoN,UAAU9I,KACtB6iH,EAAmB,QAAR7iH,EAIf,GAFK0mB,MAAMC,WAAWzpB,MAASA,EAAQ,GAAKA,GAExB,iBAATA,GAAqBA,EAAO,CAGrCA,GADa,SAAR8C,GAA2B,QAARA,IAAmBtE,KAAKonH,YAA6DD,EAAW57G,EAAKsmG,oBAAsBtmG,EAAKw8D,gBAA9E/nE,KAAKonH,aAC5D5lH,GAGrB,GAAIA,EAAO,CAET,GAAI2lH,GAEE9+G,EAAQ7G,GAAQ,CAClB,IAAIyzB,EAAO,IAAIzsB,KACfysB,EAAK6/D,SAAStzF,EAAM,IACpByzB,EAAKigE,WAAW1zF,EAAM,IACtBA,EAAQyzB,EAKRjK,MAAMxpB,EAAM+qF,aAAY/qF,EAAQ,IAGtC,OAAOA,GAET6lH,kBAAmB,SAAU7lH,GAC3B,IAAIokB,EAAQ5lB,KAEZ,OAAIA,KAAKoN,UAAUgwD,YAAoB,GAAG5mC,OAAOh1B,GAAO8D,KAAI,SAAU2D,GACpE,OAAO2c,EAAM0hG,yBAAyBr+G,MACrC5B,KAAKrH,KAAKiH,OAAOwhE,WAAuBzoE,KAAKsnH,yBAAyB9lH,IAE3E8lH,yBAA0B,SAAU9lH,GAClC,IAAI+lH,EAAYvnH,KAAKwnH,WAMrB,OAJKD,IACgCA,EAAR,QAAvBvnH,KAAKoN,UAAU9I,KAA4BiH,EAAKypG,cAAuBh1G,KAAKiH,OAAO4rG,WAAwBtnG,EAAKk8G,kBAAmCl8G,EAAK+Y,eAGvJijG,EAAU/lH,IAEnBkmH,kBAAmB,WACjB,IAAIr9G,EAAOrK,KAAK0yB,eACZ1pB,EAAYqB,EAAK7I,OAAQ6I,EAAKoM,UAAYzW,KAAKoN,UAAUjH,MAAQnG,KAAK6hH,uBAA4Bx3G,EAAK7I,MAAQxB,KAAKoN,UAAUjH,MAAQ,IAE5Iq7E,cAAe,SAAU95C,EAAUlmC,GACjC,OAAKkmC,IAAalmC,GACX6wF,GAAMV,MAAMjqD,EAAUlmC,IAE/B24G,UAAW,SAAU34G,GACnBxB,KAAKoN,UAAUjH,KAAO3E,EAAQxB,KAAKqnH,kBAAkB7lH,GAAS,GAE9DxB,KAAK0nH,oBAEL1nH,KAAKmkH,iBAAiBnkH,KAAKoN,UAAUjH,OAEvCg8G,cAAe,SAAU3gH,GAQvB,OAPIA,EACmB,mBAAVA,EAAsBxB,KAAKwnH,WAAahmH,GACjDxB,KAAKwnH,WAAan1B,GAAMY,UAAUzxF,GAClCxB,KAAKonH,YAAc/0B,GAAMwB,UAAUryF,IAEhCxB,KAAKwnH,WAAaxnH,KAAKonH,YAAc,KAErC5lH,GAETkxB,aAAc,WACZ,OAAO1yB,KAAKoN,UAAUswD,SAAW19D,KAAKiqB,SAAS/b,qBAAqB,SAAS,GAAKlO,KAAKiqB,SAAS/b,qBAAqB,OAAO,IAE9HkK,SAAU,WACR,IAAI4N,EAAShmB,KAEb,GAAIA,KAAKoN,UAAUgwD,YAAa,CAC9B,IAAI57D,EAAQxB,KAAKoN,UAAU5L,MAC3B,IAAKA,EAAO,MAAO,GACnB,IAAImK,EAAS,GAAG6qB,OAAOh1B,GAAO8D,KAAI,SAAU2D,GAC1C,OAAO+c,EAAO2hG,kBAAkB1+G,MAElC,OAAIjJ,KAAKoN,UAAU6uD,aAAqBtwD,EAAOtE,KAAKrH,KAAKoN,UAAUq7D,WAC5D98D,EAGT,OAAO3L,KAAK2nH,kBAAkB3nH,KAAKoN,UAAU5L,QAE/CmmH,kBAAmB,SAAUnmH,GAC3B,IAAI8C,EAAOtE,KAAKoN,UAAU9I,KACtB6iH,EAAmB,QAAR7iH,EAEf,GAAKtE,KAAK+/G,iBACL,GAAI//G,KAAKoN,UAAUswD,SAAU,CAC9B,IAAIkqD,EAAa5nH,KAAKonH,YAEjBQ,IACWA,EAAVT,EAAuB57G,EAAKs8G,eAAwB7nH,KAAKiH,OAAO4rG,WAAyBtnG,EAAKu8G,mBAAqCv8G,EAAKyxF,gBAG9I,IAAI/nE,EAAO2yF,EAAW5nH,KAAK0yB,eAAelxB,OAEtC2lH,GAAqB,IAAT3lH,GACdA,EAAMszF,SAAS7/D,EAAKu+D,YACpBhyF,EAAM0zF,WAAWjgE,EAAKw+D,cACtBjyF,EAAM2zF,WAAWlgE,EAAKy+D,cACtBlyF,EAAM4zF,gBAAgBngE,EAAK0+D,oBACtBnyF,EAAQyzB,QAfQzzB,EAAQxB,KAAKi6G,cAAcz4G,IAAU,KAkBhE,GAAIxB,KAAKoN,UAAU6uD,aAAc,CAC/B,IAAIsrD,EAAYh8G,EAAKO,eAOrB,OANIq7G,IAAUI,EAAYh8G,EAAKw8G,qBAE3B/nH,KAAKwnH,YAAuB,SAARljH,GAA2B,QAARA,IACzCijH,EAAYvnH,KAAKwnH,YAGfxnH,KAAKoN,UAAUgwD,YAAoB,GAAG5mC,OAAOh1B,GAAO8D,KAAI,SAAU2D,GACpE,OAAOA,EAAIs+G,EAAUt+G,GAAK,MAErBzH,EAAQ+lH,EAAU/lH,GAAS,GAGpC,OAAOA,GAAS,MAElB+gH,QAAS,WACP,IAAIl4G,EAAOrK,KAAK0yB,eAChB,OAAKroB,EAEDrB,EAAYqB,EAAK7I,OACf6I,EAAKqG,YAA4C,sBAA9BrG,EAAKqG,WAAWyH,UAA0C,GAC1E9N,EAAKoM,UAGPpM,EAAK7I,MAPM,MAWlBwmH,GAAa,CACf3+E,IAAKy9E,GACL9xG,KAHWrV,EAAQwxB,QAAQ21F,GAAOhB,GAAK9wG,OAMrCizG,GAAQ,CACVriH,KAAM,cACNoE,MAAO,WACLhK,KAAKslB,OAAO/jB,KAAKvB,KAAKgnH,cAExBj9G,SAAU,CACRwyB,MAAM,GAERyqF,YAAa,WACX,IAAI3mH,EAAML,KAAKoN,UACX/M,EAAI+5D,QAAS/5D,EAAIiyB,MAAQjyB,EAAI+5D,QAAkB/5D,EAAIiyB,QAAOjyB,EAAIiyB,MAAQjyB,EAAI+5D,QAAUp6D,KAAK6lH,eAAe,CAC1GvhH,KAAM,gBAGRtE,KAAK6gH,WAAa,cAEpBwD,aAAc,SAAU7iH,GACtB,QAASA,GAEX4W,SAAU,WACR,OAAIpY,KAAK+/G,iBAAmB//G,KAAKoN,UAAUswD,SAAiB19D,KAAK0yB,eAAelxB,MAAkBxB,KAAKoN,UAAU5L,OAEnHy4G,cAAe,SAAUz4G,GAGvB,OAFAA,EAAQA,EAAQA,EAAMW,SAAS,IAAM,KACL,KAAnBX,EAAM8T,OAAO,IAAS,iBAAqBvP,KAAKvE,KAAQA,EAAQ,IAAMA,GAC5EA,GAET0mH,cAAe,WACb,OAAOloH,KAAK6qB,MAAM3c,qBAAqB,OAAOlO,KAAKoN,UAAUswD,SAAW,EAAI,IAE9E2pD,kBAAmB,SAAU7lH,GAC3B,OAAOA,GAETggF,cAAe,SAAU95C,EAAUlmC,GACjC,OAAOkmC,GAAYlmC,GAErB24G,UAAW,SAAU34G,GACnBxB,KAAKkoH,gBAAgB1wG,MAAM6yE,gBAAkB7oF,EAC7CxB,KAAKoN,UAAUjH,KAAO3E,EAEtBxB,KAAKmkH,iBAAiB3iH,GAEtB,IAAI6I,EAAOrK,KAAK0yB,eACZ1pB,EAAYqB,EAAK7I,OAAQ6I,EAAKoM,UAAYjV,EAAW6I,EAAK7I,MAAQA,GAExE8iH,YAAa,SAAUx2G,GACrB,IAAIme,EAAQjsB,KAAKuuG,cAAgB,EAAI,EACjCv2F,EAAO,6CAA+ClK,EAAE2gC,aAAe,GAAK,YAAcxiB,EAAQ,uBAAyBne,EAAEtM,MAAQ,YAEzI,GAAIsM,EAAE6X,MAAO,CACX,IAAI7L,EAAShM,EAAEgxG,QAAU,EAAIhxG,EAAE2gC,aAC3BgC,GAAW32B,EAAS,IAAM,EAAI,EAElC9B,GAAQ,uBADRiU,GAAS,IAC+B,cAAgBnS,EAAS22B,GAAW,kBAAoBA,EAAU,mEAG5G,OAAOz4B,IAKPmwG,IAFSxoH,EAAQwxB,QAAQ82F,GAAOD,GAAWhzG,MAEnC,CACVpP,KAAM,aACNmE,SAAU,CACR8f,SAAU,SAAUxpB,EAAKyoB,GACvB,OAAOA,EAAOs8F,kBAAkB/kH,EAAKyoB,IAEvCs/F,WAAY,IACZ7rF,KAAM,iBAERynF,QAAS,WACP,IAAIiD,EAAUjnH,KAAKuiH,UACnB,GAAIviH,KAAKoN,UAAUjH,MAAQ8gH,KAAWj+G,EAAYhJ,KAAKoN,UAAUjH,OAAU8gH,GAA3E,CACA,IAAI7sD,EAAUp6D,KAAKu7D,WAEnB,IAAInB,EAAQvvC,MAAMmN,SAAS1tB,SAASm1B,eAApC,CACA,IAGIj+B,EAHA6mH,EAAYroH,KAAKiH,OAAOohH,UACxB53G,EAAYzQ,KAAK0yB,eAAelxB,MAChCgwD,EAAOxxD,KAAKu8D,UAGZ8rD,GACF7mH,EAAQgwD,EAAKtmD,MAAK,SAAU7K,GAC1B,OAAO+5D,EAAQyC,YAAYx8D,EAAI6G,KAAOuJ,KACrC,IACQjP,EAAQA,EAAM0F,GAAYuJ,IAAWjP,EAAQgwD,EAAKt0B,IAAI,CAC/D17B,MAAOiP,KAEJjP,EAAQ44D,EAAQ0C,cAAcrsD,GAErC,IAAIi3B,EAAW1nC,KAAKoY,YAEhB5W,GAASA,GAASkmC,GAA4B,KAAdj3B,GAAmD,KAA/B2pD,EAAQyC,YAAYr7D,GAAoE,KAAdiP,EAAkBzQ,KAAK6hC,SAAS,GAAI,QAAiB7hC,KAAKsoH,cAActoH,KAAKsoH,eAAnHtoH,KAAK6hC,SAASrgC,EAAO,WAEnHqkH,eAAgB,SAAUrkH,GACxB,OAAOxB,KAAKkmH,eAAe1kH,IAE7B0kH,eAAgB,SAAU1kH,GACxBA,EAAQxB,KAAKuoH,gBAAkBvoH,KAAKuoH,gBAAgB/mH,GAASA,EAC7D,IAAI44D,EAAUp6D,KAAKoN,UAAUklB,MAAQtyB,KAAKoN,UAAUgtD,QAAU0rD,GAAKz8E,IAAIw8E,eAAezjH,KAAKpC,KAAMwB,GAC7FgwD,EAAO3iC,GAAGurC,GAASmC,UAEvB,OADI/K,GAAMA,EAAK3kD,YAAY,cAAepE,EAAKzI,KAAKwoH,aAAcxoH,OAC3Do6D,GAETmC,QAAS,WACP,IAAInC,EAAUvrC,GAAG7uB,KAAKoN,UAAUgtD,SAEhC,OADAt0D,EAAOs0D,EAAS,6BACTA,EAAQmC,WAEjBisD,aAAc,WAEZ,IAAIhnH,EAAQxB,KAAKoN,UAAU5L,OAAS,IAChCA,EAAMC,QAAWzB,KAAKu7D,WAAWvxC,cAAehqB,KAAK0yB,gBAAoB1yB,KAAKoN,UAAUjH,MAAQnG,KAAKuiH,WAAYviH,KAAKm6G,UAAU34G,IAEtIswB,MAAO,WACLg0F,GAAKz8E,IAAIvX,MAAM1vB,KAAKpC,MACpBA,KAAK+J,SAAS0kC,aAAeb,GAAQa,cAEvCwvC,QAAS,SAAU59E,GACjBL,KAAKm6G,UAAU95G,EAAImB,QAErBkxB,aAAc,WACZ,OAAO1yB,KAAKiqB,SAAS/b,qBAAqB,OAAO,IAEnDqtD,SAAU,WACR,OAAO1sC,GAAG7uB,KAAKoN,UAAUklB,QAE3BiwF,QAAS,WACP,IAAI/gH,EAAQxB,KAAKoN,UAAU5L,MACvB6I,EAAOrK,KAAK0yB,eAChB,OAAKroB,EAEDrB,EAAYqB,EAAK7I,OACf6I,EAAKqG,YAA4C,sBAA9BrG,EAAKqG,WAAWyH,UAA0C,GAC1E9N,EAAKoM,UAGPpM,EAAK7I,MAPMA,EAAQxB,KAAKu7D,WAAWsB,YAAYr7D,GAAS,IASjEy4G,cAAe,SAAUz4G,GACvB,OAAIA,GAASA,EAAM0F,GAAW1F,EAEvBskH,GAAKz8E,IAAI4wE,cAAc73G,KAAKpC,KAAMwB,IAE3C24G,UAAW,SAAU34G,GACnB,IAAIylH,EAAUzlH,EACV8wB,EAAQtyB,KAAKu7D,WAGjB,GAFIjpC,IAAO20F,EAAU30F,EAAMuqC,YAAYr7D,IAEnCA,GAASA,EAAM0F,GAAI,CAErB,IAAIsqD,EAAOl/B,EAAMiqC,UACbhR,EAASiG,EAAKjG,OAAO/pD,EAAM0F,IAE1BqkD,GAAQiG,EAAKt0B,IAAI17B,GACtBylH,EAAU30F,EAAMuqC,YAAYr7D,EAAM0F,IAG9BsqD,EAAKpkD,UAAU2rD,UAAYxN,GAAQiG,EAAKvmD,OAAOzJ,EAAM0F,IACzDlH,KAAKoN,UAAU5L,MAAQxB,KAAKi6G,cAAcz4G,EAAM0F,IAGlD,IAAImD,EAAOrK,KAAK0yB,eACZ1pB,EAAYqB,EAAK7I,OAAQ6I,EAAKoM,UAAYwwG,GAAWjnH,KAAK6hH,uBAA4Bx3G,EAAK7I,MAAQylH,EAAUA,EAAQv8G,QAAO,WAAa,IAC7I1K,KAAKoN,UAAUjH,KAAO8gH,EAEtBjnH,KAAKmkH,iBAAiB8C,IAExB7uG,SAAU,WACR,OAAOpY,KAAKoN,UAAU5L,OAAS,IAEjCinH,kBAAmB,SAAUxuG,GACvBA,EAAG3V,OACLtE,KAAK4c,QACLpC,GAAaP,OAKf8iD,GAAa,CACf1zB,IAAK8+E,GACLnzG,KAHWrV,EAAQwxB,QAAQg3F,GAAOrC,GAAK9wG,OAMrC0zG,GAAQ,CACV9iH,KAAM,QACN8sB,aAAc,WACZ,OAAO1yB,KAAKiqB,SAAS/b,qBAAqB,SAAS,IAErD61G,eAAgB,WACd,IAAIn+F,EAAQ5lB,KAEZusB,GAAOvsB,KAAK0yB,eAAgB,WAAW,SAAU3tB,GAC9B,IAAbA,EAAEgzB,SAAeglC,GAAW1zB,IAAIs/E,QAAQ//G,MAAMgd,EAAO,OAG3Dm3C,GAAW1zB,IAAI06E,eAAen7G,MAAM5I,KAAMsG,YAE5CgiH,aAAc,WACZ,IAAI9mH,EAAQxB,KAAKoY,WACjBpY,KAAKm6G,UAAUnxG,EAAYxH,GAAS,GAAKA,IAE3C68B,cAAe,SAAUvwB,GACvB,IAAIspB,EAAQp3B,KAAK0yB,eACblxB,EAAQ,GACR44D,EAAUp6D,KAAKu7D,WAEfnkC,EAAM51B,QACRA,EAAQxB,KAAKoN,UAAU5L,MACnB44D,EAAQyC,YAAYr7D,IAAUxB,KAAKuiH,YAAW/gH,EAAQ44D,EAAQ0C,iBAAmBt7D,IAGnFA,GAASxB,KAAKoN,UAAU5L,MAAOxB,KAAK6hC,SAASrgC,EAAOsM,GAAQ9N,KAAKm6G,UAAU34G,IAEjFuI,SAAU,CACR8f,SAAU,SAAU5iB,EAAQ6hB,GAC1B,OAAOA,EAAO61F,aAAa13G,GAAQyD,QAAO,oBAAsB,uBAElE6xB,KAAM,iBAERlK,SAAU,CACRgvF,iBAAkB,WAEhB,OADIrhH,KAAKmhF,cAAcnhF,KAAK6hC,SAAS,GAAI,SAClC,GAET+mF,gBAAmB,SAAU7jH,GAC3B/E,KAAKyoH,kBAAkB1jH,IAEzB8jH,oBAAuB,SAAU9jH,GAC/B/E,KAAKyoH,kBAAkB1jH,MAMzB+jH,IAFSnpH,EAAQwxB,QAAQu3F,GAAO3rD,GAAW/nD,MAEnC,CACVpP,KAAM,UACNmE,SAAU,CACR8f,SAAU,SAAU5iB,EAAQ6hB,GAC1B,IAAItnB,EAAQyF,EAAOzF,MACf0F,EAAK,IAAMiD,IACX6N,EAAO,sCAAwCqQ,GAASU,OAAO9hB,EAAO0zD,OAAS,oBAAsB1zD,EAAOic,IAAM,oBAAsBjc,EAAOyU,IAAM,oBAAsBzU,EAAOzF,MAAQ,yCAA2CsnB,EAAOo8F,iBAAiBj+G,GAAU,OAI3Q,OAHA+Q,GAAQ,kFAAoFzM,EAAKigE,KAAKikB,cAAgB,eACtHz3E,GAAQ8Q,EAAOy8F,eAAe,SAAW,QAAUr+G,EAA3C4hB,8EAAqItnB,EAAQ,aACrJwW,GAAQ,kFAAoFzM,EAAKigE,KAAKgkB,cAAgB,qBAC/G1mE,EAAO61F,aAAa13G,EAAQ+Q,EAAM9Q,IAE3Cgc,IAAK,EACLxH,IAAKioC,EAAAA,EACLniD,MAAO,EACP6kD,KAAM,GAERr8C,MAAO,WACLuiB,GAAOvsB,KAAK6qB,MAAO,UAAW7qB,KAAKmzG,UAAW,CAC5C1qG,KAAMzI,QAGVmzG,UAAW,SAAUpuG,GACnB,IAAI/E,KAAKoN,UAAUmlB,SAAnB,CACA,IAAIzpB,EAAO/D,EAAE+yB,OAAS/yB,EAAEgzB,QACpBjqB,EAAI9N,KAAKoN,UACT5L,EAAQxB,KAAKoY,WAEbtP,EAAO,IAAMA,EAAO,KACT,KAATA,EAAatH,EAAQsM,EAAEoV,IAAsB,KAATpa,EAAatH,EAAQsM,EAAE4N,MAAQioC,EAAAA,EAAW,IAAU71C,EAAE4N,IAAsB,KAAT5S,EAAa9I,KAAKqB,KAAKyM,EAAEu4C,KAAM,QAA0B,KAATv9C,EAAa9I,KAAK60C,KAAK/mC,EAAEu4C,KAAM,QAAa7kD,GAA0B,KAATsH,GAAwB,KAATA,GAAc,EAAK,EACtPA,EAAO,IAAMtH,GAASsM,EAAEoV,KAAO1hB,GAASsM,EAAE4N,KAAK1b,KAAK6hC,SAASrgC,EAAO,WAG5E24G,UAAW,SAAU34G,GACnBxB,KAAK0yB,eAAelxB,MAAQA,GAE9By4G,cAAe,SAAUz4G,GACvBA,EAAQypB,WAAWzpB,GACnB,IAAI0hB,EAAMljB,KAAKoN,UAAU8V,IACrBxH,EAAM1b,KAAKoN,UAAUsO,IAEzB,OADIsP,MAAMxpB,KAAQA,EAAQunH,SAAS7lG,GAAOA,EAAM,GACzCxJ,KAAKwJ,IAAIxJ,KAAKgC,IAAIla,EAAO0hB,GAAMxH,IAExCgX,aAAc,WACZ,OAAO1yB,KAAKiqB,SAAS/b,qBAAqB,SAAS,IAErDkK,SAAU,WACR,OAAsD,EAA/C0pG,GAASz4E,IAAIjxB,SAASxP,MAAM5I,KAAMsG,YAE3CjF,KAAM,SAAUglD,EAAMp/C,GACpBo/C,EAAO,GAAKA,GAAQrmD,KAAKoN,UAAUi5C,MACnCrmD,KAAK2gC,MAAM0lB,EAAMp/C,IAEnB4tC,KAAM,SAAUwR,EAAMp/C,GACpBo/C,GAAO,GAAMA,GAAQrmD,KAAKoN,UAAUi5C,MACpCrmD,KAAK2gC,MAAM0lB,EAAMp/C,IAEnB05B,MAAO,SAAU0lB,EAAMp/C,GAErB,IAAIm5D,EAAY1mD,KAAKC,MAAiC,KAA1B3Z,KAAKoY,WAAaiuC,IAAkB,IAChErmD,KAAK6hC,SAASu+B,EAAWn5D,MAKzB+hH,IAFSrpH,EAAQwxB,QAAQ23F,GAAOhD,GAAK9wG,MAE7B,CACVpP,KAAM,OACNksB,MAAO,WACLgwF,GAASz4E,IAAIvX,MAAM1vB,KAAKpC,MACxBA,KAAK+J,SAAS+P,OAAS8zB,GAAQW,YAC/BvuC,KAAK+J,SAAS6P,MAAQg0B,GAAQW,aAEhCxkC,SAAU,CACR8f,SAAU,SAAUxpB,EAAK2U,GACvB,IAAIkO,EAAMxJ,KAAKwJ,IAAI7iB,EAAIw+G,OAAQx+G,EAAIy+G,SAC/BvlG,EAAMG,KAAKC,OAAO3E,EAAKqzB,gBAAkBhoC,EAAIy+G,SAAW,GACxDtyF,EAAQ,uCAAyCtJ,EAAM,YAAcA,EAA7D,0DAAoI7iB,EAAIk8B,KAAO,qBACvJ4iB,EAAa9+C,EAAIy+G,SAAW57F,EAAM7iB,EAAIy+G,QAAU,EACpD,MAAO,0CAA4Cz+G,EAAIw+G,OAAS,aAAex+G,EAAIy+G,QAAU,kBAAoB3/D,EAAa,iBAAmB5lC,EAAM,OAASiT,GAASnsB,EAAIu+G,OAAuB,IAAdv+G,EAAIu+G,MAAc,6BAA+Bv+G,EAAIu+G,MAAQ,UAAY,IAAM,WAGzQa,iBAAiB,EACjBV,iBAAkB,aAClB5E,UAAW,eAuBT8O,IArBStpH,EAAQwxB,QAAQ63F,GAAOlH,GAAS9sG,MAmBhCrV,EAAQwxB,QAjBT,CACVvrB,KAAM,SACNysB,SAAU,CACRgvF,iBAAkB,WAEhB,OADIrhH,KAAKmhF,cAAcnhF,KAAK6hC,SAAS,GAAI,SAClC,GAETu/E,iBAAoB,SAAUr8G,GAC5B/E,KAAK0yB,eAAe9V,QACM,UAAtB5c,KAAKiH,OAAO0e,OAAqB5gB,EAAE+C,SAA2D,IAAjD/C,EAAE+C,OAAOqQ,UAAUxL,QAAQ3M,KAAKiH,OAAOs1B,OAAcv8B,KAAK8M,UAAU,oBAAqB,CAAC/H,MAG/IgF,SAAU,CACRzF,KAAM,OACNi4B,KAAM,eAG0BupF,GAAK9wG,MAE7B,CACVpP,KAAM,YACNu7E,cAAc,EACdn3E,MAAO,WACLhK,KAAK6M,YAAY,YAAY,SAAUrL,GACjCxB,KAAKoN,UAAU4jB,WAAWhxB,KAAKkpH,WAAW1nH,MAEhDxB,KAAK6M,YAAY,gBAAiBtD,GAAK,WACjCvJ,KAAKoN,UAAU4jB,WAAahxB,KAAKoN,UAAU5L,OAAOxB,KAAKkpH,WAAWlpH,KAAKoN,UAAU5L,YAGzF0nH,WAAY,SAAU1nH,GACpB,IAAI+X,EAAMvZ,KAAKiiC,mBACXjtB,EAAO,KAEPuE,GAAOA,EAAIsV,KAAI7Z,EAAOuE,EAAIsV,GAAGrtB,IAE5BwT,IAAMA,EAAO6Z,GAAGrtB,IACjBwT,GAAQA,EAAKyd,MAAMzd,EAAKyd,QAE9B1oB,SAAU,CACR8f,SAAU,SAAUxpB,EAAKyoB,GACvBA,EAAO84F,eAAevhH,EAAIkU,SAE1B,IAOI+e,EAASozF,EAPTnyG,EAAUuU,EAAOq7C,eAAe9jE,EAAIkU,SAEpCqF,EAAQkP,EAAOo8F,iBAAiB7kH,GAEhC8oH,EAAmB,YAATt7E,GAAsB,EAAIt5B,EAAQ9S,OAAS,EACrD2nH,EAAc/oH,EAAI+oH,aAAe1vG,KAAKqgB,OAAOngB,EAAQuvG,GAAW50G,EAAQ9S,QACxEuW,EAAO,qBAAuB4B,EAAQ,6DAA+DyO,GAASU,OAAO1oB,EAAIs6D,OAAS,KAEjIt6D,EAAImB,QAAOnB,EAAImB,MAAQsnB,EAAOo7C,iBAAgB,IAEnD,IAAK,IAAIxjE,EAAI,EAAGA,EAAI6T,EAAQ9S,OAAQf,IAClCgmH,IAAenyG,EAAQ7T,GAAGmgB,SAC1ByS,EAAUjzB,EAAIizB,QAAU,gBAAkB/e,EAAQ7T,GAAGwG,GAAK,IAAM,GAChE8Q,GAAQ,uCAAyCzD,EAAQ7T,GAAGkZ,OAASwvG,GAAe,kCAAoC/oH,EAAImB,OAAS+S,EAAQ7T,GAAGwG,GAAK,OAAS,SAAW,gBAAmBw/G,GAAcrmH,EAAImB,OAAS+S,EAAQ7T,GAAGwG,GAAW,KAAN,KAA/N,2BAA+QxG,GAAK6T,EAAQ9S,OAAS,EAAI,IAAMf,EAAI,EAAI,EAAI,IAAML,EAAImB,OAAS+S,EAAQ7T,GAAGwG,GAAK,kBAAoB,KAAOw/G,EAAa,kBAAoB,IAAM,MAAQA,EAAa,yBAA2B,IAExd,cAAgBnyG,EAAQ7T,GAAGwG,GAAK,IAAMosB,EAAU,IAAM/e,EAAQ7T,GAAGc,MAAQ,YAG3E,OAAOsnB,EAAO61F,aAAat+G,EAAK2X,EAAO,SAAU7N,OAGrDu5D,cAAe,WACb,OAAO1jE,KAAK6qB,MAAM3c,qBAAqB,WAEzC0O,MAAO,WACL,OAAO5c,KAAKu+B,UAEdH,KAAM,WACJp+B,KAAK2jE,SAEPw2C,UAAW,SAAU34G,GAEnB,IAAI8wB,EAAQtyB,KAAKiH,OAAOoiH,YACxB,GAAI/2F,GAASzD,GAAGyD,IAAUzD,GAAGyD,GAAOuJ,UAAU0vB,OAAO/pD,GAAQ,OAAOxB,KAAKmqB,UAMzE,IAJA,IAEIjjB,EAAI60F,EAFJvc,EAASx/E,KAAK0jE,gBAIThjE,EAAI,EAAGA,EAAI8+E,EAAO/9E,OAAQf,IACjCwG,EAAKs4E,EAAO9+E,GAAGsO,aAEf,aACA+sF,EAAS/7F,KAAK6jE,UAAU38D,GACxBs4E,EAAO9+E,GAAG+W,aAAa,gBAAiBjW,GAAS0F,EAAK,OAAS,SAC/Ds4E,EAAO9+E,GAAG+W,aAAa,WAAYskF,IAAWA,EAAOl7E,UAAYrf,GAAS0F,EAAK,IAAM,MACjF1F,GAAS0F,EAAIgU,GAAOskE,EAAO9+E,GAAI,kBAAuB0a,GAAUokE,EAAO9+E,GAAI,mBAGnFu/G,UAAW,WACT,OAAOjgH,KAAKoN,UAAU5L,OAAS,IAEjC4W,SAAU,WACR,OAAOpY,KAAKoN,UAAU5L,OAExBkxB,aAAc,WACZ,OAAO,MAET+sF,iBAAiB,IAGf6J,GAAY,CACdjgF,IAAK4/E,GACLj0G,KAHWrV,EAAQwxB,QAAQ83F,GAAOnD,GAAK9wG,KAAMuuD,KAM3CpgB,GAAa,CACfn5C,MAAO,WACLhK,KAAKslB,OAAO/jB,MAAK,WACf,IAAIqkB,EAAQ5lB,KAERA,KAAKoN,UAAU+1C,aACjBjoC,GAAOlb,KAAK6qB,MAAO,kBACd7qB,KAAKoN,UAAUquB,YAAWz7B,KAAKoN,UAAUquB,UAAY,KAE1DlP,GAAOvsB,KAAK6qB,MAAO,SAAS,WAC1BjF,EAAM2jG,gBAAe,KACpB,CACD38F,SAAS,IAGX5sB,KAAK6M,YAAY,iBAAiB,WAChC+Y,EAAM2jG,yBAKdA,eAAgB,SAAU3sG,GACxB,IAAIoJ,EAAShmB,KAEb,GAAIA,KAAKwpH,YAAa,OAAOxpH,KAAKwpH,aAAc,EAChD,IAAItlE,EAAMlkD,KAAK0yB,eAEX5Y,EAAS9Z,KAAKypH,eAAevlE,EAAI1iD,MAAO0iD,EAAIrqC,aAE5C42B,EAAU,EAAI7C,GAAQa,aAAe,EAAIb,GAAQpE,aACrD1vB,EAASJ,KAAKgC,IAAI5B,EAAS22B,EAASzwC,KAAKoN,UAAUouB,YAEtCx7B,KAAKoN,UAAUquB,WAC1BrgB,GAAUpb,KAAK6qB,MAAO,kBACtB/Q,EAAS9Z,KAAKoN,UAAUquB,WACnBvgB,GAAOlb,KAAK6qB,MAAO,kBAAkB,GAE5C,IAAI6+F,EAAU1pH,KAAKiiC,mBACnBzN,aAAak1F,EAAQtnB,wBACrBsnB,EAAQtnB,uBAAyBl5F,GAAM,WACrC,GAAI8c,EAAO/e,OAAO6S,QAAUA,EAAQ,CAClCkM,EAAO/e,OAAO6S,OAASA,EACvB,IAAI6vG,EAAWzlE,EAAInnC,aACnBiJ,EAAOwjG,aAAc,EACrB,IAAIhoH,EAAQskH,GAAKz8E,IAAIjxB,SAAShW,KAAK4jB,GAEnCA,EAAOyP,SAEPzP,EAAOlZ,UAAU,gBAAiB,IAE9B8P,IACFsnC,EAAMl+B,EAAO0M,eAEbozF,GAAKz8E,IAAI8wE,UAAU/3G,KAAK4jB,EAAQxkB,GAChC0iD,EAAIznC,kBAAkBktG,EAAUA,GAChCzlE,EAAItnC,cAKZ6sG,eAAgB,SAAUjoH,EAAOoY,GAC/B,IAAI9V,EAAIgU,GAAO,WAAY,CACzB0D,MAAS,yBACTiC,KAAM,KACL,IACH3Z,EAAE0T,MAAMU,QAAU,8EAAgF0B,EAAQ,MAC1GtP,SAASyO,KAAKrB,YAAY5T,GAC1BA,EAAEtC,MAAQA,EACV,IAAIsY,EAAShW,EAAEy9D,aAEf,OADAt2D,GAAOnH,GACAgW,GAETqgG,UAAW,SAAU34G,GACnBskH,GAAKz8E,IAAI8wE,UAAU/3G,KAAKpC,KAAMwB,GAC1BxB,KAAKoN,UAAU+1C,YAAYnjD,KAAKupH,mBAGpCK,GAAQ,CACVhkH,KAAM,WACNmE,SAAU,CACR8f,SAAU,SAAUxpB,EAAKyoB,GACvB,IAAIljB,EAAOvF,EAAIuF,MAAQvF,EAAI6G,GACvBA,EAAK,IAAMiD,IACX6N,EAAO8Q,EAAOy8F,eAAe,YAAc,gBAAkBz8F,EAAOo8F,iBAAiB7kH,GAAO,OAEhG,OADA2X,GAAQ,QAAU9Q,EAAK,WAAatB,EAAO,gCAAkCkjB,EAAOk3F,SAAS3/G,EAAImB,OAAS,cACnGsnB,EAAO61F,aAAat+G,EAAK2X,EAAM9Q,IAExCs0B,UAAW,IAEb1J,MAAO,WACLg0F,GAAKz8E,IAAIvX,MAAM1vB,KAAKpC,MACpBA,KAAK+J,SAAS+P,OAAS,GAEzBioB,aAAa,EACb0jF,gBAAiB,SAAUlsG,GACzB,OAAOA,EAAMvZ,KAAKwuG,gBAAkBxuG,KAAKoN,UAAUqhC,aAAe,IAEpE61E,YAAa,WACX,MAAO,IAGT5xF,aAAc,WACZ,OAAO1yB,KAAKiqB,SAAS/b,qBAAqB,YAAY,KAItD27G,GAAW,CACbxgF,IAAKugF,GACL50G,KAHWrV,EAAQwxB,QAAQy4F,GAAOzmE,GAAY2iE,GAAK9wG,MAInDmuC,WAAYA,IAGV2mE,GAAQ,CACVlkH,KAAM,SACNu7E,cAAc,EACdn3E,MAAO,WACLhK,KAAK6M,YAAY,eAAe,WAC9B7M,KAAKuhH,OAAO,YAGhB5C,aAAc,SAAUt+G,GACtB,MAAO,0BAA4BA,EAAIiyB,MAAQ,uBAAyB,IAAM,yBAA2BjyB,EAAIs6D,MAAQ,aAEvHw/C,UAAW,SAAU34G,GACnB,IAAI41B,EAAQp3B,KAAK0yB,eACbryB,EAAML,KAAKoN,UACX28G,EAAYvoH,GAAkB,KAATA,EACrB2E,GAAQ4jH,EAAY1pH,EAAI2pH,QAAU3pH,EAAI4pH,WAAa5pH,EAAIs6D,MACvD9kC,EAAWuB,EAAMvB,SAErB,GAAI71B,KAAKw/G,OAAOn/G,EAAIiE,MAAO,CACzB,IAAIi4B,EAAO1G,EAAS,GACC,QAAjB0G,EAAKntB,UAAsB/O,EAAI6pH,QAAU7pH,EAAI8pH,SAAW9pH,EAAI6pH,QAAU7pH,EAAI8pH,UAAS5tF,EAAKpkB,UAAYokB,EAAKpkB,UAAUzN,QAAQq/G,EAAY1pH,EAAI8pH,QAAU9pH,EAAI6pH,OAAQH,EAAY1pH,EAAI6pH,OAAS7pH,EAAI8pH,UAClL,YAAZ9pH,EAAIiE,MAAkC,WAAZjE,EAAIiE,KAAmBuxB,EAAS,GAAGpf,UAAYtQ,GAC3EixB,EAAM3gB,UAAYtQ,EAClBixB,EAAM7e,aAAagkB,EAAMnF,EAAM1mB,kBAE5B0mB,EAAM3gB,UAAYtQ,EAEzBixB,EAAM3f,aAAa,eAAgBsyG,EAAY,OAAS,UACxCA,EAAY7uG,GAASE,IAC3Bgc,EAAM/e,WAAY,kBAE9BkpG,OAAQ,SAAUt6G,GAChBjH,KAAK6hC,UAAU7hC,KAAKoY,WAAYnR,IAElCmR,SAAU,WACR,IAAI5W,EAAQxB,KAAKoN,UAAU5L,MAC3B,OAAQA,GAAkB,KAATA,EAAmB,EAAJ,GAElCuI,SAAU,CACR8f,SAAU,SAAUxpB,EAAKyoB,GACvB,IAAIihG,EAAY1pH,EAAImB,OAAsB,KAAbnB,EAAImB,MAC7B8Z,EAAMyuG,EAAY,iBAAmB,GACzC1pH,EAAIs6D,OAASovD,EAAY1pH,EAAI2pH,QAAU3pH,EAAI4pH,WAAa5pH,EAAIs6D,MAC5Dt6D,EAAIk8B,MAAQwtF,EAAY1pH,EAAI6pH,OAAS7pH,EAAI8pH,UAAY9pH,EAAIk8B,KACzD,IAAIvkB,EAAO,2BAA6BsD,EAAM,kBAAoBjb,EAAIw+G,OAAS,cAAgBx+G,EAAIy+G,QAAU,OAASh2F,EAAO61F,aAAat+G,EAAKyoB,GAAU,SAGzJ,OAFA9Q,EAAOA,EAAKtN,QAAO,oBAAsB,qBAA6Bq/G,EAAY,OAAS,SAAW,OAClG1pH,EAAIu+G,OAAuB,IAAdv+G,EAAIu+G,SAAa5mG,EAAOA,EAAKtN,QAAO,WAAa,6BAA+BrK,EAAIu+G,MAAQ,kBACtG5mG,IAGXynG,iBAAiB,GAIf2K,IAFSzqH,EAAQwxB,QAAQ24F,GAAOhI,GAAS9sG,MAEjC,CACVpP,KAAM,YACNkoG,SAAU,OACV/jG,SAAU,CACRwyB,KAAM,kBACN4oF,UAAW,GACX18C,UAAW,MAEb4hD,aAAc,WACZ,OAAOvE,GAAKz8E,IAAIjxB,SAAShW,KAAKpC,OAEhC2lH,aAAc,SAAUnkH,GACtB,OAAOskH,GAAKz8E,IAAI8wE,UAAU/3G,KAAKpC,KAAMwB,IAEvC4W,SAAU,WACR,GAAwB,SAApBpY,KAAKiH,OAAO6K,KAAiB,OAAO9R,KAAKqqH,eAC7C,GAAIrqH,KAAKsqH,YAAa,OAAOtqH,KAAKsqH,YAGlC,IAFA,IAAItkF,EAAS,CAAChmC,KAAKqqH,aAAarqH,OAEvBU,EAAI,EAAGA,EAAIV,KAAKuqH,MAAM9oH,OAAQf,IAAK,CAC1C,IAAI8pH,EAAM37F,GAAG7uB,KAAKuqH,MAAM7pH,IAAI2pH,eACxBG,GAAKxkF,EAAOzkC,KAAKipH,GAGvB,OAAOxkF,EAAO3+B,KAAKrH,KAAKiH,OAAOwhE,YAEjC0xC,UAAW,SAAU34G,GAEnB,GADAA,EAAQA,GAAS,GACO,SAApBxB,KAAKiH,OAAO6K,KAAiB,OAAO9R,KAAK2lH,aAAankH,GAC1DxB,KAAKsqH,YAAc9oH,EACnB,IAAI6S,EAAQ7S,EAAMqO,MAAM7P,KAAKiH,OAAOwhE,WAEpC,GAAIp0D,EAAM5S,QAAUzB,KAAKuqH,MAAM9oH,OAAS,EAAxC,CAWAzB,KAAKyqH,gBACLzqH,KAAK2lH,aAAavjH,KAAKpC,KAAMqU,EAAM,IAEnC,IAAK,IAAIjT,EAAK,EAAGA,EAAKiT,EAAM5S,OAAQL,IAClCpB,KAAKikH,WAAW5vG,EAAMjT,IAGxBpB,KAAKsqH,YAAc,OAlBnB,CACEtqH,KAAK2lH,aAAatxG,EAAM,IAExB,IAAK,IAAI3T,EAAI,EAAGA,EAAIV,KAAKuqH,MAAM9oH,OAAQf,IACrCmuB,GAAG7uB,KAAKuqH,MAAM7pH,IAAIilH,aAAatxG,EAAM3T,EAAI,IAG3CV,KAAKsqH,YAAc,KAavBhG,YAAa,SAAUx2G,GACrB,GAAIA,EAAEyuB,KAAM,CACV,IAAIziB,EAAShM,EAAEgxG,QAAU,EAAIhxG,EAAE2gC,aAC3BgC,GAAW32B,EAAS,IAAM,EAAI,EAC9B0xD,EAAO,0CAA4CjgE,EAAKigE,KAAK,aAAe19D,EAAEgE,MAAQ,IAAM,WAAa,IAC7G,MAAO,gCAAkCgI,EAAS22B,GAAW,kBAAoBA,EAAU,qDAAuD3iC,EAAEyuB,KAAO,KAAOivC,EAAO,WAG3K,MAAO,IAETk/C,aAAc,SAAUhnH,EAAGinH,EAAG1jH,GAC5B,IAAI0G,EAAS3N,KAAKiH,OAAOmE,OAASyjB,GAAG7uB,KAAKiH,OAAOmE,QAAUpL,KACvDwB,EAAQmM,EAAOyK,WACfsvB,EAAW/5B,EAAOP,UAAU5L,MAE5BA,GAASkmC,IACX/5B,EAAOP,UAAU5L,MAAQA,EACzBmM,EAAOb,UAAU,WAAY,CAACtL,EAAOkmC,EAAUzgC,MAGnDg9G,WAAY,SAAUgD,GACpB,IAAIhgH,EAASjH,KAAKiH,OACd2jH,EAAY,CACdxc,WAAYnnG,EAAOmnG,WACnBiS,WAAYp5G,EAAOo5G,WACnBzmG,MAAO3S,EAAO2S,MACd+gD,MAAO1zD,EAAO0zD,MAAQ,SAAW,GACjC3lD,KAAMhV,KAAK4F,KACXkM,KAAM,QACNtQ,MAAOylH,GAAW,GAClB1qF,KAAM,mBACNjJ,QAASrsB,EAAOqsB,QAChB8mC,QAASnzD,EAAOmzD,SAAW,KAC3BhvD,OAAQnE,EAAOC,IAEjBvH,EAAQ8J,OAAOmhH,EAAW3jH,EAAO4jH,WAAa,IAAI,GAClD,IAAIC,EAAS9qH,KAAKmvB,gBAAgB2M,QAAQ8uF,GAM1C,OALA/7F,GAAGi8F,GAAQj+G,YAAY,WAAY7M,KAAK0qH,cAExC1qH,KAAKuqH,MAAMhpH,KAAKupH,GAEhB9qH,KAAK8M,UAAU,eAAgB,CAACg+G,EAAQ9qH,KAAKuqH,MAAM9oH,SAC5CqpH,GAETL,cAAe,SAAUvjH,GAGvB,IAFA,IAAIyG,EAAS3N,KAAKiH,OAAOmE,OAASyjB,GAAG7uB,KAAKiH,OAAOmE,QAAUpL,KAElDU,EAAIiN,EAAO48G,MAAM9oH,OAAS,EAAGf,GAAK,EAAGA,IAAK,CACjD,IAAIihG,EAAUh0F,EAAO48G,MAAM7pH,GAEtBwG,GAAMy6F,GAAWz6F,IACpByG,EAAO48G,MAAM1/G,SAASnK,GAEtBV,KAAKmvB,gBAAgBwwE,WAAWgC,GAChCh0F,EAAOb,UAAU,kBAAmB,CAAC60F,EAASjhG,EAAI,OAIxD2xB,SAAU,CACR+uF,iBAAoB,WAClB,GAAwB,SAApBphH,KAAKiH,OAAO6K,KAAiB,CAC/B,IAAInE,EAAS3N,KAAKmvB,gBAClBnvB,KAAKyqH,cAAczqH,KAAKiH,OAAOC,IAC/B,IAAIo3F,EAAS3wF,EAAO+gB,gBACpB4vE,EAAOA,EAAO78F,OAAS,GAAGmb,QAE1B5c,KAAK0qH,aAAa,KAAM,KAAM,aACzB77F,GAAG7uB,KAAKikH,cAAcrnG,QAE7B,OAAO,IAGX5S,MAAO,WACLhK,KAAKuqH,MAAQ5/G,EAAU,IACvB3K,KAAK6M,YAAY,aAAc7M,KAAK+oC,cAEtCk1C,QAAS,SAAU59E,GACjBL,KAAKm6G,UAAU95G,EAAImB,UAGV7B,EAAQwxB,QAAQi5F,GAAOtE,GAAK9wG,MAEzCrV,EAAQwxB,QAAQ,CACdvrB,KAAM,cACNmE,SAAU,CACR8f,SAAU,oEAEXy4E,GAAWttF,MAEdrV,EAAQwxB,QAAQ,CACdvrB,KAAM,aACNmE,SAAU,CACR8f,SAAU,mEAEXy4E,GAAWttF,MAEd,IAAI+1G,GAAQ,CACVnlH,KAAM,SACNmE,SAAU,CACRmZ,IAAK,EACLxH,IAAK,IACLla,MAAO,GACP6kD,KAAM,EACNltB,OAAO,EACP6xF,WAAW,EACXnhG,SAAU,SAAUxpB,EAAKyoB,GACvB,IAAI5hB,EAAK4hB,EAAOmiG,WAAa,IAAM9gH,IAC/B6N,EAAO,GACPmhB,EAAQ,kCAAoC94B,EAAI2qH,UAAY,qBAAuB,IAAM,MAAQ3qH,EAAI2qH,WAAa3qH,EAAI8/F,SAAW,wBAA0B9/F,EAAIy+G,QAA6B,EAAnBz+G,EAAIouC,cAAoB,OAAS,IAAM,gBAChNj1B,EAAO,8CACPyS,EAAQ,yCACR00F,EAAS,wFAEiDtgH,EAAIs6D,OAASt6D,EAAI84B,MAAQ,IAAM94B,EAAI84B,MAAM94B,GAAO,IAAM,oBAAsBA,EAAIqb,IAAM,oBAAsBrb,EAAI6iB,IAAM,oBAAsB7iB,EAAImB,MAAQ,sBAAwB0F,EAAK,iBAEnP,OADkB8Q,EAAd3X,EAAI8/F,SAAiB,iCAAmCl0E,EAAQzS,EAAOmnG,EAAS,SAAWxnF,EAAkBA,EAAQ,iCAAmC3f,EAAOyS,EAAQ00F,EAAS,SAC7K73F,EAAO61F,aAAat+G,EAAK2X,EAAM9Q,KAG1CumE,YAAa,SAAUnpE,GACrBtE,KAAKgwB,SAAS7X,WAAa,iBAAmB7T,GAEhD4mH,aAAc,SAAU1pH,GACtB,MAAoB,iBAATA,EAA0B6mB,GAAS7mB,GACvCA,GAET2pH,mBAAoB,WAClB,OAAOnrH,KAAK6qB,MAAMqM,cAAc,yBAElCuoF,gBAAiB,WACf,IAAIkB,EAAS3gH,KAAKmrH,qBAEdlkH,EAASjH,KAAKoN,UAElB,GAAIuzG,EAAQ,CAEV,IAAI35G,EAAOC,EAAOk5F,SAAWngG,KAAKqoC,gBAAkBroC,KAAKklH,iBAAiBj+G,GAEtEzF,EAAQyF,EAAOzF,MAAQyF,EAAOo/C,KAAO3sC,KAAKC,MAAM1S,EAAOzF,MAAQyF,EAAOo/C,MAAQp/C,EAAOo/C,KAAOp/C,EAAOzF,MACnGka,EAAMzU,EAAOyU,IAAMzU,EAAOic,IAC9B1hB,EAAQxB,KAAKorH,WAAW5pH,GACxBA,EAAQyF,EAAOk5F,SAAWzkF,GAAOla,EAAQyF,EAAOic,KAAO1hB,EAAQyF,EAAOic,IAEtE,IAAImoG,EAAU3xG,KAAKiC,MAAM3U,EAAO,EAAIhH,KAAKsrH,gBAAkB9pH,EAAQka,GAE/D6vG,EAAUvkH,EAAO,EAAIhH,KAAKsrH,eAAiBD,EAC3CG,EAAYvkH,EAAOk5F,SAAW,MAAQ,OACtCsrB,EAAUxkH,EAAOk5F,SAAW,SAAW,QAC3CwgB,EAAOnpG,MAAMg0G,GAAaxrH,KAAKsrH,eAAiBD,EAAUrrH,KAAK0rH,mBAAqB,EAAI,KACxF/K,EAAOtoG,WAAWb,MAAMi0G,GAAWzkH,EAAO,KAE1CukH,EAAUvrH,KAAKorH,WAAWG,EAAS,EAAIvrH,KAAK2rH,cAAe3kH,EAA6B,EAAtBhH,KAAKsrH,eAAqB,EAAItrH,KAAK2rH,eACrGN,EAAUrrH,KAAKorH,WAAWC,EAAS,EAAIrrH,KAAK2rH,cAAe3kH,EAA6B,EAAtBhH,KAAKsrH,eAAqB,EAAItrH,KAAK2rH,eAErG,IAAIC,EAAOjL,EAAOzpG,gBAClB00G,EAAKp0G,MAAMi0G,GAAWF,EAAU,KACrBK,EAAK10G,gBACXM,MAAMi0G,GAAWJ,EAAU,KAEhCrrH,KAAK6rH,WAAWlL,EAAQ0K,EAASE,EAASC,KAG9CK,WAAY,SAAUlL,EAAQ0K,EAASE,EAASC,GAC9C,IAAIvkH,EAASjH,KAAKoN,UAElB,GAAIpN,KAAKoN,UAAU+rB,MAAO,CACxB,IAAIA,EAAQwnF,EAAOtoG,WAAWpR,EAAOk5F,SAAW,cAAgB,mBAGhE,GAFAhnE,EAAM1iB,UAAYzW,KAAKoN,UAAU+rB,MAAMn5B,KAAKoN,UAAWpN,MAEnDA,KAAKoN,UAAU49G,UAAW,CAC5B,IAAI/sG,EAAS,EACb,GAAIhX,EAAOk5F,SAAUliF,EAASotG,EAAU,EAAIrrH,KAAK2rH,cAAgB3rH,KAAK0rH,mBAAqB,MAAO,CAChG,IAAII,EAAO3yF,EAAMjF,YAAc,EAC3B9Z,EAAO0xG,EAAOT,EAAUS,EAAOT,EAAU,EAAIrrH,KAAK2rH,cAAgB,EAElEI,EAAOD,EAAOP,EAAUO,EAAOP,EAAU,EAAIvrH,KAAK2rH,cAAgB3rH,KAAK0rH,mBAAqB,EAAI,EAEpGztG,EAASje,KAAKsrH,eAAiBD,EAAUS,EAAO1xG,EAAO2xG,EAEzD5yF,EAAM3hB,MAAMg0G,GAAavtG,EAAS,QAIxC+tG,eAAgB,WACdhsH,KAAKmrH,qBAAqB1zG,aAAa,gBAAiBzX,KAAKoN,UAAU5L,QAEzE4pH,WAAY,SAAU5pH,EAAO0hB,EAAKxH,GAGhC,OAFAwH,EAAMA,GAAYljB,KAAKoN,UAAU8V,IACjCxH,EAAMA,GAAY1b,KAAKoN,UAAUsO,IAC1BhC,KAAKwJ,IAAIxJ,KAAKgC,IAAIla,EAAO0hB,GAAMxH,IAExCyO,QAAS,WACP,IAAIw2F,EAAS3gH,KAAKmrH,qBAEdxK,IACF3gH,KAAKgsH,iBAEDhsH,KAAKoN,UAAU+rB,OAAOwnF,EAAOlpG,aAAa,aAAczX,KAAKoN,UAAUutD,MAAQ,IAAM36D,KAAKoN,UAAU+rB,MAAMn5B,KAAKoN,UAAWpN,OAE9HA,KAAKy/G,oBAGTtF,UAAW,WACTn6G,KAAKmqB,WAEP81F,UAAW,WACT,OAAOjgH,KAAKoN,UAAU5L,OAExBy4G,cAAe,SAAUz4G,GAGvB,OAFAA,EAAQypB,WAAWzpB,GACfwpB,MAAMxpB,KAAQA,EAAQxB,KAAKoN,UAAU8V,KAClCljB,KAAKorH,WAAW5pH,IAEzBwI,MAAO,SAAU/C,GACf,IAAI2e,EAAQ5lB,KAEZusB,GAAOvsB,KAAKgwB,SAAU1R,GAAIm4B,MAAM5Z,MAAM,SAAU93B,GAC9C,OAAO6gB,EAAMqmG,qBAAqBlnH,EAAG,YAGnCuZ,GAAIa,OAAOoN,GAAOvsB,KAAKgwB,SAAU1R,GAAIa,MAAM0d,MAAM,SAAU93B,GAC7D,OAAO6gB,EAAMqmG,qBAAqBlnH,EAAG,YAGvCwnB,GAAOvsB,KAAK6qB,MAAO,UAAWpiB,EAAKzI,KAAK08G,sBAAuB18G,OAE3DiH,EAAOk5F,WACTl5F,EAAO6S,OAAS7S,EAAO6S,QAAU8zB,GAAQwB,cACzCpvC,KAAKgwB,SAAS7X,WAAa,yBAC3BnY,KAAKsrH,eAAiB19E,GAAQuB,iBAGlCrd,MAAO,WACLg0F,GAAKz8E,IAAIvX,MAAM1vB,KAAKpC,MACpBA,KAAK0rH,mBAAqB99E,GAAQoB,kBAElChvC,KAAKsrH,eAAiB19E,GAAQqB,cAE9BjvC,KAAK2rH,cAAgB/9E,GAAQsB,cAE/BwtE,sBAAuB,SAAU33G,GAC/B,IAAI+D,EAAO/D,EAAE+yB,OAAS/yB,EAAEgzB,QACpBjqB,EAAI9N,KAAKoN,UACT5L,EAAQsM,EAAEtM,MAEd,GAAIsH,EAAO,IAAMA,EAAO,GAAI,CAC1B0R,GAAazV,GACb,IAAI4T,EAAM5T,EAAE+C,OACR4oD,EAAK,2BAA8B7nD,KAAK8P,EAAIR,WAIhD,GAHAnY,KAAKksH,aAAex7D,EAAQryC,SAASqyC,EAAM,GAAI,KAAM,EACjDA,IAAOlvD,EAAQsM,EAAEtM,MAAMxB,KAAKksH,eAChC1qH,EAAQA,EAAQsM,EAAEoV,IAAMpV,EAAEoV,IAAM1hB,EAAQsM,EAAE4N,IAAM5N,EAAE4N,IAAMla,EAC3C,KAATsH,EAAatH,EAAQsM,EAAEoV,SAAS,GAAa,KAATpa,EAAatH,EAAQsM,EAAE4N,QAAS,CACtE,IAAIuvD,EAAe,KAATniE,GAAwB,KAATA,GAAwB,KAATA,GAAc,EAAK,GAC9C,KAATA,GAAwB,KAATA,GAAegF,EAAEu4C,KAAO,KAAG4kB,GAAYn9D,EAAEu4C,MAC5D7kD,EAAgB,EAARA,EAAYypE,EAGtB,GAAIva,EAAO,CACT,IAAIy6C,EAAQr9F,EAAEtM,MAAMxB,KAAKksH,aAAe,EAAI,GAC5C1qH,EAAQxB,KAAKksH,cAAgB1qH,GAAS2pG,IAAUnrG,KAAKksH,cAAgB1qH,GAAS2pG,EAAQA,EAAQ3pG,EAGhG,GAAIA,GAASsM,EAAEoV,KAAO1hB,GAASsM,EAAE4N,IAAK,CACpC,GAAIg1C,EAAO,CAGT,IAFA,IAAIhhD,EAAO,GAEFhP,EAAI,EAAGA,EAAIoN,EAAEtM,MAAMC,OAAQf,IAClCgP,EAAKhP,GAAKA,IAAMV,KAAKksH,aAAe1qH,EAAQsM,EAAEtM,MAAMd,GAGtDc,EAAQkO,EAGV1P,KAAK6hC,SAASrgC,EAAO,QACrBxB,KAAKksH,cAAe,KAI1BD,qBAAsB,SAAUE,EAAG70E,GACjC,IAAItxB,EAAShmB,KAET2Y,EAAMwzG,EAAErkH,OACR9H,KAAKosH,qBAAqBpsH,KAAKosH,oBAAoBD,GACvD,IAAI3qH,EAAQxB,KAAKoN,UAAU5L,MACvB6G,EAAQ7G,KAAQA,EAAQqG,EAAKrG,IACjCxB,KAAKqsH,aAAe7qH,GAC0B,IAA1CmX,EAAIR,UAAUxL,QAAQ,kBAAwB3M,KAAKoN,UAAU5L,MAAQxB,KAAKssH,sBAAsBH,IACpG,IAAIt/F,EAAsB,UAAZyqB,EAAsB,CAClCzqB,SAAS,GACP,KACJ7sB,KAAK+9G,oBAAsB,CAACtxF,GAAQniB,SAASyO,KAAMuF,GAAIg5B,GAASzF,MAAM,SAAU9sC,GAC9E,OAAOihB,EAAOg4F,qBAAqBj5G,EAAGuyC,KACrCzqB,GAAUJ,GAAQniB,SAAUgU,GAAIg5B,GAAS1a,IAAI,WAC9C,OAAO5W,EAAOi4F,wBAEhB/iG,GAAO5Q,SAASyO,KAAM,mBAExBklG,kBAAmB,WAEjB3xF,GAAYtsB,KAAK+9G,oBAAoB,IACrCzxF,GAAYtsB,KAAK+9G,oBAAoB,IACrC/9G,KAAK+9G,oBAAsB,KAC3B,IAAIv8G,EAAQxB,KAAKoN,UAAU5L,MACvB6G,EAAQ7G,KAAQA,EAAQqG,EAAKrG,IACjCxB,KAAKoN,UAAU5L,MAAQxB,KAAKqsH,aAC5BrsH,KAAK6hC,SAASrgC,EAAO,QAErBxB,KAAKmrH,mBAAmBnrH,KAAKksH,cAActvG,QAE3C5c,KAAKksH,cAAe,EACpB9wG,GAAU9Q,SAASyO,KAAM,mBAE3BilG,qBAAsB,SAAUj5G,EAAGuyC,GACjCt3C,KAAKoN,UAAU5L,MAAQxB,KAAKssH,sBAAsBvnH,GAClD/E,KAAKmqB,UACLnqB,KAAK8M,UAAU,eAAgB,IACf,UAAZwqC,GAAqB98B,GAAazV,IAExCunH,sBAAuB,SAAUvnH,GAC/B,IAAIwnH,EAAKvsH,KAAKoN,UAAU+yF,SAAW,IAAM,IACrCliF,EAAS7D,GAAIrV,GAAGwnH,GACpB,OAAOvsH,KAAKwsH,oBAAoBvuG,IAElCuuG,oBAAqB,SAAUvuG,GAC7B,IAAIhX,EAASjH,KAAKoN,UACdsO,EAAMzU,EAAOyU,IAAMzU,EAAOic,IAC1BqpG,EAAKtlH,EAAOk5F,SAAW,IAAM,IAE7BssB,EAAS7zG,GAAO5Y,KAAKmrH,qBAAqB9yG,YAAYk0G,GAAMvsH,KAAKsrH,eAGjEtkH,GAAQC,EAAOk5F,SAAWngG,KAAKqoC,gBAAkBroC,KAAKklH,iBAAiBj+G,IAAW,EAAIjH,KAAKsrH,eAC3FzzC,EAAW7wE,GAAQiX,EAASwuG,GAAU/wG,EAAM1U,EAAO,EAGvD,OAFIC,EAAOk5F,WAAUtoB,EAAWn8D,EAAMm8D,GACtCA,EAAWn+D,KAAKC,OAAOk+D,EAAW,EAAI5wE,EAAOic,KAAOjc,EAAOo/C,MAAQp/C,EAAOo/C,KACnErmD,KAAKorH,WAAWvzC,IAEzBksC,eAAgB,cAGLpkH,EAAQwxB,QAAQ45F,GAAOjF,GAAK9wG,MAEzCrV,EAAQwxB,QAAQ,CACdvrB,KAAM,cACNmE,SAAU,CACR8f,SAAU,oEAEXy4E,GAAWttF,MAEd,IAAI03G,GAAQ,CACV9mH,KAAM,SACNmE,SAAU,CACR8f,SAAU,SAAU5iB,EAAQ6hB,GAC1BA,EAAO6jG,qBAEP,IAAIzlH,EAAKD,EAAOrB,MAAQ,IAAMuE,IAC1Bi8G,EAAa,GAEbn/G,EAAOo/G,aACTD,EAAa,oCAAsCn/G,EAAOo/G,WAAa,WACnEp/G,EAAOmnG,aAAYnnG,EAAO0zD,MAAQ1zD,EAAO0zD,OAAS,WAGxD,IAAIK,EAAU/zD,EAAOi0F,YAAcj0F,EAAOzF,MACtCgqE,EAAO,gBAAmBvkE,EAAO0zD,OAAS1zD,EAAOo/G,YAAc,IAAM,iDAAyDrrD,EAAU,OAAS,SAAW,MAAS/zD,EAAOsrB,SAAW,uBAAyB,IAAM,IACtNva,EAAO,iCAAoCgjD,EAAU,mBAAqB,IAAM,kBAAsBlyC,EAAO8jG,aAAtG,yCAAwK5xD,EAAU/zD,EAAO+iH,QAAU/iH,EAAOgjH,WAAa,IAAvN,8CAAoRz+C,EAAO,iBAAoBxQ,EAAUlyC,EAAO8jG,aAAe9jG,EAAO+jG,cAAgB,GAAtW,oBAAwY3lH,EAAK,kDAAyD8zD,EAAU,UAAY,IAA5d,mBAA4forD,EACvgB,OAAOt9F,EAAO61F,aAAa13G,EAAQ+Q,EAAM9Q,KAG7C4qB,MAAO,WACLopC,GAAS7xB,IAAIvX,MAAM1vB,KAAKpC,MACxBA,KAAK6sH,cAAgBj/E,GAAQyB,aAC7BrvC,KAAK4sH,aAAeh/E,GAAQ0B,aAE9B6qE,UAAW,SAAU34G,GACnB,IAAIyF,EAASjH,KAAKoN,UACd4tD,EAAUx5D,GAASyF,EAAOi0F,WAC1BrjF,EAAM7X,KAAK6qB,MAAMqM,cAAc,qBAEnC,GAAIrf,EAAK,CACP,IAAI8oG,EAAS9oG,EAAIxH,WAAW,GACxBlK,GAAQ60D,EAAU/zD,EAAO+iH,QAAU/iH,EAAOgjH,WAAa,GACvDjvD,EAAS9/C,GAAOrD,EAAK,mBAAwBuD,GAAUvD,EAAK,mBAChE8oG,EAAOnpG,MAAMgC,MAAQwhD,EAAUh7D,KAAK4sH,aAAe5sH,KAAK6sH,cAAgB,GAAK,KAC7ElM,EAAOjwG,WAAWsqD,QAAUA,EAC5B2lD,EAAOlpG,aAAa,eAAgBujD,EAAU,OAAS,SAEnD70D,IACF0R,EAAIxH,WAAW,GAAGoG,UAAYtQ,KAIpCwmH,mBAAoB,WAClB,IAAI1lH,EAASjH,KAAKoN,UAElB,GAAInG,EAAO+iH,SAAW/iH,EAAOgjH,SAAU,CACrC,IAAI6C,EAAU7lH,EAAO+iH,QAAU3uG,GAAYpU,EAAO+iH,QAAS,qBAAqBpwG,MAAQ,EACpFmzG,EAAW9lH,EAAO+iH,QAAU3uG,GAAYpU,EAAOgjH,SAAU,qBAAqBrwG,MAAQ,EAC1F5Z,KAAK4sH,aAAelzG,KAAKgC,IAAIoxG,EAASC,GAAY/sH,KAAK6sH,gBAG3Dx6F,SAAU,CACR26F,iBAAoB,WACbhtH,KAAKoN,UAAUmlB,UAAUvyB,KAAKuhH,OAAO,SAE5C0L,kBAAqB,WACdjtH,KAAKoN,UAAUmlB,UAAUvyB,KAAKuhH,OAAO,WAM5C2L,IAFSvtH,EAAQwxB,QAAQu7F,GAAOxxD,GAASlmD,MAEjC,CACVpP,KAAM,SACNoE,MAAO,WACLhK,KAAK6M,YAAY,aAAc7M,KAAK+oC,cAEtCjX,MAAO,WACL,IAAIq7F,EAAOv/E,GACP7jC,EAAW/J,KAAK+J,SACpBA,EAASqjH,UAAYD,EAAKp9E,cAAgB,EAC1ChmC,EAAS8lC,eAAqC,IAAlBs9E,EAAKt9E,UAA2Bs9E,EAAKt9E,UAAY,GAC7E9lC,EAASsjH,aAAeF,EAAKr9E,iBAAmB,EAChD/lC,EAAS+P,OAASqzG,EAAKh/E,aACvBpkC,EAAS6lC,UAAYu9E,EAAKv9E,UAC1B7lC,EAAS0kC,aAAe0+E,EAAK1+E,aAC7B1kC,EAASujH,YAAcH,EAAKG,aAAe,IAC3CvjH,EAASwjH,aAAeJ,EAAKI,cAAgB,GAC7CxjH,EAASqxB,YAAc+xF,EAAKn9E,WAE9Bw9E,gBAAiB,WACf,IACI9sH,EACAqK,EAFA9D,EAASjH,KAAKoN,UAGdq+F,EAAOzrG,KAAKmkE,eAAel9D,EAAOsN,SAClCk5G,EAAaztH,KAAKogH,aAAkC,EAAnBn5G,EAAO4oC,UACxC69E,EAAazmH,EAAOmiH,aAAeniH,EAAOqmH,YAI9C,GAFAviH,EAAM0gG,EAAKhqG,OAEPwF,EAAOqmH,aAAeG,EAAa1iH,EAAM2iH,EAC3C,MAAO,CACLhyG,IAAK2C,SAASovG,EAAaC,EAAY,KAAO,GAIlD,IAAKzmH,EAAOmiH,YACV,IAAK1oH,EAAI,EAAGA,EAAIqK,EAAKrK,IACf+qG,EAAK/qG,GAAGkZ,QACV6zG,GAAchiB,EAAK/qG,GAAGkZ,OAAUlZ,GAAMuG,EAAO3C,KAA0B,EAAnB2C,EAAO2oC,WAC3D7kC,KAKN,MAAO,CACL6O,MAAO7O,EAAM0iH,EAAa1iH,EAAM9D,EAAOqmH,cAG3CtG,YAAa,WACX,IAAIphG,EAAQ5lB,KAERK,EAAML,KAAKoN,UAEf,IAAK/M,EAAIgpH,cAAgBx6F,GAAGxuB,EAAIgpH,aAAc,CAC5C,IAAIsE,EAAchuH,EAAQ8J,OAAO,CAC/BuL,KAAM,QACNwpC,WAAW,EACX5kC,MAAO,KACNvZ,EAAIgpH,aAAe,IAClBtwG,EAAOpZ,EAAQ8J,OAAO,CACxBuL,KAAM,OACNomB,YAAY,EACZsC,QAAQ,EACRylB,YAAY,EACZyqE,OAAQ,EACR/jG,SAAUxB,GAAS,YAClBhoB,EAAIgpH,aAAchpH,EAAIgpH,YAAYtwG,MAAa,IAAI,GACtDA,EAAKuC,IAAM,kBAAkBkb,OAAOzd,EAAKuC,KAAO,IAChDqyG,EAAY50G,KAAOA,EAEnB,IAAImY,EAAQ7C,GAAGs/F,GAEXn8D,EAAOtgC,EAAM2K,UAEjB3K,EAAMrkB,YAAY,UAAU,WAC1B2kD,EAAK6E,WACL75B,GAAUyB,SAASuzB,GACnB,IAAInnD,EAAOmnD,EAAKxM,YAAYwM,EAAK9B,cAC7BrlD,GAAMA,EAAKuS,WAGjB40C,EAAK3kD,YAAY,eAAe,SAAU3F,GACxC,OAAO0e,EAAMioG,iBAAiB3mH,MAEhCsqD,EAAK3kD,YAAY,WAAW,WAC1B,OAAO+Y,EAAMioG,sBAEfxtH,EAAIgpH,YAAcn4F,EAAM9jB,UAAUlG,GAElClH,KAAKwwB,iBAAiBjvB,KAAK2vB,GAG7BlxB,KAAKgnH,YAAc,cAErB6G,iBAAkB,SAAU3mH,GAC1B,IAAIorB,EAAQzD,GAAG7uB,KAAKoN,UAAUi8G,aAW9B,OAVAniH,EAAKA,GAAMorB,EAAMuJ,UAAU2H,kBAEjBxjC,KAAK8M,UAAU,mBAAoB,CAAC5F,MAC5ClH,KAAK6hC,SAAS36B,EAAI,QAClBorB,EAAMoC,OACN10B,KAAK8M,UAAU,kBAAmB,CAAC5F,IACnClH,KAAKmqB,UACLnqB,KAAK4c,UAGA,GAET2+C,SAAU,WAGR,OAFAv7D,KAAKgnH,cAEEn4F,GAAG7uB,KAAKoN,UAAUi8G,cAE3ByE,oBAAqBzlG,GACrBte,SAAU,CACRgkH,aAAc,4CACdlkG,SAAU,SAAUxpB,EAAKyoB,GACvBA,EAAO84F,eAAevhH,EAAIkU,SAE1B,IAEkByD,EAAMg2G,EAAWC,EAAYz2G,EAAOiqD,EAAKysD,EAAgBt0G,EAFvE6xF,EAAO3iF,EAAOq7C,eAAe9jE,EAAIkU,SAIrC,GAAKk3F,EAAKhqG,OAEH,CACApB,EAAImB,QAAOnB,EAAImB,MAAQsnB,EAAOo7C,iBAAgB,IACnDlsD,EAAO,GACH3X,EAAIwvC,YAAW73B,GAAQ,8CAAgD3X,EAAIwvC,UAAY,qBAC5E/mB,EAAOs3F,aAA+B,EAAhB//G,EAAIwvC,WAAkBxvC,EAAIiE,KAA2C,EAApCjE,EAAIuvC,WAAa67D,EAAKhqG,OAAS,IACrGysH,EAAiB7tH,EAAI+sH,UAAY/sH,EAAIgtH,aAErC,IAAIjmH,EAAQ0hB,EAAO0kG,kBAEnB,GAAIpmH,EAAMsU,KAAOtU,EAAMsU,IAAM+vF,EAAKhqG,OAAQ,CAExC,IAAI6wB,EAAQxJ,EAAOyyC,WACnBjpC,EAAMoC,OACN,IAAI3b,EAAOuZ,EAAMuJ,WAAa,KAE9B,GAAI9iB,EACF,GAAI3R,EAAMsU,IAAK,CACb,IAAK,IAAIhb,EAAI,EAAG2R,GAAQ,EAAO3R,EAAI+qG,EAAKhqG,SAAW4Q,EAAO3R,IACxD,GAAI+qG,EAAK/qG,GAAGwG,IAAM7G,EAAImB,QACpB6Q,GAAQ,EAEJ3R,EAAI,EAAI0G,EAAMsU,KAAK,CACrB,IAAIyyG,EAAc1iB,EAAKzgG,OAAOtK,EAAG,GAC7B0tH,EAAc3iB,EAAKzgG,OAAO,EAAG5D,EAAMsU,IAAM,GAAG8a,OAAO23F,GACvD1iB,EAAO2iB,EAAY53F,OAAOi1E,GAKhC1yF,EAAK8N,WACL9N,EAAK3H,MAAMq6F,EAAKpiF,MAAMjiB,EAAMsU,WAE5B3C,EAAK8N,gBAGJ,GAAIiC,EAAO1b,UAAUi8G,YAAa,CACvC,IAAIgF,EAASx/F,GAAG/F,EAAO1b,UAAUi8G,aAE7BgF,GAAQA,EAAO35F,OAGrB+sC,EAAMphE,EAAIwvC,UAEV,IAAK,IAAIzuC,EAAK,EAAGktH,GAAU,EAAOltH,EAAKqqG,EAAKhqG,SAAW6sH,EAASltH,IAE1DgG,GAASA,EAAMsU,KACbtU,EAAMsU,KAAOta,EAAK,IACpBktH,GAAU,GAIZ10G,GADekP,EAAOs3F,aAA+B,EAAhB//G,EAAIwvC,YAAkBxvC,EAAIiE,MAAQ8C,EAAMsU,IAAM,EAAIrb,EAAIuvC,WAAaxoC,EAAMsU,IAAM,GAAK,GACjGrb,EAAIktH,cAAgBnmH,EAAMsU,KAC7C9B,EAAQxS,EAAMwS,MAGrB6nD,IADA7nD,EAAQ6xF,EAAKrqG,GAAIwY,OAASvZ,EAAI+oH,aAAexvG,IAC7BxY,IAAOf,EAAIiE,KAAOjE,EAAIuvC,UAAY,GAC9CvvC,EAAIuvC,UAAY,GAAKxuC,IAAOf,EAAIiE,OAAM0T,GAAQ,8CAAgD3X,EAAIuvC,UAAY,eAElH53B,GAAQ8Q,EAAOylG,YAAY9iB,EAAKrqG,GAAKwY,GAEjC00G,IACFt2G,GAAQ,+CAAsDzM,EAAKigE,KAAK+kB,SAAW,8CAAoDlwF,EAAIktH,aAAe,QAAWltH,EAAI0tH,aAAa1tH,EAAKyoB,GAAU,SACrM24C,GAAOphE,EAAIktH,eAIfS,EAAYllG,EAAOmf,eAAiBw5B,GACpB,IAAMphE,EAAIiE,OAAM0T,GAAQ,8CAAgDg2G,EAAY,0BApEpGh2G,EAAO,8CAAgD8Q,EAAOs3F,aAAe,gCAgF/E,OATA6N,EAAa,GAEbz2G,EAAQ02G,IAAmB7tH,EAAIiE,KAAO,WAAawkB,EAAOuf,gBAAkB6lF,GAAkB,KAAO,GAEjG7tH,EAAI+sH,YAAc/sH,EAAIiE,OAAM2pH,GAAc,+DAAiE5tH,EAAI+sH,UAAY,cAE/Ha,GAAc,eAAiBz2G,EAAQ,2CAA6CnX,EAAIiE,KAAO,aAAejE,EAAIiE,KAAO,IAAM,KAAO0T,EAAO,SAEzI3X,EAAIgtH,eAAiBhtH,EAAIiE,OAAM2pH,GAAc,8DAAgE5tH,EAAIgtH,aAAe,cAC7HY,IAGXvqD,cAAe,WACb,OAAO1jE,KAAK6qB,MAAM0N,iBAAiB,oBAErCg2F,YAAa,SAAUpwF,EAAKvkB,GAC1B,IAAI5B,EACAG,EAAY,GACZmb,EAAU,GACVozF,IAAevoF,EAAItd,SACnB5Z,EAASjH,KAAKiH,OAUlB,GATIk3B,EAAIj3B,IAAMD,EAAOzF,QAAO2W,GAAa,mBACrCuuG,IAAYvuG,GAAa,mBACzBgmB,EAAI7iB,MAAKnD,GAAa,IAAMgmB,EAAI7iB,KAChCrU,EAAOqsB,UAASA,EAAU,gBAAkB6K,EAAIj3B,GAAK,KACzD0S,EAAQukB,EAAIvkB,OAASA,EACrB5B,EAAO,6BAAgCG,EAAhC,gBAEUgmB,EAAIj3B,GAFd,gCAE8Di3B,EAAIj3B,IAAMD,EAAOzF,MAAQ,OAAS,SAAW,gBAAqBklH,GAAcvoF,EAAIj3B,IAAMD,EAAOzF,MAAc,KAAN,KAAc,kBAAsBoY,EAAQ,QAAW8sG,EAAa,yBAA6B,IAAMpzF,EAAU,IAE3RtzB,KAAKwuH,aAAc,CACrB,IAAIC,EAAazuH,KAAKqoC,gBAAwC,EAAtBphC,EAAOwnC,aAAmB,EAC9D30B,EAAS9Z,KAAKqoC,gBAAkB,EAChC34B,EAAO/P,EAAQ8J,OAAO,CACxBg3G,QAASgO,EACT3P,QAAShlG,GACRqkB,GACHnmB,GAAQhY,KAAKwuH,aAAa9+G,OACrB,CAELsI,IADWmmB,EAAI5B,KAAO,2BAA6B4B,EAAI5B,KAAO,aAAe,IAC9D4B,EAAI38B,MAKrB,OAFKklH,IAAevoF,EAAIjC,QAASj1B,EAAOi1B,QAAQlkB,GAAQ,gDAAkDzM,EAAKigE,KAAK8kB,SAAW,0DAC/Ht4E,GAAQ,UAGVgiG,QAAS,WACP,OAAOh6G,KAAKiqB,SAASvZ,YAEvB8uG,OAAQ,CACNh3B,MAAO,+IACPjsD,KAAM,gMACNojF,QAAS,8LAEXlyC,YAAa,SAAUjsE,GAGrB,OAFAxB,KAAKoN,UAAUyiC,UAAY,EACvB7vC,KAAKw/G,OAAOh+G,KAAQxB,KAAKwuH,aAAenmG,GAASroB,KAAKw/G,OAAOh+G,KAC1DA,KAKPktH,IAFS/uH,EAAQwxB,QAAQ+7F,GAAO5D,GAAUt0G,MAElC,CACVpP,KAAM,WACNmE,SAAU,CACR4wD,MAAO,GACPyzC,WAAY,GACZK,cAAe,QAEjBzkG,MAAO,WACLhK,KAAKgwB,SAAS7X,WAAa,kBAC3BnY,KAAKslB,OAAOhY,QAAQtN,KAAK2uH,aAE3B78F,MAAO,WACLwyE,GAAOj7D,IAAIvX,MAAM1vB,KAAKpC,MACtBA,KAAK+J,SAASspE,SAAWzlC,GAAQmB,aAAe,EAChD/uC,KAAK+J,SAASupE,SAAW1lC,GAAQa,cAEnC/b,aAAc,WACZ,OAAO1yB,KAAK6qB,MAAMqM,cAAc,2BAElC03F,QAAS,SAAUhpH,GACjB,MAAO,CACLoP,KAAM,SACN1Q,KAAM,OACNi4B,KAAM,OAAS32B,EACfA,KAAMA,EACNsB,GAAItB,EACJ+0D,MAAOpvD,EAAKylF,SAASprF,GACrB+gF,WAAW,EACX/sB,OAAQh0D,EACRyW,MAAOrc,KAAK6uH,YAGhBF,WAAY,WACV,IAAIp1G,EAAMvZ,KACN8uH,EAAY,CACd95G,KAAM,WACNsG,IAAK,2BACL8f,YAAY,EACZvR,SAAU,6DAA+D7pB,KAAKoY,WAAa,SAC3FkxC,GAAI,CACFylE,cAAe,WACbx1G,EAAIwmG,iBAAkB,EACtBxmG,EAAI4Q,UAEJoC,GAAOhT,EAAImZ,eAAgB,QAAQ,WACjCnZ,EAAIy1G,aAAahvH,KAAKyW,UAAW,WAGnC8V,GAAOhT,EAAImZ,eAAgB,SAAS,WAClCnZ,EAAI01G,cAAc,aAIxBlmD,QAAS,CACPmmD,sBAAuB,WACrB31G,EAAI01G,cAAc,WAIpB7tF,EAAW,CAACphC,KAAK4uH,QAAQ,aAAc5uH,KAAK4uH,QAAQ,QAAS5uH,KAAK4uH,QAAQ,UAAW,IACrFO,EAAgB,CAClBn6G,KAAM,UACN9N,GAAI,UACJypB,SAAUyQ,GAER3jB,EAAO,CAAC0xG,EAAeL,GACvB7nH,EAASjH,KAAKiH,OAEU,OAAxBA,EAAOwnG,eACT0gB,EAAcx+F,SAAWyQ,EAAS5K,OAAO,CAAC,CACxCxhB,KAAM,QACN2lD,MAAO1zD,EAAO0zD,MACd7pC,MAAO,SACN,CACDlX,MAAO,KAET5Z,KAAK4+F,YAAYnhF,KAEjBxW,EAAOmnG,WAAannG,EAAO0zD,MAAQ36D,KAAK0uG,eAAeznG,EAAOmnG,WAAYnnG,EAAO0zD,OAAS,EAEtF1zD,EAAOmnG,YACTnnG,EAAO45D,OAAS,EAChB7gE,KAAK++F,YAAY,CAAC,CAChBl1E,SAAU5iB,EAAO0zD,MACjBr/C,IAAK,4BAA8BrU,EAAOowB,SAAW,kBAAoB,IACzE+D,YAAY,EACZxhB,MAAO3S,EAAOmnG,YACb,CACD3wF,KAAMA,MAEHzd,KAAK4+F,YAAYnhF,KAG5BixF,eAAgB,SAAU90F,EAAO+gD,GAE/B,MADa,QAAT/gD,IAAiBA,EAAQyB,GAAYs/C,EAAO,mBAAmB/gD,OAC5DA,EAAQF,KAAKgC,IAAI9B,EAAOg0B,GAAQ2C,aAAe,GAExD0+E,cAAe,SAAUhoH,GACvB,IAEIs8B,EAFAhqB,EAAMvZ,KACAuZ,EAAIsV,GAAG,WAEbnI,UAAU,CACZwqE,QAAQ,EACRD,WAAW,EACXvJ,MAAM,IACL,EAAOzgF,GAGRs8B,EADE/gC,OAAOk+C,aACHl+C,OAAOk+C,eAEPp2C,SAASq2C,UAAUC,cAG3B,IAAK,IAAIlgD,EAAI,EAAGA,EAAI6iC,EAAI6rF,aAAc1uH,EAChC6Y,EAAIsR,MAAMmN,SAASh4B,KAAK0yB,kBACtBpoB,SAAS+kH,kBAAkB,SAC7B91G,EAAIsV,GAAG,QAAQgT,UAAS,EAAM56B,GAG5BqD,SAAS+kH,kBAAkB,cAC7B91G,EAAIsV,GAAG,aAAagT,UAAS,EAAM56B,GAGjCqD,SAAS+kH,kBAAkB,WAC7B91G,EAAIsV,GAAG,UAAUgT,UAAS,EAAM56B,KAKxCkjB,QAAS,WACHnqB,KAAK+/G,kBAAiB//G,KAAK0yB,eAAejc,UAAYzW,KAAKoN,UAAU5L,QAE3E8tH,sBAAuB,SAAUC,GAC/B,IAAIhsF,EAAKisF,EAETA,GADAjsF,EAAM/gC,OAAOk+C,gBACCv+C,WAAWV,OACzB,IAAI21B,EAAQp3B,KAAK0yB,eACjB,GAAK0E,EAAMY,SAASuL,EAAIksF,aAAgBr4F,EAAMY,SAASuL,EAAImsF,YAEvDF,EAAU,EACZ,IAAK,IAAI9uH,EAAI,EAAGA,EAAI6iC,EAAI6rF,aAAc1uH,EAAG,CACvC,IAAImjB,EAAQ0f,EAAIosF,WAAWjvH,GAE3B,GAAK6iC,EAAIqsF,YAEF,CACL,IAAIC,EAAYtsF,EAAImsF,UAAUI,YAC1BC,EAAUxsF,EAAImsF,UACdM,EAAYzsF,EAAI0sF,aAChBC,EAAeL,EAAUnuE,UAAU,EAAGsuE,GAAWt/D,MAAK,cAAe,GACrEy/D,EAAUN,EAAUnuE,UAAUsuE,GAAWt/D,MAAK,cAAe,GAC7D0/D,EAAYJ,EAAYE,EAAazuH,OACrC4uH,EAAUL,EAAYG,EAAQ1uH,OAClCoiB,EAAMysG,SAASP,EAASK,GACxBvsG,EAAM0sG,OAAOR,EAASM,GACtB9sF,EAAIitF,kBACJjtF,EAAIktF,SAAS5sG,GACbvZ,SAASomH,YAAYnB,GAAa,EAAO,SAbzCjlH,SAASomH,YAAYnB,GAAa,EAAO,MAkBjDV,UAAW,WACC7uH,KAAKiiC,mBAEXqtF,sBAAsBtvH,KAAKiH,OAAO2yD,SAExCh9C,MAAO,WACL,IAAK4f,GAAUgC,SAASx+B,MAAO,OAAO,EAChBA,KAAK0yB,eACX9V,SAElBoyG,aAAc,SAAUxtH,EAAOyF,GAC7BzF,EAAQxB,KAAKi6G,cAAcz4G,GAC3B,IAAIkmC,EAAW1nC,KAAKoN,UAAU5L,MAE1BkmC,GAAYlmC,IACdxB,KAAKoN,UAAU5L,MAAQA,EACvBxB,KAAK8M,UAAU,WAAY,CAACtL,EAAOkmC,EAAUzgC,MAGjD46B,SAAU,SAAUrgC,EAAOyF,GACzBjH,KAAKgvH,aAAaxtH,EAAOyF,GAEzBjH,KAAKmqB,WAEP8vF,cAAe,SAAUz4G,GACvB,OAAiB,IAAVA,EAAc,KAAOA,GAAS,IAAIW,YAE3C+3G,aAAc,SAAU14G,GACtB,OAAOxB,KAAKi6G,cAAcz4G,IAE5B4W,SAAU,WACR,IAAIgf,EAAQp3B,KAAK0yB,eACjB,OAAI0E,EAAcA,EAAM3gB,UACjBzW,KAAKoN,UAAU5L,SAKtBmvH,IAFShxH,EAAQwxB,QAAQu9F,GAAO1oD,GAASs+B,GAAOtvF,MAExC,CACVpP,KAAM,QACNoE,MAAO,WACLhK,KAAKkF,KAAK6rD,WAAW/wD,MAAM,GAC3BA,KAAKiqB,SAAWjqB,KAAKiqB,UAAYjqB,KAAKkjC,YAEtCljC,KAAKkF,KAAK2H,YAAY,iBAAkBpE,GAAK,WAC3CzI,KAAK8pB,OAAOlhB,MAAM5I,KAAMsG,aACvBtG,QAEL6nC,SAAU,WACJ8B,GAAON,IAAIxB,SAASj/B,MAAM5I,KAAMsG,YAAYtG,KAAK8pB,UAEvDkvC,IAEA,aACAoQ,cAAe,GACf9kE,KAAM,KAGJitB,GAAQ,CACV8X,IAAKsnF,GACL37G,KAHWrV,EAAQwxB,QAAQw/F,GAAO7kD,GAAejnB,GAAWpa,GAAak2C,GAAoBrT,GAAajb,GAAY1oB,GAAO30B,KAAMhJ,EAAam2B,KAM9IyuF,GAAQ,CACVhrH,KAAM,OACNirH,eAAgB,aAChB5sE,eAAgB,kBAChBj6C,MAAO,SAAU/C,GACf,IAAI2e,EAAQ5lB,KAEZkb,GAAOlb,KAAKgwB,SAAUhwB,KAAK6wH,gBAA6D,MAA1C5pH,EAAO0jB,QAAU3qB,KAAK+J,SAAS4gB,QAAiB,KAAO,KACrG3qB,KAAKkF,KAAK6rD,WAAW/wD,MAAM,GAC3BA,KAAKkF,KAAK2H,YAAY,kBAAkB,SAAU3F,EAAI7G,EAAKyR,GACpD5K,GAAe,QAAT4K,GAA2B,WAATA,GAAmB8T,EAAMkrG,kBAExD9wH,KAAKkF,KAAK2H,YAAY,eAAe,WACnC,OAAO+Y,EAAMkrG,kBAGf9wH,KAAKgwB,SAASvY,aAAa,OAAQ,YAErCs5G,eAAgB,SAAUvvH,GAExB,OADIA,GAAO7B,EAAQ8J,OAAOzJ,KAAMijF,IAAc,GACvCzhF,GAETi2D,UAAW,SAAUp3D,EAAK0E,EAAG2nB,GAC3B,IAAI1U,EASJ,MAP6B,KAAzBhY,KAAKoN,UAAUud,QAAoC,QAAnB3qB,KAAKsE,KAAKsV,OAC5C5Z,KAAKsE,KAAKsV,MAAQ5Z,KAAKioC,eACvBjwB,EAAOhY,KAAK2pB,QAAQtpB,GACpBL,KAAKsE,KAAKsV,MAAQ,QACb5B,EAAOhY,KAAK2pB,QAAQtpB,GAEvBgI,EAAQqkB,EAAQznB,SAAWynB,EAAQznB,OAAOxD,OAAS,IAAGuW,EAAOhY,KAAK03D,gBAAgB1/C,EAAM0U,EAAQznB,OAAOxD,SACpGuW,GAETjO,SAAU,CACR2zB,QAAQ,EACRjS,QAAQ,EACRd,OAAQ,IACR+7C,YAAY,EACZvT,UAAW,IAEb6F,IAEA,aACA3mC,SAAU,CACR2+F,gBAAiB,SAAUjsH,EAAGmC,GACxBlH,KAAKoN,UAAUswB,SACjB19B,KAAKixH,eAAgB,EACQ,eAAzBjxH,KAAKoN,UAAUswB,QAA2B19B,KAAKoN,UAAUgwD,YAAap9D,KAAK09B,OAAOx2B,GAAI,EAAOnC,EAAEg8B,SAAWh8B,EAAEk8B,SAAyC,SAA9BjhC,KAAKoN,UAAUgwD,YAAwBr4D,EAAE46B,UAC/J3/B,KAAK09B,OAAOx2B,GACjBlH,KAAKixH,eAAgB,KAI3BxnD,YAAa,GACb6C,gBAAiB,WACf,OAAO5yD,KAAKqgB,MAAM/5B,KAAKqoC,gBAAkBroC,KAAKkxH,gBAEhDJ,aAAc,WACZ,IAAIhjH,EAAI9N,KAAKoN,UACb,GAAIU,EAAEq1C,YAAcr1C,EAAE64E,UAAW,OAAO3mF,KAAKy1B,SAE7B,KAAZ3nB,EAAE6c,OACA7c,EAAE8/G,QAAQ5tH,KAAKmxH,kBAAkBrjH,EAAE8/G,QAEnC9/G,EAAEs1C,QAAQpjD,KAAKoxH,iBAAiBtjH,EAAEs1C,SAG1C+tE,kBAAmB,SAAUx/G,GAC3B,IAAInQ,EAAQxB,KAAKkF,KAAKunE,WAAazsE,KAAK2R,QAExC3R,KAAK0uE,cAAc/8D,GAASA,EAAQnQ,EAAO,KAEvCxB,KAAKoN,UAAU+1C,YAAc3hD,GAASmQ,GAASgyC,EAAAA,KAAWhyC,EAAQnQ,GACtE,IAAIsY,EAAS9Z,KAAKkxH,cAAgBv/G,GAAS3R,KAAKsE,KAAKu8D,QAAU,GAG/D,OADI7gE,KAAKqxH,WAAUv3G,GAAU9Z,KAAKqxH,WAAW5vH,OAASzB,KAAKsE,KAAKkhG,cACzD9rF,KAAKgC,IAAI5B,EAAQ9Z,KAAKoN,UAAUouB,WAAa,IAEtD01F,YAAa,WACX,OAAOlxH,KAAKsE,KAAKwV,QAAU9Z,KAAKsE,KAAKu8D,QAAU,IAEjDuwD,iBAAkB,SAAUz/G,GAC1B,IAAInQ,EAAQxB,KAAKkF,KAAKunE,WAAazsE,KAAK2R,QAKxC,OAHA3R,KAAK0uE,cAAc/8D,GAASA,EAAQnQ,EAAO,KAEvCxB,KAAKoN,UAAUu5E,WAAanlF,GAASmQ,GAASgyC,EAAAA,KAAWhyC,EAAQnQ,GAC9DxB,KAAKsE,KAAKsV,MAAQjI,GAE3B62B,SAAU,SAAUzT,EAAIC,GAStB,MAR6B,KAAzBh1B,KAAKoN,UAAUud,QACM,QAAnB3qB,KAAKsE,KAAKsV,QAAiB5Z,KAAKoN,UAAUwM,MAAQ5Z,KAAKsE,KAAKsV,OAAS5Z,KAAKkoC,UAAY5pB,GAAI6pB,WAAa,KACvGnoC,KAAKoN,UAAUwgH,QAAU5tH,KAAKoN,UAAU+1C,cAAYnjD,KAAKoN,UAAU0M,OAAS9Z,KAAKmxH,kBAAkBnxH,KAAKoN,UAAUwgH,SAAW,KAEzG,QAApB5tH,KAAKsE,KAAKwV,SAAkB9Z,KAAKoN,UAAU0M,OAAS9Z,KAAKkxH,eAAiBlxH,KAAKsoC,UAAYhqB,GAAI6pB,WAAa,KAC5GnoC,KAAKoN,UAAUg2C,QAAUpjD,KAAKoN,UAAUu5E,aAAW3mF,KAAKoN,UAAUwM,MAAQ5Z,KAAKoxH,iBAAiBpxH,KAAKoN,UAAUg2C,SAAW,IAGzHzZ,GAAON,IAAIb,SAASpmC,KAAKpC,KAAM+0B,EAAIC,IAE5C6S,SAAU,WACR8B,GAAON,IAAIxB,SAASj/B,MAAM5I,KAAMsG,YAElChC,KAAM,CACJgX,IAAK,GACLg2G,UAAW,SAAUjxH,EAAKyoB,GACxB,OAAOA,EAAOlP,OAASkP,EAAOlP,OAAQ,EAAK,KAAO,KAEpD23G,WAAY,SAAUlxH,EAAKyoB,GACzB,OAAOA,EAAOhP,QAAUgP,EAAOhP,QAAS,EAAK,KAAO,KAEtD03G,UAAW,SAAUnxH,EAAKyoB,EAAQ4jC,GAChC,IAAIpxC,EAAM,kBAUV,OATIwN,EAAOxN,MAAKA,GAAO,IAAMwN,EAAOxN,KAChCjb,EAAIwgB,WAAUvF,GAAO,mBAErBjb,EAAI8jD,OACmB,UAArBlkD,EAAQI,EAAI8jD,QAAmB9jD,EAAI8jD,KAAOhtC,GAAU9W,EAAI8jD,OAC5D7oC,GAAO,IAAMjb,EAAI8jD,MAGfuI,GAASA,EAAMvI,OAAM7oC,GAAO,IAAMoxC,EAAMvI,MACrC7oC,GAETkwD,KAAM,SAAUnrE,EAAKyoB,EAAQ4jC,GAC3B,MAAO,iBAAqBA,GAASA,EAAM+kE,eAAiB,qCAA2C,mBAAuBpxH,EAAIgjE,QAAUhjE,EAAIqmD,UAAY,uBAA2B,KAAOrmD,EAAIwgB,SAAW,8CAAoD,KAEnQgJ,SAAU,SAAUxpB,GAClB,OAAQA,EAAIk8B,KAAO,2CAA6Cl8B,EAAIk8B,KAAO,YAAc,IAAMl8B,EAAImB,OAASnB,EAAIu+G,OAAuB,IAAdv+G,EAAIu+G,MAAc,4BAA8Bv+G,EAAIu+G,MAAQ,SAAW,KAElMhlG,MAAO,OACPmwB,cAAe1hB,GAAS,2JAGxB2hB,YAAa3hB,GAAS,WAExByJ,MAAO,WACL9xB,KAAKsE,KAAKwV,OAAS8zB,GAAQU,gBAE7BojF,YAAa,SAAUxqH,GACrBlH,KAAK2xH,mBAAmBzqH,GAAI,IAE9B0qH,WAAY,SAAU1qH,GACpBlH,KAAK2xH,mBAAmBzqH,GAAI,IAE9ByqH,mBAAoB,SAAUzqH,EAAI1D,GAChC,IAAIyZ,EAAOjd,KAAK8jC,QAAQ58B,GAEpB+V,IACFA,EAAK4D,SAAWrd,EAChBxD,KAAKmqB,QAAQjjB,KAGjB2qH,cAAe,SAAU3qH,GACvB,IAAI+V,EAAOjd,KAAK8jC,QAAQ58B,GACxB,OAAO+V,IAASA,EAAK4D,UAEvBqmD,WAAY,SAAUhgE,EAAI2tC,EAAMvV,GAC9B,OAAKt/B,KAAK6xH,cAAc3qH,GAKjBA,GAJLA,EAAKlH,KAAKyvD,UAAUvoD,EAAIo4B,IAAQ,OACnBp4B,GAAM2tC,EAAO70C,KAAKknE,WAAWhgE,EAAI2tC,EAAMvV,GAAOuV,IAO7Di9E,GAAO,CACTzoF,IAAKunF,GACL57G,KAHWrV,EAAQwxB,QAAQy/F,GAAOruE,GAAa+jB,GAAgBhhB,GAAUkR,GAAUkS,GAAaiG,GAAgBR,GAAY58C,GAAMvc,KAAM4sC,KAY1I90B,GAAKglG,GAAK98G,KAAM,CACdpP,KAAM,WACNikB,SAAU,sGACV22D,QAAS,SAAUngF,GACjB,MAAkB,YAAdA,EAAI4S,OAA6B,2DAA6D5S,EAAImgF,QAAU,UACzG,4BAA8BngF,EAAI4S,OAAS,mBAAmC,SAAd5S,EAAI4S,OAAoB,aAAe,wBAA0B,mBAE1I8+G,WAAY,WACV,MAAO,4EAETC,SAAU,SAAU3xH,GAClB,MAAO,gGAAkGA,EAAIuF,KAAO,UAEtHysB,SAAU,CACR4/F,oBAAuB,SAAUh4G,EAAI/S,GACnC2nB,GAAG7uB,KAAKiH,OAAOirH,UAAU/zC,MAAMlzE,OAAO/D,OAI5C,IAAIirH,GAAQ,CACVvsH,KAAM,WACNmE,SAAU,CACRqoH,UAAU,EACVz6D,UAAU,EACVkoB,UAAW,UAEbiuB,SAAU,wBACV3sB,cAAc,EACd9uD,SAAU,CAERggG,oBAAuB,WACrB,OAAO,IAIX9+G,KAAM,aACNqrE,WAAY,aACZ6B,WAAY,aACZ3uD,MAAO,WACLgwF,GAASz4E,IAAIvX,MAAM1vB,KAAKpC,MACX,YAAT6tC,IAAgC,QAATA,KAAiB7tC,KAAK+J,SAASuR,IAAM,kBAElEtR,MAAO,WACLhK,KAAKm+E,MAAQ,IAAI4nC,GACjB/lH,KAAKwwB,iBAAmB,CAACxwB,KAAKm+E,OAC9Bx+E,EAAQ8J,OAAOzJ,KAAMg+E,IAAc,IAErCn2C,SAAU,SAAU51B,EAAGwH,GACjBkwB,GAAON,IAAIxB,SAASzlC,KAAKpC,KAAMiS,EAAGwH,IACpCzZ,KAAK8pB,UAGTwoG,eAAgB,SAAU9wH,GAExB,OADA0H,EAAMlJ,KAAK8pB,OAAQ9pB,MACZA,KAAKsvB,SAAW9tB,GAEzBk9E,WAAY,SAAUP,GACpB,IAAK,IAAIz9E,EAAI,EAAGA,EAAIy9E,EAAM18E,OAAQf,IAChCV,KAAKi/E,QAAQd,EAAMz9E,KAGvB6xH,YAAa,SAAU/wH,GAcrB,OAbIA,GAAO0H,GAAM,WACf,IAAI8L,EAAO6Z,GAAG7uB,KAAKoN,UAAU+O,MAE7B,IAAKnH,EAAM,CACT,IAAIuE,EAAMvZ,KAAKiiC,mBACX1oB,EAAIsV,KAAI7Z,EAAOuE,EAAIsV,GAAG7uB,KAAKoN,UAAU+O,OAGvCnH,EAAKlB,MAAQkB,EAAK3J,OAAQ2J,EAAKlB,KAAK9T,KAAKm+E,OAAgBnpE,EAAK0R,WAAW1mB,KAAKm+E,MAAMj5E,KAAK2H,YAAY,kBAAkB,WACzHmI,EAAK0R,UAAU1mB,MAAM,EAAO,WAE9BgV,EAAK5H,UAAU8kH,SAAWlyH,KAAKoN,UAAUlG,KACxClH,MACIwB,GAETy9E,QAAS,SAAUr5E,EAAMoB,EAAM8iC,EAAS/zB,GACtC,IAAIgL,EAAO,KAEU,UAAjB9gB,EAAQ2F,KAEVA,GADAmb,EAAOnb,GACKA,KACZoB,EAAO+Z,EAAK/Z,MAGd,IAAIg9B,EAAShkC,KAAKwyH,aAAaxrH,GAE/B8iC,EAAUA,GAAWlkC,EAAKiK,MAAM,KAAKC,MACrC,IAAI2iH,EAAc,CAChB1xG,KAAMA,EACNnb,KAAMA,EACNsB,GAAIiD,IACJnD,KAAMA,EACN0rH,SAAU1uF,EACV1/B,KAAMwlC,EACNpd,QAAS1sB,KAAKu/E,mBACdtsE,OAAQ,UAKV,GAHI8N,GAAQA,EAAK4xG,qBAAoBF,EAAY7sH,KAAOmb,EAAK4xG,oBACzD58G,GAAOpW,EAAQ8J,OAAOgpH,EAAa18G,GAAO,GAE1C/V,KAAK8M,UAAU,kBAAmB,CAAC2lH,IAAe,CAC/CzyH,KAAKoN,UAAUuqD,UAAU33D,KAAKm+E,MAAMt3D,WACzC,IAAI3f,EAAKlH,KAAKm+E,MAAMjhD,IAAIu1F,GACxBzyH,KAAK8M,UAAU,iBAAkB,CAAC2lH,IAC9BvrH,GAAMlH,KAAKoN,UAAUglH,UAAUpyH,KAAKuT,KAAKrM,GAG/C,OAAOurH,GAET1yC,gBAAiB,SAAU9iE,GACzB,IAAIxL,EAAMzR,KAAKoN,UAAUsyE,OACrB7rB,EAAUl0D,EAAQ8J,OAAOwT,EAAK21G,SAAW,GAAI5yH,KAAKoN,UAAUwlH,SAAW,IAE3E,GAAInhH,GAAOoiD,EAAS,CAClB,IAAIg/D,EAAU,GAEd,IAAK,IAAIxhH,KAAOwiD,EACdg/D,EAAQtxH,KAAKgR,mBAAmBlB,GAAO,IAAMkB,mBAAmBshD,EAAQxiD,KAGtEwhH,EAAQpxH,SAAQgQ,KAA4B,GAApBA,EAAI9E,QAAQ,KAAa,IAAM,KAAOkmH,EAAQxrH,KAAK,MAGjF,OAAOoK,GAETqhH,YAAa,SAAU5rH,EAAI6rH,GACzB,IAAI1oH,EAAOD,EAAOlD,GACd8rH,EAAY,GACZD,IAAYC,EAAY,IAAM77G,GAAU,CAC1C+F,QAAS,IAAO61G,EAAa,KAC5B,YACH,IAAIE,EAAU,kBAAoBD,EAC9BE,EAAQ,KAEZ3mG,GAAOliB,EAAM,WAAYmQ,IAEzB+R,GAAOliB,EAAM,YAAY,WACvB6Q,GAAO7Q,EAAM4oH,GAAS,GAElBC,IACF1+F,aAAa0+F,GACbA,EAAQ,SAIZ3mG,GAAOliB,EAAM,aAAa,WAIxB6oH,EAAQjwH,YAAW,WACjBmY,GAAU/Q,EAAM4oH,KACf,QAGL1mG,GAAOliB,EAAM,OAAQ5B,GAAK,SAAU1D,GAGlC,OAFAqW,GAAU/Q,EAAM4oH,GAChBjzH,KAAKg5C,MAAMj0C,GACJyV,GAAazV,KACnB/E,QAELwyH,aAAc,SAAUxrH,OACtB,IAAImsB,EAAW,EAERnsB,EAAO,MACZmsB,IACAnsB,GAAc,KAGhB,OAAO0S,KAAKC,MAAa,IAAP3S,GAAc,IAAM,IAAMuE,EAAKgjF,SAASp7D,IAE5DotD,UAAW,SAAUr5E,EAAIkH,GACvB,IAAI6O,EAAOjd,KAAKm+E,MAAMr6C,QAAQ58B,GAC9BvH,EAAQ8J,OAAOwT,EAAM7O,GAAU,GAC/B6O,EAAKhK,OAAS,SACdgK,EAAK8+B,SAAW,IAChB/7C,KAAK8M,UAAU,eAAgB,CAACmQ,EAAM7O,IACtCpO,KAAK8M,UAAU,WAAY,IAC3B9M,KAAKm+E,MAAMj5C,WAAWh+B,GAClBlH,KAAKmzH,cAAcnzH,KAAKsgF,iBAAiBlyE,IAE/CkyE,iBAAkB,SAAUlyE,GAC1BpO,KAAK8M,UAAU,mBAAoB,CAACsB,IAEhCpO,KAAKy/E,iCACPz/E,KAAKy/E,+BAA+Br9E,KAAKpC,KAAMoO,GAE/CpO,KAAKy/E,+BAAiC,IAG1C0zC,WAAY,WAGV,IAFA,IAAIz7F,EAAQ13B,KAAKm+E,MAAMj5E,KAAKwyB,MAEnBh3B,EAAI,EAAGA,EAAIg3B,EAAMj2B,OAAQf,IAChC,GAA2C,UAAvCV,KAAKm+E,MAAMr6C,QAAQpM,EAAMh3B,IAAIuS,OAAoB,OAAO,EAG9D,OAAO,GAETmgH,kBAAmB,aACnBpzC,gBAAiB,SAAU94E,EAAIs5E,GAClBxgF,KAAKm+E,MAAMr6C,QAAQ58B,GACzBs5E,QAAU9mE,KAAKC,MAAM6mE,GAC1BxgF,KAAKm+E,MAAMj5C,WAAWh+B,IAExB26B,SAAU,SAAUrgC,GACE,iBAATA,GAAqBA,IAAOA,EAAQ,CAC7CA,MAAOA,EACPyR,OAAQ,WAEVjT,KAAKm+E,MAAMt3D,WACPrlB,GAAOxB,KAAKm+E,MAAM/sE,MAAM5P,GAC5BxB,KAAK8M,UAAU,WAAY,KAE7BsL,SAAU,WACR,IAAIlT,EAAO,GAIX,OAHAlF,KAAKm+E,MAAMj5E,KAAKiG,MAAK,SAAU9K,GACX,UAAdA,EAAI4S,QAAoB/N,EAAK3D,KAAKlB,EAAImB,OAASnB,EAAIuF,SAElDV,EAAKmC,KAAK,OAKjBgsH,IAFS1zH,EAAQwxB,QAAQghG,GAAOrQ,GAAS9sG,MAEjC,CACVpP,KAAM,gBACNmE,SAAU,CACR8f,SAAU,SAAUxpB,EAAKyoB,GACvB,IAAIljB,EAAOvF,EAAIuF,MAAQvF,EAAI6G,GACvBA,EAAK,IAAMiD,IAEXyP,EAAQkP,EAAOo8F,iBAAiB7kH,GAEhC2X,EAAO,kDAAqDwe,OAAO5c,EAAO,gDAK9E,MAHgB,YAAZvZ,EAAIiE,MAAsBga,GAAIS,QAAO/G,GAAQ,uBAAwBwe,OAAOoX,GAAQ2C,YAAc,EAAG,qBAAqB/Z,OAAOoX,GAAQ2C,YAAc,EAAG,SAC9Jv4B,GAAQ,gBAEQ,YAAZ3X,EAAIiE,MACN0T,GAAQ,GAAGwe,OAAO1N,EAAOy8F,eAAe,YAAa,kBAAmB/uF,OAAO5c,EAAO,aAAe4c,OAAOtvB,EAAI,YAAcsvB,OAAO5wB,EAAM,iCAAoC4wB,OAAO1N,EAAOk3F,SAAS3/G,EAAImB,OAAQ,eAC3MsnB,EAAO61F,aAAat+G,EAAK2X,EAAM9Q,IAC1B8Q,EAAO8Q,EAAO61F,aAAat+G,IAE3CizH,UAAW,SAAUrM,GACnB,OAAO5+F,GAASU,OAAOk+F,IAEzB3iH,KAAM,QAER0F,MAAO,SAAU/C,GACf,IAAI2e,EAAQ5lB,KAERsE,EAAO2C,EAAO3C,MAAQtE,KAAK+J,SAASzF,KACxCtE,KAAKgwB,SAAS7X,WAAa,aAAe7T,EAE9B,YAARA,UACK2C,EAAO0e,MACd1e,EAAO6S,OAAS7S,EAAO6S,QAAU,EACjC7S,EAAOu0B,UAAYv0B,EAAOu0B,WAAa,GACvCx7B,KAAK+hC,aAAc,IAGnB/hC,KAAKuzH,SAAW9mG,GAAQniB,SAAU,mBAAmB,WAC/Csb,EAAMiF,MAAMmN,SAAS1tB,SAASo2C,eAAegvE,YAAY9pG,EAAM4tG,eAErExzH,KAAK6M,YAAY,cAAc,WAC7Byf,GAAY1G,EAAM2tG,cAKtBvzH,KAAK6M,YAAY,YAAY,WAC3B,OAAO+Y,EAAM4tG,eAEfxzH,KAAK6M,YAAY,iBAAiB,WAChC+Y,EAAM6tG,aAEI,CAAC,SAAU,QAAS,OAAQ,QAAS,MAAO,QAAS,SAC3Dn3F,SAAQ,SAAUriB,GACpB,OAAOsS,GAAO3G,EAAM8M,eAAgBzY,GAAI,WACtC,OAAO2L,EAAM4tG,kBAIjB5tG,EAAM8tG,cAAa,OAGvB7rF,SAAU,WACRi+E,GAAKz8E,IAAIxB,SAASj/B,MAAM5I,KAAMsG,WAE9BtG,KAAKyzH,cAEPnP,YAAa,SAAUx2G,GACrB,MAAc,QAAVA,EAAExJ,KAAuBwhH,GAAKz8E,IAAIi7E,YAAY17G,MAAM5I,KAAMsG,WACvD,IAETm/G,gBAAiB,SAAUlsG,GACzB,MAA2B,YAAvBvZ,KAAKoN,UAAU9I,KAA2BiV,EAAMvZ,KAAKwuG,gBAAkBxuG,KAAKoN,UAAUqhC,aAAe,GAClGq3E,GAAKz8E,IAAIo8E,gBAAgB78G,MAAM5I,KAAMsG,YAE9CosB,aAAc,WACZ,OAAO1yB,KAAKiqB,SAASiN,cAAqC,QAAvBl3B,KAAKoN,UAAU9I,KAAiB,QAAU,aAE/EqvH,kBAAmB,WACjB,OAAO3zH,KAAKiqB,SAASiN,cAAc,0BAErCw8F,aAAc,SAAUz9G,GACtB,IAAIq9G,EAAYtzH,KAAK2zH,oBAAoBrkB,kBAErC2X,EAAUjnH,KAAKoY,YAEfnC,GAAQgxG,IAAYjnH,KAAK4zH,WAAa,OACxC5zH,KAAK4zH,UAAY3M,EAEjBqM,EAAU78G,UAAYzW,KAAKoN,UAAUkmH,UAAU1qH,MAAM5I,KAAM,CAACinH,IAAY,WAG5E4M,cAAe,WACb,IAAIP,EAAYtzH,KAAK2zH,oBAEM,QAAvB3zH,KAAKoN,UAAU9I,OAAgBgvH,EAAYA,EAAUhkB,mBACzD,IAAI2X,EAAUjnH,KAAK0yB,eACnB4gG,EAAUr6G,UAAYguG,EAAQhuG,UAC9Bq6G,EAAUn6G,WAAa8tG,EAAQ9tG,YAEjCs6G,WAAY,WACV,GAAIzzH,KAAK+/G,iBAAmB//G,KAAKgqB,YAAa,CAC5C,IAAIoN,EAAQp3B,KAAK0yB,eAEbohG,EAAkB9zH,KAAK2zH,oBAAoBn8G,MAE/Cs8G,EAAgBt6G,KAAO4d,EAAMuoC,WAAa,KAC1Cm0D,EAAgBv6G,IAAM6d,EAAMwoC,UAAY,KACxCk0D,EAAgBh6G,OAASsd,EAAMte,wBAAwBgB,OAAS,OAGpE05G,UAAW,WACTtqH,GAAM,WACAlJ,KAAKqJ,cAETrJ,KAAK0zH,eAEL1zH,KAAK6zH,mBACJ7zH,SAKH+zH,IAFSp0H,EAAQwxB,QAAQkiG,GAAOxJ,GAAS1mE,WAAY2iE,GAAK9wG,MAElD,CACVpP,KAAM,YACNmE,SAAU,CACR6P,MAAO,IACPi1E,OAAO,EACPuD,SAAS,EACT4hC,OAAM,WAAajuH,KAAKwF,EAAKyiF,aAE/Bl8D,MAAO,WACLwyE,GAAOj7D,IAAIvX,MAAM1vB,KAAKpC,MACtBA,KAAK+J,SAAS82D,OAASjzB,GAAQ2B,aAAazN,KAC5C9hC,KAAK+J,SAAS0mC,QAAU7C,GAAQ+B,cAAc3S,OAEhDhzB,MAAO,SAAU/C,GACf,IAAI2e,EAAQ5lB,KAEZA,KAAK6qB,MAAM1S,WAAa,mBACxB,IAAIsF,EAAO,GACPu2G,EAAUhrH,EAAY/B,EAAO+sH,QAA0Bh0H,KAAK+J,SAASiqH,OAA9B/sH,EAAO+sH,OAC9CnlC,EAAS7lF,EAAY/B,EAAO4nF,OAAwB7uF,KAAK+J,SAAS8kF,MAA7B5nF,EAAO4nF,MAC5CuD,EAAUnrF,EAAOmrF,SAAWpyF,KAAK+J,SAASqoF,QAE9C,GAAIppF,EAAY/B,EAAO6S,QAAS,CAC9B,IAAIm6G,EAAQ,EAAY,EAARplC,EAAY,EAAc,EAAVuD,EAAgC,IAAhBnrF,EAAOu2B,OACvDv2B,EAAO6S,OAAS8zB,GAAQW,YAAc0lF,GAAShtH,EAAO45D,QAAU7gE,KAAK+J,SAAS82D,SAAWozD,EAAQ,GAAiD,GAA3ChtH,EAAOwpC,SAAWzwC,KAAK+J,SAAS0mC,SAGzIhzB,EAAKlc,KAAKvB,KAAKk0H,UAAUrlC,EAAOuD,EAAS4hC,IACzCv2G,EAAKlc,KAAKqH,MAAM6U,EAAM3b,EAAmB9B,KAAKm0H,YAAYtlC,EAAOuD,EAAS4hC,KACtE/sH,EAAOu2B,QAAQ/f,EAAKlc,KAAKvB,KAAKo0H,kBAClCntH,EAAOwW,KAAO,CAAC,CACbzI,KAAM,OACN2b,SAAUlT,EACVgzB,QAAS,EACTrV,YAAY,EACZkuB,GAAI,CACF+qE,SAAU,SAAU3wH,EAAGinH,EAAG78G,GACxB,OAAO8X,EAAM0uG,iBAAiBxmH,OAIpC9N,KAAKslB,OAAO/jB,MAAK,WACfvB,KAAKu0H,MAAQv0H,KAAK2+B,UAAU,QAC5B,IAAIn9B,EAAQxB,KAAKoN,UAAU5L,MACvBA,GAAOxB,KAAK6hC,SAASrgC,EAAO,YAIpCqgC,SAAU,SAAUrgC,EAAOyF,GACzBzF,EAAQxB,KAAKi6G,cAAcz4G,GAC3B,IAAIkmC,EAAW1nC,KAAKoN,UAAU5L,MAEzB6wF,GAAMV,MAAMnwF,EAAOkmC,KACtB1nC,KAAKoN,UAAU5L,MAAQA,EACvBxB,KAAKm6G,UAAU34G,GACfxB,KAAK8M,UAAU,WAAY,CAACtL,EAAOkmC,EAAUzgC,MAGjDgzG,cAAe,SAAUz4G,GAEvB,MADqB,iBAAVA,IAAoBA,EAAQ+J,EAAKsmG,oBAAoBrwG,IACzDA,GAAS6wF,GAAMM,SAAS,IAAInqF,OAErC2xG,UAAW,SAAU34G,GACnB,IAAInB,EAAM,GACVA,EAAIyuF,QAAUzuF,EAAIm0H,SAAWhzH,EAAMiyF,aAC/BzzF,KAAKoN,UAAUyhF,QAAOxuF,EAAIo0H,OAASp0H,EAAIwuF,MAAQrtF,EAAMgyF,YACrDxzF,KAAKoN,UAAUglF,UAAS/xF,EAAIq0H,SAAWr0H,EAAI+xF,QAAU5wF,EAAMkyF,cAE3D1zF,KAAKoN,UAAU4mH,SACZhrH,EAAY3I,EAAIwuF,SACnBxuF,EAAIs0H,SAAWt0H,EAAIwuF,MAAQ,GAAKtjF,EAAK6iF,GAAG,GAAK7iF,EAAK4iF,GAAG,GACrD9tF,EAAIwuF,MAASxuF,EAAIwuF,OAAsB,IAAbxuF,EAAIwuF,MAAmBxuF,EAAIwuF,MAAQ,GAAjB,GAC5CxuF,EAAIo0H,OAAsB,IAAbp0H,EAAIwuF,MAAc,EAAIxuF,EAAIwuF,QAI3C7uF,KAAKu0H,MAAM7tG,UAAUrmB,GAAK,EAAO,SAEnCi0H,iBAAkB,SAAUrtH,GAC1B,IAAI++B,EAAShmC,KAAKigH,YACdjuD,EAAOhyD,KAAKoN,UAAU5L,MAAQ6wF,GAAM9sC,KAAKvlD,KAAKoN,UAAU5L,OAAS,IAAIgH,KACzEwpD,EAAK8iC,SAAS9uD,EAAO6oD,OAAS,GAC9B78B,EAAKkjC,WAAWlvD,EAAO8oD,SACnB9uF,KAAKoN,UAAUglF,SAASpgC,EAAKmjC,WAAWnvD,EAAOosD,SACnDpyF,KAAK6hC,SAASmwB,EAAM/qD,IAEtBg5G,UAAW,WACT,IAAIj6E,EAAShmC,KAAKu0H,MAAM9vF,YAMxB,OAJIzkC,KAAKoN,UAAU4mH,QAAUh0H,KAAKoN,UAAUyhF,QACtC7oD,EAAO2uF,UAAYppH,EAAK6iF,GAAG,IAAMpoD,EAAO6oD,MAAQ,GAAI7oD,EAAO6oD,OAAwB,EAAf7oD,EAAO6oD,MAAY,IAAI1sF,WAAoB6jC,EAAO2uF,UAAYppH,EAAK4iF,GAAG,IAAsB,IAAhBnoD,EAAO6oD,QAAa7oD,EAAO6oD,MAAQ,IAGlL7oD,GAET5tB,SAAU,WACR,GAAIpY,KAAKoN,UAAU6uD,aAAc,CAC/B,IAAIj2B,EAAShmC,KAAKigH,YACd3wG,EAAM,GAIV,OAHI02B,EAAO6oD,OAAOv/E,EAAI/N,KAAKykC,EAAO6oD,OAC9B7oD,EAAO8oD,SAASx/E,EAAI/N,KAAKykC,EAAO8oD,SAChC9oD,EAAOosD,SAAS9iF,EAAI/N,KAAKykC,EAAOosD,SAC7B9iF,EAAIjI,KAAK,KACX,OAAOrH,KAAKoN,UAAU5L,OAE/B0yH,UAAW,SAAUrlC,EAAOuD,EAAS4hC,GACnC,IAAIx0C,EAAS,CAAC,GAAIx/E,KAAK40H,SAAS,WAAY,IACxCnsD,EAAY,CACdntD,IAAK,uBACLuO,SAAU,IACVuR,YAAY,EACZxhB,MAAO,IAKT,GAHIi1E,GAAOrP,EAAOx0E,OAAO,EAAG,EAAGhL,KAAK40H,SAAS,QAASZ,GAASnsH,EAAK4gE,IAChE2pB,GAAS5S,EAAOx0E,QAAO,EAAI,EAAGnD,EAAK4gE,GAAYzoE,KAAK40H,SAAS,YAE7DZ,GAAUnlC,EAAO,CACnB,IAAIV,EAAK5iF,EAAK4iF,GAAG,GACbC,EAAK7iF,EAAK6iF,GAAG,GACb8wB,EAAU,CACZlqG,KAAM,QACNpP,KAAM,WACN0V,IAAK,iBACLuO,SAAU,yIACVw2F,WAAY,GACZ/2D,GAAI,CACFurE,YAAa,WACX70H,KAAK6hC,SAAS7hC,KAAKoY,YAAc+1E,EAAKC,EAAKD,EAAI,SAEjD2mC,WAAY,SAAUhsH,EAAM/D,GAC1B/E,KAAK+oC,YAAYjgC,EAAM/D,MAI7By6E,EAAOx0E,QAAO,EAAI,EAAGk0G,GAGvB,MAAO,CACL56G,KAAM,QACNssB,KAAM4uD,IAGVo1C,SAAU,SAAUhvH,EAAMouH,GACxB,IAAIhuG,EAAShmB,KAET0b,EAAe,UAAT9V,EAAmBouH,EAAS,GAAK,GAAK,GAChD,MAAO,CACLh/G,KAAM,OACN4E,MAAOyB,GAAY,MAAMzB,MAAQ,EAAIg0B,GAAQ2C,YAAc,EAAI3C,GAAQa,aACvE7oC,KAAMA,EACNo+B,OAAQ,CACN5yB,MAAO,SAAUnI,GAEf,OADS,IAALA,GAAoB,UAATrD,GAAoBouH,IAAQ/qH,EAAI,MACxCA,EAAExH,OAAS,EAAIwH,EAAEyB,QAAO,KAAO,IAAMzB,GAAK,GAEnDk1D,KAAM,SAAUl1D,GAEd,OADIA,GAAK,GAAc,UAATrD,GAAoBouH,EAAQ/qH,EAAI,GAAYA,EAAI,EAAGA,EAAI,EAAWA,EAAIyS,IAAKzS,EAAIyS,GAClE,KAAnBzS,EAAI,IAAIxH,OAAe,IAAMwH,EAAIA,EAAI,IAAM,OAGvDqgD,GAAI,CACF+qE,SAAU,SAAUU,GAClB,IAAIrxH,EAAiE,IAA5DswH,GAAmB,UAATpuH,GAAsBmvH,GAAY,IAANA,EAAgBA,EAAJ,GAE3D/uG,EAAOuuG,MAAM5jG,SAAS,IAAM/qB,GAAMi8B,SAASn+B,EAAG,YAKtDywH,YAAa,SAAUtlC,EAAOuD,EAAS4hC,GACrC,IAAIgB,EAAU,CAACh1H,KAAKi1H,WAAW,UAAW1pH,EAAKijF,SAASM,QAAS,KAOjE,OALID,GACFmmC,EAAQ1nH,QAAQtN,KAAKi1H,WAAW,QAAS1pH,EAAKijF,SAASK,MAAOmlC,EAAS,GAAK,KAG1E5hC,GAAS4iC,EAAQzzH,KAAKvB,KAAKi1H,WAAW,UAAW1pH,EAAK4mF,UAAUC,QAAS,GAAI4hC,IAC1EgB,GAETC,WAAY,SAAUrvH,EAAMuzB,EAAOzd,EAAKs4G,GACtC,IAAI5tG,EAASpmB,KAETi4G,EAAoB,UAATryG,GAAoBouH,EAqBnC,MApBa,CACXh/G,KAAM,SACNpP,KAAM,IAAMA,EACZuzB,MAAOA,EACP6xF,WAAW,EACX9nG,IAAK,EACLxH,IAAKA,EACL4tC,GAAI,CACF+qE,SAAU,SAAUU,GAClB3uG,EAAOmuG,MAAM5jG,SAAS/qB,GAAMi8B,UAAUo2E,EAAY8c,GAAY,IAANA,EAAgBA,EAAK,GAAV,GAAeA,GAAM,GAAI,SAE9FG,aAAc,WACZ,IAAIH,EAAK/0H,KAAKoY,WACV0pB,EAAO9hC,KAAKy+B,cAChBqD,EAAK11B,aACL01B,EAAKnR,SAAS/qB,GAAMi8B,UAAUo2E,EAAY8c,GAAY,IAANA,EAAgBA,EAAK,GAAV,GAAeA,GAAM,GAAI,QACpFjzF,EAAKx1B,mBAMb8nH,eAAgB,WACd,IAAIrtG,EAAS/mB,KAEb,MAAO,CACLgV,KAAM,SACNxT,MAAO+J,EAAKijF,SAASltF,KACrBga,IAAK,gBACLe,MAAO,WACL0K,EAAOja,UAAU,eAAgB,CAACia,EAAO3Z,UAAU5L,aAOvD2zH,IAFSx1H,EAAQwxB,QAAQ4iG,GAAOzvB,GAAOtvF,MAE/B,CACVpP,KAAM,UACNmE,SAAU,CACRy0C,WAAW,EACXl6C,KAAM,OACN86B,gBAAiB,EACjBrmB,KAAM,CACJ60G,OAAQ,GACRzqE,YAAY,EACZpqC,MAAM,EACN2kB,QAAQ,EACRtC,YAAY,EACZsrC,YAAY,GAEdr7D,OAAQ,SAAU4R,EAAMzb,GACtB,OAAyE,IAArEyb,EAAKzb,MAAMW,WAAWqE,cAAcmG,QAAQnL,EAAMgF,iBAI1D6jB,gBAAiBhC,GACjB+sG,cAAe,SAAU5zH,GACvB,OAAOgJ,EAAUhJ,EAAOxB,KAAKyM,SAE/B4oH,oBAAoB,EACpBrrH,MAAO,SAAU3J,GACf,IAAIqP,EAAO,GACX/P,EAAQ8J,OAAOiG,EAAM7H,EAAK7H,KAAK+J,SAASgP,OACxCrJ,EAAKsF,KAAO3U,EAAIiE,MAAQtE,KAAK+J,SAASzF,KAEtC,IAAIgxH,EAAQt1H,KAAKu1H,qBAAqB7lH,GAElCrP,EAAI0Y,MAAMpZ,EAAQ8J,OAAO6rH,EAAOj1H,EAAI0Y,MAAM,GAC1C1Y,EAAI6E,OAAMowH,EAAMpwH,KAAO7E,EAAI6E,MAC3B7E,EAAIoR,MAAK6jH,EAAM7jH,IAAMpR,EAAIoR,KACzBpR,EAAIglB,WAAUiwG,EAAMjwG,SAAWhlB,EAAIglB,UACnChlB,EAAI6G,KAAIwI,EAAKxI,GAAKwI,EAAKxI,IAAM7G,EAAI6G,GAAK,IAAMwI,EAAKsF,MACrD3U,EAAI0Y,KAAOrJ,EACX1P,KAAKslB,OAAO/jB,KAAKvB,KAAKw1H,qBACtBx1H,KAAK6M,YAAY,UAAU,WACzB,GAAI7M,KAAKoN,UAAUhC,OAAQ,CACzB,IAAIA,EAASyjB,GAAG7uB,KAAKoN,UAAUhC,QAE/B,GAAIA,GACSA,EAAOqqH,aAAerqH,EAAOqqH,eAAiBrqH,EAAOsnB,gBAC3Djb,aAAa,gBAAiB,QAIrCzX,KAAK01H,sBAGT11H,KAAK6M,YAAY,UAAU,WACzB,GAAI7M,KAAKoN,UAAUhC,OAAQ,CACzB,IAAIA,EAASyjB,GAAG7uB,KAAKoN,UAAUhC,QAE/B,GAAIA,GACSA,EAAOqqH,aAAerqH,EAAOqqH,eAAiBrqH,EAAOsnB,gBAC3Djb,aAAa,gBAAiB,aAIzCzX,KAAK21H,UAAY,IAEnBJ,qBAAsB,SAAUl1H,GAC9B,OAAOA,GAETu1H,aAAc,SAAU3uH,GACtB,OAAO+B,EAAY/B,GAAU,KAAO,CAClCA,OAAQA,IAGZ4uH,iBAAkB,SAAU1vH,GAC1BnG,KAAK08D,mBAAmBl7D,MAAQ2E,GAElC2vH,uBAAwB,SAAU5wH,GAChC,IACImF,EADAlE,EAAOjB,EAAKgC,GAAKlH,KAAK68D,YAAY33D,EAAKgC,IAAMhC,EAAKiB,MAAQjB,EAAK1D,MAGnE,GAAIxB,KAAKoN,UAAUhC,OAAQ,CACzB,IAAIA,EAASyjB,GAAG7uB,KAAKoN,UAAUhC,QAG/B,GAFAf,EAAOe,EAAOsnB,eAEJ,CAER,IAAIqjG,EAAY3qH,EAAOgC,UAAUjH,KAC7BiF,EAAO86G,eAAgB96G,EAAO+uG,UAAUj1G,EAAK0kB,OAAS,GAAK1kB,EAAKgC,IAAakE,EAAO4qH,cAAe5qH,EAAO4qH,cAAc7vH,EAAMjB,EAAMlF,KAAK41H,gBAAqBxqH,EAAO+uG,UAAUh0G,GACnLiF,EAAOgC,UAAUjH,KAAO4vH,QAEjB/1H,KAAK08D,oBAAoB18D,KAAK61H,iBAAiB1vH,IAE1DkE,EAAOA,GAAQrK,KAAK08D,qBACVryD,EAAKuS,SAEjBy9C,eAAgB,SAAUn1D,EAAMilB,EAASljB,GACvC,IAAId,EAAOjB,EAAKgC,GAAKlH,KAAK68D,YAAY33D,EAAKgC,IAAMhC,EAAKiB,MAAQjB,EAAK1D,MAEnE,GAAIxB,KAAKoN,UAAUhC,OAAQ,CACzB,IAAIA,EAASyjB,GAAG7uB,KAAKoN,UAAUhC,QAC3B+e,GAAWjlB,EAAKgC,GAAIkE,EAAO+e,UAAmB/e,EAAO86G,eAAgB96G,EAAOy2B,SAAS38B,EAAK0kB,OAAS,GAAK1kB,EAAKgC,GAAID,GAAiBmE,EAAOu6G,aAAcv6G,EAAOu6G,aAAax/G,EAAMjB,EAAMlF,KAAK41H,aAAa3uH,IAAcmE,EAAOy2B,SAAS17B,EAAMc,QACxOjH,KAAK08D,oBAAoB18D,KAAK61H,iBAAiB1vH,GAErDgkB,IACHnqB,KAAK00B,OACD10B,KAAK08D,oBAAoB18D,KAAK08D,mBAAmB9/C,SAGvD5c,KAAK8M,UAAU,iBAAkB,CAAC5H,EAAMiB,KAE1C8vH,eAAgB,WACd,OAAIj2H,KAAKoN,UAAUhC,OAAeyjB,GAAG7uB,KAAKoN,UAAUhC,QAAQgN,WACrD,MAET89G,UAAW,SAAU/vH,GACnB,IAAIqrD,EAAOxxD,KAAKu8D,UAEhB,IAAK,IAAIlrD,KAAOmgD,EAAKtsD,KAAKklB,KAAM,CAC9B,IAAI/pB,EAAMmxD,EAAK1tB,QAAQzyB,GACvB,GAAIrR,KAAKoN,UAAU/B,OAAOjJ,KAAKpC,KAAMK,EAAK8F,GAAO,OAAO9F,EAAI6G,KAGhE21D,YAAa,SAAU31D,GACrB,IAAI+V,EAAOjd,KAAKu8D,UAAUz4B,QAAQ58B,GAClC,IAAK+V,EAAM,OAAOjd,KAAK21H,UAAUzuH,IAAO,GACxC,GAAIlH,KAAKoN,UAAUyc,SAAU,OAAO7pB,KAAKoN,UAAUyc,SAASznB,KAAKpC,KAAMid,EAAMjd,KAAKsE,MAClF,GAAItE,KAAKoN,UAAUyiH,UAAW,MAAO,GAAK5yG,EAAKjd,KAAKoN,UAAUyiH,WAC9D,IAAIvrH,EAAOtE,KAAKu8D,UAAUj4D,KACtB6B,EAAO7B,EAAKulB,SAASznB,KAAKkC,EAAM2Y,EAAM3Y,GAC1C,OAAOtE,KAAK21H,UAAUzuH,GAAMf,GAE9B22D,cAAe,SAAU32D,GACvB,IAAIe,EACAsqD,EAAOxxD,KAAKu8D,UACZ7kC,EAAQ85B,EAAKtsD,KAAKwyB,MAGtB,OAFI85B,EAAKhuB,gBAAet8B,EAAKsqD,EAAKhuB,iBAE9Br9B,GAAQuxB,EAAMj2B,UAAYyF,GAAMwwB,EAAMxsB,KAAKhE,GAAM,KACnDA,EAAKwwB,EAAM,IAEN85B,EAAKvqD,OAAOkgB,WAAannB,KAAKiH,OAAOoE,OAAOjJ,KAAKpC,KAAMwxD,EAAKtsD,KAAKklB,KAAKljB,GAAKf,KAI9Ee,IACiB,UAAfjH,EAAQiH,KAAiBA,GAAU,IACnCsqD,EAAK1tB,QAAQ58B,GAAI0iB,QANyE,KASzF1iB,GAETq1D,QAAS,WACP,OAAOv8D,KAAK2uB,YAEd6mG,oBAAqB,WACnB,IAAIhkE,EAAOxxD,KAAKu8D,UACZj4D,EAAOtE,KAAKoN,UAAU9I,KAEtBktD,EAAK7/C,OACP6/C,EAAK3kD,YAAY,cAAepE,GAAK,SAAUwU,GAC7Cjd,KAAKq6D,eAAe7I,EAAK1tB,QAAQ7mB,IAAO,EAAO,UAC9Cjd,OACHwxD,EAAKtsD,KAAK2H,YAAY,iBAAkBpE,GAAK,SAAUvB,EAAI7G,EAAKyR,GAClD,UAARA,GAAoB5K,GAAMlH,KAAKi2H,iBAAkBj2H,KAAKq6D,eAAe,CACvEnzD,GAAI,GACJf,KAAM,KACL,EAAM,QAAyB,UAAR2L,GAAoB5K,GAAMlH,KAAKi2H,kBACvDj2H,KAAKq6D,eAAeh6D,GAAK,EAAM,UAEhCL,OACHwxD,EAAKtsD,KAAK2H,YAAY,gBAAiBpE,EAAKzI,KAAKm2H,sBAAuBn2H,OACxEwxD,EAAKtsD,KAAK2H,YAAY,cAAepE,EAAKzI,KAAKm2H,sBAAuBn2H,OAClEgJ,EAAYhJ,KAAKoN,UAAUgpH,aAAYp2H,KAAKoN,UAAUgpH,WAAY,IACrD,YAAR9xH,GACTktD,EAAK3kD,YAAY,qBAAqB,WACpC7M,KAAKmvB,gBAAgBkrC,eAAe,CAClC74D,MAAOgwD,EAAKwhD,mBACXxhD,EAAKvqD,OAAOm2D,YAAa,WAE9B5L,EAAK3kD,YAAY,cAAc,SAAUmlD,GACvChyD,KAAKmvB,gBAAgBkrC,eAAe,CAClC74D,MAAOwwD,IACN,EAAO,WAEZR,EAAK3kD,YAAY,eAAe,SAAUmlD,GACxChyD,KAAKmvB,gBAAgBkrC,eAAe,CAClC74D,MAAOwwD,IACN,EAAO,YAEK,cAAR1tD,EACTktD,EAAK3kD,YAAY,eAAe,SAAUrL,GACxCxB,KAAKmvB,gBAAgBkrC,eAAe,CAClC74D,MAAOA,IACN,EAAO,WAEK,aAAR8C,EACTktD,EAAK3kD,YAAY,gBAAgB,SAAUrL,GACzCxB,KAAKmvB,gBAAgBkrC,eAAe,CAClC74D,MAAOA,IACN,EAAO,WAEK,eAAR8C,GACTktD,EAAK3kD,YAAY,iBAAiB,SAAUrL,GAC1CxB,KAAKmvB,gBAAgBkrC,eAAe,CAClC74D,MAAOA,IACN,EAAO,YAIhB60H,aAAc,SAAU70H,GAEtB,OADAxB,KAAKw6D,UAAUh5D,GACR,GAETg5D,UAAW,SAAUpjC,GACnB,IAAI/sB,EAEA+sB,EAAM1E,eACRroB,EAAO+sB,EAAM1E,gBACR4jG,gBAAkBl/F,EAAMhqB,UAAUlG,GACvCkwB,EAAMvqB,YAAY,gBAAiBpE,EAAKzI,KAAKu2H,eAAgBv2H,QACxDqK,EAAOD,EAAOgtB,GAErB7K,GAAOliB,EAAM,WAAW,SAAUtF,GAC3BsF,GAAQC,SAASyO,OAAQ/Y,KAAKgqB,cAAiBoN,EAAMnwB,OAAUmwB,EAAMnwB,OAAOsrB,SAAYloB,EAAK2E,aAAa,cAAchP,KAAKw2H,aAAazxH,KAC9I,CACD0D,KAAMzI,OAGJo3B,EAAMq+F,eAAcprH,EAAO+sB,EAAMq+F,gBACrCprH,EAAKoN,aAAa,oBAAqB,QACvCpN,EAAKoN,aAAa,gBAAiB,SAEd,QAAjBpN,EAAKmG,UACPnG,EAAKoN,aAAa,YAAa,aAC/BpN,EAAKoN,aAAa,cAAe,SAGnCzX,KAAKy2H,cAAe,GAEtBD,aAAc,SAAUzxH,GAElB/E,KAAK02H,cAAa12H,KAAK02H,YAAcliG,aAAax0B,KAAK02H,cAC3D,IAAIllE,EAAOxxD,KAAKu8D,UACZ5jD,EAAM5T,EAAE+C,OACZ,IAAI6Q,GAAOrO,SAASyO,MAAS/Y,KAAKgqB,cAAgC,oBAAjBrR,EAAIR,UAArD,CACAnY,KAAK08D,mBAAqB/jD,EAC1B3Y,KAAKoN,UAAUhC,OAASuN,EAAI29G,gBAC5B,IAAIxtH,EAAO/D,EAAE+yB,OAAS/yB,EAAEgzB,QAExB,GAAY,IAARjvB,GAAsB,IAARA,EAAlB,CAEA,GAAY,GAARA,EAAW,OAAO9I,KAAK22H,SAAS5xH,EAAGysD,GAEvC,GAAY,IAAR1oD,EAAY,OAAO9I,KAAK42H,YAAY7xH,EAAGysD,GAE3C,GAAY,IAAR1oD,EAAY,OAAO9I,KAAK62H,UAAU9xH,EAAGysD,GAEzC,GAAIxxD,KAAK82H,UAAU/xH,IAAM/E,KAAKgqB,YAE5B,OADAxP,GAAazV,IACN,EAGT,IAAIgyH,EAAyD,QAAvCp+G,EAAI3J,aAAa,oBAAuE,IAAvC2J,EAAI3J,aAAa,mBACpFhG,EAAY2P,EAAInX,SAAWu1H,IAC/B/2H,KAAK02H,YAAcxtH,GAAM,WAEvB,GAAKlJ,KAAKy2H,cAAgBj6F,GAAUuB,YAAclP,GAAG7uB,KAAKoN,UAAUhC,QAApE,CACApL,KAAKg3H,gBAAiB,EAEtB,IAAIvzH,EAAMszH,EAAkBp+G,EAAIiiF,UAAYjiF,EAAInX,MAC5CxB,KAAKi3H,mBAAmBj3H,KAAKi3H,oBAE7BzlE,EAAKvqD,OAAOkgB,SAAUqqC,EAAKnmD,OAAO,QAAS5H,GAAc+tD,EAAKnmD,QAChEmmD,EAAKnmD,OAAO5C,GAAK,SAAUwU,GACzB,OAAOjd,KAAKoN,UAAU/B,OAAOjJ,KAAKpC,KAAMid,EAAMxZ,KAC7CzD,UAEJA,KAAM,GAAIA,KAAKoN,UAAUgyB,qBAE9B+2F,sBAAuB,WACrB,IAAKn2H,KAAKg3H,eAAgB,OAAO,EACjCh3H,KAAKg3H,gBAAiB,EACXh3H,KAAKu8D,UAGP5qD,QAAU,GACjB3R,KAAKqwB,SACArwB,KAAKgqB,cAAahqB,KAAKk3H,gBAAiB,GAC7Cl3H,KAAKyyB,KAAKzyB,KAAK08D,mBAAoB,MAAM,GACzC18D,KAAKk3H,gBAAiB,IAEtBl3H,KAAK00B,OACL10B,KAAK08D,mBAAqB,OAG9BjqC,KAAM,SAAUpoB,GACd,IAAI+sB,GAAQ/sB,GAAyB,SAAhBA,EAAKmG,SAAsC,YAAhBnG,EAAKmG,QAAgC,KAAPnG,EAE9E,IAAKrK,KAAKgqB,aAAeoN,GAASA,GAASp3B,KAAK08D,mBAAoB,CAClE,IAAIlL,EAAOxxD,KAAKu8D,UAEZ/K,EAAKnmD,SAAWrL,KAAKk3H,gBACvB1lE,EAAKnmD,OAAO,IAGVrL,KAAKm3H,aACPn3H,KAAKm3H,aAAa9sH,GACTA,GAAQA,EAAKmG,SAAWxQ,KAAKoN,UAAUgpH,YAChDp2H,KAAKoN,UAAUwM,MAAQvP,EAAKwP,YAAc,GAGxC23C,EAAK8gD,aAAa9gD,EAAK1nC,SAC3B9pB,KAAKqwB,SAED+G,IAAOp3B,KAAK08D,mBAAqBtlC,GAGvC61E,GAAM5jE,IAAI5W,KAAK7pB,MAAM5I,KAAMsG,YAE7BovH,gBAAiB,WACf,IAAIlkE,EAAOxxD,KAAKu8D,UACZ/6D,EAAQxB,KAAKi2H,iBAEbzkE,EAAK9zB,QAAU8zB,EAAKiL,SAClBj7D,GAASgwD,EAAKjG,QAAUiG,EAAKjG,OAAO/pD,IACtCgwD,EAAK9zB,OAAOl8B,GACZgwD,EAAKiL,SAASj7D,KAEdgwD,EAAK6E,WACL7E,EAAKiL,SAASjL,EAAK9B,eAEZ8B,EAAK3vB,WACV7hC,KAAKoN,UAAUhC,SAAQ5J,EAAQqtB,GAAG7uB,KAAKoN,UAAUhC,QAAQ6uG,cAAcz4G,IAC3EgwD,EAAK3vB,SAASrgC,EAAO,UAGzBq1H,UAAW,SAAU9xH,EAAGysD,GACtB,IACIhwD,EACA4J,EAFAgsH,EAAUp3H,KAAKgqB,YAGfhqB,KAAKoN,UAAUhC,SAAQA,EAASyjB,GAAG7uB,KAAKoN,UAAUhC,SAClDA,GAAUA,EAAO27G,WAAa37G,EAAOgC,UAAUswD,SAAUtyD,EAAOizB,cAAc,QAAiB+4F,IAC7F5lE,EAAK7/C,OACPnQ,EAAQgwD,EAAKhuB,eAAc,GAAO,GACd,GAAhBguB,EAAK7/C,SAAgB6/C,EAAK9B,cAAgBluD,IAAOA,EAAQgwD,EAAK9B,cAC9DluD,IAAOA,EAAQgwD,EAAK1tB,QAAQtiC,MAE5BgwD,EAAKwhD,gBAAiBxxG,EAAQgwD,EAAKwhD,kBAA2BxhD,EAAKp5C,WAAU5W,EAAQgwD,EAAKp5C,YAC1F5W,IAAOA,EAAQ,CACjBA,MAAOA,KAIPA,GAAOxB,KAAKq6D,eAAe74D,GAAO,EAAO,SAE3C41H,EAASp3H,KAAK00B,OAAgB10B,KAAKq1H,oBAAoBr1H,KAAKyyB,KAAKzyB,KAAK08D,qBAE5Ek6D,YAAa,WACX,OAAO52H,KAAK00B,QAEdiiG,SAAU,WACR,OAAO32H,KAAK00B;;;;;AAOdoiG,UAAW,SAAU/xH,GACnB,IAEIG,EAFAssD,EAAOxxD,KAAKu8D,UACZzzD,EAAO/D,EAAE+yB,OAAS/yB,EAAEgzB,QAGxB,GAAIy5B,EAAKsK,eAAiBhzD,EAAO,IAAMA,EAAO,KAAO/D,EAAEg8B,UAAYh8B,EAAEk8B,UAAYl8B,EAAE46B,WAAa56B,EAAEi8B,OAAQ,CAExG,GAAa,KAATl4B,GAAwB,KAATA,EAAa,CAC1B9I,KAAKq1H,qBAAuBr1H,KAAKgqB,aAAahqB,KAAKyyB,KAAKzyB,KAAK08D,oBACjE,IAAIp9B,EAAe,KAATx2B,EAAc,KAAO,OAC/B0oD,EAAKsK,cAAcx8B,GAAK,GAAO,OAE5B,CACD,GAAIkyB,EAAK7/C,QAAU6/C,EAAK7/C,QAAU6/C,EAAKxnC,YAAa,OAAO,EAE3D,IAAI6nC,EAEQ,IAAR/oD,IAAY+oD,EAAO,QACX,IAAR/oD,IAAY+oD,EAAO,UACX,IAAR/oD,IAAY+oD,EAAO,UACX,IAAR/oD,IAAY+oD,EAAO,OACX,IAAR/oD,IAAY+oD,EAAO,QACX,IAAR/oD,IAAY+oD,EAAO,SACvBL,EAAKsK,cAAcjK,GAAM,GAAO,GAUpC,OAPIL,EAAK7/C,MAAOzM,EAAOssD,EAAKse,iBAAgB,IACtCte,EAAKwhD,gBAAiB9tG,EAAOssD,EAAKwhD,kBAA2BxhD,EAAKp5C,WAAUlT,EAAOssD,EAAKp5C,YACxFlT,IAAMA,EAAO,CACf1D,MAAO0D,KAGPA,GAAQlF,KAAKgqB,aAAahqB,KAAK81H,uBAAuB5wH,IACnD,EAGT,OAAO,GAETkT,SAAU,WACR,IAAIo5C,EAAOxxD,KAAKu8D,UACZ/6D,GAASgwD,EAAKp5C,SAAWo5C,EAAKp5C,WAAao5C,EAAKhuB,kBAAoB,GAGxE,GAFAhiC,EAAQA,EAAM0F,IAAM1F,EAEhBgwD,EAAK1tB,QAAS,CAChB,IAAI7mB,EAAOu0C,EAAK1tB,QAAQtiC,GACxB,GAAIyb,GAAQA,EAAK2M,OAAQ,MAAO,GAGlC,OAAOpoB,GAETqgC,SAAU,SAAUrgC,GAClB,IAAIgwD,EAAOxxD,KAAKu8D,UAEZ/6D,EACEgwD,EAAKjG,OAAO/pD,KACdgwD,EAAK9zB,OAAOl8B,GACZgwD,EAAKiL,SAASj7D,KAGhBgwD,EAAK6E,WACL7E,EAAKiL,SAASjL,EAAK9B,gBAGvB6mE,eAAgB,WACd,IAAKv2H,KAAKoN,UAAUmW,QAAUvjB,KAAKoN,UAAUhC,OAAQ,CACnD,IAAIA,EAASyjB,GAAG7uB,KAAKoN,UAAUhC,QAC3BA,GAAQpL,KAAKyyB,KAAKrnB,EAAOyf,WAK/BwsG,GAAU,CACZhuF,IAAK8rF,GACLngH,KAHWrV,EAAQwxB,QAAQgkG,GAAOloB,GAAMj4F,OAM1CrV,EAAQwxB,QAAQ,CACdvrB,KAAM,eACNmE,SAAU,CACR8f,SAAU,qEAEXy4E,GAAWttF,MAEdrV,EAAQwxB,QAAQ,CACdvrB,KAAM,eACNmE,SAAU,CACR8f,SAAU,qEAEXy4E,GAAWttF,MAEdrV,EAAQwxB,QAAQ,CACdvrB,KAAM,cACNmE,SAAU,CACR8f,SAAU,oEAEXy4E,GAAWttF,MAEdrV,EAAQwxB,QAAQ,CACdvrB,KAAM,cACNmE,SAAU,CACR8f,SAAU,oEAEXy4E,GAAWttF,MAEd,IAAIsiH,GAAQ,CACV1xH,KAAM,iBACNmE,SAAU,CACR67G,OAAQ,IACRv6G,OAAQ,SAAUnG,EAAM1D,GACtB,IAAIkiB,EAAI1jB,KAAKoN,UAAUw4G,OAEvB,OAAyB,KADzBpkH,EAAQA,EAAMkgD,UAAU,EAAG1hD,KAAKu3H,mBACtB5qH,QAAQ+W,QAChBliB,EAAQA,EAAMkgD,UAAUlgD,EAAMkvE,YAAYhtD,GAAKA,EAAEjiB,SAEvCA,SAE8D,KAD3DyD,EAAKgC,GAAKlH,KAAK68D,YAAY33D,EAAKgC,IAAMhC,EAAKiB,MAAQjB,EAAK1D,OACvDW,WAAWqE,cAAcmG,QAAQnL,EAAMgF,kBAO3DwD,MAAO,WACLhK,KAAK6M,YAAY,iBAAkB7M,KAAKi3H,oBAE1CJ,UAAW,SAAU9xH,GAGjB,IAAIqG,EAFFpL,KAAKgqB,cACPxP,GAAazV,GAET/E,KAAKoN,UAAUhC,SAAQA,EAASyjB,GAAG7uB,KAAKoN,UAAUhC,SAClDA,GAAUA,EAAO0B,WAAW1B,EAAO0B,UAAU,YAGnD,OAAOuqH,GAAQhuF,IAAIwtF,UAAUjuH,MAAM5I,KAAMsG,YAE3C2wH,kBAAmB,WACbj3H,KAAK08D,qBAAoB18D,KAAKu3H,iBAAmB16G,GAAkB7c,KAAK08D,oBAAoBhgD,QAElGk5G,aAAc,SAAU3uH,GACtB,MAAO,CACL6D,IAAK9K,KAAKu3H,iBACV3R,OAAQ5lH,KAAKoN,UAAUw4G,OACvB3+G,OAAQA,IAGZ6uH,uBAAwB,aACxBD,iBAAkB,SAAU1vH,GAC1B,IAAIud,EAAI1jB,KAAKoN,UAAUw4G,OACnBpkH,EAAQxB,KAAK08D,mBAAmBl7D,MAChCsmC,EAAOtmC,EAAMkgD,UAAU1hD,KAAKu3H,kBAEhC/1H,GADAA,EAAQA,EAAMkgD,UAAU,EAAG1hD,KAAKu3H,mBAClB71E,UAAU,EAAGlgD,EAAMkvE,YAAYhtD,GAAKA,EAAEjiB,QAAU0E,EAC9DnG,KAAK08D,mBAAmBl7D,MAAQA,EAAQsmC,EACxCrrB,GAAkBzc,KAAK08D,mBAAoBl7D,EAAMC,SAEnD4zH,oBAAoB,GAET11H,EAAQwxB,QAAQmmG,GAAOD,GAAQriH,MAE5CrV,EAAQwxB,QAAQ,CACdvrB,KAAM,YACNmE,SAAU,CACR8f,SAAU,kEAEXy4E,GAAWttF,MAEd,IAAIwiH,GAAQ,CACV5xH,KAAM,mBACNmE,SAAU,CACRzF,KAAM,YACNyU,KAAM,CACJ/D,KAAM,YACNmoD,OAAO,EACP3/B,QAAQ,EACRpC,YAAY,IAGhBhjB,SAAU,WACR,OAAOpY,KAAKmtD,WAAW/0C,YAEzBypB,SAAU,SAAUrgC,EAAOyF,GACzBjH,KAAKmtD,WAAWtrB,SAASh6B,EAAKrG,GAAQyF,IAExCkmD,SAAU,WACR,OAAOntD,KAAK67B,WAEd47F,UAAW,WACT,OAAOz3H,KAAK67B,UAAUnN,gBAAgB,GAAGA,gBAAgB,IAE3DgpG,UAAW,SAAUl2H,GACnB,IAAI4J,EAASyjB,GAAG7uB,KAAKoN,UAAUhC,QAC3BA,GAAQA,EAAOy2B,SAASrgC,EAAO,SAErCg0H,oBAAqB,WACnB,IAAI3xG,EAAQ7jB,KAAKmtD,WACjBtpC,EAAMhX,YAAY,oBAAqBpE,GAAK,SAAUjH,GACpDxB,KAAK03H,UAAUl2H,KACdxB,OACH6jB,EAAMhX,YAAY,cAAepE,GAAK,SAAUjH,GAC9CxB,KAAK03H,UAAUl2H,KACdxB,OACH6jB,EAAMhX,YAAY,aAAcpE,GAAK,SAAUjH,GAC7CxB,KAAK03H,UAAUl2H,KACdxB,SAGML,EAAQwxB,QAAQqmG,GAAOH,GAAQriH,MAE5CrV,EAAQwxB,QAAQ,CACdvrB,KAAM,kBACNmE,SAAU,CACR8f,SAAU,wEAEXy4E,GAAWttF,MAEdrV,EAAQwxB,QAAQ,CACdvrB,KAAM,WACNmE,SAAU,CACR8f,SAAU,iEAEXy4E,GAAWttF,MAEdrV,EAAQwxB,QAAQ,CACdvrB,KAAM,cACNmE,SAAU,CACR8f,SAAU,oEAEXy4E,GAAWttF,MAEdrV,EAAQwxB,QAAQ,CACdvrB,KAAM,SACNmE,SAAU,CACR8f,SAAU,+DAEXy4E,GAAWttF,MAEdrV,EAAQwxB,QAAQ,CACdvrB,KAAM,YACNmE,SAAU,CACR8f,SAAU,kEAEXy4E,GAAWttF,MAOd,IA2DI2iH,GAAQC,GA3DRC,GAAQ,CACVjyH,KAAM,QACNoE,MAAO,SAAU/C,GACVA,EAAOC,KAAID,EAAOC,GAAKiD,KAC5BnK,KAAKslB,OAAO/jB,KAAKvB,KAAK83H,cAExBA,YAAa,WACX,IAAIhqH,EAAI9N,KAAKoN,UAQb,GAPApN,KAAKkjC,YAAcprB,GAAO,QAAS,CACjC0D,MAAS,mBACThE,MAAS,0BACTugH,WAAc,cACb,IACCjqH,EAAEkqH,SAAQh4H,KAAKkjC,YAAY80F,OAASlqH,EAAEkqH,QAEtClqH,EAAE0T,IAAK,CACa,UAAlBvhB,EAAQ6N,EAAE0T,OAAkB1T,EAAE0T,IAAM,CAAC1T,EAAE0T,MAE3C,IAAK,IAAI9gB,EAAI,EAAGA,EAAIoN,EAAE0T,IAAI/f,OAAQf,IAChCV,KAAKkjC,YAAYzsB,WAAa,iBAAoB3I,EAAE0T,IAAI9gB,GAAK,KAI7DoN,EAAEszB,WAAUphC,KAAKkjC,YAAY9B,UAAW,GACxCtzB,EAAEmqH,WAAUj4H,KAAKkjC,YAAY+0F,UAAW,GAE5Cj4H,KAAKgwB,SAAStY,YAAY1X,KAAKkjC,cAEjCg1F,SAAU,WACR,OAAOl4H,KAAKkjC,aAEdn5B,SAAU,CACRyX,IAAK,GACL4f,UAAU,IAGDzhC,EAAQwxB,QAAQ0mG,GAAOluF,GAAO30B,MAE3CrV,EAAQwxB,QAAQ,CACdvrB,KAAM,OACNmE,SAAU,CACR8f,SAAU,6DAEXy4E,GAAWttF,MAEdrV,EAAQwxB,QAAQ,CACdvrB,KAAM,UACNmE,SAAU,CACR8f,SAAU,gEAEXy4E,GAAWttF,MAEdrV,EAAQwxB,QAAQ,CACdvrB,KAAM,cACNmE,SAAU,CACR8f,SAAU,oEAEXy4E,GAAWttF,MAGd,IA0MImjH,GAAUC,GA1MVC,GAAQ,CACVzyH,KAAM,WACNmE,SAAU,CACRuuH,MAAO,CACLC,YAAa,OACbC,OAAQ,QACRC,WAAY,cAGhBzuH,MAAO,SAAU/C,GACfjH,KAAK6qB,MAAMpU,UAAY,uEACvBzW,KAAKkjC,YAAcljC,KAAK6qB,MAAMna,WAC9B1Q,KAAK04H,SAAWv1H,EAASuC,QACzBuB,EAAOqxH,MAAQ34H,EAAQ8J,OAAOxC,EAAOqxH,OAAS,GAAIt4H,KAAK+J,SAASuuH,OAChEt4H,KAAKkF,KAAK6rD,WAAW/wD,MAAM,GAC3BA,KAAKslB,OAAO/jB,KAAKvB,KAAK8pB,QACtB9pB,KAAKkF,KAAK2H,YAAY,aAAcpE,EAAKzI,KAAK24H,gBAAiB34H,OAC/DA,KAAKkF,KAAK2H,YAAY,iBAAkBpE,EAAKzI,KAAK44H,UAAW54H,QAE/D64H,OAAQ,SAAUC,GAChB,OAAOA,EAAU94H,KAAK04H,SAAW14H,KAAK2kE,MAExCo0D,aAAc,SAAUlkF,GACtB,OAAOpsC,GAAK,WACU,mBAATosC,GAAqBA,IAChC8iF,GAASA,IAAUn1H,OAAOm1H,OAE1B33H,KAAKg5H,aACJh5H,OAEL8pB,OAAQ,gBACsB,IAAjBtnB,OAAOm1H,aAAwD,IAAxBn1H,OAAOm1H,OAAOsB,QACzDrB,MACHA,GAASttH,SAASkM,cAAc,WACzBlS,KAAO,kBACdszH,GAAOp2G,IAAM,qCACblX,SAAS4D,qBAAqB,QAAQ,GAAGwJ,YAAYkgH,KAGvDA,GAAOv2G,OAASrhB,KAAK+4H,aAAanB,GAAOv2G,SAEzCrhB,KAAK+4H,cAAL/4H,IAEJg5H,SAAU,WACHrB,GAAOuB,eAAkBvB,GAAOuB,cAAcC,UASjDn5H,KAAK2kE,KAAO,IAAIgzD,GAAOuB,cAAcC,SAASn5H,KAAKkjC,aAEnDljC,KAAKo5H,aAELp5H,KAAK04H,SAAS30H,QAAQ/D,KAAK2kE,QAZ3BgzD,GAAOsB,OAAO7kH,KAAK,UAAW,CAC5BilH,SAAY,CAAC,YACbC,WAAct5H,KAAKoN,UAAUiE,MAE/BsmH,GAAOsB,OAAOM,kBAAkB9wH,GAAK,WACnCzI,KAAKg5H,aACJh5H,SASP4mB,QAAS,SAAUvmB,GACjB,OAAKL,KAAK2kE,OACR3kE,KAAK04H,SAASr1H,KAAKoF,GAAK,WACtBzI,KAAKoR,MAAM/Q,EAAKL,KAAKoN,UAAUiY,YAC9BrlB,QAEI,IAKX44H,UAAW,WACT,GAAK54H,KAAK2kE,KAAV,CAKA,IAAI7mD,EAAU9d,KAAKukF,UAAYvkF,KAAKukF,SAAS9iF,OAASzB,KAAKukF,SAAWvkF,KAAKw5H,iBACvEt0H,EAAO,GAaX,GAZAlF,KAAKkF,KAAKiG,MAAK,SAAU9K,GAGvB,IAFA,IAAI6sC,EAAO,GAEFp/B,EAAI,EAAGA,EAAIgQ,EAAQrc,OAAQqM,IAAK,CACvC,IAAItM,EAAQnB,EAAIyd,EAAQhQ,GAAG6sD,OACJ,UAAnB78C,EAAQhQ,GAAGxJ,KAAkB9C,GAAgB,EAA8B,WAAnBsc,EAAQhQ,GAAGk7B,OAAmBxnC,EAAQxB,KAAKoN,UAAUkmB,QAAQjzB,IACzH6sC,EAAK3rC,KAAKC,GAGZ0D,EAAK3D,KAAK2rC,KACTltC,MAEC8d,EAAQrc,OAAQ,CAGlB,IAFA,IAAIohD,EAAQ,IAAI80E,GAAOuB,cAAcO,UAE5B/4H,EAAI,EAAGA,EAAIod,EAAQrc,OAAQf,IAClCmiD,EAAM62E,UAAU57G,EAAQpd,IAG1BmiD,EAAM82E,QAAQz0H,GACd,IAAI8P,EAAO,IAAI2iH,GAAOuB,cAAcU,SAAS/2E,GAE7C7iD,KAAK2kE,KAAK8O,KAAKz+D,EAAMhV,KAAKoN,UAAUkrH,YAEpCt4H,KAAK2kE,KAAK8O,KAAKkkD,GAAOuB,cAAcW,iBAAiB,CAAC,CAAC,GAAI,MAAO,SA9B7D75H,KAAK2kE,MAAM3kE,KAAK04H,SAASr1H,KAAKoF,EAAKzI,KAAK44H,UAAW54H,QAgC5D85H,eAAgB,SAAUt4H,GACxBxB,KAAKoN,UAAUkrH,MAAMC,YAAc/2H,EACnCxB,KAAKmqB,WAEP4vG,UAAW,SAAUv4H,GACnBxB,KAAKoN,UAAUkrH,MAAME,OAASh3H,EAC9BxB,KAAKmqB,WAEPA,QAAS,WACPnqB,KAAK2kE,KAAKq1D,aAEVh6H,KAAK44H,aAEPluF,eAAgB,SAAUlpC,GACxB,IAAI8xB,EAAUtzB,KAAKoN,UAAUkrH,MAAMhlG,QAInC,OAHAtzB,KAAKoN,UAAUkrH,MAAMhlG,QAAU3zB,EAAQ8J,OAAO6pB,GAAW,GAAI,CAC3D2mG,QAAQ,IAEH5xG,GAAS7mB,IAElBqmC,SAAU,SAAUwC,EAAGC,GACjBX,GAAON,IAAIxB,SAASj/B,MAAM5I,KAAMsG,YAActG,KAAK2kE,OACrDhlE,EAAQ8J,OAAOzJ,KAAKoN,UAAW,CAC7BwM,MAAOywB,EACPvwB,OAAQwwB,IAEVtqC,KAAKmqB,YAGTwuG,gBAAiB,WACf34H,KAAKukF,SAAW,KAEhBvkF,KAAK44H,aAEPsB,eAAgB,SAAUj9G,EAAM5L,GAC9B,IAAK4L,GAAQjU,EAAYiU,EAAK5L,IAAO,MAAO,SAE5C,IAAI/M,EAAOrE,EAAQgd,EAAK5L,IAGxB,MADY,UAAR/M,GAAqB0mB,MAAkB,EAAZ/N,EAAK5L,MAAW/M,EAAO,UAC/CA,GAETk1H,eAAgB,WACd,IAAI17G,EAAU9d,KAAKoN,UAAU0Q,SAAW,GACpCb,EAAOjd,KAAKkF,KAAKklB,KAAKpqB,KAAKkF,KAAKwyB,MAAM,IAE1C,IAAK5Z,EAAQrc,QAAUwb,EACrB,IAAK,IAAI5L,KAAO4L,EACF,OAAR5L,GAAcyM,EAAQvc,KAAK8P,GAKnC,IAAK,IAAI3Q,EAAI,EAAGA,EAAIod,EAAQrc,OAAQf,IACN,WAAxBT,EAAQ6d,EAAQpd,MAClBod,EAAQpd,GAAK,CACX4D,KAAMtE,KAAKk6H,eAAej9G,EAAMa,EAAQpd,IACxCi6D,MAAO78C,EAAQpd,KAarB,OARIV,KAAKoN,UAAUkmB,SAASxV,EAAQvc,KAAK,CACvC+C,KAAM,SACN0kC,KAAM,UACNzkC,EAAG,CACDyT,MAAQ,KAGZhY,KAAKukF,SAAWzmE,EACTA,GAETs7G,WAAY,WACVzB,GAAOuB,cAAchsH,OAAOitH,YAAYn6H,KAAK2kE,KAAM,QAASl8D,GAAK,WAC/DzI,KAAK8M,UAAU,aAAcxG,aAC5BtG,OACH23H,GAAOuB,cAAchsH,OAAOitH,YAAYn6H,KAAK2kE,KAAM,QAASl8D,GAAK,WAC/DzI,KAAK8M,UAAU,aAAcxG,aAC5BtG,OACH23H,GAAOuB,cAAchsH,OAAOitH,YAAYn6H,KAAK2kE,KAAM,cAAel8D,GAAK,WACrEzI,KAAK8M,UAAU,gBAAiBxG,aAC/BtG,OACH23H,GAAOuB,cAAchsH,OAAOitH,YAAYn6H,KAAK2kE,KAAM,SAAUl8D,GAAK,WAChE,IAAI2xH,EAASp6H,KAAK2kE,KAAKjkB,eAAe,GAElCnd,EAAM62F,GAAUp6H,KAAKq6H,SAEzB,GAAI92F,EAAK,CACP,IAAIr8B,EAAKlH,KAAKkF,KAAKwyB,MAAM6L,EAAI5f,KAC7B3jB,KAAKq6H,SAAW92F,EAChBvjC,KAAK8M,UAAU,cAAe,CAAC5F,IAAMkzH,OAEtCp6H,SAMHs6H,IAHS36H,EAAQwxB,QAAQknG,GAAOhmE,GAAYrmD,EAAa29B,GAAO30B,MAGxD,CACVpP,KAAM,aACNoE,MAAO,WACLhK,KAAK6qB,MAAMpU,UAAY,uEACvBzW,KAAKkjC,YAAcljC,KAAK6qB,MAAMna,WAC9B1Q,KAAK04H,SAAWv1H,EAASuC,QACzB1F,KAAKkF,KAAK6rD,WAAW/wD,MAAM,GAC3BA,KAAKslB,OAAO/jB,KAAKvB,KAAK8pB,SAExB+uG,OAAQ,SAAUC,GAChB,OAAOA,EAAU94H,KAAK04H,SAAW14H,KAAK2kE,MAExCo0D,aAAc,SAAUlkF,GACtB,OAAOpsC,GAAK,WACU,mBAATosC,GAAqBA,IAChCsjF,GAAWA,IAAY31H,OAAOm1H,OAE9B33H,KAAKg5H,SAAS52H,KAAKpC,QAClBA,OAEL8pB,OAAQ,WACN,QAA4B,IAAjBtnB,OAAOm1H,aAAsD,IAAtBn1H,OAAOm1H,OAAO4C,KAAqB,CACnF,IAAKnC,GAAU,EACbA,GAAW9tH,SAASkM,cAAc,WACzBlS,KAAO,kBAChB,IAAI2C,EAASjH,KAAKoN,UACdoU,EAAMva,EAAOua,KAAO,gCACxBA,IAA4B,IAArBA,EAAI7U,QAAQ,KAAc,IAAM,IACnC1F,EAAOoK,MAAKmQ,GAAO,QAAUva,EAAOoK,KACpCpK,EAAOuzH,YAAWh5G,GAAO,cAAgBva,EAAOuzH,WACpDpC,GAAS52G,IAAMA,EACflX,SAAS4D,qBAAqB,QAAQ,GAAGwJ,YAAY0gH,IAGvDA,GAAS/2G,OAASrhB,KAAK+4H,aAAaX,GAAS/2G,aAE7CrhB,KAAK+4H,cAAL/4H,IAEJg5H,SAAU,WACR,IAAIlrH,EAAI9N,KAAKiH,OAETjH,KAAKgqB,UAAUlc,EAAE5G,MACnBlH,KAAK2kE,KAAO,IAAIwzD,GAASoC,KAAKvyH,IAAIhI,KAAKkjC,YAAa,CAClDm1E,KAAMvqG,EAAEuqG,KACRoiB,OAAQ,IAAItC,GAASoC,KAAKG,OAAO5sH,EAAE2sH,OAAO,GAAI3sH,EAAE2sH,OAAO,IACvDE,UAAWxC,GAASoC,KAAKK,UAAU9sH,EAAE+sH,WAGvC76H,KAAK04H,SAAS30H,QAAQ/D,KAAK2kE,MAE3B3kE,KAAKkjC,YAAYxyB,WAAW+G,aAE5B,qBAAsB,UAG1BqjH,cAAe,SAAU7zH,GAEvB,OADIjH,KAAK2kE,MAAM3kE,KAAK2kE,KAAKo2D,UAAU,IAAI5C,GAASoC,KAAKG,OAAOzzH,EAAO,GAAIA,EAAO,KACvEA,GAET+zH,eAAgB,SAAU/zH,GAGxB,OADIjH,KAAK2kE,MAAM3kE,KAAK2kE,KAAKs2D,aAAa9C,GAASoC,KAAKK,UAAU3zH,IACvDA,GAETi0H,YAAa,SAAUj0H,GAErB,OADIjH,KAAK2kE,MAAM3kE,KAAK2kE,KAAKw2D,QAAQl0H,GAC1BA,GAETm0H,iBAAkB,SAAUn0H,GAY1B,MAXc,WAAVA,IAAqBjH,KAAKiH,OAAOuzH,UAAY,iBAE7Cx6H,KAAKq7H,UAAUp0H,KACjBtH,EAAQ8J,OAAOzJ,KAAMA,KAAKq7H,UAAUp0H,IAAS,GAC7CjH,KAAKkF,KAAK2H,YAAY,iBAAkBpE,GAAK,WAC3CzI,KAAK04H,SAASr1H,KAAKoF,GAAK,WACtBzI,KAAKs7H,SAASl5H,KAAKpC,KAAMsG,aACxBtG,SACFA,QAGEiH,GAET8C,SAAU,CACRsuG,KAAM,EACNoiB,OAAQ,CAAC,MAAM,MACfI,QAAS,UACTU,UAAW,UAEb1zF,SAAU,WACR8B,GAAON,IAAIxB,SAASj/B,MAAM5I,KAAMsG,WAC5BtG,KAAK2kE,MAAMwzD,GAASoC,KAAK3/G,MAAMya,QAAQr1B,KAAK2kE,KAAM,WAExD/9C,QAAS,SAAU1hB,GACjB,OAAKlF,KAAK2kE,OACR3kE,KAAK04H,SAASr1H,KAAKoF,GAAK,WACtBzI,KAAKoR,MAAMlM,KACVlF,QAEI,IAKXq7H,UAAW,CACT97F,OAAQ,CACN+7F,SAAU,SAAUp0H,EAAIs0H,EAAM5mH,GAC5B,OAAQA,GACN,IAAK,MAIL,IAAK,SACH4mH,EAAKC,QAAUz7H,KAAK07H,eAAeF,GACnC,MAEF,IAAK,SACHA,EAAKC,QAAQE,OAAO,MACpB,cAGA37H,KAAKkF,KAAKiG,MAAK,SAAU8R,GACvBA,EAAKw+G,QAAUz7H,KAAK07H,eAAez+G,KAClCjd,QAIT6mB,SAAU,SAAU2oC,GAClBxvD,KAAKkF,KAAKiG,MAAK,SAAU9K,GACvBA,EAAIo7H,QAAQE,OAAO,SAErB37H,KAAKkF,KAAK2hB,SAAS2oC,IAErBiN,SAAU,SAAUv1D,GAClB,IAAI+V,EAAOjd,KAAK8jC,QAAQ58B,GAExBlH,KAAK2kE,KAAKo2D,UAAU,IAAI5C,GAASoC,KAAKG,OAAOz9G,EAAK2+G,IAAK3+G,EAAK4+G,OAE9DH,eAAgB,SAAUz+G,GACxB,IAAI5c,EAAM,GAEV,IAAK,IAAIK,KAAKuc,EACZ5c,EAAIK,GAAKuc,EAAKvc,GAGhBL,EAAI6vB,SAAW,IAAIioG,GAASoC,KAAKG,OAAOz9G,EAAK2+G,IAAK3+G,EAAK4+G,KACvDx7H,EAAIiF,IAAM2X,EAAKsG,OAAS,KAAOvjB,KAAK2kE,KACpC,IAAIplC,EAAStiB,EAAKw+G,QAWlB,OATKl8F,EAKHtiB,EAAKw+G,QAAQE,OAAOt7H,EAAIiF,MAJxBi6B,EAAS,IAAI44F,GAASoC,KAAKuB,OAAOz7H,GAElCL,KAAKosB,QAAQmT,IAKfv/B,KAAK8M,UAAU,eAAgB,CAACmQ,IACzBsiB,GAETnT,QAAS,SAAUmT,GACjB,IAAIj6B,EAAMtF,KACVu/B,EAAO46F,YAAY,SAAS,WAC1B70H,EAAIwH,UAAU,cAAe,CAAC9M,KAAKkH,GAAIlH,UAGrCu/B,EAAOw8F,iBACTx8F,EAAO46F,YAAY,WAAW,WAC5B70H,EAAI02H,QAAQh8H,MAAM,MAEpBu/B,EAAO46F,YAAY,QAAQ,WACzB70H,EAAI02H,QAAQh8H,WAIlBg8H,QAAS,SAAUz8F,EAAQ5iB,GACzB,IAAIM,EAAOjd,KAAK8jC,QAAQvE,EAAOr4B,IAC3B4D,EAAMy0B,EAAO08F,cACbhiH,EAAK0C,EAAM,cAAgB,SAC/BM,EAAK2+G,IAAM9wH,EAAI8wH,MACf3+G,EAAK4+G,IAAM/wH,EAAI+wH,MACf77H,KAAK8M,UAAUmN,EAAI,CAACgD,EAAK/V,GAAI+V,MAGjCi/G,QAAS,CACPC,qBAAsB,SAAU36H,GAE9B,OADAA,EAAQA,GAAS,IAGnB85H,SAAU,WACJt7H,KAAKo8H,WACPp8H,KAAKo8H,SAAST,OAAO,MAErB37H,KAAKo8H,SAAW,MAGlB,IAAIC,EAAQ,GAKZ,GAJAr8H,KAAKkF,KAAKiG,MAAK,SAAU8R,GACvBo/G,EAAM96H,KAAKvB,KAAKs8H,WAAWr/G,MAC1Bjd,MAECq8H,EAAM56H,OAAQ,CAChB,IAAIyD,EAAOvF,EAAQ8J,OAAOzJ,KAAKiH,OAAOs1H,cAAe,CACnDr3H,KAAMm3H,EACN/2H,IAAKtF,KAAK2kE,OACT,GACH3kE,KAAKo8H,SAAW,IAAIjE,GAASoC,KAAKrB,cAAcsD,aAAat3H,GAC7DlF,KAAK8M,UAAU,kBAAmB,CAAC9M,KAAKo8H,aAG5CK,WAAY,WACV,OAAOz8H,KAAKo8H,UAEdE,WAAY,SAAUr/G,GACpB,IAAI5c,EAAM,GAEV,IAAK,IAAIK,KAAKuc,EACZ5c,EAAIK,GAAKuc,EAAKvc,GAIhB,OADAL,EAAIqe,SAAW,IAAIy5G,GAASoC,KAAKG,OAAOz9G,EAAK2+G,IAAK3+G,EAAK4+G,KAChDx7H,OAOXq8H,IAFS/8H,EAAQwxB,QAAQmpG,GAAOjoE,GAAYrmD,EAAa29B,GAAO30B,MAExD,CACV2nH,YAAa,SAAUnxF,EAAKtmC,EAAM+M,EAAGwH,EAAGmjH,EAAQt3H,GAC9CtF,KAAK68H,WAAWrxF,EAAKtmC,EAAM+M,EAAGwH,EAAG,EAAGnU,EAAKs3H,IAW3CC,WAAY,SAAUrxF,EAAKtmC,EAAM43H,EAAQC,EAAQt3D,EAAIngE,EAAKs3H,GACxD,GAAK13H,EAAKzD,OAAV,CAEA,IAAIu7H,EAAQh9H,KAAKi9H,kBAAkBH,EAAQC,GAIvC9qD,EAASjyE,KAAKoN,UAAU6kE,OAASjyE,KAAKoN,UAAU6kE,OAAS+qD,EAAM/qD,OACnE,KAAIA,EAAS,GAAb,CAGA,IAAIjsC,EAAShmC,KAAKk9H,WAAWh4H,GAEzBoxE,EAAat2E,KAAKo2E,eAAepwC,GAIjCkwC,EAASl2E,KAAKm2E,WAAWnwC,EAAQswC,GAIjCT,EAAK71E,KAAKoN,UAAU6E,EAAIjS,KAAKoN,UAAU6E,EAAI+qH,EAAM/qH,EACjD6jE,EAAK91E,KAAKoN,UAAUqM,EAAIzZ,KAAKoN,UAAUqM,EAAIujH,EAAMvjH,EAG3C,GAANgsD,GAAWzlE,KAAKoN,UAAU+vH,QAAQn9H,KAAKo9H,WAAW5xF,EAAKqqC,EAAIC,EAAI7D,GAGnE6D,GAAUrQ,EAGV,IA8DIlhE,EA9DA+gE,GAAU5rD,KAAKgsD,GAAK,EACpB23D,EAAS,GAMb,GAHA7xF,EAAIG,MAAM,EAAG85B,GAGTzlE,KAAKoN,UAAUkwH,SAAU,CAC3B,IAAIC,EAAW,GAAN93D,EAAUoQ,EAAK5D,EAAS,EAAI4D,EACjC2nD,EAAW,GAAN/3D,EAAUqQ,EAAK7D,EAAS,EAAI6D,EAErC91E,KAAKy9H,oBAAoBjyF,EAAKqqC,EAAIC,EAAI7D,EAAQsrD,EAAIC,GAGpD,IAAK,IAAI98H,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,IAC/B,GAAKslC,EAAOtlC,GAAZ,CAIA8qC,EAAIkyF,YAAc19H,KAAKoN,UAAUqkE,UAAUrvE,KAAKpC,KAAMkF,EAAKxE,IAC3D8qC,EAAImyF,YACJnyF,EAAIoyF,OAAO/nD,EAAIC,GACfunD,EAAO97H,KAAK+jE,GAGZ,IAAIC,GAAU7rD,KAAKgsD,GAAK,EAAIwQ,EAAOx1E,GAAK,KACxC8qC,EAAIqyF,IAAIhoD,EAAIC,EAAI7D,EAAQ3M,EAAQC,GAAQ,GACxC/5B,EAAIsyF,OAAOjoD,EAAIC,GAEf,IAAI/Z,EAAQ/7D,KAAKoN,UAAU2uD,MAAM35D,KAAKpC,KAAMkF,EAAKxE,IAEjD8qC,EAAIuyF,UAAYhiE,EAChBvwB,EAAIk5C,OAGA1kF,KAAKoN,UAAU4wH,cAAch+H,KAAKi+H,iBAAiBpoD,EAAIC,EAAI,EAAI7D,EAAS,EAAG3M,EAAQC,EAAQE,EAAIzlE,KAAKoN,UAAU4wH,aAAa94H,EAAKxE,GAAI41E,IAAa,GAGjJt2E,KAAKoN,UAAUutD,OAAO36D,KAAKi+H,iBAAiBpoD,EAAIC,EAAI7D,EAASjyE,KAAKoN,UAAU8wH,YAAa54D,EAAQC,EAAQE,EAAIzlE,KAAKoN,UAAUutD,MAAMz1D,EAAKxE,KAGjI,GAAN+kE,IACFzlE,KAAKm+H,mBAAmB3yF,EAAKqqC,EAAIC,EAAIxQ,EAAQC,EAAQ0M,GAAQ,GAE7DzmC,EAAIuyF,UAAY,UAChBvyF,EAAI4yF,YAAc,GAElBp+H,KAAKm+H,mBAAmB3yF,EAAKqqC,EAAIC,EAAIxQ,EAAQC,EAAQ0M,GAAQ,GAE7DzmC,EAAI4yF,YAAc,EAClB5yF,EAAIuyF,UAAYhiE,GAKlBz2D,EAAI+/D,UAAUngE,EAAKxE,GAAGwG,GAAIo+D,EAAQC,EAAQsQ,EAAKinD,EAAO7qH,EAAG6jE,EAAKgnD,EAAOrjH,EAAIgsD,EAAIwM,EAAQxM,EAAIm3D,GACzFt3D,EAASC,EAQX,IAHA/5B,EAAI4yF,YAAc,GAGb19H,EAAI,EAAGA,EAAI28H,EAAO57H,OAAQf,IAC7B6D,EAAIvE,KAAKq+H,oBAAoBhB,EAAO38H,GAAIm1E,EAAIC,EAAI7D,GAEhDjyE,KAAKs+H,UAAU9yF,EAAKqqC,EAAIC,EAAIvxE,EAAE0N,EAAG1N,EAAEkV,EAAGzZ,KAAKoN,UAAUqkE,UAAUrvE,KAAKpC,KAAMkF,EAAKxE,IAAK,GAGtF8qC,EAAI4yF,YAAc,EAER,GAAN34D,GAAWzlE,KAAKoN,UAAUu5F,SAC5Bn7D,EAAI+yF,UAAYv+H,KAAKoN,UAAUo8B,aAAe,EAC9CgC,EAAIkyF,YAAc19H,KAAKoN,UAAUg9E,YAAcpqF,KAAKoN,UAAUg9E,YAAYhoF,KAAKpC,MAAQ,UACvFwrC,EAAImyF,YACJnyF,EAAIqyF,IAAIhoD,EAAIC,EAAI7D,EAAS,EAAG,EAAG,EAAIv4D,KAAKgsD,IAAI,GAC5Cl6B,EAAIgzF,UAGNhzF,EAAIG,MAAM,EAAG,EAAI85B,MAOnBy3D,WAAY,SAAUh4H,GAGpB,IAFA,IAAIxB,EAAI,GAEChD,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,IAC/BgD,EAAEnC,KAAKmY,KAAKyS,IAAIlB,WAAWjrB,KAAKoN,UAAU5L,MAAM0D,EAAKxE,MAAQ,IAG/D,OAAOgD,GAOT0yE,eAAgB,SAAUpwC,GAGxB,IAFA,IAAIz4B,EAAI,EAEC7M,EAAI,EAAGA,EAAIslC,EAAOvkC,OAAQf,IACjC6M,GAAKy4B,EAAOtlC,GAGd,OAAO6M,GAQT4oE,WAAY,SAAUnwC,EAAQswC,GAC5B,IAAI90E,EACA00E,EAAS,GACTG,EAAU,EACdC,EAAaA,GAAct2E,KAAKo2E,eAAepwC,GAE/C,IAAK,IAAItlC,EAAI,EAAGA,EAAIslC,EAAOvkC,OAAQf,IACjCc,EAAQwkC,EAAOtlC,GACfw1E,EAAOx1E,GAAe,EAAVgZ,KAAKgsD,IAAU4Q,GAAc90E,EAAQ60E,GAAWC,EAAa,EAAItwC,EAAOvkC,QACpF40E,GAAW70E,EAGb,OAAO00E,GAQT+mD,kBAAmB,SAAUH,EAAQC,GASnC,IAAInjH,EAAQmjH,EAAO9qH,EAAI6qH,EAAO7qH,EAC1B6H,EAASijH,EAAOtjH,EAAIqjH,EAAOrjH,EAI/B,MAAO,CACLxH,EAJO6qH,EAAO7qH,EAAI2H,EAAQ,EAK1BH,EAJOqjH,EAAOrjH,EAAIK,EAAS,EAK3Bm4D,OAJWv4D,KAAKwJ,IAAItJ,EAAQ,EAAGE,EAAS,KAkB5CqkH,mBAAoB,SAAU3yF,EAAKqqC,EAAIC,EAAIE,EAAIyoD,EAAIj5D,EAAGt4B,GAIpD,GAHA1B,EAAI+yF,UAAY,EAGVvoD,GAAM,GAAKyoD,GAAM,GAAKzoD,GAAM,GAAKyoD,GAAM/kH,KAAKgsD,IAAMhsD,KAAKyS,IAAI6pD,EAAKt8D,KAAKgsD,IAAM,MAASsQ,GAAMt8D,KAAKgsD,IAAM+4D,GAAM/kH,KAAKgsD,GAAtH,CAEIsQ,GAAM,GAAKyoD,GAAM,IACnBzoD,EAAK,EACL9oC,GAAO,EAEPltC,KAAK0+H,gBAAgBlzF,EAAKqqC,EAAIC,EAAItQ,EAAGwQ,EAAIyoD,IAGvCzoD,GAAMt8D,KAAKgsD,IAAM+4D,GAAM/kH,KAAKgsD,KAC9B+4D,EAAK/kH,KAAKgsD,GACVx4B,GAAO,EAEPltC,KAAK0+H,gBAAgBlzF,EAAKqqC,EAAIC,EAAItQ,EAAGwQ,EAAIyoD,IAK3C,IAAInhH,GAAUtd,KAAKoN,UAAUuxH,WAAajlH,KAAKqgB,MAAMyrC,EAAI,IAAMxlE,KAAKoN,UAAUwxH,KAE9EpzF,EAAImyF,YACJnyF,EAAIqyF,IAAIhoD,EAAIC,EAAItQ,EAAGwQ,EAAIyoD,GAAI,GAC3BjzF,EAAIsyF,OAAOjoD,EAAKrQ,EAAI9rD,KAAKisD,IAAI84D,GAAK3oD,EAAKtQ,EAAI9rD,KAAKksD,IAAI64D,GAAMnhH,GAC1DkuB,EAAIqyF,IAAIhoD,EAAIC,EAAKx4D,EAAQkoD,EAAGi5D,EAAIzoD,GAAI,GACpCxqC,EAAIsyF,OAAOjoD,EAAKrQ,EAAI9rD,KAAKisD,IAAIqQ,GAAKF,EAAKtQ,EAAI9rD,KAAKksD,IAAIoQ,IACpDxqC,EAAIk5C,OACAx3C,GAAM1B,EAAIgzF,WAMhBE,gBAAiB,SAAUlzF,EAAKqqC,EAAIC,EAAItQ,EAAGwQ,EAAIyoD,GAC7CjzF,EAAImyF,YACJnyF,EAAIqyF,IAAIhoD,EAAIC,EAAItQ,EAAGwQ,EAAIyoD,GAAI,GAC3BjzF,EAAIgzF,UAUNpB,WAAY,SAAU5xF,EAAKv5B,EAAGwH,EAAG+rD,GAC/Bh6B,EAAI4yF,YAAc,GAGlB,IAFA,IAAIS,EAAU,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAE9Fn+H,EAAIm+H,EAAQp9H,OAAS,EAAGf,GAAI,EAAIA,IACvC8qC,EAAImyF,YACJnyF,EAAIuyF,UAAYc,EAAQn+H,GACxB8qC,EAAIqyF,IAAI5rH,EAAI,EAAGwH,EAAI,EAAG+rD,EAAI9kE,EAAG,EAAa,EAAVgZ,KAAKgsD,IAAQ,GAC7Cl6B,EAAIk5C,OAGNl5C,EAAI4yF,YAAc,GAOpBU,iBAAkB,SAAUxB,GAI1B,OAHAA,EAASyB,aAAa,EAAK,WAC3BzB,EAASyB,aAAa,GAAK,WAC3BzB,EAASyB,aAAa,EAAK,WACpBzB,GAYTG,oBAAqB,SAAUjyF,EAAKv5B,EAAGwH,EAAGw4D,EAAQ4D,EAAIC,GAGpD,IAAIwnD,EADJ9xF,EAAImyF,YAGkC,mBAA3B39H,KAAKoN,UAAUkwH,UACxBA,EAAW9xF,EAAIwzF,qBAAqBnpD,EAAIC,EAAI7D,EAAS,EAAGhgE,EAAGwH,EAAGw4D,GAC9DqrD,EAAWt9H,KAAK8+H,iBAAiBxB,IAC5BA,EAAWt9H,KAAKoN,UAAUkwH,SAASA,GAE1C9xF,EAAIuyF,UAAYT,EAChB9xF,EAAIqyF,IAAI5rH,EAAGwH,EAAGw4D,EAAQ,EAAa,EAAVv4D,KAAKgsD,IAAQ,GACtCl6B,EAAIk5C,OAEJl5C,EAAI4yF,YAAc,IAepBH,iBAAkB,SAAUpoD,EAAIC,EAAItQ,EAAGD,EAAQ05D,EAAQx5D,EAAIt/D,EAAM+4H,GAC/D,IAAI3xH,EAAIvN,KAAKm/H,SAAS,GAAGtzF,WAAW,EAAG,EAAG1lC,EAAM,EAAG,GACnD,GAAKoH,EAAL,CAEA,IAAI6gG,EAAa7gG,EAAE0mB,YACnB1mB,EAAEiK,MAAMoC,MAAQw0F,EAAa,KAEzBA,EAAav4B,IAAIu4B,EAAav4B,GAGlC,IAAIj8D,EAAQqlH,EAAS15D,EAAS,GAAM,EAAI,EACpC25D,IAAUtlH,EAAQw0F,EAAa,KACnC,IAAIgxB,EAAQ75D,GAAU05D,EAAS15D,GAAU,EAEzCC,IAAS5rD,EAAQ,GAAK,EACtB,IAAIylH,GAAUzlH,EAEVkX,EAAQ,SAERsuG,GAAS1lH,KAAKgsD,GAAK,GAAK05D,EAAQ1lH,KAAKgsD,IAAM05D,GAAS,EAAI1lH,KAAKgsD,GAAK,GAAK05D,GAAS1lH,KAAKgsD,MACvF25D,GAAUjxB,EAAaixB,EAAS,EAGhCvuG,EAAQ,QAQV,IAAIxT,EAAS,GACR4hH,GAAYz5D,EAAK,GAAK25D,EAAQ,GAAKA,EAAQ1lH,KAAKgsD,KAAIpoD,GAAUtd,KAAKoN,UAAU0M,QAAUJ,KAAKqgB,MAAMyrC,EAAI,IAAMC,GACjH,IAAIhsD,GAAKq8D,EAAKp8D,KAAKqgB,OAAOyrC,EAAIloD,GAAU5D,KAAKksD,IAAIw5D,KAAW35D,EAjB/C,EAkBTxzD,EAAI4jE,EAAKn8D,KAAKqgB,OAAOyrC,EAAI5rD,EAAQ,GAAKF,KAAKisD,IAAIy5D,IAAUC,EAMzDC,EAAWL,EAASvlH,KAAKgsD,GAAK,EAAI,IAClC65D,EAAah6D,EAAS7rD,KAAKgsD,GAAK,EAEhC65D,GAAcD,EAChBrtH,EAAIyH,KAAKgC,IAAIzJ,EAAG4jE,EAAK,GAIX0pD,GAAeD,GACjBJ,IAAaE,GAAS1lH,KAAKgsD,GAAK,GAAK05D,EAAQ1lH,KAAKgsD,IAAM05D,GAAS,EAAI1lH,KAAKgsD,GAAK,GAAK05D,GAAS1lH,KAAKgsD,MACxGzzD,GAAKm8F,EAAa,GAFen8F,EAAIyH,KAAKwJ,IAAIjR,EAAG4jE,EAAKu4B,GAM1D7gG,EAAEiK,MAAM+B,IAAME,EAAI,KAClBlM,EAAEiK,MAAMgC,KAAOvH,EAAI,KACnB1E,EAAEiK,MAAMoC,MAAQw0F,EAAa,KAC7B7gG,EAAEiK,MAAMoxE,UAAY93D,EACpBvjB,EAAEiK,MAAMwnF,WAAa,WAEvBwgC,cAAe,SAAUh0F,EAAKtmC,EAAM+M,EAAGwH,EAAGmjH,EAAQt3H,GAChDtF,KAAK68H,WAAWrxF,EAAKtmC,EAAM+M,EAAGwH,EAAGzZ,KAAKoN,UAAUwxH,KAAMt5H,IAExDm6H,cAAe,SAAUj0F,EAAKtmC,EAAM43H,EAAQC,EAAQH,EAAQt3H,GAC1D,GAAKJ,EAAKzD,OAAV,CAEAzB,KAAK68H,WAAWrxF,EAAKtmC,EAAM43H,EAAQC,EAAQ,EAAGz3H,EAAKs3H,GAEnD,IAAI31H,EAASjH,KAAKoN,UAEd4vH,EAAQh9H,KAAKi9H,kBAAkBH,EAAQC,GAEvC2C,EAAYz4H,EAAOgrE,OAAShrE,EAAOgrE,OAAS+qD,EAAM/qD,OACtD,KAAIytD,GAAa,GAAjB,CACA,IAAIC,EAAc14H,EAAO04H,aAAe14H,EAAO04H,YAAcD,EAAYz4H,EAAO04H,YAAcD,EAAY,EACtG7pD,EAAK5uE,EAAOgL,EAAIhL,EAAOgL,EAAI+qH,EAAM/qH,EACjC6jE,EAAK7uE,EAAOwS,EAAIxS,EAAOwS,EAAIujH,EAAMvjH,EAMrC,GALA+xB,EAAIuyF,UAAYnwF,GAAQiD,UACxBrF,EAAImyF,YACJnyF,EAAIqyF,IAAIhoD,EAAIC,EAAI6pD,EAAa,EAAa,EAAVjmH,KAAKgsD,IAAQ,GAC7Cl6B,EAAIk5C,OAEA1kF,KAAKoN,UAAUwyH,eAAgB,CACjC,IAAI55F,EAAShmC,KAAKk9H,WAAWh4H,GAEzBoxE,EAAat2E,KAAKo2E,eAAepwC,GAEjCyK,EAAU7C,GAAQ2C,YAClB32B,EAAsB,EAAd+lH,EAA4B,EAAVlvF,EAC1BovF,EAAa7/H,KAAKm/H,SAAS,GAAGtzF,WAAWgqC,EAAK8pD,EAAclvF,EAASqlC,EAAK6pD,EAAclvF,EAAS,wCAA0Cja,OAAOx2B,KAAKoN,UAAUwyH,eAAe16H,EAAMoxE,GAAa,UAAW,8BAA+B18D,GACjPimH,EAAWroH,MAAMsC,OAAS+lH,EAAWroH,MAAM2nC,WAAavlC,EAAQ,WAKlEkmH,GAAW,CASbC,YAAa,SAAUv0F,EAAKtmC,EAAM43H,EAAQC,EAAQH,EAAQt3H,GACxD,IAAI6vE,EACA6qD,EACAt/H,EACAioG,EACAv0B,EACAD,EACA8rD,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAAczD,EAAOtjH,EAAIqjH,EAAOrjH,EACpC8mH,IAAQvgI,KAAKoN,UAAUqzH,MACvBH,IAAQtgI,KAAKoN,UAAUszH,MAEvBtsD,GADAu0B,EAAS3oG,KAAK2gI,cACIjlH,IAClBy4D,EAAWw0B,EAAOzlF,IAGlB88G,GAAajD,EAAO9qH,EAAI6qH,EAAO7qH,GAAK/M,EAAKzD,OAGpCm7H,GAAqC,QAAzB58H,KAAKoN,UAAUxB,SAAqB20H,GACnDvgI,KAAK4gI,YAAY17H,EAAM43H,EAAQC,EAAQ5oD,EAAUC,EAAU4rD,GAKzDO,IACFnsD,EAAWnpD,WAAWjrB,KAAKoN,UAAUqzH,MAAM9jH,KAC3Cw3D,EAAWlpD,WAAWjrB,KAAKoN,UAAUqzH,MAAM/jH,QAM7CujH,GADAE,EAAiBngI,KAAK6gI,kBAAkB1sD,EAAUC,IACxB,GAC1B8rD,EAAcC,EAAe,GAC7BE,EAAOJ,EAAWO,EAAcP,EAAWA,EAEtCM,GAAkC,QAAzBvgI,KAAKoN,UAAUxB,QAAoB00H,IAE/CF,EAAa,GACbC,EAAOJ,GAAYO,EAAcJ,GAAcH,EAAWG,IAKvDxD,GAAmC,QAAzB58H,KAAKoN,UAAUxB,SAAqB20H,GAAOvgI,KAAKoN,UAAUxB,OAASuoE,GAChFn0E,KAAK8gI,WAAWt1F,EAAKtmC,EAAM43H,EAAQC,EAAQiD,EAAWjD,EAAOtjH,EAAI4mH,GAAQrgI,KAAKoN,UAAUxB,OAASuoE,IAKnGgB,EAAW92D,SAASre,KAAKoN,UAAU+nE,SAAU,IAC7C,IAAI4rD,EAAe,EACfC,EAAc,EAElB,IAAKtgI,EAAI,EAAGA,EAAIV,KAAKihI,QAAQx/H,OAAQf,IAC/BA,GAAKk8H,IACPoE,EAAcD,GAGY,OAAxB/gI,KAAKihI,QAAQvgI,GAAG4D,MAAey8H,IAGjC/gI,KAAKihI,SAAW9rD,EAAW4rD,EAAe,EAAIf,IAAW7qD,EAAW92D,SAAS2hH,EAAYe,EAAe,EAAG,KAG/G,IAAIG,GAAalB,EAAY7qD,EAAW4rD,GAAgB,EAGpD9uD,OAAyC,IAAzBjyE,KAAKoN,UAAU6kE,OAAwB5zD,SAASre,KAAKoN,UAAU6kE,OAAQ,IAAMv4D,KAAKC,MAAMw7D,EAAW,GACnHgsD,GAAiB,EACjB7D,EAAWt9H,KAAKoN,UAAUkwH,SAkB9B,IAhBIA,GAA+B,mBAAZA,GACrB6D,EAAiB7D,EACjBA,GAAW,GACFA,IACTA,EAAW9xF,EAAI41F,qBAAqB,EAAGrE,EAAOtjH,EAAG,EAAGqjH,EAAOrjH,GAE3DzZ,KAAKoN,UAAUkwH,SAASA,IAKrBgD,GACHtgI,KAAKs+H,UAAU9yF,EAAKsxF,EAAO7qH,EAAG8qH,EAAOtjH,EAAI,GAAKsjH,EAAO9qH,EAAG8qH,EAAOtjH,EAAI,GAAK,UAAW,GAIhF/Y,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,IAAK,CAChC,IAAIc,EAAQypB,WAAWjrB,KAAKoN,UAAU5L,MAAM0D,EAAKxE,KAAO,GAExD,GADIV,KAAKqhI,gBAAe7/H,EAAQxB,KAAKshI,OAAO9/H,IACvCA,IAASwpB,MAAMxpB,GAApB,CACIA,EAAQ4yE,IAAU5yE,EAAQ4yE,GAC9B5yE,GAAS2yE,EACT3yE,GAAS0+H,EAGT,IAAIrqD,EAAKinD,EAAO7qH,EAAIivH,EAAYxgI,EAAIs/H,GAAa7qD,EAAW,GAAK6rD,EAC7DlrD,EAAKinD,EAAOtjH,EAEZ8nH,EAAWjE,GAAYt9H,KAAKoN,UAAU2uD,MAAM35D,KAAKpC,KAAMkF,EAAKxE,IAE5DimG,EAAS3mG,KAAKoN,UAAUu5F,OAAS,EAAI,EAErChsC,EAAQ36D,KAAKoN,UAAUutD,MAAMz1D,EAAKxE,IAIjC6/H,GAAkC,QAAzBvgI,KAAKoN,UAAUxB,QAAoB00H,EAExC9+H,GAASxB,KAAKoN,UAAUxB,QAAmC,QAAzB5L,KAAKoN,UAAUxB,QAAoB5L,KAAKoN,UAAU5L,MAAM0D,EAAKxE,KAAOyzE,GAC3GwyB,EAAS,EACThsC,EAAQ,KACCn5D,EAAQ,GAAKxB,KAAKoN,UAAUqzH,OAAmB,IAAVj/H,KAA0C,QAAzBxB,KAAKoN,UAAUxB,QAAoB5L,KAAKoN,UAAUxB,OAASuoE,MAC1H3yE,EAAQmlG,EAAS,EACjBhsC,EAAQ,IAP2Cn5D,GAAS4+H,EAAaC,EAW7E70F,EAAI4yF,YAAcp+H,KAAKoN,UAAUgyH,MAAMh9H,KAAKpC,KAAMkF,EAAKxE,IAEvD,IAAIokE,EAAS9kE,KAAKwhI,SAASh2F,EAAKsxF,EAAQjnD,EAAIC,EAAIX,EAAUhB,EAAUlC,EAAQouD,EAAM7+H,EAAO+/H,EAAUjE,EAAU6D,EAAgBx6B,GAEzHw6B,GACFnhI,KAAKyhI,iBAAiBj2F,EAAKqqC,EAAIC,EAAIX,EAAUhB,EAAUlC,EAAQouD,EAAM7+H,EAAO+/H,EAAUJ,EAAgBx6B,GAKpGA,GAAQ3mG,KAAK0hI,eAAel2F,EAAKqqC,EAAIC,EAAIX,EAAUhB,EAAUlC,EAAQouD,EAAM7+H,EAAO+/H,GACtF/1F,EAAI4yF,YAAc,EAGdt5D,EAAO,IAAM+Q,EAAI71E,KAAKm/H,SAASvC,GAAQ9wF,cAAa,GAAO,EAAM+pC,EAAKn8D,KAAKqgB,MAAMo7C,EAAW,GAAIrQ,EAAO,GAAInK,GAAY36D,KAAKm/H,SAASvC,GAAQ9wF,cAAa,GAAM,EAAM+pC,EAAKn8D,KAAKqgB,MAAMo7C,EAAW,GAAIrQ,EAAO,GAAInK,GAGpNr1D,EAAIu/D,QAAQ3/D,EAAKxE,GAAGwG,GAAI,CAAC2uE,EAAKinD,EAAO7qH,EAAG6yD,EAAO,GAAKg4D,EAAOrjH,EAAGqrD,EAAO,GAAKg4D,EAAO7qH,EAAG6yD,EAAO,GAAKg4D,EAAOrjH,GAAImjH,MAG/G+E,kBAAmB,SAAUn2F,EAAKv5B,EAAGwH,EAAGjY,EAAO6+H,EAAMlrD,EAAUhB,GAC7D,IAAIytD,EAAYnoH,EAkBhB,MAhB6B,QAAzBzZ,KAAKoN,UAAUxB,QAAoB5L,KAAKoN,UAAUxB,OAASuoE,IAE7DytD,EADAnoH,IAAMzZ,KAAKoN,UAAUxB,OAASuoE,GAAYksD,GAE1C7+H,GAAiBxB,KAAKoN,UAAUxB,OAASuoE,GAE7B,IACV3yE,IAAS,EACTgqC,EAAI1rB,UAAU7N,EAAIkjE,EAAU17D,GAC5B+xB,EAAIq2F,OAAOnoH,KAAKgsD,IAChBzzD,EAAI,EACJwH,EAAI,GAGNA,GAAK,IAGA,CACLjY,MAAOA,EACPq0E,GAAI5jE,EACJ6jE,GAAIr8D,EACJiD,MAAOklH,IAGXJ,SAAU,SAAUh2F,EAAKsxF,EAAQjnD,EAAIC,EAAIX,EAAUhB,EAAUlC,EAAQouD,EAAM7+H,EAAO+/H,EAAUjE,EAAU6D,EAAgBx6B,GACpHn7D,EAAI92B,OACJ82B,EAAIuyF,UAAYwD,EAEhB,IAAIh9H,EAAIvE,KAAK2hI,kBAAkBn2F,EAAKqqC,EAAIC,EAAIt0E,EAAO6+H,EAAMlrD,EAAUhB,GAE/DrP,EAAS9kE,KAAK8hI,cAAct2F,EAAKjnC,EAAEsxE,GAAItxE,EAAEuxE,GAAIX,EAAUlD,EAAQouD,EAAM97H,EAAE/C,MAAOmlG,GAE9E22B,IAAa6D,GAAgB31F,EAAIsyF,OAAOv5H,EAAEsxE,GAAK8wB,EAAQm2B,EAAOrjH,GAElE+xB,EAAIk5C,OACJl5C,EAAIpP,UACJ,IAAImhG,EAAKh5H,EAAEsxE,GACPksD,EAAKx9H,EAAEsxE,IAAMA,EAAKA,EAAK/Q,EAAO,GAAKA,EAAO,GAG9C,MAAO,CAACy4D,EAFCh5H,EAAEsxE,IAAMA,EAAKtxE,EAAEmY,MAAQooD,EAAO,GAAKvgE,EAAEuxE,GAAKvxE,EAAEuxE,GAErCisD,EADPx9H,EAAEsxE,IAAMA,EAAKtxE,EAAEmY,MAAQnY,EAAEuxE,GAAKhR,EAAO,KAGhDk9D,iBAAkB,SAAUx2F,EAAKgnC,GAC/B,IAAI6qC,EAAKhtC,EACTA,EAAML,GAAMQ,MAAMgC,IAClB6qC,EAAMrtC,GAAMc,SAAST,EAAI,GAAIA,EAAI,GAAIA,EAAI,KACrC,IAAM,IACV,IAAIqC,EAAW,OAAS1C,GAAMW,SAAS0sC,EAAI,GAAIA,EAAI,GAAIA,EAAI,IAAM,IACjE7xE,EAAIkyF,YAAchrD,EACK,GAAnBlnC,EAAI4yF,cAAkB5yF,EAAI4yF,YAAc,KAE9CsD,eAAgB,SAAUl2F,EAAKqqC,EAAIC,EAAIX,EAAUhB,EAAUlC,EAAQouD,EAAM7+H,EAAO+/H,GAC9E,IAAIh9H,EACJinC,EAAI92B,OACJnQ,EAAIvE,KAAK2hI,kBAAkBn2F,EAAKqqC,EAAIC,EAAIt0E,EAAO6+H,EAAMlrD,EAAUhB,GAE/Dn0E,KAAKgiI,iBAAiBx2F,EAAK+1F,GAE3BvhI,KAAK8hI,cAAct2F,EAAKjnC,EAAEsxE,GAAItxE,EAAEuxE,GAAIX,EAAUlD,EAAQouD,EAAM97H,EAAE/C,MAAOgqC,EAAI+yF,UAAY,EAAG,GAExF/yF,EAAIgzF,SAWJhzF,EAAIpP,WAENqlG,iBAAkB,SAAUj2F,EAAKqqC,EAAIC,EAAIX,EAAUhB,EAAUlC,EAAQouD,EAAM7+H,EAAO+/H,EAAUJ,EAAgBx6B,GAC1Gn7D,EAAI92B,OAEJ,IAAInQ,EAAIvE,KAAK2hI,kBAAkBn2F,EAAKqqC,EAAIC,EAAIt0E,EAAO6+H,EAAMlrD,EAAUhB,GAE/D8tD,EAAYjiI,KAAKkiI,gBAAgB12F,EAAKjnC,EAAEsxE,GAAItxE,EAAEuxE,GAAIvxE,EAAEsxE,GAAKV,EAAU5wE,EAAEuxE,GAAKuqD,EAAO97H,EAAE/C,MAAQ,EAAG2/H,EAAgBI,EAAU,KAE5H/1F,EAAIuyF,UAAYkE,EAAU3E,SAE1Bt9H,KAAK8hI,cAAct2F,EAAKjnC,EAAEsxE,GAAKosD,EAAU3kH,OAAQ/Y,EAAEuxE,GAAIX,EAA8B,EAAnB8sD,EAAU3kH,OAAY20D,EAAQouD,EAAM97H,EAAE/C,MAAOygI,EAAU3kH,OAASqpF,GAElIn7D,EAAIk5C,OACJl5C,EAAIpP,WAcN0lG,cAAe,SAAUt2F,EAAKqqC,EAAIC,EAAIX,EAAUlD,EAAQouD,EAAM7+H,EAAO8b,EAAQ6kH,GAE3E32F,EAAImyF,YAEJ,IAAIyE,EAAa,EAEjB,GAAInwD,EAASouD,EAAO7+H,EAAO,CACzB,IAAI6gI,GAAQpwD,EAASouD,EAAO7+H,GAASywE,EACjCowD,GAAQ,GAAKA,IAAQ,IAAID,GAAc1oH,KAAK4oH,KAAKD,GAAQ3oH,KAAKgsD,GAAK,GAKzEl6B,EAAIoyF,OAAO/nD,EAAKv4D,EAAQw4D,GAGxB,IAAI0nD,EAAK1nD,EAAKp8D,KAAKqgB,MAAMsmG,EAAO7+H,GAASywE,GAAUA,EAAS,EAAI30D,GAC5D20D,EAASouD,EAAO7+H,GAAOgqC,EAAIsyF,OAAOjoD,EAAKv4D,EAAQkgH,GAGnD,IAAIuE,EAAKlsD,EAAK5D,EACVA,GAAUA,EAAS,GAAGzmC,EAAIqyF,IAAIkE,EAAIvE,EAAI9jH,KAAKgC,IAAIu2D,EAAS30D,EAAQ,IAAK5D,KAAKgsD,GAAK08D,GAAa1oH,KAAKgsD,GAAK,GAAG,GAG7G,IAAI68D,EAAK1sD,EAAKV,EAAWlD,EAAS30D,EAC9BklH,EAAKhF,EAAKvrD,GAAUA,EAAS30D,EAAS,GAC1CkuB,EAAIsyF,OAAOyE,EAAIC,GAGXvwD,GAAUA,EAAS,GAAGzmC,EAAIqyF,IAAI0E,EAAKjlH,EAAQkgH,EAAI9jH,KAAKgC,IAAIu2D,EAAS30D,EAAQ,IAAK5D,KAAKgsD,GAAK,EAAG,EAAI08D,GAAY,GAG/G,IAAIK,EAAK5sD,EAAKV,EAAW73D,EASzB,OARAkuB,EAAIsyF,OAAO2E,EAAI3sD,GAGVqsD,GACH32F,EAAIsyF,OAAOjoD,EAAKv4D,EAAQw4D,GAInB,CAAC2sD,EAAID,KAIZE,GAAY,CASdC,aAAc,SAAUn3F,EAAKtmC,EAAM43H,EAAQC,EAAQH,EAAQt3H,GACzD,IAAI2B,EAAQvG,EAAG0qE,EAAOjiE,EAAQ0sE,EAAI0nD,EAAIwE,EAAIvE,EAAIoF,EAAI9sD,EAAI+sD,EAAMC,EAI5D,GAHA35H,EAASnJ,KAAK+iI,qBAAqBv3F,EAAKtmC,EAAM43H,EAAQC,EAAQH,GAC9D31H,EAASjH,KAAKoN,UAEVlI,EAAKzD,OAAQ,CAKf,IAJAo0E,EAAK5uE,EAAOqW,OAASw/G,EAAO7qH,EAAuB,GAAnB9I,EAAO62H,UAAkBlD,EAAO7qH,EAEhEm5D,EAAQ,GAEH1qE,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,IAG3B,IAFAoiI,EAAO9iI,KAAKgjI,WAAW99H,EAAKxE,GAAIo8H,EAAQC,EAAQ5zH,KAE5B,KAAR25H,EAAa,CAIvB,GAHAf,EAAMrhI,EAASyI,EAAO62H,UAAYt/H,EAAI,GAAMm1E,EAAlCA,EACV+sD,EAAsB,UAAjB3iI,EAAQ6iI,GAAoBA,EAAKhtD,GAAKgtD,EAEvCpiI,GAAKV,KAAKoN,UAAU61H,YAAa,CAGnC,IAFAJ,EAAO7iI,KAAKgjI,WAAW99H,EAAKxE,EAAI,GAAIo8H,EAAQC,EAAQ5zH,IAE3Cw0E,KAAOklD,EAAKllD,KAAOmlD,EAAKnlD,IAC/B,SAGF4/C,EAAKp0H,EAAO62H,WAAat/H,EAAI,GAAK,GAAMm1E,EACxC2nD,EAAsB,UAAjBv9H,EAAQ4iI,GAAoBA,EAAK/sD,GAAK+sD,EAEvCA,EAAKllD,MACP7H,EAAiB,OAAZ+sD,EAAKllD,IAAeo/C,EAAOtjH,EAAIqjH,EAAOrjH,EAC3C2xD,EAAM7pE,KAAK,CACT0Q,EAAGjS,KAAKkjI,eAAe3F,EAAIwE,EAAIvE,EAAIoF,EAAI9sD,GACvCr8D,EAAGq8D,KAIHgtD,EAAKnlD,MACP7H,EAAiB,OAAZgtD,EAAKnlD,IAAeo/C,EAAOtjH,EAAIqjH,EAAOrjH,EAC3C2xD,EAAM7pE,KAAK,CACT0Q,EAAGjS,KAAKkjI,eAAe3F,EAAIwE,EAAIvE,EAAIoF,EAAI9sD,GACvCr8D,EAAGq8D,KAKJgtD,EAAKnlD,KAAKvS,EAAM7pE,KAAK,CACxB0Q,EAAG8vH,EACHtoH,EAAGqpH,EACHzlH,MAAO3c,IAOb,IAFAV,KAAKmjI,UAAYrG,EAEZp8H,EAAI,EAAGA,GAAK0qE,EAAM3pE,OAAQf,IAE7B68H,EAAKnyD,EAAM1qE,EAAI,GAAGuR,EAClBurH,EAAKpyD,EAAM1qE,EAAI,GAAG+Y,EAEd/Y,EAAI0qE,EAAM3pE,SAEZsgI,EAAK32D,EAAM1qE,GAAGuR,EACd2wH,EAAKx3D,EAAM1qE,GAAG+Y,EAEdzZ,KAAKs+H,UAAU9yF,EAAK+xF,EAAIC,EAAIuE,EAAIa,EAAI37H,EAAOimC,KAAK6uB,MAAM35D,KAAKpC,KAAMkF,EAAKxE,EAAI,IAAKuG,EAAOimC,KAAKtzB,OAGvF3S,EAAOimC,MAAQjmC,EAAOimC,KAAKiwF,SAC7B3xF,EAAI4yF,YAAc,GAElBp+H,KAAKs+H,UAAU9yF,EAAK+xF,EAAK,EAAGC,EAAKv2H,EAAOimC,KAAKtzB,MAAQ,EAAGmoH,EAAK,EAAGa,EAAK37H,EAAOimC,KAAKtzB,MAAQ,EAAG,UAAW3S,EAAOimC,KAAKtzB,MAAQ,GAE3H4xB,EAAI4yF,YAAc,SAKW,IAAtBhzD,EAAM1qE,EAAI,GAAG2c,OACtBrd,KAAKojI,UAAU53F,EAAK+xF,EAAIC,EAAIt4H,EAAKkmE,EAAM1qE,EAAI,GAAG2c,OAAQpW,EAAO0zD,MAAMz1D,EAAKkmE,EAAM1qE,EAAI,GAAG2c,QAASu/G,EAAQt3H,EAAKw3H,KAKnHoG,eAAgB,SAAU3F,EAAIwE,EAAIvE,EAAIoF,EAAInpH,GACxC,OAAO8jH,GAAM9jH,EAAI+jH,IAAOuE,EAAKxE,IAAOqF,EAAKpF,IAW3C4F,UAAW,SAAU53F,EAAKqqC,EAAIC,EAAIz1E,EAAKs6D,EAAOiiE,EAAQt3H,GACpD,IAAI2B,EAASjH,KAAKoN,UAAU6P,KACxBuoD,EAAInnD,SAASpX,EAAOgrE,OAAO7vE,KAAKpC,KAAMK,GAAM,KAAO,EACnDgjI,EAAWrjI,KAAKmjI,UAChBlmH,EAAOhW,EAAO3C,KAAKlC,KAAKpC,KAAMK,GAElC,GAAImlE,EAAG,CAGL,GAFAh6B,EAAI92B,OAEAzN,EAAOk2H,OAAQ,CACjB3xF,EAAI+yF,UAAY,EAChB/yF,EAAIkyF,YAAc,UAClBlyF,EAAIuyF,UAAY,UAGhB,IAFA,IAAIuF,EAAS,CAAC,GAAK,GAAK,IAEf5iI,EAAI4iI,EAAO7hI,OAAS,EAAGf,GAAK,EAAGA,IACtC8qC,EAAI4yF,YAAckF,EAAO5iI,GACzB8qC,EAAIkyF,YAAc,UAClBlyF,EAAImyF,YAEJ39H,KAAKujI,iBAAiB/3F,EAAKqqC,EAAIC,EAAK,EAAItQ,EAAI,EAAGA,EAAI9kE,EAAI,EAAGuc,GAE1DuuB,EAAIgzF,SAGNhzF,EAAImyF,YACJnyF,EAAI4yF,YAAc,GAClB5yF,EAAIuyF,UAAY,UAEhB/9H,KAAKujI,iBAAiB/3F,EAAKqqC,EAAIC,EAAK,EAAItQ,EAAI,EAAGA,EAAI,EAAGvoD,GAEtDuuB,EAAIk5C,OAGNl5C,EAAIpP,UACJoP,EAAI+yF,UAAYt3H,EAAOuiC,YACvBgC,EAAIuyF,UAAY92H,EAAO80D,MAAM35D,KAAKpC,KAAMK,GACxCmrC,EAAIkyF,YAAcz2H,EAAOmjF,YAAYhoF,KAAKpC,KAAMK,GAChDmrC,EAAI4yF,YAAcn3H,EAAOm4H,MAAMh9H,KAAKpC,KAAMK,GAC1CmrC,EAAImyF,YAEJ39H,KAAKujI,iBAAiB/3F,EAAKqqC,EAAIC,EAAItQ,EAAI,EAAGvoD,GAE1CuuB,EAAIk5C,OACJl5C,EAAIgzF,SACJhzF,EAAI4yF,YAAc,EASpB,GAJIzjE,GACF36D,KAAKm/H,SAASvC,GAAQ9wF,cAAa,GAAO,EAAM+pC,EAAIC,EAAKtQ,EAAIxlE,KAAKoN,UAAU8wH,YAAal+H,KAAKoN,UAAUutD,MAAMv4D,KAAKpC,KAAMK,IAGvHiF,EAAK,CACP,IAAIk+H,EAAUxjI,KAAKoN,UAAUmmE,aAAe/N,EAAI,EAEhDlgE,EAAIu/D,QAAQxkE,EAAI6G,GAAI,CAAC2uE,EAAK2tD,EAAUH,EAASpxH,EAAG6jE,EAAK0tD,EAAUH,EAAS5pH,EAAGo8D,EAAK2tD,EAAUH,EAASpxH,EAAG6jE,EAAK0tD,EAAUH,EAAS5pH,GAAImjH,KAGtI2G,iBAAkB,SAAU/3F,EAAKqqC,EAAIC,EAAItQ,EAAGlhE,GAC1C,IAAIC,EAAI,GAER,IAAID,GAAiB,UAARA,GAA4B,KAARA,EAG1B,IAAIA,GAAiB,WAARA,GAA6B,KAARA,EAKlCC,GAFID,GAAiB,YAARA,GAA8B,KAARA,EAE/B,CAAC,CAACuxE,EAAIC,EAAItQ,EAAG,EAAa,EAAV9rD,KAAKgsD,IAAQ,IADlC,CAAC,CAACmQ,EAAIC,EAAKtQ,GAAI,CAACqQ,EAAKn8D,KAAK+7B,KAAK,GAAK+vB,EAAI,EAAGsQ,EAAKtQ,EAAI,GAAI,CAACqQ,EAAKn8D,KAAK+7B,KAAK,GAAK+vB,EAAI,EAAGsQ,EAAKtQ,EAAI,GAAI,CAACqQ,EAAIC,EAAKtQ,QAJ1D,CACrD,IAAIi+D,EAAOj4F,EAAI+yF,UAAY,EAAI/yF,EAAI+yF,UAAY7kH,KAAK+7B,KAAK,GAAK,EAAI,EAClElxC,EAAI,CAAC,CAACsxE,EAAIC,EAAKtQ,GAAI,CAACqQ,EAAKrQ,EAAGsQ,GAAK,CAACD,EAAIC,EAAKtQ,GAAI,CAACqQ,EAAKrQ,EAAGsQ,GAAK,CAACD,EAAK4tD,EAAM3tD,EAAKtQ,EAAIi+D,SAHlFl/H,EAAI,CAAC,CAACsxE,GADNrQ,GAAK9rD,KAAK+7B,KAAK,GAAK,GACLjK,EAAI+yF,UAAY,EAAGzoD,EAAKtQ,GAAI,CAACqQ,EAAKrQ,EAAGsQ,EAAKtQ,GAAI,CAACqQ,EAAKrQ,EAAGsQ,EAAKtQ,GAAI,CAACqQ,EAAKrQ,EAAGsQ,EAAKtQ,GAAI,CAACqQ,EAAKrQ,EAAGsQ,EAAKtQ,IAQjHxlE,KAAK0jI,MAAMl4F,EAAKjnC,IAUlBy+H,WAAY,SAAU99H,EAAM43H,EAAQC,EAAQ5zH,GAC1C,IAAIgrE,EAAWhrE,EAAOgrE,SAClBC,EAAWjrE,EAAOirE,SAClBisD,EAAOl3H,EAAOk3H,KACdH,EAAc/2H,EAAO+2H,YAGrB1+H,EAAQxB,KAAKoN,UAAU5L,MAAM0D,GAE7BlF,KAAKqhI,gBACP7/H,EAAQxB,KAAKshI,OAAO9/H,IAKtB,IAAIkC,GAAKunB,WAAWzpB,GAAS,GAAK2yE,GAAY+rD,EACzClgI,KAAKoN,UAAUqzH,QAAO/8H,GAAKyF,EAAOi3H,WAAaC,GAGpD,IAAI5mH,EAAIsjH,EAAOtjH,EAAI4mH,EAAO38H,EAkB1B,OAfI1D,KAAKoN,UAAU61H,aAAuC,QAAvBjjI,KAAKoN,UAAU9I,MAAyC,QAAvBtE,KAAKoN,UAAU9I,MAW7E9C,EAAQ4yE,IAAU36D,EAAIqjH,EAAOrjH,IAC7B/V,EAAI,GAAKlC,EAAQ2yE,KAAU16D,EAAIsjH,EAAOtjH,IAXtCjY,EAAQ4yE,EAAU36D,EAAI,CACxBA,EAAGqjH,EAAOrjH,EACVq8D,GAAIr8D,EACJkkE,IAAK,QACIj6E,EAAI,GAAKlC,EAAQ2yE,KAAU16D,EAAI,CACxCA,EAAGsjH,EAAOtjH,EACVq8D,GAAIr8D,EACJkkE,IAAK,QAOFlkE,GAETspH,qBAAsB,SAAUv3F,EAAKtmC,EAAM43H,EAAQC,EAAQH,GACzD,IAGIqD,EAHA92H,EAAS,GAMbA,EAAOq3H,YAAczD,EAAOtjH,EAAIqjH,EAAOrjH,EAInCzZ,KAAKoN,UAAU4yH,UAAW72H,EAAO62H,UAAYtmH,KAAKwJ,IAAI65G,EAAO9qH,EAAI6qH,EAAO7qH,EAAGjS,KAAKoN,UAAU4yH,WAAgB72H,EAAO62H,WAAajD,EAAO9qH,EAAI6qH,EAAO7qH,IAAOjS,KAAKoN,UAAUkQ,OAA2BpY,EAAKzD,OAAvByD,EAAKzD,OAAS,GAGjM,IAAI8+H,IAAQvgI,KAAKoN,UAAUqzH,MACvB93B,GAAmD,GAA1C3oG,KAAKoN,UAAU9I,KAAKqI,QAAQ,WAAmB3M,KAAK2jI,kBAAkBz+H,GAAQlF,KAAK2gI,aAChGx3H,EAAOirE,SAAWu0B,EAAOjtF,IACzBvS,EAAOgrE,SAAWw0B,EAAOzlF,IAGpB05G,GAAQ58H,KAAK4gI,YAAY17H,EAAM43H,EAAQC,EAAQ5zH,EAAOgrE,SAAUhrE,EAAOirE,SAAUjrE,EAAO62H,WAGzFO,IACFp3H,EAAOirE,SAAWnpD,WAAWjrB,KAAKoN,UAAUqzH,MAAM9jH,KAClDxT,EAAOgrE,SAAWlpD,WAAWjrB,KAAKoN,UAAUqzH,MAAM/jH,QAKpD,IAAIyjH,EAAiBngI,KAAK6gI,kBAAkB13H,EAAOgrE,SAAUhrE,EAAOirE,UAapE,OAXA6rD,EAAWE,EAAe,GAC1Bh3H,EAAO+2H,YAAcC,EAAe,GACpCh3H,EAAOk3H,KAAOJ,EAAW92H,EAAOq3H,YAAcP,EAAW,GACzD92H,EAAOi3H,WAAa,EAEfG,IAEHp3H,EAAOi3H,WAAa,GAChBj3H,EAAOk3H,MAAQl3H,EAAOq3H,cAAar3H,EAAOk3H,KAAOJ,GAAY92H,EAAOq3H,YAAcr3H,EAAOi3H,YAAcH,EAAW,KAGjH92H,IAIPy6H,GAAY,CASdC,aAAc,SAAUr4F,EAAKtmC,EAAM43H,EAAQC,EAAQH,EAAQt3H,GACzD,IAAI47H,EAAW/rD,EAAU6qD,EAAWjkE,EAAOuhE,EAAU58H,EAAGioG,EAAQv0B,EAAUD,EAAU2vD,EAAe5D,EAAaD,EAAUhuD,EAAQkuD,EAAgBC,EAAY3S,EAAYjsH,EAAO6+H,EAAMxqD,EAAIC,EAAIwqD,EA6D/L,IA1DAN,GAAajD,EAAOtjH,EAAIqjH,EAAOrjH,GAAKvU,EAAKzD,OAEzC2yE,GADAu0B,EAAS3oG,KAAK2gI,WAAW,MACPjlH,IAClBy4D,EAAWw0B,EAAOzlF,IAClBuqG,EAAasP,EAAO9qH,EAAI6qH,EAAO7qH,EAC/BquH,IAAQtgI,KAAKoN,UAAUszH,MAGlB9D,GAAQ58H,KAAK+jI,aAAav4F,EAAKtmC,EAAM43H,EAAQC,EAAQ5oD,EAAUC,EAAU4rD,GAG1EM,IACFlsD,EAAWnpD,WAAWjrB,KAAKoN,UAAUszH,MAAM/jH,KAC3Cw3D,EAAWlpD,WAAWjrB,KAAKoN,UAAUszH,MAAMhkH,QAM7CujH,GADAE,EAAiBngI,KAAK6gI,kBAAkB1sD,EAAUC,IACxB,GAC1B8rD,EAAcC,EAAe,GAC7BE,EAAOJ,EAAWxS,EAAawS,EAAW,GAErCK,IAEHF,EAAa,GACbC,EAAOJ,GAAYxS,EAAa2S,GAAcH,EAAW,KAK3D9qD,EAAW92D,SAASre,KAAKoN,UAAU+nE,SAAU,KAC9Bn1E,KAAKihI,QAAQx/H,OAAS,EAAIu+H,IAAW7qD,EAAW6qD,EAAYhgI,KAAKihI,QAAQx/H,OAAS,GAGjGy/H,EAAYxnH,KAAKqgB,OAAOimG,EAAY7qD,EAAWn1E,KAAKihI,QAAQx/H,QAAU,GAGtEwwE,OAAyC,IAAzBjyE,KAAKoN,UAAU6kE,OAAwB5zD,SAASre,KAAKoN,UAAU6kE,OAAQ,IAAMv4D,KAAKC,MAAMw7D,EAAW,GACnH2uD,GAAgB,GAChBxG,EAAWt9H,KAAKoN,UAAUkwH,WAES,mBAAZA,GACrBwG,EAAgBxG,EAChBA,GAAW,GACFA,IACTA,EAAW9xF,EAAI41F,qBAAqBtE,EAAO7qH,EAAG6qH,EAAOrjH,EAAGsjH,EAAO9qH,EAAG6qH,EAAOrjH,GAEzEzZ,KAAKoN,UAAUkwH,SAASA,IAKrBgD,GACHtgI,KAAKs+H,UAAU9yF,EAAKsxF,EAAO7qH,EAAI,GAAK6qH,EAAOrjH,EAAGqjH,EAAO7qH,EAAI,GAAK8qH,EAAOtjH,EAAG,UAAW,GAIhF/Y,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,IAG3B,GAFAc,EAAQypB,WAAWjrB,KAAKoN,UAAU5L,MAAM0D,EAAKxE,IAAM,IAC/CV,KAAKqhI,gBAAe7/H,EAAQxB,KAAKshI,OAAO9/H,IACvCA,IAASwpB,MAAMxpB,GASpB,GARIA,EAAQ4yE,IAAU5yE,EAAQ4yE,GAC9B5yE,GAAS2yE,EACT3yE,GAAS0+H,EAGTrqD,EAAKinD,EAAO7qH,EACZ6jE,EAAKgnD,EAAOrjH,EAAIynH,EAAYxgI,EAAIs/H,GAAa7qD,EAAW,GAAKynD,EAEzDp7H,EAAQ,GAA8B,QAAzBxB,KAAKoN,UAAUxB,QAAoB5L,KAAKoN,UAAUszH,OAAmB,IAAVl/H,KAA0C,QAAzBxB,KAAKoN,UAAUxB,QAAoB5L,KAAKoN,UAAUxB,OAASuoE,GACtJn0E,KAAKm/H,SAASvC,GAAQ9wF,aAAa,SAAU,QAAS+pC,EAAK,GAAIC,EAAKX,EAAW,EAAI+rD,EAAWlhI,KAAKoN,UAAUutD,MAAMz1D,EAAKxE,SAD1H,CAKIc,EAAQ,GAA8B,QAAzBxB,KAAKoN,UAAUxB,QAAoB5L,KAAKoN,UAAUxB,OAASuoE,IAC1E3yE,EAAQ,GAKL8+H,IAAK9+H,GAAS4+H,EAAaC,GAChCtkE,EAAQuhE,GAAYt9H,KAAKoN,UAAU2uD,MAAM35D,KAAKpC,KAAMkF,EAAKxE,IAGrDV,KAAKoN,UAAUu5F,QACjB3mG,KAAKgkI,gBAAgBx4F,EAAKqqC,EAAIC,EAAIX,EAAUhB,EAAUlC,EAAQouD,EAAM7+H,EAAOu6D,GAK7EvwB,EAAI4yF,YAAcp+H,KAAKoN,UAAUgyH,MAAMh9H,KAAKpC,KAAMkF,EAAKxE,IAEvD,IAAIokE,EAAS9kE,KAAKikI,UAAUz4F,EAAKuxF,EAAQlnD,EAAIC,EAAIX,EAAUhB,EAAUlC,EAAQouD,EAAM7+H,EAAOu6D,EAAOuhE,EAAUwG,GAEvGA,GACF9jI,KAAKkkI,kBAAkB14F,EAAKqqC,EAAIC,EAAIX,EAAUhB,EAAUlC,EAAQouD,EAAM7+H,EAAOu6D,EAAO+nE,GAGtFt4F,EAAI4yF,YAAc,EAGdt5D,EAAO,IAAMgR,GACf91E,KAAKm/H,SAASvC,GAAQ9wF,aAAa,SAAU,OAAQg5B,EAAO,GAAK,EAAGA,EAAO,GAAKprD,KAAKqgB,MAAMo7C,EAAW,GAAIn1E,KAAKoN,UAAUutD,MAAMz1D,EAAKxE,KACpI4E,EAAIu/D,QAAQ3/D,EAAKxE,GAAGwG,GAAI,CAAC49D,EAAO,GAAKg4D,EAAO7qH,EAAG6yD,EAAO,GAAKg4D,EAAOrjH,EAAGqrD,EAAO,GAAKg4D,EAAO7qH,EAAG6yD,EAAO,GAAKqQ,EAAW2nD,EAAOrjH,GAAImjH,KAE7H58H,KAAKm/H,SAASvC,GAAQ9wF,aAAa,UAAU,EAAOg5B,EAAO,GAAK,EAAGA,EAAO,GAAKprD,KAAKqgB,MAAMo7C,EAAW,GAAIn1E,KAAKoN,UAAUutD,MAAMz1D,EAAKxE,KACnI4E,EAAIu/D,QAAQ3/D,EAAKxE,GAAGwG,GAAI,CAAC49D,EAAO,GAAKg4D,EAAO7qH,EAAG6jE,EAAKgnD,EAAOrjH,EAAGqrD,EAAO,GAAKg4D,EAAO7qH,EAAG6yD,EAAO,GAAKg4D,EAAOrjH,GAAImjH,MAgBjHuH,eAAgB,SAAU34F,EAAKqqC,EAAIC,EAAIX,EAAUlD,EAAQouD,EAAM7+H,EAAO8b,EAAQ8mH,GAE5E,IAAIhC,EAAa,EAEjB,GAAInwD,EAASouD,EAAO7+H,EAAO,CACzB,IAAI6iI,GAAQpyD,EAASouD,EAAO7+H,GAASywE,EACrCmwD,GAAc1oH,KAAK4qH,KAAKD,GAAQ3qH,KAAKgsD,GAAK,EAK5Cl6B,EAAIoyF,OAAO/nD,EAAIC,EAAKx4D,GAGpB,IAAIigH,EAAK1nD,EAAKwqD,EAAO7+H,EAAQywE,GAAUA,EAAS,EAAI30D,GACpDigH,EAAK7jH,KAAKgC,IAAIm6D,EAAI0nD,GACdtrD,EAASouD,EAAO7+H,GAAOgqC,EAAIsyF,OAAOP,EAAIznD,EAAKx4D,GAG/C,IAAIslH,EAAK9sD,EAAK7D,EACVA,GAAUA,EAAS,GAAGzmC,EAAIqyF,IAAIN,EAAIqF,EAAI3wD,EAAS30D,GAAS5D,KAAKgsD,GAAK,EAAI08D,EAAY,GAAG,GAGzF,IAAII,EAAK1sD,EAAKX,EAAWlD,GAAUA,EAAS,EAAI30D,GAC5CilH,EAAKhF,EAAKtrD,GAAUA,EAAS30D,EAAS,GAC1CkuB,EAAIsyF,OAAOyE,EAAIC,GAGXvwD,GAAUA,EAAS,GAAGzmC,EAAIqyF,IAAIN,EAAIiF,EAAIvwD,EAAS30D,EAAQ,EAAG5D,KAAKgsD,GAAK,EAAI08D,GAAY,GAGxF,IAAImC,EAAKzuD,EAAKX,EAAW73D,EASzB,OARAkuB,EAAIsyF,OAAOjoD,EAAI0uD,GAGVH,GACH54F,EAAIsyF,OAAOjoD,EAAIC,EAAKx4D,GAIf,CAACilH,EAAIgC,IAEdR,aAAc,SAAUv4F,EAAKtmC,EAAM43H,EAAQC,EAAQrgH,EAAOC,EAAKqjH,GAC7D,IAAI/tH,EAAI,EAEJjS,KAAKoN,UAAUszH,QACZ1gI,KAAKm/H,SAAY,IAAGn/H,KAAKm/H,SAAY,EAAIn/H,KAAKwkI,cAAc,WACjEvyH,EAAIjS,KAAKykI,YAAYzkI,KAAKm/H,SAAY,EAAE5zF,YAAarmC,EAAM43H,EAAQC,EAAQrgH,EAAOC,IAGhF3c,KAAKoN,UAAUqzH,QACZzgI,KAAKm/H,SAAY,IAAGn/H,KAAKm/H,SAAY,EAAIn/H,KAAKwkI,cAAc,WAEjExkI,KAAK0kI,YAAY1kI,KAAKm/H,SAAY,EAAE5zF,YAAarmC,EAAM43H,EAAQC,EAAQiD,EAAW/tH,KAGtFyyH,YAAa,SAAUl5F,EAAKtmC,EAAM43H,EAAQC,EAAQiD,EAAW2E,GAC3D,GAAK3kI,KAAKoN,UAAUqzH,MAApB,CACA,IAAImE,EACA/uD,EAAKx3D,SAASsmH,GAAkB7H,EAAO7qH,EAAG,IAAM,GAChD6jE,EAAKinD,EAAOtjH,EAAI,GAChB+jH,EAAKV,EAAOrjH,EAEhBzZ,KAAKs+H,UAAU9yF,EAAKqqC,EAAIC,EAAID,EAAI2nD,EAAIx9H,KAAKoN,UAAUqzH,MAAM1kE,MAAO,GAEhE,IAAK,IAAIr7D,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,IAAK,CAEpC,IAAIurB,EAAiC,QAAzBjsB,KAAKoN,UAAUxB,QAA2C,QAAvB5L,KAAKoN,UAAU9I,MAAkB2mB,WAAWjrB,KAAKoN,UAAU5L,MAAM0D,EAAKxE,KAAOV,KAAKoN,UAAUxB,OAE3Ig5H,EAAUpH,EAAKwC,EAAY,EAAIt/H,EAAIs/H,EACnChgI,KAAKm/H,SAAY,EAAErzF,aAAa,UAAU7f,GAAgB,OAAQA,EAAQ4pD,EAAK,EAAIA,EAAK,EAAG+uD,EAAS5kI,KAAKoN,UAAUqzH,MAAM52G,SAAS3kB,EAAKxE,IAAK,oBAAqBurB,EAAQ,EAAI4pD,EAAK,IAC9K71E,KAAKoN,UAAUqzH,MAAMt/E,MAAM/+C,KAAKpC,KAAMkF,EAAKxE,KAAKV,KAAKs+H,UAAU9yF,EAAKsxF,EAAO7qH,EAAG2yH,EAAS7H,EAAO9qH,EAAG2yH,EAAS5kI,KAAKoN,UAAUqzH,MAAMhvD,UAAUrvE,KAAKpC,KAAMkF,EAAKxE,IAAK,GAGhKV,KAAKoN,UAAUqzH,MAAMt/E,MAAM/+C,KAAKpC,KAAM,KAAKA,KAAKs+H,UAAU9yF,EAAKsxF,EAAO7qH,EAAI,GAAKurH,EAAK,GAAKT,EAAO9qH,EAAGurH,EAAK,GAAKx9H,KAAKoN,UAAUqzH,MAAMhvD,UAAUrvE,KAAKpC,KAAM,IAAK,GAEhKA,KAAK6kI,eAAe/H,EAAQC,KAE9B0H,YAAa,SAAUj5F,EAAKtmC,EAAM43H,EAAQC,EAAQrgH,EAAOC,GACvD,IAAI0pC,EACAy+E,EAAa,GACbC,EAAO/kI,KAAKoN,UAAUszH,MAC1B,GAAKqE,EAAL,CACA,IAAIjvD,EAAKinD,EAAOtjH,EAAI,GAChBo8D,EAAKinD,EAAO7qH,EAAI,GAChBsrH,EAAKR,EAAO9qH,EAAI,GAChB+yH,EAAalI,EAAO7qH,EAgBxB,GAdAjS,KAAKs+H,UAAU9yF,EAAKqqC,EAAIC,EAAIynD,EAAIznD,EAAIivD,EAAKhpE,MAAO,GAE5CgpE,EAAK1+E,OAAMA,EAAOp7B,WAAW85G,EAAK1+E,YAED,IAA1BrmD,KAAKilI,aAAa5+E,WAAyD,IAA3BrmD,KAAKilI,aAAavoH,YAAwD,IAAzB1c,KAAKilI,aAAatoH,MAE5HD,GADAooH,EAAa9kI,KAAKklI,gBAAgBxoH,EAAOC,IACtBD,MACnBC,EAAMmoH,EAAWnoH,IACjB0pC,EAAOy+E,EAAWz+E,KAClBrmD,KAAKoN,UAAUszH,MAAM/jH,IAAMA,EAC3B3c,KAAKoN,UAAUszH,MAAMhkH,MAAQA,EAC7B1c,KAAKoN,UAAUszH,MAAMr6E,KAAOA,GAGjB,IAATA,EAAJ,CAIA,IAHA,IAAI8+E,GAAc5H,EAAK1nD,GAAMxvB,GAAQ1pC,EAAMD,GACvC5O,EAAI,EAECpN,EAAIgc,EAAOhc,GAAKic,EAAKjc,GAAK2lD,EAAM,CACvC,IAAI7kD,EAAQxB,KAAKqhI,cAAgB3nH,KAAK0rH,IAAI,GAAI1kI,GAAKA,EAC/CokI,EAAWO,SAAQ7jI,EAAQypB,WAAWzpB,GAAO+wF,QAAQuyC,EAAWO,SACpE,IAAIC,EAAK5rH,KAAKqgB,MAAM87C,EAAK/nE,EAAIq3H,GAAc,GAO3C,GAJMzkI,GAAKgc,GAAkC,QAAzB1c,KAAKoN,UAAUxB,SAAqBm5H,EAAK5jF,MAAM/+C,KAAKpC,KAAMU,IAAIV,KAAKs+H,UAAU9yF,EAAK85F,EAAIxvD,EAAIwvD,EAAIxI,EAAOrjH,EAAGzZ,KAAKoN,UAAUszH,MAAMjvD,UAAUrvE,KAAKpC,KAAMU,GAAI,GACtKA,GAAKV,KAAKoN,UAAUxB,SAAQo5H,EAAaM,EAAK,GAG9Cj/E,EAAO,IAAMrmD,KAAKqhI,cAAe,CACnC,IAAIkE,EAAQ7rH,KAAKwJ,IAAIxJ,KAAKqgB,MAAM/5B,KAAKshI,OAAOj7E,IAAQ3pC,GAAS,EAAI,EAAIhD,KAAKqgB,MAAM/5B,KAAKshI,OAAO5kH,KACxF+mH,EAAO/pH,KAAK0rH,IAAI,IAAKG,GAEzB7kI,EADAc,EAAQkY,KAAKC,MAAMnY,EAAQiiI,GAAQA,EAIrCzjI,KAAKm/H,SAAY,EAAErzF,cAAa,GAAO,EAAMw5F,EAAIxvD,EAAK,EAAGivD,EAAKl7G,SAASroB,EAAMW,YAAa,qBAC1F2L,IAIF,OADA9N,KAAKm/H,SAAY,EAAErzF,cAAa,GAAM,EAAO+pC,EAAIknD,EAAOtjH,EAAIzZ,KAAKoN,UAAUqjC,QAAQjlB,OAAS,EAAGxrB,KAAKoN,UAAUszH,MAAMvnG,MAAO,qBAAsB4jG,EAAO9qH,EAAI6qH,EAAO7qH,GAC5J+yH,KAETQ,mBAAoB,SAAUh6F,EAAKv5B,EAAGwH,EAAGjY,EAAO6+H,EAAMlrD,EAAUhB,GAC9D,IACIytD,EAAY3vH,EAkBhB,OAnBUjS,KAAKoN,UAAUqzH,OAGa,QAAzBzgI,KAAKoN,UAAUxB,QAAoB5L,KAAKoN,UAAUxB,OAASuoE,IAEtEytD,EADA3vH,IAAMjS,KAAKoN,UAAUxB,OAASuoE,GAAYksD,GAE1C7+H,GAAiBxB,KAAKoN,UAAUxB,OAASuoE,GAE7B,IACV3yE,IAAS,EACTgqC,EAAI1rB,UAAU7N,EAAGwH,EAAI07D,GACrB3pC,EAAIq2F,OAAOnoH,KAAKgsD,IAChBzzD,EAAI,GACJwH,EAAI,GAGNxH,GAAK,IAGA,CACLzQ,MAAOA,EACPq0E,GAAI5jE,EACJ6jE,GAAIr8D,EACJiD,MAAOklH,IAGXqC,UAAW,SAAUz4F,EAAKuxF,EAAQlnD,EAAIC,EAAIX,EAAUhB,EAAUlC,EAAQouD,EAAM7+H,EAAOu6D,EAAOuhE,EAAU6D,GAClG31F,EAAI92B,OAEJ,IAAInQ,EAAIvE,KAAKwlI,mBAAmBh6F,EAAKqqC,EAAIC,EAAIt0E,EAAO6+H,EAAMlrD,EAAUhB,GAEpE3oC,EAAIuyF,UAAYhiE,EAChBvwB,EAAImyF,YAEJ,IAAI74D,EAAS9kE,KAAKmkI,eAAe34F,EAAKjnC,EAAEsxE,GAAItxE,EAAEuxE,GAAIX,EAAUlD,EAAQouD,EAAM97H,EAAE/C,MAAOxB,KAAKoN,UAAUu5F,OAAS,EAAI,GAE3G22B,IAAa6D,GAAgB31F,EAAIsyF,OAAOf,EAAO9qH,EAAG1N,EAAEuxE,IAAM91E,KAAKoN,UAAUu5F,OAAS,EAAI,IAE1Fn7D,EAAIk5C,OACJl5C,EAAIpP,UACJ,IAAIohG,EAAKj5H,EAAEuxE,GACP8sD,EAAKr+H,EAAEuxE,IAAMA,EAAKA,EAAKhR,EAAO,GAGlC,MAAO,CAFEvgE,EAAEuxE,IAAMA,EAAKvxE,EAAEmY,MAAQooD,EAAO,GAAKvgE,EAAEmY,MAElC8gH,EADHj5H,EAAEuxE,IAAMA,EAAKvxE,EAAEmY,MAAQooD,EAAO,GACnB89D,IAEtBoB,gBAAiB,SAAUx4F,EAAKqqC,EAAIC,EAAIX,EAAUhB,EAAUlC,EAAQouD,EAAM7+H,EAAOu6D,GAC/EvwB,EAAI92B,OAEJ,IAAInQ,EAAIvE,KAAKwlI,mBAAmBh6F,EAAKqqC,EAAIC,EAAIt0E,EAAO6+H,EAAMlrD,EAAUhB,GAEpE3oC,EAAImyF,YAEJ39H,KAAKgiI,iBAAiBx2F,EAAKuwB,GAE3BvwB,EAAI4yF,YAAc,GAElBp+H,KAAKmkI,eAAe34F,EAAKjnC,EAAEsxE,GAAItxE,EAAEuxE,GAAIX,EAAUlD,EAAQouD,EAAM97H,EAAE/C,MAAOgqC,EAAI+yF,UAAY,EAAG,GAEzF/yF,EAAIgzF,SACJhzF,EAAIpP,WAEN8nG,kBAAmB,SAAU14F,EAAKqqC,EAAIC,EAAIX,EAAUhB,EAAUlC,EAAQouD,EAAM7+H,EAAOu6D,EAAOolE,GACxF31F,EAAI92B,OAEJ,IAAInQ,EAAIvE,KAAKwlI,mBAAmBh6F,EAAKqqC,EAAIC,EAAIt0E,EAAO6+H,EAAMlrD,EAAUhB,GAEhE8tD,EAAYjiI,KAAKkiI,gBAAgB12F,EAAKjnC,EAAEsxE,GAAItxE,EAAEuxE,GAAKX,EAAU5wE,EAAEsxE,GAAKwqD,EAAO97H,EAAE/C,MAAO+C,EAAEuxE,GAAIqrD,EAAgBplE,EAAO,KAErHvwB,EAAIuyF,UAAYkE,EAAU3E,SAC1B9xF,EAAImyF,YAEJ39H,KAAKmkI,eAAe34F,EAAKjnC,EAAEsxE,GAAItxE,EAAEuxE,GAAKmsD,EAAU3kH,OAAQ63D,EAA8B,EAAnB8sD,EAAU3kH,OAAY20D,EAAQouD,EAAM97H,EAAE/C,MAAOygI,EAAU3kH,QAE1HkuB,EAAIk5C,OACJl5C,EAAI4yF,YAAc,EAClB5yF,EAAIpP,YAIJqpG,GAAkB,CASpBC,mBAAoB,SAAUl6F,EAAKtmC,EAAM43H,EAAQC,EAAQH,EAAQt3H,GAC/D,IAAI8uE,EAAUD,EAAUwxD,EAAQ9vD,EAAIC,EAGhCoqD,EAGAD,EACAh5H,EAASjH,KAAKoN,UACdw4H,EAAe7I,EAAOtjH,EAAIqjH,EAAOrjH,EACjC8mH,IAAQt5H,EAAOw5H,MACfH,IAAQr5H,EAAOy5H,MAEf/3B,EAAS3oG,KAAK2jI,kBAAkBz+H,GAEhC0G,EAA2B,IAAlB3E,EAAO2E,OACpBwoE,EAAWu0B,EAAOjtF,IAClBy4D,EAAWw0B,EAAOzlF,IAGlB,IAAI88G,EAAYtmH,KAAKqgB,OAAOgjG,EAAO9qH,EAAI6qH,EAAO7qH,GAAK/M,EAAKzD,QAGnDm7H,IACH+I,EAAS3lI,KAAK4gI,YAAY17H,EAAM43H,EAAQC,EAAQ5oD,EAAUC,EAAU4rD,IAKlEO,IACFnsD,EAAWnpD,WAAWhkB,EAAOw5H,MAAM9jH,KACnCw3D,EAAWlpD,WAAWhkB,EAAOw5H,MAAM/jH,QAKrC,IAAIyjH,EAAiBngI,KAAK6gI,kBAAkB1sD,EAAUC,GAEtD6rD,EAAWE,EAAe,GAC1BD,EAAcC,EAAe,GAC7B,IAAIE,EAAOJ,EAAW2F,EAAe3F,EAAW,GAG5C9qD,EAAW92D,SAASpX,EAAOkuE,SAAU,IACrCA,EAAW,EAAI6qD,IAAW7qD,EAAW6qD,EAAY,GAGrD,IAAIkB,EAAYxnH,KAAKqgB,OAAOimG,EAAY7qD,GAAY,GAChDgsD,IAAiBl6H,EAAOq2H,UAAWr2H,EAAOq2H,SAGzCgD,GAEHtgI,KAAKs+H,UAAU9yF,EAAKsxF,EAAO7qH,EAAG8qH,EAAOtjH,EAAI,GAAKsjH,EAAO9qH,EAAG8qH,EAAOtjH,EAAI,GAAK,UAAW,GAIrF,IAAK,IAAI/Y,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,IAAK,CACpC,IAAIc,EAAQypB,WAAWhkB,EAAOzF,MAAM0D,EAAKxE,IAAM,IAC3CV,KAAKqhI,gBAAe7/H,EAAQxB,KAAKshI,OAAO9/H,IAG5Cq0E,EAAKinD,EAAO7qH,EAAIivH,EAAYxgI,EAAIs/H,EAChC,IAAI6F,EAAWj6H,GAAUpK,EAAQ,EAcjC,GAZKo7H,EASH9mD,EAAK+vD,EAAW3gI,EAAKxE,GAAGolI,SAAW5gI,EAAKxE,GAAGqlI,SAR3CjwD,EAAK6vD,EAAS,EACdzgI,EAAKxE,GAAGqlI,QAAUjwD,EAEdlqE,IACEi6H,IAAU/vD,EAAK6vD,EAAS,GAC5BzgI,EAAKxE,GAAGolI,SAAWH,EAAS,IAM3BnkI,IAASwpB,MAAMxpB,GAApB,CAGKo7H,GAAWhxH,IAAQpK,GAAS2yE,GACjC3yE,GAAS0+H,EACT,IAAIv5B,EAAS1/F,EAAO0/F,OAChBhsC,EAAQ1zD,EAAO0zD,MAAMz1D,EAAKxE,IAG9B,KAAIo1E,EAAKgnD,EAAOrjH,EAAI,GAApB,CAEA,IAAIsiD,EAAQ/7D,KAAKoN,UAAU2uD,MAAM35D,KAAKpC,KAAMkF,EAAKxE,IAE7CslI,EAActsH,KAAKyS,IAAI2pD,GAAMlqE,EAASmxH,EAAOtjH,EAAI06D,EAAWksD,EAAOtD,EAAOtjH,IAAM,EAGpF+xB,EAAI4yF,YAAcn3H,EAAOm4H,MAAMh9H,KAAKpC,KAAMkF,EAAKxE,IAC/C8qC,EAAIuyF,UAAYvyF,EAAIkyF,YAAcz2H,EAAO80D,MAAM35D,KAAKpC,KAAMkF,EAAKxE,IAC/D8qC,EAAImyF,YACJ,IAAIH,EAAK1nD,EAAKuqD,EAAO7+H,GAASwkI,EAAcH,GAAW,EAAK,EAAI,GAE5DnsH,KAAKqgB,MAAMyjG,GAAMT,EAAOtjH,IAC1B+jH,EAAKT,EAAOtjH,EACC,IAATkhD,GAAe6iE,EAAK1nD,EAAKz6D,GAAY,kCAAoCmb,OAAOmkC,EAAO,UAAW36D,KAAK6qB,MAAM1S,WAAW2B,SAAQ6gD,EAAQ,KAG9I,IAAImK,EAAS9kE,KAAKimI,oBAAoBz6F,EAAKqqC,GAAM8wB,EAAS,GAAM,GAAI7wB,EAAIX,GAAYwxB,EAAS,GAAM,GAAI62B,EAAI,EAAGV,EAAOrjH,GAMrH,GAJA+xB,EAAIk5C,OACJl5C,EAAIgzF,SAGA2C,EAAgB,CAClB31F,EAAI92B,OAEJ,IAAIutH,EAAYjiI,KAAKkiI,gBAAgB12F,EAAKqqC,EAAIC,EAAID,EAAKV,EAAUrQ,EAAO,GAAIq8D,EAAgBplE,EAAO,KAEnGvwB,EAAIuyF,UAAYkE,EAAU3E,SAC1B9xF,EAAImyF,YACJ74D,EAAS9kE,KAAKimI,oBAAoBz6F,EAAKqqC,EAAKosD,EAAU3kH,OAAQw4D,EAAIX,EAA8B,EAAnB8sD,EAAU3kH,OAAYkgH,EAAI72B,EAAS,EAAI,EAAGm2B,EAAOrjH,GAC9H+xB,EAAIk5C,OACJl5C,EAAIpP,UAKFuqE,IACFn7D,EAAI92B,OACiB,iBAAViyF,EAAoBn7D,EAAIkyF,YAAc/2B,EAAY3mG,KAAKgiI,iBAAiBx2F,EAAKuwB,GACxFvwB,EAAImyF,YAEJ39H,KAAKimI,oBAAoBz6F,EAAKqqC,EAAK,GAAKx3D,SAASy3D,EAAI,IAAM,GAAKX,EAAW,EAAG92D,SAASm/G,EAAI,IAAM,GAAK,EAAGV,EAAOrjH,EAAGusH,GAEnHx6F,EAAIgzF,SACJhzF,EAAIpP,WAGNoP,EAAI4yF,YAAc,EAGlBp+H,KAAKm/H,SAASvC,GAAQ9wF,cAAa,GAAO,EAAM+pC,EAAKn8D,KAAKqgB,MAAMo7C,EAAW,GAAIrQ,EAAO,IAAMgR,EAAKhR,EAAO,IAAM,EAAI,EAAGnK,GAGrHr1D,EAAIu/D,QAAQ3/D,EAAKxE,GAAGwG,GAAI,CAAC2uE,EAAKinD,EAAO7qH,EAAG6yD,EAAO,GAAKg4D,EAAOrjH,EAAGqrD,EAAO,GAAKg4D,EAAO7qH,EAAG/M,EAAKxE,GAAGmlI,EAAW,WAAa,WAAa/I,EAAOrjH,GAAImjH,GAG5I13H,EAAKxE,GAAGmlI,EAAW,WAAa,WAAa/gE,EAAO,OAgBxDmhE,oBAAqB,SAAUz6F,EAAKqqC,EAAIC,EAAIX,EAAUqoD,EAAI0I,EAAWC,EAAMhE,GAEzE32F,EAAIoyF,OAAO/nD,EAAIC,GAGX0nD,EAAK2I,IAAM3I,EAAK2I,GACpB36F,EAAIsyF,OAAOjoD,EAAI2nD,GACf,IAAI+E,EAAK1sD,EAAKV,EACVqtD,EAAKhF,EACThyF,EAAIsyF,OAAOyE,EAAIC,GAKf,IAAIC,EAAK5sD,EAAKV,EASd,OARA3pC,EAAIsyF,OAAO2E,EAAI3sD,GAGVqsD,GACH32F,EAAIsyF,OAAOjoD,EAAIC,GAIV,CAAC2sD,EAAID,KAIZ4D,GAAmB,CAUrBC,oBAAqB,SAAU76F,EAAKtmC,EAAM43H,EAAQC,EAAQH,EAAQt3H,GAChE,IAAI8uE,EAAUD,EAGV+rD,EAGAD,EACAqG,EAAcvJ,EAAO9qH,EAAI6qH,EAAO7qH,EAChCsuH,IAAQvgI,KAAKoN,UAAUqzH,MAEvB93B,EAAS3oG,KAAK2jI,kBAAkBz+H,GAEpCkvE,EAAWu0B,EAAOjtF,IAClBy4D,EAAWw0B,EAAOzlF,IAGlB,IAAI88G,EAAYtmH,KAAKqgB,OAAOgjG,EAAOtjH,EAAIqjH,EAAOrjH,GAAKvU,EAAKzD,QAGnDm7H,GAAQ58H,KAAK+jI,aAAav4F,EAAKtmC,EAAM43H,EAAQC,EAAQ5oD,EAAUC,EAAU4rD,GAG1EO,IACFnsD,EAAWnpD,WAAWjrB,KAAKoN,UAAUszH,MAAM/jH,KAC3Cw3D,EAAWlpD,WAAWjrB,KAAKoN,UAAUszH,MAAMhkH,QAK7C,IAAIyjH,EAAiBngI,KAAK6gI,kBAAkB1sD,EAAUC,GAEtD6rD,EAAWE,EAAe,GAC1BD,EAAcC,EAAe,GAC7B,IAAIE,EAAOJ,EAAWqG,EAAcrG,EAAW,GAC3CG,EAAa,EAEZG,IAEHH,EAAa,GACbC,EAAOJ,GAAYqG,EAAclG,GAAcH,EAAW,IAK5D,IAAI9qD,EAAW92D,SAASre,KAAKoN,UAAU+nE,SAAU,IAC7CA,EAAW,EAAI6qD,IAAW7qD,EAAW6qD,EAAY,GAGrD,IAAIkB,GAAalB,EAAY7qD,GAAY,EAIrCgsD,GAAiB,EACjB7D,EAAWt9H,KAAKoN,UAAUkwH,SAE1BA,IACF6D,GAAiB,GAKdZ,GACHvgI,KAAKs+H,UAAU9yF,EAAKsxF,EAAO7qH,EAAI,GAAK6qH,EAAOrjH,EAAGqjH,EAAO7qH,EAAI,GAAK8qH,EAAOtjH,EAAG,UAAW,GAIrF,IAAIsnH,EAAe,EACfC,EAAc,EAElB,IAAKtgI,EAAI,EAAGA,EAAIV,KAAKihI,QAAQx/H,OAAQf,IAC/BA,GAAKk8H,IACPoE,EAAcD,GAGY,eAAxB/gI,KAAKihI,QAAQvgI,GAAG4D,MAAuBy8H,IAG7C,IAAK,IAAIrgI,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,IAAK,CAC/BsgI,IAAa97H,EAAKxE,GAAG6lI,QAAUzJ,EAAO7qH,GAC3C,IAAIzQ,EAAQkY,KAAKyS,IAAIlB,WAAWjrB,KAAKoN,UAAU5L,MAAM0D,EAAKxE,IAAM,KAC5Dc,EAAQ4yE,IAAU5yE,EAAQ4yE,GAC9B5yE,GAAS2yE,EACT3yE,GAAS0+H,EAGT,IAAIrqD,EAAKinD,EAAO7qH,EACZ6jE,EAAKgnD,EAAOrjH,EAAIynH,EAAYxgI,EAAIs/H,EAEpC,GADKgB,EAAuCnrD,EAAK3wE,EAAKxE,GAAG6lI,QAAvCrhI,EAAKxE,GAAG6lI,QAAU1wD,EAC/Br0E,IAASwpB,MAAMxpB,GAApB,CAGK++H,IAAK/+H,GAAS4+H,EAAaC,GAEhC,IAAItkE,EAAQ/7D,KAAKoN,UAAU2uD,MAAM35D,KAAKpC,KAAMkF,EAAKxE,IAIjD8qC,EAAI4yF,YAAcp+H,KAAKoN,UAAUgyH,MAAMh9H,KAAKpC,KAAMkF,EAAKxE,IACvD8qC,EAAIuyF,UAAY/9H,KAAKoN,UAAU2uD,MAAM35D,KAAKpC,KAAMkF,EAAKxE,IACrD8qC,EAAImyF,YAEJ,IAAI74D,EAAS9kE,KAAKmkI,eAAe34F,EAAKqqC,EAAIC,EAAIX,EAlDnC,EAkDqDkrD,EAAM7+H,EAAO,GAM7E,GAJI87H,IAAa6D,GAAgB31F,EAAIsyF,OAAOhB,EAAO7qH,EAAIq0H,EAAaxwD,GAAM91E,KAAKoN,UAAUu5F,OAAS,EAAI,IAEtGn7D,EAAIk5C,OAEAy8C,EAAgB,CAClB,IAAIc,EAAYjiI,KAAKkiI,gBAAgB12F,EAAKqqC,EAAIC,EAAKX,EAAUU,EAAIC,EAAIqrD,EAAgBplE,EAAO,KAE5FvwB,EAAIuyF,UAAYkE,EAAU3E,SAC1B9xF,EAAImyF,YACJ74D,EAAS9kE,KAAKmkI,eAAe34F,EAAKqqC,EAAIC,EAAIX,EA7DjC,EA6DmDkrD,EAAM7+H,EAAO,GACzEgqC,EAAIk5C,OAKF1kF,KAAKoN,UAAUu5F,QACjB3mG,KAAKgkI,gBAAgBx4F,EAAKqqC,EAAIC,EAAIX,EAAUhB,EApEnC,EAoEqDksD,EAAM7+H,EAAOu6D,GAG7EvwB,EAAI4yF,YAAc,EAGlBp+H,KAAKm/H,SAASvC,GAAQ9wF,aAAa,UAAU,EAAM5mC,EAAKxE,GAAG6lI,SAAWzhE,EAAO,GAAK5/D,EAAKxE,GAAG6lI,SAAW,EAAI,EAAGzwD,GAAMhR,EAAO,GAAKgR,GAAM,EAAG91E,KAAKoN,UAAUutD,MAAMz1D,EAAKxE,KAGjK4E,EAAIu/D,QAAQ3/D,EAAKxE,GAAGwG,GAAI,CAAChC,EAAKxE,GAAG6lI,QAAUzJ,EAAO7qH,EAAG6jE,EAAKgnD,EAAOrjH,EAAGqrD,EAAO,GAAKg4D,EAAO7qH,EAAG6yD,EAAO,GAAKg4D,EAAOrjH,GAAImjH,GAGjH13H,EAAKxE,GAAG6lI,QAAUzhE,EAAO,OAiJ3B0hE,GAAY,CASdC,aAAc,SAAUj7F,EAAKtmC,EAAM43H,EAAQC,EAAQH,EAAQt3H,GACzD,IAAIwrB,EAAO7pB,EAAQvG,EAAGgmI,EAASrmI,EAAK8I,EAAQ+F,EAAM2zH,EAAMC,EAAMjtD,EAAI0nD,EAAIC,EAAIuE,EAAIa,EAAI9sD,EAMlF,GALA3sE,EAASnJ,KAAK+iI,qBAAqBv3F,EAAKtmC,EAAM43H,EAAQC,EAAQH,GAG9D8J,GAFAz/H,EAASjH,KAAKoN,WAEGmmE,aAAe75D,KAAKqgB,MAAM5wB,EAAO62H,UAAY,GAE1D96H,EAAKzD,OAAQ,CAUf,IARAyN,EAAO,GAEP2mE,EAAM5uE,EAAOqW,OAAoBw/G,EAAO7qH,EAAuB,GAAnB9I,EAAO62H,UAA7BlD,EAAO7qH,EAMxBvR,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,IAK3B,GAJAL,EAAM6E,EAAKxE,GACXoiI,EAAO9iI,KAAKgjI,WAAW3iI,EAAKy8H,EAAQC,EAAQ5zH,GAC5C44H,EAAKlsD,EAAK1sE,EAAO62H,UAAYt/H,EAEzBoiI,EAAM,CAGR,GAFAF,EAAsB,UAAjB3iI,EAAQ6iI,GAAoBA,EAAKhtD,GAAKgtD,EAEvCpiI,GAAKV,KAAKoN,UAAU61H,YAAa,CAGnC,IAFAJ,EAAO7iI,KAAKgjI,WAAW99H,EAAKxE,EAAI,GAAIo8H,EAAQC,EAAQ5zH,IAE3Cw0E,KAAOklD,EAAKllD,KAAOmlD,EAAKnlD,IAC/B,SAGF4/C,EAAKp0H,EAAO62H,WAAat/H,EAAI,GAAK,GAAMm1E,EACxC2nD,EAAsB,UAAjBv9H,EAAQ4iI,GAAoBA,EAAK/sD,GAAK+sD,EAEvCA,EAAKllD,MACP7H,EAAiB,OAAZ+sD,EAAKllD,IAAeo/C,EAAOtjH,EAAIqjH,EAAOrjH,EAC3CvK,EAAK3N,KAAK,CAACvB,KAAKkjI,eAAe3F,EAAIwE,EAAIvE,EAAIoF,EAAI9sD,GAAKA,KAGlDgtD,EAAKnlD,MACP7H,EAAiB,OAAZgtD,EAAKnlD,IAAeo/C,EAAOtjH,EAAIqjH,EAAOrjH,EAC3CvK,EAAK3N,KAAK,CAACvB,KAAKkjI,eAAe3F,EAAIwE,EAAIvE,EAAIoF,EAAI9sD,GAAKA,IAChDp1E,GAAKwE,EAAKzD,OAAS,GAAKq0E,GAAMgnD,EAAOrjH,GAAGvK,EAAK3N,KAAK,CAACwgI,EAAIjF,EAAOrjH,KAIjEqpH,EAAKnlD,MACRzuE,EAAK3N,KAAK,CAACwgI,EAAIa,IAEft9H,EAAIu/D,QAAQxkE,EAAI6G,GAAI,CAAC66H,EAAK2E,EAAU5J,EAAO7qH,EAAG2wH,EAAK8D,EAAU5J,EAAOrjH,EAAGsoH,EAAK2E,EAAU5J,EAAO7qH,EAAG2wH,EAAK8D,EAAU5J,EAAOrjH,GAAImjH,IAIvH31H,EAAOw5H,QACV3vG,EAAS7pB,EAAOqW,QAAU5c,GAAKwE,EAAKzD,OAAS,EAAa,SAAT,OACjDzB,KAAKm/H,SAASvC,GAAQ9wF,cAAa,EAAOhb,EAAOixG,EAAIa,EAAK37H,EAAOi3H,YAAaj3H,EAAO0zD,MAAMt6D,KAK7F6O,EAAKzN,SACPyN,EAAK3N,KAAK,CAACwgI,EAAIhF,EAAOtjH,IACtBvK,EAAK3N,KAAK,CAAC2N,EAAK,GAAG,GAAI6tH,EAAOtjH,KAIhC+xB,EAAI4yF,YAAcp+H,KAAKoN,UAAUgyH,MAAMh9H,KAAKpC,KAAMkF,EAAK,IACvDsmC,EAAIuyF,UAAY/9H,KAAKoN,UAAU2uD,MAAM35D,KAAKpC,KAAMkF,EAAK,IACrDsmC,EAAImyF,YAEJ39H,KAAK0jI,MAAMl4F,EAAKt8B,GAEhBs8B,EAAIk5C,OACJl5C,EAAI+yF,UAAY,EAChB/yF,EAAI4yF,YAAc,EAEdn3H,EAAO0/F,SACTn7D,EAAI+yF,UAAYt3H,EAAOuiC,aAAe,EAClCviC,EAAOmjF,YAAa5+C,EAAIkyF,YAAcz2H,EAAOmjF,YAAYhoF,KAAKpC,KAAMkF,EAAK,IAASlF,KAAKgiI,iBAAiBx2F,EAAKA,EAAIuyF,WACrHvyF,EAAImyF,YAEJ39H,KAAK0jI,MAAMl4F,EAAKt8B,GAEhBs8B,EAAIgzF,YAaVmI,oBAAqB,SAAUn7F,EAAKtmC,EAAM43H,EAAQC,EAAQH,EAAQt3H,GAChE,IAAI2wE,EAAID,EAAIllD,EAAO7pB,EAAQvG,EAAG6gD,EAAamlF,EAASrmI,EAAK8I,EAAQ+F,EAAMquH,EAAGC,EAAGoJ,EAoB7C30H,EAAG+gE,EAAIC,EAC/BljE,EAbR,GAPA5G,EAASnJ,KAAK+iI,qBAAqBv3F,EAAKtmC,EAAM43H,EAAQC,EAAQH,GAI9D8J,GAHAz/H,EAASjH,KAAKoN,WAGGmmE,aAAe75D,KAAKqgB,MAAM5wB,EAAO62H,UAAY,GAG1D96H,EAAKzD,OAAQ,CAEfyN,EAAO,GAEP03H,EAAO,GAEPrJ,EAAKt2H,EAAOqW,OAAoBw/G,EAAO7qH,EAAuB,GAAnB9I,EAAO62H,UAA7BlD,EAAO7qH,EAE5B,IAAI40H,EAAY,SAAUnmI,EAAG+Y,GAC3B,OAAOmjH,EAAS13H,EAAKxE,GAAGqlI,QAAUtsH,EAAIsjH,EAAOtjH,EAAIvU,EAAKxE,GAAGqlI,QAAU,EAAItsH,GAazE,IAAK/Y,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,IAC3BL,EAAM6E,EAAKxE,GAENA,EAIH68H,GAAKp0H,EAAO62H,WAHZxC,EAAIqJ,EAAUnmI,EAAGq8H,EAAOtjH,GACxBvK,EAAK3N,KAAK,CAACg8H,EAAGC,KAKhBA,EAAIqJ,EAAUnmI,EAAGV,KAAKgjI,WAAW3iI,EAAKy8H,EAAQC,EAAQ5zH,IACtDy9H,EAAKrlI,KAAKypB,MAAMwyG,KAAO98H,EAAIwE,EAAKxE,GAAGqlI,SAAWhJ,EAAOtjH,EAAI+jH,GAErDA,IACFtuH,EAAK3N,KAAK,CAACg8H,EAAGC,IAEdl4H,EAAIu/D,QAAQxkE,EAAI6G,GAAI,CAACq2H,EAAImJ,EAAU5J,EAAO7qH,EAAGurH,EAAIkJ,EAAU5J,EAAOrjH,EAAG8jH,EAAImJ,EAAU5J,EAAO7qH,EAAGurH,EAAIkJ,EAAU5J,EAAOrjH,GAAImjH,GAEjH31H,EAAOw5H,QACDx5H,EAAOqW,OAAhBwT,EAA8C,SAC9C9wB,KAAKm/H,SAASvC,GAAQ9wF,cAAa,EAAOhb,EAAOysG,EAAGC,EAAIv2H,EAAOi3H,YAAaj3H,EAAO0zD,MAAMt6D,MAQ/F,GAFA6O,EAAK3N,KAAK,CAACg8H,EAAGsJ,EAAUnmI,EAAI,EAAGq8H,EAAOtjH,KAElCmjH,EACF,IAAKl8H,EAAIwE,EAAKzD,OAAS,EAAGf,EAAI,EAAGA,IAC/B68H,GAAKp0H,EAAO62H,WACZxC,EAAIt4H,EAAKxE,GAAGqlI,UACL72H,EAAK3N,KAAK,CAACg8H,EAAGC,IAezB,IAVAtuH,EAAK3N,KAAK,CAAC2N,EAAK,GAAG,GAAIA,EAAK,GAAG,KAE/Bs8B,EAAI4yF,YAAcp+H,KAAKoN,UAAUgyH,MAAMh9H,KAAKpC,KAAMkF,EAAK,IACvDsmC,EAAIuyF,UAAY/9H,KAAKoN,UAAU2uD,MAAM35D,KAAKpC,KAAMkF,EAAK,IACrDsmC,EAAImyF,YAEJ39H,KAAK0jI,MAAMl4F,EAAKt8B,GAEhBs8B,EAAIk5C,OAEChkF,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,IAAK,CAGhC,KAFA88H,EAAIoJ,EAAKlmI,IAOP,IAJIA,GAAKwE,EAAKzD,OAAS,IACrB+7H,EAAIt4H,EAAKxE,GAAGqlI,SAGTxkF,EAAI7gD,EAAI,EAAG6gD,EAAIr8C,EAAKzD,OAAQ8/C,IAC/B,GAAIqlF,EAAKrlF,GAAI,CACX00B,EAAK,CACHhkE,EAAG6qH,EAAO7qH,EACVwH,EAAGmtH,EAAK,IAEV5wD,EAAK,CACH/jE,EAAG6qH,EAAO7qH,EAAI9I,EAAO62H,UAAYz+E,EACjC9nC,EAAGmtH,EAAKrlF,IAzEYtvC,EA2EJ6qH,EAAO7qH,EAAI9I,EAAO62H,UAAYt/H,EA1ElDqP,OAAAA,EA0EEytH,GA1EFztH,IAD+BkjE,EA2E0B+C,GA1EjDv8D,GADmBu5D,EA2E0BiD,GA1EtCx8D,IAAMw5D,EAAGhhE,EAAI+gE,EAAG/gE,IACxBA,EAAI+gE,EAAGv5D,EAAI1J,EAAIijE,EAAG/gE,EA0EvB,MAKN/M,EAAKxE,GAAGqlI,QAAUvI,MAMtBsJ,GAAQ,CACVC,cAAe,SAAUv7F,EAAKtmC,EAAM+M,EAAGwH,EAAGmjH,EAAQt3H,GAChDtF,KAAKgnI,kBAAkBx7F,EAAKtmC,EAAM+M,EAAGwH,EAAGmjH,EAAQt3H,IAWlD0hI,kBAAmB,SAAUx7F,EAAKtmC,EAAM43H,EAAQC,EAAQH,EAAQt3H,GAC9D,GAAKJ,EAAKzD,OAAV,CAeA,IAbA,IAAIu7H,EAAQh9H,KAAKi9H,kBAAkBH,EAAQC,GAIvC9qD,EAASjyE,KAAKoN,UAAU6kE,OAASjyE,KAAKoN,UAAU6kE,OAAS+qD,EAAM/qD,OAG/D4D,EAAK71E,KAAKoN,UAAU6E,EAAIjS,KAAKoN,UAAU6E,EAAI+qH,EAAM/qH,EACjD6jE,EAAK91E,KAAKoN,UAAUqM,EAAIzZ,KAAKoN,UAAUqM,EAAIujH,EAAMvjH,EAGjDwtH,EAAa,GAERvmI,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,IAC/BumI,EAAW1lI,KAAK,GAGlB,IAAI20E,EAASl2E,KAAKm2E,WAAW8wD,EAAY/hI,EAAKzD,QAE9CzB,KAAKmjI,UAAYrG,EACZF,GAAQ58H,KAAKknI,iBAAiBhxD,EAAQL,EAAIC,EAAI7D,EAAQ/sE,GAE3DlF,KAAKmnI,eAAe37F,EAAK0qC,EAAQL,EAAIC,EAAI7D,EAAQ/sE,EAAM03H,EAAQt3H,KAEjE6hI,eAAgB,SAAU37F,EAAK0qC,EAAQjkE,EAAGwH,EAAGw4D,EAAQ/sE,EAAM03H,EAAQt3H,GACjE,IAAIggE,EAAQC,EAAQt+D,EAAQvG,EAAGwiB,EAAKxH,EAAK0rH,EAAMhtH,EAAMitH,EAAQt2D,EAAIu2D,EAAIrH,EAAUsH,EAAY/lI,EAAOgmI,EAAQpjI,EAAQ87H,EAAaG,EAAMoH,EAerI,IAXAvkH,GAHAjc,EAASjH,KAAKoN,WAGDqzH,MAAM/jH,MACnBhB,EAAMzU,EAAOw5H,MAAM9jH,IAGnB0jH,GADAJ,GADAwH,EAAUznI,KAAK6gI,kBAAkB39G,EAAKxH,IACnB,IACDu2D,EAASguD,EAAWhuD,EAAS,EAC/CiuD,EAAcuH,EAAQ,GAEtBniE,EAASC,EADTgiE,GAAc7tH,KAAKgsD,GAAK,EAExB2hE,EAAS,GACTjtH,EAAO,EAEF1Z,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,IACtB0D,EAMEojI,EAASpjI,GALd5C,EAAQyF,EAAOzF,MAAM0D,EAAKxE,IACtBV,KAAKqhI,gBAAe7/H,EAAQxB,KAAKshI,OAAO9/H,IAG5CgmI,GAAUv8G,WAAWzpB,GAAS,GAAK0hB,GAAOg9G,GAG5CnvD,EAAKr3D,KAAKqgB,MAAMsmG,EAAOmH,GACvBhmI,EAAQyF,EAAOzF,MAAMd,GAAKwE,EAAKzD,OAAS,EAAIyD,EAAKxE,EAAI,GAAKwE,EAAK,IAC3DlF,KAAKqhI,gBAAe7/H,EAAQxB,KAAKshI,OAAO9/H,IAC5C4C,GAAU6mB,WAAWzpB,GAAS,GAAK0hB,GAAOg9G,EAC1CoH,EAAK5tH,KAAKqgB,MAAMsmG,EAAOj8H,GACvBkhE,EAASC,EACTA,EAAS7kE,GAAKwE,EAAKzD,OAAS,EAAI8lI,EAAarxD,EAAOx1E,GAAK,KAAS6mI,EAClEH,EAAOhtH,GAAQpa,KAAKq+H,oBAAoB/4D,EAAQrzD,EAAGwH,EAAGs3D,GACtD32D,EAAOpa,KAAKq+H,oBAAoB94D,EAAQtzD,EAAGwH,EAAG6tH,GAO9CD,EAAO9lI,KAAK6lI,GAGVngI,EAAOy9E,MAAM1kF,KAAK0nI,gBAAgBl8F,EAAK67F,EAAQniI,IAC9C+B,EAAO0gI,cAAgBziI,EAAKzD,OAAS,GAAGzB,KAAK4nI,kBAAkBp8F,EAAK67F,EAAQniI,KAC5E+B,EAAO4gI,cAAgB3iI,EAAKzD,OAAS,IAAGzB,KAAK8nI,sBAAsBt8F,EAAK67F,EAAQniI,EAAM03H,EAAQt3H,GACnG+hI,EAAS,MAEXS,sBAAuB,SAAUt8F,EAAKs5B,EAAQ5/D,EAAM03H,EAAQt3H,GAC1D,IAAK,IAAI5E,EAAI,EAAGA,EAAIokE,EAAOrjE,OAAQf,IACjCV,KAAKojI,UAAU53F,EAAKs5B,EAAOpkE,GAAGuR,EAAG6yD,EAAOpkE,GAAG+Y,EAAGvU,EAAKxE,GAAIV,KAAKoN,UAAUutD,MAAMv4D,KAAKpC,KAAMkF,GAAO03H,EAAQt3H,IAG1GoiI,gBAAiB,SAAUl8F,EAAKs5B,EAAQ5/D,GACtC,IAAIkiI,EAAMhtH,EACVoxB,EAAI4yF,YAAcp+H,KAAKoN,UAAUgyH,MAAMh9H,KAAKpC,KAAM,IAClDwrC,EAAImyF,YAEJ,IAAK,IAAIj9H,EAAI,EAAGA,EAAIokE,EAAOrjE,OAAQf,IACjC8qC,EAAIuyF,UAAY/9H,KAAKoN,UAAUs3E,KAAKtiF,KAAKpC,KAAMkF,EAAKxE,IACpD0mI,EAAOtiE,EAAOpkE,GACd0Z,EAAO0qD,EAAOpkE,EAAI,IAAMokE,EAAO,GAE1BpkE,GACH8qC,EAAIoyF,OAAOwJ,EAAKn1H,EAAGm1H,EAAK3tH,GAG1B+xB,EAAIsyF,OAAO1jH,EAAKnI,EAAGmI,EAAKX,GAG1B+xB,EAAIk5C,OACJl5C,EAAI4yF,YAAc,GAEpBwJ,kBAAmB,SAAUp8F,EAAKs5B,EAAQ5/D,GAGxC,IAFA,IAAIkiI,EAAMhtH,EAED1Z,EAAI,EAAGA,EAAIokE,EAAOrjE,OAAQf,IACjC0mI,EAAOtiE,EAAOpkE,GACd0Z,EAAO0qD,EAAOpkE,EAAI,IAAMokE,EAAO,GAE/B9kE,KAAKs+H,UAAU9yF,EAAK47F,EAAKn1H,EAAGm1H,EAAK3tH,EAAGW,EAAKnI,EAAGmI,EAAKX,EAAGzZ,KAAKoN,UAAU8/B,KAAK6uB,MAAM35D,KAAKpC,KAAMkF,EAAKxE,IAAKV,KAAKoN,UAAU8/B,KAAKtzB,QAG3HstH,iBAAkB,SAAUhxD,EAAQjkE,EAAGwH,EAAGw4D,EAAQ/sE,GAChD,IAAI6iI,EAAU/nI,KAAKoN,UAAUqzH,MACzBuH,EAAUhoI,KAAKoN,UAAUszH,MACzBhkH,EAAQqrH,EAAQrrH,MAChBC,EAAMorH,EAAQprH,IACd0pC,EAAO0hF,EAAQ1hF,KACfy+E,EAAa,GACb79H,EAASjH,KAAKioI,aAElB,QAA0B,IAAfhhI,EAAOo/C,WAA8C,IAAhBp/C,EAAOyV,YAA6C,IAAdzV,EAAO0V,IAAoB,CAC/G,IAAIgsF,EAAS3oG,KAAK2gI,aAGlBjkH,GADAooH,EAAa9kI,KAAKklI,gBAAgBv8B,EAAOzlF,IAAKylF,EAAOjtF,MAClCgB,MACnBC,EAAMmoH,EAAWnoH,IACjB0pC,EAAOy+E,EAAWz+E,KAClB0hF,EAAQprH,IAAMA,EACdorH,EAAQrrH,MAAQA,EAGlB,IACIhc,EAAG6gD,EAAGh9C,EAKNghI,EAAO9B,EANPyE,EAAQ,GAERp6H,EAAI,EACJq3H,EAAalzD,EAAS5rB,GAAQ1pC,EAAMD,GAKpC2pC,EAAO,IACTk/E,EAAQ7rH,KAAKwJ,IAAIljB,KAAKshI,OAAOj7E,GAAO3pC,GAAS,EAAI,EAAI1c,KAAKshI,OAAO5kH,IACjE+mH,EAAO/pH,KAAK0rH,IAAI,IAAKG,IAGvB,IAAIlI,EAAS,GACRr9H,KAAKm/H,SAAgB,QAAGn/H,KAAKm/H,SAAgB,MAAIn/H,KAAKwkI,cAAc,gBACzE,IAAIh5F,EAAMxrC,KAAKm/H,SAAgB,MAAE5zF,YAEjC,IAAK7qC,EAAIic,EAAKjc,GAAKgc,EAAOhc,GAAK2lD,EAAM,CACnC,IAAI7kD,EAAQxB,KAAKqhI,cAAgB3nH,KAAK0rH,IAAI,GAAI1kI,GAAKA,EAC/CokI,EAAWO,SAAQ7jI,EAAQypB,WAAWvqB,GAAG6xF,QAAQuyC,EAAWO,SAChE6C,EAAM3mI,KAAKmY,KAAKqgB,MAAMjsB,EAAIq3H,GAAc,IAEpC1B,IAASzjI,KAAKqhI,gBAEhB3gI,EADAc,EAAQkY,KAAKC,MAAMnY,EAAQiiI,GAAQA,GAIrC,IAAIlvD,EAAQ96D,EAAIw4D,EAASi2D,EAAMA,EAAMzmI,OAAS,GAC9CzB,KAAKm/H,SAAgB,MAAErzF,aAAa,SAAU,OAAQ75B,EAAGsiE,EAAOwzD,EAAQl+G,SAASroB,EAAMW,YAAa,iCACpG,IAIIojE,EAJAgiE,GAAc7tH,KAAKgsD,GAAK,EAGxBJ,EAASiiE,EAGb,IAAKhmF,EAAI,EAAGA,EAAI20B,EAAOz0E,OAAQ8/C,IACxBzzC,GAAGuvH,EAAO97H,KAAK+jE,GACpBC,EAASgiE,EAAarxD,EAAO30B,GAAK,KAElCvhD,KAAKmoI,iBAAiB38F,EAAK0qC,EAAOz0E,OAAS,EAAIwF,EAAOmhI,WAAa,OAAS,MAAOn2H,EAAGwH,EAAGw4D,EAASi2D,EAAMA,EAAMzmI,OAAS,GAAI6jE,EAAQC,EAAQ7kE,EAAG6gD,EAAGr8C,EAAKxE,IAEtJ4kE,EAASC,EAGXz3D,IAKF,IAAKpN,EAAI,EAAGA,EAAI28H,EAAO57H,OAAQf,IAC7B6D,EAAIvE,KAAKq+H,oBAAoBhB,EAAO38H,GAAIuR,EAAGwH,EAAGw4D,GAE1C+1D,IACEA,EAAQ7mF,MAAM/+C,KAAKpC,KAAMkF,EAAKxE,GAAIA,IAAIV,KAAKs+H,UAAU9yF,EAAKv5B,EAAGwH,EAAGlV,EAAE0N,EAAG1N,EAAEkV,EAAGuuH,EAAQv2D,UAAUrvE,KAAKpC,KAAMkF,EAAKxE,IAAK,GAErHV,KAAKqoI,qBAAqB78F,EAAKv5B,EAAGwH,EAAGw4D,EAAQorD,EAAO38H,GAAIsnI,EAAQn+G,SAASznB,KAAKpC,KAAMkF,EAAKxE,OAI/FynI,iBAAkB,SAAU38F,EAAK05B,EAAOjzD,EAAGwH,EAAGw4D,EAAQ+D,EAAIyoD,EAAI/9H,EAAG6gD,GAC/D,IAAInnC,EAAM2xG,EACV,GAAI95C,EAAS,EAAG,OAAO,EACvB73D,EAAOpa,KAAKq+H,oBAAoBroD,EAAI/jE,EAAGwH,EAAGw4D,GAC1C85C,EAAO/rH,KAAKq+H,oBAAoBI,EAAIxsH,EAAGwH,EAAGw4D,GAC1C,IAAI81D,EAAU/nI,KAAKoN,UAAUqzH,MAEzBsH,EAAQO,KACV98F,EAAImyF,YACJnyF,EAAIoyF,OAAO3rH,EAAGwH,GACD,OAATyrD,EAAgB15B,EAAIqyF,IAAI5rH,EAAGwH,EAAGw4D,EAAQ+D,EAAIyoD,GAAI,IAChDjzF,EAAIsyF,OAAO1jH,EAAKnI,EAAGmI,EAAKX,GACxB+xB,EAAIsyF,OAAO/R,EAAK95G,EAAG85G,EAAKtyG,IAE1B+xB,EAAIuyF,UAAYgK,EAAQO,GAAG5nI,EAAG6gD,GAC9B/V,EAAIoyF,OAAO3rH,EAAGwH,GACd+xB,EAAIk5C,OACJl5C,EAAI+8F,aAGFR,EAAQ5mF,MAAM/+C,KAAKpC,KAAMU,KAC3B8qC,EAAI+yF,UAAY,EAChB/yF,EAAImyF,YACS,OAATz4D,EAAgB15B,EAAIqyF,IAAI5rH,EAAGwH,EAAGw4D,EAAQ+D,EAAIyoD,GAAI,IAChDjzF,EAAIoyF,OAAOxjH,EAAKnI,EAAGmI,EAAKX,GACxB+xB,EAAIsyF,OAAO/R,EAAK95G,EAAG85G,EAAKtyG,IAE1B+xB,EAAIkyF,YAAcqK,EAAQt2D,UAAUrvE,KAAKpC,KAAMU,GAC/C8qC,EAAIgzF,WAGR6J,qBAAsB,SAAU78F,EAAKv5B,EAAGwH,EAAGlU,EAAG0D,EAAG9C,GAC/C,IAAKA,EAAM,OAAO,EAClB,IAAIoH,EAAIvN,KAAKm/H,SAAgB,MAAEtzF,WAAW,EAAG,EAAG1lC,EAAM,yBAA0B,GAC5EyT,EAAQrM,EAAE0mB,YACVna,EAASvM,EAAEwM,aACXu5B,EAAQ,KAERxoC,EAAM9K,KAAKq+H,oBAAoBp1H,EAAGgJ,EAAGwH,EAAGlU,EAAI,GAE5C85H,EAAS,EACTmJ,EAAS,GAETv/H,EAAI,GAAKA,EAAIyQ,KAAKgsD,MACpB8iE,GAAU1uH,GAGR7Q,EAAIyQ,KAAKgsD,GAAK,IAChB25D,GAAUzlH,GAGRF,KAAKyS,IAAIljB,EAAIyQ,KAAKgsD,GAAK,GAAKpyB,GAAS55B,KAAKyS,IAAIljB,EAAIyQ,KAAKgsD,GAAK,GAAKpyB,EACnE+rF,GAAUzlH,EAAQ,GACTF,KAAKyS,IAAIljB,GAAKqqC,GAAS55B,KAAKyS,IAAIljB,EAAIyQ,KAAKgsD,IAAMpyB,KACxDk1F,GAAU1uH,EAAS,GAGrBvM,EAAEiK,MAAM+B,IAAMzO,EAAI2O,EAAI+uH,EAAS,KAC/Bj7H,EAAEiK,MAAMgC,KAAO1O,EAAImH,EAAIotH,EAAS,KAChC9xH,EAAEiK,MAAMoC,MAAQA,EAAQ,KACxBrM,EAAEiK,MAAMwnF,WAAa,WAIrBypC,GAAU,CAUZC,gBAAiB,SAAUl9F,EAAKtmC,EAAM43H,EAAQC,EAAQH,EAAQt3H,GAC5D,GAAKtF,KAAKoN,UAAUu7H,OAApB,CACA,IAAI1hI,EAASjH,KAAKoN,UACd+zC,IAAUl6C,EAAO0gI,mBAA8C,IAAvB1gI,EAAO0gI,cAG/CiB,EAAU5oI,KAAK2gI,aAEfkI,EAAU7oI,KAAK2gI,WAAW,IAAK,UAI9B/D,IACE58H,KAAKm/H,SAAY,IAAGn/H,KAAKm/H,SAAY,EAAIn/H,KAAKwkI,cAAc,WAC5DxkI,KAAKm/H,SAAY,IAAGn/H,KAAKm/H,SAAY,EAAIn/H,KAAKwkI,cAAc,WAEjExkI,KAAK8oI,WAAW9oI,KAAKm/H,SAAY,EAAE5zF,YAAarmC,EAAM43H,EAAQC,EAAQ6L,EAAQ1lH,IAAK0lH,EAAQltH,KAE3F1b,KAAKykI,YAAYzkI,KAAKm/H,SAAY,EAAE5zF,YAAarmC,EAAM43H,EAAQC,EAAQ8L,EAAQ3lH,IAAK2lH,EAAQntH,MAG9FktH,EAAU,CACR1lH,IAAKjc,EAAOw5H,MAAM/jH,MAClBhB,IAAKzU,EAAOw5H,MAAM9jH,KAEpBksH,EAAU,CACR3lH,IAAKjc,EAAOy5H,MAAMhkH,MAClBhB,IAAKzU,EAAOy5H,MAAM/jH,KAGpB,IAAIxT,EAASnJ,KAAK+oI,kBAAkBv9F,EAAKtmC,EAAM43H,EAAQC,EAAQ8L,EAASD,GAExE5oI,KAAKmjI,UAAYrG,EAGjB,IAFA,IAeIS,EAAIC,EAAIuE,EAAIa,EAAIoG,EAfhB59D,EAAQ,GAEH1qE,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,IAAK,CACpC,IAAIuR,EAAIjS,KAAKipI,8BAA8B9/H,EAAQ4zH,EAAQD,EAAQ+L,EAAS3jI,EAAKxE,GAAI,KAEjF+Y,EAAIzZ,KAAKipI,8BAA8B9/H,EAAQ2zH,EAAQC,EAAQ6L,EAAS1jI,EAAKxE,GAAI,KAEjFsqB,MAAM/Y,IAAM+Y,MAAMvR,IACtB2xD,EAAM7pE,KAAK,CACT0Q,EAAGA,EACHwH,EAAGA,EACH4D,MAAO3c,IAMX,IAAK,IAAIU,EAAK,EAAGA,EAAKgqE,EAAM3pE,OAAQL,IAAM,CAGxC,GAFA4nI,EAAK59D,EAAMhqE,GAAIic,MAEX8jC,EAAO,CACT,IAAI4a,EAAQ90D,EAAOimC,KAAK6uB,MAAM35D,KAAKpC,KAAMkF,EAAK8jI,IAE9CzL,EAAKnyD,EAAMhqE,GAAI6Q,EACfurH,EAAKpyD,EAAMhqE,GAAIqY,EAEXrY,GAAMgqE,EAAM3pE,OAAS,EAEnBwF,EAAOi+D,OAASkG,EAAM3pE,OAAS,IACjCzB,KAAKs+H,UAAU9yF,EAAKu2F,EAAIa,EAAIx3D,EAAM,GAAGn5D,EAAGm5D,EAAM,GAAG3xD,EAAGsiD,EAAO90D,EAAOimC,KAAKtzB,OAGlE3S,EAAO4gI,cAAc7nI,KAAKkpI,iBAAiB19F,EAAKlmC,EAAK8lE,EAAM,GAAIlmE,EAAK,GAAI03H,GACzE31H,EAAOy9E,MAAM1kF,KAAKmpI,kBAAkB39F,EAAK4/B,EAAOlmE,KAItD68H,EAAK32D,EAAMhqE,EAAK,GAAG6Q,EACnB2wH,EAAKx3D,EAAMhqE,EAAK,GAAGqY,EAEnBzZ,KAAKs+H,UAAU9yF,EAAK+xF,EAAIC,EAAIuE,EAAIa,EAAI7mE,EAAO90D,EAAOimC,KAAKtzB,SAKtD3S,EAAO4gI,cAAgBz8D,EAAMhqE,IAChCpB,KAAKkpI,iBAAiB19F,EAAKlmC,EAAK8lE,EAAMhqE,GAAK8D,EAAK8jI,GAAKpM,MAI3DuM,kBAAmB,SAAU39F,EAAKs5B,EAAQ5/D,GACxC,IAAIkiI,EAAMhtH,EACVoxB,EAAI4yF,YAAcp+H,KAAKoN,UAAUgyH,MAAMh9H,KAAKpC,KAAM,IAClDwrC,EAAImyF,YAEJ,IAAK,IAAIj9H,EAAI,EAAGA,EAAIokE,EAAOrjE,OAAQf,IACjC8qC,EAAIuyF,UAAY/9H,KAAKoN,UAAUs3E,KAAKtiF,KAAKpC,KAAMkF,EAAKxE,IACpD0mI,EAAOtiE,EAAOpkE,GACd0Z,EAAO0qD,EAAOpkE,EAAI,IAAMokE,EAAO,GAE1BpkE,GACH8qC,EAAIoyF,OAAOwJ,EAAKn1H,EAAGm1H,EAAK3tH,GAG1B+xB,EAAIsyF,OAAO1jH,EAAKnI,EAAGmI,EAAKX,GAG1B+xB,EAAIk5C,OACJl5C,EAAI4yF,YAAc,GAEpB2K,kBAAmB,SAAUv9F,EAAKtmC,EAAM43H,EAAQC,EAAQ8L,EAASD,GAC/D,IAAIz/H,EAAS,GAab,OAVAA,EAAOq3H,YAAczD,EAAOtjH,EAAIqjH,EAAOrjH,EAGvCtQ,EAAOskH,WAAasP,EAAO9qH,EAAI6qH,EAAO7qH,EAGtCjS,KAAKopI,iBAAiBjgI,EAAQ0/H,EAAQ3lH,IAAK2lH,EAAQntH,IAAKvS,EAAOskH,WAAY,KAE3EztH,KAAKopI,iBAAiBjgI,EAAQy/H,EAAQ1lH,IAAK0lH,EAAQltH,IAAKvS,EAAOq3H,YAAa,KAErEr3H,GAET+/H,iBAAkB,SAAU19F,EAAKlmC,EAAK2X,EAAM5c,EAAKu8H,GAC/C58H,KAAKojI,UAAU53F,EAAKvuB,EAAKhL,EAAGgL,EAAKxD,EAAGpZ,EAAKL,KAAKoN,UAAUutD,MAAMv4D,KAAKpC,KAAMK,GAAMu8H,EAAQt3H,IAEzF2jI,8BAA+B,SAAU9/H,EAAQ2zH,EAAQC,EAAQp0B,EAAQtoG,EAAK0kI,GAE5E,IAAIvjI,EAAQxB,KAAKoN,UAAkB,KAAR23H,EAAc,SAAW,SAAS3iI,KAAKpC,KAAMK,GAIpE6/H,EAAc/2H,EAAO,cAAgB47H,GACrCrhI,GAAKunB,WAAWzpB,GAAS,GAAKmnG,EAAOzlF,KAAOg9G,EAG5CG,EAAOl3H,EAAO,OAAS47H,GACvBj6H,EAAMiyH,EAAOgI,EAAKv+H,gBAA0B,KAARu+H,GAAc,EAAK,GAAKrrH,KAAKqgB,MAAMsmG,EAAO38H,GAUlF,OAPIA,EAAI,IAAGoH,EAAMiyH,EAAOgI,EAAKv+H,gBAGzBhF,EAAQmnG,EAAOjtF,MAAK5Q,EAAMgyH,EAAOiI,EAAKv+H,gBAGtChF,EAAQmnG,EAAOzlF,MAAKpY,EAAMiyH,EAAOgI,EAAKv+H,gBACnCsE,GAETs+H,iBAAkB,SAAU7kI,EAAG2e,EAAKxH,EAAK1U,EAAM+9H,GAC7C,IAAI5E,EAAiBngI,KAAK6gI,kBAAkB39G,EAAKxH,GAGjDnX,EAAE,YADFwgI,EAAOA,GAAQ,KACQ5E,EAAe,GACtC57H,EAAE,cAAgBwgI,GAAQ5E,EAAe,GACzC57H,EAAE,OAASwgI,GAAQxgI,EAAE,WAAawgI,GAAQ/9H,EAAOzC,EAAE,WAAawgI,GAAQ,KA6IxEsE,GAAe,CASjBC,mBAAoB,SAAU99F,EAAKtmC,EAAM43H,EAAQC,EAAQH,EAAQt3H,GAC/D,IAAIy2D,EACAr7D,EACA0qE,EACA7pB,EACAmlF,EACAv9H,EACAogI,EACAt3H,EACA4jE,EACA0nD,EACAwE,EACAtoH,EACAmpH,EACA37H,EAASjH,KAAKoN,UACd8B,EAAO,GAOX,GANA/F,EAASnJ,KAAK+iI,qBAAqBv3F,EAAKtmC,EAAM43H,EAAQC,EAAQH,GAC9D8J,EAAUz/H,EAAOssE,aAAe75D,KAAKqgB,MAAM5wB,EAAO62H,UAAY,GAG9D50D,EAAQ,GAEJlmE,EAAKzD,OAAQ,CAIf,IAFAo0E,EAAKinD,EAAO7qH,EAEPvR,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,MAC3B+Y,EAAIzZ,KAAKgjI,WAAW99H,EAAKxE,GAAIo8H,EAAQC,EAAQ5zH,KAE/B,KAALsQ,KACPxH,EAAKvR,EAASyI,EAAO62H,UAAYt/H,EAAI,GAAMm1E,EAAlCA,EACTzK,EAAM7pE,KAAK,CACT0Q,EAAGA,EACHwH,EAAGA,EACH4D,MAAO3c,IAET4E,EAAIu/D,QAAQ3/D,EAAKxE,GAAGwG,GAAI,CAAC+K,EAAIy0H,EAAU5J,EAAO7qH,EAAGwH,EAAIitH,EAAU5J,EAAOrjH,EAAGxH,EAAIy0H,EAAU5J,EAAO7qH,EAAGwH,EAAIitH,EAAU5J,EAAOrjH,GAAImjH,IAM9H,IAFA2M,EAAUvpI,KAAKwpI,qBAAqBp+D,GAE/B1qE,EAAI,EAAGA,EAAI0qE,EAAM3pE,OAAQf,IAG5B,GAFA68H,EAAKnyD,EAAM1qE,GAAGuR,EAEVvR,EAAI0qE,EAAM3pE,OAAS,EAAG,CAIxB,IAHAsgI,EAAK32D,EAAM1qE,EAAI,GAAGuR,EAClB2wH,EAAKx3D,EAAM1qE,EAAI,GAAG+Y,EAEb8nC,EAAIg8E,EAAIh8E,EAAIwgF,EAAIxgF,IAAK,CACxB,IAAIkoF,EAAMzpI,KAAK0pI,iBAAiBnoF,EAAGg8E,EAAI78H,EAAG6oI,EAAQtgI,EAAGsgI,EAAQ17H,EAAG07H,EAAQz7H,EAAGy7H,EAAQzlI,GAE/E2lI,EAAM3M,EAAOrjH,IAAGgwH,EAAM3M,EAAOrjH,GAC7BgwH,EAAM1M,EAAOtjH,IAAGgwH,EAAM1M,EAAOtjH,GAEjC,IAAIkwH,EAAM3pI,KAAK0pI,iBAAiBnoF,EAAI,EAAGg8E,EAAI78H,EAAG6oI,EAAQtgI,EAAGsgI,EAAQ17H,EAAG07H,EAAQz7H,EAAGy7H,EAAQzlI,GAEnF6lI,EAAM7M,EAAOrjH,IAAGkwH,EAAM7M,EAAOrjH,GAC7BkwH,EAAM5M,EAAOtjH,IAAGkwH,EAAM5M,EAAOtjH,GACjCvK,EAAK3N,KAAK,CAACggD,EAAGkoF,IACdv6H,EAAK3N,KAAK,CAACggD,EAAI,EAAGooF,IAGpBz6H,EAAK3N,KAAK,CAACwgI,EAAIa,IAInB7mE,EAAQ/7D,KAAKoN,UAAU2uD,MAAM35D,KAAKpC,KAAMkF,EAAK,IAEzCgK,EAAKzN,SACPyN,EAAK3N,KAAK,CAACwgI,EAAIhF,EAAOtjH,IACtBvK,EAAK3N,KAAK,CAAC2N,EAAK,GAAG,GAAI6tH,EAAOtjH,KAIhC+xB,EAAI4yF,YAAcp+H,KAAKoN,UAAUgyH,MAAMh9H,KAAKpC,KAAMkF,EAAK,IACvDsmC,EAAIuyF,UAAYhiE,EAChBvwB,EAAImyF,YAEJ39H,KAAK0jI,MAAMl4F,EAAKt8B,GAEhBs8B,EAAIk5C,OACJl5C,EAAI+yF,UAAY,EAChB/yF,EAAI4yF,YAAc,EAEdn3H,EAAO0/F,SACTn7D,EAAI+yF,UAAYt3H,EAAOuiC,aAAe,EAClCviC,EAAOmjF,YAAa5+C,EAAIkyF,YAAcz2H,EAAOmjF,YAAYhoF,KAAKpC,KAAMkF,EAAK,IAASlF,KAAKgiI,iBAAiBx2F,EAAKuwB,GACjHvwB,EAAImyF,YACJzuH,EAAKlE,OAAOkE,EAAKzN,OAAS,GAE1BzB,KAAK0jI,MAAMl4F,EAAKt8B,GAEhBs8B,EAAIgzF,aAQRoL,GAAe,CACjB7Y,eAAgB,SAAUvvH,GAExB,OADIA,GAOL,SAEW82H,GACZ,GAAIA,EAAMuR,oBAAqB,OAC/B,IAAI5iI,EAASqxH,EAAMlrH,UACdnG,EAAO+4H,YAAW/4H,EAAO+4H,UAfhB,IAgBT/4H,EAAO6iI,kBAAiB7iI,EAAO6iI,gBAjBhB,KAkBpB7iI,EAAOqW,QAAS,EAChBg7G,EAAMuR,oBAAsBvR,EAAMzrH,YAAY,kBAAkB,SAAU3H,EAAMZ,GAC9E,IAAIwvG,EAASwkB,EAAMyR,gBAAgBzR,EAAMrwF,eAAgBqwF,EAAMjwF,kBA2JhE,SAG0BiwF,GAC3B0R,GAAgB1R,GAAO,SAAU1yH,EAAM+jF,GACrCA,EAAO/9C,cAAc0sF,EAAMrwF,eAAiB,EAAIqwF,EAAMlrH,UAAU4yH,UAAW1H,EAAMjwF,oBA9JjF4hG,CAAoB3R,GA6HrB,SAGsBpzH,EAAM43H,EAAQC,EAAQiD,GAC7C,GAAIA,GAAa96H,EAAKzD,OAAQ,CAC5B,IAAIiwC,EAAQh4B,KAAKiC,MAAMohH,EAAO9qH,EAAI6qH,EAAO7qH,GAAK+tH,GAC1C96H,EAAKzD,OAASiwC,EAAQ,GAAGxsC,EAAK8F,OAAO,EAAG9F,EAAKzD,OAASiwC,EAAQ,IAlIlEw4F,CAAgBhlI,EAAM4uG,EAAOp3F,MAAOo3F,EAAOn3F,IAAK1V,EAAO+4H,WAC3C,OAAR17H,GAUL,SAGqBg0H,GACtB,IAAI0H,EAAY1H,EAAMlrH,UAAU4yH,UAE5B1H,EAAM6R,uBAAyBnK,IACjC1H,EAAM6R,sBAAwBnK,EAC9B1H,EAAMxuG,UAGRwuG,EAAM6R,sBAAwB,EAC9B7R,EAAM8R,qBAAuB,KACzB5nI,OAAO6nI,wBAA0B//H,SAASiZ,QAAQ/gB,OAAO6nI,uBAAsB,SAAU98H,GAC3F+8H,GAAUhS,EAAO/qH,MAEd+qH,EAAMiS,uBAAsBjS,EAAMiS,qBAAuBjS,EAAMzrH,YAAY,iBAAiB,SAAU3H,IA8B1G,SAGuBozH,EAAOpzH,GAC/B,IAAIyM,EAAQ2mH,EAAM3mH,QACdmiG,EAASwkB,EAAMyR,gBAAgBzR,EAAMrwF,eAAgBqwF,EAAMjwF,iBAC3D23F,EAAY1H,EAAMlrH,UAAU4yH,UAC5BkG,EAAY5N,EAAM6R,uBAAyB,EAC3CK,EAAWtlI,EAAKzD,OAASkQ,IAAUzM,EAAKzD,OAAS,GAAKu+H,EAAYlsB,EAAOn3F,IAAI1K,EAAI6hG,EAAOp3F,MAAMzK,WAEzFw4H,EAAgB9gD,EAAQ9T,EAAI0nD,EAAImN,GACvC,IAAIl/F,EAAMm+C,EAAOp+C,YACb1yB,EAAO8wE,EAAOt+C,QACdq3B,EAASinB,EAAO5+C,eAChBE,EAAS0+C,EAAO3+C,eAmBpB,GAjBIk7F,IAAchhI,EAAKzD,OAASkQ,IAAUzM,EAAKzD,OAAS,GAAKu+H,EAAYzC,EAAK1nD,IAE5Eh9D,EAAKrB,MAAMgC,MAAQ0sH,EAAY,KAE3BhhI,EAAKzD,OAAS,cA8BCihE,EAAQwjE,EAAWj7F,GAC1C,GAAIy3B,EAAOjhE,OAAQ,CACjBwJ,GAAOy3D,EAAO,IAEd,IAAK,IAAIhiE,EAAI,EAAGA,EAAIgiE,EAAOjhE,OAAQf,IAE7BiqI,GAAY1/F,EAAQy3B,EAAOhiE,MAC/BgiE,EAAOhiE,GAAG8W,MAAMgC,KAAOkpD,EAAOhiE,GAAGi/D,WAAaumE,EAAY,OApCxD0E,CAAgBloE,EAAQwjE,EAAWj7F,GAEnCO,EAAIY,UAAU,EAAG,EAAGypC,EAAKqwD,EAAWrtH,EAAKkB,cACzCyxB,EAAIY,UAAUmxF,EAAK2I,EAAW,EAAGrtH,EAAKgB,YAAahB,EAAKkB,iBAIxDlB,EAAKrB,MAAMgC,KAAO,MACbkxH,GAAaxE,GAAalG,GAAWx0F,EAAIY,UAAUypC,GAAM3wE,EAAKzD,OAAS,GAAKu+H,EAAYA,EAAYkG,EAAW,EAAGrtH,EAAKgB,YAAahB,EAAKkB,eAI9I2oD,EAAOjhE,OAAS,GAAKykI,GAAaA,GAAalG,EAAW,CAC5D,IAAIl4F,EAAO46B,EAAOjhE,OAAS,EACvBkpI,GAAY1/F,EAAQy3B,EAAO56B,MAAQA,GAAQ,GAC/C46B,EAAO56B,GAAMtwB,MAAMghB,QAAU,QAIjCwxG,GAAgB1R,GAAO,SAAU1yH,EAAM+jF,GACrC8gD,EAAgB9gD,EAAQmqB,EAAOp3F,MAAMzK,EAAG6hG,EAAOn3F,IAAI1K,EAAW,KAARrM,MAmEvD,SAGsB0yH,EAAOxkB,EAAQoyB,GACtC5N,EAAMp1F,YAAYH,SAASvrB,MAAMgC,KAAOs6F,EAAOp3F,MAAMzK,EAAIi0H,EAAY,KACrE5N,EAAMp1F,YAAYH,SAASvrB,MAAMoC,MAAQk6F,EAAOn3F,IAAI1K,EAAI6hG,EAAOp3F,MAAMzK,EAAIi0H,EAAY,KAtErF2E,CAAgBvS,EAAOxkB,EAAQ02B,EAAWtE,EAAY,GAxEpD4E,CAAiBxS,EAAOpzH,OA3BL6lI,CAAezS,MAEpCA,EAAM0S,mBAAqB1S,EAAMzrH,YAAY,iBAAiB,SAAU2+B,EAAKtmC,EAAM43H,EAAQC,EAAQiD,EAAWvmH,GAE5G,OAgLD,SAGgB6+G,EAAO9sF,EAAKtmC,EAAM43H,EAAQC,EAAQiD,EAAWvmH,GAC9D,IAAIghH,EACA/5H,EACA8pI,EACA5F,EACA39H,EAASqxH,EAAMlrH,UACfyoE,EAAKinD,EAAO7qH,EAAI,GAChB6jE,EAAKz3D,SAAS5E,GAAQsjH,EAAOtjH,EAAG,IAAM,GACtC8jH,EAAKR,EAAO9qH,EAChB,IAAKhL,EAAO8xD,QAAS,OAAO,EAG5B,IAFAyxE,GAAYtlI,EAAKzD,OAAS,GAAKu+H,EAAYzC,EAAK1nD,GAAM3wE,EAAKzD,OAAS62H,EAAM3mH,QAErEjR,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,IAC3BkkI,EAAU/uD,EAAKn1E,EAAIs/H,EACnBvF,EAAS+P,EAAW9pI,EAAI,IAAMA,EAC9BkkI,EAAUlrH,KAAKiC,KAAKipH,GAAW,GAE/BtM,EAAM2S,gBAAgBrG,EAAS9uD,EAAI5wE,EAAKxE,GAAI+5H,GAGxC/5H,GAAKuG,EAAOy5H,MAAMv/E,MAAM/+C,KAAKk2H,EAAOpzH,EAAKxE,KAAK43H,EAAM4S,eAAe1/F,EAAKo5F,EAAS7H,EAAOtjH,EAAGqjH,EAAOrjH,EAAGvU,EAAKxE,IAGhH43H,EAAM6G,SAAY,EAAErzF,cAAa,GAAM,EAAO+pC,EAAIknD,EAAOtjH,EAAIxS,EAAOwpC,QAAQjlB,OAAS,EAAGvkB,EAAOy5H,MAAMvnG,MAAO,qBAAsB4jG,EAAO9qH,EAAI6qH,EAAO7qH,GAEpJqmH,EAAMgG,UAAU9yF,EAAKqqC,EAAIC,EAAIynD,GAAMiN,EAAWlS,EAAM6R,sBAAwB,GAAIr0D,EAAI7uE,EAAOy5H,MAAM3kE,MAAO,GA7MtGovE,CAAU7S,EAAO9sF,EAAKtmC,EAAM43H,EAAQC,EAAQiD,EAAWvmH,IAChD,KAxBI2xH,CAAKprI,MACTwB,IAqDR,SAGM8oI,GAAUhS,EAAO+S,GACxB,IAAItvF,EACA5O,EAAWmrF,EAAMlrH,UAAU08H,gBAC3B9J,EAAY1H,EAAMlrH,UAAU4yH,UAE5BA,GAAa1H,EAAM3mH,QAAU,IAC1B2mH,EAAM8R,uBAAsB9R,EAAM8R,qBAAuBiB,GAC9DtvF,EAAWsvF,EAAY/S,EAAM8R,qBAC7B9R,EAAM6R,sBAAwBzwH,KAAKwJ,IAAIxJ,KAAKgC,IAAIqgC,EAAW5O,EAAW6yF,EAAW,GAAIA,GACrF1H,EAAMxuG,SACFiyB,EAAW5O,GAAU3qC,OAAO6nI,uBAAsB,SAAU98H,GAC9D+8H,GAAUhS,EAAO/qH,gBAsDdo9H,GAAY1/F,EAAQ0vB,GAC3B,MAAkB,WAAX1vB,IAAyE,IAAlD0vB,EAAMxiD,UAAUxL,QAAQ,sBAiCrD,SAGMq9H,GAAgB1R,EAAO73F,GAC9B,GAAI63F,EAAM6G,SAAU,CAClB,IAAK,IAAIz+H,EAAI,EAAGA,EAAI43H,EAAM2I,QAAQx/H,OAAQf,IACpC43H,EAAM6G,SAASz+H,IAAI+/B,EAAK//B,EAAG43H,EAAM6G,SAASz+H,IAG5C43H,EAAM6G,SAAY,GAAG1+F,EAAK,IAAK63F,EAAM6G,SAAY,IAkEzD,IAAImM,GAAS,CACX1lI,KAAM,QACNoE,MAAO,SAAU/C,GAaf,GAZAjH,KAAKihI,QAAU,CAACjhI,KAAKoN,WACrBpN,KAAKurI,eAAiB,GACtBvrI,KAAKkjC,YAAY/qB,WAAa,eAC9BnY,KAAKslB,OAAO/jB,KAAKvB,KAAK6oD,kBAGlB5hD,EAAOukI,QACTxrI,KAAKyrI,cAAcxkI,GAKjBA,EAAOgkC,OAAQ,CACjB,IAAIA,EAAShkC,EAAOgkC,cACbhkC,EAAOgkC,OACdhkC,EAAOgkC,OAASA,EAGlBjrC,KAAKkF,KAAK6rD,WAAW/wD,MAAM,IAE7B6oD,iBAAkB,WAChB7oD,KAAKkF,KAAK2H,YAAY,iBAAkBpE,GAAK,WAC3CzI,KAAK8pB,OAAOlhB,MAAM5I,KAAMsG,aACvBtG,QAEL+J,SAAU,CACR2hI,UAAW,QACX3vE,MAAO,UACPqjE,MAAO,IACPntD,OAAQ,EACRtX,OAAO,EACPn5D,MAAO,cACPivC,QAAS,GACTnsC,KAAM,MACNmtE,UAAW,UACXmtD,KAAM,GACNzpD,SAAU,GACVjoC,KAAM,CACJtzB,MAAO,EACPmiD,MAAO,WAET9+C,KAAM,CACJg1D,OAAQ,EACRmY,YAAa,UACb5gD,YAAa,EACbuyB,MAAO,UACPqjE,MAAO,EACP96H,KAAM,IACN64H,QAAQ,GAEVA,QAAQ,EACRG,UAAU,EACV32B,QAAQ,EACRu3B,YAAa,GACbtyH,OAAQ,OACR+/B,MAAO,UAETqtB,IAEA,gBACA3mC,SAAU,CACRs5G,wBAAyB,SAAU5mI,EAAGmC,EAAI7G,GACxC,IAAI4qC,EAAS5qC,EAAI2O,aAEjB,aAEA,GAAIhP,KAAK8M,UAAU,gBAAiB,CAAC/H,EAAGkmC,EAAQ5qC,UACzB,IAAV4qC,GAAyBjrC,KAAKihI,QAAQx/H,OAAS,EAAG,CAC3D,IAAIwF,EAASjH,KAAKoN,UACd44B,EAAS/+B,EAAO2kI,OAAO5lG,QACdA,GAAUA,EAAOiF,GAAQs2E,QAAUt6G,EAAO2kI,OAAOrqB,WAGrB,GAAnClhH,EAAI8X,UAAUxL,QAAQ,UACxB3M,KAAK6rI,WAAW5gG,GAEhBjrC,KAAK8rI,WAAW7gG,OAO5Bw+B,YAAa,GACbL,cAAe,GACf1wD,OAAQ,SAAU3T,GAChB,OAAO2T,GAAO3T,EAAG/E,KAAKg5D,MAExBnxB,SAAU,SAAU51B,EAAGwH,GACrB,IAAInK,EAAMq6B,GAAON,IAAIxB,SAASzlC,KAAKpC,KAAMiS,EAAGwH,GAE5C,GAAInK,EAAK,CACP,IAAK,IAAIxB,KAAK9N,KAAKm/H,SACjBn/H,KAAKm/H,SAASrxH,GAAG89B,cAAc5rC,KAAKioC,eAAgBjoC,KAAKqoC,iBAG3DroC,KAAK8pB,SAGP,OAAOxa,GAETm+D,YAAa,SAAUhqE,GAcrB,OAbAqC,EAAO9F,KAAK,WAAayD,GAAM,4DAA8DA,QAEzD,IAAzBzD,KAAKoN,UAAUkQ,SACxBtd,KAAKoN,UAAUkQ,UAAgD,GAArC7Z,EAAI+C,cAAcmG,QAAQ,UAG3C,SAAPlJ,GAAmBzD,KAAKoN,UAAUqzH,OAAOzgI,KAAKH,OAAO,QAAS,IAEvD,WAAP4D,IACGzD,KAAKoN,UAAUqzH,OAAOzgI,KAAKH,OAAO,QAAS,IAC3CG,KAAKoN,UAAUszH,OAAO1gI,KAAKH,OAAO,QAAS,KAG3C4D,GAETisB,WAAY,WACV1vB,KAAK+rI,kBACLppG,GAAYjT,WAAW9mB,MAAM5I,KAAMsG,YAErCylI,gBAAiB,WACf/rI,KAAKgsC,cAEDhsC,KAAKgsI,aACPhsI,KAAKgsI,WAAWv1H,UAAY,GAE5BzW,KAAKgsI,WAAW3zH,WAAWC,YAAYtY,KAAKgsI,YAE5ChsI,KAAKgsI,WAAa,MAGhBhsI,KAAKm/H,WACPn/H,KAAKm/H,SAAW,IAGlBn/H,KAAKkjC,YAAYzsB,UAAY,GAC7BzW,KAAKihI,QAAU,IAEjBj1F,YAAa,WACX,GAAIhsC,KAAKm/H,UAAsC,UAA1Bl/H,EAAQD,KAAKm/H,UAAuB,IAAK,IAAIrxH,KAAK9N,KAAKm/H,SAC1En/H,KAAKm/H,SAASrxH,GAAGk+B,eAGrBliB,OAAQ,SAAU5iB,EAAI+kI,EAAS3nI,GAC7B,IAAIwvG,EAAQ5uG,EAAMI,EAAKoK,EACvB,GAAK1P,KAAKgqB,UAAUhqB,KAAKoN,UAAUlG,MACnChC,EAAOlF,KAAKksI,gBACPlsI,KAAK8M,UAAU,iBAAkB,CAAC5H,EAAMZ,KAA7C,CAEA,GAAItE,KAAKm/H,UAAsC,UAA1Bl/H,EAAQD,KAAKm/H,UAChC,IAAK,IAAIz+H,KAAKV,KAAKm/H,SACjBn/H,KAAKm/H,SAASz+H,GAAGsrC,mBAEdhsC,KAAKm/H,SAAW,GAYvB,GAVIn/H,KAAKoN,UAAUw+H,SACZ5rI,KAAKm/H,SAAiB,SAAGn/H,KAAKm/H,SAAiB,OAAIn/H,KAAKwkI,cAAc,WAE3ExkI,KAAKmsI,YAAYnsI,KAAKkF,KAAKioD,WAAYntD,KAAKioC,eAAgBjoC,KAAKqoC,kBAGnEroC,KAAK2kE,KAAOr/D,EAAM,IAAIo/D,GAAQ1kE,KAAKg5D,KACnCtpD,EAAO1P,KAAKoN,UACZ0mG,EAAS9zG,KAAK+pI,gBAAgB/pI,KAAKioC,eAAgBjoC,KAAKqoC,iBAEpDroC,KAAKihI,QACP,IAAK,IAAI7/H,EAAK,EAAGA,EAAKpB,KAAKihI,QAAQx/H,OAAQL,IACzCpB,KAAKoN,UAAYpN,KAAKihI,QAAQ7/H,GACzBpB,KAAKm/H,SAAS/9H,KAAKpB,KAAKm/H,SAAS/9H,GAAMpB,KAAKwkI,cAAcxkI,KAAK4F,KAAO,IAAMxE,EAAI,YAAc,EAAIA,GAAK,KAAMA,EAAIpB,KAAKoN,UAAUs+H,YAErI1rI,KAAK,WAAaA,KAAKoN,UAAU9I,MAAMtE,KAAKm/H,SAAS/9H,GAAImqC,YAAarmC,EAAM4uG,EAAOp3F,MAAOo3F,EAAOn3F,IAAKvb,EAAIkE,GAY9G,GARAA,EAAIwkB,OAAO9pB,KAAKkjC,aAChBljC,KAAKkjC,YAAYs3E,UAAUhjG,MAAMse,OAAS,GAE1C91B,KAAKosI,aAAapsI,KAAKkjC,YAAYs3E,UAAW1G,GAE9C9zG,KAAK8M,UAAU,gBAAiB,CAAC5H,IACjClF,KAAKoN,UAAYsC,EAEb1P,KAAKoN,UAAUw+H,QAAU5rI,KAAKoN,UAAUw+H,OAAO5lG,OAGjD,IAFA,IAAIiF,EAASjrC,KAAKoN,UAAUw+H,OAAO5lG,OAE1B11B,EAAM,EAAGA,EAAM26B,EAAOxpC,OAAQ6O,IACjC26B,EAAO36B,GAAK+7H,SAASrsI,KAAK8rI,WAAWx7H,KAI/C87H,aAAc,SAAUvzH,EAAMi7F,GAC5B,IAAIt8F,EAAQ,GAMZ,IAAK,IAAIiQ,KALTjQ,EAAMgC,KAAOs6F,EAAOp3F,MAAMzK,EAC1BuF,EAAM+B,IAAMu6F,EAAOp3F,MAAMjD,EACzBjC,EAAMoC,MAAQk6F,EAAOn3F,IAAI1K,EAAI6hG,EAAOp3F,MAAMzK,EAC1CuF,EAAMsC,OAASg6F,EAAOn3F,IAAIlD,EAAIq6F,EAAOp3F,MAAMjD,EAE1BjC,EACfqB,EAAKrB,MAAMiQ,GAAQjQ,EAAMiQ,GAAQ,MAGrCykH,cAAe,WACb,IAAInH,EAAMuH,EAAYrlI,EAAQ/B,EAAMxE,EAAG6rI,EAAS7vH,EAAOwrH,EAAO1mI,EAAOgrI,EAKrE,GAJAtnI,EAAOlF,KAAKkF,KAAKioD,WACjB43E,GAA4D,GAArD/kI,KAAKoN,UAAU9I,KAAKkC,cAAcmG,QAAQ,QAAgB,QAAU,SAC3E2/H,EAAatsI,KAAKoN,UAAU23H,KAEVuH,EAAWpE,OAAsC,UAA7BjoI,EAAQqsI,EAAWpE,OAAoB,CAI3E,GAFAA,EAAQ,QAEmB,KAH3BjhI,EAASqlI,EAAWpE,OAGFxrH,YAA6C,IAAdzV,EAAO0V,UAA4C,IAAf1V,EAAO5F,SAC1Fqb,EAAQzV,EAAOyV,MAERA,GAASzV,EAAO0V,KACrBurH,EAAM3mI,KAAKmb,GACXA,EAAQzV,EAAO5F,KAAKe,KAAKpC,KAAM0c,OAEmB,mBAA3Cxa,OAAO3B,UAAU4B,SAASC,KAAK6E,KACxCihI,EAAQjhI,GAKV,GAFAslI,EAAU,GAENrE,EAAMzmI,OAAQ,CAIhB,IAHAD,EAAQ8qI,EAAW9qI,MACnBgrI,EAAa,GAER9rI,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,IAC3B8rI,EAAWhrI,EAAM0D,EAAKxE,KAAOA,EAG/B,IAAKA,EAAI,EAAGA,EAAIwnI,EAAMzmI,OAAQf,SACO,IAAxB8rI,EAAWtE,EAAMxnI,KAC1BwE,EAAKsnI,EAAWtE,EAAMxnI,KAAK+rI,MAAQvE,EAAMxnI,GACzC6rI,EAAQhrI,KAAK2D,EAAKsnI,EAAWtE,EAAMxnI,OAEnC6rI,EAAQhrI,KAAK,CACXkrI,MAAOvE,EAAMxnI,KAMrB,OAAO6rI,EAGT,OAAOrnI,GAETwnI,cAAe,SAAUzlI,GACvB,GAAKA,GAA6B,UAAnBhH,EAAQgH,GAEhB,CACLjH,KAAK+xB,eAAgB9qB,EAAOxF,OAAkBwF,EAAO,GAAhBA,GAErCjH,KAAKihI,QAAU,CAACjhI,KAAKoN,WAErB,IAAK,IAAI1M,EAAI,EAAGA,EAAIuG,EAAOxF,OAAQf,IACjCV,KAAK2sI,UAAU1lI,EAAOvG,SAPxBoF,EAAOmB,EAAQ,8CAWjB,OAAOA,GAETizG,aAAc7xF,GACdukH,cAAevkH,GACfwkH,cAAe,SAAU5lI,GACvBjH,KAAKH,OAAO,QAASoH,IAEvB6lI,aAAczkH,GACd0lF,aAAc1lF,GACd0kH,iBAAkB1kH,GAClB2kH,mBAAoB3kH,GACpB4kH,oBAAqB5kH,GACrB6kH,sBAAuB7kH,GACvB8kH,gBAAiB,SAAUlmI,GAEzB,MADqB,mBAAVA,GAAwBA,IAAqB,IAAXA,IAAiBA,EAAS,SAChEA,GAETmmI,SAAU,CACRC,QAAW,SAAUhtI,GACnB,IAAI4d,EAASvE,KAAKqgB,MAAM/5B,KAAKimD,aAAa5lD,EAAI6G,IAAMlH,KAAK2R,QAAU,MAEnE,OADc,MAAVsM,IAAgBA,GAAU,GACvBje,KAAKstI,SAAS5zH,KAAKqgB,MAAM9b,EAAS,MAAMA,EAAS,MAE1D+O,QAAW,SAAU3sB,GACnB,IAAIsR,EAAQ3R,KAAK2R,QACb+jE,EAAc11E,KAAKw1E,WAAW/zE,OAC9Bf,EAAIV,KAAKimD,aAAa5lD,EAAI6G,IAU9B,OARIwuE,EAAc/jE,GACZjR,IAC2BA,EAAzBA,EAAIg1E,EAAc/jE,EAAW3R,KAAKu1E,iBAAmB,EAAWv1E,KAAKu1E,iBAAmB,GAG9Fv1E,KAAKu1E,iBAAmB70E,GACnBA,GAAQg1E,EAER11E,KAAKw1E,WAAW90E,KAG3B6sI,aAAc,SAAU/rI,GACtB,OAAOxB,KAAKotI,SAAS5rI,IAAU6mB,GAAS7mB,IAE1CgsI,YAAa,SAAUhsI,GACrB,SAAQA,GAAkB,KAATA,IAAuB6mB,GAAS7mB,IAEnDiqI,cAAe,SAAUprI,GACvBL,KAAKH,OAAO,SAAUQ,EAAImrI,eACnBnrI,EAAImrI,QAEbiC,cAAe,SAAUjsI,GACvB,IAAIyH,EAAG4E,EAAG29H,EAIV,GAHAxrI,KAAK+J,SAAWpK,EAAQ8J,OAAO,GAAIzJ,KAAK+J,UAGjB,UAAnB9J,EAFJurI,EAASxrI,KAAK0tI,QAAQlsI,IAEW,CAC/B,IAAKyH,KAAKuiI,EACR,GAA0B,UAAtBvrI,EAAQurI,EAAOviI,IACjB,GAAKjJ,KAAK+J,SAASd,IAAmC,UAA7BhJ,EAAQD,KAAK+J,SAASd,IAK7C,IAAK4E,KAFL7N,KAAK+J,SAASd,GAAKtJ,EAAQ8J,OAAO,GAAIzJ,KAAK+J,SAASd,IAE1CuiI,EAAOviI,GACfjJ,KAAK+J,SAASd,GAAG4E,GAAK29H,EAAOviI,GAAG4E,QALlC7N,KAAK+J,SAASd,GAAKtJ,EAAQ8J,OAAO,GAAI+hI,EAAOviI,SAS/CjJ,KAAK+J,SAASd,GAAKuiI,EAAOviI,GAI9B,OAAOzH,EAGT,OAAO,GAETmsI,cAAe,SAAU1mI,GACvB,OAAKA,GASkB,UAAnBhH,EAAQgH,KACVA,EAAS,CACP4iB,SAAU5iB,IAGdjH,KAAK0iC,eAAez7B,EAAQ,CAC1B2S,MAAO,IACPE,OAAQ,GACR6Q,OAAQ,IACRmG,MAAO,OACPib,OAAQ,SACRliB,SAAU,GACV03F,QAAgE,GAAxDvhH,KAAKoN,UAAU9I,KAAKkC,cAAcmG,QAAQ,WAAmB,GAAK,OAC1E4yB,OAAQ,CACNj7B,KAAM,SACNsV,MAAO,GACPE,OAAQ,GACRm4D,OAAQ,GAEVpR,OAAQ,EACRpwB,QAAS,IAGXxpC,EAAO4iB,SAAWxB,GAASphB,EAAO4iB,UAC3B5iB,IAhCDjH,KAAKgsI,aACPhsI,KAAKgsI,WAAWv1H,UAAY,GAC5BzW,KAAKgsI,WAAa,OAGb,IA6BXx+D,YAAa,SAAUvmE,GACE,UAAnBhH,EAAQgH,KAAqBA,EAAS,CACxC80D,MAAO90D,EACPmjF,YAAanjF,IAGfjH,KAAK0iC,eAAez7B,EAAQtH,EAAQ8J,OAAO,GAAIzJ,KAAK+J,SAASkT,OAM7D,OAFAjd,KAAK4tI,kBAFU,CAAC,QAAS,cAAe,QAAS,SAAU,QAE1B3mI,GAE1BA,GAET4mI,YAAa,SAAU5mI,GAMrB,MALuB,UAAnBhH,EAAQgH,KAAqBA,EAAS,CACxC80D,MAAO90D,KAETA,EAAStH,EAAQ8J,OAAOxC,EAAQjH,KAAK+J,SAASmjC,OACvC6uB,MAAQ1zC,GAASphB,EAAO80D,OACxB90D,GAET6mI,eAAgB,SAAU7mI,GAexB,MAduB,UAAnBhH,EAAQgH,KAAqBA,EAAS,CACxCuS,KAAMvS,EACNglB,MAAOhlB,EACPsS,IAAKtS,EACLukB,OAAQvkB,IAGVjH,KAAK0iC,eAAez7B,EAAQ,CAC1BuS,KAAM,GACNyS,MAAO,GACP1S,IAAK,GACLiS,OAAQ,KAGHvkB,GAET8mI,aAAc,SAAU9mI,GACtB,IAAKA,EAAQ,OAAO,EACG,UAAnBhH,EAAQgH,KAAqBA,EAAS,CACxC4iB,SAAU5iB,IAGZjH,KAAK0iC,eAAez7B,EAAQ,CAC1BkyB,MAAO,GACP4iC,MAAO,UACP0V,UAAW,UACX5nD,SAAU,QACVs3B,OAAO,IAQT,OAHAnhD,KAAK4tI,kBAFW,CAAC,YAAa,WAAY,SAER3mI,GAElCjH,KAAKilI,aAAetlI,EAAQ8J,OAAO,GAAIxC,GAChCA,GAET+mI,aAAc,SAAU/mI,GACtBjH,KAAK0iC,eAAez7B,EAAQ,CAC1BkyB,MAAO,GACP4iC,MAAO,UACP0V,UAAW,UACX5nD,SAAU,QACVs3B,OAAO,EACPmnF,GAAI16F,GAAQiD,YAQd,OAHA7wC,KAAK4tI,kBAFW,CAAC,YAAa,WAAY,QAAS,MAEjB3mI,GAElCjH,KAAKioI,aAAetoI,EAAQ8J,OAAO,GAAIxC,GAChCA,GAET2mI,kBAAmB,SAAUntI,EAAKwG,GAChC,IAAK,IAAIvG,EAAI,EAAGA,EAAID,EAAIgB,OAAQf,IAC9BuG,EAAOxG,EAAIC,IAAM2nB,GAASphB,EAAOxG,EAAIC,MAGzC8jI,cAAe,SAAU5+H,EAAM4R,EAAOgX,EAAW2E,EAAUgG,GACzD,IAAIhwB,EAAS,CACXqlB,UAAWA,GAAaxuB,KAAKkjC,YAC7Bt9B,KAAMA,EACNuzB,MAAOnwB,EAAYmwB,GAASvzB,EAAOuzB,GAAS,GAC5C8R,OAAQ9X,EACR3b,MAAOA,GAAS,GAChBoC,MAAO5Z,KAAKioC,eACZnuB,OAAQ9Z,KAAKqoC,iBAEf,OAAO,IAAIyC,GAAO3hC,IAEpBy3H,YAAa,SAAU17H,EAAM43H,EAAQC,EAAQrgH,EAAOC,EAAKqjH,GACvD,IAAIx0F,EACA/xB,EAAI,EAaR,OAXIzZ,KAAKoN,UAAUqzH,QACZzgI,KAAKm/H,SAAY,IAAGn/H,KAAKm/H,SAAY,EAAIn/H,KAAKwkI,cAAc,WACjE/qH,EAAIzZ,KAAK8oI,WAAW9oI,KAAKm/H,SAAY,EAAE5zF,YAAarmC,EAAM43H,EAAQC,EAAQrgH,EAAOC,IAG/E3c,KAAKoN,UAAUszH,QACZ1gI,KAAKm/H,SAAY,IAAGn/H,KAAKm/H,SAAY,EAAIn/H,KAAKwkI,cAAc,WACjEh5F,EAAMxrC,KAAKm/H,SAAY,EAAE5zF,YACrBvrC,KAAK8M,UAAU,gBAAiB,CAAC0+B,EAAKtmC,EAAM43H,EAAQC,EAAQiD,EAAWvmH,KAAKzZ,KAAK8gI,WAAWt1F,EAAKtmC,EAAM43H,EAAQC,EAAQiD,EAAWvmH,IAGjIA,GAETqnH,WAAY,SAAUt1F,EAAKtmC,EAAM43H,EAAQC,EAAQiD,EAAWvmH,GAC1D,IAAI/Y,EACAkkI,EACA39H,EAASjH,KAAKoN,UACdyoE,EAAKinD,EAAO7qH,EAAI,GAChB6jE,EAAKz3D,SAAS5E,GAAQsjH,EAAOtjH,EAAG,IAAM,GACtC8jH,EAAKR,EAAO9qH,EACZwoH,GAAS,EACTwT,EAAwB,cAAfhnI,EAAO3C,KAAuBy4H,EAAOtjH,EAAI,GAAMq8D,EAE5D,IAAKp1E,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,IAAK,EACV,IAAlBuG,EAAOqW,OAAiBsnH,EAAU/uD,EAAKmqD,EAAY,EAAIt/H,EAAIs/H,GAC7D4E,EAAUlkI,GAAKwE,EAAKzD,OAAS,GAAMwF,EAAO+4H,UAAuBnqD,EAAKn1E,EAAIs/H,EAApBjD,EAAO9qH,EAC7DwoH,IAAW/5H,GAEbkkI,EAAUlrH,KAAKiC,KAAKipH,GAAW,GAG/B,IAAIrrH,EAAuB,QAAjBtS,EAAO2E,QAAmC,OAAf3E,EAAO3C,MAAiB2mB,WAAWhkB,EAAOzF,MAAM0D,EAAKxE,KAAOuG,EAAO2E,OAExG5L,KAAKirI,gBAAgBrG,EAASqJ,EAAQ/oI,EAAKxE,GAAI+5H,EAAQlhH,IAIlDtS,EAAOqW,QAAU5c,GAAKuG,EAAO+4H,YAAc/4H,EAAOy5H,MAAMv/E,MAAM/+C,KAAKpC,KAAMkF,EAAKxE,KAAKV,KAAKkrI,eAAe1/F,EAAKo5F,EAAS7H,EAAOtjH,EAAGqjH,EAAOrjH,EAAGvU,EAAKxE,IAGrJV,KAAKm/H,SAAY,EAAErzF,cAAa,GAAM,EAAO+pC,EAAIknD,EAAOtjH,EAAIxS,EAAOwpC,QAAQjlB,OAAS,EAAGvkB,EAAOy5H,MAAMvnG,MAAO,qBAAsB4jG,EAAO9qH,EAAI6qH,EAAO7qH,GAEnJjS,KAAKs+H,UAAU9yF,EAAKqqC,EAAIC,EAAIynD,EAAIznD,EAAI7uE,EAAOy5H,MAAM3kE,MAAO,GAInD90D,EAAOy5H,MAAMv/E,MAAM/+C,KAAKpC,KAAM,KAAQiH,EAAOqW,QAElDtd,KAAKs+H,UAAU9yF,EAAK+xF,EAAK,GAAKR,EAAOtjH,EAAG8jH,EAAK,GAAKT,EAAOrjH,EAAI,GAAKxS,EAAOy5H,MAAMjvD,UAAUrvE,KAAKpC,KAAM,IAAK,IAE3G8oI,WAAY,SAAUt9F,EAAKtmC,EAAM43H,EAAQC,EAAQrgH,EAAOC,GACtD,IAAI0pC,EACAy+E,EAAa,GACjB,GAAK9kI,KAAKoN,UAAUqzH,MAApB,CACA,IAAI5qD,EAAKinD,EAAO7qH,EAAI,GAChB6jE,EAAKinD,EAAOtjH,EACZ+jH,EAAKV,EAAOrjH,EACZy0H,EAAQnR,EAAOtjH,EAAI,GAevB,GAbIzZ,KAAKoN,UAAUqzH,MAAMp6E,OAAMA,EAAOp7B,WAAWjrB,KAAKoN,UAAUqzH,MAAMp6E,YAEjC,IAA1BrmD,KAAKioI,aAAa5hF,WAAyD,IAA3BrmD,KAAKioI,aAAavrH,YAAwD,IAAzB1c,KAAKioI,aAAatrH,KAE5HD,GADAooH,EAAa9kI,KAAKklI,gBAAgBxoH,EAAOC,IACtBD,MACnBC,EAAMmoH,EAAWnoH,IACjB0pC,EAAOy+E,EAAWz+E,KAClBrmD,KAAKoN,UAAUqzH,MAAM9jH,IAAMA,EAC3B3c,KAAKoN,UAAUqzH,MAAM/jH,MAAQA,GACC,eAArB1c,KAAKiH,OAAO0kC,QAAwB3rC,KAAKqhI,eAAgB,GAEpErhI,KAAK6kI,eAAe/H,EAAQC,GAEf,IAAT12E,EAAJ,CAEA,GAAI1pC,GAAOD,EACT,OAAOo5D,EAOT,IAJA,IAAIqvD,GAAcrvD,EAAK0nD,GAAMn3E,GAAQ1pC,EAAMD,GACvC5O,EAAI,EACJlC,EAAS5L,KAAKoN,UAAUxB,OAEnBlL,EAAIgc,EAAOhc,GAAKic,EAAKjc,GAAK2lD,EAAM,CACvC,IAAI7kD,EAAQxB,KAAKqhI,cAAgB3nH,KAAK0rH,IAAI,GAAI1kI,GAAKA,EAC/CokI,EAAWO,SAAQ7jI,EAAQypB,WAAWzpB,GAAO+wF,QAAQuyC,EAAWO,SACpE,IAAI8I,EAAKz0H,KAAKqgB,MAAM+7C,EAAKhoE,EAAIq3H,GAAc,GAO3C,GAJMzkI,GAAKgc,GAAmB,QAAV9Q,IAAqB5L,KAAKoN,UAAUqzH,MAAMt/E,MAAM/+C,KAAKpC,KAAMU,IAAIV,KAAKs+H,UAAU9yF,EAAKqqC,EAAIs4D,EAAIpR,EAAO9qH,EAAGk8H,EAAInuI,KAAKoN,UAAUqzH,MAAMhvD,UAAUrvE,KAAKpC,KAAMU,GAAI,GAC7J,QAAVkL,GAAoBlL,GAAKkL,GAAUlL,EAAI2lD,EAAOz6C,IAAQsiI,EAAQC,EAAKhJ,GAAcv5H,EAASpK,GAAS6kD,GAGnGA,EAAO,IAAMrmD,KAAKqhI,cAAe,CACnC,IAAIkE,EAAQ7rH,KAAKwJ,IAAIxJ,KAAKqgB,MAAM/5B,KAAKshI,OAAOj7E,IAAQ3pC,GAAS,EAAI,EAAIhD,KAAKqgB,MAAM/5B,KAAKshI,OAAO5kH,KACxF+mH,EAAO/pH,KAAK0rH,IAAI,IAAKG,GAEzB7kI,EADAc,EAAQkY,KAAKC,MAAMnY,EAAQiiI,GAAQA,EAIrCzjI,KAAKm/H,SAAY,EAAEtzF,WAAW,EAAGsiG,EAAK,EAAGnuI,KAAKoN,UAAUqzH,MAAM52G,SAASroB,EAAMW,YAAa,oBAAqB26H,EAAO7qH,EAAI,GAC1HnE,IAKF,OAFA9N,KAAKs+H,UAAU9yF,EAAKqqC,EAAIC,EAAK,EAAGD,EAAI2nD,EAAIx9H,KAAKoN,UAAUqzH,MAAM1kE,MAAO,GAE7DmyE,KAETrJ,eAAgB,SAAU/H,EAAQC,GAChC,IACI52H,EAAOnG,KAAKm/H,SAAY,EAAErzF,aAAa,UAAU,EAAO,EAAGztB,UAAU0+G,EAAOtjH,EAAIqjH,EAAOrjH,GAAK,EAAIqjH,EAAOrjH,EAAG,IAAKzZ,KAAKoN,UAAUqzH,MAAMtnG,MADxH,sBAEZhzB,IAAMA,EAAKqR,MAAMgC,MAAQrT,EAAK4T,aAAe5T,EAAK0T,aAAe,EAAI,OAE3Eu0H,mBAAoB,SAAUC,EAAMC,GAGlC,MAAO,CACL5xH,MAHehD,KAAKqgB,MAAM/5B,KAAKshI,OAAO+M,IAItChoF,KAAM,EACN1pC,IAJajD,KAAKiC,KAAK3b,KAAKshI,OAAOgN,MAOvCC,UAAW,SAAUloF,GACnB,IAAIk/E,EAAQ7rH,KAAKqgB,MAAM/5B,KAAKshI,OAAOj7E,IAC/BmoF,EAAa90H,KAAK0rH,IAAI,GAAIG,GAC1BkJ,EAAUpoF,EAAOmoF,EAErB,OADAC,EAAUA,EAAU,EAAI,GAAK,EACtBpwH,SAASowH,EAAS,IAAMD,GAEjCtJ,gBAAiB,SAAUmJ,EAAMC,GAG/B,GAFAtuI,KAAKqhI,eAAgB,EAEO,eAAxBrhI,KAAKoN,UAAUu+B,MAAwB,CACzC,IAAI+iG,EAASh1H,KAAKqgB,MAAM/5B,KAAKshI,OAAO+M,IAChCM,EAASj1H,KAAKiC,KAAK3b,KAAKshI,OAAOgN,IAEnC,GAAID,EAAO,GAAKC,EAAO,GAAKK,EAASD,EAAS,EAE5C,OADA1uI,KAAKqhI,eAAgB,EACdrhI,KAAKouI,mBAAmBC,EAAMC,GAKzC,IAAI5xH,EAAOC,EADkB,QAAzB3c,KAAKoN,UAAUxB,QAAoB5L,KAAKoN,UAAUxB,OAASyiI,IAAMA,EAAOruI,KAAKoN,UAAUxB,QAG3F,IAAIy6C,EAAOrmD,KAAKuuI,WAAWD,EAAOD,GAAQ,GAAK,GAE3C9I,EAAQ7rH,KAAKqgB,MAAM/5B,KAAKshI,OAAOj7E,IACnC,GAAIA,EAAO3sC,KAAKyS,IAAIkiH,GAAO3xH,EAAQ2xH,EAAO,GAAKhoF,EAAO,MAAO,CAC3D,IAAIuoF,EAAUl1H,KAAKyS,IAAIkiH,GACnBQ,EAAan1H,KAAKqgB,MAAM/5B,KAAKshI,OAAOsN,IACpCE,EAAUF,EAAUl1H,KAAK0rH,IAAI,GAAIyJ,OACDnyH,EAAlB,GAAdmyH,GAAmBxoF,GAAQ,GAAa3sC,KAAKiC,KAAe,GAAVmzH,GAAgB,GAAKp1H,KAAK0rH,IAAI,GAAIyJ,GAAcxoF,EAAkBuoF,EAEpHA,EAAU,GAAKvoF,EAAO,KACxB3pC,EAAQhD,KAAKiC,KAAKe,IAGb2xH,EAAO,EAAI3xH,GAAS2xH,EAAO3xH,GAAS2xH,GACzC3xH,GAAS2pC,EAGPgoF,EAAO,IAAG3xH,GAASA,EAAQ,EAAI2pC,GACnC3pC,GAAgBA,EAAQ2pC,EACxB3pC,EAAQuO,YAAoB,EAARvO,GAAa61E,QAAQ74E,KAAKyS,IAAIo5G,SAEhD+I,EAAO5xH,EAAQ,KAAI2pC,EAAOrmD,KAAKuuI,WAAWD,EAAO5xH,GAAS,GAAK,IACnEC,EAAMD,EACM,GAAR4xH,GAAaA,GAAQD,IAAMC,EAAOjoF,GAE/B1pC,EAAM2xH,GACX3xH,GAAO0pC,EACP1pC,EAAMsO,YAAkB,EAANtO,GAAW41E,QAAQ74E,KAAKyS,IAAIo5G,KAGhD,MAAO,CACL7oH,MAAOA,EACPC,IAAKA,EACL0pC,KAAMA,EACNg/E,OAAQE,EAAQ,EAAI7rH,KAAKyS,IAAIo5G,GAAS,IAG1C5E,WAAY,SAAU54C,EAAavmF,GACjC,IAEI4yE,EAAUD,EAFVjvE,EAAOlF,KAAKkF,KAAK2rD,aAGjBk0E,EAAOz+H,UAAU7E,QAAyB,KAAfsmF,EAAqB/nF,KAAKilI,aAAejlI,KAAKioI,aAG7E,GAFAzmI,EAAQA,GAAS,QAEbujI,QAA2B,IAAZA,EAAKpoH,UAA2C,IAAdooH,EAAKroH,OAAwBqoH,EAAK1+E,KACrF+tB,EAAWnpD,WAAW85G,EAAKpoH,KAC3Bw3D,EAAWlpD,WAAW85G,EAAKroH,YAI3B,GAFA03D,EAAW5S,GAAa9lD,IAAI1b,KAAKihI,QAAQ,GAAGz/H,GAAQ0D,GACpDivE,EAAW4wD,QAA6B,IAAdA,EAAKroH,MAAuBuO,WAAW85G,EAAKroH,OAAS8kD,GAAat+C,IAAIljB,KAAKihI,QAAQ,GAAGz/H,GAAQ0D,GACpHlF,KAAKihI,QAAQx/H,OAAS,EAAG,IAAK,IAAIf,EAAI,EAAGA,EAAIV,KAAKihI,QAAQx/H,OAAQf,IAAK,CACzE,IAAIquI,EAAOvtE,GAAa9lD,IAAI1b,KAAKihI,QAAQvgI,GAAGc,GAAQ0D,GAChD8pI,EAAOxtE,GAAat+C,IAAIljB,KAAKihI,QAAQvgI,GAAGc,GAAQ0D,GAChD6pI,EAAO36D,IAAUA,EAAW26D,GAC5BC,EAAO76D,IAAUA,EAAW66D,GAIpC,MAAO,CACLtzH,IAAK04D,EACLlxD,IAAKixD,IAGTmtD,OAAQ,SAAU79G,GAEhB,OAAO/J,KAAgB,IAAE+J,GAAK/J,KAAKu1H,MAErChE,gBAAiB,SAAUh5H,EAAGwH,EAAGpZ,EAAKo6H,EAAQlhH,GAC5C,GAAKvZ,KAAKoN,UAAUszH,MAApB,CACA,IAAI7nH,EAAO7Y,KAAKm/H,SAAY,EAAErzF,aAAavyB,EAAKkhH,EAAQxoH,EAAGwH,GAAKF,EAAM,EAAI,GAAIvZ,KAAKoN,UAAUszH,MAAM72G,SAASxpB,IACxGwY,IAAMA,EAAKV,WAAa,wBAE9B+yH,eAAgB,SAAU1/F,EAAKv5B,EAAGurH,EAAIoF,EAAIviI,GACnCL,KAAKoN,UAAUszH,OAAU1gI,KAAKoN,UAAUszH,MAAMv/E,OAEnDnhD,KAAKs+H,UAAU9yF,EAAKv5B,EAAGurH,EAAIvrH,EAAG2wH,EAAI5iI,KAAKoN,UAAUszH,MAAMjvD,UAAUrvE,KAAKpC,KAAMK,GAAM,IAEpFi+H,UAAW,SAAU9yF,EAAK+xF,EAAIC,EAAIuE,EAAIa,EAAIrB,EAAU3nH,GAClD4xB,EAAIkyF,YAAc6D,EAClB/1F,EAAI+yF,UAAY3kH,EAChB4xB,EAAImyF,YACJnyF,EAAIoyF,OAAOL,EAAIC,GACfhyF,EAAIsyF,OAAOiE,EAAIa,GACfp3F,EAAIgzF,SACJhzF,EAAI+yF,UAAY,GAElBsC,kBAAmB,SAAU1sD,EAAUC,GAQrC,MAAO,CAJHA,GAAYD,EACHC,EAAWD,EACNA,EAJA,IAQpBm5D,SAAU,CAAC,SAAUrvH,GACnB,MAAO,MAAQ+xD,GAAME,MAAMjyD,EAAS,EAAG,GAAK,MAC3C,SAAUA,GACX,MAAO,MAAQ+xD,GAAME,MAAMjyD,EAAS,EAAI,IAAK,GAAK,MACjD,SAAUA,GACX,MAAO,IAAM+xD,GAAME,MAAM,IAAMjyD,EAAQ,GAAK,QAC3C,SAAUA,GACX,MAAO,QAAU+xD,GAAME,MAAMjyD,EAAQ,IACpC,SAAUA,GACX,MAAO,MAAQ+xD,GAAME,MAAM,IAAMjyD,EAAQ,GAAK,MAC7C,SAAUA,GACX,MAAO,IAAM+xD,GAAME,MAAMjyD,EAAQ,GAAK,SAExCu3D,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAClLD,iBAAkB,EAMlBo3D,UAAW,SAAUtsI,GACnB,IAAIqP,EAAO1P,KAAKoN,UAChBpN,KAAKoN,UAAYzN,EAAQ8J,OAAO,GAAIiG,GAEpC1P,KAAK+xB,eAAe1xB,GAEpBL,KAAKihI,QAAQ1/H,KAAKvB,KAAKoN,WAEvBpN,KAAKoN,UAAYsC,GAEnB2kB,WAAY,SAAU9mB,GACpB,OAAOA,GAETs9B,kBAAmB,SAAUt9B,EAAGxI,GAC9B,IAAImC,EAAKlH,KAAK0Y,OAAO3T,GACrB,IAAKmC,EAAI,OAAO,KAEhB,IAAIw0B,EAAS17B,KAAKkvI,iBAAiBnqI,GAE/B6sB,EAAMjyB,EAAQ8J,OAAO,CACvBsrB,GAAI,GACJC,GAAI,EACJnL,SAAU,cACVvO,IAAK,IACJtb,KAAKihI,QAAQvlG,GAAQpI,SAAW,CACjCzJ,SAAU,KACT,GAIH,OAFA+I,GAAeS,SAASxzB,OAAO+xB,GAExB5xB,KAAK8jC,QAAQ58B,IAEtBgoI,iBAAkB,SAAUnqI,GAC1B,IAAIkE,EAAGijC,EAAOxrC,EAAGwlI,EAAWjoH,EAAQ0iC,EAAW1uC,EAAGwH,EAOlD,IANAyyB,EAAQlsC,KAAK2kE,KAAKC,OAClBshE,EAAYttH,GAAO5Y,KAAKkjC,YAAYH,UAEpC9wB,GADAgM,EAAS7D,GAAIrV,IACFkN,EAAIi0H,EAAUj0H,EACzBwH,EAAIwE,EAAOxE,EAAIysH,EAAUzsH,EAEpB/Y,EAAI,EAAGA,EAAIwrC,EAAMzqC,OAAQf,IAGxBuR,IAFJhJ,EAAIijC,EAAMxrC,GAAGokE,QAEF,IAAM7yD,GAAKhJ,EAAE,IAAMwQ,GAAKxQ,EAAE,IAAMwQ,GAAKxQ,EAAE,KAC5C03C,EACEzU,EAAMxrC,GAAG2c,MAAQsjC,EAAUtjC,QAAOsjC,EAAYzU,EAAMxrC,IACnDigD,EAAYzU,EAAMxrC,IAI7B,OAAOigD,EAAYA,EAAUtjC,MAAQ,GAEvCyuH,WAAY,SAAU7gG,GACpBjrC,KAAKm/H,SAASl0F,GAAQuB,aACtB,IAAIo/F,EAAS5rI,KAAKoN,UAAUw+H,OAExBA,GAAUA,EAAO5lG,QAAU4lG,EAAO5lG,OAAOiF,KAC3C2gG,EAAO5lG,OAAOiF,GAAQohG,SAAU,EAEhCrsI,KAAKmsI,eAGPnsI,KAAK2kE,KAAKjwC,KAAK10B,KAAKkjC,YAAa+H,GAAQ,IAE3C4gG,WAAY,SAAU5gG,GACpBjrC,KAAKm/H,SAASl0F,GAAQsB,aACtB,IAAIq/F,EAAS5rI,KAAKoN,UAAUw+H,OAExBA,GAAUA,EAAO5lG,QAAU4lG,EAAO5lG,OAAOiF,YACpC2gG,EAAO5lG,OAAOiF,GAAQohG,QAE7BrsI,KAAKmsI,eAGPnsI,KAAK2kE,KAAKjwC,KAAK10B,KAAKkjC,YAAa+H,GAAQ,IAU3CkhG,YAAa,SAAUjnI,EAAM0U,GAE3B,IAAIlZ,EACAkrI,EACAuD,EACAC,EACAC,EACAC,EACA93H,EAGAg0B,EACA+jG,EACA1uH,EACA5D,EALAhL,EAAI,EACJwH,EAAI,EAuCR,GAlCAvU,EAAOA,GAAQ,GACf0U,EAAQA,GAAS5Z,KAAKioC,eACtBuD,EAAMxrC,KAAKm/H,SAAiB,OAAE5zF,YAG9BqgG,EAAS5rI,KAAKoN,UAAUw+H,OAGxBp0H,EAAwC,KAAhCxX,KAAKoN,UAAUw+H,OAAOjhH,OAAgB,SAAWihH,EAAOhyH,MAAQ,KAAO,GAG3E5Z,KAAKgsI,aACPhsI,KAAKgsI,WAAWv1H,UAAY,GAE5BzW,KAAKgsI,WAAW3zH,WAAWC,YAAYtY,KAAKgsI,aAG9ChsI,KAAKm/H,SAAiB,OAAEnzF,aAAY,GACpCmjG,EAAkBr3H,GAAO,MAAO,CAC9B0D,MAAS,qBACThE,MAAS,QAAUvF,EAAI,WAAawH,EAAI,MAAQjC,GAC/C,IAECo0H,EAAOn7F,UACT0+F,EAAgB33H,MAAMi5B,QAAUm7F,EAAOn7F,QAAU,MAGnDzwC,KAAKgsI,WAAamD,EAElBnvI,KAAKkjC,YAAYxrB,YAAYy3H,GAI7BE,EAAc,GACTzD,EAAO5lG,OAEL,IAAKtlC,EAAI,EAAGA,EAAIkrI,EAAO5lG,OAAOvkC,OAAQf,IAC3C2uI,EAAY9tI,KAAKvB,KAAKwvI,gBAAgBL,EAAiBvD,EAAO5lG,OAAOtlC,GAAGyF,UAAoC,IAAvBylI,EAAO5lG,OAAOtlC,GAAGwG,GAAoBjH,EAAQ2rI,EAAO5lG,OAAOtlC,GAAGwG,IAAMxG,EAAGkrI,EAAO5lG,OAAOtlC,GAAG2rI,eAH3J,IAAK3rI,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,IAC/C2uI,EAAY9tI,KAAKvB,KAAKwvI,gBAAgBL,EAAiBvD,EAAO/hH,SAAS3kB,EAAKxE,IAAKwE,EAAKxE,GAAGwG,KAI3F,IACImR,EAAYvU,EADZ2rI,EAAWnlI,SAASyO,KAAKif,SAASh4B,KAAKkjC,aA+C3C,IA5CKusG,IACH3rI,EAAIgU,GAAO,MAAO,CAChBN,MAAS,4DACR,IACHa,EAAarY,KAAKkjC,YAAY7qB,WAC9B/N,SAASyO,KAAKrB,YAAY5T,GAC1BA,EAAE4T,YAAY1X,KAAKkjC,cAGrBosG,EAAcH,EAAgBt1H,YAC9Bu1H,EAAeD,EAAgBp1H,aAM3Bu1H,EAAc11H,IACK,KAAjBgyH,EAAOjhH,QAAiC,UAAhBihH,EAAO96G,QACjC7e,GAAK2H,EAAQ01H,GAAe,GAGV,SAAhB1D,EAAO96G,QACT7e,EAAI2H,EAAQ01H,GAGV1D,EAAO/qE,QAA0B,UAAhB+qE,EAAO96G,QAC1B7e,IAAsB,QAAhB25H,EAAO96G,MAAkB,GAAI,GAAM86G,EAAO/qE,SAIhDuuE,EAAepvI,KAAKqoC,kBACD,UAAjBujG,EAAO7/F,QAAsC,UAAhB6/F,EAAO96G,OAAsC,KAAjB86G,EAAOjhH,OAAelR,GAAKzZ,KAAKqoC,gBAAkB+mG,GAAgB,EAA4B,UAAjBxD,EAAO7/F,SAAoBtyB,EAAIzZ,KAAKqoC,gBAAkB+mG,GAE5LxD,EAAO/qE,QAA2B,UAAjB+qE,EAAO7/F,SAC1BtyB,IAAuB,OAAjBmyH,EAAO7/F,OAAkB,GAAI,GAAM6/F,EAAO/qE,SAIpDsuE,EAAgB33H,MAAMgC,KAAOvH,EAAI,KACjCk9H,EAAgB33H,MAAM+B,IAAME,EAAI,KAGhC+xB,EAAI92B,OAEChU,EAAI,EAAGA,EAAI2uI,EAAY5tI,OAAQf,IAClCuc,EAAOoyH,EAAY3uI,GAEfkrI,EAAO5lG,QAAU4lG,EAAO5lG,OAAOtlC,GAAG2rI,SACpCxrH,GAAW,EACX0uH,EAAY3D,EAAO5lG,OAAOtlC,GAAGgvI,aAAe9D,EAAO5lG,OAAOtlC,GAAGgvI,aAAe,YAE5E7uH,GAAW,EACX0uH,EAAY3D,EAAO5lG,OAAS4lG,EAAO5lG,OAAOtlC,GAAGq7D,MAAQ/7D,KAAKoN,UAAU2uD,MAAM35D,KAAKpC,KAAMkF,EAAKxE,KAG5FV,KAAK2vI,kBAAkBnkG,EAAKvuB,EAAK0iD,WAAa1tD,EAAGgL,EAAK2iD,UAAYnmD,EAAG81H,EAAWtyH,EAAKlD,aAAc8G,EAAUngB,GAG/G8qC,EAAIpP,UAECqzG,IACHp3H,EAAWX,YAAY1X,KAAKkjC,aAC5Bj4B,GAAOnH,IAGTurI,EAAc,MAQhBG,gBAAiB,SAAUvhE,EAAMzsE,EAAOypC,EAAQpqB,GAC9C,IAAIrJ,EAAQ,GACwB,KAAhCxX,KAAKoN,UAAUw+H,OAAOjhH,SAAenT,EAAQ,eAGjD,IAAIrR,EAAO2R,GAAO,MAAO,CACvBN,MAASA,EAAQ,iBAAmB,GAAKxX,KAAKoN,UAAUw+H,OAAOrsG,OAAO3lB,OAAS,KAC/E4B,MAAS,2BAA6BqF,EAAW,UAAY,IAC7DmoB,KAAQ,SACRuiC,SAAY,IACZ,aAAchgE,EAAKigE,MAAM3qD,EAAW,OAAS,QAAU,SAAW,IAAMrf,GACvEA,GAKH,OAJI8E,UAAU7E,OAAS,GAAG0E,EAAKsR,aAE/B,YAAawzB,GACbgjC,EAAKv2D,YAAYvR,GACVA,GAUTwpI,kBAAmB,SAAUnkG,EAAKv5B,EAAGwH,EAAG8nH,EAAUznH,EAAQ+G,EAAUngB,GAClE,IAAI6D,EAAI,GACJg7B,EAASv/B,KAAKoN,UAAUw+H,OAAOrsG,OAC/ByG,EAAShmC,KAAKoN,UAAUw+H,OAAO5lG,OAC/B1hC,EAAO0hC,GAAUA,EAAOtlC,GAAGkvI,WAAa5pG,EAAOtlC,GAAGkvI,WAAarwG,EAAOj7B,KAM1E,GAJIi9H,IACF/1F,EAAIkyF,YAAclyF,EAAIuyF,UAAYwD,GAGxB,SAARj9H,GAAoBi7B,EAAO0yC,OAKxB,GAAY,QAAR3tE,EAAgB,CAEzB,GAAItE,KAAKoN,UAAU8/B,MAA+B,WAAvBltC,KAAKoN,UAAU9I,OAAsBtE,KAAKoN,UAAUu6H,aAAc,CAC3Fn8F,EAAImyF,YACJnyF,EAAI+yF,UAAYv+H,KAAKihI,QAAQvgI,GAAGwsC,KAAKtzB,MACrC4xB,EAAIkyF,YAAc78G,EAAW0gH,EAAWvhI,KAAKihI,QAAQvgI,GAAGwsC,KAAK6uB,MAAM35D,KAAKpC,KAAM,IAC9E,IAAI61E,EAAK5jE,EAAI,EACT6jE,EAAKr8D,EAAIK,EAAS,EACtB0xB,EAAIoyF,OAAO/nD,EAAIC,GACf,IAAIynD,EAAK1nD,EAAKt2C,EAAO3lB,MACrB4xB,EAAIsyF,OAAOP,EAAIznD,GACftqC,EAAIgzF,SAKN,IAAIv3H,EAASjH,KAAKihI,QAAQvgI,GAAGuc,KACzBg1D,EAAS5zD,SAASpX,EAAOgrE,OAAO7vE,KAAKpC,KAAM,IAAK,KAAO,EACvD4vI,EAAa3oI,EAAO3C,KAAKlC,KAAKpC,KAAM,IAEpCiyE,IACFzmC,EAAImyF,YAEA98G,GACF2qB,EAAI+yF,UAAYt3H,EAAOuiC,YACvBgC,EAAIkyF,YAAc6D,EAClB/1F,EAAIuyF,UAAYwD,IAEhB/1F,EAAI+yF,UAAYt3H,EAAOuiC,YACvBgC,EAAIuyF,UAAY92H,EAAO80D,MAAM35D,KAAKpC,KAAM,IACxCwrC,EAAIkyF,YAAcz2H,EAAOmjF,YAAYhoF,KAAKpC,KAAM,IAChDwrC,EAAI4yF,YAAcn3H,EAAOm4H,MAAMh9H,KAAKpC,KAAM,KAG5CwrC,EAAImyF,YACJ1rH,GAAKstB,EAAO3lB,MAAQ,EAAI,EACxBH,GAAKK,EAAS,EAEd9Z,KAAKujI,iBAAiB/3F,EAAKv5B,EAAGwH,EAAGw4D,EAAS,EAAG29D,GAE7CpkG,EAAIk5C,OACJl5C,EAAIgzF,UAGNhzF,EAAI4yF,YAAc,OAElB5yF,EAAImyF,YACJnyF,EAAI+yF,UAAY,EAChBtsH,GAAK,EACLwH,GAAKK,EAAS,EAAIylB,EAAOzlB,OAAS,EAClCvV,EAAI,CAAC,CAAC0N,EAAIstB,EAAO0yC,OAAQx4D,EAAI8lB,EAAO0yC,OAAQ1yC,EAAO0yC,OAAQv4D,KAAKgsD,GAAI,EAAIhsD,KAAKgsD,GAAK,GAAG,GAAQ,CAACzzD,EAAIstB,EAAO3lB,MAAQ2lB,EAAO0yC,OAAQx4D,GAAI,CAACxH,EAAIstB,EAAO3lB,MAAQ2lB,EAAO0yC,OAAQx4D,EAAI8lB,EAAO0yC,OAAQ1yC,EAAO0yC,QAASv4D,KAAKgsD,GAAK,EAAG,GAAG,GAAQ,CAACzzD,EAAIstB,EAAO3lB,MAAOH,EAAI8lB,EAAOzlB,OAASylB,EAAO0yC,QAAS,CAAChgE,EAAIstB,EAAO3lB,MAAQ2lB,EAAO0yC,OAAQx4D,EAAI8lB,EAAOzlB,OAASylB,EAAO0yC,OAAQ1yC,EAAO0yC,OAAQ,EAAGv4D,KAAKgsD,GAAK,GAAG,GAAQ,CAACzzD,EAAIstB,EAAO0yC,OAAQx4D,EAAI8lB,EAAOzlB,QAAS,CAAC7H,EAAIstB,EAAO0yC,OAAQx4D,EAAI8lB,EAAOzlB,OAASylB,EAAO0yC,OAAQ1yC,EAAO0yC,OAAQv4D,KAAKgsD,GAAK,EAAGhsD,KAAKgsD,IAAI,GAAQ,CAACzzD,EAAGwH,EAAI8lB,EAAO0yC,SAEjiBjyE,KAAK0jI,MAAMl4F,EAAKjnC,GAEhBinC,EAAIgzF,SACJhzF,EAAIk5C,WA5DiC,CACrCl5C,EAAImyF,YACJ,IAAIp4H,EAAIg6B,EAAOzlB,OAAS,EACxB0xB,EAAIqyF,IAAI5rH,EAAI1M,EAAI,EAAGkU,EAAIK,EAAS,EAAGvU,EAAG,EAAG,EAAImU,KAAKgsD,IAClDl6B,EAAIk5C,SAiERqlD,gBAAiB,SAAUnwH,EAAOE,GAChC,IAAI+1H,EAASC,EAASC,EAASC,EAM/B,GALAH,EAAU7vI,KAAKoN,UAAUqjC,QAAQj3B,KACjCs2H,EAAU9vI,KAAKoN,UAAUqjC,QAAQl3B,IACjCw2H,EAAUn2H,EAAQ5Z,KAAKoN,UAAUqjC,QAAQxkB,MACzC+jH,EAAUl2H,EAAS9Z,KAAKoN,UAAUqjC,QAAQjlB,OAEtCxrB,KAAKoN,UAAUw+H,OAAQ,CACzB,IAAIA,EAAS5rI,KAAKoN,UAAUw+H,OAGxB0D,EAActvI,KAAKoN,UAAUw+H,OAAOhyH,MACpCw1H,EAAepvI,KAAKoN,UAAUw+H,OAAO9xH,OAGpB,KAAjB8xH,EAAOjhH,OACY,UAAjBihH,EAAO7/F,OACW,SAAhB6/F,EAAO96G,MAAkBi/G,GAAWT,EAAqC,QAAhB1D,EAAO96G,QAAiB++G,GAAWP,GACtE,UAAjB1D,EAAO7/F,OAChBikG,GAAWZ,EAEXU,GAAWV,EAKS,SAAhBxD,EAAO96G,MAAkBi/G,GAAWT,EAAqC,QAAhB1D,EAAO96G,QAAiB++G,GAAWP,GAItG,MAAO,CACL5yH,MAAO,CACLzK,EAAG49H,EACHp2H,EAAGq2H,GAELnzH,IAAK,CACH1K,EAAG89H,EACHt2H,EAAGu2H,KASTrM,kBAAmB,SAAUz+H,GAC3B,IAAIxE,EAAG6gD,EAAG6yB,EAAUD,EAAU3yE,EAE9B,GAAIxB,KAAKoN,UAAUqzH,YAA4C,IAA5BzgI,KAAKoN,UAAUqzH,MAAM9jH,UAA2D,IAA9B3c,KAAKoN,UAAUqzH,MAAM/jH,OAAwB1c,KAAKoN,UAAUqzH,MAAMp6E,KACrJ+tB,EAAWnpD,WAAWjrB,KAAKoN,UAAUqzH,MAAM9jH,KAC3Cw3D,EAAWlpD,WAAWjrB,KAAKoN,UAAUqzH,MAAM/jH,WACtC,CACL,IAAKhc,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,IAI3B,IAHAwE,EAAKxE,GAAGuvI,KAAO,EACf/qI,EAAKxE,GAAG2sD,KAAO1J,EAAAA,EAEVpC,EAAI,EAAGA,EAAIvhD,KAAKihI,QAAQx/H,OAAQ8/C,IACnC//C,EAAQkY,KAAKyS,IAAIlB,WAAWjrB,KAAKihI,QAAQ1/E,GAAG//C,MAAM0D,EAAKxE,KAAO,IAC1DsqB,MAAMxpB,MACmD,GAAzDxB,KAAKihI,QAAQ1/E,GAAGj9C,KAAKkC,cAAcmG,QAAQ,aAAkBzH,EAAKxE,GAAGuvI,MAAQzuI,GAC7EA,EAAQ0D,EAAKxE,GAAG2sD,OAAMnoD,EAAKxE,GAAG2sD,KAAO7rD,IAO7C,IAHA4yE,GAAYzwB,EAAAA,EACZwwB,EAAWxwB,EAAAA,EAENjjD,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,IACvBwE,EAAKxE,GAAGuvI,KAAO77D,IAAUA,EAAWlvE,EAAKxE,GAAGuvI,MAC5C/qI,EAAKxE,GAAG2sD,KAAO8mB,IAAUA,EAAWjvE,EAAKxE,GAAG2sD,MAG9C8mB,EAAW,IAAGA,EAAW,GAG/B,MAAO,CACLz4D,IAAK04D,EACLlxD,IAAKixD,IAKT+tD,gBAAiB,SAAU12F,EAAK+xF,EAAIC,EAAIuE,EAAIa,EAAIt+H,EAAMkuE,EAAUuyD,GAC9D,IAAIzH,EAAU4I,EAAW71D,EAAKgtC,EAAK6yB,EAAWC,EA6B9C,MA3BY,SAAR7rI,GACeg5H,EAAL,KAARyH,EAAwBv5F,EAAI41F,qBAAqB7D,EAAIC,EAAIuE,EAAIvE,GAAoBhyF,EAAI41F,qBAAqB7D,EAAIC,EAAID,EAAIqF,GAC1HuN,EAAQ,CAAC,CAAC,EAAG,WAAY,CAAC,GAAK39D,GAAW,CAAC,EAAGA,IAC9C0zD,EAAY,GACK,WAAR5hI,GAA6B,UAARA,GACbg5H,EAAL,KAARyH,EAAwBv5F,EAAI41F,qBAAqB7D,EAAIC,EAAIuE,EAAIvE,GAAoBhyF,EAAI41F,qBAAqB7D,EAAIC,EAAID,EAAIqF,GAC1HvyD,EAAML,GAAMQ,MAAMgC,IAClB6qC,EAAMrtC,GAAMc,SAAST,EAAI,GAAIA,EAAI,GAAIA,EAAI,KACrC,IAAM,GACV6/D,EAAY,OAASlgE,GAAMW,SAAS0sC,EAAI,GAAIA,EAAI,GAAIA,EAAI,IAAM,IAElD,WAAR/4G,EACF6rI,EAAQ,CAAC,CAAC,EAAGD,GAAY,CAAC,GAAK19D,GAAW,CAAC,EAAGA,IAC7B,UAARluE,IACT6rI,EAAQ,CAAC,CAAC,EAAG39D,GAAW,CAAC,GAAKA,GAAW,CAAC,EAAG09D,KAG/ChK,EAAY,IAEZ16F,EAAI4yF,YAAc,IAClB8H,EAAY,EACK5I,EAAL,KAARyH,EAAwBv5F,EAAI41F,qBAAqB7D,EAAIqF,EAAIrF,EAAIC,GAAoBhyF,EAAI41F,qBAAqB7D,EAAIC,EAAIuE,EAAIvE,GAC1H2S,EAAQ,CAAC,CAAC,EAAG,WAAY,CAAC,GAAK,WAAY,CAAC,IAAM,WAAY,CAAC,IAAM,WAAY,CAAC,GAAK,WAAY,CAAC,EAAG,aAGzGnwI,KAAKowI,UAAU9S,EAAU6S,GAElB,CACL7S,SAAUA,EACVhgH,OAAQ4oH,IAWZ7H,oBAAqB,SAAUp1H,EAAGgJ,EAAGwH,EAAGlU,GAItC,OAHA0D,IAAK,EAGE,CACLgJ,EAHFA,GAAQyH,KAAKisD,IAAI18D,GAAK1D,EAIpBkU,EAHFA,GAAQC,KAAKksD,IAAI38D,GAAK1D,IAMxB6qI,UAAW,SAAU9S,EAAU6S,GAC7B,IAAK,IAAIzvI,EAAI,EAAGA,EAAIyvI,EAAM1uI,OAAQf,IAChC48H,EAASyB,aAAaoR,EAAMzvI,GAAG,GAAIyvI,EAAMzvI,GAAG,KAGhDgjI,MAAO,SAAUl4F,EAAKs5B,GACpB,IAAIpkE,EAAG0H,EAEP,IAAK1H,EAAI,EAAGA,EAAIokE,EAAOrjE,OAAQf,IAC7B0H,EAAS1H,EAAI,SAAW,SACpBokE,EAAOpkE,GAAGe,OAAS,IAAG2G,EAAS,OACnCojC,EAAIpjC,GAAQQ,MAAM4iC,EAAKs5B,EAAOpkE,KAGlC2vI,YAAa,SAAU/qI,EAAK4B,EAAI49D,EAAQgvC,EAAQ8oB,GAC9Ct3H,EAAIu/D,QAAQ39D,EAAI,CAAC49D,EAAO,GAAG7yD,EAAI6hG,EAAO7hG,EAAG6yD,EAAO,GAAGrrD,EAAIq6F,EAAOr6F,EAAGqrD,EAAO,GAAG7yD,EAAI6hG,EAAO7hG,EAAG6yD,EAAO,GAAGrrD,EAAIq6F,EAAOr6F,GAAImjH,KAGxGj9H,EAAQwxB,QAAQm6G,GAAQ5O,GAAOoD,GAAU4C,GAAWkB,GAAW6B,GAAiBW,GAz6E/E,CASbkK,eAAgB,SAAU9kG,EAAKtmC,EAAM43H,EAAQC,EAAQH,EAAQt3H,GAC3D,IAAI2B,EAAQvG,EAAG0qE,EAAO7pB,EAAGp4C,EAAQonI,EAAQt+H,EAAG4jE,EAAI0nD,EAAIwE,EAAItoH,EAAG+jH,EAAIoF,EAS/D,GARAz5H,EAASnJ,KAAK+iI,qBAAqBv3F,EAAKtmC,EAAM43H,EAAQC,EAAQH,GAC9D31H,EAASjH,KAAKoN,UACdpN,KAAKmjI,UAAYrG,EAGjB1xD,EAAQ,GAGJlmE,EAAKzD,OAAQ,CAIf,IAFAo0E,EAAK5uE,EAAOqW,OAASw/G,EAAO7qH,EAAuB,GAAnB9I,EAAO62H,UAAkBlD,EAAO7qH,EAE3DvR,EAAI,EAAGA,EAAIwE,EAAKzD,OAAQf,MAC3B+Y,EAAIzZ,KAAKgjI,WAAW99H,EAAKxE,GAAIo8H,EAAQC,EAAQ5zH,KAE/B,KAALsQ,KACPxH,EAAKvR,EAASyI,EAAO62H,UAAYt/H,EAAI,GAAMm1E,EAAlCA,EACTzK,EAAM7pE,KAAK,CACT0Q,EAAGA,EACHwH,EAAGA,EACH/V,EAAG1D,KAAKoN,UAAU5L,MAAM0D,EAAKxE,IAC7B2c,MAAO3c,KAOb,IAFA6vI,EAASvwI,KAAKwpI,qBAAqBp+D,GAE9B1qE,EAAI,EAAGA,EAAI0qE,EAAM3pE,OAAQf,IAAK,CAIjC,GAHA68H,EAAKnyD,EAAM1qE,GAAGuR,EACdurH,EAAKpyD,EAAM1qE,GAAG+Y,EAEV/Y,EAAI0qE,EAAM3pE,OAAS,EAAG,CAIxB,IAHAsgI,EAAK32D,EAAM1qE,EAAI,GAAGuR,EAClB2wH,EAAKx3D,EAAM1qE,EAAI,GAAG+Y,EAEb8nC,EAAIg8E,EAAIh8E,EAAIwgF,EAAIxgF,IAAK,CACxB,IAAIkoF,EAAMzpI,KAAK0pI,iBAAiBnoF,EAAGg8E,EAAI78H,EAAG6vI,EAAOtnI,EAAGsnI,EAAO1iI,EAAG0iI,EAAOziI,EAAGyiI,EAAOzsI,GAE3E2lI,EAAM3M,EAAOrjH,IAAGgwH,EAAM3M,EAAOrjH,GAC7BgwH,EAAM1M,EAAOtjH,IAAGgwH,EAAM1M,EAAOtjH,GAEjC,IAAIkwH,EAAM3pI,KAAK0pI,iBAAiBnoF,EAAI,EAAGg8E,EAAI78H,EAAG6vI,EAAOtnI,EAAGsnI,EAAO1iI,EAAG0iI,EAAOziI,EAAGyiI,EAAOzsI,GAE/E6lI,EAAM7M,EAAOrjH,IAAGkwH,EAAM7M,EAAOrjH,GAC7BkwH,EAAM5M,EAAOtjH,IAAGkwH,EAAM5M,EAAOtjH,GAEjCzZ,KAAKs+H,UAAU9yF,EAAK+V,EAAGkoF,EAAKloF,EAAI,EAAGooF,EAAK1iI,EAAOimC,KAAK6uB,MAAM72D,EAAKxE,IAAKuG,EAAOimC,KAAKtzB,OAGlF5Z,KAAKs+H,UAAU9yF,EAAKu2F,EAAK,EAAG/hI,KAAK0pI,iBAAiBnoF,EAAGg8E,EAAI78H,EAAG6vI,EAAOtnI,EAAGsnI,EAAO1iI,EAAG0iI,EAAOziI,EAAGyiI,EAAOzsI,GAAIi+H,EAAIa,EAAI37H,EAAOimC,KAAK6uB,MAAM72D,EAAKxE,IAAKuG,EAAOimC,KAAKtzB,OAGvJ5Z,KAAKojI,UAAU53F,EAAK+xF,EAAIC,EAAIt4H,EAAKkmE,EAAM1qE,GAAG2c,OAAQpW,EAAO0zD,MAAMz1D,EAAKkmE,EAAM1qE,GAAG2c,QAASu/G,EAAQt3H,MAMpGkkI,qBAAsB,SAAU1kE,GAC9B,IAAI77D,EACA4E,EACAC,EACAhK,EACApD,EACAgjB,EACA/O,EACAjR,EACA4mC,EAAI,GACJxV,EAAI,GACJrR,EAAIqhD,EAAOrjE,OAEf,IAAKf,EAAI,EAAGA,EAAI+iB,EAAI,EAAG/iB,IACrB4pC,EAAE5pC,GAAKokE,EAAOpkE,EAAI,GAAGuR,EAAI6yD,EAAOpkE,GAAGuR,EACnC6iB,EAAEp0B,IAAMokE,EAAOpkE,EAAI,GAAG+Y,EAAIqrD,EAAOpkE,GAAG+Y,GAAK6wB,EAAE5pC,GAU7C,IANAgD,EAAI,IADJiR,EAAI,IAEF,GAAK,EACPA,EAAE,GAAK,GAAK21B,EAAE,GAAKA,EAAE,IACrB5mC,EAAE,GAAK,EACPA,EAAE,GAAK,GAAKoxB,EAAE,GAAKA,EAAE,IAEhBp0B,EAAI,EAAGA,EAAI+iB,EAAI,EAAG/iB,IACrBiU,EAAEjU,GAAK,GAAK4pC,EAAE5pC,EAAI,GAAK4pC,EAAE5pC,IAAM4pC,EAAE5pC,EAAI,GAAK4pC,EAAE5pC,EAAI,GAAKiU,EAAEjU,EAAI,GAC3DgD,EAAEhD,GAAK,GAAKo0B,EAAEp0B,GAAKo0B,EAAEp0B,EAAI,IAAM4pC,EAAE5pC,EAAI,GAAKgD,EAAEhD,EAAI,GAAKiU,EAAEjU,EAAI,GAM7D,KAHAgjB,EAAI,IACFD,EAAI,GAAKC,EAAE,GAAK,EAEbhjB,EAAI+iB,EAAI,EAAG/iB,GAAK,EAAGA,IACtBgjB,EAAEhjB,IAAMgD,EAAEhD,GAAK4pC,EAAE5pC,GAAKgjB,EAAEhjB,EAAI,IAAMiU,EAAEjU,GAQtC,IALAuI,EAAI,GACJ4E,EAAI,GACJC,EAAI,GACJhK,EAAI,GAECpD,EAAI,EAAGA,EAAI+iB,EAAI,EAAG/iB,IACrBuI,EAAEvI,GAAKokE,EAAOpkE,GAAG+Y,EACjB5L,EAAEnN,IAAM4pC,EAAE5pC,GAAKgjB,EAAEhjB,EAAI,GAAK,EAAI4pC,EAAE5pC,GAAKgjB,EAAEhjB,GAAK,GAAKokE,EAAOpkE,EAAI,GAAG+Y,EAAIqrD,EAAOpkE,GAAG+Y,GAAK6wB,EAAE5pC,GACpFoN,EAAEpN,GAAKgjB,EAAEhjB,GAAK,EACdoD,EAAEpD,IAAMgjB,EAAEhjB,EAAI,GAAKgjB,EAAEhjB,KAAO,EAAI4pC,EAAE5pC,IAGpC,IAAKA,EAAI,EAAGA,EAAIokE,EAAOrjE,OAAS,EAAGf,IACb,IAAhBokE,EAAOpkE,GAAGgD,GAA+B,IAApBohE,EAAOpkE,EAAI,GAAGgD,IACrCuF,EAAEvI,GAAKokE,EAAOpkE,GAAG+Y,EACjB3V,EAAEpD,GAAKoN,EAAEpN,GAAKmN,EAAEnN,GAAK,GAIzB,MAAO,CACLuI,EAAGA,EACH4E,EAAGA,EACHC,EAAGA,EACHhK,EAAGA,IAKP4lI,iBAAkB,SAAUz3H,EAAGqzH,EAAI5kI,EAAGuI,EAAG4E,EAAGC,EAAGhK,GAC7C,OAAOmF,EAAEvI,IAAMuR,EAAIqzH,IAAOz3H,EAAEnN,IAAMuR,EAAIqzH,IAAOx3H,EAAEpN,IAAMuR,EAAIqzH,GAAMxhI,EAAEpD,OAiyEqD8lI,GAAWM,GAAO2B,GAxpD9H,CACZiF,QAAS,CACP8C,OAAU,CACRvzH,KAAM,CACJmtE,YAAa,UACbruB,MAAO,UACPohE,QAAQ,EACR3zF,YAAa,GAEf0D,KAAM,CACJ6uB,MAAO,UACPniD,MAAO,IAGX62H,KAAQ,CACN10E,MAAO,UACP9+C,KAAM,CACJmtE,YAAa,UACb5gD,YAAa,EACbuyB,MAAO,UACPz3D,KAAM,IACN64H,QAAQ,GAEVjwF,KAAM,CACJ6uB,MAAO,UACPniD,MAAO,IAGX82H,QAAW,CACT30E,MAAO,UACP9+C,KAAM,CACJmtE,YAAa,UACbruB,MAAO,UACPz3D,KAAM,IACN2tE,OAAQ,EACRkrD,QAAQ,GAEVjwF,KAAM,CACJ6uB,MAAO,UACPniD,MAAO,IAGXyjC,MAAS,CACP0e,MAAO,UACP4rE,cAAc,EACdjjD,MAAM,EACNmjD,cAAc,EACd5qH,KAAM,CACJ8+C,MAAO,UACPquB,YAAa,UACbnY,OAAQ,EACRzoC,YAAa,EACbllC,KAAM,KAER86H,MAAO,GAETlyF,KAAQ,CACNA,KAAM,CACJ6uB,MAAO,UACPniD,MAAO,GAETqD,KAAM,CACJ8+C,MAAO,UACPquB,YAAa,UACbnY,OAAQ,EACRzoC,YAAa,EACbllC,KAAM,KAERogF,MAAM,EACNmjD,cAAc,EACdF,cAAc,EACdvI,MAAO,GAETxmG,KAAQ,CACN8rD,KAAM,UACNx3C,KAAM,CACJ6uB,MAAO,UACPniD,MAAO,GAETiuH,cAAc,EACdzI,MAAO,GACPuI,cAAc,GAEhBhuH,MAAS,CACPsD,KAAM,CACJg1D,OAAQ,EACRmY,YAAa,UACb5gD,YAAa,EACbuyB,MAAO,UACPz3D,KAAM,IACN64H,QAAQ,EACRiC,MAAO,KAGXuR,OAAU,CACR1zH,KAAM,CACJg1D,OAAQ,EACRmY,YAAa,UACb5gD,YAAa,EACbuyB,MAAO,UACPz3D,KAAM,IACN64H,QAAQ,EACRiC,MAAO,GAETlyF,KAAM,CACJ6uB,MAAO,YAKX1X,OAAU,CACR0X,MAAO,UACPuhE,UAAU,EACVnoD,SAAU,GACVlD,OAAQ,EACRmtD,MAAO,EACPz4B,QAAQ,GAEViqC,MAAS,CACPz7D,SAAU,EACVmoD,UAAU,EACVvhE,MAAO,UACPkW,OAAQ,EACRmtD,MAAO,EACPz4B,QAAQ,GAEVy4B,MAAS,CACPrjE,MAAO,UACPoZ,SAAU,GACVmoD,SAAU,UACVrrD,OAAQ,EACRmtD,MAAO,GACPz4B,QAAQ,KAohDgJ0iC,GAAcO,GAActmE,GAAO74B,GAAa4nB,GAAYqW,GAAa18D,EAAa29B,GAAO30B,MAE3PrV,EAAQwxB,QAAQ,CACdvrB,KAAM,aACNmE,SAAU,CACR8f,SAAU,mEAEXy4E,GAAWttF,MAEd,IAAI67H,GAAS,CACXjrI,KAAM,YACNmE,SAAU,CACR2+B,QAAS,IAEXmoF,eAAgB,kBAChB7mH,MAAO,WACLrK,EAAQ8J,OAAOzJ,KAAKkF,KAAM62E,IAAW,GAErC/7E,KAAKkF,KAAKyM,MAAQ,WAChB,OAAO3R,KAAK03B,MAAMj2B,QAGpBzB,KAAKkF,KAAK6rD,WAAW/wD,MAAM,GAC3BA,KAAKkF,KAAK2H,YAAY,aAAcpE,EAAKzI,KAAK8wI,SAAU9wI,OAExDA,KAAK8wI,YAEPA,SAAU,WACR9wI,KAAK+wI,eAAiB,GACtB/wI,KAAKgxI,cAAgB,IAEvBnpG,SAAU,WACJ8B,GAAON,IAAIxB,SAASj/B,MAAM5I,KAAMsG,aAElCtG,KAAKiqB,SAASzS,MAAMoC,MAAQ5Z,KAAKioC,iBAGrC5V,SAAU,CACR2+F,gBAAiB,SAAUjsH,EAAGmC,GAC5B,OAAIlH,KAAKuqG,qBAELvqG,KAAK+mE,UAAU7/D,IAAOlH,KAAKgnE,YAAY9/D,GAAYlH,KAAK8pB,cAAkB9pB,KAAKoN,UAAUswB,SAC3F19B,KAAKixH,eAAgB,EACQ,eAAzBjxH,KAAKoN,UAAUswB,QAA2B19B,KAAKoN,UAAUgwD,YAAap9D,KAAK09B,OAAOx2B,GAAI,EAAqC,SAA9BlH,KAAKoN,UAAUgwD,aAA0Br4D,EAAEg8B,SAAWh8B,EAAEk8B,QAASl8B,EAAE46B,UAC/J3/B,KAAK09B,OAAOx2B,GACjBlH,KAAKixH,eAAgB,OAI3BlqD,UAAW,SAAU7/D,GACnB,IAAK,IAAIxG,EAAI,EAAGA,EAAIV,KAAKgxI,cAAcvvI,OAAQf,IAC7C,GAAIV,KAAKgxI,cAActwI,IAAMwG,EAAI,CAC/B,IAAK,IAAIq6C,EAAI7gD,EAAG6gD,EAAIvhD,KAAKgxI,cAAcvvI,OAAQ8/C,IAC7CvhD,KAAKkF,KAAK4+B,QAAQ9jC,KAAKgxI,cAAczvF,IAAImF,UAAY,GAcvD,OAXKhmD,GAKHV,KAAK+wI,eAAiB/wI,KAAKkF,KAAKupD,OAAOzuD,KAAKgxI,cAActwI,EAAI,IAE9DV,KAAKgxI,cAAchmI,OAAOtK,KAL1BV,KAAK+wI,eAAiB/wI,KAAKkF,KAAKupD,OAAO,GACvCzuD,KAAKgxI,cAAgB,IAOvBhxI,KAAKixI,gBAAiB,GACf,IAIbjqE,YAAa,SAAU9/D,GACrB,IAAI7G,EAAML,KAAK8jC,QAAQ58B,GAEvB,GAAI7G,EAAIgjE,SAA6D,IAAnDx5D,EAAaqB,KAAK9I,KAAKpC,KAAKgxI,cAAe9pI,GAM3D,OALA7G,EAAIqmD,UAAY,OAChB1mD,KAAK+wI,eAAiB/wI,KAAKkF,KAAKupD,OAAOpuD,EAAI6G,IAE3ClH,KAAKgxI,cAAczvI,KAAK2F,GAEjBlH,KAAKixI,gBAAiB,GAGjCC,aAAc,WACZ,MAAO,CACLt2D,QAAS56E,KAAKgxI,cACdviF,OAAQzuD,KAAK+wI,iBAGjBI,aAAc,SAAUjqI,GACtB,IAAIyG,EAAS,EAEb,GAAIzG,EAAI,CACN,IAAI7G,EAAML,KAAK8jC,QAAQ58B,GACvByG,EAAStN,EAAIgjE,OAAShjE,EAAI6G,GAAK7G,EAAIspD,YAGrC3pD,KAAK+wI,eAAiB/wI,KAAKkF,KAAKupD,OAAO9gD,GACvC3N,KAAKgxI,cAAgB,GAEdrjI,GACL3N,KAAK8jC,QAAQn2B,GAAQ+4C,UAAY,OAEjC1mD,KAAKgxI,cAAc1jI,QAAQK,GAE3BA,EAAS3N,KAAK8jC,QAAQn2B,GAAQg8C,QAIhC3pD,KAAKixH,eAAgB,EACrBjxH,KAAK8pB,SACL9pB,KAAKixH,eAAgB,GAEvBnnG,OAAQ,SAAU5iB,EAAIhC,EAAM4kC,GAC1B,IAGIppC,EAAG0wI,EAHHxrH,EAAQ5lB,KACR4qG,EAAatkG,UAOjB,GAHAtG,KAAKgxI,cAAgBnpI,EAAK7H,KAAKgxI,eAC/BhxI,KAAK+wI,eAAiBlpI,EAAK7H,KAAK+wI,gBAE5B/wI,KAAKgxI,cAAcvvI,OACrB,IAAKf,EAAI,EAAGA,EAAIV,KAAKgxI,cAAcvvI,OAAQf,IACpCV,KAAKkF,KAAKupD,OAAOzuD,KAAKgxI,cAActwI,MACvCV,KAAKgxI,cAAchmI,OAAOtK,EAAG,GAE7BA,KAeN,GAVA0wI,EAAYpxI,KAAKgxI,cAAcvvI,OAASzB,KAAKgxI,cAAchxI,KAAKgxI,cAAcvvI,OAAS,GAAK,EAC5FzB,KAAK+wI,eAAiBlpI,EAAK7H,KAAKkF,KAAKupD,OAAO2iF,KAEvCpxI,KAAK+wI,eAAetvI,QAAUzB,KAAKgxI,cAAcvvI,SACpDzB,KAAK+wI,eAAiB,CAACK,GAEvBpxI,KAAKgxI,cAAclhI,OAIjB9P,KAAKuqG,mBAAoB,OAAOvqG,KAAKuqG,mBAAmBlnG,MAAK,WAC/D,OAAOuiB,EAAMkE,OAAOlhB,MAAMgd,EAAOglF,MAGnC,IAAKlqG,EAAI,EAAGA,EAAIV,KAAK+wI,eAAetvI,OAAQf,IAC1CV,KAAKkF,KAAK4+B,QAAQ9jC,KAAK+wI,eAAerwI,IAAIgmD,UAAY,GAMxD,GAHK1mD,KAAK+wI,eAAetvI,SAAQzB,KAAK+wI,eAAiB/wI,KAAKkF,KAAKupD,OAAO,IACxEzuD,KAAKkF,KAAKwyB,MAAQ/sB,EAAU,GAAG6rB,OAAOx2B,KAAKgxI,eAAex6G,OAAOx2B,KAAK+wI,iBAElE/wI,KAAK8M,UAAU,iBAAkB,CAAC9M,KAAKkF,OAAQ,CACjD,IAAIlF,KAAKixH,eAAkBjxH,KAAKiqB,SAASxT,WAAczW,KAAKoN,UAAUs7B,SAAW1oC,KAAKqxI,2BAA6BrxI,KAAKgxI,cAAcvvI,QAOpI,GAAIzB,KAAK8M,UAAU,iBAAkB,CAAC9M,KAAKkF,OAAQ,CAC5ClF,KAAKsxI,sBAAqBtxI,KAAKsxI,oBAAsB,IAE1D,IAAIC,EAAWvxI,KAAKiqB,SAASghE,WAAU,GAEvCsmD,EAAS96H,UAAYzW,KAAKkF,KAAKioD,WAAW7nD,IAAItF,KAAK2pB,QAAS3pB,MAAMqH,KAAK,IACvE,IAAI+1F,EAASz9F,EAAQ8J,OAAO,GAAIzJ,KAAKoN,UAAUs7B,SAC/C00D,EAAO32D,UAAYzmC,KAAKixI,eAAiB,OAAS,QAGlD,IACIvlH,EADA8lH,EAAU,CAAC9pI,EAAM01F,GAAS11F,EAAM01F,IAEhCp9F,KAAKixI,eAAgBjxI,KAAKsxI,oBAAoB/vI,KAAKvB,KAAK0rB,kBAAuBA,EAAiB1rB,KAAKsxI,oBAAoBxhI,MAC7H,IAAIo9B,EAAOxE,GAAQmE,SAAS0kG,EAAUvxI,KAAKiqB,SAAUmzE,GACrDA,EAAOhyF,OAASpL,KAEhBo9F,EAAOz8E,SAAW,WAChB3gB,KAAKiqB,SAAWsnH,EAGXvxI,KAAKixI,eAEHjxI,KAAKksB,SAAS,EAAG,GADlBR,GAAgB1rB,KAAKksB,SAAS,EAAGR,EAAejS,GAGtDivB,GAAQuE,UAAUC,GAClBkwD,EAAOhyF,OAASgyF,EAAOz8E,SAAW,KAClC3gB,KAAK+iC,SAAW/iC,KAAKuqG,mBAAqB,KAE1CnN,EAAO6N,eAAelnG,UACtB/D,KAAK8M,UAAU,gBAAiB,KAGlC47B,GAAQwE,EAAMskG,GACdxxI,KAAKuqG,mBAAqBnN,EAAO6N,eAAiB9nG,EAASuC,aAxC+E,CAG5I,GAAIwB,GAAkB,WAAZ4iC,IAAuD,IAA/B9pC,KAAKkF,KAAK+gD,aAAa/+C,GAAY,OACrEomE,GAAYxjD,OAAOlhB,MAAM5I,KAAMsG,WAwCjCtG,KAAKqxI,0BAA4BrxI,KAAKgxI,cAAcvvI,SAGxDgwI,oBAAqB,SAAUxqI,GAC7BjH,KAAKsE,KAAKotI,aAAerpH,GAASphB,IAEpC0qI,oBAAqB,SAAU1qI,GAC7BjH,KAAKsE,KAAKstI,aAAevpH,GAASphB,IAEpC4qI,qBAAsB,SAAU5qI,GAC9BjH,KAAKsE,KAAKwtI,cAAgBzpH,GAASphB,IAErC3C,KAAM,CACJulB,SAAU,SAAUxpB,EAAKyoB,GACvB,OAAIzoB,EAAIgjE,OAAev6C,EAAOgpH,cAAczxI,EAAKyoB,GAC1CA,EAAO8oH,aAAavxI,EAAKyoB,IAElCxN,IAAK,QACLk2G,UAAW,SAAUnxH,EAAKyoB,EAAQ4jC,GAChC,MAAO,0BAAiCrsD,EAAIgjE,OAAS,QAAU,SAAWhjE,EAAIqmD,UAAY,QAAU,KAAOgG,GAASA,EAAM+kE,eAAiB,kBAAoB,KAAO3oG,EAAOxN,IAAM,IAAMwN,EAAOxN,IAAM,KAAOjb,EAAI8jD,KAAO,IAAM9jD,EAAI8jD,KAAO,KAE3Opa,cAAe1hB,GAAS,4JAGxBqpH,aAAcrpH,GAAS,WACvBupH,aAAcvpH,GAAS,WACvBypH,cAAezpH,GAAS,WACxB2hB,YAAa,SAAU3pC,GACrB,IAAI2X,EAAO,GAGX,OAFI3X,EAAIgjE,SAAQrrD,GAAQ,wCACxBA,GAAQ,WAIZykD,SAAU,SAAUv1D,IAEJ,IADFlH,KAAKkF,KAAK+gD,aAAa/+C,IACjBlH,KAAKmxI,aAAajqI,GAEpComE,GAAY7Q,SAASr6D,KAAKpC,KAAMkH,KAKpC4lB,GAFcntB,EAAQwxB,QAAQ0/G,GAAQvtE,GAAOwuD,GAAK98G,MAEpC,IAEd,IAAI+8H,GAAS,CACXnsI,KAAM,WACNozD,IAEA,gBACAg5E,eAAgB3pH,GAChByB,OAAQ,SAAU5iB,EAAIhC,EAAMZ,GAC1B,IAAI2C,EAASjH,KAAKoN,UAClB,GAAKpN,KAAKgqB,UAAU/iB,EAAOC,KACtBD,EAAOgrI,QAAZ,CAEA,GAAI/qI,EAAI,CACN,IAAI+mE,EAAOjuE,KAAKglD,YAAY99C,GAE5B,GAAI+mE,GAAgB,UAAR3pE,GAAoBtE,KAAKoN,UAAU6kI,QAAQ7vI,KAAKpC,KAAMkF,IAASlF,KAAK8jC,QAAQ58B,GAAIgrI,WAK1F,OAFA35H,GAFQvY,KAAK+iC,SAAS77B,GAAMlH,KAAK0tE,cAAcxoE,GAE/B+oE,QAChBhjE,GAAOgjE,GAMPjuE,KAAK8M,UAAU,iBAAkB,CAAC9M,KAAKkF,SACzClF,KAAKkoI,MAAQ,KAEbloI,KAAKmyI,YAEDnyI,KAAKkoI,QACPloI,KAAK8M,UAAU,UAAW,IAC1B9M,KAAKiqB,SAASxT,UAAYzW,KAAKoyI,gBAAgB9sI,IAAItF,KAAK2pB,QAAS3pB,MAAMqH,KAAK,IAC5ErH,KAAK+iC,SAAW,MAGlB/iC,KAAK8M,UAAU,gBAAiB,OAGpCukH,SAAU,WACR,IAAI1lH,EAAS,GAEb,GAAI3L,KAAKkoI,MACP,IAAK,IAAIr6H,KAAK7N,KAAKkoI,MACjBv8H,EAAOpK,KAAKsM,GAIhB,OAAOlC,GAET0mI,YAAa,SAAUnrI,GACrB,OAAOlH,KAAKkoI,MAAQloI,KAAKkoI,MAAMhhI,GAAM,MAEvCyiB,QAAS,SAAUtpB,GAEjB,IAAIgV,EAAOrV,KAAKkF,KAAK+mD,OAAO5rD,EAAI6G,IAIhC,OAHApB,GAAQzF,EAAIqmD,WAAa1mD,KAAKsE,KAAK,WAAajE,EAAIqmD,WAAY,oCAAsCrmD,EAAIqmD,WAC1G1mD,KAAK8M,UAAU,eAAgB,CAACzM,IAE5BA,EAAIosI,MACCzsI,KAAKsE,KAAKguI,oBAAoBjyI,EAAKL,KAAKsE,MAAQtE,KAAKsE,KAAKiuI,eAAenwI,KAAKpC,KAAMK,EAAIosI,OAASzsI,KAAKsE,KAAK0lC,YAAY3pC,EAAKL,KAAKsE,MAGnItE,KAAKsE,KAAKylC,cAAc1pC,EAAKL,KAAKsE,KAAM+Q,IAAShV,EAAIqmD,UAAY1mD,KAAKsE,KAAK,WAAajE,EAAIqmD,WAAa1mD,KAAKsE,KAAKulB,UAAUxpB,EAAKL,KAAKsE,MAAQtE,KAAKsE,KAAK0lC,YAAY3pC,EAAKL,KAAKsE,OAExL8tI,cAAe,WACb,IAAIltI,EAAO,GACPge,EAAMljB,KAAKkF,KAAKmoD,MAAQ,EACxB3xC,EAAM1b,KAAKkF,KAAKqoD,MAAQ5J,EAAAA,EACxBhyC,EAAQ,EAEZ,IAAK,IAAIgD,KAAK3U,KAAKkoI,MAAO,CACxBhjI,EAAK3D,KAAK,CACRkrI,MAAO93H,IAIT,IAFA,IAAI0rH,EAAOrgI,KAAKkoI,MAAMvzH,GAEbjU,EAAI,EAAGA,EAAI2/H,EAAK5+H,OAAQf,IAAK,CAKpC,GAJIiR,GAASuR,IAAKhe,EAAO,CAAC,CACxBunI,MAAO93H,KAETzP,EAAK3D,KAAKvB,KAAK8jC,QAAQu8F,EAAK3/H,KACxBiR,GAAS+J,EAAK,OAAO/Q,EAAUzF,GACnCyM,KAIJ,OAAOhH,EAAUzF,IAEnBitI,UAAW,WACT,IAAIK,EAAUxyI,KACdA,KAAKkoI,MAAQ,GACbloI,KAAKkF,KAAKiG,MAAK,SAAU9K,GACvB,IAAIsL,EAAS6mI,EAAQplI,UAAU6kI,QAAQ7vI,KAAKpC,KAAMK,GAElDA,EAAI6xI,WAAavmI,EACZ6mI,EAAQtK,MAAMv8H,KAAS6mI,EAAQtK,MAAMv8H,GAAU,IACpD6mI,EAAQtK,MAAMv8H,GAAQpK,KAAKlB,EAAI6G,QAGnC5C,KAAM,CACJkhG,aAAc,GACdgsB,UAAW,SAAUnxH,EAAKiE,EAAMooD,GAC9B,IAAIpxC,EAAM,kBASV,OARIhX,EAAKgX,MAAKA,GAAO,eAAiBhX,EAAKgX,IAAM,SAC7CoxC,GAASA,EAAMvI,OAAM7oC,GAAO,IAAMoxC,EAAMvI,MAExC9jD,EAAI8jD,OACmB,UAArBlkD,EAAQI,EAAI8jD,QAAmB9jD,EAAI8jD,KAAOhtC,GAAU9W,EAAI8jD,OAC5D7oC,GAAO,IAAMjb,EAAI8jD,MAGZ7oC,GAETi3H,eAAgB,SAAU/wI,GACxB,MAAO,yCAA2CA,EAAQ,WAE5DuoC,cAAe,SAAU1pC,EAAKiE,EAAMooD,GAClC,GAAIrsD,EAAIosI,MAAO,OAAOnoI,EAAKguI,oBAAoB1pI,MAAM5I,KAAMsG,WAC3D,IAAIkR,EAAQ,SAAWlT,EAAKgtH,UAAUjxH,EAAKiE,EAAMooD,GAAS,YAAcpoD,EAAKitH,WAAWlxH,EAAKiE,EAAMooD,GAAS,sBAAwBpoD,EAAKqmB,QAAyB,KAAfrmB,EAAKqmB,OAAgB,cAAgB,IACxL,MAAO,uBAEmBtqB,EAAI6G,GAAK,YAAgB5C,EAAKktH,UAAUnxH,EAAKiE,EAAMooD,GAAS,YAAgBl1C,EAAQ,KAAQlT,EAAKknE,KAAKnrE,EAAKiE,EAAMooD,GAAS,KAEtJ4lF,oBAAqB,SAAUjyI,EAAKiE,EAAMooD,GACxC,IAAIv0C,EAAY,qBAAuB7T,EAAKgX,IAAM,sBAAwBhX,EAAKgX,IAAM,QAAU,IAC3F9D,EAAQ,SAAWlT,EAAKgtH,UAAUjxH,EAAKiE,EAAMooD,GAAS,YAAcpoD,EAAKkhG,aAAe,uBAC5F,MAAO,uBAEmBnlG,EAAIosI,MAAQ,YAAgBt0H,EAAY,YAAgBX,EAAQ,OAG9Fsa,MAAO,WACLggG,GAAKzoF,IAAIvX,MAAM1vB,KAAKpC,MACpBA,KAAKsE,KAAKkhG,aAAe53D,GAAQkB,mBAGvBnvC,EAAQwxB,QAAQ4gH,GAAQjgB,GAAK98G,MAE3CzJ,EAAKknI,QAAU,CACb9iE,UAAW,0DACX+iE,UAAW,mDACXC,YAAa,yDACbC,YAAa,mDAEf,IAAIC,GAAS,CACXjtI,KAAM,UACNmE,SAAU,CACRqxB,YAAY,GAEdpxB,MAAO,WACLhK,KAAK8yI,OAAS,GACd9yI,KAAK+yI,SAAWtqI,GAAK,SAAUpI,GAC7B,OAAOL,KAAK8yI,OAAOzyI,EAAI6G,MACtBlH,MACHA,KAAKgzI,QAAUvqI,GAAK,SAAUpI,GAC5B,OAAQL,KAAK8yI,OAAOzyI,EAAI6G,MACvBlH,MACHA,KAAK6qB,MAAM1S,WAAa,iBACxBnY,KAAKslB,OAAOhY,QAAQtN,KAAK2uH,aAE3B/nG,QAAS,SAAU1hB,EAAM+gB,GACvB,IAAIzM,EAAOxZ,KAAK6uB,GAAG,QACf5C,EAAQjsB,KAAK6uB,GAAG,SAapB,OAXA7uB,KAAKizI,kBAAiB,WACpBz5H,EAAKtU,KAAK+gB,OAASA,EACnBzM,EAAKpI,MAAMlM,GACX+mB,EAAM/mB,KAAK+gB,OAASA,EACpBgG,EAAM7a,MAAMlM,MAGdlF,KAAKkzI,aAAc,EAEnBlzI,KAAKmzI,YAEE,GAETC,YAAa,WACX,IAA+B,IAA3BpzI,KAAKoN,UAAUksB,QAAmB,MAAO,CAC3C1f,MAAO,IAET,IAAIm8E,EAASxqF,EAAKknI,QACdn5G,EAAU,CAACt5B,KAAKqzI,WAAW,eAAgBt9C,EAAO48C,aAAc3yI,KAAKqzI,WAAW,aAAct9C,EAAOpmB,WAAY3vE,KAAKqzI,WAAW,eAAgBt9C,EAAO68C,aAAc5yI,KAAKqzI,WAAW,aAAct9C,EAAO28C,YAW/M,OAVAp5G,EAAU,CACR1f,MAAO,IACPiQ,SAAUyP,EAAQjyB,KAAK,IACvB0hE,QAAS,CACPuqE,eAAgB,SAAUvuI,EAAGmC,EAAIyR,GAC/B3Y,KAAKiiC,mBAAmBsxG,aAAa56H,EAAI3J,aAAa,cAIxDhP,KAAKoN,UAAUksB,UAASA,EAAQzP,SAAW7pB,KAAKoN,UAAUksB,SACvDA,GAET+5G,WAAY,SAAUz5E,EAAQe,GAC5B,MAAO,0CAA4Cf,EAAS,KAAOe,EAAQ,aAE7E64E,SAAU,SAAUtsI,EAAI0yD,EAAQe,EAAOnvC,GACrC,IAAIgmC,EAAO,CACTx8C,KAAM,OACN0oB,OAAQ,cACR0/B,YAAa,QACbl2D,GAAIA,EACJ0yD,OAAQA,EACRlf,MAAM,EACNp2C,KAAM,CACJu8D,OAAQ,EACR35D,GAAIA,GAENoiD,GAAI,CACFmqF,aAAc,SAAU/mH,GACtB,IAAIznB,EAASynB,EAAQrqB,KACjByF,EAAS4kB,EAAQ0gC,GACjB7zC,EAAMtU,EAAOg9B,mBAEjB,GAAI1oB,IAAQvZ,KAAKiiC,mBAAoB,CACnC,IAAInwB,EAAkC,cAA3BhK,EAAOsF,UAAUwsD,OAC5BrgD,EAAImkB,OAAOhR,EAAQznB,OAAQ6M,GAG7B,OAAO,GAET4hI,eAAgB,WACd,OAAO1zI,KAAKiiC,mBAAmBsxG,aAAavzI,KAAKiH,OAAO2yD,WAY9D,OARI55D,KAAKoN,UAAUokD,MAAM7xD,EAAQ8J,OAAO+nD,EAAMxxD,KAAKoN,UAAUokD,MAAM,GAC/DmJ,IAAOnJ,EAAO,CAChB/zC,KAAM,CAAC,CACLzI,KAAM,QACN2lD,MAAOA,EACPr/C,IAAK,uBACJk2C,KAEDhmC,EAAe,CACjB/N,KAAM,CAAC+zC,EAAM,CACXx8C,KAAM,QACN8E,OAAQ,GACR6gD,MAAOnvC,EACPlQ,IAAK,kBAGFk2C,GAETm9D,WAAY,WACV,IAAI/9F,EAAO,CAAC,CACViwC,OAAQ,GACRv8D,KAAM,QACNssB,KAAM,CAAC5wB,KAAKwzI,SAAS,OAAQ,aAAcxzI,KAAKoN,UAAUumI,UAAW3zI,KAAKoN,UAAUwmI,iBAAkB5zI,KAAKozI,cAAepzI,KAAKwzI,SAAS,QAAS,eAAgBxzI,KAAKoN,UAAUi5G,WAAYrmH,KAAKoN,UAAUymI,qBAE7M7zI,KAAK++F,YAAYnuE,IAEnB2iH,aAAc,SAAU35E,GACtB,IAAIrgD,EAAMvZ,KACNkH,EAAK,KACL4K,GAAO,EAEI,eAAX8nD,GACF1yD,EAAKqS,EAAIsV,GAAG,QAAQ3pB,KAAKwyB,MACzB5lB,GAAO,GACa,eAAX8nD,GACT1yD,EAAKqS,EAAIsV,GAAG,QAAQ2U,eAAc,GAClC1xB,GAAO,GACa,iBAAX8nD,GACT1yD,EAAKqS,EAAIsV,GAAG,SAAS3pB,KAAKwyB,MAC1B5lB,GAAO,GACa,iBAAX8nD,IACT1yD,EAAKqS,EAAIsV,GAAG,SAAS2U,eAAc,GACnC1xB,GAAO,GAGTyH,EAAImkB,OAAOx2B,EAAI4K,IAEjB4rB,OAAQ,SAAUx2B,EAAI4K,GACpB,IAAIpR,EAGJ,GAFoB,WAAhBT,EAAQiH,KAAkBA,EAAK,CAACA,IAEhC4K,EACF,IAAKpR,EAAI,EAAGA,EAAIwG,EAAGzF,OAAQf,IACzBV,KAAK8yI,OAAO5rI,EAAGxG,KAAM,OAGvB,IAAKA,EAAI,EAAGA,EAAIwG,EAAGzF,OAAQf,WAClBV,KAAK8yI,OAAO5rI,EAAGxG,IAI1BV,KAAKmzI,WAELnzI,KAAK8M,UAAU,WAAY,KAE7BmmI,iBAAkB,SAAU9uI,EAAS6C,GACnCouB,GAAO3sB,EAAKtE,EAASnE,OAAO,GACxBgH,IAAShH,KAAK6uB,GAAG,QAAQzhB,UAAU+1C,YAAcnjD,KAAK6uB,GAAG,SAASzhB,UAAU+1C,aAAanjD,KAAKy1B,UAEpG09G,SAAU,WACR,IAAI35H,EAAOxZ,KAAK6uB,GAAG,QACf5C,EAAQjsB,KAAK6uB,GAAG,SAChBrV,GAAMxZ,KAAKizI,kBAAiB,WAC9Bz5H,EAAKnO,OAAOrL,KAAKgzI,SACjB/mH,EAAM5gB,OAAOrL,KAAK+yI,aACjB,IAELn2H,MAAO,WACL,IAAK4f,GAAUgC,SAASx+B,MAAO,OAAO,EACtCw8B,GAAUyB,SAASj+B,OAErBk6G,aAAc,SAAUz2G,GACtBzD,KAAK6hC,SAASp+B,IAEhBo+B,SAAU,SAAUrgC,GAGlB,GAFAxB,KAAK8yI,OAAS,GAEVtxI,EAAO,CACc,WAAnBvB,EAAQuB,KAAqBA,EAAQA,EAAMW,WAAW0N,MAAM,MAEhE,IAAK,IAAInP,EAAI,EAAGA,EAAIc,EAAMC,OAAQf,IAChCV,KAAK8yI,OAAOtxI,EAAMd,KAAM,EAI5BV,KAAKmzI,YAEP/6H,SAAU,WACR,IAAI5W,EAAQ,GACRgwD,EAAOxxD,KAAK6uB,GAAG,QAEnB,IAAK,IAAIxd,KAAOrR,KAAK8yI,OACd9yI,KAAKkzI,cAAe1hF,EAAKtsD,KAAKklB,KAAK/Y,IAAM7P,EAAMD,KAAK8P,GAG3D,OAAO7P,EAAM6F,KAAK,OAKlBysI,IAFUn0I,EAAQwxB,QAAQ0hH,GAAQ3tH,GAAgB8gD,GAASs+B,GAAOtvF,MAEzD,CACXpP,KAAM,OACNmE,SAAU,CACR0hB,OAAQ,OACRi7C,YAAY,GAEd18D,MAAO,WACLhK,KAAKgwB,SAAS7X,WAAa,cAE3BxY,EAAQ8J,OAAOzJ,KAAKkF,KAAM62E,IAAW,GACrCp8E,EAAQ8J,OAAOzJ,KAAKqyB,SAAUwmD,IAC9B74E,KAAKkF,KAAK6rD,WAAW/wD,MAAM,GAE3BA,KAAKgwB,SAASvY,aAAa,OAAQ,SAGrCuhD,IAEA,cAEAnZ,WAAY,GACZ4pB,YAAa,CACXuP,oBAAqB,WACnB,GAAIh5E,KAAKqyB,SAAS2mD,oBAAqB,OAAOh5E,KAAKqyB,SAAS2mD,oBAAoBpwE,MAAM5I,KAAMsG,aAGhGy4D,WAAY,SAAUlE,GACpB,IAAI59C,EAAOjd,KAAKglD,YAAY6V,EAAO3zD,IAAIgwB,cAAc,QAErD,GAAIja,EAAM,CACe,KAAnBA,EAAKxG,YAAkBwG,EAAKxG,UAAY,UAC5C,IACIwH,EAAShB,EAAK0iD,WAClB9E,EAAOxwD,KAAKmN,MAAMoC,MAAQ5Z,KAAK6qB,MAAMoJ,YAAchW,EAFrC,GAEwD,KACtE48C,EAAOxwD,KAAKmN,MAAMoyF,WAAa3rF,EAAS,KACxC48C,EAAOxwD,KAAKmN,MAAMgC,KAAO,QAI7B6Y,SAAU,CACR0hH,gBAAiB,SAAUhvI,EAAGmC,GACxBlH,KAAKoN,UAAU4mI,cACNh0I,KAAK8jC,QAAQ58B,GACfsL,KAAMxS,KAAKk8B,MAAMh1B,GAASlH,KAAKwS,KAAKtL,IAG/C,GAAIlH,KAAKoN,UAAUswB,OACjB,GAA6B,eAAzB19B,KAAKoN,UAAUswB,QAA2B19B,KAAKoN,UAAUgwD,YAAa,CACxE,IAAI62E,EAAYlvI,EAAEg8B,SAAWh8B,EAAEk8B,SAAyC,SAA9BjhC,KAAKoN,UAAUgwD,YAEzD,GAAkC,SAA9Bp9D,KAAKoN,UAAUgwD,cAA2B62E,GAAalvI,EAAE46B,UAAW,CAEtE,IAAIjC,EAAS19B,KAAKwjC,eAAc,GAAM,GACtC,GAAI9F,GAAU19B,KAAKu3D,YAAYrwD,IAAOlH,KAAKu3D,YAAY75B,GAAS,OAGlE19B,KAAK09B,OAAOx2B,GAAI,EAAO+sI,EAAWlvI,EAAE46B,eAC/B3/B,KAAK09B,OAAOx2B,KAIzBs5C,OAAQ,CAEN2B,OAAQ,SAAUh8C,GAChB,IAAIwH,EAAS3N,KAAKwjC,iBAAmB,IACrCxjC,KAAKk9B,IAAI,CACP17B,MAAO2E,GACN,KAAMwH,IAGXy0C,OAAQ,SAAUj8C,GAGhB,IAFA,IAAIo9B,EAAMvjC,KAAKwjC,eAAc,GAEpB9iC,EAAI,EAAGA,EAAI6iC,EAAI9hC,OAAQf,IAC9BV,KAAK8jC,QAAQP,EAAI7iC,IAAIc,MAAQ2E,EAC7BnG,KAAKmqB,QAAQoZ,EAAI7iC,KAIrB2hD,OAAQ,cAEV+V,qBAAqB,EACrBX,UAAW,SAAUp3D,EAAK0E,EAAG2nB,GAC3B,IAAI1U,EAAO,gCAAkChY,KAAKsE,KAAKulB,SAASxpB,EAAKL,KAAKsE,MAAQ,SAElF,OADI+D,EAAQqkB,EAAQznB,SAAWynB,EAAQznB,OAAOxD,OAAS,IAAGuW,EAAOhY,KAAK03D,gBAAgB1/C,EAAM0U,EAAQznB,OAAOxD,SACpGuW,GAETkgD,gBAAiB,SAAUxrC,GAGzB,IAFA,IAAIznB,EAASynB,EAAQznB,OAEZvE,EAAI,EAAGA,EAAIuE,EAAOxD,OAAQf,IACjCV,KAAKk8B,MAAMj3B,EAAOvE,KAGtBs3D,eAAgB,SAAUlwD,EAAQyF,GAChC,IAAIlD,EAAOrK,KAAKglD,YAAYl9C,GAExBuC,EACFA,EAAKgO,WAAWE,aAAam+B,GAAYuD,UAAU,GAAI5vC,GAClDkD,EAAEsoB,SAAS,GAAGA,SAAS,GAAGne,YAAYg/B,GAAYuD,UAAU,KAGrE31C,KAAM3E,EAAQ8J,OAAO,CAEnBogB,SAAU,SAAUxpB,EAAKyoB,GACvB,IAAIo9E,EAAcp9E,EAAO,WAAazoB,EAAI2hE,QAAUl5C,EAAOorH,eAC3D,OAAOhuC,EAAYt9F,MAAM5I,KAAMsG,YAEjCkrH,UAAW,SAAUnxH,EAAKyoB,EAAQ4jC,GAChC,IAAIpxC,EAAM,kBASV,OAPIjb,EAAI8jD,OACmB,UAArBlkD,EAAQI,EAAI8jD,QAAmB9jD,EAAI8jD,KAAOhtC,GAAU9W,EAAI8jD,OAC5D7oC,GAAO,IAAMjb,EAAI8jD,MAGfuI,GAASA,EAAMvI,OAAM7oC,GAAO,IAAMoxC,EAAMvI,MACxCr7B,EAAOxN,MAAKA,GAAO,IAAMwN,EAAOxN,KAC7BA,GAETkwD,KAAM,SAAUnrE,EAAKyoB,EAAQ4jC,GAC3B,MAAO,mBAAuBA,GAASA,EAAM+kE,eAAiB,qCAA2C,mBAAuBpxH,EAAIgjE,OAAS,mBAAsBhjE,EAAImS,KAAO,OAAS,SAAW,IAAO,IAAM,eAAkBnS,EAAIg4D,OAAS,KAEhP67E,eAAgB7rH,GAAS,wDACzB0hB,cAAe1hB,GAAS,yEAGxB2hB,YAAa3hB,GAAS,UACtB65B,aAAc75B,GAAS,YACtBw1D,MAEDs2D,GAAUx0I,EAAQwxB,QAAQ2iH,GAAQv5D,GAAmBjX,GAAO4U,GAAS1hB,GAAU6iB,GAAc1K,GAAgBrI,GAAgBoC,GAAayF,GAAY8K,GAAgB1nD,GAAMvc,KAAM8kE,GAAiBl4B,GAAW51C,GAC9MooI,GAAO,CACT/qG,IAAKyqG,GACL9+H,KAAMm/H,IAERrnH,GAAKqnH,GAAS,CACZvuI,KAAM,WACN0V,IAAK,kBACLihB,KAAM,SAAUl8B,EAAKyoB,GAInB,IAHA,IAAI9Q,EAAO,GACPxF,EAAO,GAEF9R,EAAI,EAAGA,GAAKL,EAAIg4D,OAAQ33D,IAAK,CAChCA,GAAKL,EAAIg4D,SAAQ7lD,EAAOnS,EAAIgjE,OAAShjE,EAAImS,KAAO,mBAAqB,oBAAsB,oBAE/F,IAAI+pB,EAAOzT,EAAOurH,UAAUh0I,EAAKyoB,EAAQpoB,GAErC67B,IAAMvkB,GAAQ,eAAiBxF,EAAO,6BAA+B+pB,EAAO,YAGlF,OAAOvkB,GAETq8H,UAAW,SAAUh0I,EAAKyoB,EAAQk5C,GAChC,IAAI7gB,EAAQr4B,EAAOqxD,0BACfvB,EAAOkB,GAAgB5uC,KAE3B,GAAc,IAAViW,GAAey3B,EAAM,CAGvB,IAAI07D,EAAcj0I,EAAIg4D,OAClBk8E,EAAYl0I,EAAI6G,OACpBi6C,EAAQ,GAEDmzF,GAAa,CAClB,IAAIE,EAAY57D,EAAKrhB,YAAYg9E,GAC7BE,EAAU77D,EAAK1zE,KAAKupD,OAAO+lF,GAC3BC,EAAQA,EAAQhzI,OAAS,IAAM8yI,IAAWpzF,EAAMmzF,IAAe,GACnEC,EAAYC,EACZF,IAIFxrH,EAAOqxD,0BAA4Bh5B,EAGrC,IAAKA,EAAO,OAAO,EAEnB,GAAI6gB,GAAS3hE,EAAIg4D,OAAQ,CACvB,IAAIvmD,EAAO,EASX,OAPKzR,EAAIspD,SAEY,IAAftpD,EAAIk5D,SAAcznD,EAAO,GAG3BqvC,EAAM9gD,EAAIg4D,UAASvmD,EAAO,GAE1BzR,EAAIgjE,OACFhjE,EAAImS,KAAa,QAAUV,EAAiB,OAASA,EAC7C,OAASA,EAEvB,OAAKqvC,EAAM6gB,GACJ,QADmB,WAMhC,IAAI0yE,GAAS,CACX9uI,KAAM,UACNmE,SAAU,CACR4qI,YAAY,EACZC,WAAW,EACX5gI,QAAQ,EACRwxF,aAAc,GACdhkG,MAAO6mB,GAAS,WAChBwsH,eAAgB,GAChBnuE,YAAY,GAEdwzC,aAAc7xF,GACdysH,sBAAuBzsH,GACvB+8E,cAAe,SAAU5jG,GAKvB,OAJIA,IAAmB,IAAVA,IACXxB,KAAKsE,KAAK0P,OAASxS,GAGdA,GAETwI,MAAO,WACLhK,KAAK6qB,MAAM1S,WAAa,iBAExBnY,KAAKgwB,SAASvY,aAAa,OAAQ,QAEnCzX,KAAK+0I,aAAezqI,SAASkM,cAAc,OAC3C7W,EAAQ8J,OAAOzJ,KAAKkF,KAAM62E,IAAW,GACrC/7E,KAAKkF,KAAK6rD,WAAW/wD,MAAM,GAC3BA,KAAKkF,KAAK2H,YAAY,aAAcpE,GAAK,WACvCzI,KAAKijC,MAAQ,GACbjjC,KAAKg1I,QAAU,GACfh1I,KAAKi1I,IAAM,KACVj1I,OACHA,KAAK6M,YAAY,aAAc7M,KAAK+oC,cAEtCgxC,YAAa,SAAU15E,GACrB,IAAIgV,EAAOrV,KAAKkF,KAAK+mD,OAAO5rD,EAAI6G,IAChClH,KAAK8M,UAAU,eAAgB,CAACzM,IAChC,IAAI6lG,EAAc7lG,EAAIqmD,UAAY1mD,KAAKsE,KAAK,WAAajE,EAAIqmD,WAAWtkD,KAAKpC,KAAMK,EAAKL,KAAKsE,KAAM+Q,GAAQrV,KAAKsE,KAAKulB,SAASznB,KAAKpC,KAAMK,EAAKL,KAAKsE,KAAM+Q,GACzJ,OAAOrV,KAAKsE,KAAKylC,cAAc3nC,KAAKpC,KAAMK,EAAKL,KAAKsE,KAAM+Q,GAAQ6wF,EAAclmG,KAAKsE,KAAK0lC,YAAY5nC,KAAKpC,OAE7Gk1I,cAAe,SAAUhuI,GACvB,IAAI+V,EAAOjd,KAAK8jC,QAAQ58B,GACpB4S,EAAS9Z,KAAKoN,UAAUo4F,aACxBxtF,EAAO,mDAAqD8B,EAAS,kBAAoBA,EAAS,QAGtG,OAFA9B,GAAQhY,KAAKsE,KAAK0P,OAAO5R,KAAKpC,KAAMid,EAAMjd,KAAKsE,MAC/C0T,GAAQ,UAGVm9H,cAAe,SAAUC,GACvB,IAAIhuI,EACAuc,EACAniB,EACAigE,EACAyY,EAAS,GAEb,IAAKl6E,KAAKgoC,SAAWhoC,KAAK2R,QAExB,OADA3R,KAAKijC,MAAQ,IACN,EAgDT,GA7CKmyG,IACHA,EAAMp1I,KAAKiH,OAAOwnD,QAAU,EAC5BzuD,KAAKijC,MAAQ,GACbjjC,KAAKg1I,QAAU,GACfh1I,KAAKi1I,IAAM,GACXj1I,KAAKi1I,IAAIG,GAAO,CACdx7H,MAAO5Z,KAAKgoC,OACZluB,OAAQ9Z,KAAKooC,QACb7uB,IAAK,EACLC,KAAM,GAGJ47H,GAAOp1I,KAAKoN,UAAU4G,SACxBhU,KAAKi1I,IAAIG,GAAKt7H,QAAU9Z,KAAKoN,UAAUo4F,aACvCxlG,KAAKi1I,IAAIG,GAAK77H,IAAMvZ,KAAKoN,UAAUo4F,aACnCxlG,KAAKijC,OAASjjC,KAAKk1I,cAAcE,IAInC3zE,EAAM,EACNzhE,KAAKkF,KAAKiG,MAAK,SAAU8R,GACvB,IAAIi9C,EAAWl6D,KAAKu3D,YAAYt6C,EAAK/V,IAErC,IAAKlH,KAAKkF,KAAKupD,OAAOxxC,EAAK/V,MACzB1F,EAA6C,EAArCxB,KAAKiH,OAAOzF,MAAMY,KAAKpC,KAAMid,IAEhC+N,MAAMxpB,IAAUA,OACnBxB,KAAKg1I,QAAQ/3H,EAAK/V,IAAM1F,EACxBigE,GAAOjgE,EAEA04D,GACAl6D,KAAKg1I,QAAQ96E,KAAWl6D,KAAKg1I,QAAQ96E,GAAY,GACtDl6D,KAAKg1I,QAAQ96E,IAAa14D,EAC1B04D,EAAWl6D,KAAKu3D,YAAY2C,KAIjCl6D,MAAM,EAAOo1I,IAGlBp1I,KAAKkF,KAAKq2E,UAAU65D,GAAK,SAAUn4H,GAC7Bjd,KAAKg1I,QAAQ/3H,EAAK/V,KAAKgzE,EAAO34E,KAAKsG,EAAKoV,MAC3Cjd,MACHyhE,EAAMA,GAAOzhE,KAAKg1I,QAAQI,GAEtBl7D,EAAOz4E,QAAUggE,EAAK,EAExB99C,EAAM,CACJpK,KAFFnS,EAAQpH,KAAKi1I,IAAIG,IAEJ77H,IACXC,KAAMpS,EAAMoS,KACZub,GAAI3tB,EAAMwS,MACVob,GAAI5tB,EAAM0S,OACV6gB,IAAK,GACL8mC,IAAK,IAEH4zE,IAAM37H,KAAKwJ,IAAIS,EAAIoR,GAAIpR,EAAIqR,IAG/B,IAFA,IAAIse,EAAQ3vB,EAAIoR,GAAKpR,EAAIqR,GAAKysC,EAErBrgE,EAAK,EAAGA,EAAK84E,EAAOz4E,OAAQL,IACnC84E,EAAO94E,GAAIk0I,OAASt1I,KAAKg1I,QAAQ96D,EAAO94E,GAAI8F,IAAMosC,EAIpD4mC,EAAOlxD,MAAK,SAAU/f,EAAG4E,GACvB,OAAO5E,EAAEqsI,OAASznI,EAAEynI,QAAS,EAAK,SAEpC,IAAIC,EAAM5xF,EAAAA,EACNjjD,EAAI,EAEDw5E,EAAOx5E,IAAI,CAChB,IAAIya,EAAQnb,KAAKw1I,OAAO7xH,EAAKu2D,EAAOx5E,IAEpC,GAAIya,EAAQo6H,EACV5xH,EAAI89C,KAAOyY,EAAOx5E,GAAG40I,OACrB3xH,EAAIgX,IAAIp5B,KAAK24E,EAAOx5E,IACpB60I,EAAMp6H,EACNza,QACK,CACLV,KAAK87G,WAAWn4F,GAEhB,IAAIpe,EAAI,CACNgU,IAAKoK,EAAIpK,IACTC,KAAMmK,EAAInK,KACVub,GAAIpR,EAAIoR,GACRC,GAAIrR,EAAIqR,GACR2F,IAAK,GACL8mC,IAAK,GAGH/uB,EAAS/uB,EAAI89C,IAAM99C,EAAI0xH,IAEvB1xH,EAAIoR,GAAKpR,EAAIqR,IACfzvB,EAAEiU,MAAQk5B,EACVntC,EAAEwvB,IAAM2d,IAERntC,EAAEgU,KAAOm5B,EACTntC,EAAEyvB,IAAM0d,IAGV/uB,EAAMpe,GACF8vI,IAAM37H,KAAKwJ,IAAIS,EAAIoR,GAAIpR,EAAIqR,IAC/BugH,EAAM5xF,EAAAA,IAKRhgC,GAAK3jB,KAAK87G,WAAWn4F,IAE3Bm4F,WAAY,SAAUn4F,GACpB,IAAIjjB,EACAwG,EACA+K,EACAwH,EACAF,EAAMoK,EAAIpK,IACVC,EAAOmK,EAAInK,KAIf,IAHAmK,EAAI7R,KAAO6R,EAAIqR,GAAKrR,EAAIoR,GACxBpR,EAAI8xH,OAAS9xH,EAAI89C,IAAM99C,EAAI0xH,IAEtB30I,EAAI,EAAGA,EAAIijB,EAAIgX,IAAIl5B,OAAQf,IAC9BwG,EAAKyc,EAAIgX,IAAIj6B,GAAGwG,GAEZyc,EAAI7R,MACNG,EAAI0R,EAAI8xH,OACRh8H,EAAIkK,EAAIgX,IAAIj6B,GAAG40I,OAAS3xH,EAAI8xH,SAE5BxjI,EAAI0R,EAAIgX,IAAIj6B,GAAG40I,OAAS3xH,EAAI8xH,OAC5Bh8H,EAAIkK,EAAI8xH,QAGVz1I,KAAKi1I,IAAI/tI,GAAM,GACflH,KAAKi1I,IAAI/tI,GAAIqS,IAAMA,EACnBvZ,KAAKi1I,IAAI/tI,GAAIsS,KAAOA,EAChBmK,EAAI7R,KAAMyH,GAAOE,EAAOD,GAAQvH,EACpCjS,KAAKi1I,IAAI/tI,GAAI0S,MAAQ3H,EACrBjS,KAAKi1I,IAAI/tI,GAAI4S,OAASL,EACtBzZ,KAAKijC,OAASjjC,KAAK+5E,YAAY/5E,KAAK8jC,QAAQ58B,IACxClH,KAAKoN,UAAUwnI,WAAa50I,KAAKkF,KAAKupD,OAAOvnD,IAAKlH,KAAKm1I,cAAcjuI,IAG7EsuI,OAAQ,SAAU7xH,EAAKuZ,GACrB,IAAIxZ,EAAIC,EAAI89C,IAAMvkC,EAAIo4G,OAClBrsI,EAAIya,EAAIA,GAAKC,EAAI0xH,IAAM1xH,EAAI0xH,IAAMn4G,EAAIo4G,QAMzC,OAJI3xH,EAAIgX,IAAIl5B,SACVwH,EAAIyQ,KAAKgC,IAAIiI,EAAI0xH,IAAM1xH,EAAI0xH,IAAM1xH,EAAIgX,IAAI,GAAG26G,QAAU5xH,EAAIA,GAAIza,IAGzDA,EAAI,EAAIA,EAAI,EAAIA,GAEzBykE,cAAe,SAAUrtE,GAEvB,OADAL,KAAK+0I,aAAat+H,UAAYzW,KAAK+5E,YAAY15E,GACxCL,KAAK+0I,aAAarkI,YAE3BglI,WAAY,SAAUxuI,GACpBlH,KAAKoN,UAAUqhD,OAASvnD,EACxBlH,KAAKmqB,WAEPL,OAAQ,SAAU5iB,EAAIhC,EAAMZ,GAC1B,GAAKtE,KAAKgqB,UAAUhqB,KAAKoN,UAAUlG,MAAOlH,KAAKkmD,aAA/C,CAEA,GAAY,UAAR5hD,EAAkB,CACpB,IAAI2pE,EAAOjuE,KAAKglD,YAAY99C,GAE5B,GAAI+mE,EAGF11D,GAFQvY,KAAK+iC,SAAS77B,GAAMlH,KAAK0tE,cAAcxoE,GAE/B+oE,GAChBhjE,GAAOgjE,QAEAjuE,KAAKkF,KAAKupD,QAAYzuD,KAAKoN,UAAUqhD,SAAUzuD,KAAKkF,KAAKupD,OAAOzuD,KAAKoN,UAAUqhD,UACxFzuD,KAAK+iC,SAAW,KAChB/iC,KAAK8M,UAAU,iBAAkB,IAEjC9M,KAAKm1I,gBAELn1I,KAAKiqB,SAASxT,UAAYzW,KAAKijC,MAC/BjjC,KAAK8M,UAAU,gBAAiB,KAGlC,OAAO,IAETksD,IAEA,cACA3mC,SAAU,CACRsjH,mBAAoB,SAAU5wI,EAAGmC,GAC3BlH,KAAKoN,UAAUswB,SACY,eAAzB19B,KAAKoN,UAAUswB,QAA2B19B,KAAKoN,UAAUgwD,YAAap9D,KAAK09B,OAAOx2B,GAAI,EAAOnC,EAAEg8B,SAAWh8B,EAAEk8B,SAAyC,SAA9BjhC,KAAKoN,UAAUgwD,YAAwBr4D,EAAE46B,UAAe3/B,KAAK09B,OAAOx2B,IAG7LlH,KAAKoN,UAAUunI,YAAc30I,KAAK48E,SAAS11E,IAC7ClH,KAAK01I,WAAWxuI,IAGpB0uI,0BAA2B,SAAU7wI,GACnC,IAAImC,EAAKwR,GAAO3T,EAEhB,sBACA/E,KAAKH,OAAO,SAAUqH,GACtBlH,KAAKmqB,WAEP0rH,oBAAqB,WACnB71I,KAAKH,OAAO,SAAU,GACtBG,KAAKmqB,YAGTs/C,YAAa,GACbL,cAAe,GACf0sE,YAAa,SAAUt+H,GACrB,IAAI8D,EAAM,GAEV,IAAK,IAAI8mB,KAAY5qB,EACnB8D,GAAO8mB,EAAW,IAAM5qB,EAAM4qB,GAAY,IAG5C,OAAO9mB,GAEThX,KAAM,CAEJulB,SAAUxB,GAAS,WACnBrU,OAAQ,SAAU3T,EAAKyoB,OACrB,IAAI5hB,EAAK7G,EAAI6G,GACT6uI,EAAY,+CAAiDxqI,EAAKigE,KAAKglB,aAAe,uCACtF/vF,EAAM,GAEHyG,GACL7G,EAAML,KAAK8jC,QAAQ58B,GACnBzG,EAAIc,KAAKunB,EAAOktH,WAAW5zI,KAAKpC,KAAMK,EAAKyoB,IAC3C5hB,EAAKlH,KAAKu3D,YAAYrwD,GAIxB,OADAzG,EAAIs8F,UACGg5C,EAAYt1I,EAAI4G,KAAK,6EAE9B2uI,WAAY,SAAU31I,GACpB,IAAI6lG,EAAclmG,KAAKiH,OAAO4tI,eAAex0I,GACzC2X,EAAO,6CAAoDkuF,EAApD,yBAEoB7lG,EAAI6G,GAAK,uCAGxC,OAFA8Q,GAAQkuF,EACRluF,GAAQ,QAGVw5G,UAAW,SAAUnxH,EAAKyoB,EAAQ4jC,GAChC,IAAIpxC,EAAM,qBACNwN,EAAOxN,MAAKA,GAAO,IAAMwN,EAAOxN,KAEhCjb,EAAI8jD,OACmB,UAArBlkD,EAAQI,EAAI8jD,QAAmB9jD,EAAI8jD,KAAOhtC,GAAU9W,EAAI8jD,OAC5D7oC,GAAO,IAAMjb,EAAI8jD,MAGnB,IAAI8xF,EAAKj2I,KAAKi1I,IAAI50I,EAAI6G,IAClBwlD,GAASA,EAAMvI,OAAM7oC,GAAO,IAAMoxC,EAAMvI,MAC5C7oC,GAAO,wBAA0Btb,KAAK8jC,QAAQzjC,EAAI6G,IAAImxD,OACtD,IAAI6B,EAAWl6D,KAAKu3D,YAAYl3D,EAAI6G,IAKpC,GAJKgzD,GAAYA,GAAYl6D,KAAKoN,UAAUqhD,SAAQnzC,GAAO,4BACvDtb,KAAKooC,QAAU6tG,EAAG18H,IAAM08H,EAAGn8H,OAAS,IAAGwB,GAAO,8BAC9Ctb,KAAKgoC,OAASiuG,EAAGz8H,KAAOy8H,EAAGr8H,MAAQ,IAAG0B,GAAO,6BAE7CwN,EAAOotH,SAAU,CACnB,IAAIA,EAAWptH,EAAOotH,SAAS9zI,KAAKpC,KAAMK,EAAKyoB,EAAQ4jC,GAEnDwpF,IACuB,UAArBj2I,EAAQi2I,GACV56H,GAAO,IAAMnE,GAAU++H,GAClB56H,GAAO,IAAM46H,GAIxB,OAAO56H,GAETyuB,cAAe,SAAU1pC,EAAKiE,EAAMooD,GAClC,IAAIl1C,EAAQ,GAEZ,GAAIxX,KAAKi1I,IAAK,CACZ,IAAIgB,EAAKj2I,KAAKi1I,IAAI50I,EAAI6G,IACtBsQ,GAAS,UAAYy+H,EAAGr8H,MAAQ,eAAiBq8H,EAAGn8H,OAAS,MAC7DtC,GAAS,QAAUy+H,EAAG18H,IAAM,aAAe08H,EAAGz8H,KAAO,MAGvD,MAAO,oCAAyCnZ,EAAIg4D,OAAS,MAAS3L,GAASA,EAAM+kE,eAAiB,oCAA0C,IAAzI,iBAEiBpxH,EAAI6G,GAAK,YAAgB5C,EAAKktH,UAAUpvH,KAAKpC,KAAMK,EAAKiE,EAAMooD,GAAS,YAAgBl1C,EAAQ,MAEzHwyB,YAAa3hB,GAAS,YAkBtB8tH,IAfUx2I,EAAQwxB,QAAQujH,GAAQpxE,GAAO4U,GAASvJ,GAAgBrI,GAAgBoC,GAAayF,GAAY8K,GAAgB1nD,GAAMvc,KAAM8kE,GAAiBl4B,GAAW51C,GAe1J,CACXpG,KAAM,WACNoE,MAAO,SAAU/C,GACXA,EAAOmvI,eAETp2I,KAAKslB,OAAOhY,QAAQtN,KAAK6oD,kBAC3B,IAAIvkD,EAAO2C,EAAO3C,MAAQ2C,EAAOgW,KACjBhW,EAAOi8C,WAAaljD,KAAK+J,SAASm5C,WAAa5+C,GAAsB,QAAdA,EAAKsV,OAAkC,QAAf3S,EAAOyzC,MAAiC,SAAfzzC,EAAOyzC,MAC5GzzC,EAAOk8C,YAAYxjD,EAAQ8J,OAAOzJ,KAAM6hF,IAAoB,GAC3E56E,EAAOk8C,aAAYl8C,EAAOwkB,QAAS,GAEnCnnB,GAAqB,SAAbA,EAAKA,OACftE,KAAK+iF,cAAgBz+E,EAAKmsC,SAAWzwC,KAAKsE,KAAKmsC,QAC/CzwC,KAAKgwB,SAAStf,WAAW8G,MAAM6+H,MAAQ,OACvCr2I,KAAKgwB,SAAStf,WAAW8G,MAAMi5B,QAAUzwC,KAAK+iF,cAAgB,EAAI,MAGpE/iF,KAAKkjC,YAAY/qB,WAAa,kBAE9BnY,KAAKgwB,SAASvY,aAAa,OAAQ,YAErCoxC,iBAAkB,WAChB,IAAI9iD,EAAO+R,GAAO,MAAO,EAAG9X,KAAKsE,KAAKulB,SAAS,KAC/C9jB,EAAKoS,UAAY,sBACjBpS,EAAKyR,MAAM0Y,SAAW,WACtB5lB,SAASyO,KAAKrB,YAAY3R,GAC1B/F,KAAKsE,KAAKsV,MAAQ7T,EAAK8T,YAAc7Z,KAAK+iF,cAC1C/iF,KAAKsE,KAAKwV,OAAS/T,EAAKgU,aAAe/Z,KAAK+iF,cAC5C93E,GAAOlF,IAETgE,SAAU,CACR0hB,QAAQ,EACR0nC,UAAW,GACXuT,YAAY,GAEd1N,IAEA,aACA/U,eAAgB,sBAChB8+B,cAAe,EACfxqB,gBAAiB,IACjBlmC,SAAU,CACRikH,oBAAqB,SAAUvxI,EAAGmC,GAC5BlH,KAAKoN,UAAUswB,SACY,eAAzB19B,KAAKoN,UAAUswB,QAA2B19B,KAAKoN,UAAUgwD,YAAap9D,KAAK09B,OAAOx2B,GAAI,EAAqC,SAA9BlH,KAAKoN,UAAUgwD,aAA0Br4D,EAAEg8B,SAAWh8B,EAAEk8B,QAASl8B,EAAE46B,UAC/J3/B,KAAK09B,OAAOx2B,MAIvBuiE,YAAa,GACbL,cAAe,GACf9kE,KAAM,CAEJulB,SAAUxB,GAAS,WAEnBkuH,gBAAiBluH,GAAS,cAC1BzO,MAAO,IACPE,OAAQ,GACR22B,QAAS,EACT+gF,UAAW,SAAUnxH,EAAKyoB,EAAQ4jC,GAChC,IAAIpxC,EAAM,sBAUV,OATIwN,EAAOxN,MAAKA,GAAO,IAAMwN,EAAOxN,KAChCwN,EAAOxkB,OAAMgX,GAAO,IAAMwN,EAAOxkB,MAEjCjE,EAAI8jD,OACmB,UAArBlkD,EAAQI,EAAI8jD,QAAmB9jD,EAAI8jD,KAAOhtC,GAAU9W,EAAI8jD,OAC5D7oC,GAAO,IAAMjb,EAAI8jD,MAGfuI,GAASA,EAAMvI,OAAM7oC,GAAO,IAAMoxC,EAAMvI,MACrC7oC,GAETkwD,KAAM,SAAUnrE,EAAKyoB,EAAQ4jC,GAC3B,MAAO,iBAAqBA,GAASA,EAAM+kE,eAAiB,qCAA2C,mBAEzG1nF,cAAe,SAAU1pC,EAAKyoB,EAAQ4jC,GACpC,IAAI9yC,EAAQkP,EAAOlP,MACfE,EAASgP,EAAOhP,OAChB22B,EAAU,EAQd,MANmB,SAAf3nB,EAAOxkB,OACTsV,GAASkP,EAAO2nB,QAChB32B,GAAUgP,EAAO2nB,QACjBA,EAAU3nB,EAAO2nB,QAAU,GAGtB,oBAEWpwC,EAAI6G,GAAK,YAAgB4hB,EAAO0oG,UAAUnxH,EAAKyoB,EAAQ4jC,GAAS,KAAQ5jC,EAAO0iD,KAAKnrE,EAAKyoB,EAAQ4jC,GAAS,kBAAqBjc,EAAU,aAAe72B,EAAQ,cAAgBE,EAAS,sCAE7MkwB,YAAa3hB,GAAS,WAExB0vC,UAAW,WACT,IAAIxzD,EAAIvE,KAAK+iF,cACb,MAAO,mDAAsDvsD,OAAOx2B,KAAKsE,KAAKsV,MAAQrV,EAAG,eAAeiyB,OAAOx2B,KAAKsE,KAAKwV,OAASvV,EAAG,eAAeiyB,OAAOjyB,EAAI,EAAG,eAEpKiyI,kBAAmB,SAAU58H,GAC3B,OAAO5Z,KAAKoN,UAAU0M,OAAS9Z,KAAKsE,KAAKwV,OAASJ,KAAKiC,KAAK3b,KAAKkF,KAAKyM,QAAU+H,KAAKqgB,MAAMngB,EAAQ5Z,KAAKsE,KAAKsV,SAE/G68H,kBAAmB,SAAUC,GAC3B,IAAI9wH,EAAQ5lB,KAeZ,OAbI02I,IACF12I,KAAKkF,KAAK2H,YAAY,eAAe,WACnC,OAAO+Y,EAAM6P,YAEfz1B,KAAKkF,KAAK2H,YAAY,kBAAkB,SAAU3F,EAAI7G,EAAKyR,GACpD5K,GAAe,QAAT4K,GAA2B,WAATA,GAAmB8T,EAAMkrG,kBAExD9wH,KAAKkF,KAAK2H,YAAY,eAAe,WACnC,OAAO+Y,EAAMkrG,kBAEf9wH,KAAKkjC,YAAY1rB,MAAMi3D,UAAY,UAG9BioE,GAET5lB,aAAc,WACR9wH,KAAKoN,UAAU+1C,YACjBnjD,KAAKy1B,UAGT+S,SAAU,SAAUzT,EAAIC,GAClBh1B,KAAKoN,UAAUg2C,QAA6B,QAAnBpjD,KAAKsE,KAAKsV,QAAoB5Z,KAAK22I,aAAY32I,KAAKoN,UAAUwM,MAAQ5Z,KAAKsE,KAAKsV,MAAQ5Z,KAAKoN,UAAUg2C,OAASpjD,KAAK+iF,eAAiB/iF,KAAKkoC,UAAY5pB,GAAI6pB,WAAa,IACjMnoC,KAAKoN,UAAUwgH,QAA8B,QAApB5tH,KAAKsE,KAAKwV,SAAqB9Z,KAAK42I,cAAa52I,KAAKoN,UAAU0M,OAAS9Z,KAAKsE,KAAKwV,OAAS9Z,KAAKoN,UAAUwgH,OAAS5tH,KAAK+iF,eACtJ,IAAInpE,EAAQ5Z,KAAKoN,UAAUwM,OAAS5Z,KAAKioC,eAUzC,OARIjoC,KAAKoN,UAAU+1C,YAAcvpC,IAC/B5Z,KAAK62I,iBAEL72I,KAAKw2I,kBAAkB58H,GAEvB5Z,KAAKquE,eAAc,IAGd1kC,GAAON,IAAIb,SAASpmC,KAAKpC,KAAM+0B,EAAIC,IAE5C6hH,eAAgB,WAWd,OAVI72I,KAAKoN,UAAUwgH,SAAW5tH,KAAK42I,aAAmC,QAApB52I,KAAKsE,KAAKwV,UAC1D9Z,KAAKsE,KAAKwV,OAASJ,KAAKqgB,OAAO/5B,KAAKqoC,gBAAkBroC,KAAK+iF,eAAiB/iF,KAAKoN,UAAUwgH,QAC3F5tH,KAAK42I,YAAc52I,KAAKoN,UAAUwgH,QAGhC5tH,KAAKoN,UAAUg2C,SAAWpjD,KAAK22I,YAAiC,QAAnB32I,KAAKsE,KAAKsV,SACzD5Z,KAAKsE,KAAKsV,MAAQF,KAAKqgB,OAAO/5B,KAAKioC,eAAiBjoC,KAAK+iF,eAAiB/iF,KAAKoN,UAAUg2C,QACzFpjD,KAAK22I,WAAa32I,KAAKoN,UAAUg2C,QAG5BpjD,KAAK42I,aAAe52I,KAAK22I,YAElC9uG,SAAU,SAAU51B,EAAGwH,GACrB,IAAI3L,EAAI9N,KAAKoN,UAEb,GAAIu8B,GAAON,IAAIxB,SAASzlC,KAAKpC,KAAMiS,EAAGwH,GAAI,CACxC,GAAI3L,EAAEq1C,YAAcnjD,KAAKw2I,qBAAuBx2I,KAAKqoC,gBAAiB,OAAOn/B,EAAMlJ,KAAKy1B,OAAQz1B,OAC5FA,KAAK62I,kBAAoB72I,KAAK8hF,uBAAsB9hF,KAAK8pB,cACpDhc,EAAE8/G,QAAU9/G,EAAE8/G,QAAU5tH,KAAK42I,aAAe9oI,EAAEs1C,QAAUt1C,EAAEs1C,QAAUpjD,KAAK22I,aAC9E32I,KAAK62I,kBAAkB72I,KAAK8pB,YAIxBnqB,EAAQwxB,QAAQglH,GAAQ7wF,GAAUkR,GAAUkS,GAAapC,GAAgBqI,GAAgBR,GAAY5rB,GAAahxB,GAAMvc,MAEtIzJ,EAAKygE,MAAQ,CACXh4C,MAAO,yDACP8T,KAAM,0DACNzmC,KAAM,mDACNwzC,KAAM,mDAER,IAAIiiG,GAAS,CACX/sI,SAAU,CACR/C,KAAM,GAENulE,KAAM,EAENh1D,MAAO,EACPsS,SAAU,mBACV0R,SAAU,IACVzhB,OAAQ,GACRshB,YAAY,GAEdx1B,KAAM,QACNysB,SAAU,CAER0kH,iBAAoB,SAAUhyI,EAAGmC,GAC/BlH,KAAK09B,OAAOx2B,KAGhB8C,MAAO,SAAU/C,GACfjH,KAAKkF,KAAOlF,KAAKoN,UACjBpN,KAAKiqB,SAAWjqB,KAAKgwB,SACrBhwB,KAAKgwB,SAAS7X,WAAa,gBAAkBlR,EAAO0/E,UAAY,oBAAsB,KAChE,IAAlB1/E,EAAOmE,QAAsC,IAAlBnE,EAAOmE,QAAcpL,KAAKslB,OAAO/jB,KAAKvB,KAAKg3I,iBAE5EA,eAAgB,WACdh3I,KAAKmqB,UACLnqB,KAAK2sE,QAAU,CACbxiD,QAAS,aACTuT,OAAQ,eAGZA,OAAQ,SAAUx2B,GAChB,GAAIlH,KAAK2sE,SAAgC,SAArB3sE,KAAK2sE,QAAQ/mE,KAAiB,OAAO5F,KAAK2sE,QAAQjvC,OAAOx2B,GAE7E,OAAQA,GACN,IAAK,OACHA,EAAKlH,KAAKoN,UAAUm/D,KAAO,EAC3B,MAEF,IAAK,OACHrlE,EAAKlH,KAAKoN,UAAUm/D,KAAO,EAC3B,MAEF,IAAK,QACHrlE,EAAK,EACL,MAEF,IAAK,OACHA,EAAKlH,KAAKoN,UAAUskC,MAAQ,EAQ5BxqC,EAAK,IAAGA,EAAK,GACbA,GAAMlH,KAAKkF,KAAKwsC,QAAOxqC,EAAKlH,KAAKkF,KAAKwsC,MAAQ,GAClD,IAAIkE,EAAM51C,KAAKkF,KAAKqnE,KAEhBvsE,KAAK8M,UAAU,qBAAsB,CAAC5F,EAAI0uC,MAC5C51C,KAAKkF,KAAKqnE,KAAY,EAALrlE,EAEblH,KAAKmqB,YACFnqB,KAAKoN,UAAUs7B,SAAY1oC,KAAKi3I,SAASrhG,EAAU,EAAL1uC,EAAQlH,KAAKoN,UAAUs7B,UAAU1oC,KAAK2sE,QAAQxiD,WAGnGnqB,KAAK8M,UAAU,oBAAqB,CAAC5F,MAGzC8xD,IAEA,aACA3uC,gBAAiBhC,GACjB/jB,KAAM,CACJulB,SAAU,SAAU5gB,EAAG4E,GACrB,OAAO5E,EAAE4gB,SAASznB,KAAKpC,KAAMiJ,EAAG4E,IAGlCqiF,MAAO,SAAU7vF,GACf,IAAI2X,EAAO,GAEX,IAAgB,GAAZ3X,EAAIksE,KAAY,MAAO,GAE3BlsE,EAAIgtD,KAAOhtD,EAAIksE,KAAO7yD,KAAKC,OAAOtZ,EAAIkX,MAAQ,GAAK,GACnDlX,EAAIktD,KAAOltD,EAAIgtD,KAAmB,EAAZhtD,EAAIkX,MAAY,EAElClX,EAAIgtD,KAAO,IACbhtD,EAAIktD,OAAmB,EAAXltD,EAAIgtD,KAChBhtD,EAAIgtD,KAAO,GAGThtD,EAAIktD,MAAQltD,EAAIqxC,QAClBrxC,EAAIgtD,MAAQ3zC,KAAKwJ,IAAI7iB,EAAIgtD,KAAMhtD,EAAIktD,KAAOltD,EAAIqxC,MAAQ,GACtDrxC,EAAIktD,KAAOltD,EAAIqxC,MAAQ,GAIzB,IAAK,IAAIhxC,EAAIL,EAAIgtD,MAAQ,EAAG3sD,GAAKL,EAAIktD,KAAM7sD,IACzCsX,GAAQhY,KAAKw9B,OAAO,CAClBt2B,GAAIxG,EACJ2c,MAAO3c,EAAI,EACXmmE,SAAUnmE,GAAKL,EAAIksE,KAAO,YAAc,GACxC5R,MAAOpvD,EAAKigE,KAAKe,KAAO,KAAO7rE,EAAI,KAIvC,OAAOsX,GAETu0D,KAAM,SAAUlsE,GACd,OAAOA,EAAIksE,KAAO,GAGpBv4C,MAAO,WACL,OAAOh0B,KAAKw9B,OAAO,CACjBt2B,GAAI,QACJmW,MAAO9R,EAAKygE,MAAMh4C,MAClB6yC,SAAU,GACVlM,MAAOpvD,EAAKigE,KAAK0kB,MAAM,MAI3BpoD,KAAM,WACJ,OAAO9nC,KAAKw9B,OAAO,CACjBt2B,GAAI,OACJmW,MAAO9R,EAAKygE,MAAMlkC,KAClB++B,SAAU,GACVlM,MAAOpvD,EAAKigE,KAAK0kB,MAAM,MAI3Br7C,KAAM,WACJ,OAAO70C,KAAKw9B,OAAO,CACjBt2B,GAAI,OACJmW,MAAO9R,EAAKygE,MAAMn3B,KAClBgyB,SAAU,GACVlM,MAAOpvD,EAAKigE,KAAK0kB,MAAM,MAI3B7uF,KAAM,WACJ,OAAOrB,KAAKw9B,OAAO,CACjBt2B,GAAI,OACJmW,MAAO9R,EAAKygE,MAAM3qE,KAClBwlE,SAAU,GACVlM,MAAOpvD,EAAKigE,KAAK0kB,MAAM,MAG3B1yD,OAAQnV,GAAS,qIAInB3gB,MAAO,SAAUskE,GACVA,EAAMnhD,QACTmhD,EAAMh3D,KAAO,QACbg3D,EAAQ39C,GAAG29C,IAGbhsE,KAAKk3I,OAASlrE,EACdA,EAAMW,QAAU3sE,KAEhBA,KAAKm3I,kBAEPhtH,QAAS,WACP,IAAIzG,EAAI1jB,KAAKoN,UAEbsW,EAAEguB,MAAQh4B,KAAKiC,KAAK+H,EAAE/R,MAAQ+R,EAAE1c,OAAS,EACzC,IAAIowI,EAAU19H,KAAKwJ,IAAIQ,EAAEguB,MAAQ,EAAGhuB,EAAE6oD,MACtC,OAAI6qE,GAAW1zH,EAAE6oD,KAAavsE,KAAK2sE,QAAQC,QAAQwqE,IACnD1zH,EAAE6oD,KAAO6qE,EAELA,GAAW,GAAKA,GAAW1zH,EAAE2zH,UAAY3zH,EAAEguB,OAAShuB,EAAE4zH,WAAa5zH,EAAE6zH,WAAa7zH,EAAE/R,OAEtF3R,KAAK8pB,SAEL9pB,KAAKm3I,iBAELzzH,EAAE4zH,UAAY5zH,EAAEguB,MAEhBhuB,EAAE2zH,SAAW3zH,EAAE6oD,KACf7oD,EAAE6zH,UAAY7zH,EAAE/R,OACT,QAVT,IAaF2gH,eAAgB,SAAU9wH,GACxB,OAAOxB,KAAKsvB,SAAW9tB,GAEzB21I,eAAgB,WACVn3I,KAAKk3I,SACPl3I,KAAKk3I,OAAO9pI,UAAUuE,MAAQ3R,KAAKoN,UAAUuE,MAC7C3R,KAAKk3I,OAAO9pI,UAAUm/D,KAAOvsE,KAAKoN,UAAUm/D,KAE5CvsE,KAAKk3I,OAAO/sH,YAGhB8sH,SAAU,SAAUrhG,EAAK1uC,EAAID,GAC3B,GAAI2uC,GAAO1uC,EAAI,OAAO,EAEtB,GAAIlH,KAAKw3I,eAKP,OAJIx3I,KAAKy3I,mBACPj1I,OAAOgyB,aAAax0B,KAAKy3I,mBAGpBz3I,KAAKy3I,kBAAoBvuI,EAAMlJ,KAAKi3I,SAAUj3I,KAAM,CAAC41C,EAAK1uC,EAAID,GAAS,KAGhF,IAAIw/B,EAAYv/B,EAAK0uC,EAAM,OAAS,QACZ,OAApB3uC,EAAOw/B,WAA0C,UAApBx/B,EAAOw/B,YAAuBA,EAAYv/B,EAAK0uC,EAAM,MAAQ,UAC1F3uC,EAAOywI,OAAMjxG,EAAY,IAE7B,IAAIltB,EAAM,EACNo+H,EAAQ33I,KAAK2sE,QAAQ1iD,SACrB2tH,IAAgB53I,KAAK2sE,QAAQ/hD,MAE7BgtH,IAEFr+H,GADAo+H,EAAQ33I,KAAK2sE,QAAQ/hD,OACTg1C,UACZ1kD,GAAOlb,KAAK2sE,QAAQ9hD,MAAO,oBAG7B,IAQIqiB,EARA2qG,EAAQF,EAAM1sD,WAAU,GAC5B4sD,EAAMrgI,MAAMoC,MAAQ+9H,EAAMngI,MAAMoC,MAAQ,OAExC5Z,KAAK2sE,QAAQxiD,UAEb5R,GAAas/H,EAAOF,EAAM3qG,YAAa2qG,EAAMt/H,YACzCu/H,IAAaC,EAAMxnI,WAAW,GAAG8I,WAAaw+H,EAAMtnI,WAAW,GAAG8I,YAGtE,IAAIzP,GAAkB,IAAXzC,EAAkBA,EAAS,GAClCm2F,EAASz9F,EAAQ8J,OAAO,CAC1Bg9B,UAAWA,EACX9lB,SAAUlY,GAAK,WACb20F,EAAOz8E,SAAW,KAClB+nB,GAAQuE,UAAUC,GAClBltC,KAAKw3I,gBAAiB,EAClBx3I,KAAK2sE,QAAQ/hD,OAAOxP,GAAUpb,KAAK2sE,QAAQ9hD,MAAO,qBACrD7qB,MACHuZ,IAAKA,EACLwzB,UAAW6qG,GACVluI,GAEHwjC,EAAOxE,GAAQmE,SAAS8qG,EAAOE,EAAOz6C,GACtC10D,GAAQ,CAACivG,EAAOE,GAAQz6C,GACxBp9F,KAAKw3I,gBAAiB,IAKtBM,IAFUn4I,EAAQwxB,QAAQ2lH,GAAQpuE,GAAa9+B,GAAcD,GAAO30B,KAAMhJ,GAEjE,CACXpG,KAAM,WACNmE,SAAU,CACRguI,WAAY,QACZjmI,KAAM,WACNwhH,WAAW,EACX0kB,eAAgB,IAElBhuI,MAAO,SAAU/C,GACfjH,KAAK6qB,MAAM1S,WAAa,kBACxBnY,KAAKwwB,iBAAmB,GACxBvpB,EAAOwW,KAAO,CAACzd,KAAKi4I,YAAYhxI,IAC3BA,EAAOixI,aAAYjxI,EAAOixI,WAAa7vH,GAAS9c,EAAK4lF,SAASE,eAE9DpqF,EAAOsrB,WACVtrB,EAAOwW,KAAKlc,KAAKvB,KAAKm4I,YAAYlxI,IAElCjH,KAAKo4I,aAGH95H,GAAIW,SAAQhY,EAAOoxI,mBAAoB,GAE3Cr4I,KAAKs4I,WAAWrxI,EAAOsxI,OAEvBv4I,KAAKslB,OAAO/jB,KAAKvB,KAAKw4I,aAExB9xD,YAAa,WACX,OAAO1mF,KAAKy4I,OAEdD,WAAY,WACV,IAAI5yH,EAAQ5lB,KAGZA,KAAKy4I,MAAQz4I,KAAK2+B,UAAU,QAC5B3+B,KAAKu0H,MAAQv0H,KAAK2+B,UAAU,QAC5B3+B,KAAK04I,YAAc14I,KAAK2+B,UAAU,UAClC3+B,KAAKm3B,OAASn3B,KAAK2+B,UAAU,CAC3Bg6G,QAAS,aAEP34I,KAAKiH,OAAO2xI,UAAU54I,KAAK64I,cAAc74I,KAAKiH,OAAO2xI,UAEzD54I,KAAKy4I,MAAMvzI,KAAK6rD,WAAW/wD,MAAM,GAEjCA,KAAKsuD,UAAY,WACf,IAAIppD,EAAO0gB,EAAM6yH,MAAMnqF,YAEnBn7B,EAAWvN,EAAMqgC,aAAa,SAGlC,OADI9yB,GAAY,GAAGjuB,EAAK8F,OAAOmoB,EAAU,GAClCjuB,GAIJlF,KAAKoN,UAAUmlB,WAClBvyB,KAAK0pE,cAAgB78D,EAAY,WAAW,SAAU9H,GACpD,IAAIiQ,EAAO6Z,GAAG9pB,GAEViQ,GAAQ4Q,EAAMuR,OAChBvR,EAAMhJ,QACG5H,IAAS4Q,EAAM8yH,aAAe1jI,IAAS4Q,EAAMkzH,WAAelzH,EAAMmzH,WAAa/jI,IAAS4Q,EAAMmzH,UAAUx8E,WAAgBx3D,IAA8E,KAAxEA,EAAE+C,OAAOqQ,WAAa,IAAIhW,WAAWwK,QAAQ,wBACpLiZ,EAAMozH,iBAAgB,MAG1Bh5I,KAAK6M,YAAY,cAAc,WAC7BW,EAAYxN,KAAK0pE,kBAGnB1pE,KAAKy4I,MAAM5rI,YAAY,iBAAiB,WACtC+Y,EAAMkzH,UAAUpkH,YAItB9N,QAAS,SAAU1hB,EAAM+gB,GACvB,OAAOjmB,KAAKi5I,UAAU/zI,EAAM+gB,IAE9BgzH,UAAW,SAAU/zI,EAAM+gB,GACzB,IAAID,EAAShmB,KAETwyI,EAAUxyI,KAAKy4I,OAASz4I,KAAK2+B,UAAU,CACzC3pB,KAAM,SAERw9H,EAAQttI,KAAK+gB,OAASA,EACtB,IAAIizH,GAAO,EAOX,GAL6B,mBAAlBh0I,EAAKopD,UAAyBppD,EAAOA,EAAKopD,aACnD4qF,EAAOh0I,EAAKg0I,KACZh0I,EAAO+gB,EAAO1X,WAAWrJ,IAGvBlF,KAAKm5I,UAAW,CAGlB,GAFAn5I,KAAKm5I,WAAY,EAEbj0I,EAAKzD,OAAQ,CAEf,IAAIi2B,EAAQ86G,EAAQttI,KAAKwyB,MACrBzZ,EAAS,EACb,GAA2B,QAAvBje,KAAKoN,UAAU0E,KAAgB0gI,EAAQttI,KAAKwyB,MAAQ/sB,EAAU,CAAC+sB,EAAM,IAAIlB,OAAO,IAAI71B,MAAMuE,EAAKzD,QAASi2B,EAAMrO,MAAM,SAAU,CAChI,IAAI3M,EAAQ81H,EAAQvsF,aAAa,SACjCusF,EAAQttI,KAAKwyB,MAAQ/sB,EAAU+sB,EAAMrO,MAAM,EAAG3M,GAAO8Z,OAAO,IAAI71B,MAAMuE,EAAKzD,QAASi2B,EAAMrO,MAAM3M,KAChGuB,EAASvB,EAGX81H,EAAQphI,MAAM,CACZlM,KAAMA,EACN4F,IAAKmT,IAEHi7H,GAAM/wF,GAAGnoD,KAAKy4I,OAAOrvF,QAAO,WAC9BpjC,EAAOyyH,MAAMvzG,WAAW,QAAS,CAC/B1jC,MAAO03I,OAGgB,QAAvBl5I,KAAKoN,UAAU0E,MAAgB0gI,EAAQ/1E,SAAS+1E,EAAQ1mH,aAAa5mB,EAAKzD,SAG3EyD,EAAKzD,QAAWy3I,GAAM/wF,GAAGnoD,KAAKy4I,OAAOrvF,QAAO,WAC/CpjC,EAAOyyH,MAAMxtI,OAAO,iBAIhBiuI,IAAS1G,EAAQjnF,OAAO,WAC1B2tF,EAAO,CACLhyI,GAAI,QACJ1F,MAAO03I,EACP/0F,KAAM,4BAEmB,QAAvBnkD,KAAKoN,UAAU0E,KAAgB5M,EAAKoI,QAAQ4rI,GAAWh0I,EAAK3D,KAAK23I,IAGvE1G,EAAQphI,MAAMlM,GAEa,QAAvBlF,KAAKoN,UAAU0E,MAEjB0gI,EAAQptH,SAAS/hB,MAAK,WACpB,OAAOmvI,EAAQ/1E,SAAS+1E,EAAQ7iF,gBAKxC,OAAO,GAET79B,MAAO,WACLwyE,GAAOj7D,IAAIvX,MAAM1vB,KAAKpC,MACtBA,KAAKugH,aAAe3yE,GAAQW,YAAc,GAE5C6qG,SAAU,WACR,OAAOp5I,KAAKq5I,QAEdC,QAAS,WACP,OAAOt5I,KAAK84I,WAEdS,eAAgB,SAAUryI,EAAID,GAC5BjH,KAAKiH,OAAOuyI,YAActyI,EAE1BlH,KAAKu0H,MAAM5uG,MAAM1e,GAEjBjH,KAAKy4I,MAAMtuH,WAEbg0C,KAAM,SAAUj3D,EAAID,GAClB,IAAKjH,KAAKiH,OAAOsrB,UAAYvyB,KAAK8M,UAAU,oBAAqB,CAAC5F,IAAM,CACtElH,KAAKg5I,iBAAgB,GAErB,IAAIhzG,EAAShmC,KAAKy4I,MAAM30G,QAAQ58B,GAEhClH,KAAKu0H,MAAM7tG,UAAUsf,GAAQ,EAAO/+B,GAEpCjH,KAAKu0H,MAAM33G,QAGX,IAAIvS,EAAOrK,KAAKu0H,MAAM5jG,SAASxqB,KAAKusB,eAEpCroB,EAAK4O,UAAY5O,EAAKk3D,aACtB9kD,GAAkBpS,EAAM27B,EAAO7/B,KAAK1E,QACpCzB,KAAK8M,UAAU,mBAAoB,CAAC5F,MAGxCuyI,aAAc,SAAU9zH,GACtB,IAAIqgB,EAAShmC,KAAKu0H,MAAM9vF,YAEpBuB,EAAO7/B,OACL6/B,EAAO9+B,GAAIlH,KAAKklC,WAAWc,EAAO9+B,GAAI8+B,IACpChmC,KAAKiH,OAAOuyI,cAAaxzG,EAAO0zG,QAAU15I,KAAKiH,OAAOuyI,aAC1DxzG,EAAOgsB,KAAO,IAAIxpD,KAClBxI,KAAKk9B,IAAI8I,GAEThmC,KAAKy4I,MAAMh8E,SAASz2B,EAAO9+B,KAG7BlH,KAAKu0H,MAAM5uG,MAAM,QAEbA,IAAO3lB,KAAKm3B,OAAOzE,eAAelxB,MAAQ,MAGlDm4I,eAAgB,SAAUzyI,GACpBlH,KAAKu0H,MAAM9vF,YAAYv9B,IAAMA,GAC/BlH,KAAKu0H,MAAM5uG,MAAM,QAGnB3lB,KAAKiL,OAAO/D,IAEd8xI,gBAAiB,SAAUlzC,GAEzB,GAAIA,IAAW9lG,KAAK45I,eAApB,CACA,IAAI3yI,EAASjH,KAAKoN,UAEd04F,GACF9lG,KAAK04I,YAAYvpH,gBAAgBsD,OAEjCzyB,KAAKm3B,OAAOt3B,OAAO,CACjBia,OAAQ7S,EAAO+wI,mBAGbx7G,GAAU8B,SAASt+B,KAAK04I,cAAcl8G,GAAUyB,SAASj+B,KAAKy4I,OAC7DxxI,EAAOoxI,mBAAmBr4I,KAAK04I,YAAYvpH,gBAAgBuF,OAEhE10B,KAAKm3B,OAAOt3B,OAAO,CACjBia,OAAQ7S,EAAO4yI,gBAAkB75I,KAAKugH,gBAI1CvgH,KAAKm3B,OAAO1B,SAEZz1B,KAAK45I,eAAiB9zC,IAExBlpF,MAAO,WACL,IAAIwJ,EAASpmB,KAEbA,KAAKg5I,iBAAgB,GAErB9vI,GAAM,WACJkd,EAAO+Q,OAAOva,YAGlBk9H,cAAe,SAAUt4I,GAClBA,IAAOA,EAAQxB,KAAKm3B,OAAO/e,YAC5B5W,IAAUxB,KAAK04I,YAAY75G,YAAa7+B,KAAK04I,YAAYtxG,UAAmB5lC,GAASxB,KAAK04I,YAAY75G,aAAa7+B,KAAK04I,YAAYvxG,WAE1IixG,UAAW,WACT,IAAIrxH,EAAS/mB,KAEbA,KAAK84I,UAAYzqH,GAAG,CAClBrZ,KAAM,cACN2xE,WAAW,EACXtpC,OAAO,EACPn4C,KAAM,CAAC,CACLgC,GAAI,OACJq1B,KAAM,aACN/6B,MAAO+J,EAAK4lF,SAAe,MAC1B,CACDjqF,GAAI,SACJq1B,KAAM,YACN/6B,MAAO+J,EAAK4lF,SAAiB,SAE/B7nC,GAAI,CACFywF,OAAQ,WACN,IAAIvuG,EAAMzkB,EAAO+xH,UAAUrtG,aAE3B1kB,EAAO0xH,MAAMv9H,OAAOswB,EAAItkC,GAAI,gBAE9B8yI,OAAQ,WACN,IAAIxuG,EAAMzkB,EAAO+xH,UAAUrtG,aAE3B1kB,EAAO0xH,MAAMr9H,UAAUowB,EAAItkC,GAAI,gBAEjC2tH,YAAa,SAAU3tH,GACrB,IAAIskC,EAAMzkB,EAAO+xH,UAAUrtG,aAEvB1kB,EAAOja,UAAU,qBAAsB,CAAC5F,EAAIskC,EAAItkC,OACxC,QAANA,EAAc6f,EAAOo3C,KAAK3yB,EAAItkC,GAAI,QAAuB,UAANA,IACjDqE,EAAK4lF,SAASC,eAAgB92D,GAAQ,CACxCn0B,KAAMoF,EAAK4lF,SAASC,eACpBzwE,SAAU,SAAUrR,GACdA,GAAKyX,EAAO4yH,eAAenuG,EAAItkC,OAE/B6f,EAAO4yH,eAAenuG,EAAItkC,UAO5ClH,KAAKwwB,iBAAiBjvB,KAAKvB,KAAK84I,YAElCX,YAAa,SAAUlxI,GACrB,IAAIgzI,EAASj6I,KAET+1F,EAASxqF,EAAK4lF,SACd1zD,EAAW,CACbzoB,KAAM,WACN2jI,QAAS,WACTr9H,IAAK,0BACLxB,OAAQ7S,EAAO4yI,gBAAkB75I,KAAKugH,aACtC36G,KAAM,OACNwzB,YAAa28D,EAAoB,YACjC32D,gBAAiB,IACjBkqB,GAAI,CACF4wF,gBAAiB,WACfD,EAAOH,iBAETzlB,SAAU,SAAU8lB,GAClBF,EAAOH,cAAcK,IAEvBrlB,WAAY,SAAUhsH,EAAMmR,GAC1B,GAAY,IAARnR,EAAY,CACd,IAAI8wD,EAASqgF,EAAO7sI,UAAU2qI,WAC1Bp3G,EAAQ1mB,EAAG0lB,UAED,SAAVi6B,IAAsBj5B,GAAoB,UAAXi5B,GAAsBj5B,KACvDnmB,GAAaP,GAEbggI,EAAOR,cAAa,QAmC9B,OA5ByB,IAArBxyI,EAAOqsH,WACT3zH,EAAQ8J,OAAOg0B,EAAU,CACvBzoB,KAAM,gBACN1Q,KAAM,WACNgvH,UAAW,SAAUrM,GACnB,OAAOgzB,EAAOG,kBAAkB/xH,GAASU,OAAOk+F,IAAU,MAE3D,GAGM,CACTjyG,KAAM,OACNwmB,UAAW,GACX63C,SAAU,GACV1iD,SAAU,CAAC8M,EAAU,CACnBla,QAAStc,EAAOoxI,kBAChBznH,KAAM,CAAC,GAAI,CACT5b,KAAM,SACN6L,UAAU,EACVvF,IAAK,oCACL9Z,MAAOu0F,EAAa,KACpBpP,WAAW,EACXtqE,MAAO,WACL49H,EAAOR,sBAOjBW,kBAAmB,SAAUC,EAAS58G,GACpC,IAGI4mC,EAHAi2E,EAASt6I,KAEb,IAA6B,IAAzBq6I,EAAQ1tI,QAAQ,KAAa,OAAO0tI,EAEP,UAA7Br6I,KAAKoN,UAAUkmH,YAAuBjvD,EAAQrkE,KAAK+4I,WAAY/4I,KAAK+4I,UAAU3rI,UAAUyiH,WAAuB,SACnH,IAAI0qB,EAAa98G,EAAWz9B,KAAKw6I,YAAcx6I,KAAKy6I,YACpD,OAAOJ,EAAQ3vI,QAAQ6vI,GAAY,SAAUtzB,EAASyzB,EAAOC,EAAIC,GAC/D,OAAON,EAAOO,UAAU5zB,EAAS2zB,GAASF,EAAOr2E,EAAO5mC,OAG5Do9G,UAAW,SAAU5zB,EAASrhH,EAAMy+D,EAAO5mC,GACzC,OAAI4mC,IAAUrkE,KAAKq5I,OAAOnuI,MAAK,SAAU4vI,GACvC,OAAOA,EAAKz2E,IAAUz+D,KACrB,GAAcqhH,EACV,wCAA0CzwF,OAAOiH,EAAWwpF,EAAU,IAAMrhH,EAAM,YAE3FqyI,YAAa,SAAUhxI,GACrB,IAAI8zI,EAAS/6I,KAETg7I,EAAM,kBACN12I,EAAO,CACTwV,OAAQ,OACRmhI,eAAgB,SAAU56I,GACxB,MAAO,kBAAoB26I,EAAM,UAAY36I,EAAI4S,OAAS,aAE5DioI,aAAc,SAAU76I,GACtB,IAAIk4I,EAAQwC,EAAO3B,WAEf0B,EAAOvC,GAASA,EAAMhtF,OAAOlrD,EAAIq5I,SAAWnB,EAAMz0G,QAAQzjC,EAAIq5I,SAAW,GAE7E,MADW,kBAAoBsB,EAAM,UAAYF,EAAKt5I,OAAS,IAAM,WAGvE25I,aAAc,WACZ,OAAOJ,EAAO9zI,OAAOsrB,SAAW,GAAK,oCAAsCyoH,EAAM,iBAEnFI,aAAc,SAAU/6I,GACtB,IAAI2jC,EAASquD,GAAMY,UAAU,gBAC7B,OAAO5yF,EAAI2xD,KAAO,gBAAkBgpF,EAAM,SAAWh3G,EAAO3jC,EAAI2xD,MAAQ,UAAY,IAEtFqpF,cAAe,SAAUh7I,GAOvB,OANcA,EAAI8F,KAAKuE,QAAO,wBAAyB,SAAUgmD,GAE/D,IAAI14C,EAAO,6BADX04C,EAAQroC,GAASU,OAAO2nC,IACyB,KAEjD,OADIA,EAAMA,MAAK,wBAA0B14C,GAAQ,0CAA4C04C,EAAQ,MAAW14C,GAAQ04C,EACjH14C,EAAO,WAIlBsjI,kBAAmB,SAAUj7I,GAC3B,IAAI4mH,EAAU5mH,EAAI8F,KAElB,OADI40I,EAAO3tI,UAAUwrI,UAAYmC,EAAO3tI,UAAUkmH,YAAWrM,EAAU8zB,EAAOX,kBAAkB/5I,EAAI8F,OAC7F8gH,GAETs0B,aAAc,SAAUl7I,GACtB,MAAO,iBAAmB26I,EAAM,YAAc36I,EAAI8F,KAAO,UAE3Dq1I,eAAgB,SAAUn7I,EAAKyoB,GAC7B,IAAI2yH,EAAS,eAAiBT,EAAM,WAEhCzC,EAAQwC,EAAO3B,WAEf0B,EAAOvC,GAASA,EAAMhtF,OAAOlrD,EAAIq5I,SAAWnB,EAAMz0G,QAAQzjC,EAAIq5I,SAAW,GAG7E,GAFIoB,EAAK7nI,SAAQwoI,GAAU3yH,EAAOmyH,eAAeH,IACjDW,GAAU,eAAiBT,EAAM,gBAC7BF,EAAKtyD,MAAOizD,GAAU,iBAAmBX,EAAKtyD,MAAQ,YAAcwyD,EAAM,cAAe,CAC3F,IAAIz+G,EAAOu+G,EAAKt5I,MAAQs5I,EAAKt5I,MAAM,GAAG6wE,cAAgB,4CACtDopE,GAAUT,EAAM,gBAAkBz+G,EAGpC,OADAk/G,GAAU,gBAGZ5xH,SAAU,SAAUxpB,EAAKyoB,GACvB,IAAI4yH,EAEJ,GAAc,SAAVr7I,EAAI6G,GACNw0I,EAAa,oCAAsCX,EAAO3tI,UAAU8qI,WAAW73I,GAAO,aACjF,CACLA,EAAMwH,EAAKxH,GACX,IAAIo7I,EAAS3yH,EAAO0yH,eAAen7I,EAAKyoB,GACpCgyH,EAAOhyH,EAAOoyH,aAAa76I,EAAKyoB,GAChCkpC,EAAOlpC,EAAOsyH,aAAa/6I,EAAKyoB,GAChC6yH,EAAO7yH,EAAOqyH,aAAa96I,EAAKyoB,GACpCzoB,EAAI8F,KAAO2iB,EAAOwyH,kBAAkBj7I,GACpCA,EAAI8F,KAAO2iB,EAAOuyH,cAAch7I,GAIhCq7I,EAAaD,EAASX,EAAOa,EAAO3pF,EAFxBlpC,EAAOyyH,aAAal7I,EAAKyoB,GAKvC,OAAO4yH,GAETlqB,UAAW,SAAUnxH,EAAKyoB,EAAQ4jC,GAChC,IAAIpxC,EAAMw2G,GAAKzoF,IAAI/kC,KAAKktH,UAAUnxH,EAAKyoB,EAAQ4jC,GAE/C,OADIrsD,EAAIq5I,SAAWr5I,EAAIq5I,SAAWqB,EAAO3tI,UAAUosI,cAAgBuB,EAAO1B,OAAO1nI,WAAS2J,GAAO,2BAC1FA,IAGXhX,EAAO3E,EAAQ8J,OAAOnF,EAAM2C,EAAO20I,UAAY,IAAI,GACnD,IAAIhuF,EAAS,CACX5jD,MAAO,SAAU3J,GACXA,EAAI2xD,OAAM3xD,EAAI2xD,KAAOzmD,EAAKw8D,gBAAgB1nE,EAAI2xD,SAIlD/qD,EAAO2mD,QAAQ1rD,OAAOo+B,KAAKr5B,EAAO2mD,QAAQtxB,SAAQ,SAAUvsB,GAC9D69C,EAAO79C,GAAK9I,EAAO2mD,OAAO79C,MAE5B,IAAI8rI,EAAa,CACf7mI,KAAM,OACN0xD,YAAY,EACZpiE,KAAMA,EACNspD,OAAQA,EACRmb,QAAS,CACP+yE,oBAAuB,SAAU7hI,EAAI/S,GAC/B6zI,EAAOjC,UAAU9uH,YAAa+wH,EAAOjC,UAAUpkH,QACjDqmH,EAAOjC,UAAU74F,WAAW,CAC1B5/C,IAAK06I,EACL7zI,GAAIA,IAGN6zI,EAAOjC,UAAUrmH,KAAKxY,EAAGnS,OAAQxD,EAAKy3I,cAAgB,CACpDjxI,IAAK,OACL2O,EAAG,GACHxH,EAAG,OAIT+pI,oBAAuB,WACrB,GAAIjB,EAAO9zI,OAAOwK,KAAOspI,EAAOjuI,UAAU,gBAAiB,IAAK,CAC9DiuI,EAAO5B,WAAY,EAEnB,IAAID,EAAO6B,EAAOtC,MAAM30G,QAAQ,SAAStiC,MAErCyc,EAAkC,QAAzB88H,EAAO3tI,UAAU0E,KAAiBonI,EAAO6B,EAAOtC,MAAMxyF,aAAa,SAC5Ex0C,EAAMqE,GAAQI,OAAO6kI,EAAO9zI,OAAOwK,KACnCkP,EAAW,CACb3O,MAAO,WACL+oI,EAAO5B,WAAY,IAGL,iBAAP1nI,IAAiBA,EAAMA,GAAOA,EAAI9E,QAAQ,KAAO,EAAI,IAAM,KAAO,OAASsR,EAAS,SAAWi7H,GAE1G6B,EAAO3mI,KAAK3C,EAAKkP,EAAU,CACzB7V,IAAKmT,EACLi7H,KAAMA,QAOhB,OADIjyI,EAAOyN,OAAMmnI,EAAWnnI,KAAOzN,EAAOyN,MACnCmnI,GAETvD,WAAY,SAAU92I,GACpB,IAAIy6I,EAASj8I,KAETwB,GAASA,EAAMsiC,QACjB9jC,KAAKq5I,OAAS73I,GAEdxB,KAAKq5I,OAAS,IAAItzB,GAElB/lH,KAAKwwB,iBAAiBjvB,KAAKvB,KAAKq5I,QAE5B73I,GAA0B,iBAAVA,EAAoBxB,KAAKq5I,OAAOjlI,KAAK5S,GAAYxB,KAAKq5I,OAAOjoI,MAAM5P,GAAS,KAGlGxB,KAAKq5I,OAAOn0I,KAAK2H,YAAY,kBAAkB,WAC7C,OAAOovI,EAAOxD,MAAMtuH,cAGxB0uH,cAAe,SAAUr3I,GACvB,IAAI06I,EAASl8I,KAETuyB,EAAWvyB,KAAKiH,OAAOsrB,SACtBA,GAAUvyB,KAAKm8I,cAAc36I,GAE9BxB,KAAKiH,OAAOqsH,YACT/gG,IAAUvyB,KAAKw6I,YAAc,IAAIlyI,OAAO,sCAAuC,MACpFtI,KAAKy6I,YAAc,IAAInyI,OAAO,4BAA+B,MAG/DnF,EAASgC,IAAI,CAACnF,KAAKy4I,MAAMrzH,SAAUplB,KAAKq5I,OAAOj0H,WAAW/hB,MAAK,WAC7D64I,EAAOzD,MAAMtuH,aAGfnqB,KAAKy4I,MAAMvzI,KAAK2H,YAAY,kBAAkB,SAAU3F,EAAI7G,EAAKyR,IAC3D5K,GAAgB,QAAT4K,GAA2B,WAATA,GAC3BoqI,EAAOE,eAAe/7I,OAI5B87I,cAAe,SAAUE,GACvB,IAAIp1I,EAA2B,UAAlBhH,EAAQo8I,GAAqB,GAAKA,EAClB,WAAzBp8I,EAAQgH,EAAO8R,MAAoB9R,EAAO8R,KAAO,CACnD7T,KAAMlF,KAAKq5I,QACNpyI,EAAO8R,KAAK7T,KAAOlF,KAAKq5I,OAC/B15I,EAAQ8J,OAAOxC,EAAQ,CACrB+N,KAAM,mBACL,GAEH,IAAIolD,EAAUp6D,KAAKm3B,OAAOt3B,OAAO,UAAWoH,GAE5CjH,KAAKm3B,OAAOwuF,aAAe,SAAUnkH,EAAO0D,EAAMmB,GAEhD,OAD0B,GAAtB7E,EAAMmL,QAAQ,OAAYnL,EAAQ,IAAKg1B,OAAOh1B,EAAO,MAClDskH,GAAKz8E,IAAIs8E,aAAa/8G,MAAM5I,KAAM,CAACwB,EAAO0D,EAAMmB,KAGzDrG,KAAK+4I,UAAYlqH,GAAGurC,IAEtBgiF,eAAgB,SAAU/7I,GACxB,IAAIi8I,EAAUt8I,KAEd,IAA6B,GAAzBK,EAAI8F,KAAKwG,QAAQ,KAAY,CAC/B,IAAI03D,EAAQrkE,KAAK+4I,WAAY/4I,KAAK+4I,UAAU3rI,UAAUyiH,WAAuB,QACzE0sB,EAAY,GAEhBl8I,EAAI8F,KAAKuE,QAAQ1K,KAAKy6I,aAAa,SAAUxzB,EAASyzB,EAAOtqI,EAAIwqI,GAC/D,IAAIh1I,EAAOg1I,GAASF,EAEhB8B,EAAOF,EAAQjD,OAAOnuI,MAAK,SAAU4vI,GACvC,OAAOA,EAAKz2E,IAAUz+D,KACrB,GASH,OAPI42I,IAASD,EAAU32I,KACrB02I,EAAQxvI,UAAU,kBAAmB,CAAC0vI,EAAKt1I,GAAI7G,EAAI6G,KAEnDq1I,EAAU32I,IAAQ,GAIbqhH,SAOXw1B,IAFU98I,EAAQwxB,QAAQ2mH,GAAQ5yH,GAAgBo/E,GAAOtvF,MAEhD,CACXpP,KAAM,WACNmE,SAAU,CACR0hB,OAAQ,QAEVzhB,MAAO,SAAU/C,GACf,IAAI2e,EAAQ5lB,KAER08I,EAAiC,MAAlBz1I,EAAO0jB,OAE1B,GAAI+xH,EAAc,CAChB,IAAI5zH,EAAS7hB,EAAO3C,KACpBtE,KAAKsE,KAAKA,KAAOwkB,GAAUA,EAAOxkB,MAAQ,MACtC0E,EAAY/B,EAAOwkB,UAASxkB,EAAOwkB,OAAS,KAGlDzrB,KAAKgwB,SAAS7X,WAAaukI,EAAe,6BAA+B,kBACzE18I,KAAKkmD,cAAe,EACpBlmD,KAAKkF,KAAK6rD,WAAW/wD,MAAM,GAC3BA,KAAKkF,KAAK2H,YAAY,kBAAkB,SAAU3F,EAAIhC,EAAMZ,GAC1D,OAAOshB,EAAMkE,OAAO5iB,EAAIhC,EAAMZ,OAGlC00D,IAEA,cACA3mC,SAAU,GACVwV,SAAU,SAAU51B,EAAGwH,GACrBzZ,KAAKkmD,cAAe,EAEhB9c,GAAKC,IAAIxB,SAASzlC,KAAKpC,KAAMiS,EAAGwH,IAClCzZ,KAAKmqB,WAGTL,OAAQ,SAAU5iB,EAAIhC,EAAMZ,GAC1B,GAAKtE,KAAKgqB,UAAUhqB,KAAKoN,UAAUlG,MAAOlH,KAAKkmD,aAA/C,CAEA,GAAY,UAAR5hD,EAAkB,CACpB,IAAI+F,EAAOrK,KAAKglD,YAAY99C,GAM5B,OAFAqR,GAFQvY,KAAK+iC,SAAS77B,GAAMlH,KAAK0tE,cAAcxoE,GAE/BmF,GAChBY,GAAOZ,IACA,EAUT,OAPMrK,KAAK8M,UAAU,iBAAkB,CAAC9M,KAAKkF,SACzClF,KAAK+iC,SAAW,KAChB/iC,KAAKiqB,SAASxT,UAAYzW,KAAKkF,KAAKioD,WAAW7nD,IAAItF,KAAK2pB,QAAS3pB,MAAMqH,KAAK,IAC5ErH,KAAK8M,UAAU,gBAAiB,MAI7B,IAET6c,QAAS,SAAUtpB,GACjBL,KAAK8M,UAAU,eAAgB,CAACzM,IAChC,IAAI8yB,EAAWnzB,KAAKimD,aAAa5lD,EAAI6G,IACrC,OAAOlH,KAAKsE,KAAKylC,cAAc3nC,KAAKpC,KAAMK,EAAKL,KAAKsE,KAAM6uB,GAAYnzB,KAAKsE,KAAKulB,SAASznB,KAAKpC,KAAMK,EAAKL,KAAKsE,KAAM6uB,GAAYnzB,KAAKsE,KAAK0lC,YAAY5nC,KAAKpC,OAE7JsE,KAAM,CACJA,KAAM,OACNktH,UAAW,SAAUnxH,EAAKyoB,EAAQqK,GAChC,IAAI7X,EAAM,sBAWV,MAVoB,cAAhBwN,EAAOxkB,KAAsBgX,GAAO,oBAAsBwN,EAAOxkB,KACtC,KAAzBtE,KAAKoN,UAAUud,OAAerP,GAAO,oBAAsB6X,EAAW,EAAI,SAAW,OAAY7X,GAAO,oBAAsB6X,EAAW,EAAI,QAAU,QAEzJrK,EAAOxN,MAAKA,GAAO,IAAMwN,EAAOxN,KAEhCjb,EAAI8jD,OACmB,UAArBlkD,EAAQI,EAAI8jD,QAAmB9jD,EAAI8jD,KAAOhtC,GAAU9W,EAAI8jD,OAC5D7oC,GAAO,IAAMjb,EAAI8jD,MAGZ7oC,GAETm2D,UAAW,SAAUpxE,GACnB,OAAOA,EAAI07D,OAEb4gF,cAAet0H,GAAS,WACxBu0H,gBAAiB,SAAUv8I,GACzB,OAAOA,EAAIgG,SAAW,IAExB+0I,aAAc,SAAU/6I,GAEtB,OADagyF,GAAMY,UAAU,YACtBjvD,CAAO3jC,EAAI2xD,OAEpBnoC,SAAU,SAAUxpB,EAAKyoB,EAAQqK,GAC/B,IAcI0pH,EACAC,EACAvf,EACAC,EACAuE,EACAa,EACAlgC,EACAC,EArBAlyD,EAAU7C,GAAQ2C,YAGlBkhC,EAAuC,iBAApB3oD,EAAO2oD,UAAwB3oD,EAAO2oD,UAAY3oD,EAAO2oD,UAAUpxE,EAAKyoB,GAC3Fi0H,EAAc,gBAAgBvmH,OAFrB,EAEoC,eAAeA,OAAOi7C,GAAa7jC,GAAQgD,cAAe,KACvGtsC,EAAOwkB,EAAOxkB,KACdwjC,EAAO3U,EAAW,GAAKnzB,KAAK2R,QAG5BqrI,EAAeC,GAEfC,EAAW,qBACXC,EAAY,GACZC,EAAa,GASbprF,EAAOlpC,EAAOsyH,aAAa/6I,EAAKyoB,GAChCziB,EAAUyiB,EAAO8zH,gBAAgBv8I,EAAKyoB,GACtCu0H,EAAY,qCAAuC7mH,OAAO1N,EAAO6zH,cAAct8I,EAAKyoB,GAAS,oBAAoB0N,OAAOnwB,EAAU,uCAAyCmwB,OAAOnwB,EAAS,UAAY,IAE3M,GAA6B,KAAzBrG,KAAKoN,UAAUud,OAAe,CAChC,IAAI7Q,EAAS9Z,KAAKooC,QAAoB,EAAVqI,EACxBgqF,EAAS7sF,GAAQU,eACjB/0B,EAAMk3B,EACN6sG,EAAUxjI,EAAS2gH,EAASuiB,EAC5BO,EAAc9iB,EAASuiB,EAAevsG,EACtC22D,EAAW,MAEH,UAAR9iG,GAEFiV,GADAkhH,EAAS3gH,EAAS2gH,GACHuiB,EAAevsG,EAC9B8sG,EAAczjI,EAAS2gH,EAAShqF,EAAUusG,EAC1C51C,EAAW,UACM,aAAR9iG,IAETg5I,GADA7iB,EAAS/gH,KAAKC,MAAe,GAATG,IACDkjI,EACnBzjI,EAAMkhH,EAASuiB,EAAevsG,EAAU,GAAI8sG,EAAc9iB,EAASuiB,EAAevsG,EAE9Etd,EAAW,IACb5Z,EAAMgkI,EACNn2C,EAAW,WAIf,IAAIo2C,EAAYn9I,EAAI2nC,QAAUlf,EAAOlP,MACpB,QAAb4jI,IAAqBA,EAAYx9I,KAAKy9I,aAAa,CAAC,CACtDt3I,KAAMk3I,EACN/hI,IAAK,uBACLxB,OAAQwjI,GACP,CACDn3I,KAAM6rD,EACN12C,IAAK,yBACH1B,MAAQ62B,GACZ0sG,EAAY,OAAO3mH,OAAOjd,EAAK,OAC/B6jI,EAAa,GAAG5mH,OAAO4wE,EAAU,KAAK5wE,OAAO+mH,EAAa,gCAAgC/mH,OAAO8mH,EAAS,sBAC1GT,EAAWW,EACXV,EAAYriB,EAtDGxoD,GAuDfirE,GAAY,YACZ1f,EAAK/C,EACL8C,EAAKmgB,GACL9a,EAAKnI,EACLsH,EAAK,OACLp/B,EAAK83B,EACL/3B,EA9DiBzwB,MA+DZ,CACL,IAAI9pC,EAAanoC,KAAKoN,UAAUqe,OAASnN,GAAI6pB,WAAa,EACtDvuB,EAAQ5Z,KAAKgoC,OAAmB,EAAVyI,EAActI,EAEpCw1G,EAAUjkI,KAAKqgB,MAAc,IAARngB,GAErBJ,EAAOi3B,EACPmtG,EAASlkI,KAAKqgB,MAAc,IAARngB,GAAgBojI,EACpC/wH,EAAQ0xH,EAAUX,EAAevsG,EACjCotG,EAASF,EAAUX,EAEX,SAAR14I,GAEFkV,GADAmkI,EAAU/jI,EAAQqS,EAAQ+wH,EAAevsG,GACxBusG,EAAevsG,EAChCxkB,EAAQwkB,GACS,aAARnsC,IAET2nB,GADA0xH,EAAUjkI,KAAKqgB,MAAc,GAARngB,IACHojI,EAAevsG,EACjCotG,EAASD,EAASD,EAAUX,EAExB7pH,EAAW,IACb3Z,EAAOyS,EACPA,EAAQwkB,IAIZ,IAAIqtG,EAAaz9I,EAAI+nC,SAAWtf,EAAOhP,OACrB,QAAdgkI,IAAsBA,EAAa99I,KAAKy9I,aAAa,CAAC,CACxDt3I,KAAMk3I,EACN/hI,IAAK,uBACL1B,MAAOgkI,GACN,CACDz3I,KAAM6rD,EACN12C,IAAK,sBACL1B,MAAOikI,KACL/jI,OAAS22B,GACb0sG,EAAY,QAAQ3mH,OAAOhd,EAAM,cAAcgd,OAAOqnH,EAAQ,OAC9DT,EAAa,QAAQ5mH,OAAOvK,EAAO,cAAcuK,OAAOonH,EAAQ,eAAepnH,OAAOsnH,EAAartG,EAAS,OAC5GosG,EAAWc,EApGI1rE,GAqGf6qE,EAAYgB,EACZZ,GAAY,WACZ3f,EAAKogB,EACLngB,EAAKkgB,GACL3b,EAAK4b,EACL/a,EAAK,OACLlgC,EAAKi7C,EACLh7C,EA7GiB1wB,EAgHnB,MAAO,eAAgBz7C,OAAO2mH,EAAW,kCAAqC3mH,OAAOw7B,EAAM,qEAAwEx7B,OAAOqmH,EAAU,gBAAkBrmH,OAAOsmH,EAAW,eAAiBtmH,OAAO0mH,EAAU,oBAAqB1mH,OAAQsR,EAAgL,GAAzK,aAActR,OAAO+mG,EAAI,UAAY/mG,OAAOgnG,EAAI,UAAYhnG,OAAOurG,EAAI,UAAYvrG,OAAOosG,EAAI,yCAA6CpsG,OAAOumH,EAAa,OAAc,8BAA+BvmH,OAAOksE,EAAI,UAAYlsE,OAAOmsE,EAAI,SAAWnsE,OAtH1gB,EAsHyhB,8DAAkEA,OAAOumH,EAAa,iGAAqGvmH,OAAO4mH,EAAY,oBAAqB5mH,OAAO6mH,EAAW,uBAE7xB/rB,UAAW,SAAUjxH,EAAKyoB,GACxB,IAAIlP,EAAQvZ,EAAI2nC,QAAUlf,EAAOlP,MACjC,OAAOA,GAASA,GAAQ,EAAK,KAAO,KAEtC23G,WAAY,SAAUlxH,EAAKyoB,GACzB,IAAIhP,EAASzZ,EAAI+nC,SAAWtf,EAAOhP,OACnC,OAAOA,GAAUA,GAAS,EAAK,KAAO,KAExCiwB,cAAe,SAAU1pC,EAAKyoB,EAAQqK,GAEpC,MAA6B,KAAzBnzB,KAAKoN,UAAUud,OACV,QAAQ6L,OAEf,cAAe,KAAOn2B,EAAI6G,GAAI,aAAesvB,OAAO1N,EAAO0oG,UAAUpvH,KAAKpC,KAAMK,EAAKyoB,EAAQqK,GAAW,mBAAqBqD,OAAO1N,EAAOwoG,UAAUjxH,EAAKyoB,GAAS,OAG9J,QAAQ0N,OAEf,cAAe,KAAOn2B,EAAI6G,GAAI,aAAesvB,OAAO1N,EAAO0oG,UAAUpvH,KAAKpC,KAAMK,EAAKyoB,EAAQqK,GAAW,oBAAsBqD,OAAO1N,EAAOyoG,WAAWlxH,EAAKyoB,GAAS,QAEvKkhB,YAAa3hB,GAAS,WAExBo1H,aAAc,SAAU3vI,GACtB,IAAIhK,EAAIgU,GAAO,OACfhU,EAAE0T,MAAMU,QAAU,wEAClB5N,SAASyO,KAAKrB,YAAY5T,GAI1B,IAHA,IAAI8V,EAAQ,EACRE,EAAS,EAEJpZ,EAAI,EAAGA,EAAIoN,EAAErM,OAAQf,IAAK,CACjCoD,EAAEqU,UAAY,sBAAwBrK,EAAEpN,GAAG4a,IAC3CxX,EAAE0T,MAAMoC,MAAQ9L,EAAEpN,GAAGkZ,MAAQ9L,EAAEpN,GAAGkZ,MAAQ,KAAO,OACjD9V,EAAE0T,MAAMsC,OAAShM,EAAEpN,GAAGoZ,OAAShM,EAAEpN,GAAGoZ,OAAS,KAAO,OACpDhW,EAAE2S,UAAY3I,EAAEpN,GAAGyF,KACnB,IAAIsV,EAAO3X,EAAEgV,wBACbc,EAAQF,KAAKgC,IAAI9B,EAAOF,KAAKiC,KAAKF,EAAK7B,QACvCE,EAASJ,KAAKgC,IAAI5B,EAAQJ,KAAKiC,KAAKF,EAAK3B,SAI3C,OADA7O,GAAOnH,GACA,CACL8V,MAAOA,EACPE,OAAQA,IAGZikI,qBAAsB,SAAU92I,GAC9BjH,KAAKsE,KAAKq4I,cAAgBt0H,GAASphB,IAErC+2I,uBAAwB,SAAU/2I,GAChCjH,KAAKsE,KAAKs4I,gBAAkBv0H,GAASphB,IAEvCg3I,oBAAqB,SAAUh3I,GAC7BjH,KAAKsE,KAAK82I,aAAe/yH,GAASphB,IAEpC6qB,MAAO,WACL9xB,KAAKsE,KAAKwV,OAAS8zB,GAAQiB,mBAC3B7uC,KAAKsE,KAAKsV,MAAqC,EAA7Bg0B,GAAQiB,sBAO1BqvG,IAJUv+I,EAAQwxB,QAAQsrH,GAAQtuE,GAAYb,GAAajb,GAAYqW,GAAa18D,EAAay+B,GAAarB,GAAKp0B,MAI1G,CACXpP,KAAM,OACNirH,eAAgB,aAChB7mH,MAAO,SAAU/C,GACXA,EAAO0/E,YACT3mF,KAAKm+I,oBAAqB,SACnBl3I,EAAO0/E,WAGhB3mF,KAAKo+I,qBAELp+I,KAAKkF,KAAK2H,YAAY,iBAAkBpE,GAAK,WAC3CzI,KAAK4mE,mBACJ5mE,OACHA,KAAK6M,YAAY,eAAe,SAAU3F,EAAInC,EAAG4T,GAC/C,IAAIsE,EAAOjd,KAAK8jC,QAAQ58B,GAExB,GAAI+V,EAAM,CACR,GAAIA,EAAKypC,UAAW,OACpB,IAAI/4C,EAAS3N,KAAK4+C,aAElB,IAAKjxC,EAAOb,UAAU,kBAAmB,CAAC5F,EAAInC,EAAG4T,IAE/C,YADA5T,EAAE45C,UAAYhxC,EAAOP,UAAUlG,IAMjC,GAFIlH,MAAQ2N,GAAQA,EAAO4/D,cAAcrmE,EAAInC,EAAG4T,GAE3C3Y,KAAKsE,KAAK+5I,SAASphI,IAAUtP,EAAO2wI,sBAK3Bv5I,EAAEgvB,aAAiC,UAAlBhvB,EAAEgvB,aAClB/zB,OAAS2N,GAAyC,SAA/BA,EAAOP,UAAUmxI,aAAuBv+I,KAAKonE,uBAAuBlgE,EAAIyR,GAExG5T,EAAE45C,UAAYhxC,EAAOP,UAAUlG,QAP/ByG,EAAOi5D,gBAAe,GAElBj5D,EAAO6wI,qBAAqB7wI,EAAO+mB,WAS7C10B,KAAK6M,YAAY,cAAc,SAAU/D,GACvC,GAAa,IAATA,EAAY9I,KAAK4+C,aAAagoB,sBAAsB,GAAa,KAAT99D,GAAwB,KAATA,EAAa,CACtF,IACIuB,EADAk5B,EAAMvjC,KAAKwjC,gBAEXD,IAAKl5B,EAAOrK,KAAKglD,YAAYzhB,IAC7Bl5B,GAAMsQ,GAAatQ,EAAM,aAAc,aAG/CrK,KAAKkF,KAAK2H,YAAY,cAAc,WAClC7M,KAAKy+I,cAAgB,MAEvBz+I,KAAKkF,KAAKu5I,cAAgB,GAE1Bz+I,KAAKgwB,SAASvY,aAAa,OAAQ,WAGnCzX,KAAKwwB,iBAAmB,IAE1B4tH,mBAAoB,WAClBp+I,KAAK6M,YAAY,eAAe,SAAU3F,EAAInC,EAAG+C,GAC1C9H,KAAK0+I,uBAEV1+I,KAAKonE,uBAAuBlgE,EAAIY,MAElC9H,KAAK6M,YAAY,cAAc,SAAU9H,GACnC/E,KAAK0+I,uBAAsD,SAA7B1+I,KAAKoN,UAAUmxI,YAC5Cv+I,KAAK2+I,oBAAwB55I,EAAEktG,eAAkBjyG,KAAK6qB,MAAMmN,SAASjzB,EAAEktG,gBAAiBjyG,KAAK4mE,qBAGtGwvE,cAAe,WACb,GAA6B,KAAzBp2I,KAAKoN,UAAUud,OAAe,CAChC,IAAIi0H,EAAQ,GACRC,GAAY,EAChB7+I,KAAKkF,KAAKiG,MAAK,SAAU9K,GACvBu+I,EAAMr9I,KAAKvB,KAAK2pB,QAAQtpB,IACpBA,EAAIy+I,UAASD,GAAY,KAC5B7+I,MAEHA,KAAKiH,OAAO2S,MAAQyB,GAAYujI,EAAO5+I,KAAK6qB,MAAM1S,WAAWyB,MAAQ,GAAQ,GAAKilI,EAAY,GAAK,GACnG7+I,KAAKy1B,cACA3vB,GAAO,EAAO,mDAEvB84C,WAAY,eACV,IAAIjxC,EAAS3N,KAEN2N,EAAOg5D,cACZh5D,EAASkhB,GAAGlhB,EAAOg5D,cAGrB,OAAOh5D,GAETwjH,kBAAmB,SAAUx/G,GACvB3R,KAAKoN,UAAU+1C,aAAYxxC,EAAQ3R,KAAK2R,SAI5C,IAHA,IAAInQ,EAAQxB,KAAK2R,QACbmI,EAAS,EAEJpZ,EAAI,EAAGA,EAAIiR,EAAOjR,IAAK,CAC9B,IAAIuc,EAAOjd,KAAKkF,KAAKklB,KAAKpqB,KAAKkF,KAAKwyB,MAAMh3B,IAEtCuc,GAA0B,aAAlBA,EAAKypC,WACf5sC,GAAU,EACL9Z,KAAKoN,UAAU+1C,YAAYxxC,KAC3BmI,GAAU9Z,KAAKsE,KAAKwV,OAK7B,OAFA9Z,KAAK0uE,cAAc/8D,GAASA,EAAQnQ,EAAO,KAEpCsY,GAETsvD,cAAe,GACf9kE,KAAM,CACJ+5I,SAAU,SAAUh+I,GAClB,OAAOA,EAAIy+I,SAAWz+I,EAAI6E,MAAQ7E,EAAI4c,MAExC3B,IAAK,OACL1B,MAAO,OACP4xD,KAAM,SAAUnrE,EAAKyoB,EAAQ4jC,GAC3B,MAAO,mBAAuBA,GAASA,EAAM+kE,eAAiB,qCAA2C,kBAAsB3oG,EAAOu1H,SAASh+I,GAAO,uBAA2B,KAAOA,EAAIwgB,SAAW,+CAAqD,KAE9PkpB,cAAe,SAAU1pC,EAAKyoB,EAAQzT,GACpC,GAAsB,cAAlBhV,EAAIqmD,WAA+C,WAAlBrmD,EAAIqmD,UACvC,MAAO,8EAEgFrmD,EAAIqmD,UAAUlgD,cAAgB,KAGvH,IAAI2V,GAAQ9b,EAAI+b,KAAO,UAAY/b,EAAI+b,KAAO,KAAO,KAAO/b,EAAIyH,OAAS,YAAczH,EAAIyH,OAAS,KAAO,IAC3G,OAAOgqH,GAAKzoF,IAAI/kC,KAAKylC,cAAc1pC,EAAKyoB,EAAQzT,GAAM3K,QAAO,QAAU,MAAQyR,IAAS2M,EAAOu1H,SAASh+I,IAAQyoB,EAAOi2H,QAAU,yCAA2C,KAE9K/0G,YAAa,SAAU3pC,GACrB,MAAyB,cAAlBA,EAAIqmD,WAA+C,WAAlBrmD,EAAIqmD,UAAyB,SAAW,QAElFs4F,kBAAmB32H,GAAS,gCAC5B42H,eAAgB52H,GAAS,gBAE3BixH,QAAS,SAAUpyI,GACjB,GAAKlH,KAAKkF,KAAKklB,KAAKljB,GAUb,OAAOlH,KATZ,IAAK,IAAIk/I,KAASl/I,KAAKkF,KAAKklB,KAAM,CAChC,IAAI/pB,EAAML,KAAK8jC,QAAQo7G,GAEvB,GAAI7+I,EAAIy+I,QAAS,CACf,IAAIr2H,EAASzoB,KAAKm/I,aAAa9+I,GAAKi5I,QAAQpyI,GAE5C,GAAIuhB,EAAQ,OAAOA,KAK3B0+C,WAAY,SAAUjgE,GACpB,IAAIy0I,EAAO37I,KAAKs5I,QAAQpyI,GACpB7G,EAAMs7I,EAAK73G,QAAQ58B,GACvB,OAAO7G,EAAIy+I,QAAUnD,EAAKwD,aAAa9+I,GAAO,MAEhD++I,YAAa,SAAUl4I,GACrB,OAAOlH,KAAKs5I,QAAQpyI,GAAI48B,QAAQ58B,IAElCi4I,aAAc,SAAUj6I,GACtB,IAAIwH,EAAMmiB,GAAG3pB,EAAK45I,SAOlB,OALKpyI,IACHxH,EAAK45I,QAAU9+I,KAAKq/I,iBAAiBn6I,GACrCwH,EAAMmiB,GAAG3pB,EAAK45I,UAGTpyI,GAETgyI,oBAAqB,WACnB,IAAInlI,EAAMvZ,KAAK4+C,aAEf,GAAgC,SAA5BrlC,EAAInM,UAAUmxI,WAAuB,CACvC,IAAI7xI,EAAM6M,EAAI+lI,eACd,SAAI5yI,IAAOmiB,GAAGniB,GAAKsd,aAIrB,OAAO,GAETo9C,uBAAwB,SAAUlgE,EAAIY,GACpC,IAAI5C,EAAOlF,KAAK8jC,QAAQ58B,GACxB,GAAKhC,IAELlF,KAAK2+I,mBAAqB,KAEtB3+I,KAAKs/I,gBAAkBp6I,EAAK45I,SAAW9+I,KAAKs/I,gBAAgBt/I,KAAK4mE,gBAAe,GAEhF5mE,KAAKsE,KAAK+5I,SAASn5I,KAAUlF,KAAKiH,OAAOsc,QAAQ,CACnD,IAAI7W,EAAM1M,KAAKm/I,aAAaj6I,GAE5B,IAAKlF,KAAK6xH,cAAc3qH,GAAK,OAC7BwF,EAAI+lB,KAAK3qB,EAAQ,CACfgD,IAAK9K,KAAKoN,UAAUmyI,aAEtB7yI,EAAIi6D,aAAe3mE,KAAKoN,UAAUlG,GAClClH,KAAKs/I,eAAiBp6I,EAAK45I,UAG/BptB,YAAa,SAAUxqH,GACrB,IAAIy0I,EAAO37I,KAAKs5I,QAAQpyI,GACpBy0I,GAAMA,EAAKhqB,mBAAmBzqH,GAAI,IAExC0qH,WAAY,SAAU1qH,GACpB,IAAIy0I,EAAO37I,KAAKs5I,QAAQpyI,GACpBy0I,GAAMA,EAAKhqB,mBAAmBzqH,GAAI,IAExC2qH,cAAe,SAAU3qH,GACvB,IAAIy0I,EAAO37I,KAAKs5I,QAAQpyI,GACxB,GAAIy0I,EAAM,OAAO7pB,GAAKzoF,IAAIwoF,cAAcjpH,MAAM+yI,EAAMr1I,YAEtDk5I,iBAAkB,SAAUt4I,EAAI1D,GAC9B,IAAIm4I,EAAO37I,KAAKkF,KAEZy2I,EAAK8C,cAAcv3I,IAAO1D,IAC5Bm4I,EAAK8C,cAAcv3I,GAAM1D,EACzBm4I,EAAKtwI,QAAO,SAAUhL,GACpB,OAAQs7I,EAAK8C,cAAcp+I,EAAI6G,OAEjClH,KAAKy1B,WAGTgqH,SAAU,SAAUv4I,GAClB,IAAIy0I,EAAO37I,KAAKs5I,QAAQpyI,GACpBy0I,GAAMA,EAAK6D,iBAAiBt4I,GAAI,IAEtCu1D,SAAU,SAAUv1D,GAClB,IAAIy0I,EAAO37I,KAAKs5I,QAAQpyI,GAExB,GAAIy0I,EAGF,OAFAA,EAAK6D,iBAAiBt4I,GAAI,GAEnB4qH,GAAKzoF,IAAIozB,SAASr6D,KAAKu5I,EAAMz0I,IAGxC0/D,eAAgB,SAAU90D,GACxB,GAAI9R,KAAKs/I,eAAgB,CAEvB,IAAI5yI,EAAMmiB,GAAG7uB,KAAKs/I,gBACd5yI,EAAIk6D,gBACNl6D,EAAIk6D,eAAe90D,IAEjBA,GAASpF,EAAIyzC,qBACfzzC,EAAIgoB,OACJ10B,KAAKs/I,eAAiB,QAI5BD,iBAAkB,SAAUn6I,GAC1B,IAAI22I,EAAa,CACf7mI,KAAM,UACN9P,KAAMlF,KAAKsE,KAAK+5I,SAASn5I,IAGvBu9B,EAAWziC,KAAK4+C,aAAaxxC,UAAUsyI,cAEvCj9G,GAAU9iC,EAAQ8J,OAAOoyI,EAAYp5G,GAAU,GACnD,IAAIk9G,EAAa3/I,KAAKo/I,YAAYl6I,EAAKgC,IACnCy4I,GAAcA,EAAW14I,QAAQtH,EAAQ8J,OAAOoyI,EAAY8D,EAAW14I,QAAQ,GACnF,IAAI00I,EAAOttH,GAAGwtH,GAKd,OAHA77I,KAAKwwB,iBAAiBjvB,KAAKo6I,GAE3BA,EAAKh1E,aAAe3mE,KACb27I,EAAKvuI,UAAUlG,IAExBggE,WAAY,SAAUhgE,EAAI2tC,EAAMvV,GAC9B,IAAIriB,EAAOjd,KAAK8jC,QAAQ58B,GAExB,MAAsB,aAAlB+V,EAAKypC,WAA8C,UAAlBzpC,EAAKypC,WAA0B1mD,KAAK6xH,cAAc3qH,GAKhFA,GAJLA,EAAKlH,KAAKyvD,UAAUvoD,EAAIo4B,IAAQ,OACnBp4B,GAAM2tC,EAAO70C,KAAKknE,WAAWhgE,EAAI2tC,EAAMvV,GAAOuV,GAK/D/iB,MAAO,WACLggG,GAAKzoF,IAAIvX,MAAM1vB,KAAKpC,MACpBA,KAAKsE,KAAKwV,OAAS8zB,GAAQc,YAE7B3kC,SAAU,CACR0hB,OAAQ,GACRd,OAAQ,IACRu/C,gBAAiB,IACjBq1E,WAAY,YAIZK,GAAO,CACTv2G,IAAK60G,GACLlpI,KAHYrV,EAAQwxB,QAAQ+sH,GAAQpsB,GAAK98G,OAMvC6qI,GAAS,CACXj6I,KAAM,UACNoE,MAAO,WACLhK,KAAK2uB,WAAajnB,EAAM1H,KAAK8/I,uBAC7B9/I,KAAK2uB,WAAWuC,MAAQlxB,KACxBA,KAAK6M,YAAY,gBAAgB,WAC3B7M,KAAK4+C,aAAau/F,oBAAsBn+I,KAAKo2I,gBAAkBp2I,KAAKgqB,aAAahqB,KAAKo2I,mBAG5Fp2I,KAAKiqB,SAASxS,aAAa,OAAQ,SAErCqa,MAAO,WACL8tH,GAAKv2G,IAAIvX,MAAM1vB,KAAKpC,MACpBitG,GAAM5jE,IAAIvX,MAAM1vB,KAAKpC,MACrBA,KAAKsE,KAAKwV,OAAS8zB,GAAQc,YAE7B0vG,mBAAoB,WAClBp+I,KAAK6M,YAAY,eAAe,SAAU3F,EAAInC,EAAG+C,GAC1C9H,KAAK0+I,uBAEV1+I,KAAKonE,uBAAuBlgE,EAAIY,MAElC9H,KAAK6M,YAAY,cAAc,SAAU9H,GACO,SAA1C/E,KAAK4+C,aAAaxxC,UAAUmxI,aAC3Bv+I,KAAK2+I,oBAAuB3+I,KAAKmgD,qBAAsBp7C,EAAEktG,eAAkBjyG,KAAK6qB,MAAMmN,SAASjzB,EAAEktG,gBAAgBjyG,KAAK00B,WAG7H10B,KAAK6M,YAAY,iBAAiB,WAC5B7M,KAAK2mE,eAAc93C,GAAG7uB,KAAK2mE,cAAcg4E,oBAAqB,OAGtEmB,sBAAuB,CACrBt3G,SAAU,SAAUzT,EAAIC,GAEtB,IAAIsV,EAAkC,EAA9BtqC,KAAKkxB,MAAM9jB,UAAU0M,OACzBuwB,EAAiC,EAA7BrqC,KAAKkxB,MAAM9jB,UAAUwM,MACzB5S,EAAO44I,GAAKv2G,IAAIb,SAASpmC,KAAKpC,KAAKkxB,MAAO6D,EAAIC,GAIlD,OAFAh1B,KAAKkxB,MAAM9jB,UAAU0M,OAASwwB,EAC9BtqC,KAAKkxB,MAAM9jB,UAAUwM,MAAQywB,EACtBrjC,GAET6gC,SAAU,SAAU51B,EAAGwH,GACjBzZ,KAAKkxB,MAAM9jB,UAAUqe,SAAQzrB,KAAKkxB,MAAMkrB,SAAS5kC,MAAMsC,OAASL,EAAI,OAE1EiW,WAAY,WACV1vB,KAAKkxB,MAAQ,OAIjB2rB,YAAa,aACbnuB,cAAe,WACb,MAAO,IAET3kB,SAAU,CACR6P,MAAO,IACP2lI,WAAY,QACZ50H,OAAQ,IACRw4B,YAAY,GAEd7+C,KAAM,CACJwV,OAAQ8zB,GAAQc,WAChBqwG,SAAS,IAITD,GAAU,CACZz1G,IAAKw2G,GACL7qI,KAHYrV,EAAQwxB,QAAQ0uH,GAAQD,GAAK5qI,KAAMi4F,GAAMj4F,OAMnD+qI,GAAS,CACXn6I,KAAM,WACNmE,SAAU,CACR2+B,SAAS,EACTxY,SAAU,OACVtW,MAAO,IACPwhB,YAAY,GAEdpxB,MAAO,WACLhK,KAAK6qB,MAAM1S,WAAa,mBAE1B2Z,MAAO,WACLm7E,GAAM5jE,IAAIvX,MAAM1vB,KAAKpC,MACrBA,KAAK+J,SAAS0mC,QAAU,GAE1BuvG,gBAAiB,SAAUx+I,GACzB,IAAIy+I,EAAejgJ,KAAKoN,UAAU8iB,SAGlC,OAFI+vH,GAAc7kI,GAAUpb,KAAK6qB,MAAO,mBAAqBo1H,GAC7D/kI,GAAOlb,KAAK6qB,MAAO,mBAAqBrpB,GACjCA,GAETgnC,SAAU,WACR,IAAIphC,EAAQs4C,GAASrW,IAAIb,SAAS5/B,MAAM5I,KAAMsG,WAE9C,OADAtG,KAAKkgJ,eAAiB94I,EACfA,GAETygC,SAAU,SAAU51B,EAAGwH,GACrBkwB,GAAON,IAAIxB,SAASzlC,KAAKpC,KAAMiS,EAAGwH,GAClCxH,EAAIjS,KAAKioC,eAA0C,EAAzBjoC,KAAKoN,UAAUqjC,QACzCh3B,EAAIzZ,KAAKqoC,gBAA2C,EAAzBroC,KAAKoN,UAAUqjC,QAC1CzwC,KAAKkjC,YAAY1rB,MAAMi5B,QAAUzwC,KAAKoN,UAAUqjC,QAAU,KAC1DzwC,KAAKu6C,SAAS/iC,MAAMghB,QAAU,OAC9Bx4B,KAAKo8C,SAAS5kC,MAAMsC,OAASL,EAAI,KAEjCzZ,KAAK2uB,WAAWkZ,SAAS51B,EAAGwH,IAE9BgZ,KAAM,WACJ,IAAKzyB,KAAK8M,UAAU,eAAgBxG,WAAY,OAAO,EACvDtG,KAAKoN,UAAUmW,QAAS,EACxBvjB,KAAKgwB,SAASxY,MAAMse,OAASA,GAAO91B,KAAKoN,UAAU0oB,SAE/C91B,KAAKoN,UAAUmvC,OAASv8C,KAAKw8C,UAC/Bx8C,KAAK46C,YAAW,GAEhB56C,KAAKw8C,OAAS,MAGhBx8C,KAAKgwB,SAASxY,MAAMghB,QAAU,QAE9Bx4B,KAAK4oC,uBAED5oC,KAAKoN,UAAU8iB,UAAUlwB,KAAK+6B,eAClC/6B,KAAKu+C,YAAc,EACnBr1C,GAAM,WACJlJ,KAAKu+C,YAAc,IAClBv+C,KAAM,GAAIse,GAAIc,UAAY,IAAM,KAE/Bpf,KAAKiH,OAAOu3C,YACdx+C,KAAKy+C,YAAcjiB,GAAUuB,WAC7BvB,GAAUyB,SAASj+B,QAGjB,GAAMktB,GAAMgB,QAAQhjB,KAAKlL,OAAOktB,GAAMgB,QAAQ3sB,KAAKvB,MACvDA,KAAK8M,UAAU,SAAU,KAE3BiuB,aAAc,SAAU9oB,GACtB,IAAI2H,EACAE,EACAyhB,EACAE,EACAvL,EACA1W,EAAO,EACPD,EAAM,EACNgoB,EAAW,GACfvhC,KAAK6qB,MAAMrT,MAAM0Y,SAAW,QAC5BqL,EAAWjxB,SAAS2D,gBAAgB4L,YACpC4hB,EAAYnxB,SAAS2D,gBAAgB8L,aACrCH,EAAQ5Z,KAAKkgJ,eAAe,IAAM3kH,EAClCzhB,EAAS9Z,KAAKkgJ,eAAe,IAAMzkH,EACnC31B,EAAO8T,GAASE,EAAQ,uCAGR,QAFhBoW,EAAWlwB,KAAKoN,UAAU8iB,UAGxBtW,EAAQ2hB,EACa,SAAZrL,GACTpW,EAAS2hB,EACTjiB,EAAO+hB,EAAW3hB,GACG,UAAZsW,GACTtW,EAAQ2hB,EACRhiB,EAAMkiB,EAAY3hB,GAElBA,EAAS2hB,EAGX8F,EAAW,CACT/nB,KAAMA,EACND,IAAKA,EACLK,MAAOA,EACPE,OAAQA,EACRyhB,SAAUA,EACVE,UAAWA,GAEsB,mBAAxBz7B,KAAKoN,UAAU5J,OAAqBxD,KAAKoN,UAAU5J,MAAMpB,KAAKpC,KAAMuhC,GAC/EvhC,KAAKq/C,OAAS9d,EACdvhC,KAAK6nC,SAAStG,EAAS3nB,MAAO2nB,EAASznB,aAEvB,IAAL7H,GAAoBjS,KAAKoN,UAAUs7B,SAC5CttB,GAAUpb,KAAK6qB,MAAO,iBAEtB7qB,KAAKi3I,SAASj3I,KAAKoN,UAAU8iB,UAAUiwH,WAAW/9I,KAAKpC,KAAMuhC,GAG7Dr4B,GAAM,WACJgS,GAAOlb,KAAK6qB,MAAO,iBAAiB,KACnC7qB,KAAM,KAAM,GAEfkJ,GAAM,WACJlJ,KAAKi3I,SAASj3I,KAAKoN,UAAU8iB,UAAUuC,KAAKrwB,KAAKpC,KAAMuhC,KACtDvhC,KAAM,KAAM,MAEiB,UAA5BA,KAAKoN,UAAU8iB,WAAsBqR,EAAS/nB,KAAO+nB,EAAStV,MAAQsP,EAAWgG,EAAS3nB,MAAQ2nB,EAAStV,MAAQsP,EAAWgG,EAAS3nB,OAC3I5Z,KAAKqvB,YAAYkS,EAAS/nB,KAAM+nB,EAAShoB,OAG7C8lC,OAAQ,GACRpW,cAAe,SAAUznC,GAEvB,OADIA,EAAOxB,KAAK00B,OAAY10B,KAAKyyB,SACxBjxB,GAEXy1I,SAAU,CACRz9H,KAAM,CACJ2mI,WAAY,SAAU5+G,GACpBvhC,KAAK6qB,MAAMrT,MAAMgC,MAAQ+nB,EAAS3nB,MAAQ,KAC1C5Z,KAAK6qB,MAAMrT,MAAM+B,IAAMgoB,EAAShoB,IAAM,MAExCkZ,KAAM,SAAU8O,GACdvhC,KAAK6qB,MAAMrT,MAAMgC,KAAO+nB,EAAS/nB,KAAO+nB,EAAS/nB,KAAO,KAAO,OAEjEkb,KAAM,SAAU6M,GACdvhC,KAAK6qB,MAAMrT,MAAMgC,MAAQ+nB,EAAS3nB,MAAQ,OAG9CqS,MAAO,CACLk0H,WAAY,SAAU5+G,GACpBvhC,KAAK6qB,MAAMrT,MAAMgC,KAAO,OACxBxZ,KAAK6qB,MAAMrT,MAAMyU,OAASsV,EAAS3nB,MAAQ,KAC3C5Z,KAAK6qB,MAAMrT,MAAM+B,IAAMgoB,EAAShoB,IAAM,MAExCkZ,KAAM,SAAU8O,GACdvhC,KAAK6qB,MAAMrT,MAAMyU,MAAQsV,EAAStV,MAAQsV,EAAStV,MAAQ,KAAO,OAEpEyI,KAAM,SAAU6M,GACdvhC,KAAK6qB,MAAMrT,MAAMyU,OAASsV,EAAS3nB,MAAQ,OAG/CL,IAAK,CACH4mI,WAAY,SAAU5+G,GACpBvhC,KAAKqvB,YAAYkS,EAAS/nB,KAAM+nB,EAAShoB,KACzCvZ,KAAK6qB,MAAMrT,MAAMsC,OAAS,MAC1B9Z,KAAKo8C,SAAS5kC,MAAMsC,OAAS,OAE/B2Y,KAAM,SAAU8O,GACdvhC,KAAK6qB,MAAMrT,MAAMsC,OAASynB,EAASznB,OAAS,KAC5C9Z,KAAKo8C,SAAS5kC,MAAMsC,OAASynB,EAASznB,OAAS,MAEjD4a,KAAM,WACJ10B,KAAK6qB,MAAMrT,MAAMsC,OAAS,MAC1B9Z,KAAKo8C,SAAS5kC,MAAMsC,OAAS,QAGjC0R,OAAQ,CACN20H,WAAY,SAAU5+G,GACpBvhC,KAAK6qB,MAAMrT,MAAMgC,KAAO+nB,EAAS/nB,KAAO,KACxCxZ,KAAK6qB,MAAMrT,MAAM+B,IAAM,OACvB,IAAIiS,EAA4BtqB,MAAnBqgC,EAAS/V,OAAsB+V,EAAS/V,OAAS+V,EAAS9F,UAAY8F,EAAShoB,IAAMgoB,EAASznB,OAC3G9Z,KAAK6qB,MAAMrT,MAAMgU,OAASA,EAAS,KACnCxrB,KAAK6qB,MAAMrT,MAAMsC,OAAS,OAE5B2Y,KAAM,SAAU8O,GACdvhC,KAAK6qB,MAAMrT,MAAMsC,OAASynB,EAASznB,OAAS,MAE9C4a,KAAM,WACJ10B,KAAK6qB,MAAMrT,MAAMsC,OAAS,SAIhCilC,gBAAiB,WACf,IAAIxjB,EAAWjxB,SAAS2D,gBAAgB4L,YACpC4hB,EAAYnxB,SAAS2D,gBAAgB8L,aAEzC,GAAI/Z,KAAKoN,UAAUs7B,SAAWnN,GAAYv7B,KAAKq/C,OAAO9jB,UAAYE,GAAaz7B,KAAKq/C,OAAO5jB,UAAW,CAEpGz7B,KAAKi3I,SAASj3I,KAAKoN,UAAU8iB,UAAUwE,KAAKtyB,KAAKpC,KAAMA,KAAKq/C,QAG5D,IAAI1R,EAAMlhB,GAAQzsB,KAAK6qB,MAAOvM,GAAIyB,cAAetX,GAAK,WACpDzI,KAAKg/C,iBAEL1yB,GAAYqhB,KACX3tC,YACEA,KAAKg/C,mBAKZohG,IAFUzgJ,EAAQwxB,QAAQ4uH,GAAQ9yC,GAAMj4F,MAE/B,CACXpP,KAAM,UACNmE,SAAU,CACRzF,KAAM,UACN0vI,aAAa,EACbt2G,QAAQ,EACRjS,QAAQ,EACRgW,WAAW,EACX4+G,eAAgB,GAChBnwH,SAAU,OACVtW,MAAO,IACPswD,gBAAiB,IAEnBp4C,MAAO,WACL9xB,KAAK+J,SAASu2I,YAAc1yG,GAAQQ,oBAEtCpkC,MAAO,SAAU/C,GACfjH,KAAKugJ,WAAav3I,EAAY/B,EAAO2S,OAAS5Z,KAAK+J,SAAS6P,MAAQ3S,EAAO2S,MAC3E5Z,KAAKoN,UAAUwM,MAAQ3S,EAAO2S,MAAQ3S,EAAOw6B,UAAYx6B,EAAOo5I,gBAAkBrgJ,KAAK+J,SAASs2I,eAAiBrgJ,KAAKugJ,WACtHvgJ,KAAK6qB,MAAM1S,WAAa,iBACxBnY,KAAKslB,OAAO/jB,KAAKvB,KAAKwgJ,cACtBxgJ,KAAKslB,OAAO/jB,KAAKvB,KAAKygJ,kBAEtBzgJ,KAAKkF,KAAK2nD,aAAe,SAAUxsD,GAC7BA,EAAI6E,KAAM7E,EAAIs7I,KAAO9zI,EAAKxH,EAAI6E,MAAe7E,EAAI4c,OACnD5c,EAAIs7I,KAAO9zI,EAAKxH,EAAI4c,KAAKxb,OAASpB,EAAI4c,KAAO,CAAC5c,EAAI4c,SAGtDhW,EAAOm2D,aAAc,GAEvBvd,WAAY,GACZupB,cAAe,GACfo3E,aAAc,WACZxgJ,KAAK6M,YAAY,gBAAgB,SAAU3F,GACzC,IAAKlH,KAAKiH,OAAOy5I,aAGf,IAFA,IAAIluI,EAAOxS,KAAK04E,eAEPh4E,EAAI,EAAGA,EAAI8R,EAAK/Q,OAAQf,IAC3BV,KAAKu3D,YAAYrwD,IAAOlH,KAAKu3D,YAAY/kD,EAAK9R,KAAKV,KAAKk8B,MAAM1pB,EAAK9R,IAI3E,OAAQV,KAAKiH,OAAOw6B,aAEtBzhC,KAAK6M,YAAY,eAAe,SAAU3F,EAAI+S,EAAI5P,GAChD,IAAIioB,EAAQtyB,KAAKu7D,WACbjpC,IAAUA,EAAMrrB,OAAOsc,SAAQtJ,EAAG0kC,UAAYrsB,EAAMrrB,OAAOC,IAC3D+S,EAAG8Z,aAAkC,UAAnB9Z,EAAG8Z,aAAyB/zB,KAAK2gJ,WAAWz5I,EAAImD,MAExErK,KAAK6M,YAAY,kBAAkB,SAAU3F,GAC3C,OAAKlH,KAAK8jC,QAAQ58B,GAAIm8D,SACpBrjE,KAAKolD,SAAS,2BACP,MAKXplD,KAAK6M,YAAY,iBAAiB,SAAU3F,GAC1ClH,KAAK4gJ,UAAU5gJ,KAAMkH,GAAK0mC,GAAQuC,gBAElCnwC,KAAKu7D,WAAWslF,gBAAgB35I,MAElClH,KAAK6M,YAAY,mBAAmB,WAClC7M,KAAKolD,SAAS,6BAEhBplD,KAAK6M,YAAY,eAAe,SAAU3F,EAAI+S,EAAI5P,GAChDrK,KAAK2gJ,WAAWz5I,EAAImD,MAEtBrK,KAAK6M,YAAY,cAAc,WACzB7M,KAAKiH,OAAOw6B,YAAWzhC,KAAKu7D,WAAWhT,SAAW,UAG1Do4F,WAAY,SAAUz5I,EAAImD,GACxB,GAAIrK,KAAKiH,OAAOw6B,UAAW,CACzB,IAAInP,EAAQtyB,KAAKu7D,WAEbjpC,IACFtyB,KAAK8gJ,aAAa55I,EAAIorB,GAEtBtyB,KAAK+gJ,YAAY75I,EAAIorB,GAErBA,EAAMi2B,SAAWrhD,EACjBorB,EAAMG,KAAKpoB,EAAM,CACf4H,EAA2B,QAAxBjS,KAAKiH,OAAOipB,SAAqBlwB,KAAKiH,OAAOo5I,gBAAkB/tH,EAAMrrB,OAAO2S,MAC/EH,GAAG,OAKXqnI,aAAc,SAAU55I,EAAIorB,GAC1B,IAAI6G,EAAQ7G,EAAMuJ,UAAUnN,gBAAgB,GACvCyK,GAAS7G,EAAMi2B,UAAYrhD,IAChCiyB,EAAM/nB,MAAMpR,KAAK8jC,QAAQ58B,IACRlH,KAAKwjC,iBAEJt8B,EAChBgU,GAAOie,EAAMtO,MAAO,kBAAkB,GAEtCzP,GAAU+d,EAAMtO,MAAO,oBAG3Bk2H,YAAa,SAAU75I,EAAIorB,GACzB,IAAIk/B,EAAOl/B,EAAMuJ,UAAUnN,gBAAgB,GAC3C,GAAK8iC,GAAQl/B,EAAMi2B,UAAYrhD,EAA/B,CACIlH,KAAKurD,OAAOj5B,EAAMi2B,WAAavoD,KAAK8jC,QAAQxR,EAAMi2B,UAAUozF,MAAM37I,KAAKklC,WAAW5S,EAAMi2B,SAAU,CACpGozF,KAAMnqF,EAAKtsD,KAAKopD,cAElBkD,EAAKpM,SAAS,0BACdoM,EAAKge,cACL,IAAItqE,EAAO2C,EAAK7H,KAAK8jC,QAAQ58B,GAAIy0I,MAAQ,IAEzC,GAAIz2I,EAAKzD,OAAQ,CACf+vD,EAAK/+B,OACL++B,EAAKtsD,KAAKg/B,WAAWh/B,GACrB,IAAI87I,EAAahhJ,KAAKwjC,gBAClBguB,EAAKjG,OAAOy1F,GAAaxvF,EAAK9zB,OAAOsjH,GAAqBA,GAAYhhJ,KAAK4gJ,UAAUpvF,EAAMwvF,QAE/FxvF,EAAK98B,OACL88B,EAAKtsD,KAAK2hB,aAGd45H,iBAAkB,WAChB,IAEInuH,EAFAlnB,EAASpL,KACTiH,EAASmE,EAAOnE,OAOpB,GAJIA,EAAOqrB,QACTA,EAAQzD,GAAG5nB,EAAOqrB,SAGfA,EAAO,CACV,IAAI2uH,EAAkC,QAAnBh6I,EAAOipB,SAAqB,2BAA6B,4BACxEqvH,EAAgC,QAAnBt4I,EAAOipB,SAAqB,QAAU,OAEnDgxH,EAAe,SAAU7gJ,GAC3B,IAAIk8B,EAAO,cAAmC,QAAnBt1B,EAAOipB,SAAqB,QAAU,QAEjE,OADY7vB,EAAIy+I,SAAWz+I,EAAI6E,MAAQ7E,EAAI4c,KAAO,0BAA6Bsf,EAAO,WAAc,IACrFl8B,EAAImB,OAGjB8Z,EAAMrU,EAAOqU,IAAM,IAAMrU,EAAOqU,IAAM,GACtCqyG,EAAc,CAChB34G,KAAM,QACNsG,IAAK,uBAAyB2lI,EAAe3lI,EAC7CsiC,SAAS,EACThkC,MAAO5Z,KAAKugJ,WAAavgJ,KAAKiH,OAAOo5I,eACrCjlH,YAAY,EACZqV,QAAS,EACT13B,KAAM,CACJ0E,KAAM,CAAC,CACLzI,KAAM,WACNomB,YAAY,EACZ9f,IAAK,4BACLuO,SAAU,UACV/P,OAAQ9Z,KAAKiH,OAAOq5I,YAAc,EAClCv3E,QAAS,CACPo4E,eAAgB,WACd,IAAIj6I,EAAKlH,KAAKykC,YAAYv9B,GACrBkE,EAAO04B,QAAQ58B,GAAIm8D,QAAQj4D,EAAOsyB,OAAOx2B,MAGjD,CACD8N,KAAM,OACN8pI,QAAS,OACTn0H,OAAQ,IACR40H,WAAYA,EACZ7hH,QAAQ,EACRtC,YAAY,EACZ+nB,YAAY,EACZ7nC,IAAK,4BAA8B2lI,EAAe3lI,EAClDuO,SAAUq3H,EACV58I,KAAM,CACJy6I,SAAS,GAEXW,cAAe,CACbjvG,QAAS,EACT8uG,WAAYA,EACZ11H,SAAUq3H,EACVxjH,QAAQ,EACRp5B,KAAM,CACJy6I,SAAS,GAEXzjI,IAAK,4BAA8B2lI,EAAe3lI,EAClDguC,GAAI,CACFywF,OAAQ,WACN/5I,KAAKolD,SAAS,0BACdplD,KAAKwvE,cACL,IAAIjsC,EAAMn4B,EAAOo4B,gBACbD,GAAOvjC,KAAKurD,OAAOhoB,GAAMvjC,KAAK09B,OAAO6F,GAAcA,GAAKn4B,EAAOw1I,UAAU5gJ,KAAMujC,IAErF69G,eAAgB,SAAUl6I,GACxB,GAAIlH,KAAKmnE,WAAWjgE,GAAK,OAAO,GAElCm6I,cAAe,SAAUn6I,OACvB,IAAIy0I,EAAOvwI,EAAOmwD,WAAW58B,UAAU,CACrC3pB,KAAM,SAEJrH,EAASvC,EAAOmsD,YAAYrwD,GAEzByG,GAAQ,CACb,IAAIjB,EAAMivI,EAAKrC,QAAQ3rI,GAEnBjB,IACFA,EAAI8iE,cAEJpkE,EAAOw1I,UAAUl0I,EAAKxF,IAGxByG,EAASvC,EAAOmsD,YAAY5pD,GAG9BvC,EAAOw1I,UAAU5gJ,KAAMkH,MAI7BoiD,GAAI,CACF83F,eAAgB,SAAUl6I,GACxB,GAAIlH,KAAKmnE,WAAWjgE,GAAK,OAAO,GAElCo6I,gBAAiB,SAAUp6I,GACpBlH,KAAKmnE,WAAWjgE,IAAKkE,EAAOsyB,OAAOx2B,SAMlDvH,EAAQ8J,OAAOkkH,EAAa1mH,EAAOqrB,OAAS,IAAI,IAChDA,EAAQjE,GAAGs/F,IAELkzB,gBAAkB,SAAU35I,GAChC,GAAIkE,EAAOnE,OAAOw6B,WAA0C,GAA7Br2B,EAAO04B,QAAQ58B,GAAImxD,OAAa,CAC7D,IAAIl/B,EAAQ7G,EAAMuJ,UAAUnN,gBAAgB,GACxCyK,GAAOje,GAAOie,EAAMtO,MAAO,kBAAkB,KAIrDyH,EAAMqM,UAAU,CACd3pB,KAAM,SACLspI,sBAAuB,EAG5BhsH,EAAMzlB,YAAY,gBAAgB,WAChC,OAAO5F,EAAOw6B,aAEhBzhC,KAAKwwB,iBAAmB,CAAC8B,GACzBrrB,EAAOs6I,QAAUjvH,EAAMrrB,OAAOC,GAE9BqlB,GAAOjiB,SAASyO,KAAM,eAAe,SAAUhU,GAC7C,IAAI4T,EAAM5T,EAAE+C,OAEPwqB,EAAMrrB,OAAOsc,QAAW+O,EAAMzH,MAAMmN,SAASrf,IAAS3Y,KAAK6qB,MAAMna,WAAWsnB,SAASrf,IAAS2Z,EAAMqM,UAAU,CACjH3pB,KAAM,SACLsqI,gBACDhtH,EAAMoC,SAEP,CACDjsB,KAAMzI,QAGV4gJ,UAAW,SAAU5rI,EAAMuuB,EAAKi+G,GAC9B,IAAIlmI,EAAM,yBACVtG,EAAK9P,KAAKiG,MAAK,SAAU9K,IACnBL,KAAKyhJ,SAASl+G,EAAKljC,EAAI6G,KAASs6I,GAAuC,KAA5BxhJ,KAAKu3D,YAAYl3D,EAAI6G,IAA+C8N,EAAK+vC,OAAO1kD,EAAI6G,GAAIoU,IAAMtG,EAAKoG,UAAU/a,EAAI6G,GAAIoU,GAAnFtG,EAAKkG,OAAO7a,EAAI6G,GAAIoU,KACpGtb,OAELyhJ,SAAU,SAAUr+D,EAAK7F,GACvB,IAAI5vE,EAAS3N,KAAKu3D,YAAY6rB,GAC9B,OAAI7F,GAAO5vE,KACPA,GAAe3N,KAAKyhJ,SAAS9zI,EAAQ4vE,IAG3ChiB,SAAU,WACR,OAAO1sC,GAAG7uB,KAAKiH,OAAOs6I,UAExBvB,gBAAiB,SAAUx+I,GACzB,IAAIkgJ,EAASlgJ,EACTmgJ,EAAkB,QAATngJ,EAAkB,QAAU,OACzC4Z,GAAUpb,KAAK6qB,MAAO,iBAAmB82H,GACzCzmI,GAAOlb,KAAK6qB,MAAO,iBAAmB62H,GAAQ,GAC9C,IAAIpvH,EAAQtyB,KAAKu7D,WAEjB,GAAIjpC,EAAO,CACT,IAAIsvH,EAAUtvH,EAAMzH,MACpBzP,GAAUwmI,EAAS,uBAAyBD,GAC5CzmI,GAAO0mI,EAAS,uBAAyBF,GAAQ,GAGnD,OAAOlgJ,GAETk8B,OAAQ,SAAUx2B,GAEZA,IACEmB,EAAQnB,KAAKA,EAAKA,EAAG4I,OACzBskI,GAAK/qG,IAAI3L,OAAOt7B,KAAKpC,KAAMkH,KAG/ByoE,UAAW,aACX5R,SAAU,WACR/9D,KAAKH,OAAO,aAAa,IAE3BimG,OAAQ,WACN9lG,KAAKH,OAAO,aAAa,IAE3B0hH,OAAQ,WACN,IAAI9/E,GAAazhC,KAAKiH,OAAOw6B,UAC7BzhC,KAAKH,OAAO,YAAa4hC,IAE3BijE,iBAAkB,SAAUljG,GAC1B,IAAIoY,EAmBJ,OAjBKpY,GAKHoY,EAAQ5Z,KAAKiH,OAAOo5I,eACpBrgJ,KAAKq4E,WACLr4E,KAAKsE,KAAKm9B,WAAY,EACtBrmB,GAAUpb,KAAK6qB,MAAO,4BAPtBjR,EAAQ5Z,KAAKugJ,WACbvgJ,KAAKsE,KAAKm9B,WAAY,EACtBvmB,GAAOlb,KAAK6qB,MAAO,0BAA0B,IAQ1C7hB,EAAY4Q,IAAUA,IAAU5Z,KAAKiH,OAAO2S,QAE/C5Z,KAAKH,OAAO,QAAS+Z,GACrB5Z,KAAKy1B,UAGAj0B,GAET8/B,SAAU,WACR,IAAI99B,EAAQ,CACVi+B,UAAWzhC,KAAKiH,OAAOw6B,WAGzB,OADA9hC,EAAQ8J,OAAOjG,EAAO00E,GAAQ52C,SAASl/B,KAAKpC,OACrCwD,GAETm+B,SAAU,SAAUn+B,GAClB00E,GAAQv2C,SAASv/B,KAAKpC,KAAMwD,GAC5BxD,KAAKH,OAAO,YAAa2D,EAAMi+B,cAGnC3U,GAAKsnH,GAAKp/H,KAAM,CACdpP,KAAM,UACNkU,OAAQ,OACR+P,SAAU,SAAUxpB,EAAKyoB,GACvB,OAAIA,EAAO2Y,UAAkB3Y,EAAOyT,KAAKl8B,EAAKyoB,GACvCA,EAAO+4H,MAAMxhJ,EAAKyoB,GAAUA,EAAOyT,KAAKl8B,EAAKyoB,GAAU,SAAWzoB,EAAImB,MAAQ,WAEvFqgJ,MAAO,SAAUxhJ,GAGf,IAFA,IAAI2X,EAAO,GAEFtX,EAAI,EAAGA,GAAKL,EAAIg4D,OAAQ33D,IAC/B,GAAIA,GAAKL,EAAIg4D,QAAUh4D,EAAIgjE,OAAQ,CAGjCrrD,GAAQ,iBADQ,sCADL,cAAgB3X,EAAImS,KAAO,OAAS,UAET,YAI1C,OAAOwF,GAETukB,KAAM,SAAUl8B,GACd,IAAImX,EAAQ,GAMZ,OAJInX,EAAIg4D,OAAS,IACf7gD,EAAQ,uBAA0B,IAAMnX,EAAIg4D,OAAS,GAAK,OAGxDh4D,EAAIk8B,KAAa,8CAAgDl8B,EAAIk8B,KAAO,KAAO/kB,EAAQ,WACxF,SAAWA,EAAQ,cAGhB7X,EAAQwxB,QAAQivH,GAAQhM,GAAKp/H,MAK7BrV,EAAQwxB,QAHT,CACXvrB,KAAM,WAE8B+5C,GAAestD,GAAMj4F,MAL3D,IAOI8sI,GAAS,CACXl8I,KAAM,cACN44I,qBAAqB,EACrBx0I,MAAO,SAAU/C,GACXA,EAAOy4I,eAAe//I,EAAQ8J,OAAOxC,EAAQA,EAAOy4I,iBAKxDqC,IAFUpiJ,EAAQwxB,QAAQ2wH,GAAQniG,GAAem/F,GAAQ9pI,MAEhD,CACXpP,KAAM,UACN0pB,UAAU,EACVvlB,SAAU,CACR0hB,OAAQ,IACRu2H,UAAW,EACX75G,WAAY,GACZ85G,eAAe,EACf5pC,KAAM,GAERruG,MAAO,SAAU/C,GACf,IAAI2e,EAAQ5lB,KAERs/B,EAAMr4B,EAAOwkB,QAAU,IACvBphB,EAAOrK,KAAKgwB,SAAW5lB,EAAOnD,EAAOunB,WACzCnkB,EAAK8N,WAAa,kBAAoBmnB,EACtCj1B,EAAKoM,UAAY,yCAEjB8V,GAAOliB,EAAM,UAAU,WACrB,OAAOub,EAAMs8H,qBAGfliJ,KAAKmiJ,eAAiB,GAExBrwH,MAAO,WACL9xB,KAAK+J,SAASq4I,WAAax0G,GAAQ7iB,WAErCG,MAAO,WACLlrB,KAAKiH,OAAO+6I,UAAY,EACxBhiJ,KAAKgwB,SAA+B,KAAtBhwB,KAAKiH,OAAOwkB,OAAgB,aAAe,aAAe,EACpEzrB,KAAKqiJ,eAAe7tH,aAAax0B,KAAKqiJ,cAAc,KAE1DC,eAAgB,SAAU9gJ,GAQxB,OAPIA,EAAQ,MACVxB,KAAKoN,UAAUirG,KAAO72G,EAAQ,IAC9BA,EAAQ,KAERxB,KAAKoN,UAAUirG,KAAO,EAGjB72G,GAET+gJ,mBAAoB,SAAU/gJ,GAG5B,OAFAA,EAAQxB,KAAKsiJ,eAAe9gJ,GAC5BxB,KAAKgwB,SAAStf,WAAW8G,MAAMoC,MAAQpY,EAAQ,KACxCA,GAETghJ,oBAAqB,SAAUhhJ,GAG7B,OAFAA,EAAQxB,KAAKsiJ,eAAe9gJ,GAC5BxB,KAAKgwB,SAAStf,WAAW8G,MAAMsC,OAAStY,EAAQ,KACzCA,GAETihJ,OAAQ,SAAUjhJ,EAAO+X,EAAKiS,GAC5BhqB,EAAQA,GAAS+X,GAAO,IAAMiS,GAAU,GACxC,IAAI5R,EAAQ5Z,KAAKoN,UAAU+6B,WAEtBvuB,IAAS5Z,KAAKoN,UAAU60I,eAAkB3jI,GAAIiwD,gBACjDvuE,KAAKgwB,SAASxY,MAAMkrI,cAAgB,OACpC9oI,EAAQ,IAGLA,GAGH5Z,KAAKgwB,SAASxY,MAAMghB,QAAU,QAC1Bjf,IAAKvZ,KAAKgwB,SAASxY,MAAMqyF,UAAYtwF,EAAM,MAC/CvZ,KAAKgwB,SAASxY,MAA+B,KAAzBxX,KAAKoN,UAAUqe,OAAgB,QAAU,UAAY/R,KAAKgC,IAAI,EAAGla,GAAS,KAC9FxB,KAAKgwB,SAASxY,MAA+B,KAAzBxX,KAAKoN,UAAUqe,OAAgB,SAAW,SAAW7R,EAAQ,MALjF5Z,KAAKgwB,SAASxY,MAAMghB,QAAU,OAQhCx4B,KAAKmiJ,eAAiB3gJ,GAExBmhJ,UAAW,WACT,OAAOjpI,KAAKC,MAAM3Z,KAAKoN,UAAU40I,UAAYhiJ,KAAKoN,UAAUirG,OAE9DuqC,QAAS,WACP,OAAOlpI,KAAKC,OAAO3Z,KAAKoN,UAAU6mB,aAAej0B,KAAKoN,UAAUm0D,cAAgBvhE,KAAKoN,UAAUirG,OAEjGwqC,SAAU,WACR,IAAI5kI,EAASje,KAAK2iJ,YACdjnI,EAAMhC,KAAKgC,IAAI1b,KAAK4iJ,UAAY5iJ,KAAKmiJ,eAAgB,GACrDlkI,EAASvC,GAAK1b,KAAKksB,SAASxQ,IAElCjJ,MAAO,SAAUjR,EAAOshJ,GACtB,IAAI77I,EAASjH,KAAKoN,UAKlB,IAJA5L,EAAQkY,KAAKC,MAAMnY,EAAQyF,EAAOoxG,OAEtB,IAAG72G,EAAQ,GAEnBshJ,GAAU9iJ,KAAKgwB,SAAS9D,SAAU,CACpC,IAAI3X,EAAU,CACZgF,IAAK,EACLC,KAAM,EACNupI,SAAU,UAEZxuI,EAAyB,KAAjBtN,EAAOwkB,OAAgB,OAAS,OAASjqB,EAEjDxB,KAAKgwB,SAAS9D,SAAS3X,QAEvBvU,KAAKgwB,SAA0B,KAAjB/oB,EAAOwkB,OAAgB,aAAe,aAAejqB,EAGrExB,KAAKkiJ,gBAAgB,KAErBliJ,KAAKoN,UAAU40I,UAAYxgJ,GAAS,GAEtC0qB,SAAU,SAAU1qB,GAClB,IAAIyF,EAASjH,KAAKoN,UAKlB,IAJA5L,EAAQkY,KAAKC,MAAMnY,EAAQyF,EAAOoxG,OAEtB,IAAG72G,EAAQ,GAEnBA,GAASxB,KAAKoN,UAAU40I,UAK1B,OAJAhiJ,KAAKgwB,SAA0B,KAAjB/oB,EAAOwkB,OAAgB,aAAe,aAAejqB,EAEnExB,KAAKgjJ,gBAAgBxhJ,GAAO,IAErB,GAGX0gJ,gBAAiB,SAAUjtH,GACrBj1B,KAAKqiJ,gBACPptH,EAAOA,GAAQj1B,KAAKqiJ,cAAc,GAClC7tH,aAAax0B,KAAKqiJ,cAAc,KAGlCriJ,KAAKqiJ,cAAgB,CAACn5I,EAAMlJ,KAAKijJ,UAAWjjJ,KAAM,GAAGi1B,GAAOA,GAAOA,IAErEguH,UAAW,SAAUnvI,GAEnB,GADA9T,KAAKqiJ,cAAgB,MACjBvuI,EAAJ,CACA,IAAIpQ,EAAIgW,KAAKC,MAAM3Z,KAAKgwB,SAAkC,KAAzBhwB,KAAKoN,UAAUqe,OAAgB,aAAe,cAC3E/nB,GAAK1D,KAAKoN,UAAU40I,WAAWhiJ,KAAKgjJ,gBAAgBt/I,GAAG,KAE7Ds/I,gBAAiB,SAAUxhJ,EAAO6nC,GAEhC,IAAIvvB,EAAS9Z,KAAKoN,UAAU6mB,aAAej0B,KAAKoN,UAAUm0D,aAEtD//D,GAASsY,EAAS9Z,KAAKmiJ,gBAAkB94G,EAAMrpC,KAAKoN,UAAUirG,KAAO,KAEvE72G,EAAQkY,KAAKgC,IAAI,EAAG5B,EAAS9Z,KAAKmiJ,eAAiBniJ,KAAKoN,UAAUirG,OAGpEr4G,KAAKoN,UAAU40I,UAAYxgJ,GAAS,EACpCxB,KAAK8M,UAAU,WAAY,CAAC9M,KAAK2iJ,eAEnCO,WAAY,SAAUtqH,EAAMuqH,GAC1BnjJ,KAAKojJ,eAAiBD,EAEtB52H,GAAOqM,EAAM,QAAS54B,KAAKqjJ,UAAW,CACpC56I,KAAMzI,KACN6sB,SAAS,KAGbw2H,UAAW,SAAUt+I,GACnB,IAAIu6B,EAAM,EACN+mB,EAAuB,IAAhBthD,EAAEu+I,UAAkB,GAAK,EACpC,OAAIv+I,EAAEg8B,UAEFh8B,EAAEw+I,QAAU7pI,KAAKyS,IAAIpnB,EAAEw+I,QAAU7pI,KAAKyS,IAAIpnB,EAAEy+I,QAE1CxjJ,KAAKojJ,gBAAkBpjJ,KAAKoN,UAAU60I,gBAAe3iH,EAAMv6B,EAAEw+I,OAASl9F,IAGrErmD,KAAKojJ,gBAAkBpjJ,KAAKoN,UAAU60I,gBACd3iH,EAAvBt2B,EAAYjE,EAAEy+I,QAAez+I,EAAE0+I,OAAkB1+I,EAAEy+I,OAASn9F,GAMhE/nC,GAAImB,WAAUzf,KAAK0jJ,YAAc3+I,EAAE+C,QACnCw3B,GAAOt/B,KAAKksB,SAASlsB,KAAK2iJ,YAAcrjH,EAAMt/B,KAAKoN,UAAUg1I,YAAoB5nI,GAAazV,QAAlG,MAOA4+I,IAJUhkJ,EAAQwxB,QAAQ4wH,GAAQ/1I,EAAam2B,IAIvC,CACV0zB,YAAa,WACX,IAAI7vC,EAAShmB,KAGT+xD,GAAS,EACb/xD,KAAKkF,KAAKo/B,QAAO,WACf,IAAI1e,EAAQ5lB,KAEZA,KAAKqL,SACL,IAAI2oB,GAAQ,EAERq0C,EAAQ,SAAUh3D,GAEpB,GADAvL,EAAOuL,EAAK,8CACPuU,EAAM0+D,gBAAgBjzE,GAAM,MAAO,WACxC,IAAIoV,EAASb,EAAMyuC,iBAAiBhjD,GAChCuyI,EAAcn9H,EAAO,GAAGrO,SAASqO,EAAO,IAExCo9H,EAAaD,EACbn9H,EAAO,GAAG+1E,UAASqnD,EAAap9H,EAAO,GAAG+1E,QAAQp6F,KAAKqkB,EAAO,GAAIo9H,EAAYp9H,EAAO,GAAIb,IAE7Fa,EAAO,GAAGjlB,MAAQoiJ,EAClB,IAAIhoD,EAAUn1E,EAAO,GAAGm1E,QACxB,IAAKh2E,EAAM9Y,UAAU,iBAAkB,CAACuE,EAAKwyI,EAAYp9H,EAAO,KAAM,MAAO,WAE7E,GAAIA,EAAO,GAAG41E,SAAWtqC,EAEvBA,GAAS,MACJ,CACL,GAAmB,KAAf8xF,EAAmB,MAAO,WAE1BjoD,GACFA,EAAUh2E,EAAMk+H,eAAezyI,EAAKuqF,GAEpCh2E,EAAMva,OAAO5C,GAAK,SAAUpI,EAAKmB,GAC/B,QAAKnB,GACEu7F,EAAQv7F,EAAIgR,GAAM7P,EAAOnB,KAC/BulB,GAAQi+H,EAAY7vH,IAClBpO,EAAMva,OAAOgG,EAAKwyI,EAAY7vH,GAErCA,GAAQ,IAIZ,IAAK,IAAI+vH,KAAO/jJ,KAAKq0D,iBACRgU,EAAM07E,KAIlB/jJ,MAEC+xD,EACG/xD,KAAKw1D,gBAEFx1D,KAAKw1D,gBAAgBnqD,QAAS,EAFXrL,KAAKgzD,SAAS,EAAG,EAAG,EAAG,GAAG,GAAM,GAAM3vD,MAAK,WACpE,OAAO2iB,EAAOowC,uBAGhBp2D,KAAKmqB,UACLnqB,KAAK8M,UAAU,gBAAiB,MAGpCg3I,eAAgB,SAAUzyI,EAAKuqF,GAC7B,IAAIv3C,EAASrkD,KAAKm1D,gBAAgB9jD,GAC9Bo3D,EAAYpkB,EAASA,EAAOmkB,YAAc,KAE9C,OAAKC,GACmB,iBAAbA,IAAuBA,EAAY,KACvC,SAAUu7E,EAAWC,EAAY5jJ,GACtC,IAAK2jJ,EAAW,OAAO,EAGvB,IAFA,IAAIryF,EAAMqyF,EAAU7hJ,WAAW0N,MAAM44D,GAE5B/nE,EAAI,EAAGA,EAAIixD,EAAIlwD,OAAQf,IAC9B,GAAIk7F,EAAQjqC,EAAIjxD,GAAIujJ,EAAY5jJ,GAAM,OAAO,IAP1Bu7F,GAWzB3f,kBAAmB,SAAUnqE,GAC3B,OAAOnS,EAAQ8J,OAAOzJ,KAAKkF,KAAK0rD,YAAa9+C,GAAM,IAErDoyI,UAAW,SAAUn4H,GACnB,IAAI1gB,EAASrL,KAAKq0D,iBAAiBtoC,GACnC,OAAI1gB,GAAUA,EAAO,GAAG84I,YAAoB94I,EAAO,GAAG84I,YAAY94I,EAAO,IACrEA,GAAUA,EAAO,GAAGqnB,aAAqBrnB,EAAO,GAAGqnB,aAAarnB,EAAO,IACpE,MAETiwF,eAAgB,SAAUjxF,EAAMpD,EAAQ5G,GACtCL,KAAKq0D,iBAAiBptD,EAAO8kB,UAAY,CAAC1hB,EAAMpD,EAAQ5G,IAE1D67F,cAAe,SAAUh1F,EAAI4K,GAC3B,IACIzR,EAAML,KAAKm1D,gBAAgBjuD,GAC3BqN,EAAUzC,GAAQA,EAAKslH,QAAU,KAAO/2H,EAAI86D,WAE5CxvD,EAAS,CACXq6B,OAFEzxB,EAAkBvU,KAAKi8F,eAAe75F,KAAKmS,EAAS,KAAM,SAAuBvU,KAAKi8F,eAAe57F,EAAI6G,GAAI7G,EAAI6G,KAKrH,OADAlH,KAAK8M,UAAU,kBAAmB,CAAC5F,EAAIyE,IAChCA,EAAOq6B,QAEhBi2D,eAAgB,SAAU/0F,EAAI1F,GAC5B,IAAI4iJ,EAAS,CACX,IAAI,GAEFp+G,EAAS,GAiBb,GAhBAhmC,KAAKkF,KAAKiG,MAAK,SAAU9K,GACvB,IAAIgkJ,EAAShkJ,EAAMA,EAAI6G,GAAM,GAEd,IAAXm9I,IAAcA,EAAS,KAEJ,UAAnBpkJ,EAAQokJ,KAAqBA,EAASriI,OAAOqiI,SAElCnjJ,IAAXmjJ,GAAyBD,EAAOC,KAClCD,EAAOC,IAAU,EACjBr+G,EAAOzkC,KAAK,CACV2F,GAAIm9I,EACJ7iJ,MAAOnB,EAAImB,QAGdxB,MAAM,GAELgmC,EAAOvkC,OAAQ,CACjB,IAAI6C,EAAkC,iBAApB0hC,EAAO,GAAGxkC,MAAqB,SAAW,MAC5DwkC,EAAOhd,KAAKhpB,KAAKkF,KAAKgrD,QAAQp4C,OAAO,CACnCg4C,GAAIxrD,EACJurD,GAAI,QACJvwB,IAAK,SAIT,OAAO0G,GAETowB,iBAAkB,WACZp2D,KAAK+/B,UAAU//B,KAAK+/B,WACxB//B,KAAK8M,UAAU,gBAAiB,OAIhCw3I,GAAU,CACZC,aAAc,SAAU/iJ,GACtB,IAAIokB,EAAQ5lB,KA4CZ,OA1CIwB,IAAUxB,KAAKwkJ,qBACjBxkJ,KAAKqpE,qBAELrpE,KAAKiH,OAAOw9I,cAAe,EAC3BzkJ,KAAK6M,YAAY,iBAAiB,SAAU9H,GAE1C,GAAI2xC,GAAYhb,OACV9V,EAAM8+H,cAAa9+H,EAAM8+H,YAAc9+H,EAAM++H,aAAa/+H,EAAM8+H,YAAa9+H,EAAMxY,UAAUw3I,YADnG,CAKA,IAAI95I,EAAM8a,EAAMlN,OAAO3T,IAGlB+F,GAAOwT,GAAIgB,QAAUva,EAAEktG,gBAAennG,EAAM8a,EAAMlN,OAAO3T,EAAEktG,gBAChE,IAAItuF,EAAM7Y,EAAMA,EAAI6Y,IAAM,KAEtBiC,EAAM8+H,aAAe/gI,IACnBiC,EAAM8+H,aAAa9+H,EAAM++H,aAAa/+H,EAAM8+H,YAAa9+H,EAAMxY,UAAUw3I,OAC7Eh/H,EAAM8+H,YAAc/gI,EAChBiC,EAAM8+H,aAAa9+H,EAAMk/B,UAAUl/B,EAAM8+H,YAAa9+H,EAAMxY,UAAUw3I,YAI9Er4H,GAAOvsB,KAAK6qB,MAAO,YAAY,SAAU9lB,GACvC,IAAI4T,EAAM5T,EAAE+C,OAGR8d,EAAM8+H,aAAep6I,SAASyO,KAAKif,SAASrf,MACpC5T,EAAEktG,cAAgBrsF,EAAMlN,OAAO3T,EAAEktG,eAAiB,QAG1DrsF,EAAM++H,aAAa/+H,EAAM8+H,YAAa9+H,EAAMxY,UAAUw3I,OAEtDh/H,EAAM8+H,YAAc,UAK1B1kJ,KAAKwkJ,mBAAqB,GAGrBhjJ,GAETqjJ,cAAe,SAAUrjJ,GAWvB,OAVKxB,KAAK09B,QAAUl8B,IAClB7B,EAAQ8J,OAAOzJ,KAAMA,KAAK8kJ,YAAYC,eAAe,IACvC,IAAVvjJ,EAAgBA,EAAQ,MAAwB,eAATA,IACzCA,EAAQ,MACRxB,KAAKoN,UAAUgwD,aAAc,GAE/Bt3D,EAAO9F,KAAK8kJ,YAAYtjJ,GAAQ,2BAA6BA,GAC7D7B,EAAQ8J,OAAOzJ,KAAMA,KAAK8kJ,YAAYtjJ,IAAQ,IAGzCA,GAETgiC,cAAe,SAAU1xB,GACvB,OAAOA,EAAO,GAAK,IAErBg+D,gBAAiB,SAAUh+D,GACzB,OAAO68D,GAAemB,gBAAgB1tE,KAAKpC,KAAM8R,IAEnDgzI,YAAa,CAEXC,cAAe,CACbC,YAAa,qBACbh7I,MAAO,WACLhK,KAAKilJ,oBAELjlJ,KAAKqyB,SAAS6yH,WAAaz8I,EAAKzI,KAAKmlJ,qBAAsBnlJ,MAE3DA,KAAKolJ,cAAgBplJ,KAAK8uE,eAAiB,WACzC9uE,KAAKq2D,YAGPr2D,KAAKkF,KAAK2H,YAAY,iBAAkBpE,EAAKzI,KAAK4uE,cAAe5uE,OACjEA,KAAKkF,KAAK2H,YAAY,cAAepE,EAAKzI,KAAKqlJ,aAAcrlJ,OAC7DA,KAAKkF,KAAK2H,YAAY,aAAcpE,EAAKzI,KAAKolJ,cAAeplJ,OAC7DA,KAAKkF,KAAK2H,YAAY,gBAAiBpE,EAAKzI,KAAK8uE,eAAgB9uE,OACjEA,KAAKkF,KAAK2H,YAAY,aAAcpE,EAAKzI,KAAKgvE,YAAahvE,OAC3DA,KAAKslB,OAAO/jB,KAAKotE,GAAeM,gBAElCD,YAAa,SAAUprC,EAAO/uB,GAC5B,IAAK,IAAInU,EAAI,EAAGA,EAAIV,KAAKslJ,eAAe7jJ,OAAQf,IAC1CV,KAAKslJ,eAAe5kJ,IAAMkjC,IAAO5jC,KAAKslJ,eAAe5kJ,GAAKmU,GAGhE,IAAK,IAAIzT,EAAK,EAAGA,EAAKpB,KAAKulJ,gBAAgB9jJ,OAAQL,IAAM,CACvD,IAAI6b,EAAOjd,KAAKulJ,gBAAgBnkJ,GAE5B6b,EAAK0G,KAAOigB,IACdA,EAAQ5jC,KAAKwlJ,YAAYvoI,GACzBA,EAAK0G,IAAM9O,EACXA,EAAQ7U,KAAKwlJ,YAAYvoI,GACzBA,EAAK/V,GAAK2N,SACH7U,KAAKylJ,eAAe7hH,GAC3B5jC,KAAKylJ,eAAe5wI,IAAS,KAInC+5D,cAAe,SAAU1nE,EAAI7G,EAAKiE,GACpB,UAARA,GAAkBtE,KAAKq2D,SAASnvD,IAEtCm+I,aAAc,WACZ,IAAK,IAAI3kJ,EAAIV,KAAKulJ,gBAAgB9jJ,OAAS,EAAGf,GAAK,EAAGA,IAAK,CACzD,IAAIijB,EAAM3jB,KAAKulJ,gBAAgB7kJ,GAAGijB,IAE7B3jB,KAAKurD,OAAO5nC,KACf3jB,KAAKulJ,gBAAgBv6I,OAAOtK,EAAG,UAExBV,KAAKylJ,eAAe9hI,MAIjCshI,kBAAmB,WAEjBjlJ,KAAKulJ,gBAAkB,GAEvBvlJ,KAAKylJ,eAAiB,GAEtBzlJ,KAAKslJ,eAAiB,IAExB11E,WAAY,SAAU1oE,EAAIm9C,GACxB,IAAIhzC,EAKJ,OADQA,EAHHrI,EAAYq7C,GAGa,WAAhBpkD,EAAQiH,GAAmBlH,KAAKwlJ,YAAYt+I,GAAMA,EAHhClH,KAAKwlJ,YAAY,CAC/C7hI,IAAKzc,EACLm9C,OAAQA,IAEHrkD,KAAKylJ,eAAep0I,IAE7BmyB,cAAe,SAAUkiH,EAASC,GAChC,IAAIh6I,EAGJ,GAAI3L,KAAKulJ,gBAAgB9jJ,OAAS,GAAKikJ,GAErC,GADA/5I,EAAS,GAAG6qB,OAAOx2B,KAAKulJ,iBACpBI,EAAO,IAAK,IAAIjlJ,EAAI,EAAGA,EAAIiL,EAAOlK,OAAQf,IAC5CiL,EAAOjL,GAAKiL,EAAOjL,GAAGwG,QAIxB,GADAyE,EAAS3L,KAAKulJ,gBAAgB,GAC1BI,GAASh6I,EAAQ,OAAOA,EAAOzE,GAGrC,OAAOyE,GAETi6I,cAAe,WACb,OAAO5lJ,KAAK2jB,KAEd4yC,QAAS,SAAUrxD,EAAMsrD,GACvB,IAAIn/C,EAAMrR,KAAKwlJ,YAAYtgJ,GAG3B,GAAY,OAARmM,EAAJ,CACA,IAAiB,IAAbm/C,EAAiB,OAAOxwD,KAAK6lJ,UAAU3gJ,GAG3C,GAFAA,EAAKgC,GAAKmK,EACVnM,EAAK/C,SAAWnC,KAAK4lJ,eAChB5lJ,KAAK8M,UAAU,iBAAkB,CAAC5H,EAAMsrD,IAAY,OAAO,EAKhE,IAAIxwD,KAAKylJ,eAAep0I,KAASm/C,GAA2C,GAA/BxwD,KAAKulJ,gBAAgB9jJ,OAUlE,OATK+uD,GAAUxwD,KAAK8lJ,mBAEpB9lJ,KAAKulJ,gBAAgBhkJ,KAAK2D,GAE1BlF,KAAKylJ,eAAep0I,IAAO,EAC3BrR,KAAK8M,UAAU,gBAAiB,CAAC5H,EAAMsrD,IAEvCxwD,KAAK+lJ,iBAAiB/lJ,KAAKgmJ,aAAa9gJ,KAEjC,IAET4gJ,iBAAkB,WAChB,IAAK9lJ,KAAKulJ,gBAAgB9jJ,OAAQ,OAAO,EAEzC,IAAK,IAAIf,EAAI,EAAGA,EAAIV,KAAKulJ,gBAAgB9jJ,OAAQf,IAC/C,IAAKV,KAAK8M,UAAU,mBAAoB,CAAC9M,KAAKulJ,gBAAgB7kJ,KAAM,OAAO,EAG7E,IAAK,IAAI4P,EAAM,EAAGA,EAAMtQ,KAAKslJ,eAAe7jJ,OAAQ6O,IAClDtQ,KAAKkF,KAAKggD,WAAWllD,KAAKslJ,eAAeh1I,GAAM,iBAAkB,GAAG,GAGtE,IAAIsgB,EAAO5wB,KAAKoN,UAAU0Q,QAC1B,GAAI8S,EAAM,IAAK,IAAIskC,EAAM,EAAGA,EAAMtkC,EAAKnvB,OAAQyzD,IAC7CtkC,EAAKskC,GAAKia,UAAY,KAExB,IAAIjqE,EAAOlF,KAAKulJ,gBAEhBvlJ,KAAKilJ,oBAEL,IAAK,IAAI5vF,EAAM,EAAGA,EAAMnwD,EAAKzD,OAAQ4zD,IACnCr1D,KAAK8M,UAAU,kBAAmB,CAAC5H,EAAKmwD,KAG1C,OAAO,GAETma,YAAa,WACXxvE,KAAKimJ,kBAEPt2E,UAAW,WACT3vE,KAAKkmJ,eAEPD,eAAgB,WACVjmJ,KAAK8lJ,qBACP9lJ,KAAK8M,UAAU,iBAAkB,IACjC9M,KAAK8pB,WAGT+7H,UAAW,SAAU3gJ,GACnB,IAAImM,EAAMrR,KAAKwlJ,YAAYtgJ,GAQ3B,IANKmM,GAAOrR,KAAKulJ,gBAAgB9jJ,SAC/BzB,KAAKimJ,iBACLjmJ,KAAK8M,UAAU,iBAAkB,KAI9B9M,KAAKylJ,eAAep0I,GAAzB,CACA,IAAKrR,KAAK8M,UAAU,mBAAoB,CAAC5H,IAAQ,OAAO,EAExD,IAAK,IAAIxE,EAAI,EAAGA,EAAIV,KAAKulJ,gBAAgB9jJ,OAAQf,IAC/C,GAAIV,KAAKulJ,gBAAgB7kJ,GAAGwG,IAAMmK,EAAK,CACrCrR,KAAKulJ,gBAAgBv6I,OAAOtK,EAAG,GAE/B,aAIGV,KAAKylJ,eAAep0I,GAC3BrR,KAAK8M,UAAU,kBAAmB,CAAC5H,IAEnClF,KAAK+lJ,iBAAiB,EAAG/lJ,KAAKmmJ,eAAejhJ,MAE/CkhJ,iBAAkB,SAAUl/I,GAC1B,IAAI+V,EAAOjd,KAAK8jC,QAAQ58B,GACxB,OAAOlH,KAAKkF,KAAK+/C,QAAQhoC,EAAK/V,GAAI,iBAAkB,EAAG,CACrDm8D,OAAQ,IACP,IAEL0iF,iBAAkB,SAAU7+I,GACtBA,GAAIlH,KAAKslJ,eAAe/jJ,KAAK2F,GAE5BlH,KAAKuvE,oBACRvvE,KAAK8pB,SACL9pB,KAAK8M,UAAU,iBAAkB,MAGrCq4I,qBAAsB,SAAUpgJ,EAAGmC,GACjC,IAAIspD,EAAWzrD,EAAEg8B,SAAWh8B,EAAEk8B,SAAyC,SAA9BjhC,KAAKoN,UAAUgwD,YACpDv5C,EAAQ9e,EAAE46B,SAGd,GAFK3/B,KAAKoN,UAAUgwD,aAAwC,eAAzBp9D,KAAKoN,UAAUswB,QAAoD,QAAzB19B,KAAKoN,UAAUswB,SAAkB8yB,EAAW3sC,GAAQ,GAE7HA,GAAS7jB,KAAKulJ,gBAAgB9jJ,OAAQ,CACxC,IAAIqmC,EAAO9nC,KAAKulJ,gBAAgBvlJ,KAAKulJ,gBAAgB9jJ,OAAS,GAE9DzB,KAAKqmJ,aAAan/I,EAAI4gC,QAElB0oB,GAAYxwD,KAAKylJ,eAAezlJ,KAAKwlJ,YAAYt+I,IAAMlH,KAAK6lJ,UAAU3+I,GAASlH,KAAKu2D,QAAQ,CAC9F5yC,IAAKzc,EAAGyc,IACR0gC,OAAQn9C,EAAGm9C,QACVmM,IAGP81F,cAAe,SAAU3lI,EAAU0jC,EAAQ1gC,GACzC,IAAIiN,EAAO5wB,KAAKoN,UAAU0Q,QAE1B,GAAIumC,EAAQ,CAGV,IAFA,IAAI30C,EAAO,GAEFhP,EAAI,EAAGA,EAAIkwB,EAAKnvB,OAAQf,IAC3BkwB,EAAKlwB,GAAGyuE,WAAWz/D,EAAKnO,KAAKqvB,EAAKlwB,IAGxCkwB,EAAOlhB,EAMT,IAHA,IAAI+N,EAAOzd,KAAKkF,KAAKwyB,MACjBkgD,EAAU,EAELliB,EAAM,EAAGA,EAAMj4C,EAAKhc,OAAQi0D,IAAO,CAC1C,IAAIz4C,EAAOjd,KAAK8jC,QAAQrmB,EAAKi4C,IAC7B,GAAKz4C,EAAL,CAEA,IAAI0jC,EAAY3gD,KAAKkF,KAAKigD,QAAQloC,EAAK/V,GAAI,kBAE3C,GAAIy5C,GAAa0D,EAAQ,CAGvB,IAFA,IAAI4zB,EAAU,EAEL12B,EAAI,EAAGA,EAAI3wB,EAAKnvB,OAAQ8/C,IAAK,CACpC,IAAIr6C,EAAK0pB,EAAK2wB,GAAGr6C,GAEjB,GAAIyc,GAAO0gC,GAAU1D,EAAUz5C,GAAK,CAClC,IAAIyZ,EAA8E,MAAO,CACvFgD,IAAKlG,EAAKi4C,GACVrR,OAAQn9C,GAFI+V,EAAK/V,GAAMyZ,EAAS1D,EAAK/V,GAAKuW,EAAKi4C,GAAMxuD,EAAI0wE,EAASK,GAIpEA,KAKJL,SAKRj0D,IAAK,CACHqhI,YAAa,oBACbQ,YAAa,SAAUtgJ,GACrB,OAAOA,EAAKye,KAEd+Z,OAAQ,SAAU6oH,EAAQ/1F,GAEpB+1F,IAAQA,EAASA,EAAOpkJ,YAC5B2D,EAAO9F,KAAKkF,KAAKqmD,OAAOg7F,GAAS,mCAAqCA,GAEtEvmJ,KAAKu2D,QAAQ,CACX5yC,IAAK4iI,GACJ/1F,IAELw1F,aAAc,SAAU9gJ,GAEtB,OADAlF,KAAKomJ,iBAAiBlhJ,EAAKye,KAAKk/C,MAAO,EAChC39D,EAAKye,KAEd0yC,SAAU,SAAUkwF,GAClBvmJ,KAAK6lJ,UAAU,CACbliI,IAAK4iI,KAGTJ,eAAgB,SAAUjhJ,GAExB,OADAlF,KAAKkF,KAAKggD,WAAWhgD,EAAKye,IAAK,iBAAkB,GAAG,GAC7Cze,EAAKye,KAEdg0D,aAAc,SAAUh3D,GACtB,OAAO3gB,KAAKsmJ,cAAc3lI,GAAU,GAAO,IAE7C0lI,aAAc,SAAUp9I,EAAG4E,GACzB,OAAO7N,KAAKkmJ,YAAYj9I,EAAE0a,IAAK9V,EAAE8V,MAEnCuiI,YAAa,SAAUK,EAAQC,EAAYh2F,GACrCxnD,EAAYwnD,KAAWA,GAAW,GACtC,IAAIi2F,EAAgBF,EAASvmJ,KAAKimD,aAAasgG,GAAU,EACrDG,EAAcF,EAAaxmJ,KAAKimD,aAAaugG,GAAcxmJ,KAAKkF,KAAKwyB,MAAMj2B,OAAS,EAExF,GAAIglJ,EAAgBC,EAAa,CAC/B,IAAIh3I,EAAO+2I,EACXA,EAAgBC,EAChBA,EAAch3I,EAGhB1P,KAAKuvE,mBAAoB,EAEzB,IAAK,IAAI7uE,EAAI+lJ,EAAe/lJ,GAAKgmJ,EAAahmJ,IAAK,CACjD,IAAIwG,EAAKlH,KAAK8rB,aAAaprB,GAE3B,IAAKwG,EAAI,CACHq/I,GAAQvmJ,KAAK09B,OAAO6oH,GACxB,MAGFvmJ,KAAK09B,OAAOx2B,EAAIspD,GAGlBxwD,KAAKuvE,mBAAoB,EAEzBvvE,KAAK+lJ,qBAGTniI,KAAM,CACJ4hI,YAAa,SAAUtgJ,GACrB,OAAKA,EAAKm/C,OACHn/C,EAAKye,IAAM,IAAMze,EAAKm/C,OADJ,MAG3B3mB,OAAQ,SAAU6oH,EAAQI,EAAWn2F,GACnC1qD,EAAO9F,KAAKkF,KAAKqmD,OAAOg7F,GAAS,mCAAqCA,GAEtEvmJ,KAAKu2D,QAAQ,CACX5yC,IAAK4iI,EACLliG,OAAQsiG,GACPn2F,IAELw1F,aAAc,SAAU9gJ,GACtB,IAAIq+B,EAAMvjC,KAAKomJ,iBAAiBlhJ,EAAKye,KAIrC,OAFA4f,EAAI8/B,SACJ9/B,EAAIr+B,EAAKm/C,SAAU,EACZn/C,EAAKye,KAEd0yC,SAAU,SAAUkwF,EAAQI,GAC1B3mJ,KAAK6lJ,UAAU,CACbliI,IAAK4iI,EACLliG,OAAQsiG,KAGZR,eAAgB,SAAUjhJ,GACxB,IAAIq+B,EAAMvjC,KAAKomJ,iBAAiBlhJ,EAAKye,KAKrC,OAHA4f,EAAI8/B,SACJ9/B,EAAIr+B,EAAKm/C,SAAU,EACf9gB,EAAI8/B,QAAU,GAAGrjE,KAAKkF,KAAKggD,WAAWhgD,EAAKye,IAAK,iBAAkB,GAAG,GAClEze,EAAKye,KAEdg0D,aAAc,SAAUh3D,GACtB,OAAO3gB,KAAKsmJ,cAAc3lI,GAAU,GAAO,IAE7C0lI,aAAc,SAAUp9I,EAAG4E,GACzB,OAAO7N,KAAKkmJ,YAAYj9I,EAAE0a,IAAK1a,EAAEo7C,OAAQx2C,EAAE8V,IAAK9V,EAAEw2C,SAEpD6hG,YAAa,SAAUK,EAAQI,EAAWH,EAAYI,EAAep2F,GAC/DxnD,EAAYwnD,KAAWA,GAAW,GACtC,IAAIi2F,EAAgBF,EAASvmJ,KAAKimD,aAAasgG,GAAU,EACrDG,EAAcF,EAAaxmJ,KAAKimD,aAAaugG,GAAcxmJ,KAAKkF,KAAKwyB,MAAMj2B,OAAS,EACpFolJ,EAAgBF,EAAY3mJ,KAAKktF,eAAey5D,GAAa,EAC7DG,EAAcF,EAAgB5mJ,KAAKktF,eAAe05D,GAAiB5mJ,KAAKukF,SAAS9iF,OAAS,EAE9F,GAAIglJ,EAAgBC,EAAa,CAC/B,IAAIh3I,EAAO+2I,EACXA,EAAgBC,EAChBA,EAAch3I,EAGhB,GAAIm3I,EAAgBC,EAAa,CAC/B,IAAIC,EAAQF,EACZA,EAAgBC,EAChBA,EAAcC,EAGhB/mJ,KAAKuvE,mBAAoB,EAEzB,IAAK,IAAI7uE,EAAI+lJ,EAAe/lJ,GAAKgmJ,EAAahmJ,IAC5C,IAAK,IAAI6gD,EAAIslG,EAAetlG,GAAKulG,EAAavlG,IAC5CvhD,KAAK09B,OAAO19B,KAAK8rB,aAAaprB,GAAIV,KAAK+rB,SAASw1B,GAAIiP,GAIxDxwD,KAAKuvE,mBAAoB,EAEzBvvE,KAAK+lJ,qBAGT1hG,OAAQ,CACN2gG,YAAa,uBACbQ,YAAa,SAAUtgJ,GACrB,OAAOA,EAAKm/C,QAEduhG,cAAe,WACb,OAAO5lJ,KAAKqkD,QAGd3mB,OAAQ,SAAUipH,EAAWn2F,GAC3BxwD,KAAKu2D,QAAQ,CACXlS,OAAQsiG,GACPn2F,IAELw1F,aAAc,SAAU9gJ,GACtBlF,KAAKoN,UAAU0Q,QAAQ9d,KAAKktF,eAAehoF,EAAKm/C,SAAS8qB,WAAY,EAChEnvE,KAAKuvE,mBAAmBvvE,KAAKgnJ,6BAEpC3wF,SAAU,SAAUswF,GAClB3mJ,KAAK6lJ,UAAU,CACbxhG,OAAQsiG,KAGZR,eAAgB,SAAUjhJ,GACxBlF,KAAKoN,UAAU0Q,QAAQ9d,KAAKktF,eAAehoF,EAAKm/C,SAAS8qB,UAAY,KAErEnvE,KAAKgnJ,6BAEPrvE,aAAc,SAAUh3D,GACtB,OAAO3gB,KAAKsmJ,cAAc3lI,GAAU,GAAM,IAE5C0lI,aAAc,SAAUp9I,EAAG4E,GACzB,OAAO7N,KAAKkmJ,YAAYj9I,EAAEo7C,OAAQx2C,EAAEw2C,SAEtC6hG,YAAa,SAAUS,EAAWC,EAAep2F,GAC3CxnD,EAAYwnD,KAAWA,GAAW,GACtC,IAAIy2F,EAAmBN,EAAY3mJ,KAAKktF,eAAey5D,GAAa,EAChEO,EAAiBN,EAAgB5mJ,KAAKktF,eAAe05D,GAAiB5mJ,KAAKukF,SAAS9iF,OAAS,EAEjG,GAAIwlJ,EAAmBC,EAAgB,CACrC,IAAIx3I,EAAOu3I,EACXA,EAAmBC,EACnBA,EAAiBx3I,EAGnB1P,KAAKuvE,mBAAoB,EAEzB,IAAK,IAAI7uE,EAAIumJ,EAAkBvmJ,GAAKwmJ,EAAgBxmJ,IAClDV,KAAK09B,OAAO19B,KAAK+rB,SAASrrB,GAAI8vD,GAGhCxwD,KAAKuvE,mBAAoB,EAEzBvvE,KAAKgnJ,4BAELhnJ,KAAK+lJ,oBAEPV,aAAc,cAGhBzsH,KAAM,CACJ4sH,YAAa,SAAUtgJ,GACrB,OAAOA,EAAKye,IAAM,IAAMze,EAAKm/C,QAE/B7gB,cAAe,SAAUkiH,GACvB,IAAI9sH,EAAO54B,KAAKmnJ,gBACZx7I,EAAS,GAEb,GAAIitB,EACF,IAAI8sH,GAAY9sH,EAAKlc,MAAMiH,KAAOiV,EAAKjc,IAAIgH,KAAOiV,EAAKlc,MAAM2nC,QAAUzrB,EAAKjc,IAAI0nC,OAiB9E14C,EAAOpK,KAAKq3B,EAAKjc,SAjBsE,CACvF,IAAI8pI,EAAgBzmJ,KAAKimD,aAAartB,EAAKlc,MAAMiH,KAC7C+iI,EAAc1mJ,KAAKimD,aAAartB,EAAKjc,IAAIgH,KAE7C,IAAqB,GAAjB8iI,IAAsC,GAAfC,EAAmB,OAAO/6I,EAIrD,IAHA,IAAIk7I,EAAgB7mJ,KAAKktF,eAAet0D,EAAKlc,MAAM2nC,QAC/CyiG,EAAc9mJ,KAAKktF,eAAet0D,EAAKjc,IAAI0nC,QAEtC3jD,EAAI+lJ,EAAe/lJ,GAAKgmJ,EAAahmJ,IAC5C,IAAK,IAAI6gD,EAAIslG,EAAetlG,GAAKulG,EAAavlG,IAC5C51C,EAAOpK,KAAK,CACVoiB,IAAK3jB,KAAK8rB,aAAaprB,GACvB2jD,OAAQrkD,KAAK+rB,SAASw1B,KAShC,OAAOmkG,EAAU/5I,EAASA,EAAO,IAEnC0qD,SAAU,WACRr2D,KAAK6lJ,aAEPA,UAAW,WACT7lJ,KAAKonJ,mBACLpnJ,KAAK8M,UAAU,iBAAkB,KAEnC6qE,aAAc,SAAUh3D,GACtB,IAAI+c,EAAS19B,KAAKmnJ,gBAElB,GAAIzpH,EAMF,IALA,IAAI2pH,EAAOrnJ,KAAKktF,eAAexvD,EAAOhhB,MAAM2nC,QACxCijG,EAAOtnJ,KAAKktF,eAAexvD,EAAO/gB,IAAI0nC,QACtCkjG,EAAOvnJ,KAAKimD,aAAavoB,EAAOhhB,MAAMiH,KACtC6jI,EAAOxnJ,KAAKimD,aAAavoB,EAAO/gB,IAAIgH,KAE/BjjB,EAAI6mJ,EAAM7mJ,GAAK8mJ,EAAM9mJ,IAI5B,IAHA,IAAI+mJ,EAAMznJ,KAAKkF,KAAKwyB,MAAMh3B,GACtBuc,EAAOjd,KAAK8jC,QAAQ2jH,GAEflmG,EAAI8lG,EAAM9lG,GAAK+lG,EAAM/lG,IAAK,CACjC,IAAI6hC,EAAMpjF,KAAKukF,SAAShjC,GAAGr6C,GAC3B,IAAIyZ,EAA6E,MAAO,CACtFgD,IAAK8jI,EACLpjG,OAAQ++B,GAFInmE,EAAKmmE,GAAOziE,EAAS1D,EAAKmmE,GAAMqkE,EAAKrkE,EAAK1iF,EAAI6mJ,EAAMhmG,EAAI8lG,KAQ9E3pH,OAAQ,SAAU6oH,EAAQI,EAAWn2F,GACnC1qD,EAAO9F,KAAKkF,KAAKqmD,OAAOg7F,GAAS,mCAAqCA,GAEtEvmJ,KAAKu2D,QAAQ,CACX5yC,IAAK4iI,EACLliG,OAAQsiG,GACPn2F,IAEL61F,aAAc,SAAUn/I,EAAI4gC,GAC1B9nC,KAAK0nJ,iBAAiBxgJ,EAAI4gC,IAE5ByuB,QAAS,SAAU3yC,GAGjB,OADA5jB,KAAK2nJ,cAAc/jI,EAAMA,GAAM,IACxB,GAETyhI,aAAc,WACRrlJ,KAAKulJ,gBAAgB9jJ,QAAQzB,KAAK4nJ,wBAM1CC,GAAU,CACZC,mBAAoB,SAAUtmJ,GAC5B,IAAIokB,EAAQ5lB,KAmBZ,OAjBIwB,GAASxB,KAAK+nJ,kBAChBx7H,GAAOvsB,KAAKgwB,SAAU1R,GAAIm4B,MAAM5Z,MAAM,SAAU93B,GAC9C,OAAO6gB,EAAMoiI,SAASjjJ,EAAG,YAGvBuZ,GAAIa,OAAOnf,KAAK6M,YAAY,eAAe,SAAU9H,GACvD,OAAO6gB,EAAMoiI,SAASjjJ,EAAG,YAE3B/E,KAAK+nJ,gBAAkB/nJ,KAAKioJ,UAAYjoJ,KAAKkoJ,cAAe,EAC5DloJ,KAAK6M,YAAY,gBAAiB7M,KAAKmoJ,yBAEvCxoJ,EAAQ8J,OAAOzJ,KAAMsqB,IAAY,GACjCtqB,KAAK6M,YAAY,sBAAsB,WACrC,OAAO7M,KAAKkoJ,iBAIT1mJ,GAETumJ,iBAAiB,EACjBK,SAAU,SAAUrjJ,EAAGiL,OACrB,IAAIwR,EAAMzc,EAAE+C,OAEL0Z,GAAK,CACV,GAAIA,EAAIxS,cAAgBwS,EAAIxS,aAE5B,eAAgB,OAAO,EACvB,GAAIwS,GAAOxR,EAAK,OAAO,EACvBwR,EAAMA,EAAInJ,WAGZ,OAAO,GAET2vI,SAAU,SAAUjjJ,EAAGuyC,GAErB,KAAIt3C,KAAKoN,UAAUy6C,SAAW7nD,MAAQ6uB,GAAG9pB,EAAE+C,UAEvC9H,KAAKooJ,SAASrjJ,EAAG/E,KAAK4qB,OAAQ,CAEhC,GAAI7lB,EAAE+C,QAA8B,SAApB/C,EAAE+C,OAAO0I,SAAsBxQ,KAAK+nG,YAAa,OACjE/nG,KAAKqoJ,aAAezvI,GAAO5Y,KAAK4qB,OAChC,IAAI3M,EAAS7D,GAAIrV,GACjB/E,KAAKioJ,UAAY,CAAChqI,EAAOhM,EAAIjS,KAAKqoJ,aAAap2I,EAAGgM,EAAOxE,EAAIzZ,KAAKqoJ,aAAa5uI,GAE/EzZ,KAAKsoJ,iBAAiBvjJ,EAAE+C,OAAQwvC,KAGpCgxG,iBAAkB,SAAUxgJ,EAAQwvC,GAClC,IAAItxB,EAAShmB,KAEG,UAAZs3C,GACFt3C,KAAKuoJ,eAAiB97H,GAAQ3kB,EAAQwW,GAAIg5B,GAASzF,MAAM,SAAU9sC,GACjE,OAAOihB,EAAOwiI,SAASzjJ,EAAGuyC,KACzB,CACDzqB,SAAS,IAEX7sB,KAAKyoJ,eAAiBh8H,GAAQ3kB,EAAQwW,GAAIg5B,GAAS1a,IAAI,SAAU73B,GAC/D,OAAOihB,EAAO0iI,OAAO3jJ,QAGvB/E,KAAKuoJ,eAAiB97H,GAAQzsB,KAAKgwB,SAAU1R,GAAIg5B,GAASzF,MAAM,SAAU9sC,GACxE,OAAOihB,EAAOwiI,SAASzjJ,EAAGuyC,MAE5Bt3C,KAAKyoJ,eAAiBh8H,GAAQniB,SAAUgU,GAAIg5B,GAAS1a,IAAI,SAAU73B,GACjE,OAAOihB,EAAO0iI,OAAO3jJ,QAI3B2jJ,OAAQ,SAAU3jJ,GACZ/E,KAAK2oJ,eACP3oJ,KAAK4oJ,WAAW,UAAU,EAAM7jJ,GAEhC/E,KAAK2oJ,aAAe19I,GAAOjL,KAAK2oJ,eAGlC3oJ,KAAKuoJ,eAAiBj8H,GAAYtsB,KAAKuoJ,gBACvCvoJ,KAAKyoJ,eAAiBn8H,GAAYtsB,KAAKyoJ,gBACvCrtI,GAAU9Q,SAASyO,KAAM,kBACzB/Y,KAAKioJ,UAAYjoJ,KAAKkoJ,cAAe,EACjCloJ,KAAKqrB,qBAAoBrrB,KAAKqrB,mBAAqB7oB,OAAOgyB,aAAax0B,KAAKqrB,sBAElF88H,wBAAyB,WACnBnoJ,KAAKkoJ,cAAch/I,EAAMlJ,KAAK4oJ,WAAY5oJ,KAAM,EAAC,GAAO,KAE9D4oJ,WAAY,SAAU92I,EAAM+2I,EAAQ9jJ,GAClC,IAAI2X,EACC1c,KAAKioJ,UAAU,KAAIjoJ,KAAKioJ,UAAU,GAAKjoJ,KAAK8oJ,gBAAgBlgJ,MAAM5I,KAAMA,KAAKioJ,YAClFvrI,EAAQ1c,KAAKioJ,UAAU,GAEvB,IAAItrI,EAAM3c,KAAK8oJ,gBAAgBlgJ,MAAM5I,KAAMA,KAAKkoJ,cAEhD,GAAKloJ,KAAK8M,UAAU,sBAAuB,CAAC4P,EAAOC,EAAKksI,EAAQ9jJ,IAAhE,CAEA,KAAM/E,KAAK+oJ,gBAA+D,IAA9C/oJ,KAAK+oJ,cAAcrsI,EAAOC,EAAKksI,EAAQ9jJ,KAAiB2X,EAAMiH,KAAOhH,EAAIgH,IACnG,GAAa,WAAT7R,EACF9R,KAAK8lJ,mBAEL9lJ,KAAKqmJ,aAAa3pI,EAAOC,OACpB,CACL,IAAIqsI,EAAQC,EAAQC,EAAMC,EAE1B,GAAa,QAATr3I,EACFk3I,EAAStvI,KAAKwJ,IAAIljB,KAAKioJ,UAAU,GAAIjoJ,KAAKkoJ,aAAa,IACvDgB,EAAOxvI,KAAKgC,IAAI1b,KAAKioJ,UAAU,GAAIjoJ,KAAKkoJ,aAAa,IACrDe,EAASvvI,KAAKwJ,IAAIljB,KAAKioJ,UAAU,GAAIjoJ,KAAKkoJ,aAAa,IACvDiB,EAAOzvI,KAAKgC,IAAI1b,KAAKioJ,UAAU,GAAIjoJ,KAAKkoJ,aAAa,QAChD,CACL,IAAIkB,EAASppJ,KAAK6rB,cAAcnP,EAAMiH,IAAKjH,EAAM2nC,QAE7CglG,EAAOrpJ,KAAK6rB,cAAclP,EAAIgH,IAAKhH,EAAI0nC,QAEvC54B,EAASzrB,KAAK0rB,iBACd49H,EAAaF,EAAOxvI,MACpB2vI,EAAWF,EAAKzvI,MAEhB5Z,KAAKwpJ,cAAgBxpJ,KAAKioJ,UAAU,GAAKjoJ,KAAKypJ,YAAczpJ,KAAK0pJ,cACnEN,EAAO5vI,MAAQxZ,KAAKypJ,YAAczpJ,KAAK0pJ,cAC9B1pJ,KAAKypJ,YACVzpJ,KAAKioJ,UAAU,GAAKjoJ,KAAKypJ,cACvBL,EAAO5vI,KAAOiS,EAAOxZ,GACvBq3I,GAAc79H,EAAOxZ,EAAIm3I,EAAO5vI,KAChC4vI,EAAO5vI,KAAOxZ,KAAKypJ,aACdL,EAAO5vI,MAAQxZ,KAAKypJ,YAAch+H,EAAOxZ,GAE7Cm3I,EAAO5vI,MAAQiS,EAAOxZ,EAEzBjS,KAAKwpJ,cAAgBxpJ,KAAKkoJ,aAAa,GAAKloJ,KAAKypJ,YAAczpJ,KAAK0pJ,cACtEL,EAAK7vI,MAAQxZ,KAAKypJ,YAAczpJ,KAAK0pJ,cAC5B1pJ,KAAKypJ,YACVzpJ,KAAKkoJ,aAAa,GAAKloJ,KAAKypJ,cAC1BJ,EAAK7vI,KAAOiS,EAAOxZ,GACrBs3I,GAAY99H,EAAOxZ,EAAIo3I,EAAK7vI,KAC5B6vI,EAAK7vI,KAAOxZ,KAAKypJ,aACZJ,EAAK7vI,MAAQxZ,KAAKypJ,YAAch+H,EAAOxZ,GAE3Co3I,EAAK7vI,MAAQiS,EAAOxZ,EAEvBjS,KAAKoN,UAAU81C,YACjBkmG,EAAO7vI,KAAOvZ,KAAK2pJ,WACnBN,EAAK9vI,KAAOvZ,KAAK2pJ,YAGnBX,EAAStvI,KAAKwJ,IAAIkmI,EAAO5vI,KAAM6vI,EAAK7vI,MACpC0vI,EAAOxvI,KAAKgC,IAAI0tI,EAAO5vI,KAAO8vI,EAAYD,EAAK7vI,KAAO+vI,GACtDN,EAASvvI,KAAKwJ,IAAIkmI,EAAO7vI,IAAK8vI,EAAK9vI,KACnC4vI,EAAOzvI,KAAKgC,IAAI0tI,EAAO7vI,IAAM6vI,EAAOtvI,OAAQuvI,EAAK9vI,IAAM8vI,EAAKvvI,QACxD9Z,KAAKoN,UAAUue,WAAUs9H,GAAUjpJ,KAAK4pJ,mBAAmBltI,IAC3D1c,KAAKqrB,qBAAoBrrB,KAAKqrB,mBAAqB7oB,OAAOgyB,aAAax0B,KAAKqrB,sBAC5EtmB,GAAO/E,KAAKg3D,gBAAiBh3D,KAAKoN,UAAU81C,YAAYljD,KAAKqrB,mBAAqBniB,EAAMlJ,KAAKuqB,aAAcvqB,KAAM,CAACoa,GAAIrV,IAAK,MAGjI,IAAIyS,EAAQxX,KAAK2oJ,aAAanxI,MAC9BA,EAAMgC,KAAOwvI,EAAS,KACtBxxI,EAAM+B,IAAM0vI,EAAS,KACrBzxI,EAAMoC,MAAQsvI,EAAOF,EAAS,KAC9BxxI,EAAMsC,OAASqvI,EAAOF,EAAS,KAI/BJ,GAAQ7oJ,KAAK8M,UAAU,qBAAsB,CAAC4P,EAAOC,MAE3DktI,UAAW,WACT7pJ,KAAK2oJ,aAAe7wI,GAAO,MAAO,CAChC0D,MAAS,yBACR,IAEHxb,KAAK4qB,MAAMlT,YAAY1X,KAAK2oJ,eAE9BH,SAAU,SAAUzjJ,EAAGuyC,GACrB,IAAIt3C,KAAKqoG,eAEc,IAAnBroG,KAAKioJ,UAAqB,CACvBjoJ,KAAKkoJ,cAAchtI,GAAO5Q,SAASyO,KAAM,kBAC9C,IAAIkF,EAAS7D,GAAIrV,GACbg3C,EAAW,CAAC99B,EAAOhM,EAAIjS,KAAKqoJ,aAAap2I,EAAGgM,EAAOxE,EAAIzZ,KAAKqoJ,aAAa5uI,GAE7E,GAAIC,KAAKyS,IAAInsB,KAAKioJ,UAAU,GAAKlsG,EAAS,IAAM,GAAKriC,KAAKyS,IAAInsB,KAAKioJ,UAAU,GAAKlsG,EAAS,IAAM,EAAG,QAC1E,IAAtB/7C,KAAKkoJ,cAAwBloJ,KAAK6pJ,UAAU9kJ,GAChD/E,KAAKkoJ,aAAensG,EAEpB/7C,KAAK4oJ,WAAW5oJ,KAAKiH,OAAO6iJ,aAAa,EAAO/kJ,GAEhC,UAAZuyC,GAAqB98B,GAAazV,KAG1C+jJ,gBAAiB,SAAU72I,EAAGwH,GAC5B,IAAIswI,GAAa,EACbpmI,EAAM,KACN0gC,EAAS,KAGb,GAFIrkD,KAAKwpJ,cAAgBv3I,EAAIjS,KAAKypJ,YAAczpJ,KAAK0pJ,cAAez3I,GAAKjS,KAAKgqJ,UAAUpH,UAAY5iJ,KAAK0pJ,cAAgB1pJ,KAAKypJ,YAAczpJ,KAAKwpJ,eAAuBxpJ,KAAKypJ,aAAex3I,EAAIjS,KAAKypJ,eAAax3I,GAAKjS,KAAKgqJ,UAAUrH,aAElO3iJ,KAAKoN,UAAUue,UAAY3rB,KAAKiqJ,mBAAqBjqJ,KAAKoN,UAAUue,SAAU,CAChF,IAAIu+H,EAAWlqJ,KAAK6rB,cAAc7rB,KAAK8rB,aAAa9rB,KAAKoN,UAAUue,SAAW,GAAI3rB,KAAK+rB,SAAS,IAE5Fm+H,EAAS3wI,IAAM2wI,EAASpwI,OAASL,IACnCswI,GAAa,GAIZA,IAAYtwI,GAAKzZ,KAAK0rB,iBAAiBjS,GACxCxH,EAAI,IAAGA,EAAI,GACXwH,EAAI,IAAGA,EAAI,GAKf,IAJA,IAAImX,EAAO5wB,KAAKoN,UAAU0Q,QACtBL,EAAOzd,KAAKkF,KAAKwyB,MACjBgqC,EAAO,EAEFhhE,EAAI,EAAGA,EAAIkwB,EAAKnvB,OAAQf,IAG/B,IAFAghE,GAAQ9wC,EAAKlwB,GAAGkZ,QAEJ3H,EAAG,CACboyC,EAASzzB,EAAKlwB,GAAGwG,GACjB,MAICm9C,IAAQA,EAASzzB,EAAKA,EAAKnvB,OAAS,GAAGyF,IAC5Cw6D,EAAO,EACP,IAAIhlD,EAAQ1c,KAAKkF,KAAKmoD,MAAQ,EAE9B,GAAIrtD,KAAKoN,UAAU+8I,eACjBxmI,EAAMlG,EAAKf,EAAQhD,KAAKqgB,MAAMtgB,EAAIzZ,KAAKoN,UAAU2d,iBAC5C,IAAK,IAAI3pB,EAAKsb,EAAOtb,EAAKqc,EAAKhc,OAAQL,IAG5C,IAFAsgE,GAAQ1hE,KAAKoqJ,kBAAkBhpJ,KAEnBqY,EAAG,CACbkK,EAAMlG,EAAKrc,GACX,MAKJ,OADKuiB,IAAKA,EAAMlG,EAAKA,EAAKhc,OAAS,IAC5B,CACLkiB,IAAKA,EACL0gC,OAAQA,IAGZulG,mBAAoB,SAAUhmI,EAAMgV,GAClC,IAAInf,EAAI,EACJ4wI,EAAarqJ,KAAKimD,aAAariC,EAAKD,KAExC,GAAI0mI,GAAcrqJ,KAAKoN,UAAUue,SAAU,CACzC,IAAI2+H,EAAWtqJ,KAAK6rB,cAAc7rB,KAAK8rB,aAAau+H,GAAazmI,EAAKygC,QAElE6lG,EAAWlqJ,KAAK6rB,cAAc7rB,KAAK8rB,aAAa9rB,KAAKoN,UAAUue,SAAW,GAAI/H,EAAKygC,QAEnF6lG,EAAS3wI,IAAM2wI,EAASpwI,OAASwwI,EAAS/wI,MAAKE,EAAIywI,EAAS3wI,IAAM2wI,EAASpwI,QAAUwwI,EAAS/wI,IAAM,IAAMqf,EAAO0xH,EAAS/wI,IAAM,IAGtI,OAAOE,IAIP8wI,GAAU,CACZC,iBAAkB,SAAUhpJ,GAG1B,OAFAxB,KAAKoN,UAAUq9I,cAAe,EAC9BzqJ,KAAKoN,UAAU+8I,gBAAiB,EACzBnqJ,KAAK0qJ,oBAAoBlpJ,IAElCkpJ,oBAAqB,SAAUlpJ,GAC7B,IAAIokB,EAAQ5lB,KAkBZ,OAhBIwB,GAASxB,KAAK2qJ,gBAChBp+H,GAAOvsB,KAAKgwB,SAAU,aAAa,SAAUjrB,GAC3C,OAAO6gB,EAAMglI,SAAS7lJ,MAGxBwnB,GAAOvsB,KAAKgwB,SAAU,aAAa,SAAUjrB,GAC3C,OAAO6gB,EAAMilI,SAAS9lJ,MAGxBwnB,GAAOvsB,KAAKgwB,SAAU,WAAW,WAC/B,OAAOpK,EAAMklI,YAGf9qJ,KAAK2qJ,eAAgB,GAGhBnpJ,GAETmpJ,eAAe,EACfE,SAAU,SAAU9lJ,IAEb/E,KAAK+qJ,WAAa/qJ,KAAKoN,UAAUy6C,SAAW7nD,MAAQ6uB,GAAG9pB,EAAE+C,UAC9D9H,KAAK+nG,YAAc,CAAC3tF,GAAIrV,GAAI/E,KAAK+qJ,WACjC7vI,GAAO5Q,SAASyO,KAAM,kBACtBlC,OAEFi0I,OAAQ,WACN9qJ,KAAK+nG,aAAc,EACnB3sF,GAAU9Q,SAASyO,KAAM,kBACzB/B,MAEFg0I,UAAW,WACT,IAAIhlI,EAAShmB,KAEb,IAAIA,KAAKqoG,aAAT,CAEA,IAOI3rF,EAPAuuI,EAAqBzqJ,EAAeR,KAAK+nG,YAAY,GAAI,GACzDzoE,EAAM2rH,EAAmB,GACzBjkJ,EAAOikJ,EAAmB,GAC1B5gJ,EAAO4gJ,EAAmB,GAC1BrnI,EAAOqnI,EAAmB,GAE1B7jD,EAAWpnG,KAAK+nG,YAAY,GAGrB,KAAPzoE,GACF5iB,EAAQ9D,GAAOvO,GAAM4H,EAAIjL,EAAO4R,GAAO5Y,KAAK4qB,OAAO3Y,EACnDm1F,EAAWA,EAASn1F,IAEpByK,EAAQ9D,GAAOvO,GAAMoP,EAAIzS,EAAO4R,GAAO5Y,KAAK4qB,OAAOnR,EAAIzZ,KAAK04D,eAC5D0uC,EAAWA,EAAS3tF,GAGtBzZ,KAAKqoG,aAAe,CAAC/oE,EAAK1b,EAAMlH,GACnB,IAAI2R,GAAGk6E,WAAW,CAC7B/5E,UAAWxuB,KAAKgwB,SAChBo3E,SAAUA,EACV1qF,MAAOA,EACP4iB,IAAKA,EACLsnE,QAAgB,KAAPtnE,EAAa,MAAQ,OAAS,YAElCzyB,YAAY,eAAe,SAAUoR,GAC1C,OAAO+H,EAAOklI,QAAQjtI,MAExBje,KAAK+qJ,WAAY,IAEnBG,QAAS,SAAUv/I,GACjB,GAAI3L,KAAKqoG,aAAc,CACrB,IAAIzkF,EAAO5jB,KAAKqoG,aAAa,GACzB8iD,EAAUx/I,EAAS3L,KAAKqoG,aAAa,GAEzC,GAA4B,KAAxBroG,KAAKqoG,aAAa,GAAW,CAE3BroG,KAAKoN,UAAUunD,YAAc/wC,EAAK0vF,MAAQtzG,KAAKorJ,cACjDD,IAAW,GAGb,IAAI57I,EAAMvP,KAAKukF,SAAS3gE,EAAK0vF,MACzB+3C,EAAW97I,EAAIqK,aACZrK,EAAI0kD,iBACJ1kD,EAAI8gB,OAEXrwB,KAAKs1D,gBAAgB1xC,EAAK0vF,KAAM+3C,EAAWF,GAAS,GAAM,GAE1DnrJ,KAAKu1D,8BACA,CACL,IAAIruD,EAAKlH,KAAK8rB,aAAalI,EAAKyvF,MAE5Bi4C,EAAYtrJ,KAAKurJ,cAAcvrJ,KAAK8jC,QAAQ58B,IAEhDlH,KAAKwrJ,aAAatkJ,EAAIokJ,EAAYH,GAGpCnrJ,KAAK8qJ,SAGP9qJ,KAAKqoG,aAAe,MAEtBuiD,SAAU,SAAU7lJ,GAClB,GAAI/E,KAAK+qJ,WAAa/qJ,KAAK+nG,YAAa,OAAO/nG,KAAKgrJ,YACpDhrJ,KAAK+qJ,WAAY,EACjB,IAAIj5I,GAAO,EACPzH,EAAOtF,EAAE+C,OACTb,EAASjH,KAAKoN,UAEdq+I,EAAgBphJ,EAAK2E,aAAa,UAAY,GAE9C08I,GAAiD,GAAvCD,EAAc9+I,QAAQ,cACpC,GAAI++I,GAAWzkJ,EAAOyzC,KAAM,OAAO16C,KAAK2rJ,aAAa75I,GACrD,IAAI85I,GAAoD,GAAxCH,EAAc9+I,QAAQ,eAEtC,GAAI++I,GAAWE,EAAW,CACxB,IAAI9wH,EAAO9gB,GAAYjV,GAEnB6e,EAAO5jB,KAAK81C,QAAQzrC,GAExByH,EAAO9R,KAAK6rJ,cAAcjoI,EAAMkX,EAAMzwB,EAAMpD,EAAO6kJ,aAAcJ,IAAYA,GAAW1rJ,KAAK+rJ,WAAWnoI,EAAMkX,EAAMzwB,EAAMpD,EAAO+kJ,WAInIhsJ,KAAK2rJ,aAAa75I,IAEpB+5I,cAAe,SAAUjoI,EAAM3F,EAAQ5T,EAAM4hJ,EAASP,GAEpD,IAAKO,GAAWP,GAAWO,EAAQC,WAAY,OAAO,EACtD,IAEI38I,EAAKtI,EAFL8tB,EAAK1qB,EAAKwP,YAiBd,OAhBAoyI,EAAUA,EAAQjlJ,KAAOilJ,EAAQjlJ,KAAO,EAGpCiX,EAAOhM,EAAIg6I,GACTroI,EAAK0vF,KAAOtzG,KAAKorJ,cAAaxnI,EAAK0vF,MAAQ1vF,EAAK0gC,MAAQ,GAC5D/0C,EAAMvP,KAAKukF,SAAS3gE,EAAK0vF,MACzBrsG,EAAS,CAAC,IAAK,EAAGoD,EAAMuZ,IACfmR,EAAK9W,EAAOhM,EAAIg6I,EAAU,IAC/BjsJ,KAAKoN,UAAUunD,YAAc/wC,EAAK0vF,KAAO,GAAKtzG,KAAKorJ,aAAaxnI,EAAK0vF,SAEpEtzG,KAAKoN,UAAUunD,YAAc/wC,EAAK0vF,KAAOtzG,KAAKukF,SAAS9iF,UAC1D8N,EAAMvP,KAAKukF,SAAS3gE,EAAK0vF,MACzBrsG,EAAS,CAAC,IAAK8tB,EAAI1qB,EAAMuZ,QAIzBrU,IAAsB,IAAfA,EAAIkmB,UACbz1B,KAAK+qJ,UAAY9jJ,EACV,eAKX8kJ,WAAY,SAAUnoI,EAAM3F,EAAQ5T,EAAM8hJ,GAExC,IAAKA,GAAQA,EAAKD,YAActoI,EAAK0vF,KAAO,EAAG,OAAO,EAEtD,GAAItzG,KAAKkoJ,aAAc,OAAO,EAC9B,IAAIlzH,EAAK3qB,EAAK0P,aAWd,OAVAoyI,EAAOA,EAAKnlJ,KAAOmlJ,EAAKnlJ,KAAO,EAE3BiX,EAAOxE,EAAI0yI,EACTvoI,EAAKyvF,KAAO,IAEdzvF,EAAKyvF,OACLrzG,KAAK+qJ,UAAY,CAAC,IAAK,EAAG1gJ,EAAMuZ,IAEzBoR,EAAK/W,EAAOxE,EAAI0yI,EAAO,IAAGnsJ,KAAK+qJ,UAAY,CAAC,IAAK/1H,EAAI3qB,EAAMuZ,MAE/D5jB,KAAK+qJ,WAAY,cAE1BY,aAAc,SAAU75I,GAClB9R,KAAKosJ,eAAe5pJ,OAAOgyB,aAAax0B,KAAKosJ,eACjDpsJ,KAAKosJ,cAAgBljJ,EAAMlJ,KAAKqsJ,mBAAoBrsJ,KAAM,CAAC8R,GAAOA,EAAO,IAAM,IAEjFu6I,mBAAoB,SAAUv6I,GACxB9R,KAAKssJ,mBAAqBx6I,IAC5B9R,KAAKssJ,kBAAoBx6I,EACzB9R,KAAKgwB,SAASxY,MAAMovF,OAAS90F,GAAQ,MAK3CjF,EAAY,eAAe,SAAUg2C,EAAO57C,GACtCqX,GAAIa,QACNiyB,GAAMpnC,QACN/C,EAAOkhC,WAAa,EAEhBiJ,GAAMhH,WAAWgH,GAAMM,QAC3BmR,EAAMv9B,OAAO/jB,KAAKshD,EAAM0pG,YAG5B,IAAIC,GAAU,CACZD,OAAQ,WACN,IAAItlJ,EAASjH,KAAKoN,UAClBnG,EAAOwjJ,cAAe,EACtB9qJ,EAAQ8J,OAAOzJ,MAA2B,IAArBiH,EAAOi8C,UAAqBljD,KAAKysJ,aAAezsJ,KAAK0sJ,QAC1E,IAAIC,EAAa,GACZ1lJ,EAAO0/E,YAAgC,IAAnB1/E,EAAO2lJ,UAAmBD,GAAc,KAC5D1lJ,EAAOk8C,aAAiC,IAAnBl8C,EAAO4lJ,UAAmBF,GAAc,KAElE3sJ,KAAK4qB,MAAMnT,aAAa,eAAgBk1I,GAExCv7G,GAAMsE,kBAAkB11C,KAAK4qB,MAAMva,WAAW,GAAGK,YAEjD1Q,KAAKm0C,aAAa,EAAG,EAAG,QAE1BS,YAAa,WACX,OAAO50C,KAAK8sJ,eAAiB9sJ,KAAK+sJ,sBAAwB,GAE5DN,aAAc,CACZz1F,eAAe,EACfg2F,gBAAiB,SAAU/6I,EAAGwH,GAE5B,IAAIrS,EAAQgqC,GAAM+E,WAAWn2C,KAAK4qB,MAAMva,WAAW,GAAGK,YAEtDuB,EAAIyH,KAAKgC,IAAI,EAAGhC,KAAKwJ,IAAIjR,EAAG7K,EAAM2tB,GAAK3tB,EAAMysC,KAC7Cp6B,EAAIC,KAAKgC,IAAI,EAAGhC,KAAKwJ,IAAIzJ,EAAGrS,EAAM4tB,GAAK5tB,EAAM2sC,KAE7C/zC,KAAK8M,UAAU,gBAAiB,CAAC,CAC/B/H,GAAIkN,EACJtK,GAAI8R,MAGRwzI,sBAAuB,WACrB,IAAIv9I,EAAO0hC,GAAMiC,YAAYrzC,KAAK4qB,MAAMva,WAAW,GAAGK,YAEtD,MAAO,CACLuB,GAAIvC,EAAK3K,EACT0U,GAAI/J,EAAK/H,IAGbqC,MAAO,WACLhK,KAAK6M,YAAY,kBAAkB,WACjCukC,GAAMmB,aAAevyC,KAAK4qB,MAAMva,WAAW,GAAGK,WAC9C0gC,GAAMoB,aAAepB,GAAM+E,WAAW/E,GAAMmB,cAC5CnB,GAAM8C,eAAiBl0C,QAEzBA,KAAK6M,YAAY,cAAc,WAC7BukC,GAAM8C,eAAiB,QAEzBl0C,KAAK6M,YAAY,iBAAiB,SAAUlB,GAErCA,IACL3L,KAAKktJ,aAAevhJ,EAAO5G,EAC3B/E,KAAK2pJ,YAAch+I,EAAOhE,EAE1B3H,KAAKm0C,aAAaxoC,EAAO5G,EAAG4G,EAAOhE,EAAG,aAI5C+kJ,OAAQ,CACN11F,eAAe,EACfg2F,gBAAiB,SAAU/6I,EAAGwH,GAC5BvQ,GAAM,WACJlJ,KAAK8M,UAAU,gBAAiB,CAAC,CAC/B/H,GAAIkN,EACJtK,GAAI8R,OAELzZ,OAELwzC,QAAS,CACPhS,QAAS,EACTiQ,SAAS,GAEXznC,MAAO,WAELhK,KAAK6M,YAAY,qBAAqB,WACpC7M,KAAKgtJ,gBAAgB,EAAG,MAE1BhtJ,KAAK6M,YAAY,iBAAiB,WAC5B7M,KAAKgqJ,WAAahqJ,KAAKoN,UAAUw/I,SAAS5sJ,KAAKgqJ,UAAUnH,WACzD7iJ,KAAKmtJ,WAAantJ,KAAKoN,UAAUy/I,SAAS7sJ,KAAKmtJ,UAAUtK,cAE/D7iJ,KAAK6M,YAAY,kBAAkB,WACjCukC,GAAMmB,aAAevyC,KAAK4qB,MAAMva,WAAW,GAAGK,WAC9C0gC,GAAMoB,aAAepB,GAAM+E,WAAW/E,GAAMmB,cAC5CnB,GAAMoB,aAAaxd,GAAKh1B,KAAK8sJ,eAC7B17G,GAAM8C,eAAiBl0C,QAEzBA,KAAK6M,YAAY,cAAc,WAC7BukC,GAAM8C,eAAiB,QAEzBl0C,KAAK6M,YAAY,iBAAiB,SAAUlB,GAErCA,IACL3L,KAAK2pJ,WAAa,EAClB3pJ,KAAKktJ,YAAc,EAEnBltJ,KAAKm0C,aAAa,EAAG,EAAG,OAExBn0C,KAAKktJ,aAAevhJ,EAAO5G,EAC3B/E,KAAK2pJ,YAAch+I,EAAOhE,EAE1B3H,KAAKotJ,qBAELptJ,KAAK8pB,SAED9pB,KAAKgqJ,YACPhqJ,KAAKgqJ,UAAU58I,UAAU40I,WAAY,EAErChiJ,KAAKgqJ,UAAU99H,SAASlsB,KAAKktJ,aAE7BltJ,KAAK8M,UAAU,YAAa,KAG1B9M,KAAKmtJ,YACPntJ,KAAKmtJ,UAAU//I,UAAU40I,WAAY,EAErChiJ,KAAKmtJ,UAAUjhI,SAASlsB,KAAK2pJ,YAE7B3pJ,KAAK8M,UAAU,YAAa,WAKpCqnC,aAAc,SAAUliC,EAAGwH,EAAGlM,GAC5B,IAAI23E,EAAOllF,KAAKoN,UAAU81C,UAAY,EAAIljD,KAAK2pJ,WAC/ClwI,GAAKyrE,EAEL9zC,GAAM6C,YAAYj0C,KAAK4qB,MAAMva,WAAW,GAAGK,WAAYuB,EAAGwH,EAAGlM,GAEzDvN,KAAKoN,UAAUynD,WAAWzjB,GAAM6C,YAAYj0C,KAAK4qB,MAAMva,WAAW,GAAGK,WAAY,EAAG+I,EAAGlM,GACvFvN,KAAKoN,UAAUunD,YAAYvjB,GAAM6C,YAAYj0C,KAAK4qB,MAAMva,WAAW,GAAGK,WAAY,EAAG+I,EAAGlM,GACxFvN,KAAKoN,UAAU4G,QAAQo9B,GAAM6C,YAAYj0C,KAAKmS,QAAQ9B,WAAW,GAAGK,WAAYuB,EAAG,EAAG1E,GACtFvN,KAAKoN,UAAUg2D,QAAQhyB,GAAM6C,YAAYj0C,KAAKqtJ,QAAQh9I,WAAW,GAAGK,WAAYuB,EAAG,EAAG1E,GAC1F,IAAIu1I,EAAe,QAANv1I,EACTvN,KAAKgqJ,WAAWhqJ,KAAKgqJ,UAAUv3I,OAAOR,EAAG6wI,GACzC9iJ,KAAKmtJ,WAAWntJ,KAAKmtJ,UAAU16I,OAAOgH,EAAIyrE,EAAM49D,GACpD9iJ,KAAK8M,UAAU,eAAgB,CAACmF,EAAGwH,EAAGlM,KAExC+/I,eAAgB,SAAU7zI,EAAGlM,GAC3B,IAAI0E,GAAKjS,KAAK0rB,iBAAiBzZ,EAE/Bm/B,GAAM6C,YAAYj0C,KAAK4qB,MAAMva,WAAW,GAAGK,WAAYuB,EAAGwH,EAAGlM,GAEzDvN,KAAKoN,UAAUynD,WAAWzjB,GAAM6C,YAAYj0C,KAAK4qB,MAAMva,WAAW,GAAGK,WAAY,EAAG+I,EAAGlM,GACvFvN,KAAKoN,UAAUunD,YAAYvjB,GAAM6C,YAAYj0C,KAAK4qB,MAAMva,WAAW,GAAGK,WAAY,EAAG+I,EAAGlM,GAC5FvN,KAAK8M,UAAU,eAAgB,CAACmF,EAAGwH,EAAGlM,KAExCggJ,eAAgB,SAAUt7I,EAAG1E,GAC3B,IAAIkM,EAAIzZ,KAAKoN,UAAU81C,WAAaljD,KAAK0rB,iBAAiBjS,EAAI,EAE9D23B,GAAM6C,YAAYj0C,KAAK4qB,MAAMva,WAAW,GAAGK,WAAYuB,EAAGwH,EAAGlM,GAEzDvN,KAAKoN,UAAU4G,QAAQo9B,GAAM6C,YAAYj0C,KAAKmS,QAAQ9B,WAAW,GAAGK,WAAYuB,EAAG,EAAG1E,GACtFvN,KAAKoN,UAAUg2D,QAAQhyB,GAAM6C,YAAYj0C,KAAKqtJ,QAAQh9I,WAAW,GAAGK,WAAYuB,EAAG,EAAG1E,GAC1FvN,KAAK8M,UAAU,eAAgB,CAACmF,EAAGwH,EAAGlM,KAExC+nC,UAAW,SAAUJ,GACdl1C,KAAKoN,UAAU81C,YAAWhO,EAAOvtC,GAAK3H,KAAK2pJ,cAIhD6D,GAAU,CACZxjJ,MAAO,WACLhK,KAAKkF,KAAK2H,YAAY,iBAAkBpE,GAAK,SAAUvB,GAChDA,GAAIlH,KAAKytJ,mBACbztJ,OACHA,KAAK6M,YAAY,kBAAmB7M,KAAKytJ,gBACzCztJ,KAAK6M,YAAY,oBAAqB7M,KAAK0tJ,gBAC3C1tJ,KAAK6M,YAAY,kBAAkB,SAAU5D,EAAG4E,EAAGC,EAAGgtI,GAChDA,GAAM96I,KAAK0tJ,oBAEjB1tJ,KAAK6M,YAAY,WAAY7M,KAAK0tJ,iBAEpCD,eAAgB,WAId,IAHA,IAAIh4H,GAAS,EACT7E,EAAO5wB,KAAKukF,SAEP7jF,EAAI,EAAGA,EAAIkwB,EAAKnvB,OAAQf,IAC3BkwB,EAAKlwB,GAAG2vB,SAA6B,UAAlBO,EAAKlwB,GAAG2vB,QAAsBrwB,KAAK2R,WAAU8jB,EAASz1B,KAAK2tJ,cAAcjtJ,EAAGkwB,EAAKlwB,GAAG2vB,QAAQ,IAASoF,GAG1HA,IACFz1B,KAAKu1D,yBAAwB,GAE7Bv1D,KAAK0tJ,mBAGTA,eAAgB,WACd,IAAI98H,EAAO5wB,KAAKoN,UAAU0Q,QACtB4mE,EAAO,GACPhjB,EAAO,EACX,GAAI9wC,IAAS5wB,KAAKoN,UAAUu5E,UAAW,IAAK,IAAIjmF,EAAI,EAAGA,EAAIkwB,EAAKnvB,OAAQf,IAAK,CAC3E,IAAIktJ,EAASh9H,EAAKlwB,GAAGuzD,UAEjB25F,IACFlpE,EAAKhkF,GAAKktJ,EACVlsF,GAAiB,EAATksF,GAAc,GAGtBlsF,GAAM1hE,KAAK6tJ,gBAAgBnpE,EAAMhjB,IAEvCmsF,gBAAiB,SAAUnpE,EAAMhjB,GAC/B,IAAI9wC,EAAO5wB,KAAKoN,UAAU0Q,QAC1B,GAAK8S,EAAL,CACA,IAAIhX,EAAQ5Z,KAAKioC,eAAiBjoC,KAAK8tJ,aACnCr4H,GAAS,EAEb,GAAI7b,EAAQ,EAAG,CACb,IAAK,IAAIlZ,EAAI,EAAGA,EAAIkwB,EAAKnvB,OAAQf,IAC1BgkF,EAAKhkF,KAAIkZ,GAASgX,EAAKlwB,GAAGkZ,OAAS5Z,KAAKoN,UAAU2gJ,aAGzD,IAAK,IAAI3sJ,EAAK,EAAGA,EAAKsjF,EAAKjjF,OAAQL,IACjC,GAAIsjF,EAAKtjF,GAAK,CACZ,IAAIy4F,EAAUngF,KAAKwJ,IAAItJ,EAAOF,KAAKC,MAAMC,EAAQ8qE,EAAKtjF,GAAMsgE,IAC5DjsC,EAASz1B,KAAKs1D,gBAAgBl0D,EAAIy4F,GAAS,IAASpkE,EACpD7b,GAAgBgX,EAAKxvB,GAAIwY,MACzB8nD,GAAcgjB,EAAKtjF,GAInBq0B,GAAQz1B,KAAKu1D,yBAAwB,MAG7Cy4F,qBAAsB,SAAUhsE,EAAK9vE,GACnC,IAAIjL,EAASjH,KAAKoN,UAAU0Q,QAAQkkE,GAChCtmE,EAAMzU,EAAOq0B,UAAYt7B,KAAKoN,UAAU6gJ,eAE5C,GAAe,UAAX/7I,EAAqB,CACvB,IAAIP,EAAQ3R,KAAKkF,KAAKwyB,MAAMj2B,OACxBwF,EAAOinJ,aAAejnJ,EAAOinJ,YAAcv8I,IAAOA,EAAQ1K,EAAOinJ,aAGrE,IAFA,IAAIx2H,EAAQ13B,KAAKkF,KAAKwyB,MAAMrO,MAAM,EAAG1X,GAE5BjR,EAAI,EAAGA,EAAIiR,EAAOjR,IACzBg3B,EAAMh3B,GAAKg3B,EAAMh3B,GAAKV,KAAKmuJ,UAAUnuJ,KAAK8jC,QAAQpM,EAAMh3B,IAAKuG,EAAQ,GAAK,GAG5EyU,EAAMhC,KAAKgC,IAAIA,EAAKL,GAAYqc,EAAO,+BAA+B9d,OAIxE,GAAe,QAAX1H,EAAmB,CACrB,IAAK,IAAI5B,EAAM,EAAGA,EAAMrJ,EAAO+M,OAAOvS,OAAQ6O,IAAO,CACnD,IAAI0D,EAAS/M,EAAO+M,OAAO1D,GAE3B,GAAI0D,EAAQ,CACV,IAAI4F,EAAQ,EACZ,GAAI5F,EAAO6tH,OAAQ,IAAK,IAAIv3F,EAAI,EAAGA,GAAKt2B,EAAOywC,SAAW,GAAIna,IAC5D1wB,GAAS5Z,KAAKylF,SAASn7C,GAEzB,IAAIhvB,EAAM,gCAAkCtH,EAAOsH,KAAO,KAAOtH,EAAO6tH,OAAS,uBAAyB,IACtG76H,EAAOqU,GAAY,CAACrH,EAAO7N,MAAOmV,EAAK1B,GAC3C8B,EAAMhC,KAAKgC,IAAIA,EAAK1H,EAAO6tH,OAAS76H,EAAK8S,OAAS9S,EAAK4S,QAIvD3S,EAAO+hB,OAAMtN,GAAO,IAI1B,OADAA,GAAa4C,GAAIe,KAAOuuB,GAAQ+B,cAAc3S,MAAQ,EAC/CtjB,KAAKwJ,IAAIxH,EAAKzU,EAAOs0B,UAAYv7B,KAAKoN,UAAUghJ,gBAAkB,MAE3ET,cAAe,SAAU3rE,EAAK9vE,EAASk3C,GACrC,GAAI44B,GAAO,EAAG,CACZ,IAAIpoE,EAAQ5Z,KAAKguJ,qBAAqBhsE,EAAK9vE,GAE3C,OAAOlS,KAAKs1D,gBAAgB0sB,EAAKpoE,EAAOwvC,KAG5CilG,aAAc,SAAUnnJ,EAAIgL,GAC1BlS,KAAK2tJ,cAAc3tJ,KAAKktF,eAAehmF,GAAKgL,IAE9Co8I,gBAAiB,SAAUpnJ,EAAIo9B,GAC7B,GAAIp9B,EAAIlH,KAAKuuJ,iBAAiBrnJ,OAAS,CAIrC,IAHA,IAAIwd,EAAU,GACVkM,EAAO5wB,KAAKoN,UAAU0Q,QAEjBpd,EAAI,EAAGA,EAAIkwB,EAAKnvB,OAAQf,IAC/BV,KAAKuuJ,iBAAiB39H,EAAKlwB,GAAGwG,GAAIwd,GAIpC1kB,KAAKkF,KAAKiG,MAAK,SAAU9K,GACvBA,EAAI+nC,QAAU1jB,EAAQrkB,EAAI6G,OAGzBo9B,GAAQtkC,KAAKmqB,WAEpBokI,iBAAkB,SAAUrnJ,EAAIF,GAC9B,IACIwnB,EADAvnB,EAASjH,KAAKm1D,gBAAgBjuD,GAE9BpD,EAAIgU,GAAO,MAAO,CACpB0D,MAAS,kDACR,IACH1X,EAAE0T,MAAMU,QAAU,SAAWjR,EAAO2S,MAAQ,4FAC5C5Z,KAAK6qB,MAAMnT,YAAY5T,GAEnBA,EAAEiW,aAAe,IAGnByU,EAAYxuB,KAAK6qB,MAAMogE,WAAU,GACjC3gF,SAASyO,KAAKrB,YAAY8W,GAC1BA,EAAU9W,YAAY5T,IAGxB9D,KAAKkF,KAAKiG,MAAK,SAAU9K,GACvB,IAAIyZ,EACJhW,EAAE2S,UAAYzW,KAAKmuJ,UAAU9tJ,EAAK4G,EAAQ,GAC1C6S,EAASJ,KAAKgC,IAAI5X,EAAEy9D,aAAcvhE,KAAKoN,UAAU2d,UAAW/qB,KAAKoN,UAAUohJ,cAAgB,GAC3F10I,EAASJ,KAAKwJ,IAAIpJ,EAAQ9Z,KAAKoN,UAAUqhJ,cAAgB,KACrDznJ,EAAMA,EAAK3G,EAAI6G,IAAMwS,KAAKgC,IAAI5B,EAAQ9S,EAAK3G,EAAI6G,KAAO,GAAQ7G,EAAI+nC,QAAUtuB,IAC/E9Z,MACH8D,EAAImH,GAAOnH,GACP0qB,GAAWvjB,GAAOujB,KAItBkgI,GAAU,CACZC,YAAa,SAAUntJ,GAErB,OADIA,GAAOxB,KAAK4uJ,aACTptJ,GAETqtJ,WAAY,IACZD,WAAY,WACNtwI,GAAIC,SACRve,KAAKkF,KAAK2H,YAAY,iBAAkBpE,EAAKzI,KAAK8uJ,gBAAiB9uJ,OACnEA,KAAKkF,KAAK2H,YAAY,cAAepE,EAAKzI,KAAK+uJ,YAAa/uJ,OAC5DA,KAAK6M,YAAY,kBAAmB7M,KAAK+uJ,eAE3CD,gBAAiB,SAAU5nJ,EAAI7G,EAAKu5D,GAClC,GAAK1yD,GAAgB,SAAV0yD,EAEX,GAAc,UAAVA,EACF,IAAK,IAAIl5D,EAAI,EAAGA,EAAIV,KAAKukF,SAAS9iF,OAAQf,IACxCV,KAAKgvJ,qBAAqB3uJ,EAAKL,KAAKukF,SAAS7jF,GAAGwG,QAE7C,CACS,OAAV0yD,GAAiB55D,KAAKivJ,kBAAkB5uJ,GAE5C,IAAK,IAAIe,EAAK,EAAGA,EAAKpB,KAAKukF,SAAS9iF,OAAQL,IAC1CpB,KAAKkvJ,aAAe,GAEpBlvJ,KAAKmvJ,iBAAiBjoJ,EAAIlH,KAAKukF,SAASnjF,GAAI8F,IAG9ClH,KAAKkvJ,aAAe,KAGxBC,iBAAkB,SAAUxrI,EAAKpU,GAC/B,IACI/N,EADAyb,EAAOjd,KAAK8jC,QAAQngB,GAiBxB,IAdAniB,EAAQyb,EAAKjd,KAAK6uJ,WAAat/I,IAAQ0N,EAAK1N,KAE/B/N,EAAMC,OAAS,GAAuC,MAAlCD,EAAMW,WAAWyK,OAAO,EAAG,IAE1DqQ,EAAKjd,KAAK6uJ,WAAat/I,GAAO/N,EAC9Byb,EAAK1N,GAAOvP,KAAKovJ,WAAW5tJ,EAAOmiB,EAAKpU,UAGG,IAAhC0N,EAAKjd,KAAK6uJ,WAAat/I,WAA6B0N,EAAKjd,KAAK6uJ,WAAat/I,GAEtFvP,KAAKgvJ,qBAAqB/xI,EAAM1N,SAIN,IAAjB0N,EAAKoyI,cAAwD,IAAtBpyI,EAAKoyI,QAAQ9/I,GAC7D,IAAK,IAAI7O,KAAKuc,EAAKoyI,QAAQ9/I,GAAM,CAC/B,IAAI3J,EAAOqX,EAAKoyI,QAAQ9/I,GAAK7O,GAAG,GAAK,KAAOuc,EAAKoyI,QAAQ9/I,GAAK7O,GAAG,QAE1B,IAA5BV,KAAKkvJ,aAAatpJ,KAC3B5F,KAAKkvJ,aAAatpJ,IAAQ,EAE1B5F,KAAKmvJ,iBAAiBlyI,EAAKoyI,QAAQ9/I,GAAK7O,GAAG,GAAIuc,EAAKoyI,QAAQ9/I,GAAK7O,GAAG,OAK5E4uJ,oBAAqB,SAAU3rI,EAAKpU,GAClC,IAAI0N,EAAOjd,KAAK8jC,QAAQngB,QACmB,IAAhC1G,EAAKjd,KAAK6uJ,WAAat/I,KAAsB0N,EAAK1N,GAAO0N,EAAKjd,KAAK6uJ,WAAat/I,KAE7Fw/I,YAAa,WACX,GAAK/uJ,KAAKukF,UAAavkF,KAAK2R,QAA5B,CAEA3R,KAAKivJ,oBAEL,IAAK,IAAI1tG,EAAI,EAAGA,EAAIvhD,KAAKukF,SAAS9iF,OAAQ8/C,IAAK,CAC7C,IAAIhyC,EAAMvP,KAAK+rB,SAASw1B,GACxBvhD,KAAKkF,KAAKiG,MAAK,SAAU9K,GACvBL,KAAKkvJ,aAAe,GAEpBlvJ,KAAKmvJ,iBAAiB9uJ,EAAI6G,GAAIqI,KAC7BvP,MAGLA,KAAKkvJ,aAAe,KAEtBD,kBAAmB,SAAUtrI,GAC3B,IAAK,IAAIjjB,EAAI,EAAGA,EAAIV,KAAKukF,SAAS9iF,OAAQf,IACxC,GAAIV,KAAKukF,SAAS7jF,GAAG2jB,KAAM,CACzB,IAAI9U,EAAMvP,KAAK+rB,SAASrrB,GACpB2jB,EAAO,IAAMrkB,KAAKukF,SAAS7jF,GAAG2jB,KAClCA,EAAOA,EAAK3Z,QAAO,OAAS,QAExBiZ,GACFA,EAAIpU,GAAOvP,KAAKuvJ,qBAAqBlrI,EAAMV,EAAIzc,GAAIqI,UAC5CoU,EAAI3jB,KAAK6uJ,WAAat/I,GAE7BvP,KAAKgvJ,qBAAqBrrI,EAAKpU,IAC1BvP,KAAKkF,KAAKiG,MAAK,SAAU9K,GAC9BA,EAAIkP,GAAOvP,KAAKuvJ,qBAAqBlrI,EAAMhkB,EAAI6G,GAAIqI,UAC5ClP,EAAIL,KAAK6uJ,WAAat/I,GAE7BvP,KAAKgvJ,qBAAqB3uJ,EAAKkP,KAC9BvP,QAITuvJ,qBAAsB,SAAUC,EAAM7rI,EAAKpU,GACzC,OAAO8Y,GAASmnI,EAATnnI,CAAe,CACpBonI,GAAM9rI,EACN+rI,GAAMngJ,KAGVogJ,gBAAiB,SAAUhsI,EAAKpU,GAC9B,IAAI0N,EACJ,IAAIjd,KAAKurD,OAAO5nC,GAAoC,MAAO,gBAC3D,IAAIniB,GADkByb,EAAOjd,KAAK8jC,QAAQngB,IACzB3jB,KAAK6uJ,WAAat/I,IAAQ0N,EAAK1N,IAAQ,EAExD,MAA8B,OAD9B/N,EAAQA,EAAMW,YACJu/C,UAAU,EAAG,GACdlgD,QAIoC,IAAhCyb,EAAKjd,KAAK6uJ,WAAat/I,KAAsB0N,EAAKjd,KAAK6uJ,WAAat/I,GAAO0N,EAAK1N,IAC3F0N,EAAK1N,GAAOvP,KAAKovJ,WAAW5tJ,EAAOmiB,EAAKpU,GAAK,GACtC0N,EAAK1N,KAGhB6/I,WAAY,SAAU5tJ,EAAOmiB,EAAKpU,EAAK2wB,GAErC,IAAoB,IAAhBA,GACF,GAAIlgC,KAAK4vJ,eAAejsI,EAAKpU,GAAM,MAAO,sBACrCvP,KAAK6vJ,oBAEZ7vJ,KAAK8vJ,eAAensI,EAAKpU,GAEzB,IAAI0N,EAAOjd,KAAK8jC,QAAQngB,GACxBniB,EAAQA,EAAMkgD,UAAU,GAExB,IAAIquG,EAAa/vJ,KAAKgwJ,gBAAgBxuJ,GAElCyuJ,EAAWjwJ,KAAKkwJ,UAAU1uJ,EAAOmiB,GAEjCosI,GACFvuJ,EAAQxB,KAAKmwJ,cAAc3uJ,EAAOyuJ,GAClCzuJ,EAAQxB,KAAKowJ,YAAY5uJ,EAAOuuJ,IAEhCvuJ,EAAQxB,KAAKmwJ,cAAc3uJ,EAAOyuJ,GAAU,GAG9C,IAAII,EAAMrwJ,KAAKswJ,gBAAgB9uJ,GAE/B,IAAY,IAAR6uJ,EAAe,OAAOA,EAE1BrwJ,KAAKuwJ,iBAAiB5sI,EAAKpU,GAG3BvP,KAAKgvJ,qBAAqB/xI,EAAM1N,GAEhC,IAAK,IAAI7O,EAAI,EAAGA,EAAIuvJ,EAASxuJ,OAAQf,IACnCV,KAAKwwJ,aAAa,CAAC7sI,EAAKpU,GAAM0gJ,EAASvvJ,IAIzC,OAAY,KADZ2vJ,EAAMrwJ,KAAKswJ,gBAAgB9uJ,IACD6uJ,EAErB7uJ,GAELA,EAAQxB,KAAKywJ,SAASjvJ,EAAMkJ,QAAO,OAASuS,EAAK/V,MAErC,KADZmpJ,EAAMrwJ,KAAKswJ,gBAAgB9uJ,IACD6uJ,EACnB7uJ,GALYA,GAOrBwuJ,gBAAiB,SAAUxuJ,GAIzB,OADiBA,EAAMkJ,QAAO,cAAgB,IAAIgmD,MADtC;;;AAOdw/F,UAAW,SAAU1uJ,EAAO0F,GAC1B,IACIwpB,EAAQlvB,EAAMkvD,MADX,0BAEO,OAAVhgC,IAAgBA,EAAQ,IAE5B,IAAK,IAAIhwB,EAAI,EAAGA,EAAIgwB,EAAMjvB,OAAQf,IAAK,CACrC,IAAIkjB,EAAO8M,EAAMhwB,GACbgwJ,EAAM9sI,GAEVA,GADAA,EAAOA,EAAKhX,OAAO,EAAGgX,EAAKniB,OAAS,IACxBoO,MAAM,MACb,GAAK7P,KAAK2wJ,MAAM/sI,EAAK,IAC1BA,EAAK,GAAK5jB,KAAK2wJ,MAAM/sI,EAAK,IACG,MAAzBA,EAAK,GAAGhX,OAAO,EAAG,KAAYgX,EAAK,GAAK5jB,KAAK8rB,aAAalI,EAAK,GAAGhX,OAAO,KAC7D,OAAZgX,EAAK,KAAaA,EAAK,GAAK1c,GACH,MAAzB0c,EAAK,GAAGhX,OAAO,EAAG,KAAYgX,EAAK,GAAK5jB,KAAK+rB,SAASnI,EAAK,GAAGhX,OAAO,KACzEgX,EAAK,GAAK8sI,EACVhgI,EAAMhwB,GAAKkjB,EAGb,OAAO8M,GAGTy/H,cAAe,SAAU3uJ,EAAOkvB,EAAO+e,GACrC,IAAImhH,EAAO,IACPC,EAAO,IACPphH,IAAOmhH,EAAOC,EAAO,IAEzB,IAAK,IAAInwJ,EAAI,EAAGA,EAAIgwB,EAAMjvB,OAAQf,IAAK,CACrC,IAAIkjB,EAAO8M,EAAMhwB,GAEbowJ,EAAa9wJ,KAAK2vJ,gBAAgB/rI,EAAK,GAAIA,EAAK,IAEhDoH,MAAM8lI,KAAaA,EAAa,IAAOA,EAAa,KACxDtvJ,EAAQA,EAAMkJ,QAAQkZ,EAAK,GAAIgtI,EAAOE,EAAaD,GAGrD,OAAOrvJ,GAET4uJ,YAAa,SAAU5uJ,EAAOuuJ,GAG5B,IAFA,IAAI52D,EAAO,GAEFz4F,EAAI,EAAGA,EAAIqvJ,EAAWtuJ,OAAQf,IAAK,CAC1C,IAAIqwJ,EAAKhB,EAAWrvJ,GAEhBgP,EAAO1P,KAAKgxJ,UAAUxvJ,EAAOuvJ,GAEjC53D,EAAK53F,KAAKmO,EAAK,IACflO,EAAQkO,EAAK,GAGfypF,EAAK53F,KAAKC,GAEV,IAAK,IAAI8O,EAAM,EAAGA,EAAM6oF,EAAK13F,OAAQ6O,IAAO,CAC1C,IAAI2gJ,EAAMjxJ,KAAK2wJ,MAAMx3D,EAAK7oF,IAI1B6oF,EAAK7oF,GAAO2gJ,EAKd,IAFA,IAAIzB,EAAO,GAEFt6F,EAAM,EAAGA,EAAMikC,EAAK13F,OAAS,EAAGyzD,IACvCs6F,GAAQr2D,EAAKjkC,GAAO66F,EAAW76F,GAIjC,OADAs6F,GAAQr2D,EAAKA,EAAK13F,OAAS,IAG7BgvJ,SAAU,SAAUjB,GAClB,IAAI7jJ,EAEJ,IACEA,EAAS9C,EAAK2mJ,GACd,MAAO0B,GACPprJ,GAAO,EAAO,8BAAgC0pJ,GAC9C7jJ,EAAS,GAGX,OAAOA,EAAOxJ,YAEhB6uJ,UAAW,SAAUxvJ,EAAO2vJ,GAC1B,IAAIrmJ,EAAMtJ,EAAMmL,QAAQwkJ,GAGxB,MAAO,CAFM3vJ,EAAMoL,OAAO,EAAG9B,GACjBtJ,EAAMoL,OAAO9B,EAAM,KAGjC6lJ,MAAO,SAAUnvJ,GAGf,OADAA,GADAA,EAAQA,EAAMkJ,QAAO,OAAS,KAChBA,QAAO,OAAS,KAGhCmlJ,kBAAmB,WACjB7vJ,KAAKoxJ,YAAc,IAErBtB,eAAgB,SAAUnsI,EAAKpU,GAC7BvP,KAAKoxJ,YAAYztI,EAAM,KAAOpU,IAAO,GAEvCghJ,iBAAkB,SAAU5sI,EAAKpU,QACmB,IAAvCvP,KAAKoxJ,YAAYztI,EAAM,KAAOpU,WAA6BvP,KAAKoxJ,YAAYztI,EAAM,KAAOpU,IAEtGqgJ,eAAgB,SAAUjsI,EAAKpU,GAC7B,YAAkD,IAAvCvP,KAAKoxJ,YAAYztI,EAAM,KAAOpU,IAE3CihJ,aAAc,SAAUnB,EAAShtJ,GAC/B,IAAI4a,EAAOjd,KAAK8jC,QAAQzhC,EAAK,SACD,IAAjB4a,EAAKoyI,UAAyBpyI,EAAKoyI,QAAU,SACnB,IAA1BpyI,EAAKoyI,QAAQhtJ,EAAK,MAAqB4a,EAAKoyI,QAAQhtJ,EAAK,IAAM,IAC1E4a,EAAKoyI,QAAQhtJ,EAAK,IAAIgtJ,EAAQ,GAAK,KAAOA,EAAQ,IAAMA,OAE3B,KAD7BpyI,EAAOjd,KAAK8jC,QAAQurH,EAAQ,KACZY,WAA0BhzI,EAAKgzI,SAAW,SACjB,IAA9BhzI,EAAKgzI,SAASZ,EAAQ,MAAqBpyI,EAAKgzI,SAASZ,EAAQ,IAAM,IAClFpyI,EAAKgzI,SAASZ,EAAQ,IAAIhtJ,EAAK,GAAK,KAAOA,EAAK,IAAMA,GAExD2sJ,qBAAsB,SAAU/xI,EAAM1N,GACpC,GAAK0N,QACwB,IAAlBA,EAAKgzI,SAEhB,IAAK,IAAIvvJ,KAAKuc,EAAKgzI,SAAS1gJ,GAAM,CAChC,IAAI8hJ,EAASp0I,EAAKgzI,SAAS1gJ,GAAK7O,GAC5BijB,EAAM3jB,KAAK8jC,QAAQutH,EAAO,IAC1B1tI,UAAYA,EAAI0rI,QAAQgC,EAAO,IAAIp0I,EAAK/V,GAAK,KAAOqI,KAI5D+gJ,gBAAiB,SAAU9uJ,GACzB,IACIkvD,EAAQlvD,EAAMkvD,MADX,QAEP,OAAc,OAAVA,GAAkBA,EAAMjvD,OAAS,GAAUivD,EAAM,KAUrD4gG,GAAU,CAIZ3yF,iBAAkB,SAAUz3D,GAC1B,OAAOlH,KAAKm1D,gBAAgBjuD,EAAGm9C,QAAQwW,QAEzC/Z,UAAW,SAAUn9B,EAAK0gC,GACxB,OAAK1gC,GAEmB,GAApBrd,UAAU7E,SACZ4iD,EAAS1gC,EAAI0gC,OACb1gC,EAAMA,EAAIA,MAGJ3jB,KAAKu9D,SAAS55C,IAAQ,IAAI0gC,IAPjBrkD,KAAK4iC,cASxB88B,iBAAkB,SAAUv7D,GAC1B,IAAK,IAAIwf,KAAO3jB,KAAKu9D,SAAU,CAC7B,IAAIg0F,EAAcvxJ,KAAKu9D,SAAS55C,GAEhC,IAAK,IAAI0gC,KAAUktG,EACH,UAAVltG,GAAoBlgD,EAAQ/B,KAAKpC,KAAMuxJ,EAAYltG,MAI7Dua,aAAc,SAAU13D,EAAI5C,EAAMmuB,GAChC,IAAI9O,EAAMzc,EAAGyc,IACT0gC,EAASn9C,EAAGm9C,OACZmtG,EAAeltJ,EAAK2C,OAASjH,KAAKm1D,gBAAgB9Q,IAEzC,IAAT5xB,GAAgBzyB,KAAKyxJ,SAAS9tI,EAAK0gC,GACvC,IAAIh6C,EAAO/F,EAAKwlB,SACZxlB,EAAK22D,UAAS5wD,EAAOrK,KAAKg+D,aAAa92D,IAC3C5C,EAAK+F,KAAOA,EACZ,IAEI7I,EAFAyb,EAAOjd,KAAK8jC,QAAQngB,GACpBqgB,EAASwtH,EAAaE,WAmB1B,OAjBI1xJ,KAAKoN,UAAUukJ,WAAUnwJ,EAAQyb,EAAK,IAAMonC,IAE5Cr7C,EADJxH,EAAQA,GAASyb,EAAKonC,MACE7iD,EAAQ,IAChC8C,EAAKu9B,SAASmC,EAASA,EAAOxiC,GAASA,EAAOyb,GAC9C3Y,EAAK9C,MAAQyb,EAAKonC,GAElBrkD,KAAKm/D,WAAWj4D,EAAI5C,GAEfA,EAAK22D,UAAS32D,EAAKstJ,YAAc5xJ,KAAKo/D,YAAYl4D,EAAImD,GAAM,IAC7D/F,EAAKq4D,aAAar4D,EAAKq4D,cAEvB38D,KAAKoN,UAAUykJ,iBACjBtlI,GAAOjoB,EAAK+F,KAAM,QAASrK,KAAK8xJ,sBAAsB5qJ,EAAIlH,OAE1DA,KAAK+/D,eAAe74D,IAGfmD,GAETynJ,sBAAuB,SAAU5qJ,EAAI6qJ,GACnC,OAAO,WACLA,EAAKhyF,eAAe74D,KAGxB44D,eAAgB,SAAUjF,GACxB,IAAIm3F,EAAShyJ,KAAKm1D,gBAAgB0F,EAAOxW,QAAQ4tG,UAC7C7xF,EAAYvF,EAAOziD,WACvB,OAAO45I,EAASA,EAAO5xF,GAAaA,GAEtC5B,eAAgB,SAAU3D,EAAQuF,EAAWpqD,GAC3C,IAAIiH,EAAOjH,EAAU,GAAKhW,KAAK8jC,QAAQ+2B,EAAOl3C,KAG9C,OAFA1G,EAAK49C,EAAOxW,QAAU+b,EAClBpgE,KAAKoN,UAAUukJ,WAAU10I,EAAK,IAAM49C,EAAOxW,QAAU,MAClDpnC,GAGTkiD,WAAY,SAAUj4D,EAAI5C,GACxB,IAAIitJ,EAAcvxJ,KAAKu9D,SAASr2D,EAAGyc,KAAO3jB,KAAKu9D,SAASr2D,EAAGyc,MAAQ,GACnE4tI,EAAYluF,QAAUkuF,EAAYluF,QAAU,GAAK,EACjD/+D,EAAKqf,IAAMzc,EAAGyc,IACdrf,EAAK+/C,OAASn9C,EAAGm9C,OACjBrkD,KAAK4iC,aAAe2uH,EAAYrqJ,EAAGm9C,QAAU//C,EAC7CtE,KAAK6/B,gBACL7/B,KAAKkyJ,oBAAsBlyJ,KAAK0rB,kBAElC4zC,cAAe,SAAUzE,GACnB76D,KAAK4iC,cAAgBi4B,IAAQ76D,KAAK4iC,aAAe,GACjDi4B,EAAOS,SAAST,EAAOS,UAC3B,IAAI33C,EAAM3jB,KAAKu9D,SAAS1C,EAAOl3C,YACxBA,EAAIk3C,EAAOxW,QAClB1gC,EAAI0/C,SACC1/C,EAAI0/C,eAAerjE,KAAKu9D,SAAS1C,EAAOl3C,KAC7C3jB,KAAK6/B,iBAEPq+B,gBAAiB,SAAUt6B,EAAO/uB,GAChC,IAAIgmD,EAAS76D,KAAKu9D,SAAS35B,GAE3B,GAAIi3B,EAIF,IAAK,IAAIxpD,KAHTrR,KAAKu9D,SAAS1oD,GAASgmD,SAChB76D,KAAKu9D,SAAS35B,GAELi3B,EACH,UAAPxpD,IAAiBwpD,EAAOxpD,GAAKsS,IAAM9O,IAK7CwqD,aAAc,SAAUn4D,GACtB,IAAI0xB,EACAl4B,EACA2c,EACAkkC,EACAl3C,EAEApD,EAASjH,KAAKm1D,gBAAgBjuD,EAAGm9C,QACjCzgC,EAAO,EAEX,GAAI3c,GAAUA,EAAOoD,MAAQpD,EAAOkrJ,SAAU,CAG5C,GAFA90I,EAAQrd,KAAKimD,aAAa/+C,EAAGyc,KAEzB3jB,KAAK+lF,aACA/lF,KAAKgmF,QAAQ9+E,EAAGyc,IAAKzc,EAAGm9C,QAG7B,IAAK3jD,EAAI,EAAGA,EAAI,EAAGA,IAGjB,IAFAk4B,EAAO54B,KAAKoyJ,aAAa1xJ,GAEpB6gD,EAAI,GAAI39B,GAAQ29B,EAAI3oB,EAAKvoB,WAAW5O,OAAQ8/C,KAC/Cl3C,EAAOuuB,EAAKvoB,WAAWkxC,IACdvyC,aAET,QAAUqO,GAAShT,EAAK2E,aAExB,WAAahP,KAAKktF,eAAehmF,EAAGm9C,UAASzgC,EAAOvZ,IAMvDuZ,GAAQvG,GAASpW,EAAOorJ,KAAOryJ,KAAKoN,UAAUue,UAAYtO,EAAQpW,EAAOqrJ,OAAM1uI,EAAO3c,EAAOoD,KAAKgG,WAAWgN,EAAQpW,EAAOorJ,KAAOryJ,KAAKoN,UAAUue,WAGzJ,OAAO/H,GAKT2uI,SAAU,SAAU5uI,EAAK0gC,EAAQmM,EAAU/9B,GAEzC,OADA4xB,EAASA,GAAUrkD,KAAKoN,UAAU0Q,QAAQ,GAAG5W,GACtCm2D,GAAYc,KAAK/7D,KAAKpC,KAAM,CACjC2jB,IAAKA,EACL0gC,OAAQA,GACPmM,EAAU/9B,IAEf+/H,QAAS,SAAUtrJ,GACbA,GAAMA,EAAGyc,MAAKzc,EAAKA,EAAGyc,KAC1B,IAAItiB,GAAO,EACXrB,KAAKyyJ,YAAW,SAAUpuG,GACxBrkD,KAAKm+D,KAAK,CACRx6C,IAAKzc,EACLm9C,OAAQA,GACPhjD,GAAOA,GACVA,GAAO,MAGXqxJ,WAAY,SAAUxrJ,GAChBA,GAAMA,EAAGm9C,SAAQn9C,EAAKA,EAAGm9C,QAC7B,IAAIhjD,GAAO,EACXrB,KAAK2yJ,SAAQ,SAAUhvI,GACrB3jB,KAAKm+D,KAAK,CACRx6C,IAAKA,EACL0gC,OAAQn9C,GACP7F,GAAOA,GACVA,GAAO,MAGXsxJ,QAAS,SAAUxuJ,EAASgB,GAC1B,IAAIuyB,EAAQ13B,KAAKkF,KAAKwyB,MAClBvyB,IAAKuyB,EAAQ13B,KAAKkF,KAAKgnD,eAAiBx0B,GAE5C,IAAK,IAAIh3B,EAAI,EAAGA,EAAIg3B,EAAMj2B,OAAQf,IAChCyD,EAAQ/B,KAAKpC,KAAM03B,EAAMh3B,KAG7B+xJ,WAAY,SAAUtuJ,EAASgB,GAC7B,IAAIoe,EAASvjB,KAAKk0D,qBAElB,GAAI/uD,GAAOoe,EAAO9hB,OAChB,IAAK,IAAIf,EAAI,EAAGA,EAAI6iB,EAAO9hB,OAAQf,IAAK,CACtC,IAAI2jD,EAASrkD,KAAKm1D,gBAAgB5xC,EAAO7iB,IACzCyD,EAAQ/B,KAAKpC,KAAMqkD,EAAOn9C,GAAIm9C,QAKhC,IAFA,IAAIvmC,EAAU,GAAG0Y,OAAOx2B,KAAKukF,UAEpBnjF,EAAK,EAAGA,EAAK0c,EAAQrc,OAAQL,IAAM,CAC1C,IAAIwxJ,EAAU90I,EAAQ1c,GACtB+C,EAAQ/B,KAAKpC,KAAM4yJ,EAAQ1rJ,GAAI0rJ,KAOrCzyF,iBAAkB,SAAUF,GAC1B,GAAIjgE,KAAKwjC,eAIW,GAFRxjC,KAAKwjC,eAAc,GAErB/hC,OAGN,OAFAzB,KAAKu2D,QAAQ0J,IAEN,GAIbrgC,oBAAqB,SAAUzB,EAAKp5B,GAClC,GAAI/E,KAAKoN,UAAUswD,WAAa19D,KAAK6/B,cAAe,CAElD,GAAI96B,EAAE+C,QAA8B,SAApB/C,EAAE+C,OAAO0I,QAAoB,OAAO,EAEpD,IAAImwC,EAAY3gD,KAAKwjC,eAAc,GAEnC,GAAwB,GAApBmd,EAAUl/C,OAAa,CACzB,IAAI8hC,EAAMod,EAAU,GAGpB,MAF6B,OAAzB3gD,KAAKoN,UAAUswB,SAAiB6F,EAAI8gB,OAASrkD,KAAKoN,UAAU0Q,QAAQ/Y,EAAE46B,SAAW,EAAI3/B,KAAKoN,UAAU0Q,QAAQrc,OAAS,GAAGyF,IAC5HlH,KAAK8/B,SAAS3B,EAAKoF,IACZ,GAIX,OAAO,GAET28B,gBAAiB,SAAUxjD,EAAOvB,EAAOsrB,GACvC,IAAI9iB,EAAM3jB,KAAKimD,aAAavpC,EAAMiH,KAC9B0gC,EAASrkD,KAAKktF,eAAexwE,EAAM2nC,QACnC3sB,EAAQ13B,KAAKkF,KAAKwyB,MAClB9G,EAAO5wB,KAAKukF,SAEhB,GAAI99C,EACF,IAAK,IAAI/lC,EAAIijB,EAAKjjB,EAAIg3B,EAAMj2B,OAAQf,IAAK,CACvC,IAAK,IAAI6gD,EAAI8C,EAAS,EAAG9C,EAAI3wB,EAAKnvB,OAAQ8/C,IAAK,CAC7C,IAAIr6C,EAAK,CACPyc,IAAK+T,EAAMh3B,GACX2jD,OAAQzzB,EAAK2wB,GAAGr6C,IAGlB,GAAIiU,EAAM/Y,KAAKpC,KAAMkH,MAASlH,KAAK6yJ,kBAAoB7yJ,KAAK6yJ,gBAAgBn2I,EAAOxV,IAEjF,OADAA,EAAG/E,SAAWnC,KAAK4lJ,cACZ1+I,EAIXm9C,GAAS,OAGX,IAAK,IAAI/zC,EAAMqT,EAAKrT,GAAO,EAAGA,IAAO,CACnC,IAAK,IAAIwiJ,EAAKzuG,EAAS,EAAGyuG,GAAM,EAAGA,IAAM,CACvC,IAAI95F,EAAM,CACRr1C,IAAK+T,EAAMpnB,GACX+zC,OAAQzzB,EAAKkiI,GAAI5rJ,IAGnB,GAAIiU,EAAM/Y,KAAKpC,KAAMg5D,GAEnB,OADAA,EAAI72D,SAAWnC,KAAK4lJ,cACb5sF,EAIX3U,EAASzzB,EAAKnvB,OAIlB,OAAO,MAKTsxJ,uBAAwB,WACtB,GAAI/yJ,KAAK6/B,cAAe,CACtB,IAAI5mB,EAAYjZ,KAAK4qB,MAAMva,WAAW,GAAGK,WAAWuI,UAEhDA,IACFjZ,KAAKmtJ,UAAUjhI,SAASlsB,KAAK0rB,iBAAiBjS,EAAIR,GAElDjZ,KAAK4qB,MAAMva,WAAW,GAAGK,WAAWuI,UAAY,KAItD+5I,qBAAsB,WACpB,GAAIhzJ,KAAK6/B,cAAe,CACtB,IAAIozH,EAAwBjzJ,KAAK4qB,MAAMva,WAAW,GAC9C4I,EAAYg6I,EAAsBh6I,UAClCE,EAAa85I,EAAsB95I,WACvC,GAAInZ,KAAKkzJ,2BAA4B,OAAOlzJ,KAAKkzJ,4BAA6B,EAC1ElzJ,KAAKoN,UAAU81C,WAAWljD,KAAKmtJ,UAAUjhI,SAASjT,GAEtDjZ,KAAKgqJ,UAAU99H,SAAS/S,GAEpBnZ,KAAKg3D,gBACH/9C,IAAWjZ,KAAK4qB,MAAMva,WAAW,GAAG4I,UAAY,GAChDE,IAAYnZ,KAAK4qB,MAAMva,WAAW,GAAG8I,WAAa,GACtDnZ,KAAKkzJ,2BAA6Bj6I,GAAaE,KAIrDklD,8BAA+B,WAC7B,IAAIz4C,EAAQ5lB,KAEZA,KAAK6M,YAAY,YAAa7M,KAAKmzJ,sBACnCnzJ,KAAK6M,YAAY,YAAa7M,KAAKmzJ,sBACnCnzJ,KAAK6M,YAAY,YAAa7M,KAAKy9D,wBACnCz9D,KAAK6M,YAAY,kBAAkB,WACjC7M,KAAK+/B,cAEP//B,KAAK6M,YAAY,iBAAiB,WAChC7M,KAAK+/B,cAEP//B,KAAK6M,YAAY,eAAe,WAC9B7M,KAAK+/B,cAEP//B,KAAK6M,YAAY,iBAAiB,WAC5B7M,KAAKoN,UAAUue,UAAU3rB,KAAK+/B,cAGpC//B,KAAK4qB,MAAMva,WAAW,GAAG+iJ,SAAW,WAClC,OAAOxtI,EAAMotI,wBAGVhzJ,KAAKoN,UAAU81C,YAAWljD,KAAK4qB,MAAMva,WAAW,GAAGK,WAAW0iJ,SAAW,WAC5E,OAAOxtI,EAAMmtI,4BAGjBI,qBAAsB,WACpB,GAAInzJ,KAAK6/B,cAAe,CACtB,IAAI+V,EAAM51C,KAAKkyJ,oBACflyJ,KAAKkyJ,oBAAsBlyJ,KAAK0rB,iBAChC,IAAIw5D,EAAOllF,KAAKkyJ,oBAAoBz4I,EAAIm8B,EAAIn8B,EAE5CzZ,KAAK0/D,kBAAiB,SAAU7E,GAC9B,GAAIA,EAAOU,SAAU,CACnB,IAAIlxD,EAAOrK,KAAKglD,YAAY6V,GACxB1T,GAAW,EAEf,GAAInnD,KAAKoN,UAAU81C,UAAW,CAC5B,IAAIp4C,EAAM+vD,EAAO+2F,YACbyB,EAAQvoJ,EAAIyO,IAAMvZ,KAAK2pJ,WACvB2J,EAAQxoJ,EAAI0O,KAAOxZ,KAAKktJ,YAC5B/lG,EAAWksG,EAAQ,GAAKA,EAAQvoJ,EAAIgP,OAAS9Z,KAAK+sJ,uBAAyBuG,EAAQ,GAAKA,EAAQxoJ,EAAI8O,MAAQ5Z,KAAKgoC,OAAShoC,KAAKuzJ,cAG5HlpJ,GAAQ88C,EAAU0T,EAAOU,WAAW9oC,KAAK,CAC5CxgB,GAAG,IACHwH,GAAG,MACGohD,EAAOU,WAAW9oC,KAAKpoB,GAG5BrK,KAAKoN,UAAU81C,WAAc2X,EAAOL,WAAcK,EAAOI,UAC5DJ,EAAOxwD,KAAKkP,KAAO2rE,EACnBrqB,EAAOxwD,KAAKmN,MAAM+B,IAAMshD,EAAOxwD,KAAKkP,IAAM,YAOhDi6I,GAAU,CACZxpJ,MAAO,WACLhK,KAAKyzJ,sBAELzzJ,KAAK6M,YAAY,kBAAmB7M,KAAK0zJ,sBAE3CD,oBAAqB,WACnBzzJ,KAAKw0D,oBAAsB,GAC3Bx0D,KAAKk0D,qBAAuBvpD,IAC5B3K,KAAK40D,cAAgB,CAAC,EAAG,EAAG,IAE9B8+F,oBAAqB,WAGnB,IAFA,IAAI9iI,EAAO5wB,KAAKukF,SAEP7jF,EAAI,EAAGA,EAAIkwB,EAAKnvB,OAAQf,IAC3BkwB,EAAKlwB,GAAGsT,QAAQhU,KAAK2zJ,iBAAiB/iI,EAAMA,EAAKlwB,GAAGsT,QACpD4c,EAAKlwB,GAAG0iE,QAAQpjE,KAAK2zJ,iBAAiB/iI,EAAMA,EAAKlwB,GAAG0iE,QAG1D,IAAK,IAAIhiE,EAAKwvB,EAAKnvB,OAAS,EAAGL,GAAM,EAAGA,KAClCwvB,EAAKxvB,GAAImiB,QAA8DqN,EAAKxvB,GAAI2+F,OAAS//F,KAAKiH,OAAO64F,cAAgBlvE,EAAKxvB,GAAI2+F,OAAS//F,KAAKiH,OAAO64F,eAAlI9/F,KAAK+0D,WAAWnkC,EAAKxvB,GAAI8F,GAAI,IAAI,GAAM,IAKhEysJ,iBAAkB,SAAU/iI,EAAMD,GAChC,IAAK,IAAIjwB,EAAI,EAAGA,EAAIiwB,EAASlvB,OAAQf,IAAK,CACxC,IAAIwsC,EAAOvc,EAASjwB,GAChBwsC,GAAQA,EAAKqX,UAAYrX,EAAK0mH,WAAU1mH,EAAK0mH,SAAW1mH,EAAKqX,WAGrEsvG,WAAY,SAAU3sJ,EAAImW,GACxB,IAAIy2I,EAAS9zJ,KAAKktF,eAAehmF,GACjC,GAAI4sJ,GAAUz2I,IAAmB,GAAVy2I,EAAc,OAAO,EAE5C,IAGIC,EAHA9qE,EAASjpF,KAAKk0D,qBACdp2C,EAAU9d,KAAKoN,UAAU0Q,QAGzBvO,EAAMuO,EAAQ9S,OAAO8oJ,EAAQ,GAAG,GAEhC7qE,EAAOxnF,SACTsyJ,EAAS9qE,EAAO/9E,KAAKhE,GACrB+hF,EAAOp+E,SAASkpJ,IAGlB/zJ,KAAKg0J,aAAaF,EAAQC,GAAQ,GAGlC,IAIIjpJ,EAJAmpJ,EAAS52I,GAASA,EAAQy2I,EAAS,EAAI,GAM3C,GAJAjqJ,EAAaC,SAAS1H,KAAK0b,EAASvO,EAAK0kJ,GAIrChrE,EAAOxnF,OAAQ,CACjB,IAAIozC,EAAO/2B,EAAQm2I,EAAS,GAC5BnpJ,EAAM+pC,GAAQA,EAAK3tC,GAAK+hF,EAAO/9E,KAAK2pC,EAAK3tC,IAAM,EAAI,EACnD+hF,EAAOn/E,SAASyF,EAAIrI,GAAI4D,GAG1B9K,KAAKg0J,aAAaC,EAAQnpJ,EAAK,GAE/B9K,KAAKk0J,oBAEPC,aAAc,SAAUlrE,EAAQr4D,GAC9B,IAAKq4D,EAAOxnF,OAAQ,CAClB,IAAK,IAAIf,EAAI,EAAGA,EAAIkwB,EAAKnvB,OAAQf,IAC/BuoF,EAAOvoF,GAAKkwB,EAAKlwB,GAAGwG,GAGtBlH,KAAK40D,cAAgB,CAAC50D,KAAKoN,UAAUynD,UAAW70D,KAAKorJ,YAAaprJ,KAAKoN,UAAUunD,cAGrF2vB,gBAAiB,SAAUp9E,GACzB,OAAQlH,KAAKw0D,oBAAoBttD,IAEnC6tD,WAAY,SAAU7tD,EAAI+Y,EAAMqkB,EAAQxyB,GACtC,IAGIuyC,EAHAzzB,EAAO5wB,KAAKoN,UAAU0Q,QACtBmrE,EAASjpF,KAAKk0D,qBACdkgG,EAAQp0J,KAAKw0D,oBAEblQ,EAAO,EAGX,GAFArkC,EAAOA,GAAQ,IAEF,IAATnO,EAAgB,CAClB,IAAIuL,EAAQrd,KAAKktF,eAAehmF,GAGhC,GAFApB,GAAgB,GAATuX,EAAa,6CAEP,GAATA,IAAgBrd,KAAK8M,UAAU,qBAAsB,CAAC5F,IAAM,OAIhE,GAFAlH,KAAKm0J,aAAalrE,EAAQr4D,GAEtB3Q,EAAKmD,MAGP,IAFA,IAAIpP,EAAS4c,EAAKvT,GAAOrJ,OAEhBtT,EAAI,EAAGA,EAAIsT,EAAOvS,OAAQf,IAC7BsT,EAAOtT,KAAI4jD,EAAO5qC,KAAKgC,IAAI4oC,EAAMtwC,EAAOtT,GAAG6jD,SAAW,IAI9DvkD,KAAKq0J,UAAUh3I,EAAOinC,GAAM,GAE5B,IAAK,IAAIh0C,EAAM+M,EAAQinC,EAAO,EAAGh0C,GAAO+M,EAAO/M,IAC7CtQ,KAAKs0J,YAAYj3I,GAGjB+2I,GADA/vG,EAASzzB,EAAK5lB,OAAOqS,EAAO,GAAG,IAClBnW,IAAMm9C,EACnBA,EAAOguG,MAAO,EACdhuG,EAAO9gC,QAAS,SACTvjB,KAAKu0J,cAAclwG,EAAOn9C,IAGnClH,KAAK8M,UAAU,oBAAqB,CAAC5F,QAChC,CAIL,GAFApB,EADAu+C,EAAS+vG,EAAMltJ,GACA,8CAEVm9C,IAAWrkD,KAAK8M,UAAU,qBAAsB,CAAC5F,IAAM,OAI5D,IAHA,IAAI2tC,EAAO,KACPk/G,EAAS,EAEJ7+F,EAAM,EAAGA,EAAM+zB,EAAOxnF,OAAQyzD,IAAO,CAC5C,GAAI+zB,EAAO/zB,IAAQhuD,EAAI,CACrB6sJ,EAAS7+F,EACT,MAGGk/F,EAAMnrE,EAAO/zB,MAAOrgB,EAAOo0C,EAAO/zB,IAGzC,GAAIj1C,EAAKmD,MAGP,IAFA,IAAIjR,EAAUkyC,EAAOrwC,OAEZqhD,EAAM,EAAGA,EAAMljD,EAAQ1Q,OAAQ4zD,IAClCljD,EAAQkjD,KACVljD,EAAQkjD,GAAK9Q,QAAUpyC,EAAQkjD,GAAKu+F,UAAYzhJ,EAAQkjD,GAAK9Q,QAC7DD,EAAO5qC,KAAKgC,IAAI4oC,EAAMnyC,EAAQkjD,GAAK9Q,SAAW,IAOpD,IAFA,IAAI3/B,EAASiwB,EAAO70C,KAAKktF,eAAer4C,GAAQ,EAAI,EAE3C6gB,EAAMq+F,EAASzvG,EAAO,EAAGoR,GAAOq+F,EAAQr+F,IAAO,CACtD,IAAInmD,EAAM6kJ,EAAMnrE,EAAOvzB,IAEnBnmD,GAEF1F,EAAaC,SAAS1H,KAAKwuB,EAAMrhB,EAAKqV,UAE/BrV,EAAIgU,cACJ6wI,EAAM7kJ,EAAIrI,IACjBlH,KAAKu0J,cAAchlJ,EAAIrI,IAAMqI,GACxB+0C,IAGTtkD,KAAKq0J,UAAUN,EAAQzvG,EAAM,GAAG,GAEhCtkD,KAAK8M,UAAU,oBAAqB,CAAC5F,IAGnCm9C,EAAOrwC,QAAQhU,KAAKw0J,mBAAmBnwG,GAAiB,IAATvyC,EAAiB,EAAI,EAAG,UACvEuyC,EAAO+e,QAAQpjE,KAAKw0J,mBAAmBnwG,GAAiB,IAATvyC,EAAiB,EAAI,EAAG,UACvEm3E,EAAOxnF,SAAWmvB,EAAKnvB,QAAQzB,KAAKyzJ,sBACnCnvH,GAAQtkC,KAAKk0J,oBAEpBO,WAAY,SAAUvtJ,EAAI+Y,EAAMqkB,GAC9B,OAAOtkC,KAAK+0D,WAAW7tD,EAAI+Y,EAAMqkB,GAAQ,IAE3C+vH,UAAW,SAAUh3I,EAAOinC,EAAMysG,EAAIxtI,GACpC,IACImxI,EAAQl0J,EADD+iB,EAASvjB,KAAK40D,cAAgB,CAAC50D,KAAKoN,UAAUynD,UAAW70D,KAAKorJ,aACxC,GAC7BuJ,EAASD,EAAM,GACfE,EAASF,EAAM,GAEfr3I,EAAQs3I,IAAQ30J,KAAKoN,UAAUynD,WAAak8F,EAAKzsG,GACjDjnC,GAASu3I,EAAQ50J,KAAKoN,UAAUunD,YAAco8F,EAAKzsG,EAAUtkD,KAAKorJ,aAAe2F,EAAKzsG,GAE5F0vG,aAAc,SAAU32I,EAAO02I,EAAQhD,GACjC1zI,GAAS,IACPA,EAAQrd,KAAKoN,UAAUynD,YAAW70D,KAAKoN,UAAUynD,WAAak8F,GAC9D/wJ,KAAKoN,UAAUunD,YAAct3C,GAASrd,KAAKorJ,YAAaprJ,KAAKoN,UAAUunD,YAAco8F,EAAQ/wJ,KAAKorJ,aAAe2F,GAG1G/wJ,KAAKk0D,qBAEPzyD,QAAUsyJ,GAAU,IACzBA,EAAS/zJ,KAAK40D,cAAc,KAAI50D,KAAK40D,cAAc,IAAMm8F,GACzD/wJ,KAAK40D,cAAc,IAAMm/F,GAAU/zJ,KAAK40D,cAAc,GAAI50D,KAAK40D,cAAc,IAAMm8F,EAAQ/wJ,KAAK40D,cAAc,IAAMm8F,IAG5HyD,mBAAoB,SAAUvtJ,EAAQ0rB,EAAKkiI,GACzC,IAAK,IAAIn0J,EAAIuG,EAAO4tJ,GAAQpzJ,OAAS,EAAGf,GAAK,EAAGA,IAM9C,IALA,IACIo0J,EADA9yE,EAAMhiF,KAAKk0D,qBAEX/M,GAAW,EACX4tG,EAAW,EAENxzG,EAAI,EAAGA,EAAIygC,EAAIvgF,OAAQ8/C,IAAK,CACnC,IAAIyzG,EAAYh1J,KAAKm1D,gBAAgB6sB,EAAIzgC,IACrCrjC,EAAK82I,EAAUH,GAAQn0J,GAEtBV,KAAKskF,gBAAgBtC,EAAIzgC,KAcxB4F,GAAY4tG,EAAW,GAAKD,GAAcA,EAAWvwG,QAAU,EAGjEuwG,EADA52I,EAAK82I,EAAUH,GAAQn0J,GAAKo0J,EAEnB52I,GAAMA,EAAG01I,UAAYmB,GAAY,IAE1CA,EAAW72I,EAAGqmC,QAAUrmC,EAAG01I,SAC3BkB,EAAa52I,GAGfipC,EAAW,OAtBPjpC,GAAMA,EAAG01I,UAAYmB,GAAY,IAEnCA,EAAW72I,EAAGqmC,QAAUrmC,EAAG01I,SAC3BzsG,EAAW2tG,EAAa52I,GAGtB42I,GAAcC,EAAW,GAE3BD,EAAWvwG,WAiBfwwG,MAIN3/F,eAAgB,SAAUt3C,GACxB9d,KAAKi1J,wBAAyB,EAE1Bn3I,IACF9d,KAAKyzJ,sBAELzzJ,KAAKq0D,iBAAmB,IAG1Br0D,KAAKu0J,cAAgB,GAErB,IAAK,IAAI7zJ,EAAI,EAAGA,EAAIV,KAAKukF,SAAS9iF,OAAQf,IAAK,CAC7C,IAAI6O,EAAMvP,KAAKukF,SAAS7jF,GACxBV,KAAKu0J,cAAchlJ,EAAIrI,IAAMqI,EAC7BA,EAAI4iJ,SAAW5iJ,EAAIlF,KAAO,KAG5B,IAAK,IAAIisD,EAAM,EAAGA,EAAM,EAAGA,IACzBt2D,KAAKmS,QAAQ9B,WAAWimD,GAAK7/C,UAAY,GACzCzW,KAAK4qB,MAAMva,WAAWimD,GAAK5lD,WAAW+F,UAAY,GAIpDzW,KAAKukF,SAAWvkF,KAAKiH,OAAO6W,QAAUA,GAAW9d,KAAKiH,OAAO6W,QAC7D9d,KAAKorJ,YAAcprJ,KAAKukF,SAAS9iF,QAAUzB,KAAKiH,OAAO0tD,YAAc,GACrE30D,KAAKs0D,oBAAsB,EAE3Bt0D,KAAKk1J,oBAELl1J,KAAKm1J,iBAELn1J,KAAK8M,UAAU,qBACf9M,KAAK8pB,SACL9pB,KAAKi1J,wBAAyB,GAEhCf,iBAAkB,WAChBl0J,KAAKs0D,oBAAsB,EAC3Bt0D,KAAK8M,UAAU,qBAEf9M,KAAKo1J,iBAELp1J,KAAK8pB,UAEPurI,gBAAiB,SAAUt1D,EAAOjuF,EAAMwyB,GACtC,IAAIksB,OAA0B,IAAR1+C,EACtBA,GAAgB,IAATA,EACP,IAAIpF,EAAM,GACV1M,KAAKyyJ,YAAW,SAAUvrJ,EAAIqI,GAC5B,GAAIA,EAAIwwF,MAAO,CACb,IAAIx8E,EAASvjB,KAAKw0D,oBAAoBjlD,EAAIrI,IACrC4K,IAAMyR,GAAUA,GACjBhU,EAAIwwF,OAASA,GAASx8E,EAAQvjB,KAAK+0D,WAAWxlD,EAAIrI,GAAI,CACxDkc,OAAO,IACN,GAAOtR,GAAgB0+C,GAAYjhD,EAAIwwF,OAASA,GAAUx8E,GAAQvjB,KAAK+0D,WAAWxlD,EAAIrI,GAAI,CAC3Fkc,OAAO,IACN,EAAMtR,GAGX,GAAI0+C,GAAY1+C,EAGd,IAFA,IAAIkC,EAASzE,EAAIyE,OAERtT,EAAI,EAAGA,EAAIsT,EAAOvS,OAAQf,IAC7BsT,EAAOtT,IAAMsT,EAAOtT,GAAGq/F,OAAS/rF,EAAOtT,GAAG40J,QAAQ5oJ,EAAInL,KAAKyS,EAAOtT,GAAGq/F,UAG5E,GAEH,IAAK,IAAIw1D,EAAI,EAAGA,EAAI7oJ,EAAIjL,OAAQ8zJ,IAC1B7oJ,EAAI6oJ,IAAMx1D,GAAO//F,KAAKq1J,gBAAgB3oJ,EAAI6oJ,IAAI,GAAO,GAGtDjxH,GAAQtkC,KAAKk0J,oBAEpBsB,sBAAuB,SAAUtuJ,GAC/B,GAAIlH,KAAKk0D,qBAAqBzyD,OAAQ,CACpC,IAAK,IAAIf,EAAI,EAAGA,EAAIV,KAAKk0D,qBAAqBzyD,OAAQf,IACpD,GAAIV,KAAKk0D,qBAAqBxzD,IAAMwG,EAAI,OAAOxG,EAGjD,OAAO,EAGT,OAAOV,KAAKktF,eAAehmF,IAE7BuuJ,mBAAoB,SAAUp4I,GAC5B,OAAOrd,KAAKk0D,qBAAqBzyD,OAASzB,KAAKk0D,qBAAqB72C,GAASrd,KAAK+rB,SAAS1O,KAI3Fq4I,GAAU,CACZ1rJ,MAAO,SAAU/C,GACfjH,KAAK6M,YAAY,gBAAiB7M,KAAKumE,qBACvCvmE,KAAK6M,YAAY,WAAW,WAC1BqO,GAAOlb,KAAK6qB,MAAO,2BAErB7qB,KAAK6M,YAAY,UAAU,WACzBuO,GAAUpb,KAAK6qB,MAAO,2BAGH,UAAjB5jB,EAAOy2B,SAAuB19B,KAAKwS,MAAQxS,KAAK21J,kBAAkB31J,KAAK6M,YAAY,WAAW,WAChG,IAAI02B,EAAMvjC,KAAKwjC,eAAc,GAE7B,KAAkB,GAAdD,EAAI9hC,QAAiBzB,KAAK8gD,WAAa9gD,KAAK8gD,aAAc,CAC5D,IAAIz2C,EAAOrK,KAAKglD,YAAYzhB,EAAI,IAChCA,EAAMA,EAAI,GAAG5f,KAEa,OAAtB3jB,KAAKiH,OAAOy2B,QAAmBrzB,EAAK6sB,cAAc,qBAAuB7sB,EAAK6sB,cAAc,wBAC1Fl3B,KAAKy4E,aAAal1C,GAAMvjC,KAAKk8B,MAAMqH,GAAUvjC,KAAKwS,KAAK+wB,SAKnEgjC,oBAAqB,WAGnB,IAFUvmE,KAAK41J,uBAEL,CACR,IAAIvrJ,EAAOrK,KAAKiqB,SAASiN,cAAc,eAEnC7sB,GAAMA,EAAKoN,aAAa,WAAY,OAG5Cm+I,qBAAsB,WAGpB,IAFA,IAAIryH,EAAMvjC,KAAKwjC,eAAc,GAEpB9iC,EAAI,EAAGA,EAAI6iC,EAAI9hC,OAAQf,IAC9B,GAAI6iC,EAAI7iC,GAAG2jD,QAAUrkD,KAAKskF,gBAAgB/gD,EAAI7iC,GAAG2jD,QAAS,OAAOrkD,KAAKglD,YAAYzhB,EAAI7iC,IAGxF,OAAO,MAETo7D,cAAe,SAAUhqD,EAAMzL,EAASuW,GAGtC,GAFA5c,KAAK61J,gBAED71J,KAAKoN,UAAUyT,SAAnB,CACAxa,EAAUA,GAAW,GAErB,IAAIkH,EAAIvN,KAAKwjC,eAAc,GACvBrQ,EAAW5lB,EAAE9L,OAAS,EACtB+uD,KAAWxwD,KAAKoN,UAAUgwD,cAAep9D,KAAKoN,UAAU0oJ,aAAazvJ,EAAQs6B,MASjF,GAPIpzB,EAAE9L,OAAS,GAA+B,SAA1BzB,KAAKoN,UAAUswB,SACjCnwB,EAAIA,EAAEyb,KAAKvgB,GAAK,SAAUQ,EAAG4E,GAC3B,OAAI7N,KAAKimD,aAAah9C,EAAE0a,KAAO3jB,KAAKimD,aAAap4C,EAAE8V,MAAQ3jB,KAAKktF,eAAejkF,EAAEo7C,QAAUrkD,KAAKktF,eAAer/E,EAAEw2C,QAAgB,GAAc,IAC9IrkD,OACS,MAAR8R,GAAwB,QAARA,GAA0B,OAARA,GAAyB,QAARA,IAAgBqhB,EAAW,IAGhFA,EAAW,GAAKnzB,KAAK2R,QAAS,CAEhC,GAAY,QAARG,GAA0B,SAARA,EAAiBA,EAAO,UAAW,CAAA,GAAY,MAARA,GAAwB,QAARA,EAAqC,OAArBA,EAAO,SACpGqhB,EAAW,EACX5lB,EAAI,CAAC,CACHoW,IAAK,EACL0gC,OAAQ,IAIZ,GAAIlxB,GAAY,EAAG,CACjB,IAAIxP,EAAMpW,EAAE4lB,GAAUxP,IAClB0gC,EAAS92C,EAAE4lB,GAAUkxB,OAEzB,GAAY,OAARvyC,GAAyB,UAARA,EACf6R,IAEU,OAAR7R,EAAe6R,EAAM3jB,KAAKkF,KAAKwqD,aAA8B,UAAR59C,IAAkB6R,EAAM3jB,KAAKkF,KAAKyqD,cAGzFtL,IAEFlxB,EAAW,EACC,UAARrhB,IAAkBqhB,EAAWnzB,KAAKiH,OAAO6W,QAAQrc,OAAS,GAC9D4iD,EAASrkD,KAAK+rB,SAASoH,SAEpB,GAAY,MAARrhB,GAAwB,QAARA,GAA0B,QAARA,GAA0B,UAARA,GAC7D,GAAI6R,EAAK,CAEP,IAAIiB,EAAS5kB,KAAKimD,aAAatiC,GAE3B0iC,EAAO,EACC,QAARv0C,GAA0B,UAARA,IAAkBu0C,EAAOrmD,KAAK0sE,OAAS1sE,KAAK0sE,OAAOzlE,OAAOD,KAAO0S,KAAKC,MAAM3Z,KAAK+sJ,sBAAwB/sJ,KAAKoN,UAAU2d,YAElI,MAARjZ,GAAwB,QAARA,EAAgB8S,GAAUyhC,EAAsB,QAARv0C,GAA0B,UAARA,IAAkB8S,GAAUyhC,GAEtGzhC,EAAS,IAAGA,EAAS,GACrBA,GAAU5kB,KAAKkF,KAAKwyB,MAAMj2B,SAAQmjB,EAAS5kB,KAAKkF,KAAKwyB,MAAMj2B,OAAS,KACxEkiB,EAAM3jB,KAAK8rB,aAAalH,KACZ5kB,KAAKoN,UAAU4+D,OAAOhsE,KAAK+1J,gBAAgBnxI,QAEpD,CAAA,GAAY,SAAR9S,GAA2B,QAARA,EAkB5B,YADAhM,GAAO,EAAO,uCAhBd,GAAIu+C,GAAgC,OAAtBrkD,KAAKiH,OAAOy2B,OAAiB,CAEzC,IAAIs4H,EAAUh2J,KAAKktF,eAAe7oC,GAGtB,SAARvyC,EAAiBkkJ,IAA2B,QAARlkJ,GAAgBkkJ,IAEpDA,EAAU,IAAGA,EAAU,GACvBA,GAAWh2J,KAAKiH,OAAO6W,QAAQrc,SAAQu0J,EAAUh2J,KAAKiH,OAAO6W,QAAQrc,OAAS,GAClF4iD,EAASrkD,KAAK+rB,SAASiqI,OAClB,CAAA,IAAKh2J,KAAKwS,MAAQxS,KAAK21J,kBAA4B,SAAR7jJ,EAChD,OAAO9R,KAAKwS,KAAOxS,KAAKwS,KAAKmR,GAAO3jB,KAAKi2J,QAAQtyI,GAC5C,IAAK3jB,KAAKk8B,OAASl8B,KAAK21J,kBAA4B,QAAR7jJ,EACjD,OAAO9R,KAAKk8B,MAAQl8B,KAAKk8B,MAAMvY,GAAO3jB,KAAKk2J,SAASvyI,IAOxD,GAAIA,EAAK,CACP3jB,KAAKyxJ,SAAS9tI,EAAK0gC,GAEdrkD,KAAK09B,SAER/9B,EAAQ8J,OAAOzJ,KAAMA,KAAK8kJ,YAAYC,eAAe,GACrD/kJ,KAAKoN,UAAUswB,OAAS19B,KAAKwS,MAAQxS,KAAK21J,gBAAkB,MAAQ,OACpEh2J,EAAQ8J,OAAOzJ,KAAMA,KAAK8kJ,YAAY9kJ,KAAKoN,UAAUswB,SAAS,IAGhE,IAAI9Z,EAAO,CACTD,IAAKA,EACL0gC,OAAQA,GAGV,GAAImM,GAAqC,QAAzBxwD,KAAKoN,UAAUswB,OAAkB,CAC/C,IAAIoK,EAAO9nC,KAAKulJ,gBAAgBvlJ,KAAKulJ,gBAAgB9jJ,OAAS,GAE9DzB,KAAK0nJ,iBAAiB9jI,EAAMkkB,EAAMh2B,EAAMzL,QACnCrG,KAAKu2D,QAAQ3yC,EAAM4sC,GAE1B,IAAKxwD,KAAKoN,UAAU40C,YAAuB,IAAVplC,EAAiB,CAChD,IAAIvS,EAAOrK,KAAKglD,YAAYphC,GACxBvZ,GAAMA,EAAKuS,UAKrB,OAAO,KAIPu5I,GAAc,CAChBn+F,eAAgB,SAAUlwD,GACxB,IAAK,IAAIpH,EAAI,EAAGA,EAAIV,KAAKukF,SAAS9iF,OAAQf,IAAK,CAC7C,IAAI2jD,EAASrkD,KAAKukF,SAAS7jF,GACvB2J,EAAOrK,KAAKglD,YAAY,CAC1BrhC,IAAK7b,EACLwrG,KAAM5yG,IAGJ2J,EACFA,EAAKgO,WAAWE,aAAam+B,GAAYuD,UAAUv5C,GAAI2J,GAClDg6C,EAAOh6C,KAAKqN,YAAYg/B,GAAYuD,UAAUv5C,MAGzD43D,gBAAiB,WACf,IAAI89F,EAAW,GACXzkJ,EAAQ3R,KAAKukF,SAAS9iF,OACtB4I,EAAOC,SAASkM,cAAc,OAClCnM,EAAK8N,UAAY,kBACjB9N,EAAKmN,MAAMsC,OAAS9Z,KAAKoN,UAAU2d,UAAY,KAC/C1gB,EAAKoM,UAAYzW,KAAK+3D,YAEtB,IAAK,IAAIr3D,EAAI,EAAGA,EAAIiR,EAAOjR,IACzB01J,EAAS70J,KAAK8I,EAAK4gF,WAAU,IAG/B,OAAOmrE,IAGPC,GAAU,CACZz/F,YAAa,SAAUp1D,GAiBrB,OAfAxB,KAAK6M,YAAY,gBAAgB,SAAU6f,GACzC,OAAO1sB,KAAKs2J,mBAAmB5pI,EAAQznB,WAEzCjF,KAAK6M,YAAY,kBAAkB,SAAU6f,GAC3C,IAAI/gB,EAAS3L,KAAKs2J,mBAAmB5pI,EAAQ5kB,QAO7C,OALK6D,GAAU+qC,GAAYuD,YACzBhvC,GAAOyrC,GAAYuD,WACnBj6C,KAAKy4D,gBAAkB/hB,GAAYuD,UAAY,MAG1CtuC,KAET6qD,GAASI,YAAYx0D,KAAKpC,KAAMwB,GACnB,SAATA,GAA6B,QAATA,GAAiB7B,EAAQ8J,OAAOzJ,KAAMm2J,IAAa,GACpE30J,GAETs2D,SAAU,SAAU7yD,EAAQqW,EAAKjG,GAC/B,IAAIqX,EAAUgqB,GAAYmB,cACrB73C,KAAKoN,UAAU81C,WAAc7tC,IAAMpQ,EAAS,CAACynB,EAAQhQ,QAE1D,IAAK,IAAIhc,EAAI,EAAGA,EAAIuE,EAAOxD,OAAQf,IAAK,CACtC,IAAK,IAAI6gD,EAAI,EAAGA,EAAIvhD,KAAKukF,SAAS9iF,OAAQ8/C,IAAK,CAC7C,IAAIl3C,EAAOrK,KAAKglD,YAAY,CAC1BrhC,IAAK1e,EAAOvE,GACZ4yG,KAAM/xD,IAEJl3C,GAAM6Q,GAAO7Q,EAAMiR,GAGzBtb,KAAKkF,KAAK+/C,QAAQhgD,EAAOvE,GAAI4a,EAAK,EAAG,GAAG,KAG5Cu8C,YAAa,SAAU5yD,EAAQqW,EAAKjG,GAClC,IAAIqX,EAAUgqB,GAAYmB,cACrB73C,KAAKoN,UAAU81C,WAAc7tC,IAAMpQ,EAAS,CAACynB,EAAQhQ,QAE1D,IAAK,IAAIhc,EAAI,EAAGA,EAAIuE,EAAOxD,OAAQf,IAAK,CACtC,IAAK,IAAI6gD,EAAI,EAAGA,EAAIvhD,KAAKukF,SAAS9iF,OAAQ8/C,IAAK,CAC7C,IAAIl3C,EAAOrK,KAAKglD,YAAY,CAC1BrhC,IAAK1e,EAAOvE,GACZ4yG,KAAM/xD,IAEJl3C,GAAM+Q,GAAU/Q,EAAMiR,GAG5Btb,KAAKkF,KAAKggD,WAAWjgD,EAAOvE,GAAI4a,EAAK,GAAG,KAG5Cg7I,mBAAoB,SAAU3kG,GAC5B,IAAIjxD,EACAyyB,EACAojI,GAAS,EAEb,GAAIv2J,KAAKoN,UAAUue,UAAYgmC,EAG7B,IAFKtpD,EAAQspD,KAAMA,EAAM,CAACA,IAErBjxD,EAAI,GAAI61J,GAAU71J,EAAIixD,EAAIlwD,OAAQf,IAErC61J,GADApjI,EAAWnzB,KAAKimD,aAAa0L,EAAIjxD,MACZ,GAAKyyB,EAAWnzB,KAAKoN,UAAUue,SAIxD,OAAQ4qI,GAEV5sI,QAAS,SAAUtpB,GAKjB,IAJA,IACI2X,EAAO,4CADChY,KAAKioC,eAAiBjoC,KAAK8tJ,cACyB,QAC5Dl9H,EAAO5wB,KAAKoN,UAAU0Q,QAEjBpd,EAAI,EAAGA,EAAIkwB,EAAKnvB,OAAQf,IAAK,CACpC,IAAIc,EAAQxB,KAAKmuJ,UAAU9tJ,EAAKuwB,EAAKlwB,IAErCsX,GAAQ,qBAAuB4Y,EAAKlwB,GAAGkZ,MAAQ,QAAUpY,EAAQ,SAGnE,OAAOwW,EAAO,UAEhBw+I,cAAe,SAAU7P,EAAW8P,GAClC,OAAOz2J,KAAK02J,eAAe/P,EAAW8P,EAAWz2J,KAAKmS,UAExDwkJ,cAAe,SAAUhQ,EAAW8P,GAClC,OAAOz2J,KAAK02J,eAAe/P,EAAW8P,EAAWz2J,KAAKqtJ,UAExDqJ,eAAgB,SAAU/P,EAAW8P,EAAWl/I,GAC9C,GAAIvX,KAAKskF,gBAAgBqiE,GAAY,CACnC,IAAI3kE,EAAMhiF,KAAKktF,eAAey5D,GAC1BiQ,EAAO52J,KAAKoN,UAAUynD,UAAYmtB,EAAM,EAAIhiF,KAAKorJ,aAAeppE,EAAM,EAAI,EAC9Ey0E,EAAYA,GAAa,EAQzB,OAPgBl/I,EAAMlH,WAAWumJ,GAOhB1/H,cAAc,OAAOV,OAJtC,SAIkD,MAAOA,OAAOwrD,EAAK,OAAQxrD,OAD7E,MAC4F,MAAOA,OAAOigI,EAAW,OAGvH,OAAO,MAETzxG,YAAa,SAAU99C,GACrB,GAAIA,IAAOA,EAAG8M,OAAQ,CACpB,IAAI2P,EAAMzc,EAAGyc,KAAOzc,EAChB2vJ,EAA8B,iBAAZ3vJ,EAAGmsG,KAAoBnsG,EAAGmsG,KAAOrzG,KAAKimD,aAAatiC,GAErEngB,EAAQxD,KAAK82J,eAEbC,EAASvzJ,EAAM,GAAKxD,KAAKoN,UAAUue,SAEvC,GAAIkrI,EAAWE,GAAUF,EAAWrzJ,EAAM,GAAI,OAE9C,IAAIwzJ,EAAUh3J,KAAKi3J,eAEfC,EAAWl3J,KAAKoN,UAAUynD,UAAY,EAAImiG,EAAQ,GAClDG,EAA8B,iBAAZjwJ,EAAGosG,KAEzB,IAAIpsG,EAAGm9C,QAAU8yG,KACfD,EAAWC,EAAWjwJ,EAAGosG,KAAOtzG,KAAKktF,eAAehmF,EAAGm9C,SAExCrkD,KAAKorJ,aAAe8L,GAAYl3J,KAAKoN,UAAUynD,YAAcqiG,EAAWF,EAAQ,IAAME,EAAWF,EAAQ,IAAK,OAG/H,IAAI3yG,EAASrkD,KAAKoN,UAAU0Q,QAAQo5I,GAEpC,GAAI7yG,GAAUA,EAAO8tG,UAAY9tG,EAAOh6C,KAAM,CAC5C,GAAY,gBAARsZ,EAAuB,OAAO+yB,GAAYuD,UAAUi9G,GAKxD,IAJA,IAAIE,EAAYP,EAAW72J,KAAKoN,UAAUue,UAAY3rB,KAAKoN,UAAU81C,UAAY2zG,EAAWA,EAAWE,EACnGlxF,EAAQxhB,EAAOh6C,KAAKgG,WACpB5O,EAASiY,KAAKwJ,IAAI2iD,EAAMpkE,OAAQ21J,EAAY,GAEvC12J,EAAI,EAAGA,EAAIe,EAAQf,IACC,oBAAvBmlE,EAAMnlE,GAAGyX,WAAiCi/I,IAGhD,OAAOvxF,EAAMuxF,MAInBC,aAAc,SAAUtyJ,GACtB,IAAIqK,EAAWrK,EAAE+C,OAAOsH,SACxB,MAAmB,SAAZA,GAAmC,YAAZA,GAEhCkoJ,kBAAmB,SAAU91J,GAC3B,IAAI09G,EAyKJ,MAvKa,SAAT19G,EACF09G,EAAU,CACRrlE,MAAOpxC,GAAK,SAAUib,EAAG3e,EAAGuyC,GAC1B,IAAKt3C,KAAKq3J,aAAatyJ,IAAM/E,KAAK+nG,YAAa,OAAO,EACtD,IAAI7gG,EAAKlH,KAAK0Y,OAAO3T,GACrB,IAAKmC,IAAOlH,KAAK8M,UAAU,qBAAsB,CAAC5F,EAAGm9C,OAAQt/C,IAAK,OAAO,EACzE2xC,GAAYmB,cAAgB,CAC1Bx1C,KAAM68G,EACNxiG,MAAOxV,EACPm7C,OAAQ,cAEV,IAAIgC,EAASrkD,KAAKm1D,gBAAgBjuD,EAAGm9C,QAErC,GAAgB,UAAZ/M,EAAqB,CACvB,IAAIigH,EAAQv3J,KAAKw2J,cAActvJ,EAAGm9C,OAAQn9C,EAAGmsG,MAC7CrzG,KAAKw3J,sBAAwB,CAC3BvlJ,EAAGmI,GAAIrV,GAAGkN,EAAI2G,GAAO2+I,GAAOtlJ,QAEzBjS,KAAKw3J,sBAAwBx9I,GAAYjV,GAIhD,OAFA/E,KAAKy3J,mBAAqBpzG,EAAOzqC,MACjC5Z,KAAK22D,oBAAqB,EACnB,kDAAoDtS,EAAOzqC,MAAQ,QAAUyqC,EAAOrwC,OAAO,GAAG7N,MAAQ,UAAY,WACxHnG,MACH43C,SAAUnvC,GAAK,SAAUivJ,EAAQ3yJ,EAAGsF,GAClC,IAAIub,EAAQ5lB,KAER0sB,EAAUgqB,GAAYjL,aACtB5zB,EAAMe,GAAO5Y,KAAK6qB,OACtBxgB,EAAKmN,MAAMghB,QAAU,OACrB,IAAIxgB,EAAO1N,SAAS8uC,iBAAiBs+G,EAAOzlJ,EAAG4F,EAAI4B,EAAIzZ,KAAKoN,UAAUme,gBAAkB,GACpFrkB,EAAK8Q,EAAOhY,KAAK0Y,OAAOV,GAAQ,KAChC0E,EAAQgQ,EAAQhQ,MAAM2nC,OAE1B,GAAIn9C,GAAMA,EAAGm9C,QAAU3nC,KAAW1c,KAAK23J,wBAA0BzwJ,EAAGm9C,QAAUrkD,KAAK43J,sBAE3D,cAAlBlrI,EAAQ21B,QAA0BxzB,GAAG7W,IAAShY,KAAM,CACtD,IAAKA,KAAK8M,UAAU,0BAA2B,CAAC4P,EAAOxV,EAAGm9C,OAAQt/C,IAAK,OACvE,IAAI8yJ,EAAc73J,KAAKktF,eAAexwE,GAClCo7I,EAAY93J,KAAKktF,eAAehmF,EAAGm9C,QAEnCt/C,EAAEsV,UACJra,KAAK+3J,YAAchzJ,EAAE+C,OACrB9H,KAAK+3J,YAAYvgJ,MAAMghB,QAAU,OACjCx4B,KAAK6qB,MAAMxS,WAAWX,YAAY1X,KAAK+3J,cAGzC/3J,KAAK6zJ,WAAWn3I,EAAOo7I,GAAaD,EAAcC,EAAY,EAAI,IAClE93J,KAAK43J,oBAAsB1wJ,EAAGm9C,OAC9BrkD,KAAK23J,wBAAyB,EAYlC,GARIzwJ,GAAMA,EAAGm9C,QAAU3nC,IAErB1c,KAAK23J,wBAAyB,GAGhCttJ,EAAKmN,MAAMghB,QAAU,QACrBk/H,EAAOzlJ,EAAIylJ,EAAOzlJ,EAAIjS,KAAKw3J,sBAAsBvlJ,EACjDylJ,EAAOj+I,EAAI5B,EAAI4B,EACXi+I,EAAOzlJ,EAAI4F,EAAI5F,EAAGylJ,EAAOzlJ,EAAI4F,EAAI5F,MAAO,CAC1C,IAAIyJ,EAAM7D,EAAI5F,EAAIjS,KAAK6qB,MAAMhR,YAAc7Z,KAAK8tJ,aAAe9tJ,KAAKy3J,mBAChEC,EAAOzlJ,EAAIyJ,IAAKg8I,EAAOzlJ,EAAIyJ,GAEjCg7B,GAAYyC,OAAQ,EAChBn5C,KAAKqrB,qBAAoBrrB,KAAKqrB,mBAAqB7oB,OAAOgyB,aAAax0B,KAAKqrB,sBAC9C,IAA9BrrB,KAAKoN,UAAUsd,aAAsB1qB,KAAKqrB,mBAAqBniB,GAAM,SAAU+U,GACjF,OAAO2H,EAAM0F,oBAAoBrN,KAChCje,KAAM,CAACoa,GAAIrV,IAAK,QAClB/E,MACHg6C,aAAcvxC,GAAK,SAAUQ,EAAGoB,GAC9BrK,KAAK22D,mBAAqB,KACtB32D,KAAKqrB,qBAAoBrrB,KAAKqrB,mBAAqB7oB,OAAOgyB,aAAax0B,KAAKqrB,qBAChFpgB,GAAOZ,GAEHrK,KAAK+3J,aAAa9sJ,GAAOjL,KAAK+3J,aAClC,IAAI7wJ,EAAKwvC,GAAYjL,aAAa/uB,MAClC1c,KAAK8M,UAAU,yBAA0B,CAAC5F,EAAGm9C,OAAQrkD,KAAK43J,oBAAqB3uJ,MAC9EjJ,MACHg5C,MAAO,cAEAx3C,IACT09G,EAAU,CACRroD,kBAAkB,EAClBhd,MAAOpxC,GAAK,SAAUib,EAAG3e,GACvB,IAAK/E,KAAKq3J,aAAatyJ,IAAM/E,KAAK+nG,YAAa,OAAO,EACtD,IAAI7gG,EAAKlH,KAAK0Y,OAAO3T,GACrB,IAAKmC,IAAOlH,KAAK8M,UAAU,qBAAsB,CAAC5F,EAAGm9C,OAAQt/C,IAAK,OAAO,EACzE2xC,GAAYmB,cAAgB,CAC1Bx1C,KAAM68G,EACNxiG,MAAOxV,EACPm7C,OAAQ,cAKV,IAHA,IAAIruC,EAAShU,KAAKm1D,gBAAgBjuD,EAAGm9C,QAAQrwC,OACzC7N,EAAO,SAEFzF,EAAI,EAAGA,EAAIsT,EAAOvS,OAAQf,IACjC,GAAIsT,EAAOtT,GAAI,CACbyF,EAAO6N,EAAOtT,GAAGyF,KACjB,MAKJ,OADAnG,KAAK22D,oBAAqB,EACnB,qCAAuCxwD,EAAO,WACpDnG,MACHg5C,MAAOvwC,GAAK,SAAUib,EAAGnW,EAAGxI,GAC1B,IAAI+C,EAAS/C,EAETA,EAAEsV,SAAWra,KAAKg4J,oBAAmBlwJ,EAAS9H,KAAKg4J,mBACvD,IAAI9wJ,EAAKlH,KAAK0Y,OAAO5Q,GACrB,IAAKZ,EAAI,OAAO,EAChB,IAAIwV,EAAQg6B,GAAYjL,aAAa/uB,MAAM2nC,OAE3C,GAAI3nC,GAASxV,EAAGm9C,OAAQ,CACtB,IAAKrkD,KAAK8M,UAAU,qBAAsB,CAAC4P,EAAOxV,EAAGm9C,OAAQt/C,IAAK,OAClE,IAAI8yJ,EAAc73J,KAAKktF,eAAexwE,GAClCo7I,EAAY93J,KAAKktF,eAAehmF,EAAGm9C,QACvCrkD,KAAK6zJ,WAAWn3I,EAAOo7I,GAAaD,EAAcC,EAAY,EAAI,IAClE93J,KAAK8M,UAAU,oBAAqB,CAAC4P,EAAOxV,EAAGm9C,OAAQt/C,OAExD/E,MACHw5C,QAAS/wC,GAAK,SAAUib,EAAGnW,EAAGxI,GAC5B,IAAIihB,EAAShmB,KAET0sB,EAAUgqB,GAAYjL,aAE1B,GAAsB,cAAlB/e,EAAQ21B,QAA0B31B,EAAQrqB,MAAQ68G,EAAS,OAAO,MACtE,IAAIp3G,EAAS/C,EAAE+C,QAE2C,IAAlDA,EAAOqQ,WAAa,IAAIxL,QAAQ,gBAEtC,KADA7E,EAASA,EAAOuQ,YACH,OAcf,OAXIrY,KAAKqrB,qBAAoBrrB,KAAKqrB,mBAAqB7oB,OAAOgyB,aAAax0B,KAAKqrB,sBAC9C,IAA9BrrB,KAAKoN,UAAUsd,aAAsB1qB,KAAKqrB,mBAAqBniB,GAAM,SAAU+U,GACjF,OAAO+H,EAAOsF,oBAAoBrN,KACjCje,KAAM,CAACoa,GAAIrV,IAAK,MAEf+C,GAAU9H,KAAKg4J,oBAEbh4J,KAAKg4J,mBAAmB58I,GAAUpb,KAAKg4J,kBAAmB,wBAC9D98I,GAAOpT,EAAQ,yBAGV9H,KAAKg4J,kBAAoBlwJ,IAC/B9H,MACHg6C,aAAcvxC,GAAK,SAAUQ,EAAGqhC,GAC9BtqC,KAAK22D,mBAAqB,KACtB32D,KAAKqrB,qBAAoBrrB,KAAKqrB,mBAAqB7oB,OAAOgyB,aAAax0B,KAAKqrB,qBAC5ErrB,KAAKg4J,mBAAmB58I,GAAUpb,KAAKg4J,kBAAmB,wBAC9D/sJ,GAAOq/B,KACNtqC,QAIHwB,IACFk1C,GAAYsB,QAAQh4C,KAAKmS,QAAS+sG,GAClCxoE,GAAYE,QAAQ52C,KAAKmS,QAAS+sG,GAAS,GAC3Cl/G,KAAK6M,YAAY,cAAc,WAC7B,OAAO6pC,GAAYO,OAAOioE,MAEvBl/G,KAAKuqB,cAAc5qB,EAAQ8J,OAAOzJ,KAAMsqB,IAAY,IAGpD9oB,IA4DPy2J,GAAU,CACZv1G,UAAW,SAAUnuC,EAASkuC,GAC5B,GAAIluC,EAAQkX,SAAWg3B,EAAU,OAAO,EACxCluC,EAAQP,OAAShL,EAAYuL,EAAQP,UAAUhU,KAAKiH,OAAO+M,OAAwBO,EAAQP,OAC3FO,EAAQ6uD,OAASp6D,EAAYuL,EAAQ6uD,UAAUpjE,KAAKiH,OAAOm8D,OAAwB7uD,EAAQ6uD,OAC3F7uD,EAAQyP,YAAczP,EAAQyP,aAAe,GAE/C81F,WAAY,SAAUr5G,EAAKggC,GAGzB,IAFA,IAAI90B,GAAS,EAEJjL,EAAI,EAAGiL,EAAS,GAAKjL,EAAID,EAAIgB,OAAQf,IACxC+/B,EAAKhgC,EAAIC,MAAKiL,EAASjL,GAG7B,OAAOiL,GAETusJ,gBAAiB,SAAUxuJ,EAAMoU,EAASvG,GACxC,IAAI6L,EAAQ,GACR1G,EAAQ,EAmDZ,OAlDAhT,EAAK4yB,QAAQ7zB,GAAK,SAAUq7C,EAAYnW,GACtC,IAAIhqB,EAAMmgC,EAAW,GACjBq0G,EAAc,GACd12J,EAASkiB,EAAIliB,OACjBkiB,EAAI2Y,QAAQ7zB,GAAK,SAAUmb,EAAMw/D,GAG/B,IAFA,IAAI/+B,EAASvmC,EAAQslE,EAAM1mE,GAElB4tB,EAAI,EAAGA,EAAI+Z,EAAO9sC,GAAO9V,OAAQ6oC,IAAK,CAC7C,IAAIt2B,EAASqwC,EAAO9sC,GAAO+yB,GAC3B,GAAKt2B,GAAYoP,EAAMuqB,IAAQvqB,EAAMuqB,GAAKrD,GAA1C,CAUA,GATAt2B,EAASnM,EAAKmM,GAAU,CACtB7N,KAAM,KAGJid,EAAMuqB,IAAQvqB,EAAMuqB,GAAKrD,IAAc,IAAR84C,IACjCpvE,EAAOuwC,QAAUnhC,EAAMuqB,GAAKrD,GAC5BlnB,EAAMuqB,GAAKrD,GAAK,GAGdt2B,EAAOuwC,QAAS,CAClB,IAAIA,EAAU7qC,KAAKwJ,IAAIlP,EAAOuwC,QAAS9iD,EAAS2hF,GAChDhgE,EAAMuqB,EAAM,GAAKvqB,EAAMuqB,EAAM,IAAM,GACnCvqB,EAAMuqB,EAAM,GAAGrD,GAAKt2B,EAAOuwC,QAAUA,EACrCvwC,EAAOuwC,QAAUA,EAGfvwC,EAAOywC,SAAsB,IAAXhjD,IACpBuS,EAAO8F,QAAU9F,EAAO8F,QAAU9Z,KAAKiH,OAAOskB,iBAAmBvX,EAAOywC,QACxEzwC,EAAOywC,QAAU,MAGnB,IAAI2zG,EAAQ,CACVl0G,IAAKlwC,EAAO6tH,OAAS7hI,KAAKw2J,cAAcnyG,EAAOn9C,GAAIojC,GAAG7zB,UAAYzC,EAAO7N,OAAS6N,EAAO+hD,UAAY/1D,KAAKyjF,iBAAiBzvE,EAAO+hD,WAAW39C,WAAa,IAC1JD,UAAW,qBAA4BZ,EAAQ,UAAYvD,EAAOsH,KAAO,IACzE9D,MAAO,CACLsC,QAAS9F,EAAO8F,QAAU9Z,KAAKiH,OAAOskB,iBAAmB,KACzD3R,MAAO5F,EAAOuwC,QAAU,OAASF,EAAOzqC,MAAQ,MAElD0qC,KAAMtwC,EAAOuwC,SAAWvwC,EAAOywC,QAAU,CACvCF,QAASvwC,EAAOuwC,SAAW,EAC3BE,QAASzwC,EAAOywC,SAAW,GACzB,MAEN0zG,EAAY7tH,GAAK6tH,EAAY7tH,IAAM,GACnC6tH,EAAY7tH,GAAG84C,GAAOg1E,MAEvBp4J,OACoB0J,EAAKikC,GAAf,UAATp2B,EAA+B4gJ,EAAY3hI,OAAOstB,GAA6BA,EAAWttB,OAAO2hI,GACrGz7I,GAASjb,IACRzB,OACI0J,GAETk5C,eAAgB,SAAUruC,EAAS7K,EAAMgT,GACvC,IAAIoB,EAAU9d,KAAKiH,OAAO6W,QACtBylB,EAAMvjC,KAAKwjC,eAAc,GACzBjI,EAA0B,QAAfhnB,EAAQopC,IAAgBgG,EAAAA,EAAW3jD,KAAKsjD,cAAc/uC,GACjE8jJ,EAAmB,EACnBC,EAAoB,EACpBx0G,EAAa,GACbL,EAAgB,EAChBj/B,EAAS,GAuGb,OAtGA9H,EAAQA,GAAS,EAAInI,EAAQyP,YAC7Bta,EAAOA,GAAQ,GACf1J,KAAK2yJ,QAAQlqJ,GAAK,SAAUkb,GAO1B,IANA,IAAI/J,EAAQ,EACR2+I,EAAUv4J,KAAK8jC,QAAQngB,GACvBypE,EAAWptF,KAAKimD,aAAatiC,GAC7BogC,EAAS,GACTy0G,GAAU,EAEL1qJ,EAAI4O,EAAO5O,EAAIgQ,EAAQrc,OAAQqM,IAAK,CAC3C,IAAIu2C,EAASvmC,EAAQhQ,GAAG5G,GACpB+lF,EAAWjtF,KAAKktF,eAAe7oC,GAAU3nC,EAE7C,GAAIoB,EAAQhQ,GAAI,CAId,GAHA8L,GAASkE,EAAQhQ,GAAG8L,MACH,IAAbwzE,GAAgB5oE,EAAOjjB,KAAKuc,EAAQhQ,GAAG8L,OAEvCA,EAAQ2hB,GAAYztB,EAAI4O,EAAO,CAEjC+mC,EAAgB31C,EAChB,MAGF,GAAqB,cAAjByG,EAAQrP,MAAwC,aAAhBqP,EAAQrP,OAErC,IAF4DlF,KAAK85G,WAAWv2E,GAAK,SAAUljC,GAChG,OAAOA,EAAIgkD,QAAUA,GAAUhkD,EAAIsjB,KAAOA,KACjC,CACT,IAAI2gC,EAGJ,GAFItkD,KAAKgmF,UAAS1hC,EAAOtkD,KAAKgmF,QAAQriE,EAAK0gC,IAEvCC,GAAQtkD,KAAKktF,eAAe7oC,KAAY3nC,EAAO,CACjD,IAAI+7I,EAAYz4J,KAAKktF,eAAe5oC,EAAK,IAErCm0G,EAAY/7I,IACd4nC,EAAK,GAAKA,EAAK,IAAM5nC,EAAQ+7I,GAC7Bn0G,EAAK,GAAKA,EAAK,GAAKA,EAAK,GAAKi0G,EAAQj0G,EAAK,IAAMtkD,KAAKuiH,QAAQ5+F,EAAK2gC,EAAK,IAAM,KAC9EA,EAAK,GAAKD,GAId,IAAKC,GAAQA,GAAQA,EAAK,IAAM3gC,GAAO2gC,EAAK,IAAMD,EAAQ,CACxD,IAAIL,EAAYM,GAAQA,EAAK,GAAKA,EAAK,GAAKtkD,KAAKu0J,cAAclwG,GAAUrkD,KAAKuiH,QAAQ5+F,EAAK0gC,GAAU,GACjGlsC,EAAYnY,KAAK04J,OAAO/0I,EAAK0gC,GAAU,KAAOvmC,EAAQhQ,GAAGwN,KAAO,KAAOgpC,EAAO,uBAAyBA,EAAK,IAAM,IAAM,IACxH9sC,EAAQ,CACVsC,OAAQwqC,GAAQA,EAAK,GAAK,EAAI,QAAUi0G,EAAQnwH,SAAWpoC,KAAKiH,OAAO8jB,WAAa,KACpFnR,MAAO0qC,GAAQA,EAAK,GAAK,EAAI,OAASxmC,EAAQhQ,GAAG8L,MAAQ,MAE3DmqC,EAAOxiD,KAAK,CACV2iD,IAAKF,EACL7rC,UAAWA,EACXX,MAAOA,EACP8sC,KAAMA,EAAO,CACXC,QAASD,EAAK,GACdm0G,UAAWz4J,KAAKktF,eAAe5oC,EAAK,IACpCG,QAASH,EAAK,IACZ,QAGFN,GAA2B,IAAdA,KACfq0G,EAAmB3+I,KAAKgC,IAAIuxE,EAAW,EAAGorE,GAC1CC,EAAoB5+I,KAAKgC,IAAI0xE,EAAW,EAAGkrE,IAG7CE,EAAUA,KAAax0G,OACdM,IACTP,EAAOxiD,KAAK,CACVo3J,SAAS,IAEXN,EAAmB3+I,KAAKgC,IAAIuxE,EAAW,EAAGorE,GAC1CC,EAAoB5+I,KAAKgC,IAAI0xE,EAAW,EAAGkrE,MAM9C/jJ,EAAQqkJ,WAAYJ,GAAS10G,EAAWviD,KAAKwiD,KACjD/jD,OAECs4J,GAAqBD,IACnB9jJ,EAAQ0xE,OACVniC,EAAWriD,OAAS62J,EACpBx0G,EAAaA,EAAWx+C,KAAI,SAAU2X,GACpC,IAAK,IAAIvc,EAAIuc,EAAKxb,OAAS,EAAGf,GAAK,EAAGA,IACpC,GAAIuc,EAAKvc,GAAG4jD,MAAQrnC,EAAKvc,GAAG4jD,KAAKC,QAAS,CACxCtnC,EAAKvc,GAAG4jD,KAAKC,QAAU7qC,KAAKwJ,IAAIjG,EAAKvc,GAAG4jD,KAAKC,QAAStnC,EAAKxb,OAASf,GACpE,MAKJ,OADAuc,EAAKxb,OAAS42J,EACPp7I,MAIXvT,EAAKnI,KAAKuiD,IAGRL,EAAezjD,KAAK4iD,eAAeruC,EAAS7K,EAAM+5C,IAEhDlvC,EAAQ6uD,SAAQ15D,EAAO1J,KAAKk4J,gBAAgBxuJ,EAAMoU,EAAS,WAC3DvJ,EAAQP,SAAQtK,EAAO1J,KAAKk4J,gBAAgBxuJ,EAAMoU,EAAS,WAC5C,QAAfvJ,EAAQopC,KAAe39C,KAAK64J,cAAcnvJ,EAAM8a,EAAQ6zI,EAAkB9jJ,IAEzE7K,GAGTmvJ,cAAe,SAAUnvJ,EAAM8a,EAAQ6zI,EAAkB9jJ,GACnD8jJ,GAAoB9jJ,EAAQ0xE,OAAMzhE,EAAO/iB,OAAS42J,GAGtD,IAFA,IAAIza,EAAS,EAEJl9I,EAAI,EAAGA,EAAI8jB,EAAO/iB,OAAQf,IACjCk9I,GAAUp5H,EAAO9jB,GAGfk9I,EAAS59I,KAAKsjD,cAAc/uC,IAC9B7K,EAAK,GAAG4yB,SAAQ,SAAUrf,GACxB,IAAK,IAAI7b,EAAK,EAAGA,EAAK6b,EAAKxb,OAAQL,IAC7B6b,EAAK7b,IAAO6b,EAAK7b,GAAIoW,OAASyF,EAAK7b,GAAIoW,MAAMoC,QAAOqD,EAAK7b,GAAIoW,MAAMoC,MAAQ,YAKvFkpC,cAAe,SAAUH,EAAWpuC,GAClC,IAAIia,EAAY1W,GAAO,OAsCvB,OArCA6qC,EAAUrmB,QAAQ7zB,GAAK,SAAUo6C,EAAOniD,GACtC,IAAI0jD,EAAYtsC,GAAO,QAAS,CAC9B0D,MAAS,qBAAuBxb,KAAK6qB,MAAM1S,WAAa5D,EAAQ6mB,WAAa,cAAgB,IAC7F5jB,MAAS,2BACTtQ,GAAMlH,KAAK6qB,MAAM7b,aAAa,QA0BhC,GAxBA6zC,EAAMvmB,SAAQ,SAAU3Y,GACtB,IAAInG,EAAK1F,GAAO,MAChB6L,EAAI2Y,SAAQ,SAAU1Y,GACpB,IAAKA,EAAK+0I,QAAS,CACjB,IAAI/6I,EAAK9F,GAAO,MAIhB,IAAK,IAAIzG,KAHTuM,EAAGnH,UAAYmN,EAAKsgC,IACpBtmC,EAAGzF,UAAYyL,EAAKzL,UAEJyL,EAAKpM,MACnBoG,EAAGpG,MAAMnG,GAAOuS,EAAKpM,MAAMnG,GAGzBuS,EAAK0gC,OACP1mC,EAAG4mC,QAAU5gC,EAAK0gC,KAAKC,QACvB3mC,EAAG8mC,QAAU9gC,EAAK0gC,KAAKG,SAGzBjnC,EAAG9F,YAAYkG,OAGnBwmC,EAAU1sC,YAAY8F,MAExBgR,EAAU9W,YAAY0sC,GAElB1jD,EAAI,EAAIiiD,EAAUlhD,OAAQ,CAC5B,IAAIkjD,EAAK7sC,GAAO,MAAO,CACrB0D,MAAS,0BAEXgT,EAAU9W,YAAYitC,MAEvB3kD,OACIwuB,IAIPsqI,GAAU,CACZpyE,YAAa,SAAUnyE,GACjBvU,KAAKy4E,cACP94E,EAAQ8J,OAAO8K,EAAS,CACtB+wE,YAAY,IAEhB,IAAIxzE,EAAOyC,EAAQwwE,YACnB,GAAY,OAARjzE,GAAyB,SAARA,GAAmByC,EAAQwyE,WAAaxyE,EAAQ8O,OAAQ,OAAOrjB,KAElFuU,EAAQwyE,UAAW,EACnBxyE,EAAQmQ,QAAU1b,EAAYuL,EAAQmQ,SAAW,MAAQnQ,EAAQmQ,QACjE,IAAIxf,EAAe,OAAR4M,EAAgBw0E,GAAMtmF,KAAMuU,GAAW22E,GAAQlrF,KAAMuU,GAGhE,OAFArP,EAAK,GAAGme,OAASrjB,KAAK+4J,iBAAiBxkJ,UAChCA,EAAQwyE,SACR7hF,GAGX6zJ,iBAAkB,SAAUxkJ,GAC1B,IAAIjQ,EAAOiQ,EAAQwwE,YACfjnE,EAAU9d,KAAKiH,OAAO6W,QACtBuF,EAAS,GA4Db,OA3DKrjB,KAAKg5J,cAAah5J,KAAKg5J,YAAc,IACrCh5J,KAAKg5J,YAAY10J,KAAOtE,KAAKg5J,YAAY10J,GAAQ,IAClDiQ,EAAQixE,WAAqB,SAARlhF,IAAiB+e,EAAS,CAAC,CAClD,EAAGrjB,KAAKi5J,mBAAmB1kJ,EAAQixE,UAAUlqE,IAAKhX,IACjD,CACD,EAAG,OAEkB,IAAnBiQ,EAAQP,SAAkBqP,EAASrjB,KAAKk5J,kBAAkB3kJ,EAAS,SAAU8O,EAAQ/e,IACzFtE,KAAKkF,KAAKiG,MAAK,SAAU9K,GAGvB,IAFA,IAAIsjB,EAAM,GAEDjjB,EAAI,EAAGA,EAAIod,EAAQrc,OAAQf,IAAK,CACvC,IAAIy4J,EAAUn5J,KAAK04J,OAAOr4J,EAAI6G,GAAI4W,EAAQpd,GAAGwG,IACzCkyJ,EAAYt7I,EAAQpd,GAAG2J,KAAK8N,UAC5BkhJ,EAAU,GACV/0G,EAAO,KACPj6C,EAAO,KAaX,GAXIrK,KAAK+lF,cAAgBzhC,EAAOtkD,KAAKgmF,QAAQ3lF,EAAI6G,GAAI4W,EAAQpd,GAAGwG,MAC9DmD,EAAOrK,KAAKs5J,YAAY,CACtB31I,IAAK2gC,EAAK,GACVD,OAAQC,EAAK,KAEf+0G,EAAU,sBAAwB/0G,EAAK,IAAM,KACxCj6C,EAAOrK,KAAKglD,YAAY,CAC7BrhC,IAAKtjB,EAAI6G,GACTm9C,OAAQvmC,EAAQpd,GAAGwG,MAGhBmD,EAAM,CACTA,EAAOyN,GAAO,MAAO,CACnB0D,MAAS29I,EACT3hJ,MAAO,sBAET,IAAI+hJ,EAAQz7I,EAAQpd,GAAG2J,KAElByT,EAAQpd,GAAGyxJ,WACdoH,EAAQzhJ,GAAO,MAAO,CACpB0D,MAAS49I,EACT5hJ,MAAO,sBAGTxX,KAAK4qB,MAAMlT,YAAY6hJ,IAGzBA,EAAM7hJ,YAAYrN,GAGpBsZ,EAAIjjB,GAAKV,KAAKw5J,oBAAoBnvJ,EAAM,CAAC8uJ,EAASC,EAAWC,GAAShyJ,KAAK,KAAM/C,GAGnF+e,EAAOA,EAAO5hB,QAAUkiB,IACvB3jB,OACoB,IAAnBuU,EAAQ6uD,QAAoBpjE,KAAKiH,OAAOm8D,SAAQ//C,EAASrjB,KAAKk5J,kBAAkB3kJ,EAAS,SAAU8O,EAAQ/e,IAC3GiQ,EAAQyuC,WAAqB,SAAR1+C,IAAiB+e,EAASA,EAAOmT,OAAO,CAAC,CAChE,EAAG,IACF,CACD,EAAGx2B,KAAKi5J,mBAAmB1kJ,EAAQyuC,UAAU1nC,IAAKhX,OAE7C+e,GAET61I,kBAAmB,SAAU3kJ,EAASgD,EAAO8L,EAAQ/e,GAInD,IAHA,IAAIwZ,EAAU9d,KAAKiH,OAAO6W,QACtB27I,EAAK,GAEAnvH,EAAI,EAAGA,EAAIxsB,EAAQ,GAAGvG,GAAO9V,OAAQ6oC,IAAK,CAGjD,IAFA,IAAIovH,EAAO,GAEFh5J,EAAI,EAAGA,EAAIod,EAAQrc,OAAQf,IAAK,CACvC,IAAIsT,EAAS8J,EAAQpd,GAAG6W,GAAO+yB,GAE/B,GAAIt2B,EAAQ,CAEV,IAAIovE,EAAMpvE,EAAOuwC,QAAUzmC,EAAQpd,EAAIsT,EAAOuwC,QAAU,GAAGr9C,GAAK4W,EAAQpd,GAAGwG,GACvEmD,EAAgB,UAATkN,EAAoBvX,KAAKw2J,cAAcpzE,EAAK94C,GAAKtqC,KAAK22J,cAAcvzE,EAAK94C,GAEpF,GAAIjgC,EAAM,CACR,IAAIzE,EAAO,CAACyE,EAAK8N,UAAWnE,EAAOsH,KAAO,GAAI/D,GAC9CmiJ,EAAKh5J,GAAKV,KAAKw5J,oBAAoBnvJ,EAAMzE,EAAKyB,KAAK,KAAM/C,IACrD0P,EAAOuwC,SAAWvwC,EAAOywC,UAASg1G,EAAGl4J,KAAK,CAAC+oC,EAAG5pC,EAAG,CACnD6jD,QAASvwC,EAAOuwC,QAAU,GAAK,EAC/BE,QAASzwC,EAAOywC,QAAU,GAAK,GAC9Bi1G,EAAKh5J,WAGV,IAAK,IAAIgjB,EAAI,EAAGA,EAAI+1I,EAAGh4J,OAAQiiB,IAAK,CAClC,IAAIk9C,EAAK64F,EAAG/1I,GAAG,GACXi2I,EAAMF,EAAG/1I,GAAG,GACZk2I,EAAMH,EAAG/1I,GAAG,GACZi2I,EAAM/4F,EAAGrc,SAAW7jD,GAAKk5J,EAAMh5F,EAAGnc,SAAWna,IAAGovH,EAAKh5J,GAAK+4J,EAAG/1I,GAAG,KAK1EL,EAAOA,EAAO5hB,QAAUi4J,EAG1B,OAAOr2I,GAETw2I,gBAAiB,SAAUx2I,EAAQy2I,EAAcx1J,GAC/C,MAAmD,OAA5C+e,EAAO,UAAUmT,OAAOlyB,EAAM,WAAsB,KAAO0rE,GAAMI,SAAS/sD,EAAO,UAAUmT,OAAOlyB,EAAM,aAAew1J,GAEhIN,oBAAqB,SAAUnvJ,EAAMzE,EAAMtB,GACzC,GAAItE,KAAKg5J,YAAY10J,GAAMsB,GAAO,OAAO5F,KAAKg5J,YAAY10J,GAAMsB,GAC9D,IAAI+kF,EAAY3qF,KAAK+5J,UAAU1vJ,GAE3Bi+H,EAAKt4D,GAAMI,SAASua,EAAU,sBAAwB,SACtD7hE,EAAS,CACXuhE,gBAAiBi+C,EACjB0xB,SAAqD,IAA3CrvE,EAAU,aAAajgF,QAAQ,KAAM,IAE/CqxD,MAAOiU,GAAMI,SAASua,EAAiB,OACvC/B,UAAW+B,EAAU,cACrBF,iBAAkBzqF,KAAK65J,gBAAgBlvE,EAAW29C,EAAI,SACtD2xB,gBAAiBj6J,KAAK65J,gBAAgBlvE,EAAW29C,EAAI,QACrD59C,kBAAmB1qF,KAAK65J,gBAAgBlvE,EAAW29C,EAAI,UACvD4xB,eAAgBl6J,KAAK65J,gBAAgBlvE,EAAW29C,EAAI,QAElDphF,EAAgB,OAAR5iD,EAAgBwkB,EAAS9oB,KAAKm6J,mBAAmBxvE,EAAWtgF,EAAMye,GAE9E,OADA9oB,KAAKg5J,YAAY10J,GAAMsB,GAAQshD,EACxBA,GAGX+xG,mBAAoB,SAAU39I,EAAKhX,GACjCgX,EAAM3b,EAAQ8J,OAAO6R,GAAO,GAAI,CAC9B8oG,WAAY,SACZ,cAAe,SACf,aAAc,SAEhB,IAAIg2C,EAAS,GAEb,IAAK,IAAI15J,KAAK4a,EACZ8+I,GAAU15J,EAAI,IAAM4a,EAAI5a,GAAK,IAG/B,IAAI2J,EAAOyN,GAAO,MAAO,CACvBN,MAAO4iJ,IAGTp6J,KAAK4qB,MAAMlT,YAAYrN,GAEvB,IAAImN,EAAQxX,KAAKw5J,oBAAoBnvJ,EAAM+vJ,EAAQ91J,GAGnD,OADA2G,GAAOZ,GACAmN,GAET2iJ,mBAAoB,SAAUxvE,EAAWtgF,EAAMye,GAC7C,IAAIo+B,EAAQ,CACVm/B,KAAM,GACNg0E,UAAW,GACX1zD,OAAQ,IAkDV,OA/CAz/C,EAAMm/B,KAAKzgF,KAAO+kF,EAAU,eAAejgF,QAAO,OAAS,IAE3Dw8C,EAAMm/B,KAAKi0E,GAAKxxI,EAAOkxI,SACvB9yG,EAAMm/B,KAAKtqB,MAAQ,CACjBsU,IAAKvnD,EAAOizC,OAEmB,WAA7B4uB,EAAU,gBAA2D,KAA5BA,EAAU,iBAAuBzjC,EAAMm/B,KAAKqB,MAAO,GACtD,cAAtCiD,EAAU,0BAAyCzjC,EAAMm/B,KAAK4K,WAAY,GAC9C,WAA5BtG,EAAU,gBAA4BzjC,EAAMm/B,KAAK6K,QAAS,GACpB,iBAAtCvG,EAAU,0BAA4CzjC,EAAMm/B,KAAKk0E,QAAS,GAE9ErzG,EAAMmzG,UAAUG,WAAa1xI,EAAO8/D,UACpC1hC,EAAMmzG,UAAUl6D,SAAWxV,EAAkB,QAAKA,EAAU,eAAiB,SAAW,MACxD,UAA5BA,EAAU,iBAA4BzjC,EAAMmzG,UAAUI,UAAW,GAEjEpwJ,EAAKqG,YAAcrG,EAAKqG,WAAWyH,YAAmE,IAAtD9N,EAAKqG,WAAWyH,UAAUxL,QAAQ,kBAAwBu6C,EAAMmzG,UAAUK,aAAe,IAE7IxzG,EAAMw9B,KAAO,CACXi2E,QAAS,CACPtqF,IAAKvnD,EAAOuhE,kBAIZvhE,EAAO2hE,mBAAkBvjC,EAAMy/C,OAAO16E,MAAQ,CAChDzU,MAAO,OACPukD,MAAO,CACLsU,IAAKvnD,EAAO2hE,oBAGZ3hE,EAAO4hE,oBAAmBxjC,EAAMy/C,OAAOn7E,OAAS,CAClDhU,MAAO,OACPukD,MAAO,CACLsU,IAAKvnD,EAAO4hE,qBAGZ5hE,EAAOmxI,kBAAiB/yG,EAAMy/C,OAAOntF,KAAO,CAC9ChC,MAAO,OACPukD,MAAO,CACLsU,IAAKvnD,EAAOmxI,mBAGZnxI,EAAOoxI,iBAAgBhzG,EAAMy/C,OAAOptF,IAAM,CAC5C/B,MAAO,OACPukD,MAAO,CACLsU,IAAKvnD,EAAOoxI,kBAGThzG,GAET6yG,UAAW,SAAU1vJ,GAGnB,OADI7H,OAAO81B,iBAA0B91B,OAAO81B,iBAAiBjuB,GAAmBA,EAAKqzF,eAWrFk9D,GAAS,CACXh1J,KAAM,YACNmE,SAAU,CACR8qD,UAAW,EACXF,WAAY,EACZhpC,SAAU,EACVoiI,YAAa,IACb/kI,MAAM,EACNk6B,WAAW,EACXC,YAAY,EACZwjC,WAAW,EACX3yE,QAAQ,EACRm2I,gBAAgB,EAChBM,cAAc,EACdmC,SAAS,EACTC,SAAS,EACT15F,UAAW,GACXuT,YAAY,GAEd50C,MAAO,WACL9xB,KAAK+J,SAASghB,UAAY6iB,GAAQ7iB,UAClC/qB,KAAK+J,SAASykJ,aAAe5gH,GAAQ7iB,UAAY,EACjD/qB,KAAK+J,SAASwhB,gBAAkBqiB,GAAQM,UAAkC,EAAtBN,GAAQpE,YAC5DxpC,KAAK+J,SAASkkJ,eAAuC,EAAtBrgH,GAAQ2C,YAAkB3C,GAAQpE,aAEnEnX,SAAU,CACRwoI,mBAAoB,WAClB,OAAO,GAETC,iBAAkB,WAChB,OAAO,GAETC,qBAAsB,SAAUh2J,EAAGmC,GACjCA,EAAKlH,KAAK0Y,OAAO3T,GACjB,IAAIkY,EAAOjd,KAAK8jC,QAAQ58B,EAAGyc,KACvBpU,EAAMvP,KAAKm1D,gBAAgBjuD,EAAGm9C,QAC9B1rC,EAAM5T,EAAE+C,OAIRtG,GADoB,YAAZmX,EAAIrU,KAAqBqU,EAAIqiD,QAAU/9C,EAAK/V,EAAGm9C,SAAW90C,EAAI2rF,YACtD3rF,EAAI2rF,WAAa3rF,EAAI4rF,aACrClmF,EAAS,GAIb,OAHAA,EAAO/N,EAAGm9C,QAAU7iD,EACpBxB,KAAKklC,WAAWh+B,EAAGyc,IAAK1O,EAAQjV,KAAKoN,UAAU4tJ,gBAAkB,SAAW,QAC5Eh7J,KAAK8M,UAAU,UAAW,CAAC5F,EAAGyc,IAAKzc,EAAGm9C,OAAQ7iD,KACvC,GAETy5J,kBAAmB,SAAUl2J,GAC3B,IAAImC,EAAKlH,KAAK0Y,OAAO3T,GACjBm2J,EAAOl7J,KAAK8jC,QAAQ58B,EAAGyc,KACvBpU,EAAMvP,KAAKm1D,gBAAgBjuD,EAAGm9C,QAQlC,OAPArkD,KAAK2yJ,SAAQ,SAAUwI,GACrB,IAAIl+I,EAAOjd,KAAKkF,KAAKklB,KAAK+wI,GACtBl+I,GAAQA,EAAK/V,EAAGm9C,SAAW90C,EAAI2rF,aAAYj+E,EAAK/V,EAAGm9C,QAAU90C,EAAI4rF,iBAEvE+/D,EAAKh0J,EAAGm9C,QAAU90C,EAAI2rF,WACtBl7F,KAAK8M,UAAU,UAAW,CAAC5F,EAAGyc,IAAKzc,EAAGm9C,QAAQ,IAC9CrkD,KAAKmqB,WACE,IAGXs/C,YAAa,CACXsxF,qBAAsB,WACpB,OAAO/6J,KAAKqyB,SAAS0oI,qBAAqBnyJ,MAAM5I,KAAMsG,aAG1Du5C,WAAY,GACZ71C,MAAO,SAAU/C,GACfjH,KAAKqyB,SAAW1yB,EAAQ8J,OAAO,GAAIzJ,KAAKqyB,UAKxCryB,KAAKkjC,YAAYzsB,UADjBuB,s0BAEAhY,KAAKo7J,QAAUp7J,KAAKkjC,YAAYh8B,GAAKlH,KAAK4F,KAAOuE,IACjDnK,KAAKkjC,YAAY/qB,WAAa,gBAC9BnY,KAAKiqB,SAAWjqB,KAAKkjC,YACrBljC,KAAKmS,QAAUnS,KAAKkjC,YAAYxyB,WAChC1Q,KAAK4qB,MAAQ5qB,KAAKmS,QAAQ66B,YAC1BhtC,KAAKqtJ,QAAUrtJ,KAAK4qB,MAAMoiB,YAAYA,YAEtChtC,KAAKgwB,SAASvY,aAAa,OAAQ,QAE9BxQ,EAAOy2D,UAAU19D,KAAKgwB,SAASvY,aAAa,gBAAiB,QAClEzX,KAAKkF,KAAK6rD,WAAW/wD,MAAM,GAC3BA,KAAKkF,KAAK2H,YAAY,UAAWpE,EAAKzI,KAAKq7J,cAAer7J,OAC1DA,KAAKslB,OAAO/jB,KAAKvB,KAAKs7J,eACtBt7J,KAAKukF,SAAW,GAChBvkF,KAAKylF,SAAW,GAChBzlF,KAAKomF,SAAW,GAChBpmF,KAAKu7J,YAAc,GACnBv7J,KAAKg2D,gBAAkB,GACvBh2D,KAAKq0D,iBAAmB,GACxBr0D,KAAKw7J,YAAc,GACnBx7J,KAAKy7J,kBAAoB,GACzBz7J,KAAK04D,eAAiB14D,KAAK07J,eAAiB,EAE5C17J,KAAKwwB,iBAAmB,GACxBxwB,KAAKkF,KAAK2H,YAAY,iBAAkBpE,EAAKzI,KAAK27J,wBAAyB37J,OAC3EA,KAAKkF,KAAK2H,YAAY,kBAAmBpE,EAAKzI,KAAK47J,0BAA2B57J,OAC9EA,KAAK6M,YAAY,cAAc,WAC7B7M,KAAK67J,wBAEL77J,KAAK87J,iCAEP97J,KAAKkF,KAAK2H,YAAY,aAAcpE,GAAK,SAAU+mD,GAC5CA,IACHxvD,KAAKktJ,YAAcltJ,KAAK2pJ,WAAa,EACjC3pJ,KAAKgqJ,WAAWhqJ,KAAKgqJ,UAAU9+H,QAC/BlrB,KAAKmtJ,WAAWntJ,KAAKmtJ,UAAUjiI,QAEnClrB,KAAK+7J,eAAe,MAErB/7J,OACHA,KAAK6M,YAAY,aAAc7M,KAAKg8J,sBACpCh8J,KAAK6M,YAAY,aAAc7M,KAAK+oC,aACpC/oC,KAAK6M,YAAY,YAAa7M,KAAKi8J,cACnCnvJ,EAAU,cAAe,CAAC9M,KAAMiH,KAElCi1J,gBAAiB,WACfl8J,KAAKuzJ,aAAevzJ,KAAK8tJ,aAAexvI,GAAI6pB,WAC5C,IAAIg0H,EAAUn8J,KAAKoN,UAAUme,gBAAkB,EAC/CjU,GAAS,IAAMtX,KAAKo7J,QAAU,yBAA2Bp7J,KAAKoN,UAAU2d,UAAY,oBAAsB/qB,KAAKoN,UAAUgvJ,eAAiBp8J,KAAKoN,UAAU2d,WAAa,OAAS/qB,KAAKoN,UAAU+8I,eAAiB,GAAK,uBAAyB,MAC7O7yI,GAAS,IAAMtX,KAAKo7J,QAAU,0BAA4Be,EAAU,mBAAqBA,EAAU,QAEnGn8J,KAAKk8J,gBAAkB,cAEzBZ,cAAe,WACbt7J,KAAKkF,KAAK2H,YAAY,cAAepE,EAAKzI,KAAK87J,4BAA6B97J,OAC5EA,KAAKkF,KAAK2H,YAAY,cAAepE,EAAKzI,KAAK87J,4BAA6B97J,OAC5EA,KAAKkF,KAAK2H,YAAY,iBAAkBpE,GAAK,WAC3C,OAAOzI,KAAK8pB,OAAOlhB,MAAM5I,KAAMsG,aAC9BtG,OACHA,KAAKkF,KAAK2H,YAAY,iBAAkBpE,EAAKzI,KAAKq8J,iCAAkCr8J,OACpFA,KAAK8pB,UAEPK,QAAS,WACPnqB,KAAK8pB,UAEP+rI,aAAc,WACZ,IAAIjwI,EAAQ5lB,KAEZw0B,aAAax0B,KAAKs8J,cAClBt8J,KAAKs8J,aAAepzJ,GAAM,WACxB0c,EAAM02I,aAAe,EAEhBtzJ,EAAY4c,EAAM22I,sBACrB32I,EAAMm2I,eAAen2I,EAAM22I,2BAEpB32I,EAAM22I,oBAGf32I,EAAMkE,aAGVA,OAAQ,SAAU5iB,EAAIhC,EAAM4M,GAE1B,GAAY,QAARA,IAAkB9R,KAAKs8J,aAA3B,CAEA,IAAKt8J,KAAKukF,SAAS9iF,OAAQ,CACzB,IAAImvB,EAAO5wB,KAAKoN,UAAU0Q,QAE1B,IAAK8S,IAASA,EAAKnvB,OAAQ,CACzB,IAAIzB,KAAKoN,UAAUovJ,aAAcx8J,KAAKkF,KAAKwyB,MAAMj2B,QAAWzB,KAAKk0D,qBAAqBzyD,OAI/E,OAHLzB,KAAKs0D,oBAAsB,EAE3Bt0D,KAAKy8J,oBAITz8J,KAAKk1J,oBAGP,IAAKl1J,KAAKgqB,UAAUhqB,KAAKoN,UAAUlG,KAAOlH,KAAKkmD,aAAc,OAAOlmD,KAAKk8J,kBAEzE,IAAIQ,EAAY18J,KAAKiH,OAAOw9I,eAAiBzkJ,KAAKoN,UAAUy6C,QAE5D,OAAI3gD,IAAc,GAARhC,GAAuB,SAAR4M,GAA2B,UAARA,GAAsB4qJ,GAkBvD18J,KAAK28J,gBACdnoI,aAAax0B,KAAK28J,eAClB38J,KAAK28J,cAAgB,GAGnB38J,KAAK8M,UAAU,iBAAkB,CAAC9M,KAAKkF,QACzClF,KAAKk8J,kBAEAl8J,KAAKs0D,qBAAqBt0D,KAAKo1J,iBAEhCp1J,KAAKioC,iBACHy0H,IAAsB,SAAR5qJ,GAA2B,UAARA,IAAqB5K,EAAIlH,KAAK48J,oBAAoB11J,GAASlH,KAAK68J,sBAAqB,GAAM,IAG7H31J,GAAc,UAAR4K,IACT9R,KAAK8sJ,eAAiB9sJ,KAAK88J,oBAE3B98J,KAAK+8J,sBAIP/8J,KAAKgwB,SAASvY,aAAa,gBAAiBiC,KAAKgC,IAAI1b,KAAKk0D,qBAAqBzyD,OAAQzB,KAAKukF,SAAS9iF,SAErGzB,KAAKgwB,SAASvY,aAAa,gBAAiBzX,KAAKkF,KAAKyM,SAEtD3R,KAAK8M,UAAU,gBAAiB,CAAC9M,KAAKkF,QAC/B,QArBT,IAtBMlF,KAAK28J,eAAenoI,aAAax0B,KAAK28J,oBAErC38J,KAAK28J,eAAiB38J,KAAKg9J,kBAAoB91J,GAOlDlH,KAAKg9J,iBAAmB,KACxBh9J,KAAK28J,cAAgBzzJ,GAAM,WAEzBlJ,KAAK8pB,WACJ9pB,QAVHA,KAAKg9J,iBAAmB91J,EACxBlH,KAAK28J,cAAgBzzJ,GAAM,WAEzBlJ,KAAK8pB,OAAO5iB,GAAI,EAAI4K,KACnB9R,WAuCTi9J,WAAY,SAAU93J,GACpB,IAAI8jF,EAASjpF,KAAKk0D,qBAElB,GAAI/uD,GAAO8jF,EAAOxnF,OAAQ,CAGxB,IAFA,IAAIqc,EAAU,GAELpd,EAAI,EAAGA,EAAIuoF,EAAOxnF,OAAQf,IACjCod,EAAQvc,KAAKvB,KAAKm1D,gBAAgB8zB,EAAOvoF,KAG3C,OAAOod,EACF,OAAOhc,EAAmB9B,KAAKukF,WAExCpvB,gBAAiB,SAAUjuD,GACzB,OAAOlH,KAAKu0J,cAAcrtJ,IAAOlH,KAAKw0D,oBAAoBttD,IAE5D00J,0BAA2B,SAAUsB,GACnC,IAAK,IAAI7rJ,KAAO6rJ,EAAO,CACrB,IAAI74G,EAASrkD,KAAKm1D,gBAAgB9jD,GAClCvL,EAAOu+C,EAAQ,sBAAwBhzC,GACvC,IAAI3B,EAAO,IAAIq2G,GAAe,CAC5B7gH,KAAMg4J,EAAM7rJ,KAGdrR,KAAKwwB,iBAAiBjvB,KAAKmO,GAE3B1P,KAAKmoE,iBAAiBz4D,EAAM20C,KAIhCs3G,wBAAyB,SAAU10J,GACjCjH,KAAKwnE,sBAEDvgE,EAAO6W,SAAW9d,KAAKs0D,qBAAqBt0D,KAAKo1D,eAAenuD,EAAO6W,UAE7Eo3I,kBAAmB,WACjB,GAAIl1J,KAAKoN,UAAU0Q,QAAS,CAC1B9d,KAAKu0J,cAAgB,GACrBv0J,KAAKukF,SAAWvkF,KAAKoN,UAAU0Q,QAC/B9d,KAAKorJ,YAAcprJ,KAAKukF,SAAS9iF,QAAUzB,KAAKiH,OAAO0tD,YAAc,GAErE,IAAK,IAAIj0D,EAAI,EAAGA,EAAIV,KAAKukF,SAAS9iF,OAAQf,IACxCV,KAAKm9J,uBAAuBn9J,KAAKukF,SAAS7jF,IAG5CV,KAAKo9J,mBAAmB,SAAUp9J,KAAKylF,UAEvCzlF,KAAKo9J,mBAAmB,SAAUp9J,KAAKomF,UAEvCpmF,KAAK8M,UAAU,kBAAmB,MAGtCqwJ,uBAAwB,SAAU5tJ,GAChCvP,KAAKu0J,cAAchlJ,EAAIrI,IAAMqI,EACzBvG,EAAYuG,EAAIyE,UAASzE,EAAIyE,OAASzE,EAAIrI,IAC9C,IAAI88B,EAASz0B,EAAI8tJ,UAKjB,GAJIr5H,IAAQz0B,EAAI8tJ,UAAY7yJ,EAAUw5B,EAAQhkC,KAAKyM,SACnD8C,EAAIqK,MAAQ5Z,KAAKs9J,oBAAoB/tJ,EAAIqK,OAAS5Z,KAAKoN,UAAU2gJ,YAAax+I,GACrD,iBAAdA,EAAIy0B,SAAoBz0B,EAAIy0B,OAASz4B,EAAKgE,EAAIy0B,SAAWxhC,OAAO+M,EAAIy0B,SAE3Ez0B,EAAI8mF,aAAc,CACpB,IAAIknE,EAAUhuJ,EAAI8mF,aACK,iBAAZknE,IAAsBhuJ,EAAI8mF,aAAeknE,EAAU/nE,GAAS33E,UAAU0/I,IACjFhuJ,EAAIy0B,OAASwxD,GAASI,SAAS2nE,GAE/BhuJ,EAAImiJ,WAAaniJ,EAAImiJ,YAAc,SAAUjuJ,GAC3C,OAAO+xF,GAASxxD,OAAOvgC,EAAK85J,IAG9BhuJ,EAAI0iJ,UAAY1iJ,EAAI0iJ,WAAa,SAAUxuJ,GACzC,OAAO+xF,GAASpkF,MAAM3N,EAAK85J,IAK3Bv0J,EAAYuG,EAAI2rF,cAAa3rF,EAAI2rF,WAAa,GAC9ClyF,EAAYuG,EAAI4rF,gBAAe5rF,EAAI4rF,aAAe,GAClD5rF,EAAI+L,KAA2B,UAApBrb,EAAQsP,EAAI+L,OAAkB/L,EAAI+L,IAAMnE,GAAU5H,EAAI+L,MACrE,IAAIkiJ,EAAcjuJ,EAAIsa,SAElB2zI,IACwB,iBAAfA,IAAyBA,EAAcA,EAAY9yJ,QAAO,aAAe,IAAM6E,EAAIrI,GAAK,MACnGqI,EAAIsa,SAAWxB,GAASm1I,KAG5BC,6BAA8B,WAC5Bz9J,KAAKo1J,kBAEP4G,qBAAsB,WAGpB,IAAK,IAAIt7J,EAAI,EAAGA,EAAIV,KAAKukF,SAAS9iF,OAAQf,WACjCV,KAAKukF,SAAS7jF,GAAGyxJ,gBACjBnyJ,KAAKukF,SAAS7jF,GAAG2J,MAG5B+qJ,eAAgB,WACdp1J,KAAKorJ,YAAcprJ,KAAKukF,SAAS9iF,QAAUzB,KAAKiH,OAAO0tD,YAAc,GACrE30D,KAAK09J,cAAgB,EAErB,IAAK,IAAIh9J,EAAI,EAAGA,EAAIV,KAAKukF,SAAS9iF,OAAQf,IAAK,CAC7C,IAAKV,KAAKukF,SAAS7jF,GAAG2J,KAAM,CAC1B,IAAIqF,EAAOoI,GAAO,OAClBpI,EAAK8H,MAAMoC,MAAQ5Z,KAAKukF,SAAS7jF,GAAGkZ,MAAQ,KAC5C5Z,KAAKukF,SAAS7jF,GAAG2J,KAAOqF,EAGtBhP,GAAKV,KAAKoN,UAAUynD,WAAan0D,EAAIV,KAAKorJ,cAAaprJ,KAAK09J,eAAiB19J,KAAKukF,SAAS7jF,GAAGkZ,OAGpG,IAAI8yC,EAAQ,GAEZ,GAAI1sD,KAAKoN,UAAUunD,WAAY,CAC7B,IAAIgpG,EAAK39J,KAAKukF,SAAS9iF,OAASzB,KAAKoN,UAAUunD,WAC/CjI,EAAMixG,GAAM,eACZjxG,EAAMixG,EAAK,GAAK,cAGlB,GAAI39J,KAAKoN,UAAUynD,UAAW,CAC5B,IAAI+oG,EAAK59J,KAAKoN,UAAUynD,UACxBnI,EAAMkxG,GAAM,eACZlxG,EAAMkxG,EAAK,GAAK,cAGlBlxG,EAAM,IAAMA,EAAM,IAAM,IAAM,iCAC9B,IAAImxG,EAAa79J,KAAKukF,SAAS9iF,OAAS,EACxCirD,EAAMmxG,IAAenxG,EAAMmxG,IAAe,IAAM,cAEhD,IAAK,IAAIz8J,EAAK,EAAGA,EAAKpB,KAAKukF,SAAS9iF,OAAQL,IAAM,CAChD,IAAIiJ,EAAOrK,KAAKukF,SAASnjF,GAAIiJ,KAC7BA,EAAKoN,aAEL,SAAUrW,GACViJ,EAAK8N,UAAY,iBAAmBnY,KAAKukF,SAASnjF,GAAIka,KAAO,KAAOoxC,EAAMtrD,IAAO,IAGnFpB,KAAK89J,kBAEL99J,KAAK+9J,yBAEL/9J,KAAKg+J,qBAELh+J,KAAKgnJ,4BAELhnJ,KAAKs0D,qBAAsB,GAE7BypG,uBAAwB,WAGtB,IAFA,IAAIvkJ,EAAO,EAEF9Y,EAAI,EAAGA,EAAIV,KAAKukF,SAAS9iF,OAAQf,IAAK,CAC7C,IAAI2jD,EAASrkD,KAAKukF,SAAS7jF,GACvBA,GAAKV,KAAKoN,UAAUynD,WAAan0D,GAAKV,KAAKorJ,cAAa5xI,EAAO,GAE/D6qC,EAAOh6C,OACTg6C,EAAOh6C,KAAKmN,MAAMgC,KAAOA,EAAO,MAE5BxZ,KAAKoN,UAAUynD,WAAa70D,KAAKoN,UAAUunD,cAC7C1pD,GAAOo5C,EAAOh6C,MACdg6C,EAAO8tG,UAAW,IAItB34I,GAAQ6qC,EAAOzqC,QAGnBotI,0BAA2B,WACpBhnJ,KAAKi+J,oBAAmBj+J,KAAKi+J,kBAAoB,GACtDj+J,KAAK04D,eAAiB14D,KAAK07J,eAAiB,EAExC17J,KAAKoN,UAAU4G,SACjBhU,KAAKk+J,sBAAsBl+J,KAAKmS,QAAS,EAAG,GAE5CnS,KAAKo9J,mBAAmB,SAAUp9J,KAAKylF,UAEvCzlF,KAAK04D,eAAiB14D,KAAKylF,SAAS04E,MAEpCn+J,KAAKo+J,uBAAuBp+J,KAAKmS,QAAS,SAAUnS,KAAKylF,WAGvDzlF,KAAKoN,UAAUg2D,SACjBpjE,KAAKk+J,sBAAsBl+J,KAAKqtJ,QAAS,EAAG,GAE5CrtJ,KAAKo9J,mBAAmB,SAAUp9J,KAAKomF,UAEvCpmF,KAAK07J,eAAiB17J,KAAKomF,SAAS+3E,MAEpCn+J,KAAKo+J,uBAAuBp+J,KAAKqtJ,QAAS,SAAUrtJ,KAAKomF,WAG3DpmF,KAAKq+J,sBAAqB,GAAO,GAEjCr+J,KAAKs+J,0BAEL,IAAK,IAAI59J,EAAI,EAAGA,EAAIV,KAAKy7J,kBAAkBh6J,OAAQf,IAAK,CACtD,IAAI69J,EAASv+J,KAAKy7J,kBAAkB/6J,GAEpCV,KAAKw+J,oBAAoBD,EAAQv+J,KAAKw7J,YAAY+C,MAGtDE,iBAAkB,SAAUzqJ,EAAQqwC,EAAQ29B,GAC1C,IAAIpoE,EAAQ,EACR2qC,EAAUvwC,EAAOuwC,SAAW,EAC5BjpC,EAAM,gBAAkBtH,EAAOsH,KAAO,IAC1C,GAAItH,EAAO6tH,OAAQvmH,GAAO,6BAA6B,IAAK,IAAI5a,EAAI,EAAGA,EAAI6jD,EAAS7jD,IAClFkZ,GAAS5Z,KAAKukF,SAASvC,EAAMthF,GAAKV,KAAKukF,SAASvC,EAAMthF,GAAGkZ,MAAQ5Z,KAAKiH,OAAO8mJ,YAE/E,IAAI/mJ,EAAOqU,GAAY,CAACrH,EAAO7N,MAAOmV,EAAK1B,GAC3C,OAAO5F,EAAO6tH,OAAS76H,EAAK4S,MAAQ5S,EAAK8S,QAE3CsjJ,mBAAoB,SAAUjiG,EAAYz2C,GACxC,IAAIjH,EAAO,EAEXiH,EAAQjjB,OAAS,EAEjB,IAAK,IAAIf,EAAI,EAAGA,EAAIV,KAAKukF,SAAS9iF,OAAQf,IAAK,CAC7C,IAAIwE,EAAOlF,KAAKukF,SAAS7jF,GAAGy6D,IAAe,GACtC9yD,EAAQnD,KAAOA,EAAO,CAACA,IAE5B,IAAK,IAAIq8C,EAAI,EAAGA,EAAIr8C,EAAKzD,OAAQ8/C,IACP,UAApBthD,EAAQiF,EAAKq8C,MAAiBr8C,EAAKq8C,GAAK,CAC1Cp7C,KAAMjB,EAAKq8C,KAETr8C,EAAKq8C,IAAMr8C,EAAKq8C,GAAGznC,SAAQ4K,EAAQ68B,GAAK7nC,KAAKgC,IAAIgJ,EAAQ68B,IAAM,EAAGr8C,EAAKq8C,GAAGznC,SAC1E5U,EAAKq8C,IAAMr8C,EAAKq8C,GAAG4B,aAAYz+B,EAAQ68B,GAAK7nC,KAAKgC,IAAIgJ,EAAQ68B,IAAM,EAAGvhD,KAAKy+J,iBAAiBv5J,EAAKq8C,GAAIvhD,KAAKukF,SAAS7jF,GAAIA,KACvHwE,EAAKq8C,IAAMr8C,EAAKq8C,GAAGjmC,KAAgC,WAAzBrb,EAAQiF,EAAKq8C,GAAGjmC,OAAmBpW,EAAKq8C,GAAGjmC,IAAMnE,GAAUjS,EAAKq8C,GAAGjmC,MAGnGmC,EAAO/D,KAAKgC,IAAI+B,EAAMvY,EAAKzD,QAC3BzB,KAAKukF,SAAS7jF,GAAGy6D,GAAcj2D,EAGjCwf,EAAQy5I,MAAQ1gJ,EAEhB,IAAK,IAAInN,EAAMmN,EAAO,EAAGnN,GAAO,EAAGA,IACjCoU,EAAQpU,GAAOoU,EAAQpU,IAAQtQ,KAAKoN,UAAUme,gBAC9C7G,EAAQy5I,OAAwB,EAAfz5I,EAAQpU,GAI3B,IAAK,IAAI4kD,EAAM,EAAGA,EAAMl1D,KAAKukF,SAAS9iF,OAAQyzD,IAG5C,IAFA,IAAI3lD,EAAMvP,KAAKukF,SAASrvB,GAAKiG,GAEpB23F,EAAK,EAAGA,EAAKvjJ,EAAI9N,OAAQqxJ,IAAM,CACtC,GAAIvjJ,EAAIujJ,IAAOvjJ,EAAIujJ,GAAIruG,QAAS,IAAK,IAAIx0C,EAAI,EAAGA,EAAIV,EAAIujJ,GAAIruG,QAASx0C,IACnEV,EAAIujJ,EAAK7iJ,GAAK,KAEhB,GAAIV,EAAIujJ,IAAOvjJ,EAAIujJ,GAAIvuG,QAAS,IAAK,IAAIm6G,EAAK,EAAGA,EAAKnvJ,EAAIujJ,GAAIvuG,QAASm6G,IACrE1+J,KAAKukF,SAASrvB,EAAMwpG,GAAIvjG,GAAY23F,GAAM,KAMhD,IAAK,IAAIz9F,EAAM,EAAGA,EAAMr1D,KAAKukF,SAAS9iF,OAAQ4zD,IAAO,CACnD,IAAIliD,EAAQnT,KAAKukF,SAASlvB,GAAK8F,GAE/B,GAAIhoD,EAAM1R,OAASgc,EAAM,CACvB,IAAId,EAAMxJ,EAAM1R,OAAS,EACzB0R,EAAMwJ,GAAK8nC,QAAUhnC,EAAOtK,EAAM1R,OAAS,EAE3C,IAAK,IAAIk9J,EAAMhiJ,EAAM,EAAGgiJ,EAAMlhJ,EAAMkhJ,IAClCxrJ,EAAMwrJ,GAAO,MAKnB,OAAOlhJ,GAETmhJ,qBAAsB,SAAUC,EAAK33J,GAInC,OAAO23J,EAAI3nI,cAAc,OAAOV,OADhC,YAC6C,MAAOA,OAAOtvB,EAAI,QAEjEu8E,iBAAkB,SAAUv8E,GAC1B,IAAI7G,EAAML,KAAK4+J,qBAAqB5+J,KAAKmS,QAASjL,GAIlD,GAFK7G,IAAKA,EAAML,KAAK4+J,qBAAqB5+J,KAAKqtJ,QAASnmJ,IAEpD7G,EAAK,CACP,IAAI4G,EAASjH,KAAKg2D,gBAAgB9uD,GAC9B4iC,EAAU2wD,GAAWxzF,EAAOiW,SAC5B4hJ,EAAQ,CACVx6J,KAAMwlC,EACN1xB,SAAU,SAAUjS,GAClB,OAAO2jC,EAAQ1xB,SAAS/X,EAAK8F,IAE/B07B,SAAU,SAAUrgC,GAClB,OAAOsoC,EAAQjI,SAASxhC,EAAKmB,KAIjC,OADIsoC,EAAQkxD,WAAWr7F,EAAQ8J,OAAOq1J,EAAOh1H,EAAQkxD,UAAU36F,EAAK4G,IAC7D63J,IAGXC,oBAAqB,SAAUjlJ,EAAQwB,GACrC,MAAO,eAAekb,OAAOlb,EAAK,oBAAoBkb,OAAO1c,EAAQ,gBAEvEklJ,kBAAmB,SAAUtiJ,EAAOC,EAAK/C,EAAOhU,EAAM8e,GACpD,GAAIhI,GAASC,EAAK,MAAO,GAMzB,IALA,IAAIyG,EAAQ,GACRpL,EAAO,wCAAyCwe,OAAO5c,EAAO,SAC9DjI,EAAQ3R,KAAKukF,SAAS,GAAG3+E,GAAMnE,OAC/B+X,EAAO,EAEF9Y,EAAIgc,EAAOhc,EAAIic,EAAKjc,IAAK,CAChC,IAAI6Y,EAAM,EACNuuE,EAAS9nF,KAAKukF,SAAS7jF,GAAGkZ,MAC1BuS,EAAMzrB,GAAKgc,EAAQ,mBAAqB,yBAAyB8Z,OAAOjd,EAAK,YAAYid,OAAOhd,EAAM,OAC1GxB,GAAQ,qCAAwCwe,OAAOrK,EAAK,UAAUqK,OAAOsxD,EAAQ,yBAErF,IAAK,IAAIvmC,EAAI,EAAGA,EAAI5vC,EAAO4vC,IAAK,CAC9B,IAAIvtC,EAAShU,KAAKukF,SAAS7jF,GAAGkF,GAAM27C,GAChC09G,EAAcv6I,EAAQ68B,GACtB29G,EAAO,cAMX,GALIl/J,KAAKukF,SAAS7jF,GAAGyuE,YAAW+vF,GAAQ,oBACpCx+J,GAAKgc,IAAOwiJ,GAAQ,gBACpBx+J,GAAKic,EAAM,IAAGuiJ,GAAQ,eACtB39G,GAAK5vC,EAAQ,IAAGutJ,GAAQ,mBAEvBlrJ,EAAL,CAMIA,EAAOkJ,UACTlJ,EAAO+hD,UAAY/hD,EAAO+hD,WAAa5rD,IACvC6J,EAAO+X,SAAW/rB,KAAKukF,SAAS7jF,GAAGwG,GACnC8M,EAAOgwB,OAAShkC,KAAKukF,SAAS7jF,GAAGsjC,OACjCl+B,EAAO20F,GAAY,wCACnB30F,EAAO20F,GAAWzmF,EAAOkJ,SAAU,yBAA2BlJ,EAAOkJ,SACrElJ,EAAO7N,KAAOs0F,GAAWzmF,EAAOkJ,SAAS4M,OAAO9pB,KAAMgU,GACtDhU,KAAKg2D,gBAAgBhiD,EAAO+hD,WAAa/hD,EACzChU,KAAKm/J,qBAAsB,GAGzBnrJ,EAAOsH,MACT4jJ,GAAQ,IAAMlrJ,EAAOsH,KACvB,IAAIsI,EAAO,aAEI29B,EAFJ,aAIQvtC,EAAOuwC,QAAUvwC,EAAOuwC,QAAU,EAAI7jD,EAAIA,GAAK,IAC9D0+J,EAAU,GACVprJ,EAAO+hD,YAAWnyC,GAAQ,eAET5P,EAAO+hD,UAAY,KACxC,IAAIspG,GAAS,EACT5+C,EAAUw+C,EAEd,GAAIjrJ,EAAOuwC,SAAWvwC,EAAOuwC,QAAU,GAAKvwC,EAAOywC,SAAWzwC,EAAOywC,QAAU,EAAG,CAChF,IAAI66G,EAASt/J,KAAKu/J,YAAYv/J,KAAKukF,SAAU7jF,EAAGsT,EAAOuwC,UAAYujC,GAEnE24B,EAAUzgH,KAAKw/J,WAAW96I,EAAS68B,EAAGvtC,EAAOywC,WAC9B,IAAGg8D,EAAUw+C,GAC5BjnJ,GAAQhY,KAAK++J,oBAAoBE,EAAc,EAAGC,GAC9ClrJ,EAAOuwC,SAAW7jD,EAAIsT,EAAOuwC,SAAW5nC,IAAKuiJ,GAAQ,eACrDlrJ,EAAOywC,SAAWlD,EAAIvtC,EAAOywC,SAAW9yC,IAAOutJ,GAAQ,mBAC3DA,GAAQ,cACRG,GAAS,EACTD,EAAU,aAAa5oI,OAAOxiB,EAAOuwC,SAAW,EAAG,eAAe/tB,OAAOxiB,EAAOywC,SAAW,EAAG,mCAAmCjuB,OAAOjd,EAAK,YAAYid,OAAOhd,EAAM,mBAAmBgd,OAAOiqF,EAAU,EAAG,aAAajqF,OAAO8oI,EAAQ,cAAc9oI,OAAOiqF,EAAU,EAAG,aAClQw+C,GAAej/J,KAAKoN,UAAUme,kBAAiB6zI,EAAU,uBAAuB5oI,OAAOyoI,EAAc,EAAG,cAAczoI,OAAOyoI,EAAc,EAAG,SAEzJr7I,GAAQ,WAAcs7I,EAAO,IAC7Bt7I,GAAQ,IAAMw7I,EAAU,IACxB,IAAIj5J,EAAuB,KAAhB6N,EAAO7N,KAAc,SAAW6N,EAAO7N,KAC9C6N,EAAO6tH,SAAQ17H,EAAO,2CAA6Cs6G,EAAU,IAAM,+BAAiCA,EAAU,IAAM,EAAI,QAAUt6G,EAAO,UAC7Jyd,GAAQzd,EAAO,SACXk5J,EAAQj8I,GAASQ,EAAU5L,GAAQ4L,EACvCrK,GAAO0lJ,EAAc,OAjDnBjnJ,GAAQhY,KAAK++J,oBAAoBE,EAAc,EAAGC,GAClD3lJ,GAAO0lJ,EAAc,EAmDzBzlJ,GAAQsuE,EACR9vE,GAAQ,SAGV,OAAOA,EAAOoL,EAAQ,UAExBo8I,WAAY,SAAU96I,EAAShI,EAAOhc,GACpC,IAAIghE,GAAO,EAGX,IAFAhhE,GAAKgc,EAEOA,EAAQhc,EAAGgc,IACrBglD,GAAQh9C,EAAQhI,GAAS,EAG3B,OAAOglD,GAET69F,YAAa,SAAUzhJ,EAASpB,EAAOhc,GACrC,IAAIghE,EAAO,EAGX,IAFAhhE,GAAKgc,EAEOA,EAAQhc,EAAGgc,IACrBglD,GAAQ5jD,EAAQpB,GAAO9C,MAGzB,OAAO8nD,GAETq0F,gBAAiB,SAAUn+E,EAAS6nF,GAClC,IAAIzzF,EAAQhsE,KAAKoN,UAAU4+D,MAE3B,GAAIA,GAAS4L,GAAW53E,KAAKoN,UAAUue,SAAU,CAC/C,IAAI7jB,EAAS4R,KAAKqgB,MAAM69C,EAAU5L,EAAMhlE,MACpCc,GAAUkkE,EAAMO,MAAM19C,GAAGm9C,EAAM9kE,IAAIw2B,OAAO51B,GAIhD,IAAI2jB,EAASzrB,KAAK0rB,iBAElB,GAAIksD,GAAW53E,KAAKoN,UAAUue,UAAY3rB,KAAKoN,UAAU81C,YAAwB,GAAX00B,EAAe,CACnF,IAAIp0E,EAAQxD,KAAK82J,eAEjB,GAAIl/E,EAAUp0E,EAAM,GAAK,GAAKo0E,GAAWp0E,EAAM,GAAK,EAAG,CAErD,IAAIk+D,EAAO1hE,KAAK0/J,sBAAsB1zF,EAAQhsE,KAAKkF,KAAKmoD,KAAO,EAAGuqB,GAE9D+nF,EAAa3/J,KAAK+sJ,sBAAwB,EAE1CjP,EAAa99I,KAAKoqJ,kBAAkBxyE,GAExC,GAAIA,EAAUp0E,EAAM,GAAK,EAEvBk+D,EAAOhoD,KAAKgC,IAAI,EAAGgmD,GAAQ1hE,KAAK4/J,6BAC3B,GAAIl+F,EAAOo8E,EAAa6hB,EAAY,CAEzCj+F,GAAQo8E,EAAa6hB,EAErB,IAAK,IAAIE,EAAUjoF,EAASioF,EAAU,GAAKF,EAAa,EAAGE,IACzDF,GAAc3/J,KAAKoqJ,kBAAkByV,GAGnCjoF,EAAU,GAAK+nF,IAAYj+F,GAAQ1hE,KAAKoqJ,kBAAkBxyE,EAAU,SAExElW,EAAOj2C,EAAOhS,EAGhBgS,EAAOhS,EAAIioD,GAIf,IAAkB,GAAd+9F,EAAkB,CAEpB,GAAIA,EAAaz/J,KAAKoN,UAAUynD,WAAa4qG,GAAcz/J,KAAKorJ,YAAa,OAAOprJ,KAAKksB,SAAST,EAAOxZ,EAAGwZ,EAAOhS,GAEnH,IAAI4lC,EAASr/C,KAAKi3J,eAElB,GAAIwI,EAAapgH,EAAO,GAAK,GAAKogH,GAAcpgH,EAAO,GAAK,EAAG,CAI7D,IAFA,IAAI8+G,EAAQ,EAEHz9J,EAAIV,KAAKoN,UAAUynD,UAAWn0D,EAAI++J,EAAY/+J,IACrDy9J,GAASn+J,KAAKukF,SAAS7jF,GAAGkZ,MAG5B,IAAI4jI,EAAYx9I,KAAKukF,SAASk7E,GAAY7lJ,MAGtC6lJ,EAAapgH,EAAO,GAAK,IAAc8+G,EAAQ3gB,EAAYx9I,KAAK0pJ,cAElEyU,GAAS3gB,EAAYx9I,KAAK0pJ,cAE1ByU,EAAQ1yI,EAAOxZ,GAKjBwZ,EAAOxZ,EAAIksJ,GAIfn+J,KAAKksB,SAAST,EAAOxZ,EAAGwZ,EAAOhS,IAEjCg4I,SAAU,SAAU9tI,EAAK0gC,GACvB,IAAKA,IAAW1gC,EAAK,CAEnB,IAAIpW,EAAIvN,KAAKwjC,eAAc,GAEX,GAAZj2B,EAAE9L,SACJ4iD,EAASA,GAAU92C,EAAE,GAAG82C,OACxB1gC,EAAMA,GAAOpW,EAAE,GAAGoW,KAKtB0gC,EAASA,EAASrkD,KAAKktF,eAAe7oC,IAAU,EAChD1gC,EAAMA,EAAM3jB,KAAKimD,aAAatiC,IAAO,EACrC3jB,KAAK+1J,gBAAgBpyI,EAAK0gC,IAE5Bn4B,SAAU,SAAUja,EAAGwH,GACrB,GAAKzZ,KAAKgqJ,UAAV,CACA,GAAIhqJ,KAAKgtJ,gBAAiB,OAAOhtJ,KAAKgtJ,gBAAgB/6I,EAAGwH,GAC/C,OAANxH,GAAYjS,KAAKgqJ,UAAU99H,SAASja,GAC9B,OAANwH,GAAYzZ,KAAKmtJ,UAAUjhI,SAASzS,KAE1CiS,eAAgB,WACd,GAAI1rB,KAAKitJ,sBAAuB,OAAOjtJ,KAAKitJ,wBAC5C,IAAI/nE,EAAOllF,KAAK8/J,qBAAuB,EAAI9/J,KAAK+/J,qBAAuB,EACvE,MAAO,CACL9tJ,EAAGjS,KAAKktJ,aAAe,EACvBzzI,EAAGzZ,KAAK2pJ,WAAazkE,IAGzBzoB,SAAU,SAAUv1D,GAClBlH,KAAK+1J,gBAAgB/1J,KAAKimD,aAAa/+C,IAAK,IAE9Ck3J,uBAAwB,SAAUS,EAAKj5J,EAAM8e,GAC3C,IAAIsB,EAAShmB,KAETgU,EAAS6qJ,EAAIxuJ,WACjB2D,EAAO,GAAGyC,UAAYzW,KAAKg/J,kBAAkB,EAAGh/J,KAAKoN,UAAUynD,UAAW70D,KAAKypJ,YAAa7jJ,EAAM8e,GAClG1Q,EAAO,GAAGyC,UAAYzW,KAAKg/J,kBAAkBh/J,KAAKoN,UAAUynD,UAAW70D,KAAKorJ,YAAaprJ,KAAK09J,cAAe93J,EAAM8e,GACnH1Q,EAAO,GAAGyC,UAAYzW,KAAKg/J,kBAAkBh/J,KAAKorJ,YAAaprJ,KAAKukF,SAAS9iF,OAAQzB,KAAKwpJ,aAAc5jJ,EAAM8e,GAC9G,IAAIzS,EAAIjS,KAAK0rB,iBAAiBzZ,EAC1BqM,GAAIa,MAAOiyB,GAAM6C,YAAYjgC,EAAO,GAAGtD,YAAauB,EAAG,EAAG,OAAY+B,EAAO,GAAGmF,WAAalH,EAEjG+B,EAAO,GAAGo/I,SAAW,WACnB,OAAOptI,EAAOg6I,wBAGlBA,oBAAqB,WACnB,IAAI7mJ,EAAanZ,KAAKmS,QAAQ9B,WAAW,GAAG8I,WAC5C,GAAInZ,KAAKkzJ,2BAA4B,OAAOlzJ,KAAKkzJ,4BAA6B,EAE9ElzJ,KAAKgqJ,UAAU99H,SAAS/S,GAEpBnZ,KAAKg3D,gBACH79C,IAAYnZ,KAAKmS,QAAQ9B,WAAW,GAAG8I,WAAa,GACxDnZ,KAAKkzJ,2BAA6B/5I,IAGtCkjJ,iCAAkC,WAChCr8J,KAAKq+J,sBAAqB,GAAM,IAElCvC,4BAA6B,WAC3B97J,KAAKq+J,sBAAqB,GAAO,IAGnCA,qBAAsB,SAAU4B,EAAazvG,EAAUtpD,GACjDlH,KAAKoN,UAAU4G,SACbw8C,GAAUxwD,KAAKk+J,sBAAsBl+J,KAAKmS,QAAS8tJ,EAAa,EAAG/4J,GAEvElH,KAAKk+J,sBAAsBl+J,KAAKmS,QAAS8tJ,EAAa,EAAG/4J,IAGvDlH,KAAKoN,UAAUg2D,SACb5S,GAAUxwD,KAAKk+J,sBAAsBl+J,KAAKqtJ,QAAS4S,EAAa,EAAG/4J,GAEvElH,KAAKk+J,sBAAsBl+J,KAAKqtJ,QAAS4S,EAAa,EAAG/4J,KAG7DohE,cAAe,SAAUphE,GACvBlH,KAAKq+J,sBAAqB,GAAO,EAAMn3J,IAEzCg3J,sBAAuB,SAAUW,EAAKqB,EAAe93G,EAAS+3G,GAC5D,GAAIngK,KAAKm/J,qBAAuBN,EAO9B,IANA,IAIInuI,EAAQmuI,EAAItmI,iBAAiB,GAAG/B,OAJ1B,MAIsC,KAAKA,OADrD,YACkE,MAEzD91B,EAAI,EAAGA,EAAIgwB,EAAMjvB,OAAQf,IAAK,CACrC,IAAI0/J,EAAW1vI,EAAMhwB,GAAGsO,aAExB,aAEA,GAAIoxJ,EAAU,CACZ,IAAI//J,EAAML,KAAKg2D,gBAAgBoqG,GAC/B,GAAID,GAAQA,GAAQ9/J,EAAI0rB,SAAU,SAClC,IAAI7O,EAAUu9E,GAAWp6F,EAAI6c,SAEzBkrC,EACElrC,EAAQ9E,WACV/X,EAAImB,MAAQ0b,EAAQ9E,SAASsY,EAAMhwB,KAE3Bw/J,IAAiBhjJ,EAAQ49E,YACnC59E,EAAQiN,QAAQnqB,KAAM0wB,EAAMhwB,GAAIL,MAM1CggK,cAAe,GACfC,sBAAuB,SAAUjgK,EAAKyZ,EAAQymJ,GACxCvgK,KAAK8tJ,cACPztJ,EAAImX,MAAMsC,OAASJ,KAAKgC,IAAI5B,EAAQ,GAAK,EAAI,KAC7CzZ,EAAImX,MAAMoC,OAAS5Z,KAAKorJ,YAAc,EAAImV,GAAOvgK,KAAK8tJ,aAAe,EAAI,MACpEztJ,EAAImX,MAAMghB,QAAU,QAE7B8lI,wBAAyB,WACnBt+J,KAAKoN,UAAU4G,QAAQhU,KAAKsgK,sBAAsBtgK,KAAKwgK,eAAgBxgK,KAAK04D,eAAgB14D,KAAKi+J,mBACjGj+J,KAAKoN,UAAUg2D,QAAQpjE,KAAKsgK,sBAAsBtgK,KAAKygK,eAAgBzgK,KAAK07J,eAAgB17J,KAAKi+J,oBAEvG9I,eAAgB,WACd,IAAIuL,IAAS1gK,KAAKoN,UAAUu5E,YAAwC,IAA3B3mF,KAAKoN,UAAUw/I,SACpD+T,IAAS3gK,KAAKoN,UAAU+1C,aAAyC,IAA3BnjD,KAAKoN,UAAUy/I,SACzD7sJ,KAAKuzJ,aAAemN,EAAOpiJ,GAAI6pB,WAAa,EAC5CnoC,KAAK8tJ,aAAe6S,EAAOriJ,GAAI6pB,WAAa,EAExCnoC,KAAKgqJ,YACPhqJ,KAAKgqJ,UAAU58I,UAAU+6B,WAAanoC,KAAKuzJ,aAC3CvzJ,KAAKgqJ,UAAU58I,UAAU60I,cAAgBye,GAGvC1gK,KAAKmtJ,YACPntJ,KAAKmtJ,UAAU//I,UAAU+6B,WAAanoC,KAAK8tJ,aAC3C9tJ,KAAKmtJ,UAAU//I,UAAU60I,cAAgB0e,IAG7C7C,gBAAiB,WACf99J,KAAK2pJ,WAAa,EAClB3pJ,KAAKktJ,YAAc,EACnB,IAAIwT,IAAS1gK,KAAKoN,UAAUu5E,YAAwC,IAA3B3mF,KAAKoN,UAAUw/I,SACpD+T,IAAS3gK,KAAKoN,UAAU+1C,aAAyC,IAA3BnjD,KAAKoN,UAAUy/I,SAkBzD,GAjBK6T,IAAM1gK,KAAKuzJ,aAAe,GAC1BoN,IAAM3gK,KAAK8tJ,aAAe,GAE1B9tJ,KAAKgqJ,YACRhqJ,KAAKgqJ,UAAY37H,GAAG,CAClBrZ,KAAM,UACNwZ,UAAWxuB,KAAKqtJ,QAAQn2I,gBACxB+c,YAAaj0B,KAAK09J,cAClBv1H,WAAYnoC,KAAKuzJ,aACjBtR,cAAeye,IAGZ1gK,KAAKuzJ,cAAiBj1I,GAAIiwD,gBAAevuE,KAAKgqJ,UAAUh6H,SAASxY,MAAM0Y,SAAW,YAEvFlwB,KAAKgqJ,UAAUn9I,YAAY,WAAYpE,EAAKzI,KAAK4gK,YAAa5gK,SAG3DA,KAAKmtJ,UAAW,CACnBntJ,KAAKwgK,eAAiBxgK,KAAKqtJ,QAAQrgH,YACnC,IAAI6zH,EAAe7gK,KAAKwgK,eAAexzH,YACvChtC,KAAKygK,eAAiBI,EAAa7zH,YACnChtC,KAAKmtJ,UAAY9+H,GAAG,CAClBrZ,KAAM,UACNwZ,UAAWqyI,EACXt/F,aAAc,IACd91C,OAAQ,IACR0c,WAAYnoC,KAAK8tJ,aACjB7L,cAAe0e,IAGjB3gK,KAAKmtJ,UAAUjK,WAAWljJ,KAAK4qB,OAE/B5qB,KAAKgqJ,UAAU9G,WAAWljJ,KAAK4qB,OAAO,GAEtC5qB,KAAKmtJ,UAAUtgJ,YAAY,WAAYpE,EAAKzI,KAAK8gK,YAAa9gK,OAG5DA,KAAKioC,gBAAgBjoC,KAAK8M,UAAU,WAAY,CAAC9M,KAAKioC,eAAgBjoC,KAAKqoC,kBAC3E/pB,GAAIiwD,eAAe3pB,GAAOxd,OAAOpnC,MAErCA,KAAK89J,gBAAkB,cAEzB/xI,SAAU,SAAUoH,GAClB,OAAOnzB,KAAKukF,SAASpxD,IAAanzB,KAAKukF,SAASpxD,GAAUjsB,IAE5DgmF,eAAgB,SAAUhmF,GACxB,IAAK,IAAIxG,EAAI,EAAGA,EAAIV,KAAKukF,SAAS9iF,OAAQf,IACxC,GAAIV,KAAKukF,SAAS7jF,GAAGwG,IAAMA,EAAI,OAAOxG,EAGxC,OAAO,GAETqgK,YAAa,SAAUtZ,EAAKrkE,GAC1B,IAII1iF,EAJAsgK,EAAK,EACLC,EAAK,EACLC,EAAK,EACLC,EAAK,EAELC,EAAO,EAEX,IAAK1gK,EAAI,EAAGA,EAAIV,KAAKukF,SAAS9iF,SACxBzB,KAAKorJ,aAAe1qJ,GAAKV,KAAKoN,UAAUynD,WAAan0D,IACvDsgK,EAAK,EACLI,KAGEphK,KAAKukF,SAAS7jF,GAAGwG,IAAMk8E,GANS1iF,IAOpCsgK,GAAMhhK,KAAKukF,SAAS7jF,GAAGkZ,MAKzB,IAFAqnJ,GAAMjhK,KAAKukF,SAAS7jF,GAAGkZ,MAElBlZ,EAAI,EAAGA,EAAIV,KAAKkF,KAAKwyB,MAAMj2B,QAC1BzB,KAAKkF,KAAKwyB,MAAMh3B,IAAM+mJ,EADY/mJ,IAEtCygK,GAAMnhK,KAAKoqJ,kBAAkB1pJ,GAI/B,OADAwgK,GAAMlhK,KAAKoqJ,kBAAkB1pJ,GACtB,CAACsgK,EAAIC,EAAIE,EAAKnhK,KAAK2pJ,WAAYuX,EAAIlhK,KAAK4qB,MAAMva,WAAW+wJ,KAElExb,cAAe,WACb,OAAO5lJ,KAAK2jB,KAEdjL,OAAQ,SAAUrO,EAAMg3J,GACtB,GAAIrhK,MAAQ6uB,GAAGxkB,GAAO,OAAO,SAC7BA,EAAOA,EAAKvC,QAAUuC,EAEfA,GAAQA,EAAK2E,cACd3E,IAASrK,KAAK6qB,OADc,CAGhC,IAAIy2I,EAAK/kJ,GAAclS,GAAMlI,WAEzB8b,EAAS,KAiBb,IAfgC,GAA5BqjJ,EAAG30J,QAAQ,gBACbsR,EAASje,KAAK81C,QAAQzrC,MACV4T,EAAO0F,IAAM3jB,KAAKkF,KAAKwyB,MAAMzZ,EAAOo1F,QAGjB,GAA7BiuD,EAAG30J,QAAQ,iBACbsR,EAASje,KAAK81C,QAAQzrC,MACV4T,EAAOjK,QAAS,IAGO,GAAjCstJ,EAAG30J,QAAQ,qBACbsR,EAASje,KAAK81C,QAAQzrC,MACV4T,EAAO0F,IAAM1F,EAAOo1F,KAAO,eAGrCp1F,EACF,OAAIojJ,EAAepjJ,EAAOjK,OAAS,KAAOiK,EAAO0F,KACjD1F,EAAOomC,OAASrkD,KAAKukF,SAAStmE,EAAOq1F,MAAMpsG,GAC3C+W,EAAO9b,SAAWnC,KAAK4lJ,cAChB3nI,GAGT5T,EAAOA,EAAKgO,WAGd,OAAO,MAETy9B,QAAS,SAAUzrC,GACjB,IAAIk3J,EAAOl3J,EAAKgO,WAChB,IAAKkpJ,EAAM,OAAO,KAClB,IAAIl9G,EAIS,GAJCh6C,EAAK2E,aAEnB,WAAauyJ,EAAKvyJ,aAElB,WACIqkG,EAAOhpG,EAAK2E,aAAa,iBAK7B,MAAO,CACLqkG,KALQhpG,EAAK2E,aAEf,SAAWqkG,EAAOA,EAAO,EAAI,GAI3BC,KAAMjvD,EACNC,KAJ0E,GAAhEj6C,EAAK2E,aAAa,YAAcuyJ,EAAKvyJ,aAAa,cAOhEo+I,mBAAoB,WAGlB,IAFA,IAAI3yB,GAAUz6H,KAAK0pJ,cAEVhpJ,EAAI,EAAGA,EAAIV,KAAKukF,SAAS9iF,OAAQf,IACxC+5H,GAAUz6H,KAAKukF,SAAS7jF,GAAGkZ,MAG7B5Z,KAAKktJ,YAAcxzI,KAAKwJ,IAAIljB,KAAKktJ,YAAaxzI,KAAKgC,IAAI,EAAG++G,KAE5DllE,wBAAyB,SAAUjxB,GAC5BtkC,KAAKs0D,sBAEVt0D,KAAKotJ,qBAELptJ,KAAK+9J,yBAEL/9J,KAAKg+J,qBAELh+J,KAAKgnJ,4BAELhnJ,KAAK+8J,qBAEAz4H,GAAQtkC,KAAK68J,sBAAqB,GAAO,KAEhD2E,eAAgB,SAAUjyJ,EAAKqK,EAAO6nJ,GACpC,OAAOzhK,KAAKs1D,gBAAgBt1D,KAAKktF,eAAe39E,GAAMqK,EAAO6nJ,IAE/DnsG,gBAAiB,SAAU/lD,EAAKqK,EAAO6nJ,EAAaC,GAClD,KAAI12I,MAAMpR,IAAUrK,EAAM,GAA1B,CACA,IAAI80C,EAASrkD,KAAKukF,SAASh1E,GAC3BqK,EAAQ5Z,KAAKs9J,oBAAoB1jJ,EAAOyqC,GACxC,IAAIzO,EAAMyO,EAAOzqC,MAEjB,OAAIg8B,GAAOh8B,IACLrK,GAAOvP,KAAKoN,UAAUynD,WAAatlD,EAAMvP,KAAKorJ,cAAaprJ,KAAK09J,eAAiB9jJ,EAAQg8B,GAC7FyO,EAAOzqC,MAAQA,IACXyqC,EAAOh6C,OACTg6C,EAAOh6C,KAAKmN,MAAMoC,MAAQA,EAAQ,KAC/B6nJ,GAAazhK,KAAKu1D,0BACvBv1D,KAAK8M,UAAU,iBAAkB,CAACu3C,EAAOn9C,GAAI0S,EAAOg8B,IAAO8rH,KACpD,MAKXpE,oBAAqB,SAAU1jJ,EAAO3S,GAGpC,OAFA2S,EAAQF,KAAKgC,IAAI9B,EAAO3S,EAAOq0B,UAAYt7B,KAAKoN,UAAU6gJ,gBAAkB,GAC5Er0I,EAAQF,KAAKwJ,IAAItJ,EAAO3S,EAAOs0B,UAAYv7B,KAAKoN,UAAUghJ,gBAAkB,MAG9E7C,cAAe,SAAU5nI,GACvB,OAAQA,EAAIykB,SAAWpoC,KAAKoN,UAAU2d,YAAcpH,EAAIg+I,SAAWh+I,EAAIi+I,WAAa,IAEtFxX,kBAAmB,SAAUj3H,GAC3B,IAAIjsB,EAAKlH,KAAKkF,KAAKwyB,MAAMvE,GACzB,OAAKjsB,EACElH,KAAKurJ,cAAcvrJ,KAAKkF,KAAKklB,KAAKljB,IADzBlH,KAAKoN,UAAU2d,WAGjC20I,sBAAuB,SAAUzoJ,EAAQ4qJ,GACvC,GAAI7hK,KAAKoN,UAAU+8I,eAAgB,OAAOzwI,KAAKgC,IAAImmJ,EAAS5qJ,EAAQ,GAAKjX,KAAKoN,UAAU2d,UAGtF,IAFA,IAAI22C,EAAO,EAEJzqD,EAAS4qJ,EAAQ5qJ,IACtByqD,GAAQ1hE,KAAKoqJ,kBAAkBnzI,GAGjC,OAAOyqD,GAGX71C,cAAe,SAAUlI,EAAK0gC,EAAQ8Z,GAChCx6C,EAAIA,MACN0gC,EAAS1gC,EAAI0gC,OACb1gC,EAAMA,EAAIA,KAGZ,IAAI/J,EAAQ5Z,KAAKm1D,gBAAgB9Q,GAAQzqC,MAErCE,EAAS9Z,KAAK8jC,QAAQngB,GAAKykB,SAAWpoC,KAAKoN,UAAU2d,UAEzD,GAAI/qB,KAAKiH,OAAOmc,OAAS+6C,EAAM,CAC7B,IAAI7Z,EAAOtkD,KAAKgmF,QAAQriE,EAAK0gC,GAE7B,GAAIC,EAAM,CACR,IAAIw9G,EAAW9hK,KAAKs5J,YAAY,CAC9B31I,IAAK2gC,EAAK,GACVD,OAAQC,EAAK,KAEf1qC,EAAQkoJ,EAASjoJ,YACjBC,EAASgoJ,EAAS/nJ,cAOtB,IAHA,IAAIP,EAAO,EACP7L,EAAS,EAEJiX,EAAS,EAAGA,EAAS5kB,KAAKukF,SAAS9iF,OAAQmjB,IAAU,CACxDA,GAAU5kB,KAAKoN,UAAUynD,WAAajwC,GAAU5kB,KAAKorJ,cAAa5xI,EAAO,GAC7E,IAAIuoJ,EAAa/hK,KAAKukF,SAAS3/D,GAE/B,GAAIm9I,EAAW76J,IAAMm9C,EAAQ,CAC3B,IAAI29G,EAAep9I,EAAS5kB,KAAKoN,UAAUynD,UAAY,EAAIjwC,GAAU5kB,KAAKorJ,YAAc,EAAI,EAC5Fz9I,EAAS3N,KAAK4qB,MAAMva,WAAW2xJ,GAActxJ,WAC7C,MAGF8I,GAAQuoJ,EAAWnoJ,MAGrB,IACIL,EADA4Z,EAAWnzB,KAAKimD,aAAatiC,GAEjC,GAAIwP,EAAWnzB,KAAKoN,UAAUue,SAAUpS,EAAMvZ,KAAK0/J,sBAAsB,EAAGvsI,OAAe,CACzF,IAAIa,EAAQh0B,KAAKiqJ,oBAAsB,EACvC1wI,EAAMvZ,KAAK0/J,sBAAsB1rI,EAAOb,IAAanzB,KAAK8/J,sBAAwB,IAAM3sI,GAAYa,EAAQh0B,KAAK4/J,wBAA0B,GAE7I,MAAO,CACLjyJ,OAAQA,EACR4L,IAAKA,EACLC,KAAMA,EACNI,MAAOA,EACPE,OAAQA,IAGZ8lJ,sBAAuB,WACrB,OAAO5/J,KAAKoN,UAAUue,SAAW3rB,KAAK0/J,sBAAsB,EAAG1/J,KAAKoN,UAAUue,UAAY,GAE5FmxI,kBAAmB,WACjB,IAAI9wF,EAAQhsE,KAAKoN,UAAU4+D,MACvBtvD,EAAQ,EACRhB,EAAM1b,KAAKkF,KAAKwyB,MAAMj2B,OAY1B,OAVIuqE,IACFtvD,EAAQsvD,EAAMhlE,KAAOglE,EAAMO,KAC3B7wD,EAAMhC,KAAKwJ,IAAIxH,EAAKgB,EAAQsvD,EAAMhlE,MAE9BglE,EAAMhK,QACRtlD,EAAQ1c,KAAKkF,KAAKmoD,KAClB3xC,EAAM1b,KAAKkF,KAAKqoD,OAIbvtD,KAAK0/J,sBAAsBhjJ,EAAOhB,IAE3C8vI,aAAc,SAAUr+D,EAAOrzE,GAC7B,IAAIkR,MAAMlR,GAAV,CACAA,EAASJ,KAAKgC,IAAI5B,EAAQ9Z,KAAKoN,UAAUohJ,cAAgB,GACzD10I,EAASJ,KAAKwJ,IAAIpJ,EAAQ9Z,KAAKoN,UAAUqhJ,cAAgB,KACzD,IAAIxxI,EAAOjd,KAAK8jC,QAAQqpD,GACpB80E,EAAahlJ,EAAKmrB,SAAWpoC,KAAKoN,UAAU2d,UAE5Ck3I,GAAcnoJ,IAChBmD,EAAKmrB,QAAUtuB,EACf9Z,KAAKiH,OAAOkjJ,gBAAiB,EAC7BnqJ,KAAK8pB,SACL9pB,KAAK8M,UAAU,cAAe,CAACqgF,EAAOrzE,EAAQmoJ,OAGlDnB,YAAa,SAAUt/J,GACrB,IAAI0gK,EAAeliK,KAAK2pJ,aAAenoJ,EAGvC,GAFAxB,KAAK2pJ,WAAanoJ,EAEbxB,KAAKoN,UAAU81C,UAEb,GAAI5kC,GAAIa,MACbnf,KAAKstJ,gBAAgB9rJ,EAAO,YAI5B,IAFA,IAAI2gK,EAAQniK,KAAK4qB,MAAMva,WAEd3P,EAAI,EAAGA,EAAIyhK,EAAM1gK,OAAQf,IAChCyhK,EAAMzhK,GAAGuY,UAAYzX,OAPvBxB,KAAK68J,uBAWHv+I,GAAIiwD,eAAe3pB,GAAOuwG,eAAen1J,KAAK4qB,OAE9Cs3I,IACFliK,KAAK8M,UAAU,YAAa,IAC5B9M,KAAK8M,UAAU,gBAAiB,MAGpCivJ,eAAgB,SAAUv6J,GAExB,GADAxB,KAAKktJ,YAAc1rJ,EACf8c,GAAIa,MAAO,OAAOnf,KAAKutJ,gBAAgB/rJ,EAAO,OAClDxB,KAAK4qB,MAAMva,WAAW,GAAG8I,WAAa3X,EAClCxB,KAAKoN,UAAU4G,SAAQhU,KAAKmS,QAAQ9B,WAAW,GAAG8I,WAAa3X,GAC/DxB,KAAKoN,UAAUg2D,SAAQpjE,KAAKqtJ,QAAQh9I,WAAW,GAAG8I,WAAa3X,IAErEo/J,YAAa,SAAUp/J,GACrB,IAAI0gK,EAAeliK,KAAKktJ,cAAgB1rJ,EACpCxB,KAAKs8J,aAAct8J,KAAKu8J,mBAAqB/6J,EAAWxB,KAAK+7J,eAAev6J,GAC3ExB,KAAKoN,UAAU81C,WAAWljD,KAAK68J,sBAAqB,GACrDv+I,GAAIiwD,eAAe3pB,GAAOuwG,eAAen1J,KAAK4qB,OAE9Cs3I,IACFliK,KAAK8M,UAAU,YAAa,IAC5B9M,KAAK8M,UAAU,gBAAiB,MAGpCmqJ,aAAc,SAAUmL,GACtB,GAAIA,EAAM,MAAO,CAAC,EAAGpiK,KAAKukF,SAAS9iF,YACnC,IAAI8L,EAAIvN,KAAKktJ,YACTmV,EAAOriK,KAAKoN,UAAUynD,UAEnBtnD,EAAI,GAAKvN,KAAKukF,SAAS9iF,OAAS,EAAI4gK,GACzC90J,GAAKvN,KAAKukF,SAAS89E,GAAMzoJ,MACzByoJ,IAGF,IAAIC,EAAOD,MACP90J,GAAK80J,EAAO,GAAGA,IACnB90J,GAAKvN,KAAK0pJ,cAEHn8I,EAAI,GAAK+0J,EAAOtiK,KAAKorJ,aAC1B79I,GAAKvN,KAAKukF,SAAS+9E,GAAM1oJ,MACzB0oJ,IAGF,MAAO,CAACD,EAAMC,IAEhBh2F,gBAAiB,WACf,OAAO5yD,KAAKqgB,MAAM/5B,KAAK+sJ,sBAAwB/sJ,KAAKiH,OAAO8jB,YAG7D+rI,aAAc,SAAUsL,GACtB,IAAI70J,EAAIvN,KAAK2pJ,WACTjtI,EAAQ,EACRC,EAAM3c,KAAK2R,QAEXq6D,EAAQhsE,KAAKoN,UAAU4+D,MAEvBA,IACFtvD,EAAQsvD,EAAMO,KAAOP,EAAMhlE,KAC3B2V,EAAMjD,KAAKwJ,IAAIvG,EAAKD,EAAQsvD,EAAMhlE,MAE9BglE,EAAMhK,QACRtlD,EAAQ1c,KAAKkF,KAAKmoD,KAClB1wC,EAAM3c,KAAKkF,KAAKqoD,OAIpB,IAAI80G,EAAO3lJ,EAAQ1c,KAAKoN,UAAUue,SAElC,GAAIy2I,GAAQpiK,KAAKoN,UAAU+1C,WAAY,MAAO,CAACk/G,EAAM1lJ,EAAK,GAC1D,IAAIoO,EAAY/qB,KAAKoN,UAAU+8I,eAAiBnqJ,KAAKoN,UAAU2d,UAAY,EAE3E,GAAIA,EAAW,CACb,IAAIw3I,EAAM7oJ,KAAKiC,KAAKpO,EAAIwd,GACxBxd,GAAKg1J,EAAMx3I,EACXs3I,GAAQE,OACT,KAAah1J,EAAI,GAChBA,GAAKvN,KAAKoqJ,kBAAkBiY,GAC5BA,IAIF,IAAIG,EAAOH,EAAO,GAAK90J,IAAMvN,KAAKoqJ,kBAAkBiY,EAAO,GAAK90J,GAAK,EACjE+0J,EAAOD,EAIX,GAHI90J,GAAG80J,IACP90J,IAAMvN,KAAK+sJ,uBAAyB/sJ,KAAKqoC,iBAAmBroC,KAAK4/J,wBAE7D70I,EAAW,CACb,IAAI03I,EAAO/oJ,KAAKiC,KAAKpO,EAAIwd,GAEzBxd,GAAKk1J,EAAO13I,EACZu3I,GAAQG,OACT,KACQl1J,EAAI,GAAK+0J,EAAO3lJ,GACrBpP,GAAKvN,KAAKoqJ,kBAAkBkY,GAC5BA,IAKJ,OADIA,EAAO3lJ,IAAK2lJ,EAAO3lJ,GAChB,CAAC0lJ,EAAMC,EAAME,IAEtB5F,oBAAqB,SAAU11J,GAC7B,IAAI+V,EAAOjd,KAAK8jC,QAAQ58B,GACpB2vJ,EAAW72J,KAAKimD,aAAa/+C,GAE7B1D,EAAQxD,KAAK82J,cAA0C,IAA7B92J,KAAKoN,UAAU81C,WAEzC9lC,EAASpd,KAAKoN,UAAUue,SACxB+2I,EAAY,GAEhB,GAAI7L,GAAYz5I,EAAQ,CAEtB,GAAIy5I,EAAWrzJ,EAAM,IAAMqzJ,GAAYrzJ,EAAM,GAAI,OACjDqzJ,GAAYrzJ,EAAM,GAAK4Z,OAEvBslJ,EAAY7L,GAAYz5I,EAAS,EAAI,oCAAsC,iBAM7E,IAFA,IAAI45I,EAAUh3J,KAAKi3J,eAEVv2J,EAAI,EAAGA,EAAIV,KAAKukF,SAAS9iF,OAAQf,IAAK,CAC7C,IAAI2jD,EAASrkD,KAAKukF,SAAS7jF,GAI3B,GAFIA,EAAIV,KAAKorJ,aAAe1qJ,GAAKV,KAAKoN,UAAUynD,YAAcn0D,EAAIs2J,EAAQ,IAAMt2J,EAAIs2J,EAAQ,MAAK3yG,EAAOguG,MAAO,KAE3GhuG,EAAO8tG,UAAY9tG,EAAOh6C,KAAM,CAClC,IAAIA,EAAOg6C,EAAOh6C,KAAKgG,WAAWwmJ,GAClC,IAAKxsJ,EAAM,SAEX,IAAI7I,EAAQxB,KAAKmuJ,UAAUlxI,EAAMjd,KAAKukF,SAAS7jF,GAAI,GAEnD2J,EAAKoM,UAAYjV,EACjB6I,EAAK8N,UAAYnY,KAAK2iK,QAAQ3iK,KAAKukF,SAAS7jF,GAAIc,EAAOyb,EAAM/V,GAAMw7J,KAIzE7F,qBAAsB,SAAU+F,EAAUj5J,GACxC,GAAK3J,KAAKukF,SAAS9iF,SAAUzB,KAAKs8J,aAAlC,CACI3yJ,GAAO3J,KAAK6iK,oBAEhB,IAAIC,EAAK9iK,KAAKi3J,aAAaj3J,KAAKoN,UAAU81C,WAEtC6/G,EAAK/iK,KAAK82J,cAA0C,IAA7B92J,KAAKoN,UAAU81C,WAE1C,GAAI0/G,EAAU,CACZ,IAAK,IAAIliK,EAAIV,KAAKoN,UAAUynD,UAAWn0D,EAAIoiK,EAAG,GAAIpiK,IAChDV,KAAKs0J,YAAY5zJ,EAAGiJ,GAGtB,IAAK,IAAI+rD,EAAMotG,EAAG,GAAIptG,EAAM11D,KAAKorJ,YAAa11F,IAC5C11D,KAAKs0J,YAAY5+F,EAAK/rD,GAI1B3J,KAAKgjK,kBAAoB,GAEzB,IAAK,IAAI1sG,EAAM,EAAGA,EAAMt2D,KAAKoN,UAAUynD,UAAWyB,IAChDt2D,KAAKijK,cAAc3sG,EAAKysG,EAAIp5J,GAG9B,IAAK,IAAIk8E,EAAMi9E,EAAG,GAAIj9E,EAAMi9E,EAAG,GAAIj9E,IACjC7lF,KAAKijK,cAAcp9E,EAAKk9E,EAAIp5J,EAAOk8E,GAAOi9E,EAAG,IAG/C,IAAK,IAAI38E,EAAMnmF,KAAKorJ,YAAajlE,EAAMnmF,KAAKukF,SAAS9iF,OAAQ0kF,IAC3DnmF,KAAKijK,cAAc98E,EAAK48E,EAAIp5J,GAG9B3J,KAAKkjK,4BAA4BH,EAAG,GAAIA,EAAG,GAAIp5J,GAE/C3J,KAAKmjK,iBAAiBJ,KAExBK,kBAAmB,SAAU1mJ,EAAOC,GAClC3c,KAAKqjK,kBAAoB3mJ,EACzB1c,KAAKsjK,gBAAkB3mJ,EACvB1R,GAAOjL,KAAKu7J,aACZv7J,KAAKu7J,YAAc,IAErBU,aAAc,WACZ,GAAIj8J,KAAKujK,aAAevjK,KAAKg3D,eAAiBh3D,KAAKoN,UAAU81C,UAAW,CACtE,IAAI1/C,EAAQxD,KAAK0rB,iBACjB1rB,KAAKujK,WAAW/rJ,MAAM+B,IAAM,KAAO/V,EAAMiW,GAAK,GAAK,OAGvDypJ,4BAA6B,SAAUxmJ,EAAOC,EAAKhT,GAGjD,GAFI3J,KAAKujK,aAAYvjK,KAAKujK,WAAW/rJ,MAAM+B,IAAMvZ,KAAK8/J,qBAAuB,MAExEn2J,GAAS+S,GAAS1c,KAAKqjK,mBAAqB1mJ,GAAO3c,KAAKsjK,iBAiB7D,GAFAtjK,KAAKojK,kBAAkB1mJ,EAAOC,GAE1B3c,KAAKwjK,sBAAT,CAAgCxjK,KAAKwjK,uBAAwB,EAE7D,IAAK,IAAIC,EAAM,EAAGA,EAAMzjK,KAAKgjK,kBAAkBvhK,OAAQgiK,IAAO,CAC5D,IAEIjiK,EAFAmrB,EAAO3sB,KAAKgjK,kBAAkBS,GAC9BxmJ,EAAOjd,KAAK8jC,QAAQnX,EAAKzlB,IAI3B1F,EADsB,mBAAbyb,EAAK4lD,KACN5lD,EAAK4lD,KAAKzgE,KAAKpC,KAAMid,EAAMjd,KAAKsE,MAEhCtE,KAAKmuJ,UAAUlxI,EAAMjd,KAAKm1D,gBAAgBl4C,EAAK4lD,MAAO4gG,GAGhE,IAAIC,EAAO1jK,KAAKu7J,YAAYkI,GAAO3rJ,GAAO,MAAO,KAAMtW,GAEvDkiK,EAAKvrJ,UAAY,eAAiB8E,EAAK0mJ,KAAO,oBAAsB3jK,KAAKoN,UAAUy6C,QAAU,OAAS,OAAS,uBAAyB5qC,EAAK4lD,KAAO,kBAAoB7iE,KAAKkF,KAAKigD,QAAQloC,EAAK/V,GAAI,kBAAoB,kBAAoB,IAAM,KAEjPw8J,EAAKjsJ,aAEL,SAAU,GAEVisJ,EAAKjsJ,aAEL,MAAOkV,EAAKtP,OAEZ,IAAIvD,EAASmD,EAAKmrB,SAAWpoC,KAAKoN,UAAU2d,UACxC9N,EAAK0kJ,SAAU+B,EAAKlsJ,MAAMsC,OAASmD,EAAK2kJ,WAAa,KAAU8B,EAAKlsJ,MAAMsC,OAASA,EAAS,KAChG4pJ,EAAKlsJ,MAAM0pD,aAAe5iD,GAAI6pB,WAAa,KAC3C,IAAIy7H,EAAW5jK,KAAKgjK,kBAAkBS,GAAKpmJ,MAAQrd,KAAKiH,OAAO0kB,UAAY3rB,KAAK8/J,qBAAuB,EACvG4D,EAAKlsJ,MAAM+B,IAAMqqJ,EAAWj3I,EAAKpT,KAAO0D,EAAK0kJ,SAAW7nJ,EAAS,EAAI,GAAK,KAErE9Z,KAAKujK,aACRvjK,KAAKujK,WAAazrJ,GAAO,OACzB9X,KAAKujK,WAAW/rJ,MAAM0Y,SAAW,WACjClwB,KAAKujK,WAAW/rJ,MAAM+B,IAAMvZ,KAAK8/J,qBAAuB,KAExD9/J,KAAK4qB,MAAMlT,YAAY1X,KAAKujK,YAE5BvjK,KAAK6M,YAAY,gBAAgB,SAAUoF,EAAGwH,EAAGlM,GAC/C6jC,GAAM6C,YAAYj0C,KAAKujK,WAAY,EAAG9pJ,EAAGlM,OAI7CvN,KAAKujK,WAAW7rJ,YAAYgsJ,GAExB1jK,KAAKoN,UAAUy6C,SAAS7nD,KAAK8M,UAAU,kBAAmB,CAACmQ,EAAMymJ,WA7DrE,GAAI1jK,KAAKiH,OAAO0kB,SAEd,IAAK,IAAIjrB,EAAI,EAAGA,EAAIV,KAAKgjK,kBAAkBvhK,OAAQf,IAAK,CACtD,IAAIijB,EAAM3jB,KAAKu7J,YAAY76J,GAEvBV,KAAKgjK,kBAAkBtiK,GAAG2c,MAAQrd,KAAKiH,OAAO0kB,WAChDhI,EAAInM,MAAM+B,IAAMvZ,KAAKgjK,kBAAkBtiK,GAAG6Y,IAAMvZ,KAAK8/J,qBAAuB,QA0DtFqD,iBAAkB,SAAUJ,GAC1B,IAAIc,EAAS7jK,KAAKoN,UAAU4+D,MACxB83F,EAAQ9jK,KAAKoN,UAAU+lD,UACvB1sB,GAAazmC,KAAK+jK,wBAA0BhB,EAAG,IAAM/iK,KAAK+jK,uBAG9D,GAFA/jK,KAAK+jK,uBAAyBhB,EAAG,GAE7B/iK,KAAKgkK,mBAAoB,CAC3B,GAAIH,KAAYC,GAASA,GAASD,EAAO78J,OAAWhH,KAAKikK,YAAY,CAAC,EAAGJ,EAAO78J,KAAO68J,EAAOt3F,MAAO7yD,KAAKgC,IAAIooJ,EAAOD,EAAO78J,OAAO,GAAO,OAAOhH,KAAKgkK,mBAAqB,KAE3KhkK,KAAKmjF,eAAenjF,KAAKgkK,mBAAoBv9H,GAE7CzmC,KAAKgkK,mBAAqB,UAEtBhkK,KAAKoN,UAAUy1E,WAAW7iF,KAAKikK,YAAYlB,EAAI/iK,KAAKoN,UAAUy1E,UAAWp8C,IAGjFw9H,YAAa,SAAUjvJ,EAAMrD,EAAO2tB,GAClC,IAAI5iB,EAAQ1H,EAAK,GACb2H,EAAMD,EAAQ/K,EAEb2tB,IACH5iB,EAAQ1H,EAAK,GAAKrD,EAClBgL,EAAM3H,EAAK,IAGT0H,EAAQ,IAAGA,EAAQ,GACvBC,EAAMjD,KAAKwJ,IAAIvG,EAAK3c,KAAKkF,KAAKwyB,MAAMj2B,OAAS,GAG7C,IAFA,IAAIkK,GAAS,EAEJjL,EAAIgc,EAAOhc,EAAIic,EAAKjc,IACtBV,KAAKkF,KAAKwyB,MAAMh3B,KACdiL,GAIHA,EAAOm8B,KAAOpnC,EACdiL,EAAOgG,MAAQjR,EAAIgc,GALR/Q,EAAS,CACpB+Q,MAAOhc,EACPiR,MAAOgL,EAAMD,IAQnB,GAAI/Q,EAGF,OAFA3L,KAAKmjF,eAAex3E,EAAQ2zB,IAErB,GAGX6jD,eAAgB,SAAUE,EAAM58C,GAC9B,IAAI90B,EAAQ+H,KAAKgC,IAAI2nE,EAAK1xE,MAAO3R,KAAKoN,UAAU+lD,WAAanzD,KAAKoN,UAAUy1E,WAAa,GACrFnmE,EAAQ+pB,EAAY48C,EAAK3mE,MAAQ2mE,EAAKv7C,KAAOn2B,EAAQ,EACrD3R,KAAKozD,uBAAuBiwB,EAAK1xE,MAAO0xE,EAAK3mE,QACjD1c,KAAKgzD,SAASrhD,EAAO+K,IAGvBwnJ,sBAAuB,SAAUC,GAC/B,GAAI7lJ,GAAImB,SAAU,CAChB,IAAI/e,EACA2J,EACA+5J,EACA34I,EACA6T,EAAM,CAACt/B,KAAKgqJ,UAAWhqJ,KAAKmtJ,WAEhC,IAAKzsJ,EAAI,EAAGA,EAAI,EAAGA,KACjB+qB,EAAS6T,EAAI5+B,KAEC+qB,EAAOi4H,aAAej4H,EAAOi4H,YAAYrrI,YAAc8rJ,IACnE95J,EAAOohB,EAAOi4H,aAIdr5I,IACErK,KAAKqkK,iBAAiBp5J,GAAOjL,KAAKqkK,iBACtCrkK,KAAKqkK,gBAAkBh6J,EACvB+5J,EAAU/5J,EAAK4gF,WAAU,GAEzB5gF,EAAKgO,WAAWE,aAAa6rJ,EAAS/5J,GACtCrK,KAAKqkK,gBAAgB7sJ,MAAMghB,QAAU,OAErCx4B,KAAK4qB,MAAMlT,YAAY1X,KAAKqkK,oBAIlC/P,YAAa,SAAUnhI,GACrB,IAAI5jB,EAAMvP,KAAKukF,SAASpxD,GAExBnzB,KAAKkkK,sBAAsB30J,EAAIlF,MAE/BY,GAAOsE,EAAIlF,MACXkF,EAAI4iJ,UAAW,GAEjB0Q,kBAAmB,WACjB,IAAK,IAAIniK,EAAI,EAAGA,EAAIV,KAAKukF,SAAS9iF,OAAQf,IACxCV,KAAKukF,SAAS7jF,GAAG2xJ,MAAO,EAGtBryJ,KAAKu7J,YAAY95J,SACnBwJ,GAAOjL,KAAKu7J,aACZv7J,KAAKu7J,YAAc,KAGvBh5C,QAAS,SAAUgkC,EAAQI,GACzB,OAAO3mJ,KAAKmuJ,UAAUnuJ,KAAK8jC,QAAQyiH,GAASvmJ,KAAKm1D,gBAAgBwxF,GAAY,IAE/E+R,OAAQ,SAAUnS,EAAQI,GACxB,IAAI1pI,EAAOjd,KAAK8jC,QAAQyiH,GACxB,OAAOvmJ,KAAK2iK,QAAQ3iK,KAAKm1D,gBAAgBwxF,GAAY1pI,EAAK0pI,GAAY1pI,EAAMspI,IAE9Eoc,QAAS,SAAU17J,EAAQzF,EAAOyb,EAAM/V,GACtC,IAAIoU,EAAM,aAEV,GAAIrU,EAAOo2J,UAAW,CACpB,IAAIiH,EAAUr9J,EAAOo2J,UAAU77J,EAAOyb,EAAM/V,EAAID,EAAOC,IAEnDo9J,IACsB,UAApBrkK,EAAQqkK,GAAsBhpJ,GAAO,IAAMnE,GAAUmtJ,GAAchpJ,GAAO,IAAMgpJ,GAIxF,IAAIC,EAAUtnJ,EAAKknC,KAEfogH,IACsB,UAApBtkK,EAAQskK,KAAsBtnJ,EAAKknC,KAAOogH,EAAUptJ,GAAUotJ,IAClEjpJ,GAAO,IAAMipJ,GAGf,IAAIlvJ,EAAOrV,KAAKkF,KAAK+mD,OAAO/kD,GAE5B,GAAImO,IACEA,EAAK8uC,OAAM7oC,GAAO,IAAMjG,EAAK8uC,MAE7B9uC,EAAKmvJ,UAAU,CACjB,IAAIC,EAAcpvJ,EAAKmvJ,SAASv9J,EAAOC,IACnCu9J,IAAanpJ,GAAO,IAAMmpJ,GAIlC,GAAIxnJ,EAAKunJ,SAAU,CACjB,IAAIE,EAAaznJ,EAAKunJ,SAASv9J,EAAOC,IAElCw9J,IACyB,UAAvBzkK,EAAQykK,KAAyBA,EAAavtJ,GAAUutJ,IAC5DppJ,GAAO,IAAMopJ,GAKjB,IAAI79F,EAAW7mE,KAAKkF,KAAKigD,QAAQloC,EAAK/V,GAAI,kBAE1C,OADI2/D,IAAaA,EAAShE,MAAQgE,EAAS5/D,EAAOC,MAAQD,EAAOkoE,aAAW7zD,GAAOtb,KAAKglJ,aACjF1pI,GAET6yI,UAAW,SAAUlxI,EAAMhW,EAAQvG,GACjC,OAAKuc,GAGDzb,OADJA,EAAQyb,EAAKhW,EAAOC,OACuB1F,EAAQ,IAC/CyF,EAAO+8B,SAAQxiC,EAAQyF,EAAO+8B,OAAOxiC,IACrCyF,EAAO4iB,WAAUroB,EAAQyF,EAAO4iB,SAAS5M,EAAMjd,KAAKsE,KAAM9C,EAAOyF,EAAQvG,IACtEc,GANW,GAClB,IAAIA,GASN8C,KAAM,CACJ42D,SAAU,SAAU76D,EAAKyoB,EAAQtnB,EAAOyF,GAEtC,MAAO,wDADOzF,GAASyF,EAAOi0F,WAAa,iBAAqB,IACU,KAE5EgU,MAAO,SAAU7uG,EAAKyoB,EAAQtnB,EAAOyF,GAEnC,MAAO,kDADOzF,GAASyF,EAAOi0F,WAAa,iBAAqB,IACI,KAEtEypE,SAAU,WACR,MAAO,+CAETC,UAAW,WACT,MAAO,+CAGXn3F,YAAa,SAAUjsE,GAMrB,OALKxB,KAAKsjB,OAAUtjB,KAAKsjB,MAAM9hB,IAC7BxB,KAAKsE,KAAOoD,EAAM1H,KAAKsjB,MAAM9hB,IACzBxB,KAAKsE,KAAKgX,MAAKtb,KAAKkjC,YAAY/qB,WAAa,IAAMnY,KAAKsE,KAAKgX,MAF5BwR,GAAK9sB,KAAMwB,GAI9CxB,KAAKsE,KAAK+tB,UAAU1yB,EAAQ8J,OAAOzJ,KAAKqyB,SAAUryB,KAAKsE,KAAK+tB,UACzD7wB,GAETyhK,cAAe,SAAU9vI,EAAU4vI,EAAIp5J,EAAOuyG,GAC5C,IAAI3sG,EAAMvP,KAAKukF,SAASpxD,GAExB,IAAK5jB,EAAI4iJ,SAAU,CACjB,IAAI6P,EAAe7uI,EAAWnzB,KAAKoN,UAAUynD,UAAY,EAAI1hC,GAAYnzB,KAAKorJ,YAAc,EAAI,EAEhGprJ,KAAK4qB,MAAMva,WAAW2xJ,GAActxJ,WAAWgH,YAAYnI,EAAIlF,MAE/DkF,EAAI4iJ,UAAW,EACf5iJ,EAAIM,MAAQmyJ,EAgBd,GAbAhiK,KAAKiqJ,mBAAqB8Y,EAAG,GAC7B/iK,KAAK8/J,qBAAuB,EAC5B9/J,KAAK+/J,oBAAsBgD,EAAG,GAE1B/iK,KAAKoN,UAAUq9I,aACbsY,EAAG,IAAM/iK,KAAKkF,KAAKwyB,MAAMj2B,QAAUzB,KAAKkF,KAAKunE,WAAas2F,EAAG,GAAK/iK,KAAKkF,KAAKunE,WAAc,EAC5Fl9D,EAAIlF,KAAKmN,MAAM+B,KAAOvZ,KAAK8/J,qBAAuBiD,EAAG,IAAM,KAClDxzJ,EAAIs1J,OAAMt1J,EAAIlF,KAAKmN,MAAM+B,IAAM,QAE1CvZ,KAAK8/J,qBAAuBiD,EAAG,GAC/BxzJ,EAAIlF,KAAKmN,MAAM+B,IAAMwpJ,EAAG,GAAK,QAG1Bp5J,GAAS4F,EAAI8iJ,MAAQ0Q,EAAG,IAAMxzJ,EAAI+iJ,MAAQyQ,EAAG,IAAQ/iK,KAAKoN,UAAUue,UAAYpc,EAAIuwJ,sBAAwB9/J,KAAK8/J,sBAAuB,OAAO,EASpJ,IARA,IAAI9nJ,EAAO,GACP/Q,EAASjH,KAAKoN,UAAU0Q,QAAQqV,GAChC3vB,EAAQ,CACVmgB,IAAK3jB,KAAKoN,UAAU2d,UACpBm1D,MAAO,EACP4kF,OAAQ5oD,GAGDx7G,EAAI,EAAGA,EAAIV,KAAKoN,UAAUue,SAAUjrB,IAC3CsX,GAAQhY,KAAK+kK,oBAAoBrkK,EAAGuG,EAAQ87J,EAAIv/J,GAAQxD,KAAK8/J,qBAAsB3sI,GAIrFnzB,KAAKgkK,mBAAqB,KAE1B,IAAK,IAAIgB,EAAOtrJ,KAAKgC,IAAIqnJ,EAAG,GAAI/iK,KAAKoN,UAAUue,UAAWq5I,EAAOjC,EAAG,GAAIiC,IACtEhtJ,GAAQhY,KAAK+kK,oBAAoBC,EAAM/9J,EAAQ87J,EAAIv/J,GAAO,EAAI2vB,GAWhE,OAPAnzB,KAAKkkK,sBAAsB30J,EAAIlF,MAE/BkF,EAAIlF,KAAKoM,UAAYuB,EACrBzI,EAAI8iJ,KAAO0Q,EAAG,GACdxzJ,EAAI+iJ,KAAOyQ,EAAG,GACdxzJ,EAAIs1J,KAAO9B,EAAG,GACdxzJ,EAAIuwJ,qBAAuB9/J,KAAK8/J,qBACzB,GAETiF,oBAAqB,SAAUrkK,EAAGuG,EAAQ87J,EAAIv/J,EAAO+V,EAAK4Z,GACxD,IAAIjsB,EAAKlH,KAAKkF,KAAKwyB,MAAMh3B,GACrBuc,EAAOjd,KAAKkF,KAAK4+B,QAAQ58B,GACzB8Q,EAAO,GAEX,GAAIiF,EAAM,CACR,IAAIuuD,EAAO,oCAAsC9qE,EAAI,GAAK,qBAAuBV,KAAKktF,eAAejmF,EAAOC,IAAM,GAAK,KAAO+V,EAAKomD,QAAUpmD,EAAK0mJ,KAAO,oBAAsB1mJ,EAAKzK,MAAQyK,EAAK0kJ,SAAW,OAAS,SAAW,IAAM,KAAO1kJ,EAAKo7C,OAAS,gBAAkBp7C,EAAKo7C,OAAS,IAAM,IAEjS,GAAI70D,EAAMshK,QAAU7nJ,EAAK4lD,OACvB7iE,KAAKwjK,uBAAwB,EAE7BxjK,KAAKgjK,kBAAkBzhK,KAAK,CAC1BgY,IAAK/V,EAAM08E,MACXh5E,GAAI+V,EAAK/V,GACTmW,MAAO3c,KAGJuc,EAAK0mJ,MAAM,CACd,IAAI54I,EAAY9N,EAAKmrB,SAAW5kC,EAAMmgB,IAEtC,OADAngB,EAAM08E,OAASn1D,EACR,OAASygD,EAAO,qCAAuCzgD,EAAY,cAI9E,IAAIvpB,EAAQxB,KAAKmuJ,UAAUlxI,EAAMhW,EAAQvG,GAErC4a,EAAMtb,KAAK2iK,QAAQ17J,EAAQzF,EAAOyb,EAAM/V,GAExC+9J,EAAa,qCAEjB,IAA8B,IAA1B3pJ,EAAI3O,QAAQ,UAEd,IAA2B,IAAvB2O,EAAI3O,QAAQ,OACL3M,KAAKi3J,eAEP,KAAO9jI,IAAUq4C,GAAQy5F,QACA,IAAvB3pJ,EAAI3O,QAAQ,OACjBjM,IAAMqiK,EAAG,KAAIv3F,GAAQy5F,GACpBz5F,GAAQy5F,EAGjB,IAAIC,IAAWjoJ,EAAK0kJ,SAChB9gG,EAASqkG,EAAS,iBAAmBjoJ,EAAK2kJ,WAAa,MAAQ,GAE/DroJ,GAAO,IACLA,EAAM,IAAGsnD,GAAU,OAAStnD,EAAM,QACtC+B,EAAM,iBAAmBA,EACrB5a,GAAKV,KAAKoN,UAAUue,SAAW,IAAGrQ,EAAM,sBAAwBA,IAGlE2B,EAAKmrB,SACPpwB,EAAO,OAASwzD,EAAO,WAAalwD,EAAM,mBAAqB2B,EAAKmrB,QAAU,MAAQy4B,EAAS,KAAOr/D,EAAQ,SAC9GgC,EAAM08E,OAASjjE,EAAKmrB,QAAU5kC,EAAMmgB,KAEpC3L,EAAO,OAASwzD,EAAO,WAAalwD,EAAM,KAAOulD,EAAS,WAAaA,EAAS,IAAM,IAAM,IAAMr/D,EAAQ,SAGxG0jK,IAAQ1hK,EAAM08E,OAASjjE,EAAK2kJ,iBAEhC5pJ,EAAO,iDACFhY,KAAKgkK,mBAGHhkK,KAAKgkK,mBAAmBl8H,KAAOpnC,EAHRV,KAAKgkK,mBAAqB,CACtDtnJ,MAAOhc,EACPiR,MAAOoxJ,EAAG,GAAKriK,GAKnB,OADA8C,EAAM08E,OAAS18E,EAAMmgB,IACd3L,GAET+kJ,mBAAoB,WAClB,GAAK/8J,KAAKukF,SAAS9iF,SAAUupB,MAA6B,EAAvBhrB,KAAKqoC,iBAAxC,CACA/gC,EAAetH,KAAM,CAAC,aAAa,GACnC,IAAImlK,EAAgBnlK,KAAK8sJ,gBAAkB9sJ,KAAKuzJ,aAAevzJ,KAAKuzJ,aAAe,GACnF,IAAKvzJ,KAAKoN,UAAU+1C,aAAcnjD,KAAKoN,UAAUwgH,SAAW5tH,KAAKy1B,SAAjE,CAEAz1B,KAAKmtJ,UAAU1K,OAAOziJ,KAAKqoC,gBAAiBroC,KAAK04D,eAAgB14D,KAAK07J,gBAEtE17J,KAAKmtJ,UAAUttJ,OAAO,eAAgBslK,GAEtCnlK,KAAK+sJ,sBAAwBrzI,KAAKgC,IAAI,EAAG1b,KAAKqoC,gBAAkBroC,KAAKuzJ,aAAevzJ,KAAK04D,eAAiB14D,KAAK07J,gBAE/G,IAAK,IAAIh7J,EAAI,EAAGA,EAAI,EAAGA,IACrBV,KAAK4qB,MAAMva,WAAW3P,GAAG8W,MAAMsC,OAAS9Z,KAAK+sJ,sBAAwB,KACjE/sJ,KAAKoN,UAAU81C,UAAWljD,KAAK4qB,MAAMva,WAAW3P,GAAGgQ,WAAW8G,MAAMsC,OAAS9Z,KAAK8sJ,eAAiB,KAAU9sJ,KAAK4qB,MAAMva,WAAW3P,GAAGgQ,WAAW8G,MAAMsC,OAAS9Z,KAAK+sJ,sBAAwB,KAInM/sJ,KAAKmS,QAAQqF,MAAMsC,OAAS9Z,KAAK04D,eAAiB,QAEpDslG,mBAAoB,WAClB,GAAKh+J,KAAKukF,SAAS9iF,OAAnB,CACA,IAAI0xB,EAAW,MACfnzB,KAAKypJ,YAAc,EACnBzpJ,KAAKwpJ,aAAe,EACpBxpJ,KAAK0pJ,cAAgB,EAEdv2H,EAAWnzB,KAAKoN,UAAUynD,WAC/B70D,KAAKypJ,aAAezpJ,KAAKukF,SAASpxD,GAAUvZ,MAC5CuZ,QAGFA,EAAWnzB,KAAKukF,SAAS9iF,OAAS,EAE3B0xB,GAAYnzB,KAAKorJ,aACtBprJ,KAAKwpJ,cAAgBxpJ,KAAKukF,SAASpxD,GAAUvZ,MAC7CuZ,IAGF,GAAKnzB,KAAKioC,kBACNjoC,KAAKoN,UAAUu5E,YAAa3mF,KAAKy1B,UAArC,CACAz1B,KAAK0pJ,cAAgB1pJ,KAAKioC,eAAiBjoC,KAAKwpJ,aAAexpJ,KAAKypJ,YAAczpJ,KAAK8tJ,aACvF9tJ,KAAK4qB,MAAMva,WAAW,GAAGK,WAAW8G,MAAMoC,MAAQ5Z,KAAK09J,cAAgB,KACvE19J,KAAK4qB,MAAMva,WAAW,GAAGmH,MAAMoC,MAAQ5Z,KAAKypJ,YAAc,KAC1DzpJ,KAAK4qB,MAAMva,WAAW,GAAGmH,MAAMoC,MAAQ5Z,KAAK0pJ,cAAgB,KAC5D1pJ,KAAK4qB,MAAMva,WAAW,GAAGmH,MAAMoC,MAAQ5Z,KAAKwpJ,aAAe,KAC3DxpJ,KAAKmS,QAAQ9B,WAAW,GAAGmH,MAAMoC,MAAQ5Z,KAAKypJ,YAAc,KAC5DzpJ,KAAKmS,QAAQ9B,WAAW,GAAGmH,MAAMoC,MAAQ5Z,KAAK0pJ,cAAgB,KAC9D1pJ,KAAKmS,QAAQ9B,WAAW,GAAGmH,MAAMoC,MAAQ5Z,KAAKwpJ,aAAe,KAC7DxpJ,KAAKqtJ,QAAQh9I,WAAW,GAAGmH,MAAMoC,MAAQ5Z,KAAKypJ,YAAc,KAC5DzpJ,KAAKqtJ,QAAQh9I,WAAW,GAAGmH,MAAMoC,MAAQ5Z,KAAK0pJ,cAAgB,KAC9D1pJ,KAAKqtJ,QAAQh9I,WAAW,GAAGmH,MAAMoC,MAAQ5Z,KAAKwpJ,aAAe,KAC7D,IAAIl2G,EAAQtzC,KAAK0pJ,cAAgB1pJ,KAAK09J,cAClCpqH,EAAQ,IAAGA,EAAQ,GAEnBA,GAAStzC,KAAKi+J,oBAChBj+J,KAAKi+J,kBAAoB3qH,EAEzBtzC,KAAKs+J,2BAGPt+J,KAAKgqJ,UAAUvH,OAAOziJ,KAAKioC,eAAiBjoC,KAAK8tJ,cAEjD9tJ,KAAKgqJ,UAAUnqJ,OAAO,cAAeG,KAAK09J,cAAgB19J,KAAKypJ,YAAczpJ,KAAKwpJ,iBAEpFhhH,SAAU,SAAUzT,EAAIC,GACtB,IAAKh1B,KAAKoN,UAAU+1C,YAAcnjD,KAAKoN,UAAUwgH,SAAW5tH,KAAKoN,UAAU0Q,QAAS,CAElF,IAAIsnJ,GAAWplK,KAAKoN,UAAUwgH,QAAU,GAAK5tH,KAAKoN,UAAU2d,UAGvDq6I,IAASA,EAAUplK,KAAKgqB,YAAchqB,KAAK8sJ,eAAiB9sJ,KAAK2R,QAAU3R,KAAKoN,UAAU2d,WAE/F/qB,KAAKoN,UAAU0M,OAASJ,KAAKgC,IAAI0pJ,GAAWplK,KAAKuzJ,aAAevzJ,KAAKuzJ,aAAe,GAAK,EAAGvzJ,KAAKoN,UAAUouB,WAAa,GAAKx7B,KAAK04D,eAAiB14D,KAAK07J,eAGtJ17J,KAAKoN,UAAUu5E,WAAa3mF,KAAKoN,UAAU0Q,UAAS9d,KAAKoN,UAAUwM,MAAQF,KAAKgC,IAAI1b,KAAK09J,cAAgB19J,KAAKypJ,YAAczpJ,KAAKwpJ,aAAexpJ,KAAK8tJ,aAAc9tJ,KAAKoN,UAAUkuB,UAAY,IAClM,IAAI+pI,EAAWrlK,KAAKypJ,YAAczpJ,KAAKwpJ,aAAexpJ,KAAK8tJ,aACvD1mJ,EAAQuiC,GAAON,IAAIb,SAASpmC,KAAKpC,KAAM+0B,EAAIC,GAE/C,OADA5tB,EAAM,GAAKsS,KAAKgC,IAAItU,EAAM,IAAMi+J,GACzBj+J,GAETy0J,sBAAuB,WACrB,GAAI77J,KAAKgqJ,UAAW,CAClB,IAAIxmJ,EAAQxD,KAAK0rB,iBACjB1rB,KAAKgqJ,UAAU/iJ,OAAO+6I,UAAYhiJ,KAAKmtJ,UAAUlmJ,OAAO+6I,WAAY,EACpEhiJ,KAAKksB,SAAS1oB,EAAMyO,EAAGzO,EAAMiW,KAGjCouB,SAAU,WACR,IAAIy9H,EAAOtlK,KAAKioC,eACZs9H,EAAOvlK,KAAKqoC,gBAEZsB,GAAON,IAAIxB,SAASj/B,MAAM5I,KAAMsG,aAC9BtG,KAAKs0D,sBACPt0D,KAAK8M,UAAU,WAAY,CAAC9M,KAAKioC,eAAgBjoC,KAAKqoC,gBAAiBi9H,EAAMC,IAE7EvlK,KAAKg+J,qBAELh+J,KAAK+8J,sBAGP/8J,KAAK8pB,WAGT07I,iBAAkB,SAAUnhH,EAAQt/C,GAClC,IAAIwK,EAAMvP,KAAKm1D,gBAAgB9Q,GAC/B,GAAKrkD,KAAKoN,UAAU4b,MAASzZ,EAAIyZ,KAAjC,CACA,IAAIsW,EAAM,MAENt/B,KAAKo0D,aAAa7kD,EAAIrI,IACxBo4B,EAAuC,OAAjCt/B,KAAKo0D,aAAa7kD,EAAIrI,IAAIo4B,IAAe,OAAS,MAC/Ct/B,KAAKw7J,YAAYjsJ,EAAIrI,MAC9Bo4B,EAAiE,OAA3Dt/B,KAAKw7J,YAAYjsJ,EAAIrI,IAAI8H,aAAa,kBAA6B,OAAS,OAGpFhP,KAAK41D,MAAMrmD,EAAIrI,GAAIo4B,EAAK/vB,EAAIyZ,KAAMjkB,EAAEg8B,SAAWh8B,EAAEk8B,WAEnDwzB,YAAa,SAAUpQ,EAAQ5d,EAAW+pB,GAGxC,GAFA/pB,EAAYA,GAAa,OAEpB+pB,EAGH,IAAK,IAAI9vD,KAFTV,KAAKy7J,kBAAoB,GAEXz7J,KAAKw7J,YACjB,GAAI96J,IAAM2jD,EAAQ,CAChB,IAAI12C,EAAS3N,KAAKw7J,YAAY96J,GAAG2X,WAE7B1K,IACFA,EAAO8sB,gBAAgB,aACvB9sB,EAAO8sB,gBAAgB,aAGzBxvB,GAAOjL,KAAKw7J,YAAY96J,WACjBV,KAAKw7J,YAAY96J,QAExBV,KAAKy7J,kBAAkBl6J,KAAKb,GAE5BV,KAAKw7J,YAAY96J,GAAGgQ,WAAW+F,UAAY,IAKjD,GAAK4tC,EAAL,CAEA,GAAIrkD,KAAKw7J,YAAYn3G,GACnBrkD,KAAKw7J,YAAYn3G,GAAQlsC,UAAY,iBAAiBqe,OAAOiQ,OACxD,CACL,IAAI+O,EAAO19B,GAAO,MAAO,CACvB2tJ,eAAgBh/H,EAChBjrB,MAAO,iBAAiBgb,OAAOiQ,IAC9B,kCAAoCjQ,OAAOx2B,KAAKy7J,kBAAkBh6J,OAAS,EAAG,WAEjFzB,KAAKw+J,oBAAoBn6G,EAAQ7O,EAAM/O,GAEvCzmC,KAAKw7J,YAAYn3G,GAAU7O,EAE3Bx1C,KAAKy7J,kBAAkBl6J,KAAK8iD,GAG9B,IAAIrwB,EAAQh0B,KAAKw7J,YAAYx7J,KAAKy7J,kBAAkB,IAEpD,OAAQz7J,KAAKy7J,kBAAkBh6J,QAC7B,KAAK,EACHyZ,GAAO8Y,EAAO,wBACd,MAEF,KAAK,EACH5Y,GAAU4Y,EAAO,2BAGvBwqI,oBAAqB,SAAUn6G,EAAQ7O,EAAM/O,GAC3CA,EAAYA,GAAa+O,EAAKxmC,aAAa,kBAE3C,IAAI4U,EAAO5jB,KAAK0lK,iBAAiB1lK,KAAKktF,eAAe7oC,IAEjDzgC,IACyB,YAAvBA,EAAKpM,MAAM0Y,WAAwBtM,EAAKpM,MAAM0Y,SAAW,YAC7DtM,EAAKlM,YAAY89B,GACjB5xB,EAAKnM,aAAa,YAAagvB,EAAY,UAC3C7iB,EAAKnM,aAAa,WAAY,OAGlC42D,cAAe,SAAUv8D,GACvB,MAAmB,iBAARA,GACT9R,KAAKoN,UAAUw/I,SAA+B,GAArB96I,EAAKnF,QAAQ,KACtC3M,KAAKoN,UAAUy/I,SAA+B,GAArB/6I,EAAKnF,QAAQ,KAC/BmF,GACK9R,KAAKoN,UAAUw/I,QAAU5sJ,KAAKoN,UAAUy/I,QAAU/6I,GAElE4zJ,iBAAkB,SAAUrhH,GAS1B,IARA,IAII3zB,EAAQ1wB,KAAKmS,QAAQomB,iBAAiB,OAAO/B,OAFjD,SAE8D,MAAOA,OAAO6tB,EAAQ,OAEhFshH,EAAQ,KAEHjlK,EAAI,EAAGA,EAAIgwB,EAAMjvB,OAAQf,IAAK,CACrC,IAAI0/J,EAAW1vI,EAAMhwB,GAAGsO,aAExB,aACA,GAAIoxJ,IAAa3lE,GAAWz6F,KAAKg2D,gBAAgBoqG,GAAUljJ,SAASwmE,MAAO,OAAO,KAClF,GAAKhzD,EAAMhwB,GAAG+V,YACdkvJ,EAAQj1I,EAAMhwB,IACTgwB,EAAMhwB,GAAG8jD,SAAW,GAAK,GAAG,OAAOmhH,EAG1C,OAAOA,GAETxxG,YAAa,GACbC,aAAc,GACdwB,MAAO,SAAU2oG,EAAQ93H,EAAWqD,EAAS0mB,GAC3C,IAAIpqC,EAASpmB,KAGbymC,EAAYA,GAAa,OADzB+pB,EAAmC,UAAxBxwD,KAAKoN,UAAU4b,MAAoBwnC,KAI5CxwD,KAAKm0D,YAAc,GACnBn0D,KAAKo0D,aAAe,IAGtB,IAAI7kD,EAAMvP,KAAKm1D,gBAAgBopG,GAC3Bt3J,EAA4B,mBAAZsI,EAAIyZ,KAAqB,CAC3C8mC,GAAIvgD,EAAIyZ,KACRsW,IAAKmH,GACH,CACFopB,GAAItgD,EAAIrI,GACRo4B,IAAKmH,EACLqpB,GAAIvgD,EAAIyZ,MAKV,GAHKhpB,KAAKo0D,aAAa7kD,EAAIrI,KAAKlH,KAAKm0D,YAAY5yD,KAAKgO,EAAIrI,IAC1DlH,KAAKo0D,aAAa7kD,EAAIrI,IAAMD,EAEb,UAAX6iC,EAAqB,CACvB,IAAI3gC,EAAS,CAACoG,EAAIrI,GAAIu/B,EAAWqD,GAC7B9pC,KAAKm0D,YAAY1yD,OAAS,IAAG0H,EAAS,CAACnJ,KAAKm0D,YAAY7uD,KAAI,SAAU4B,GACxE,OAAOkf,EAAOguC,aAAaltD,QAE7BlH,KAAK8M,UAAU,eAAgB3D,GAC1BnJ,KAAKw1D,gBAEFx1D,KAAKw1D,gBAAgBW,QAAUhtD,EAFZnJ,KAAKgzD,SAAS,EAAG,EAAG,EAAG,GAAG,GAAM,GAAM3vD,MAAK,WACpE,OAAO+iB,EAAO8vC,eAAe/sD,UAE1B,CACL,GAAe,QAAX2gC,EAAmB,CACrB,IAAI6b,EAAS,SAAWp2C,EAAIrI,GAC5BlH,KAAKkF,KAAKiG,MAAK,SAAU9K,GACvBA,EAAIslD,GAAU3lD,KAAKuiH,QAAQliH,EAAI6G,GAAIqI,EAAIrI,MACtClH,MACHiH,EAAO6oD,GAAK,SACZ7oD,EAAO4oD,GAAKlK,EAGV3lD,KAAKm0D,YAAY1yD,OAAS,EAAGzB,KAAKkF,KAAK8jB,KAAKhpB,KAAKm0D,YAAY7uD,KAAI,SAAU4B,GAC7E,OAAOkf,EAAOguC,aAAaltD,OACpBlH,KAAKkF,KAAK8jB,KAAK/hB,GAG1BjH,KAAKy0D,YAAYllD,EAAIrI,GAAID,EAAOq4B,IAAKkxB,IAEvC0F,eAAgB,SAAU/sD,GACxBnJ,KAAK8M,UAAU,cAAe3D,IAEhCy8J,gBAAiB,SAAUC,EAAU9gK,EAAGmC,EAAIyR,GAC1C,IAAajY,EAEb,GAAImlK,EAASpkK,OACX,IAAKf,EAAI,EAAGA,EAAImlK,EAASpkK,OAAQf,IAG/B,IAAY,IAFF8J,EAAUq7J,EAASnlK,GAAIV,KAAKyM,QACxBrK,KAAKpC,KAAM+E,EAAGmC,EAAIyR,GACb,OAAO,GAKhCixD,YAAa,SAAU7kE,EAAGqZ,EAAMxY,EAAMukE,GACpC,IAAIxxD,EAAM5T,EAAE+C,OACZ,IAAI9H,KAAKoN,UAAUy6C,SAAW7nD,MAAQ6uB,GAAGlW,GAAzC,KAEA,IAAI2C,EAAM,GACNuqJ,EAAW,GACXxzJ,GAAQ,EACRnL,EAAK,KAGFyR,GAAOA,EAAIN,YAAcM,GAAO3Y,KAAKgwB,SAAS3X,YAAY,CAG/D,IAAKiD,EAFQiB,GAAc5D,KAELyF,EAGpB,IAAK,IAAI1d,GAFT4a,EAAMA,EAAInZ,WAAW0N,MAAM,MAEVpO,OAAS,EAAGf,GAAK,EAAGA,IAC/B0d,EAAK9C,EAAI5a,KAAKmlK,EAAStkK,KAAK6c,EAAK9C,EAAI5a,KAI7C,GAAIiY,EAAIN,WAAWrJ,eAAiB9H,EAAI,CACtC,IAAIm9C,EAAS1rC,EAAIN,WAAWrJ,aAE5B,WAAa2J,EAAI3J,aAEjB,UAEA,GAAIq1C,EAAQ,CAEV,IAAIrH,EAASh9C,KAAK4qB,MAAMoN,SAASrf,GAGjC,IAAK3Y,KAAKukF,SAASlgC,GAAS,OAG5B,GAFAhyC,GAAQ,EAEJ2qC,EAAQ,CACV,IAAI7pB,EAAWxa,EAAIN,WAAWrJ,aAE9B,QAAU2J,EAAI3J,aAEd,OAEA,IAAKmkB,EAAU,CAEb,GAAIxa,EAAI3J,aAER,UAAW,OAGX,IAFAmkB,EAAWlc,GAAM0B,KAED3Y,KAAKoN,UAAUue,UACjB3rB,KAAKoN,UAAU4+D,QACbhsE,KAAKoN,UAAU81C,YAAcljD,KAAKoN,UAAU+1C,cAAYhwB,GAAYnzB,KAAKukF,SAASlgC,GAAQguG,KAAOryJ,KAAKoN,UAAUue,UAIlI3rB,KAAK6oE,cAAgB3hE,EAAK,CACxByc,IAAK3jB,KAAKkF,KAAKwyB,MAAMvE,GACrBkxB,OAAQrkD,KAAKukF,SAASlgC,GAAQn9C,IAEhCA,EAAG/E,SAAWnC,KAAK4lJ,mBACd5lJ,KAAK6oE,cAAgB3hE,EAAK,CAC/Bm9C,OAAQrkD,KAAKukF,SAASlgC,GAAQn9C,IAKhC,IAAY,IADNlH,KAAK4lK,gBAAgBC,EAAU9gK,EAAGmC,EAAIyR,GACzB,OAEnB,GAAIqkC,EACEh9C,KAAK8M,UAAU,KAAOlH,EAAM,CAACsB,EAAInC,EAAG4T,KAASwxD,GAC/CnqE,KAAK8M,UAAU,KAAOq9D,EAAM,CAACjjE,EAAInC,EAAG4T,SAEjC,GAAY,aAAR/S,EAAqB,CACf5F,KAAKmS,QAAQ6lB,SAASrf,IAErB3Y,KAAK8M,UAAU,gBAAiB,CAAC5F,EAAInC,EAAG4T,KAAO3Y,KAAKwlK,iBAAiBt+J,EAAGm9C,OAAQt/C,GAGlG8gK,EAAW,IAIfltJ,EAAMA,EAAIN,WAKZ,OAFArY,KAAK4lK,gBAAgBC,EAAU9gK,EAAGmC,EAAIlH,KAAK6qB,OAEpCxY,IAETw4B,kBAAmB,SAAUt9B,EAAGxI,GAC9B,IAAImC,EAAKlH,KAAK0Y,OAAO3T,GACrB,IAAKmC,EAAI,OAAO,KAChB,IACIhC,EADAouB,EAAUV,GAAeS,SAG7B,GAAInsB,EAAG8M,OAAQ,KACb,IAEIiK,EAFA5T,EAAOtF,EAAE+C,OACT65F,EAAUt3F,EAEVipG,EAAOpsG,EAAGosG,MAAQpsG,EAAGo9C,KAAOp9C,EAAGo9C,KAAO,EAAI,GAC1C+uD,GAAO,EAEJ1R,IAAY1jF,GAEjBA,GADA0jF,EAAUA,EAAQtpF,YACDrJ,aAAa,gBAGzB3E,GAAQgpG,EAAO,GAAG,CACvB,IAAI1vF,EAAMtZ,EAAK2E,aAAa,OACxB2U,IAAK0vF,EAAO1vF,GAChBtZ,EAAOA,EAAKgO,WAGd,IAAIpR,EAASjH,KAAKukF,SAAS+uB,GAAMr1F,GAAQo1F,GACzC,IAAIpsG,EAAOqsB,QAAoG,OAAO,KAAlGA,EAAQhvB,KAAKulB,SAAWxB,IAA4B,IAAnBphB,EAAOqsB,QAAmB,SAAWrsB,EAAOqsB,SACjGpuB,EAAO+B,MACF,CACL,IAAI6+J,EAAUxyI,EAAQhvB,KAAK+/C,OAASrkD,KAAKm1D,gBAAgBjuD,EAAGm9C,QAG5D,IAAKyhH,EAAQxyI,cAA+BpyB,IAApB4kK,EAAQxyI,QAAuB,OAAO,KAE9D,IAAwB,IAApBwyI,EAAQxyI,UAAqBwyI,EAAQxyI,SAAWtqB,EAAYhJ,KAAKoN,UAAUkmB,QAAQzJ,UACrF3kB,EAAOlF,KAAKuiH,QAAQr7G,EAAGyc,IAAKzc,EAAGm9C,QAAQliD,gBAClC,GAAI2jK,EAAQxyI,QAAS,CAC1B,IAAIsF,EAAO7zB,EAAE+C,OAAOkH,aAAa,cAG/BskB,EAAQhvB,KAAKulB,SADX+O,EACsB,SAAUv4B,EAAKyoB,GACrC,IAAIkd,EAAS3lC,EAAIylK,EAAQ5+J,IACzB,OAAOmhB,GAASy9I,EAAQxyI,SAASlxB,KAAKpC,KAAMK,EAAKyoB,EAAQkd,EAAOpN,GAAOA,IAE5CvQ,GAASy9I,EAAQxyI,cAC3CA,EAAQhvB,KAAKulB,SAAWxB,GAASroB,KAAKoN,UAAUkmB,QAAQzJ,UAGjE,YAAgB3oB,IAATgE,EAAqBA,EAAOlF,KAAK8jC,QAAQ58B,EAAGyc,MAErDyQ,YAAa,WAIX,OAHAxB,GAAee,uBAERf,GAAeS,SAAS/uB,KAAK+/C,OAC7B,MAETsnB,YAAa,SAAUzlE,GACrB,IAAKlG,KAAK+lK,mBAAoB,CAC5B,IAAIx4J,EAAIuK,GAAO,MAAO,CACpB0D,MAAS,iBACR,IAEHxb,KAAK4qB,MAAMlT,YAAYnK,GAEvBvN,KAAK+lK,mBAAqBx4J,EAG5BvN,KAAK+lK,mBAAmBtvJ,UAAYvQ,GAEtC2lE,YAAa,WACP7rE,KAAK+lK,qBACP96J,GAAOjL,KAAK+lK,oBACZ/lK,KAAK+lK,mBAAqB,OAG9B/tF,SAAU,SAAUguF,EAAUC,EAAUC,EAASC,EAASxlJ,EAAUynC,GAKlE,GAJiB,OAAb49G,GAAqBhmK,KAAKkF,KAAKwyB,MAAMj2B,OAAS,IAAGukK,EAAWhmK,KAAKkF,KAAKwyB,MAAM,IAC/D,OAAbuuI,IAAmBA,EAAWjmK,KAAK+rB,SAAS,IAChC,OAAZm6I,IAAkBA,EAAUlmK,KAAKkF,KAAKwyB,MAAMj2B,QAChC,OAAZ0kK,IAAkBA,EAAUnmK,KAAKoN,UAAU0Q,QAAQrc,QAClDzB,KAAKurD,OAAOy6G,KACjBA,EAAWhmK,KAAKimD,aAAa+/G,GAEZ,QADjBC,EAAWjmK,KAAKktF,eAAe+4E,KAG/B,IAAK,IAAIvlK,EAAI,EAAGA,EAAIwlK,GAAWF,EAAWtlK,EAAIV,KAAKkF,KAAKwyB,MAAMj2B,OAAQf,IAAK,CACzE,IAAIk3E,EAAUouF,EAAWtlK,EACrB6lJ,EAASvmJ,KAAKkF,KAAKwyB,MAAMkgD,GAE7B,GAAI2uE,EAIF,IAFA,IAAItpI,EAAOjd,KAAK8jC,QAAQyiH,GAEfhlG,EAAI,EAAGA,EAAI4kH,GAAWF,EAAW1kH,EAAIvhD,KAAKoN,UAAU0Q,QAAQrc,OAAQ8/C,IAAK,CAChF,IAAI02B,EAAUguF,EAAW1kH,EACrBg9G,EAASv+J,KAAK+rB,SAASksD,GACvBtsE,EAASgV,EAAS1D,EAAKshJ,GAAShY,EAAQgY,EAAQ79J,EAAG6gD,GAClD6G,IAASnrC,EAAKshJ,GAAU5yJ,MAKrC0vJ,cAAe,SAAUp1I,EAAQ/gB,IAC1BlF,KAAKoN,UAAU0Q,SAAWmI,EAAOpI,WAAW7d,KAAKH,OAAO,UAAWomB,EAAOpI,UAAU3Y,KAE3Fu3J,kBAAmB,WACjB,IAAI12J,EAAO/F,KAAK8jC,QAAQ9jC,KAAK0vD,cACzBpgD,EAAMtP,KAAKoN,UAAU0Q,QAAU,GAEnC,IAAK,IAAIzM,KAAOtL,EACH,MAAPsL,GAAyB,KAAVA,EAAI,IAAW/B,EAAI/N,KAAK,CACzC2F,GAAImK,EACJ2C,OAAQ3C,EAAI,GAAGghE,cAAgBhhE,EAAIzE,OAAO,GAC1Coc,KAAM,SACN6xC,OAAQ,SAIRvrD,EAAI7N,SAAQ6N,EAAI,GAAG2kD,WAAY,QACC,IAAzBj0D,KAAKoN,UAAUswB,QAAuB19B,KAAKH,OAAO,SAAU,SAsBvEumK,GAAY,CACd/8H,IAAKuxH,GACL5lJ,KAHYrV,EAAQwxB,QAAQypI,GAjoLjB,GAioLiC7mG,GAAWyjB,GAAYlyB,GAAU+X,GAAaiJ,GAAgBwF,GAAevpB,GAAa01G,GAASt3E,GApsFnI,CACZ95B,gBAAiB,WACf,IAAK,IAAInmD,KAAKV,KAAKkF,KAAK+mD,OACtBjsD,KAAKqmK,mBAAmB3lK,GAG1BV,KAAKkF,KAAKmgD,UAAU,iBAAiB,IAEvC4C,cAAe,SAAU/gD,EAAIb,GAG3B,IAAK,IAAIgL,KAFTrR,KAAKqmK,mBAAmBn/J,GAERb,EACdrG,KAAKsmK,WAAWp/J,EAAImK,EAAK,sBAG3BrR,KAAKkb,OAAOhU,EAAI,kBAElB4/C,eAAgB,SAAU5/C,GACxBlH,KAAKqmK,mBAAmBn/J,GAExBlH,KAAKob,UAAUlU,EAAI,kBAErBm/J,mBAAoB,SAAUn/J,GAC5B,IAAImO,EAAOrV,KAAKkF,KAAKigD,QAAQj+C,EAAI,YAEjC,GAAImO,EACF,IAAK,IAAIhE,KAAOgE,EACdA,EAAKhE,GAAOgE,EAAKhE,GAAK3G,QAAQ,qBAAsB,IAAIA,QAAQ,KAAM,MAI5Eo6C,UAAW,SAAU59C,EAAIoU,EAAKgpB,GAC5BtkC,KAAKkb,OAAOhU,EAAIoU,EAAKgpB,IAEvBqgH,aAAc,SAAUz9I,EAAIoU,EAAKgpB,GAC/BtkC,KAAKob,UAAUlU,EAAIoU,EAAKgpB,IAE1BgiI,WAAY,SAAUp/J,EAAItB,EAAM0V,EAAKgpB,GACnC,IAAIjvB,EAAOrV,KAAKkF,KAAKigD,QAAQj+C,EAAI,YAC7Bq/J,EAAUlxJ,GAAQ,GAClBmC,EAAQ+uJ,EAAQ3gK,IAAS,GAC7B2gK,EAAQ3gK,GAAQ4R,EAAM9M,QAAQ4Q,EAAK,IAAI5Q,QAAQ,KAAM,KAAO,IAAM4Q,EAC7DjG,GAAMrV,KAAKkF,KAAK+/C,QAAQ/9C,EAAI,YAAY,EAAOq/J,GAAS,GACxDjiI,GAAQtkC,KAAKmqB,QAAQjjB,IAE5Bs/J,cAAe,SAAUt/J,EAAItB,EAAM0V,EAAKgpB,GACtC,IAAIjvB,EAAOrV,KAAKkF,KAAKigD,QAAQj+C,EAAI,YAEjC,GAAImO,EAAM,CACR,IAAImC,EAAQnC,EAAKzP,IAAS,GACtB4R,IAAOnC,EAAKzP,GAAQ4R,EAAM9M,QAAQ4Q,EAAK,IAAI5Q,QAAQ,KAAM,MACxD45B,GAAQtkC,KAAKmqB,QAAQjjB,MAipF8I4xJ,GAAStiG,GAAU6/F,GAASX,GAASlC,GAASlC,GAAS5C,GA72HxN,GA62HyOlB,GAAShB,GAASjC,GAlrE3P,GAkrE4Q1C,GAASvD,GAASX,GAhrE9R,GAEA,GA8qEqTl5G,GAAa64B,GAAOze,GAAWwN,GAAYqW,GAAanB,GAAe59B,GAAO30B,KAAMhJ,EAAam2B,KAM/ZskI,GAAS,CACX7gK,KAAM,YACNoE,MAAO,WAKL,IAAK,IAAIqH,KAJT1R,EAAQ8J,OAAOzJ,KAAKkF,KAAM62E,IAAW,GACrCp8E,EAAQ8J,OAAOzJ,KAAKsE,KAAMu5E,IAC1Bl+E,EAAQ8J,OAAOzJ,KAAMq5E,IAAc,GAEnBR,GACT74E,KAAKqyB,SAAShhB,KAAMrR,KAAKqyB,SAAShhB,GAAOrR,KAAK0mK,WAAW7tF,GAAUxnE,KAG1ErR,KAAKsE,KAAKqiK,UAAYt+I,GAAS,qDAE/BroB,KAAKsE,KAAKsiK,aAAe,SAAUvmK,GACjC,OAAIA,EAAI66E,gBAAkB76E,EAAIy9E,WAAmB,8DAA0ED,GAAS3iB,SAAStyD,MAAM5I,KAAMsG,YAG3JtG,KAAKkF,KAAK6rD,WAAW/wD,MAAM,GAE3BA,KAAKgwB,SAASvY,aAAa,OAAQ,aAErC2gD,qBAAqB,EACrBsuG,WAAY,SAAUG,GACpB,OAAO,SAAU9hK,EAAGmC,GAElB,OADAA,EAAKA,EAAGyc,IACDkjJ,EAASzkK,KAAKpC,KAAM+E,EAAGmC,KAGlCgxD,gBAAiB,SAAUxrC,GAGzB,IAFA,IAAIznB,EAAUjF,KAAKoN,UAAU81C,UAA8Bx2B,EAAQznB,OAA1B,CAACynB,EAAQhQ,OAEzChc,EAAI,EAAGA,EAAIuE,EAAOxD,OAAQf,IACjCV,KAAKk8B,MAAMj3B,EAAOvE,KAGtB4gC,SAAU,WACR,IAAI99B,EAAQuwD,GAAUzyB,SAASl/B,KAAKpC,MAEpC,OADAL,EAAQ8J,OAAOjG,EAAO00E,GAAQ52C,SAASl/B,KAAKpC,OACrCwD,GAETm+B,SAAU,SAAUn+B,GACd00E,GAAQv2C,SAASv/B,KAAKpC,KAAMwD,IAE9BuwD,GAAUpyB,SAASv/B,KAAKpC,KAAMwD,IAGlCq+C,iBAAkB,SAAUrgD,GAE1B,OADA7B,EAAQ8J,OAAOzJ,KAAKwgD,OAAQo9B,IACrBpG,GAAW31B,iBAAiBz/C,KAAKpC,KAAMwB,IAEhD2hF,eAAgB,SAAUE,EAAM58C,GAG9B,IAFA,IAAI/pB,EAAQ2mE,EAAK3mE,MAERhc,EAAI,EAAGA,EAAIgc,EAAOhc,IAAK,CAC9B,IAAIwG,EAAKlH,KAAKkF,KAAKwyB,MAAMh3B,GACrBwG,GAAiC,GAA3BlH,KAAK8jC,QAAQ58B,GAAImxD,QAAagrB,EAAK3mE,QAG/C,OAAO0pJ,GAAU/8H,IAAI85C,eAAe/gF,KAAKpC,KAAMqjF,EAAM58C,KAG3C9mC,EAAQwxB,QAAQs1I,GAAQvuF,GAASqC,GAAmBtB,GAAgBmtF,GAAUpxJ,MAE5FrV,EAAQwxB,QAAQ,CACdvrB,KAAM,SACNmE,SAAU,CACR8f,SAAU,+DAEXy4E,GAAWttF,MAOZ,IAgGI8xJ,GAAiB,SAAU9xJ,EAAMiF,GA3D9B4U,GAAG,8BAA8BR,GAAG,CACvCnnB,GAAI,4BACJ8N,KAAM,SACNuE,IAAK,EACLC,KAAM,EACNI,MAAO,IACPE,OAAQ,IACRohB,MAAM,EACN0iB,SAAS,EACT7kC,KAAM,CACJ6X,KAAM,CAAC,CACLhX,MAAO,IACN,CACDtV,KAAM,QACNmZ,KAAM,CAAC,CACLzI,KAAM,UACN2b,SAAU,CAAC,CACT3b,KAAM,QACNxT,MAAO,GACP0F,GAAI,8BACH,CACD8N,KAAM,SACN4E,MAAO,IACPpY,MAAO,OACP8C,KAAM,SACN+X,MAAO,WACLyqJ,SAGH,CACD5/J,GAAI,wBACJ2oG,UAAW,IACX76F,KAAM,WACNyW,OAAQ,IACRkF,SAAU,GACV24B,GAAI,CACFy9G,gBAAiB,SAAUvjK,EAAOq3D,GAChC,GAAIr3D,EAAMoyC,KAAOpyC,EAAMhC,MAAvB,CACA,IAAIA,EAAQgC,EAAMhC,MAElB,GAAc,SAAVA,GAA8B,UAAVA,EACtBA,EAAkB,SAAVA,MACH,CACL,IAAIk7F,EAAWr+E,SAAS7c,EAAO,IAC3Bk7F,GAAYl7F,IAAOA,EAAQk7F,GAGjC,IAAI1nF,EAAO6Z,GAAG7uB,KAAKiH,OAAO+N,MAC1BA,EAAKnV,OAAOg7D,EAAO3zD,GAAI1F,GACnBwT,EAAKogD,eAAgBpgD,EAAKogD,iBAA0BpgD,EAAKmV,SAASnV,EAAKmV,UAC3EnV,EAAKygB,mBAWjB,IAAIuxI,EAAMn4I,GAAG,6BAEb,GAAI7Z,EAAM,CACR,IAAI/N,EArGmB,SAAU+N,GACnC,IAAIgxB,EAAS,GACTzxB,EAAU,GAGd,IAAK,IAAIlD,KAFT2D,EAAO6Z,GAAG7Z,IAEW/N,OACfggK,GAAO51J,IACsB,UAA7BpR,EAAQ+U,EAAK/N,OAAOoK,UACO,IAApB2D,EAAK/N,OAAOoK,IACQ,mBAApB2D,EAAK/N,OAAOoK,KACZ,QAAPA,GAAwB,MAAPA,EAAakD,EAAQhT,KAAK,CAC7Co5D,MAAOtpD,EACPnK,GAAImK,IACEkD,EAAQhT,KAAK,CACnBo5D,MAAOtpD,EACP/M,KAAM,OACN4C,GAAImK,IAEF2D,EAAKjL,SAASsH,IAAQ2D,EAAK/N,OAAOoK,KAAMkD,EAAQA,EAAQ9S,OAAS,GAAG6Z,IAAM,CAC5EygD,MAAS,SAEX/1B,EAAO30B,GAAO2D,EAAK/N,OAAOoK,IAQ5B,OALAkD,EAAQyU,MAAK,SAAU/f,EAAG4E,GACxB,OAAK5E,EAAEqS,KAAOzN,EAAEyN,KAAY,EACxBrS,EAAEqS,MAAQzN,EAAEyN,KACTrS,EAAE/B,GAAK2G,EAAE3G,GADY,EACH+B,EAAE/B,IAAM2G,EAAE3G,GAAK,GAAI,KAEvC,CACLypB,SAAUpc,EACVrP,KAAM8gC,EACN9K,KAAM,KAAOlmB,EAAKpP,KAAO,aAAeoP,EAAK5H,UAAUlG,GAAK,aAqE/CggK,CAAqBlyJ,GAC9BmyJ,EAAO78J,SAASyO,KAAKc,YACrButJ,EAAO98J,SAASyO,KAAKgB,aACrBkE,EAAShE,EAAKG,GAAIH,GAAM,CAC1BhI,EAAG,EACHwH,EAAG,GAELutJ,EAAInnK,OAAO,SAAU6Z,KAAKgC,IAAI,IAAK0rJ,EAAO,IAC1CJ,EAAIvxI,SACJ,IAAI4xI,EAAQx4I,GAAG,yBACfw4I,EAAMxnK,OAAO,WAAYoH,EAAO0pB,UAChC02I,EAAMxnK,OAAO,OAAQmV,GACrBgyJ,EAAIv0I,KAAK,CACPxgB,EAAGgM,EAAOhM,EAAIk1J,EAAO,EAAI,EAAIA,EAAO,IACpC1tJ,EAAG,IAELoV,GAAG,yBAAyBnI,UAAUzf,EAAO/B,MAC7C2pB,GAAG,8BAA8BgT,SAAS56B,EAAOi0B,WAC5C8rI,EAAItyI,QAGT4yI,GAAO,SAAU9lK,GACnB,OAAIA,GAAS,IAAe,MACrBA,GAGL+lK,GAAY,SAAUriK,EAAMsiB,EAAQiiC,GAGtC,GAFAjnD,OAAO+D,QAAQN,KAAKf,GAAQukD,EAAM,KAAO,MAAQjiC,EAAStiB,EAAKU,KAAO,MAAQV,EAAK+B,OAAOC,IAC1FsgB,GAAU,KACNtiB,EAAK+2B,OAAQ,IAAK,IAAIv7B,EAAI,EAAGA,EAAIwE,EAAK+2B,OAAOx6B,OAAQf,IACvD6mK,GAAUriK,EAAK+2B,OAAOv7B,GAAI8mB,EAAQiiC,GAEhCvkD,EAAKm3C,YAAYkrH,GAAUriK,EAAKm3C,WAAY70B,EAAQiiC,GACpDvkD,EAAKypB,YAAY44I,GAAUriK,EAAKypB,WAAYnH,EAAQiiC,IAG1D58C,EAAY,eAAe,SAAUma,EAAO/S,GAC1C,IAAI9N,EAEJ,IACEA,EAAO6gB,EAAM9T,aACb,MAAOnO,GACPoB,EAAO,GAIT,IAAIqhK,EAAa,gDAQjB,GAP8B,KAF9BrhK,EAAOA,GAAQ,gBAENwG,QAAQ,SAAgB66J,EAAa,qBAA+D,IAAjCrhK,EAAKwG,QAAQ,kBAAuB66J,EAAarhK,EAAKuE,QAAQ,eAAgB,KAC1JitB,GAAQ,CACNrzB,KAAM,QACN6B,KAAMqhK,EACNphK,QAAQ,IAGN5D,OAAO+D,QAAS,CAClB,IAAIkhK,EAASjlK,OAAO+D,QACpBkhK,EAAOxhK,IAAI,sBACXwhK,EAAOxhK,IAAI,UAAWgO,GACtBwzJ,EAAOxhK,IAAI,YAAaE,GACpB6gB,GAAOygJ,EAAOxhK,IAAI,SAAU+gB,OAGpCgP,IAAM,WAG0B,IAFnB1rB,SAASoU,SAAStC,KAEpBzP,QAAQ,UACfgrB,GAAQ,CACNrzB,KAAM,QACN6B,KAAM,gDACNC,QAAQ,OAId,IAAI6gK,GAAS,CACX/3I,QAAU,EACV2vF,QAAU,EACV4B,SAAW,EACXD,SAAW,EACX1B,SAAW,GAET4oD,GAAW,CACb1yJ,KAAM,cACN9N,GAAI,kBACJoiD,GAAI,CACFq+G,aAAc,SAAU5iK,GACtB,IAAKA,EAAEg8B,QAAS,OAAO,EACvB,IAAI/rB,EAAO0D,GAAO3T,EAElB,WACA,IAAKiQ,EAAM,OAAO,EAClBhV,KAAKiH,OAAO2gK,WAAa5yJ,EACzB5I,IACAlD,GAAM,WACJoD,QAGJytI,OAAQ,WACN,IAAI/kI,EAAO6Z,GAAG7uB,KAAKiH,OAAO2gK,YACtBj7I,EAAO,4BAA8B3X,EAAK5H,UAAUlG,GAAK,6BAA+B8N,EAAKpP,KAAO,iBACxG0E,SAASC,eAAe,mBAAmBkM,UAAYkW,IAG3DznB,KAAM,CAAC,mCAAoC,CACzCgC,GAAI,UACJ1F,MAAO,WACN,CACD0F,GAAI,OACJ1F,MAAO,iBACN,CACDA,MAAO,iBACPs9I,QAAS,CAAC,CACR53I,GAAI,OACJ1F,MAAO,SACN,CACD0F,GAAI,OACJ1F,MAAO,QACN,CACD0F,GAAI,OACJ1F,MAAO,WAGX6a,MAAO,SAAUnV,EAAI+S,GAEnB,IAAI5Z,EAAMwuB,GAAG7uB,KAAKiH,OAAO2gK,YAQzB,GANU,QAAN1gK,IACF1E,OAAO+D,QAAQomB,KAAK,KAAOtsB,EAAIuF,KAAO,MAAQvF,EAAI4G,OAAOC,IACzD1E,OAAO+D,QAAQN,IAAI,WAAY5F,EAAK,aAAcA,EAAI4G,OAAQ,WAAY5G,EAAI6E,MAC9E1C,OAAO+D,QAAQN,IAAI5F,EAAIwqB,QAGf,QAAN3jB,EAAc,KAChB,IAAIuiD,EAAMppD,EAEHA,EAAI8uB,iBACT9uB,EAAMA,EAAI8uB,gBAGZ3sB,OAAO+D,QAAQN,IAAI,IACnBshK,GAAUlnK,EAAK,GAAIopD,GAGrB,GAAU,QAANviD,EAAc,CAChB1E,OAAO+D,QAAQomB,KAAK,IACpBnqB,OAAO+D,QAAQomB,KAAK,KAAOtsB,EAAIuF,KAAO,MAAQvF,EAAI4G,OAAOC,IACzD1E,OAAO+D,QAAQomB,KAAK,aAActsB,EAAI4G,OAAO2S,MAAO,MAAOvZ,EAAI4G,OAAO6S,QACtE,IAAI1S,EAAQ/G,EAAImoC,SAAS,EAAG,GAC5BhmC,OAAO+D,QAAQomB,KAAK,YAAa26I,GAAKlgK,EAAM,IAAK,MAAOkgK,GAAKlgK,EAAM,KAAO/G,EAAI4G,OAAOk8C,WAAa,gBAAkB,KACpH3gD,OAAO+D,QAAQomB,KAAK,eAAgBtsB,EAAI4G,OAAOu6B,SAC/Ch/B,OAAO+D,QAAQomB,KAAK,kBAAmBtsB,EAAI4nC,eAAgB,MAAO5nC,EAAIgoC,iBACtE7lC,OAAO+D,QAAQomB,KAAK,gBAAiBtsB,EAAI0nC,WAAW,GAAI,MAAO1nC,EAAI0nC,WAAW,IAC1E1nC,EAAI+M,UAAU8hB,OAAQ1sB,OAAO+D,QAAQomB,KAAK,iBAAkB,SAAUtsB,EAAI+M,UAAU8hB,OAAO1V,KAAM,UAAWnZ,EAAI+M,UAAU8hB,OAAO3V,IAAK,YAAalZ,EAAI+M,UAAU8hB,OAAOjD,MAAO,aAAc5rB,EAAI+M,UAAU8hB,OAAO1D,QAAahpB,OAAO+D,QAAQomB,KAAK,sBAG/O,QAANzlB,GAAc1E,OAAOgQ,KAAK,uCAAyCnS,EAAIuF,KAAO,QAAS,WAEjF,WAANsB,GACF4/J,GAAe9mK,KAAKiH,OAAO2gK,WAAY3tJ,KAI7C+b,IAAM,WACJ0xI,GAASt8J,OAASd,SAASyO,KAC3BsV,GAAGq5I,OAIP,IAAIG,GAAaloK,EAAQ4xB,MAAM,CAC7B3rB,KAAM,aACNokB,UAAW,WACT,OAAO,GAEThgB,MAAO,SAAU/C,GACfjH,KAAKkF,KAAO+B,GAAU,GACtB,IAAIC,EAAKD,GAAUA,EAAOC,GAAKD,EAAOC,GAAKiD,IAC3CnK,KAAKoN,UAAY,CACflG,GAAIA,GAENmnB,GAAGI,MAAMvnB,GAAMlH,MAEjBykC,UAAW,WACT,OAAOzkC,KAAKkF,MAEdwhB,UAAW,SAAUxhB,EAAM+P,EAAQhO,GACjCjH,KAAKkF,KAAO+P,EAAStV,EAAQ8J,OAAOzJ,KAAKkF,KAAMA,GAAM,GAAQA,EAC7DlF,KAAK8M,UAAU,WAAY,CAAC5H,EAAM+B,KAEpCkjB,QAAS,WACPnqB,KAAK8M,UAAU,mBAEhBd,EAAas5B,GAAUpgB,GAAgBid,IAEtC2lI,GAAYnoK,EAAQ4xB,MAAM,CAC5B3rB,KAAM,YACNokB,UAAW,WACT,OAAO,GAEThgB,MAAO,SAAU/C,GACVA,IAAU+B,EAAY/B,EAAOzF,SAAQxB,KAAKkF,KAAO+B,GAAU,IAChE,IAAIC,EAAKD,GAAUA,EAAOC,GAAKD,EAAOC,GAAKiD,IAC3CnK,KAAKoN,UAAY,CACflG,GAAIA,GAENmnB,GAAGI,MAAMvnB,GAAMlH,MAEjB6hC,SAAU,SAAUrgC,EAAOyF,GACzBjH,KAAKkF,KAAO1D,EACZxB,KAAK8M,UAAU,WAAY,CAACtL,EAAOyF,KAErCmR,SAAU,WACR,OAAOpY,KAAKkF,MAEdilB,QAAS,WACPnqB,KAAK8M,UAAU,mBAEhBd,EAAas5B,IAEZyiI,GAAiBpoK,EAAQ4xB,MAAM,CACjC3rB,KAAM,iBACNoE,MAAO,WACLrK,EAAQ8J,OAAOzJ,KAAKkF,KAAM62E,IAAW,GACrC/7E,KAAKkF,KAAK6rD,WAAW/wD,MAAM,GAC3BL,EAAQ8J,OAAOzJ,KAAMq5E,IAAc,KAEpCJ,GAAgB8sC,IAInBpmH,EAAQ6I,KAAO6pF,GACf1yF,EAAQqoK,OAASxyE,GACjB71F,EAAQihB,QAAUzd,EAClBxD,EAAQomH,eAAiBA,GACzBpmH,EAAQkoK,WAAaA,GACrBloK,EAAQmoK,UAAYA,GACpBnoK,EAAQooK,eAAiBA,GACzBpoK,EAAQulB,eAAiBA,GACzBvlB,EAAQ+pB,WAAaA,GACrB/pB,EAAQ2qB,WAAaA,GACrB3qB,EAAQ8qC,YAAcA,GACtB9qC,EAAQ2lC,SAAWA,GACnB3lC,EAAQ+kC,WAAaA,GACrB/kC,EAAQmrC,OAASA,GACjBnrC,EAAQ2nB,WAAaA,GACrB3nB,EAAQ0jC,eAAiBA,GACzB1jC,EAAQggD,cAAgBA,GACxBhgD,EAAQiiD,UAAYA,GACpBjiD,EAAQ4iD,YAAcA,GACtB5iD,EAAQsoK,aAAerjH,GACvBjlD,EAAQklD,UAAYA,GACpBllD,EAAQ2lD,SAAWA,GACnB3lD,EAAQ0yD,WAAaA,GACrB1yD,EAAQo0D,UAAYA,GACpBp0D,EAAQosD,UAAYA,GACpBpsD,EAAQgjC,YAAcA,GACtBhjC,EAAQ+2C,YAAcA,GACtB/2C,EAAQ62D,SAAWA,GACnB72D,EAAQs4D,UAAYA,GACpBt4D,EAAQ09D,YAAcA,GACtB19D,EAAQqM,YAAcA,EACtBrM,EAAQ0gE,WAAaA,GACrB1gE,EAAQ2jE,MAAQA,GAChB3jE,EAAQ6hE,aAAeA,GACvB7hE,EAAQiiE,WAAaA,GACrBjiE,EAAQ4jE,YAAcA,GACtB5jE,EAAQ+kE,QAAUA,GAClB/kE,EAAQqmE,QAAUA,GAClBrmE,EAAQ2mE,eAAiBA,GACzB3mE,EAAQ4nE,cAAgBA,GACxB5nE,EAAQg7C,SAAWA,GACnBh7C,EAAQ+oE,YAAcA,GACtB/oE,EAAQy6C,QAAUA,GAClBz6C,EAAQyqE,kBAAoBA,GAC5BzqE,EAAQ+rE,WAAaA,GACrB/rE,EAAQmsE,cAAgBA,GACxBnsE,EAAQotE,YAAcA,GACtBptE,EAAQ6kC,WAAaA,GACrB7kC,EAAQ2tE,YAAcA,GACtB3tE,EAAQo7C,WAAaA,GACrBp7C,EAAQiqC,aAAeA,GACvBjqC,EAAQwuE,WAAaA,GACrBxuE,EAAQgvE,eAAiBA,GACzBhvE,EAAQwiC,SAAWA,GACnBxiC,EAAQm3E,WAAaA,GACrBn3E,EAAQ63E,WAAaA,GACrB73E,EAAQizB,eAAiBA,GACzBjzB,EAAQyxC,MAAQA,GAChBzxC,EAAQu4E,QAAUA,GAClBv4E,EAAQk5E,UAAYA,GACpBl5E,EAAQs5E,eAAiBA,GACzBt5E,EAAQ05E,aAAeA,GACvB15E,EAAQm6E,gBAAkBA,GAC1Bn6E,EAAQ46E,kBAAoBA,GAC5B56E,EAAQo8E,UAAYA,GACpBp8E,EAAQi+E,eAAiBA,GACzBj+E,EAAQk+E,SAAWA,GACnBl+E,EAAQ68B,UAAYA,GACpB78B,EAAQs5D,KAAOA,GACft5D,EAAQq+E,aAAeA,GACvBr+E,EAAQghF,mBAAqBA,GAC7BhhF,EAAQinD,aAAeA,GACvBjnD,EAAQ0kC,UAAYA,GACpB1kC,EAAQmhF,OAASA,GACjBnhF,EAAQkiF,mBAAqBA,GAC7BliF,EAAQsjF,aAAeA,GACvBtjF,EAAQqY,KAAOmF,GACfxd,EAAQwtH,KAAOp/E,GACfpuC,EAAQwN,eA7y2CO2E,GACb,GAAKA,EAA2B,GAAsB,WAAlB7R,EAAQ6R,GAAoBrL,EAAa,CAC3EyG,QAAQ,QACH,IAAK,IAAImE,KAAOS,EACrBrL,EAAW4K,GAAOS,EAAKT,QAHd5K,EAAa,IA6y2C1B9G,EAAQ4L,KAAOA,EACf5L,EAAQq2B,MAAQA,GAChBr2B,EAAQ2e,IAAMA,GACd3e,EAAQo8D,MAAQiU,GAChBrwE,EAAQolB,IAAMg8B,GACdphD,EAAQ0gD,WAAaA,GACrB1gD,EAAQ42F,QAAUD,GAClB32F,EAAQkqB,SAAWxB,GACnB1oB,EAAQ2E,KAAOwoB,GACfntB,EAAQi7D,QAAUA,GAClBj7D,EAAQ+oC,QAAUA,GAClB/oC,EAAQsjD,MAztyBI,SAAU/7C,EAAIqN,GACxB,IAAIS,EAAO6Z,GAAG3nB,GACV8N,GAAQA,EAAKkzJ,aAAYlzJ,EAAOA,EAAKkzJ,cACzCpiK,EAAOkP,EAAM,kCACRA,IACDA,EAAKlI,WAAWkI,EAAKlI,UAAU,gBAAiB,CAACyH,IA8BrB,SAGZA,GACpB2G,GAAO5Q,SAASyO,KAAM,eAClBxE,EAAQixE,WAAW0S,GAAiB,SAAU3jF,GAC9CA,EAAQyuC,WAAWk1C,GAAiB,SAAU3jF,GAIlD+C,GADgB,8BAAqC/C,EAAQ4zJ,MAAQ,IAAM5zJ,EAAQzC,KAAnE,eAAgGyC,EAAQssD,OAAOtnD,IAAM,oBAAsBhF,EAAQssD,OAAOr1C,OAAS,mBAAqBjX,EAAQssD,OAAO50C,MAAQ,kBAAoB1X,EAAQssD,OAAOrnD,KAAlP,QACI,SArCpB4uJ,CAFA7zJ,EAS0B,SAGLA,IACrBA,EAAUA,GAAW,IACb4zJ,MAAQ3wE,IAAQjjF,EAAQ4zJ,OAAS,IAAI3hK,gBAAkB,KAC/D+N,EAAQzC,KAAO8lF,GAAMrjF,EAAQzC,MAAQyC,EAAQzC,KAAO,WACpDyC,EAAQopC,IAAMg6C,GAAKpjF,EAAQopC,KAAOppC,EAAQopC,IAAM,OAChDppC,EAAQkX,OAASlX,EAAQkX,SAAU,EACnClX,EAAQvN,KAAO+wF,GAAMxjF,EAAQ4zJ,OAC7B5zJ,EAAQssD,OAAStsD,EAAQssD,QAA6B,IAAnBtsD,EAAQssD,OAAetsD,EAAQssD,OAAS,GAC3E,IAAIA,EAAS71C,MAAuB,EAAjBzW,EAAQssD,QAAcviD,GAAIklC,YAAcjvC,EAAQssD,OAOnE,OANAtsD,EAAQssD,OAAS,CACftnD,IAAKhF,EAAQssD,OAAOtnD,KAA8B,IAAvBhF,EAAQssD,OAAOtnD,IAAYhF,EAAQssD,OAAOtnD,IAAMsnD,EAC3Er1C,OAAQjX,EAAQssD,OAAOr1C,QAAoC,IAA1BjX,EAAQssD,OAAOr1C,OAAejX,EAAQssD,OAAOr1C,OAASq1C,EACvF50C,MAAO1X,EAAQssD,OAAO50C,OAAkC,IAAzB1X,EAAQssD,OAAO50C,MAAc1X,EAAQssD,OAAO50C,MAAQ40C,EACnFrnD,KAAMjF,EAAQssD,OAAOrnD,MAAgC,IAAxBjF,EAAQssD,OAAOrnD,KAAajF,EAAQssD,OAAOrnD,KAAOqnD,GAE1EtsD,EA3BG8zJ,CAAc9zJ,IAKnBS,EAAKwtC,eAA+C,IAA/BxtC,EAAKwtC,aAAajuC,IA6CrB,SAGTS,EAAMT,GACpB,IAAIwuC,EAAM/tC,EAAK6V,MAAMogE,WAAU,GAE3Bk0C,EAAWnqH,EAAK6V,MAAM3c,qBAAqB,UAC/C,GAAIixH,EAAS19H,OAAQ,IAAK,IAAIf,EAAIy+H,EAAS19H,OAAS,EAAGf,GAAK,EAAGA,IAAK,CACpDqiD,EAAI70C,qBAAqB,UAAUxN,GAAG+qC,WAAW,MACvD68H,UAAUnpC,EAASz+H,GAAI,EAAG,GAEpC6X,GAAawqC,EAAKxuC,EAAQyuC,UAAW14C,SAASyO,MAC9CmC,GAAO6nC,EAAK,mBACPxuC,EAAQkX,SAAWzW,EAAKiV,UAAYjV,EAAK9P,MAAQ8P,EAAK9P,KAAKklB,MAAQpV,EAAK6mB,UAAU3gB,GAAO6nC,EAAK,wBACnGvgD,OAAOygD,QACPh4C,GAAO83C,GA5DwDwlH,CAAOvzJ,EAAMT,GAoCtD,SAGHA,GACnB6G,GAAU9Q,SAASyO,KAAM,eACzBnB,GAAY,SACRrD,EAAQixE,WAAWv6E,GAAOsJ,EAAQixE,WAClCjxE,EAAQyuC,WAAW/3C,GAAOsJ,EAAQyuC,WAzCtCwlH,CAAYj0J,KA6syBd5U,EAAQunD,MAAQzwB,GAChB92B,EAAQ8oK,QAtoyBM,CACZt4F,OAAQ,CACNqhB,QAAS,SAAUvoF,EAAG4E,GACpB,OAAO5E,EAAI4E,GAEbyjF,KAAM,SAAUroF,EAAG4E,GACjB,OAAO5E,EAAI4E,GAEb4jF,eAAgB,SAAUxoF,EAAG4E,GAC3B,OAAO5E,GAAK4E,GAEd0jF,YAAa,SAAUtoF,EAAG4E,GACxB,OAAO5E,GAAK4E,GAEd8jF,MAAO,SAAU1oF,EAAG4E,GAClB,OAAO5E,GAAK4E,GAEd+jF,SAAU,SAAU3oF,EAAG4E,GACrB,OAAO5E,GAAK4E,GAEdmqB,SAAU,SAAU/uB,EAAG4E,GACrB,OAA0E,IAAnE5E,EAAE9G,WAAWqE,cAAcmG,QAAQkB,EAAE1L,WAAWqE,gBAEzDkrF,YAAa,SAAUzoF,EAAG4E,GACxB,OAA0E,IAAnE5E,EAAE9G,WAAWqE,cAAcmG,QAAQkB,EAAE1L,WAAWqE,iBAG3DL,KAAM,CACJwrF,MAAO,SAAU1oF,EAAG4E,GAClB,OAAO5E,EAAEzC,gBAAkBqH,EAAErH,eAE/BorF,SAAU,SAAU3oF,EAAG4E,GACrB,OAAO5E,EAAEzC,gBAAkBqH,EAAErH,eAE/BwxB,SAAU,SAAU/uB,EAAG4E,GACrB,OAAoD,IAA7C5E,EAAEzC,cAAcmG,QAAQkB,EAAErH,gBAEnCkrF,YAAa,SAAUzoF,EAAG4E,GACxB,OAAoD,IAA7C5E,EAAEzC,cAAcmG,QAAQkB,EAAErH,gBAEnCqrF,WAAY,SAAU5oF,EAAG4E,GACvB,OAA2D,IAApD5E,EAAEzC,cAAckqE,YAAY7iE,EAAErH,cAAe,IAEtDsrF,cAAe,SAAU7oF,EAAG4E,GAC1B,OAA2D,IAApD5E,EAAEzC,cAAckqE,YAAY7iE,EAAErH,cAAe,IAEtDurF,SAAU,SAAU9oF,EAAG4E,GACrB,OAAyE,IAAlE5E,EAAEzC,cAAcmG,QAAQkB,EAAErH,cAAeyC,EAAExH,OAASoM,EAAEpM,SAE/DuwF,YAAa,SAAU/oF,EAAG4E,GACxB,OAAyE,IAAlE5E,EAAEzC,cAAcmG,QAAQkB,EAAErH,cAAeyC,EAAExH,OAASoM,EAAEpM,UAGjEuwD,KAAM,CACJw/B,QAAS,SAAUvoF,EAAG4E,GACpB,OAAO5E,EAAI4E,GAEbyjF,KAAM,SAAUroF,EAAG4E,GACjB,OAAO5E,EAAI4E,GAEb4jF,eAAgB,SAAUxoF,EAAG4E,GAC3B,OAAO5E,GAAK4E,GAEd0jF,YAAa,SAAUtoF,EAAG4E,GACxB,OAAO5E,GAAK4E,GAEd8jF,MAAO,SAAU1oF,EAAG4E,GAClB,SAAK5E,IAAM4E,IACJ5E,EAAEiB,YAAc2D,EAAE3D,WAE3B0nF,SAAU,SAAU3oF,EAAG4E,GACrB,OAAK5E,IAAM4E,GACJ5E,EAAEiB,YAAc2D,EAAE3D,WAE3B+nF,QAAS,SAAUhpF,EAAG4E,GACpB,QAASA,EAAE6O,OAASzT,EAAI4E,EAAE6O,UAAY7O,EAAE8O,KAAO1T,EAAI4E,EAAE8O,MAEvDu1E,WAAY,SAAUjpF,EAAG4E,GACvB,OAAQA,EAAE6O,OAASzT,GAAK4E,EAAE6O,QAAU7O,EAAE8O,KAAO1T,GAAK4E,EAAE8O,OAyjyB1Dhd,EAAQw4F,SAAWA,GACnBx4F,EAAQswB,WAAayK,GACrB/6B,EAAQ4xE,QAjl2BM,QAkl2Bd5xE,EAAQiG,KAjl2BG,OAkl2BXjG,EAAQ6H,SAAWA,EACnB7H,EAAQ8H,UAAYA,EACpB9H,EAAQ+H,MAAQA,EAChB/H,EAAQ4lD,KAAO19C,EACflI,EAAQmlK,gBAxt2CQ7/J,GACd,IAAIyjK,EAAW,KAQf,OANQ,WAGN,OAFKA,IAAUA,EAAW,IAAIzjK,EAAO,KACjCyjK,EAASC,SAASD,EAASC,QAAQ//J,MAAM8/J,EAAUpiK,WAChDoiK,IAmt2CX/oK,EAAQ8I,KAAOA,EACf9I,EAAQkJ,KAAOA,EACflJ,EAAQipK,cAts2CM9/J,EAAM8/J,GAClB,OAAK9/J,EACE,WACL,IAAI6C,EAAS7C,EAAKF,MAAM5I,KAAMsG,WAE9B,OADAsiK,EAAKhgK,MAAM5I,KAAMsG,WACVqF,GAJSi9J,GAss2CpBjpK,EAAQqJ,YAAcA,EACtBrJ,EAAQyJ,MAAQF,EAChBvJ,EAAQ4J,KAAOA,EACf5J,EAAQwK,IAAMA,EACdxK,EAAQyK,OAASA,EACjBzK,EAAQ6K,UAAYA,EACpB7K,EAAQiB,QAAUyH,EAClB1I,EAAQ4I,OAASA,EACjB5I,EAAQgL,UAAYA,EACpBhL,EAAQkK,aAAeA,EACvBlK,EAAQ0sB,yBAA2BA,GACnC1sB,EAAQ4sB,OAASA,GACjB5sB,EAAQib,MAAQ6R,GAChB9sB,EAAQ2sB,YAAcA,GACtB3sB,EAAQmN,UAAYA,EACpBnN,EAAQkN,YAAcA,EACtBlN,EAAQ6N,YAAcA,EACtB7N,EAAQyM,WAAaA,EACrBzM,EAAQ2M,aAAeA,EACvB3M,EAAQ4M,SA381CO,SAAUjH,GACvB,OAAOsI,EAAIrB,SAASjH,IA281CtB3F,EAAQ8N,SAz81CO,SAAUnJ,GACvB,OAAOsJ,EAAIH,SAASnJ,IAy81CtB3E,EAAQ+L,UAAYA,EACpB/L,EAAQkpK,MA7y1BI,SAAU3hK,EAAIqN,GACxB,IAAI7O,EAAQvC,EAASuC,QACrB,OAAOgb,GAAQpC,GAAI4D,IAAM,kCAAkC7e,MAAK,WAEvC,iBAAZkR,IAAsBA,EAAU,CACzCsH,SAAUtH,KAEZA,EAAUA,GAAW,IACbwwE,YAAc,MACtB,IAAI/vE,EAAO6Z,GAAG3nB,GAGd,GAFI8N,GAAQA,EAAK0xE,cAAa1xE,EAAOA,EAAK0xE,YAAYnyE,IACtDzO,EAAOkP,EAAMsuE,KACRtuE,EAAM,OAAOtP,EAAM1B,OAAOs/E,IAC/B,IAAIj5E,EAAO2K,EAAOA,EAAK6V,MAAQzgB,EAAOlD,GAClC2U,EAAWspE,GAAY5wE,EAAQsH,SAAU,OAa7C,OAZArZ,OAAO+mF,YAAYl/E,EAAM,CACvBm/E,WAAY,OACZC,SAAS,EACTC,SAAS,IACRrmF,MAAK,SAAUsmF,GAChB,IAAIhpE,EAAW,SAAUzb,IACE,IAArBqP,EAAQqH,UAAoBA,GAAS1W,EAAM2W,GAC/CnW,EAAM3B,QAAQmB,IAGZykF,EAAOm/E,SAAUnoJ,EAASgpE,EAAOm/E,YAAiBn/E,EAAOo/E,OAAOpoJ,EAAU,gBAEzEjb,MAmx1BX/F,EAAQqpK,MA/w1BI,SAAU9hK,EAAIqN,GACxBA,EAAUA,GAAW,GACrB,IAAIS,EAAO6Z,GAAG3nB,GAGd,GAFI8N,GAAQA,EAAK0xE,cAAa1xE,EAAOA,EAAK0xE,YAAYnyE,IACtDzO,EAAOkP,EAAMsuE,KACRtuE,EAAM,OAAO7R,EAASa,OAAOs/E,IAClC/uE,EAAQwwE,YAAc,MACtBplF,EAAQ8J,OAAO8K,EAAS,CACtB+wE,YAAY,IAEd,IAAI13B,EAASg2B,GAAgB5uE,EAAMT,GAE/BrP,WAScA,GAClB,OAAO67C,GAAMr1C,UAAUxG,GAVZ+jK,CADE5jF,GAAcrwE,EAAMT,EAASq5C,IAEtC/xC,EAAWspE,GAAY5wE,EAAQsH,SAAU,OACzC+rE,EAAO,IAAIC,KAAK,CAAC,SAAW3iF,GAAO,CACrCZ,KAAM,aAGR,OADyB,IAArBiQ,EAAQqH,UAAoBA,GAASgsE,EAAM/rE,GACxC1Y,EAASY,QAAQ6jF,IA8v1B1BjoF,EAAQ2mF,MAAQA,GAChB3mF,EAAQurF,QAAUA,GAClBvrF,EAAQupK,iBA5hwCN,IAAI/iK,EAAOi0B,GAAWxxB,MAAM5I,KAAMsG,WAElC,OADAH,EAAK7B,KAAO6B,EAAK7B,MAAQ,QAClB01B,GAAW7zB,IA2hwCpBxG,EAAQ4mC,QAAUjM,GAClB36B,EAAQ63B,SAAWA,GACnB73B,EAAQwpK,kBAhhwCN,IAAIhjK,EAAOi0B,GAAWxxB,MAAM5I,KAAMsG,WAGlC,OAFAH,EAAK7B,KAAO6B,EAAK7B,MAAQ,SACzB6B,EAAKixB,MAAQjxB,EAAKixB,OAAS,GACpB+C,GAAYh0B,IA8gwCrBxG,EAAQuG,QAAUyxB,GAClBh4B,EAAQogC,oBAvm0BNjzB,EAAU,YAAa,KAwm0BzBnN,EAAQ6R,KAAOA,EACf7R,EAAQmlB,WAAaA,GACrBnlB,EAAQ0oD,GAAKF,GACbxoD,EAAQ2oD,cAAgBA,GACxB3oD,EAAQm5F,OAASA,GACjBn5F,EAAQ+gB,QAAUA,GAClB/gB,EAAQksD,MAAQ/1C,GAChBnW,EAAQ4T,KAz6xBU,SAEJ9B,EAAKu0B,EAAQ59B,EAAQN,GACjC,IAAIg6B,EAAOhqB,GAAO,OAAQ,CACxBhQ,OAAUA,GAAU,QACpB8xD,OAAUnoD,EACVrJ,OAAUA,GAAU,QACnB,IAEH,IAAK,IAAI2H,KAAKi2B,EAAQ,CACpB,IAAIq+B,EAAQvsD,GAAO,QAAS,CAC1BxT,KAAQ,SACRsB,KAAQmK,EACRvO,MAASwkC,EAAOj2B,IACf,IACH+xB,EAAKpqB,YAAY2sD,GAGnBviC,EAAKtqB,MAAMghB,QAAU,OACrBluB,SAASyO,KAAKrB,YAAYoqB,GAC1BA,EAAKsnI,SACL9+J,SAASyO,KAAKT,YAAYwpB,IAq5xB5BniC,EAAQ0uB,GAAKA,GACb1uB,EAAQkvB,GAAKA,GAEb3sB,OAAOge,eAAevgB,EAAS,aAAc,CAAE6B,OAAO","sources":["codebase/webix.js"],"sourcesContent":["/**\n * @license\n * webix UI v.9.2.0\n * This software is allowed to use under GPL or you need to obtain Commercial License\n * to use it in non-GPL project. Please contact sales@webix.com for details\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.webix = {})));\n}(this, (function (exports) { 'use strict';\n\n  function _typeof(obj) {\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n  }\n\n  function _toConsumableArray(arr) {\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n  }\n\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) {\n      for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n      return arr2;\n    }\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  function _iterableToArray(iter) {\n    if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n  }\n\n  function _iterableToArrayLimit(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n  }\n\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }\n\n  var global = window;\n  var queueId = 1;\n  var queue = {};\n  var isRunningTask = false;\n  if (!global.setImmediate && global.addEventListener) global.addEventListener(\"message\", function (e) {\n    if (e.source == global) {\n      if (isRunningTask) nextTick(queue[e.data]);else {\n        isRunningTask = true;\n\n        try {\n          queue[e.data]();\n        } catch (e) {// eslint-disable-line\n        }\n\n        delete queue[e.data];\n        isRunningTask = false;\n      }\n    }\n  });\n\n  function nextTick(fn) {\n    if (global.setImmediate) global.setImmediate(fn); // if inside of web worker\n    else if (global.importScripts || !global.addEventListener) setTimeout(fn);else {\n        queueId++;\n        queue[queueId] = fn;\n        global.postMessage(queueId, \"*\");\n      }\n  }\n\n  Deferred.resolve = function (value) {\n    if (!(this._d == 1)) throw TypeError();\n    if (value instanceof Deferred) return value;\n    return new Deferred(function (resolve) {\n      resolve(value);\n    });\n  };\n\n  Deferred.reject = function (value) {\n    if (!(this._d == 1)) throw TypeError();\n    return new Deferred(function (resolve, reject) {\n      reject(value);\n    });\n  };\n\n  Deferred.all = function (arr) {\n    if (!(this._d == 1)) throw TypeError();\n    if (!(arr instanceof Array)) return Deferred.reject(TypeError());\n    var d = new Deferred();\n\n    function done(e, v) {\n      if (v) return d.resolve(v);\n      if (e) return d.reject(e);\n      var unresolved = arr.reduce(function (cnt, v) {\n        if (v && v.then) return cnt + 1;\n        return cnt;\n      }, 0);\n      if (unresolved == 0) d.resolve(arr);\n      arr.map(function (v, i) {\n        if (v && v.then) v.then(function (r) {\n          arr[i] = r;\n          done();\n          return r;\n        }, done);\n      });\n    }\n\n    done();\n    return d;\n  };\n\n  Deferred.race = function (arr) {\n    if (!(this._d == 1)) throw TypeError();\n    if (!(arr instanceof Array)) return Deferred.reject(TypeError());\n    if (arr.length == 0) return new Deferred();\n    var d = new Deferred();\n\n    function done(e, v) {\n      if (v) return d.resolve(v);\n      if (e) return d.reject(e);\n      var unresolved = arr.reduce(function (cnt, v) {\n        if (v && v.then) return cnt + 1;\n        return cnt;\n      }, 0);\n      if (unresolved == 0) d.resolve(arr);\n      arr.map(function (v) {\n        if (v && v.then) v.then(function (r) {\n          done(null, r);\n        }, done);\n      });\n    }\n\n    done();\n    return d;\n  };\n\n  Deferred._d = 1;\n  /**\n   * @constructor\n   */\n\n  function Deferred(resolver) {\n\n    if (typeof resolver != \"function\" && resolver != undefined) throw TypeError();\n    if (_typeof(this) != \"object\" || this && this.then) throw TypeError(); // states\n    // 0: pending\n    // 1: resolving\n    // 2: rejecting\n    // 3: resolved\n    // 4: rejected\n\n    var self = this,\n        state = 0,\n        val = 0,\n        next = [],\n        fn,\n        er;\n    self[\"promise\"] = self;\n\n    self[\"resolve\"] = function (v) {\n      fn = self.fn;\n      er = self.er;\n\n      if (!state) {\n        val = v;\n        state = 1;\n        nextTick(fire);\n      }\n\n      return self;\n    };\n\n    self[\"reject\"] = function (v) {\n      fn = self.fn;\n      er = self.er;\n\n      if (!state) {\n        val = v;\n        state = 2;\n        nextTick(fire);\n      }\n\n      return self;\n    };\n\n    self[\"_d\"] = 1;\n\n    self[\"then\"] = function (_fn, _er) {\n      if (!(this._d == 1)) throw TypeError();\n      var d = new Deferred();\n      d.fn = _fn;\n      d.er = _er;\n\n      if (state == 3) {\n        d.resolve(val);\n      } else if (state == 4) {\n        d.reject(val);\n      } else {\n        next.push(d);\n      }\n\n      return d;\n    };\n\n    self[\"finally\"] = function (_handler) {\n      var _value;\n\n      var handler = function (value) {\n        _value = value;\n        return _handler();\n      };\n\n      var value = function () {\n        var d = new Deferred();\n        if (state == 4) return d.reject(_value);else return d.resolve(_value);\n      };\n\n      return self.then(handler, handler).then(value, value);\n    };\n\n    self[\"catch\"] = function (_er) {\n      return self[\"then\"](null, _er);\n    }; //compatibility with old version of promiz lib\n\n\n    self[\"fail\"] = function (_er) {\n      return self[\"then\"](null, _er);\n    };\n\n    var finish = function (type) {\n      state = type || 4;\n\n      for (var i = 0; i < next.length; i++) {\n        var p = next[i];\n        state == 3 && p.resolve(val) || p.reject(val);\n      }\n    };\n\n    try {\n      if (typeof resolver == \"function\") resolver(self[\"resolve\"], self[\"reject\"]);\n    } catch (e) {\n      self[\"reject\"](e);\n    }\n\n    return self; // ref : reference to 'then' function\n    // cb, ec, cn : successCallback, failureCallback, notThennableCallback\n\n    function thennable(ref, cb, ec, cn) {\n      // Promises can be rejected with other promises, which should pass through\n      if (state == 2) {\n        return cn();\n      }\n\n      if ((_typeof(val) == \"object\" || typeof val == \"function\") && typeof ref == \"function\") {\n        try {\n          // cnt protects against abuse calls from spec checker\n          var cnt = 0;\n          ref.call(val, function (v) {\n            if (cnt++) return;\n            val = v;\n            cb();\n          }, function (v) {\n            if (cnt++) return;\n            val = v;\n            ec();\n          });\n        } catch (e) {\n          val = e;\n          ec();\n        }\n      } else {\n        cn();\n      }\n    }\n\n    function fire() {\n      // check if it's a thenable\n      var ref;\n\n      try {\n        ref = val && val.then;\n      } catch (e) {\n        val = e;\n        state = 2;\n        return fire();\n      }\n\n      thennable(ref, function () {\n        state = 1;\n        fire();\n      }, function () {\n        state = 2;\n        fire();\n      }, function () {\n        try {\n          if (state == 1 && typeof fn == \"function\") {\n            val = fn(val);\n          } else if (state == 2 && typeof er == \"function\") {\n            val = er(val);\n            state = 1;\n          }\n        } catch (e) {\n          val = e;\n          return finish();\n        }\n\n        if (val == self) {\n          val = TypeError();\n          finish();\n        } else thennable(ref, function () {\n          finish(3);\n        }, finish, function () {\n          finish(state == 1 && 3);\n        });\n      });\n    }\n  } // promise factory\n\n\n  Deferred.defer = function () {\n    return new Deferred(null);\n  };\n\n  // resolves circular dependencies\n  // quick solution, must be removed in the next versions\n  var services = {};\n  function define(name, value) {\n    services[name] = value;\n  }\n  function use(name) {\n    return services[name];\n  }\n\n  function assert(test, msg) {\n    if (!test) {\n      log(\"error\", msg);\n      var message = use(\"message\");\n      if (message && typeof msg == \"string\") message({\n        type: \"debug\",\n        text: msg,\n        expire: -1\n      });\n      debugger; // eslint-disable-line\n    }\n  } //show log message\n\n  function log(type, message, details) {\n    if (arguments.length == 1) {\n      message = type;\n      type = \"log\";\n    }\n\n    if (window.console && window.console.log) {\n      type = type.toLowerCase();\n      if (window.console[type]) window.console[type](message || \"unknown error\");else window.console.log(type + \": \" + message);\n      if (details) window.console.log(details);\n    }\n  }\n  var debug_mode = {};\n  function debug(mode) {\n    if (!mode) debug_mode = {};else if (_typeof(mode) !== \"object\") debug_mode = {\n      events: true\n    };else for (var key in mode) {\n      debug_mode[key] = mode[key];\n    }\n  }\n  var debug_size_indent = 0;\n\n  function debug_size_step() {\n    var str = \"\";\n\n    for (var i = 0; i < debug_size_indent; i++) {\n      str += \"|  \";\n    }\n\n    return str;\n  }\n\n  function debug_size_box_start(comp, get) {\n    if (!debug_mode.size) return;\n    if (!debug_size_indent) log(get ? \"--- get sizes ---\" : \"--- set sizes ---\");\n    log(debug_size_step() + comp.name + \"@\" + comp.config.id);\n    debug_size_indent++;\n  }\n  function debug_size_box_end(comp, sizes) {\n    if (!debug_mode.size) return;\n    debug_size_indent--;\n    log(debug_size_step() + sizes.join(\",\"));\n  }\n  function debug_size_box(comp, sizes, get) {\n    if (!debug_mode.size) return;\n    if (!debug_size_indent) log(get ? \"--- get sizes ---\" : \"--- set sizes ---\");\n    log(debug_size_step() + comp.name + \"@\" + comp.config.id + \" \" + sizes.join(\",\"));\n  }\n\n  var level = 0;\n  function level_in() {\n    level++;\n    assert(level !== 100, \"Attempt to copy object with self reference\");\n  }\n  function level_out() {\n    level--;\n  } //coding helpers\n\n  function clone(source) {\n    var f = clone._function;\n    f.prototype = source;\n    return new f();\n  }\n\n  clone._function = function () {}; //copies methods and properties from source to the target\n\n\n  exports.extend = function (base, source, force) {\n    assert(base, \"Invalid mixing target\");\n    assert(source, \"Invalid mixing source\");\n\n    if (base.$protoWait) {\n      _power_array.insertAt.call(base.$protoWait, source, 1);\n\n      return base;\n    } //copy methods, overwrite existing ones in case of conflict\n\n\n    for (var method in source) {\n      if (!(method in base) || force) base[method] = source[method];\n    } //in case of defaults - preffer top one\n\n\n    if (source.defaults) exports.extend(base.defaults, source.defaults); //if source object has init code - call init against target\n\n    if (source.$init) source.$init.call(base);\n    return base;\n  }; //copies methods and properties from source to the target from all levels\n\n\n  function copy(source) {\n    assert(source, \"Invalid mixing target\");\n    level_in();\n    var esModern = !!window.Map && !!window.Set && !!window.WeakMap && !!window.WeakSet;\n    var target;\n\n    if (arguments.length > 1) {\n      target = arguments[0];\n      source = arguments[1];\n    } else target = isArray(source) ? [] : {};\n\n    for (var method in source) {\n      var from = source[method];\n\n      if (from && _typeof(from) == \"object\" && !(from instanceof RegExp)) {\n        if (isDate(from)) target[method] = new Date(from);\n        /* jshint ignore:start */\n        else if (esModern && (from instanceof Map || from instanceof Set || from instanceof WeakMap || from instanceof WeakSet)) target[method] = from;\n          /* jshint ignore:end */\n          else {\n              target[method] = isArray(from) ? [] : {};\n              copy(target[method], from);\n            }\n      } else {\n        target[method] = from;\n      }\n    }\n\n    level_out();\n    return target;\n  }\n  function single(source) {\n    var instance = null;\n\n    var t = function () {\n      if (!instance) instance = new source({});\n      if (instance._reinit) instance._reinit.apply(instance, arguments);\n      return instance;\n    };\n\n    return t;\n  } //creates function with specified \"this\" pointer\n\n  function bind(functor, object) {\n    return function () {\n      return functor.apply(object, arguments);\n    };\n  } //evaluate javascript code in the global scope\n\n  function exec(code) {\n    return window.eval(code);\n  }\n  function wrap(code, wrap) {\n    if (!code) return wrap;\n    return function () {\n      var result = code.apply(this, arguments);\n      wrap.apply(this, arguments);\n      return result;\n    };\n  } //check === undefined\n\n  function isUndefined(a) {\n    return typeof a == \"undefined\";\n  } //delay call to after-render time\n\n  function delay(method, obj, params, delay) {\n    return window.setTimeout(function () {\n      if (!(obj && obj.$destructed)) {\n        var ret = method.apply(obj, params || []);\n        method = obj = params = null;\n        return ret;\n      }\n    }, delay || 1);\n  }\n  function once(method) {\n    var flag = true;\n    return function () {\n      if (flag) {\n        flag = false;\n        method.apply(this, arguments);\n      }\n    };\n  } //common helpers\n  //generates unique ID (unique per window, nog GUID)\n\n  var _seed = new Date().valueOf();\n\n  function uid() {\n    _seed++;\n    return _seed;\n  } //resolve ID as html object\n\n  function toNode(node) {\n    if (typeof node == \"string\") return document.getElementById(node);\n    return node;\n  } //resolve function name\n\n  function toFunctor(str, scope) {\n    if (typeof str == \"string\") {\n      var method = str.replace(\"()\", \"\");\n      if (scope && scope[method]) return scope[method];\n      return window[method] || exec(str);\n    }\n\n    return str;\n  }\n  /*checks where an object is instance of Array*/\n\n  function isArray(obj) {\n    return Array.isArray(obj);\n  }\n  function isDate(obj) {\n    return obj instanceof Date;\n  } //adds extra methods for the array\n\n  function _to_array(array) {\n    return exports.extend(array || [], _power_array, true);\n  } //can be used by _to_array()\n\n  var _power_array = {\n    //remove element at specified position\n    removeAt: function (pos, len) {\n      if (pos >= 0) this.splice(pos, len || 1);\n    },\n    //find element in collection and remove it \n    remove: function (value) {\n      this.removeAt(this.find(value));\n    },\n    //add element to collection at specific position\n    insertAt: function (data, pos) {\n      if (!pos && pos !== 0) //add to the end by default\n        this.push(data);else {\n        this.splice(pos, 0, data);\n      }\n    },\n    //return index of element, -1 if it doesn't exists\n    find: function (data) {\n      for (var i = 0; i < this.length; i++) {\n        if (data == this[i]) return i;\n      }\n\n      return -1;\n    },\n    //execute some method for each element of array\n    each: function (functor, master) {\n      for (var i = 0; i < this.length; i++) {\n        functor.call(master || this, this[i]);\n      }\n    },\n    //create new array from source, by using results of functor \n    map: function (functor, master) {\n      for (var i = 0; i < this.length; i++) {\n        this[i] = functor.call(master || this, this[i]);\n      }\n\n      return this;\n    },\n    filter: function (functor, master) {\n      for (var i = 0; i < this.length; i++) {\n        if (!functor.call(master || this, this[i])) {\n          this.splice(i, 1);\n          i--;\n        }\n      }\n\n      return this;\n    }\n  }; //hook for documentation generator\n\n  {\n    if (window.webix_on_core_ready) {\n      exports.extend = window.webix_on_core_ready({\n        extend: exports.extend\n      }).extend;\n    }\n  }\n\n  var i18n = {\n    parseFormat: \"%Y-%m-%d %H:%i:%s\",\n    parseTimeFormat: \"%H:%i:%s\"\n  };\n\n  function stringify(obj) {\n    var origin = Date.prototype.toJSON;\n\n    Date.prototype.toJSON = function () {\n      return i18n.parseFormatStr(this);\n    };\n\n    var result;\n    if (obj instanceof Date) result = obj.toJSON();else result = JSON.stringify(obj);\n    Date.prototype.toJSON = origin;\n    return result;\n  }\n\n  var EventSystem = {\n    $init: function () {\n      if (!this._evs_events) {\n        this._evs_events = {}; //hash of event handlers, name => handler\n\n        this._evs_handlers = {}; //hash of event handlers, ID => handler\n\n        this._evs_map = {};\n      }\n    },\n    //temporary block event triggering\n    blockEvent: function () {\n      this._evs_events._block = true;\n    },\n    //re-enable event triggering\n    unblockEvent: function () {\n      this._evs_events._block = false;\n    },\n    mapEvent: function (map) {\n      exports.extend(this._evs_map, map, true);\n    },\n    on_setter: function (config) {\n      if (config) {\n        for (var i in config) {\n          var method = toFunctor(config[i], this.$scope);\n          var sub = i.indexOf(\"->\");\n\n          if (sub !== -1) {\n            this[i.substr(0, sub)].attachEvent(i.substr(sub + 2), bind(method, this));\n          } else this.attachEvent(i, method);\n        }\n      }\n    },\n    //trigger event\n    callEvent: function (type, params) {\n      var master = this._event_master || this;\n      if (this._evs_events._block) return true;\n      type = type.toLowerCase();\n\n      var event_stack = this._evs_events[type.toLowerCase()]; //all events for provided name\n\n\n      var return_value = true;\n      if ((debug_mode.events || this.debug) && type !== \"onmousemoving\") //can slowdown a lot\n        log(\"info\", \"[\" + this.name + \"@\" + (this._settings || {}).id + \"] event:\" + type, params);\n      if (event_stack) for (var i = 0; i < event_stack.length; i++) {\n        /*\n        \tCall events one by one\n        \tIf any event return false - result of whole event will be false\n        \tHandlers which are not returning anything - counted as positive\n        */\n        if (event_stack[i].apply(master, params || []) === false) return_value = false;\n      }\n\n      if (this._evs_map[type]) {\n        var target = this._evs_map[type];\n        target.$eventSource = this;\n        if (!target.callEvent(type, params)) return_value = false;\n        target.$eventSource = null;\n      }\n\n      return return_value;\n    },\n    //assign handler for some named event\n    attachEvent: function (type, functor, id) {\n      assert(functor, \"Invalid event handler for \" + type);\n      type = type.toLowerCase();\n      id = id || uid(); //ID can be used for detachEvent\n\n      functor = toFunctor(functor, this.$scope); //functor can be a name of method\n\n      var event_stack = this._evs_events[type] || _to_array(); //save new event handler\n\n\n      if (arguments[3]) event_stack.unshift(functor);else event_stack.push(functor);\n      this._evs_events[type] = event_stack;\n      this._evs_handlers[id] = {\n        f: functor,\n        t: type\n      };\n      return id;\n    },\n    //remove event handler\n    detachEvent: function (id) {\n      if (!this._evs_handlers[id]) {\n        var name = (id + \"\").toLowerCase();\n\n        if (this._evs_events[name]) {\n          this._evs_events[name] = _to_array();\n        }\n\n        return;\n      }\n\n      var type = this._evs_handlers[id].t;\n      var functor = this._evs_handlers[id].f; //remove from all collections\n\n      var event_stack = this._evs_events[type];\n      event_stack.remove(functor);\n      delete this._evs_handlers[id];\n    },\n    hasEvent: function (type) {\n      type = type.toLowerCase();\n      var stack = this._evs_events[type];\n      if (stack && stack.length) return true;\n      var parent = this._evs_map[type];\n      if (parent) return parent.hasEvent(type);\n      return false;\n    }\n  };\n\n  var evs = {};\n  exports.extend(evs, EventSystem, true);\n  var callEvent = function (a, b) {\n    return evs.callEvent(a, b);\n  };\n  var attachEvent = function (a, b, c, d) {\n    return evs.attachEvent(a, b, c, d);\n  };\n  var detachEvent = function (a) {\n    return evs.detachEvent(a);\n  };\n  var blockEvent = function () {\n    return evs.blockEvent();\n  };\n  var unblockEvent = function () {\n    return evs.unblockEvent();\n  };\n  var mapEvent = function (map) {\n    return evs.mapEvent(map);\n  };\n  var hasEvent = function (type) {\n    return evs.hasEvent(type);\n  };\n\n  var xml = {\n    _isValidXML: function (data) {\n      if (!data || !data.documentElement) return null;\n      if (data.getElementsByTagName(\"parsererror\").length) return null;\n      return data;\n    },\n    //convert xml string to xml object if necessary\n    toObject: function (text, response) {\n      var data = response ? response.rawxml ? response.rawxml() : response : null;\n      if (this._isValidXML(data)) return data;\n      if (typeof text == \"string\") data = this.fromString(text.replace(/^[\\s]+/, \"\"));else data = text;\n      if (this._isValidXML(data)) return data;\n      return null;\n    },\n    //get array of records\n    getRecords: function (data) {\n      return this.xpath(data, this.records);\n    },\n    records: \"/*/item\",\n    child: \"item\",\n    config: \"/*/config\",\n    //get hash of properties for single record\n    getDetails: function (data) {\n      return this.tagToObject(data, {});\n    },\n    getOptions: function () {\n      return false;\n    },\n    //get count of data and position at which new data_loading need to be inserted\n    getInfo: function (data) {\n      var config = this.xpath(data, this.config);\n      if (config.length) config = this.assignTypes(this.tagToObject(config[0], {}));else config = null;\n      return {\n        size: data.documentElement.getAttribute(\"total_count\") || 0,\n        from: data.documentElement.getAttribute(\"pos\"),\n        parent: data.documentElement.getAttribute(\"parent\") || 0,\n        config: config\n      };\n    },\n    //xpath helper\n    xpath: function (xml, path) {\n      if (window.XPathResult) {\n        //FF, KHTML, Opera\n        var node = xml;\n        if (xml.nodeName.indexOf(\"document\") == -1) xml = xml.ownerDocument;\n        var res = [];\n        var col = xml.evaluate(path, node, null, XPathResult.ANY_TYPE, null);\n        var temp = col.iterateNext();\n\n        while (temp) {\n          res.push(temp);\n          temp = col.iterateNext();\n        }\n\n        return res;\n      } else {\n        var test = true;\n\n        try {\n          if (typeof xml.selectNodes == \"undefined\") test = false;\n        } catch (e) {}\n        /*IE7 and below can't operate with xml object*/\n        //IE\n\n\n        if (test) return xml.selectNodes(path);else {\n          //there is no interface to do XPath\n          //use naive approach\n          var name = path.split(\"/\").pop();\n          return xml.getElementsByTagName(name);\n        }\n      }\n    },\n    assignTypes: function (obj) {\n      for (var k in obj) {\n        var test = obj[k];\n        if (_typeof(test) == \"object\") this.assignTypes(test);else if (typeof test == \"string\") {\n          if (test === \"\") continue;\n          if (test == \"true\") obj[k] = true;else if (test == \"false\") obj[k] = false;else if (test == test * 1) obj[k] = obj[k] * 1;\n        }\n      }\n\n      return obj;\n    },\n    //convert xml tag to js object, all subtags and attributes are mapped to the properties of result object\n    tagToObject: function (tag, z) {\n      var isArray = tag.nodeType == 1 && tag.getAttribute(\"stack\");\n      var hasSubTags = 0;\n\n      if (!isArray) {\n        z = z || {}; //map attributes\n\n        var a = tag.attributes;\n        if (a && a.length) for (var i = 0; i < a.length; i++) {\n          z[a[i].name] = a[i].value;\n          hasSubTags = 1;\n        } //map subtags\n\n        var b = tag.childNodes;\n\n        for (var _i = 0; _i < b.length; _i++) {\n          if (b[_i].nodeType == 1) {\n            var name = b[_i].tagName;\n\n            if (z[name]) {\n              if (typeof z[name].push != \"function\") z[name] = [z[name]];\n              z[name].push(this.tagToObject(b[_i], {}));\n            } else z[name] = this.tagToObject(b[_i], {}); //sub-object for complex subtags\n\n\n            hasSubTags = 2;\n          }\n        }\n\n        if (!hasSubTags) return this.nodeValue(tag); //each object will have its text content as \"value\" property\n        //only if has not sub tags\n\n        if (hasSubTags < 2) z.value = z.value || this.nodeValue(tag);\n      } else {\n        z = [];\n        var _b = tag.childNodes;\n\n        for (var _i2 = 0; _i2 < _b.length; _i2++) {\n          if (_b[_i2].nodeType == 1) z.push(this.tagToObject(_b[_i2], {}));\n        }\n      }\n\n      return z;\n    },\n    //get value of xml node \n    nodeValue: function (node) {\n      if (node.firstChild) {\n        return node.firstChild.wholeText || node.firstChild.data;\n      }\n\n      return \"\";\n    },\n    //convert XML string to XML object\n    fromString: function (xmlString) {\n      try {\n        if (window.DOMParser) // FF, KHTML, Opera\n          return new DOMParser().parseFromString(xmlString, \"text/xml\");\n        /* global ActiveXObject */\n\n        if (window.ActiveXObject) {\n          // IE, utf-8 only \n          var temp = new ActiveXObject(\"Microsoft.xmlDOM\");\n          temp.loadXML(xmlString);\n          return temp;\n        }\n      } catch (e) {\n        assert(0, e);\n        return null;\n      }\n\n      assert(0, \"Load from xml string is not supported\");\n    }\n  };\n\n  var json = {\n    //convert json string to json object if necessary\n    toObject: function (data) {\n      if (!data) return null;\n\n      if (typeof data == \"string\") {\n        try {\n          if (this.parseDates) {\n            var isodate = /\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(.\\d{1-3})?Z/;\n            data = JSON.parse(data, function (key, value) {\n              if (typeof value == \"string\") {\n                if (isodate.test(value)) return new Date(value);\n              }\n\n              return value;\n            });\n          } else {\n            data = JSON.parse(data);\n          }\n        } catch (e) {\n          log(e);\n          log(data);\n          assert(0, \"Invalid JSON data for parsing\");\n          return null;\n        }\n      }\n\n      return data;\n    },\n    //get array of records\n    getRecords: function (data) {\n      if (data && data.data) data = data.data;\n      if (data && !isArray(data)) return [data];\n      return data;\n    },\n    //get hash of properties for single record\n    getDetails: function (data) {\n      if (typeof data == \"string\") return {\n        id: data || uid(),\n        value: data\n      };\n      return data;\n    },\n    getOptions: function (data) {\n      return data.collections;\n    },\n    //get count of data and position at which new data need to be inserted\n    getInfo: function (data) {\n      return {\n        size: data.total_count || 0,\n        from: data.pos,\n        parent: data.parent || 0,\n        config: data.config\n      };\n    },\n    child: \"data\",\n    parseDates: false\n  };\n\n  function ajax(url, params, call) {\n    //if parameters was provided - made fast call\n    if (arguments.length !== 0) {\n      return new ajax().get(url, params, call);\n    }\n\n    if (!this || !this.getXHR) return new ajax(); //allow to create new instance without direct new declaration\n\n    return this;\n  }\n  ajax.count = 0;\n  ajax.prototype = {\n    master: null,\n    //creates xmlHTTP object\n    getXHR: function () {\n      return new XMLHttpRequest();\n    },\n    stringify: function (obj) {\n      return stringify(obj);\n    },\n\n    /*\n    \tsend data to the server\n    \tparams - hash of properties which will be added to the url\n    \tcall - callback, can be an object with success and error functions\n    */\n    _send: function (url, params, call, mode) {\n      var master; //webix.ajax(url, callback) - can be called only by user\n\n      if (params && (isArray(params) || typeof (params.success || params.error || params) == \"function\")) {\n        master = call;\n        call = params;\n        params = null;\n      }\n\n      var defer = Deferred.defer();\n      var x = this.getXHR();\n      var headers = this._header || {};\n\n      if (!callEvent(\"onBeforeAjax\", [mode, url, params, x, headers, null, defer])) {\n        return defer.reject(x);\n      } //add content-type to POST|PUT|DELETE\n\n\n      var json_mode = false;\n\n      if (mode !== \"GET\") {\n        var found = false;\n\n        for (var key in headers) {\n          if (key.toString().toLowerCase() == \"content-type\") {\n            found = true;\n            if (headers[key] == \"application/json\") json_mode = true;\n          }\n        }\n\n        if (!found && !(window.FormData && params instanceof window.FormData)) headers[\"Content-Type\"] = \"application/x-www-form-urlencoded\";\n      } //add extra params to the url\n\n\n      if (_typeof(params) == \"object\" && !(window.FormData && params instanceof window.FormData)) {\n        if (json_mode) params = this.stringify(params);else {\n          var t = [];\n\n          for (var a in params) {\n            var value = params[a];\n            if (value === null || value === undefined) value = \"\";\n            if (_typeof(value) === \"object\") value = this.stringify(value);\n            t.push(a + \"=\" + encodeURIComponent(value)); // utf-8 escaping\n          }\n\n          params = t.join(\"&\");\n        }\n      }\n\n      if (params && mode === \"GET\") {\n        url = url + (url.indexOf(\"?\") != -1 ? \"&\" : \"?\") + params;\n        params = null;\n      }\n\n      x.open(mode, url, !this._sync);\n      var type = this._response;\n      if (type) x.responseType = type; //if header was provided - use it\n\n      for (var _key in headers) {\n        x.setRequestHeader(_key, headers[_key]);\n      } //async mode, define loading callback\n\n\n      var self = this;\n      this.master = this.master || master;\n\n      x.onreadystatechange = function () {\n        if (!x.readyState || x.readyState == 4) {\n          ajax.count++;\n          var is_error = x.status >= 400 || x.status === 0;\n          var text, data;\n\n          if (x.responseType == \"blob\" || x.responseType == \"arraybuffer\") {\n            text = \"\";\n            data = x.response;\n          } else {\n            text = x.responseText || \"\";\n            data = self._data(x);\n          }\n\n          if (is_error) {\n            callEvent(\"onAjaxError\", [x]);\n            defer.reject(x);\n            if (call) ajax.$callback(self.master || window, call, text, data, x, is_error);\n          } else {\n            defer.resolve(data);\n            if (call) ajax.$callback(self.master || window, call, text, data, x, is_error);\n          }\n        }\n      };\n\n      if (this._timeout) x.timeout = this._timeout; //IE can use sync mode sometimes, fix it\n\n      if (!this._sync) setTimeout(function () {\n        x.send(params || null);\n      }, 0);else x.send(params || null);\n\n      if (this.master && !this._sync) {\n        defer.then(function (data) {\n          //anti-leak\n          self.master = null;\n          call = self = master = null;\n          return data;\n        });\n      }\n\n      return this._sync ? x : defer; //return XHR, which can be used in case of sync. mode\n    },\n    _data: function (x) {\n      return {\n        xml: function () {\n          try {\n            return xml.tagToObject(xml.toObject(x.responseText, this));\n          } catch (e) {\n            log(x.responseText);\n            log(e.toString());\n            assert(0, \"Invalid xml data for parsing\");\n          }\n        },\n        rawxml: function () {\n          if (!window.XPathResult) return xml.fromString(x.responseText);\n          return x.responseXML;\n        },\n        text: function () {\n          return x.responseText;\n        },\n        json: function () {\n          return json.toObject(x.responseText, false);\n        }\n      };\n    },\n    //GET request\n    get: function (url, params, call) {\n      return this._send(url, params, call, \"GET\");\n    },\n    //POST request\n    post: function (url, params, call) {\n      return this._send(url, params, call, \"POST\");\n    },\n    //PUT request\n    put: function (url, params, call) {\n      return this._send(url, params, call, \"PUT\");\n    },\n    //DELETE request\n    del: function (url, params, call) {\n      return this._send(url, params, call, \"DELETE\");\n    },\n    //PATCH request\n    patch: function (url, params, call) {\n      return this._send(url, params, call, \"PATCH\");\n    },\n    sync: function () {\n      this._sync = true;\n      return this;\n    },\n    timeout: function (num) {\n      this._timeout = num;\n      return this;\n    },\n    response: function (value) {\n      this._response = value;\n      return this;\n    },\n    headers: function (header) {\n      this._header = exports.extend(this._header || {}, header);\n      return this;\n    },\n    bind: function (master) {\n      this.master = master;\n      return this;\n    }\n  };\n\n  ajax.$callback = function (owner, call, text, data, x, is_error) {\n    if (owner.$destructed) return;\n    if (is_error) callEvent(\"onAjaxError\", [x]);\n\n    if (call) {\n      var method = call.success || call;\n      if (is_error) method = call.error;\n      if (method && method.call) method.call(owner, text, data, x);\n    }\n  };\n\n  var proxy = {\n    $proxy: true,\n    load: function () {\n      var parts = this.source.split(\"@\");\n      var ext = parts[0].split(\".\").pop();\n      return ajax().response(\"arraybuffer\").get(parts[0]).then(function (res) {\n        var options = {\n          ext: ext,\n          dataurl: parts[1]\n        };\n        return {\n          data: res,\n          options: options\n        };\n      });\n    }\n  };\n\n  var proxy$1 = {\n    $proxy: true,\n    load: function () {},\n    save: function (v, u, d) {\n      delay(function () {\n        window.console.log(\"[DP] \" + u.id + \" -> \" + u.operation, u.data);\n        var data = {\n          id: u.data.id,\n          newid: u.data.id,\n          status: u.data.operation\n        };\n        d.processResult(data, data);\n      });\n    }\n  };\n\n  var proxy$2 = {\n    $proxy: true,\n    load: function () {\n      return ajax(this.source);\n    },\n    save: function (view, update) {\n      return proxy$2._save_logic.call(this, update, ajax());\n    },\n    _save_logic: function (update, ajax$$1) {\n      var url = this.source;\n      var query = \"\";\n      var mark = url.indexOf(\"?\");\n\n      if (mark !== -1) {\n        query = url.substr(mark);\n        url = url.substr(0, mark);\n      }\n\n      url += url.charAt(url.length - 1) == \"/\" ? \"\" : \"/\";\n      var mode = update.operation;\n      var data = update.data;\n      if (mode == \"insert\") delete data.id; //call rest URI\n\n      if (mode == \"update\") {\n        return ajax$$1.put(url + data.id + query, data);\n      } else if (mode == \"delete\") {\n        return ajax$$1.del(url + data.id + query, data);\n      } else {\n        return ajax$$1.post(url + query, data);\n      }\n    }\n  };\n\n  var proxy$3 = {\n    $proxy: true,\n    load: function () {\n      return ajax(this.source);\n    },\n    save: function (view, update) {\n      var xhr = ajax().headers({\n        \"Content-Type\": \"application/json\"\n      });\n      return proxy$2._save_logic.call(this, update, xhr);\n    }\n  };\n\n  var proxy$4 = {\n    $proxy: true,\n    load: function (view, params) {\n      params = exports.extend(params || {}, this.params || {}, true);\n      return ajax().post(this.source, params);\n    }\n  };\n\n  function unbox(data) {\n    if (!data || !_typeof(data) === \"object\" || Array.isArray(data)) return data;\n    var lkey = \"\";\n    var count = 0;\n\n    for (var key in data) {\n      count++;\n      if (count == 2) return data;\n      lkey = key;\n    }\n\n    return data[lkey];\n  }\n\n  var GraphQL = {\n    $proxy: true,\n    save: function (data) {\n      return this.load(data);\n    },\n    load: function (view) {\n      var params = {\n        query: this.source\n      };\n\n      if (arguments.length === 1) {\n        params.variables = view;\n      }\n\n      return ajax().headers({\n        \"Content-type\": \"application/json\"\n      }).post(this.url, params).then(function (data) {\n        return unbox(data.json().data);\n      });\n    }\n  };\n\n  function proxy$5(name, source, extra) {\n    assert(proxy$5[name], \"Invalid proxy name: \" + name);\n    var copy$$1 = copy(proxy$5[name]);\n    copy$$1.source = source;\n    if (extra) exports.extend(copy$$1, extra, true);\n    if (copy$$1.init) copy$$1.init();\n    return copy$$1;\n  }\n\n  proxy$5.$parse = function (value) {\n    if (typeof value == \"string\" && value.indexOf(\"->\") != -1) {\n      var parts = value.split(\"->\");\n      return proxy$5(parts[0], parts[1]);\n    }\n\n    return value;\n  };\n\n  proxy$5.binary = proxy;\n  proxy$5.debug = proxy$1;\n  proxy$5.json = proxy$3;\n  proxy$5.post = proxy$4;\n  proxy$5.rest = proxy$2;\n  proxy$5.GraphQL = GraphQL;\n\n  var jsarray = {\n    //parse jsarray string to jsarray object if necessary\n    toObject: function (data) {\n      if (typeof data == \"string\") return JSON.parse(data);\n      return data;\n    },\n    //get array of records\n    getRecords: function (data) {\n      if (data && data.data) data = data.data;\n      return data;\n    },\n    //get hash of properties for single record, in case of array they will have names as \"data{index}\"\n    getDetails: function (data) {\n      var result = {};\n\n      for (var i = 0; i < data.length; i++) {\n        result[\"data\" + i] = data[i];\n      }\n\n      if (this.idColumn !== null) result.id = data[this.idColumn];\n      return result;\n    },\n    getOptions: function () {\n      return false;\n    },\n    //dyn loading is not supported by js-array data source\n    getInfo: function () {\n      return {\n        size: 0\n      };\n    },\n    idColumn: null\n  };\n\n  var csv = {\n    //incoming data always a string\n    toObject: function (data) {\n      return data;\n    },\n    //get array of records\n    getRecords: function (data) {\n      return data.split(this.row);\n    },\n    //get hash of properties for single record, data named as \"data{index}\"\n    getDetails: function (data) {\n      data = this.stringToArray(data);\n      var result = {};\n\n      for (var i = 0; i < data.length; i++) {\n        result[\"data\" + i] = data[i];\n      }\n\n      if (this.idColumn !== null) result.id = data[this.idColumn];\n      return result;\n    },\n    getOptions: function () {\n      return false;\n    },\n    //dyn loading is not supported by csv data source\n    getInfo: function () {\n      return {\n        size: 0\n      };\n    },\n    //split string in array, takes string surrounding quotes in account\n    stringToArray: function (data) {\n      data = data.split(this.cell);\n\n      for (var i = 0; i < data.length; i++) {\n        data[i] = data[i].replace(/^[ \\t\\n\\r]*(\"|)/g, \"\").replace(/(\"|)[ \\t\\n\\r]*$/g, \"\");\n      }\n\n      return data;\n    },\n    idColumn: null,\n    row: \"\\n\",\n    //default row separator\n    cell: \",\" //default cell separator\n\n  };\n\n  var html = {\n    /*\n    \tincoming data can be\n    \t - ID of parent container\n    \t - HTML text\n    */\n    toObject: function (data) {\n      if (typeof data == \"string\") {\n        var t = null;\n        if (data.indexOf(\"<\") == -1) //if no tags inside - probably its an ID\n          t = toNode(data);\n\n        if (!t) {\n          t = document.createElement(\"DIV\");\n          t.innerHTML = data;\n        }\n\n        return t.firstChild;\n      }\n\n      return data;\n    },\n    //get array of records\n    getRecords: function (node) {\n      return node.getElementsByTagName(this.tag);\n    },\n    //get hash of properties for single record\n    getDetails: function (data) {\n      return xml.tagToObject(data);\n    },\n    getOptions: function () {\n      return false;\n    },\n    //dyn loading is not supported by HTML data source\n    getInfo: function () {\n      return {\n        size: 0\n      };\n    },\n    tag: \"LI\"\n  };\n\n  var _native_on_selectstart = 0;\n  var _style_element = {};\n  var _style_cache = {};\n  function denySelect() {\n    if (!_native_on_selectstart) _native_on_selectstart = document.onselectstart;\n    document.onselectstart = stopEvent;\n  }\n  function allowSelect() {\n    if (_native_on_selectstart !== 0) {\n      document.onselectstart = _native_on_selectstart || null;\n    }\n\n    _native_on_selectstart = 0;\n  }\n  function index(node) {\n    var k = 0; //must be =, it is not a comparation!\n\n    while (node = node.previousSibling) {\n      k++;\n    }\n\n    return k;\n  }\n  function createCss(rule, sufix) {\n    var text = \"\";\n    sufix = sufix || \"\";\n\n    for (var key in rule) {\n      text += key + \":\" + rule[key] + \";\";\n    }\n\n    var name = _style_cache[text + sufix];\n\n    if (!name) {\n      name = \"s\" + uid();\n      addStyle(\".\" + name + (sufix || \"\") + \"{\" + text + \"}\");\n      _style_cache[text + sufix] = name;\n    }\n\n    return name;\n  }\n  function addStyle(rule, group) {\n    var style = group ? _style_element[group] : _style_element[\"default\"];\n\n    if (!style) {\n      style = document.createElement(\"style\");\n      style.setAttribute(\"type\", \"text/css\");\n      style.setAttribute(\"media\", \"screen,print\");\n      document.getElementsByTagName(\"head\")[0].appendChild(style);\n      if (group) _style_element[group] = style;else _style_element[\"default\"] = style;\n    }\n\n    style.appendChild(document.createTextNode(rule));\n  }\n  function removeStyle(group) {\n    var box = _style_element[group || \"default\"];\n    if (box) box.innerHTML = \"\";\n  }\n  function create(name, attrs, html) {\n    attrs = attrs || {};\n    var node = document.createElement(name);\n\n    for (var attr_name in attrs) {\n      node.setAttribute(attr_name, attrs[attr_name]);\n    }\n\n    if (attrs.style) node.style.cssText = attrs.style;\n    if (attrs[\"class\"]) node.className = attrs[\"class\"];\n    if (html) node.innerHTML = html;\n    return node;\n  } //return node value, different logic for different html elements\n\n  function getValue(node) {\n    node = toNode(node);\n    if (!node) return \"\";\n    return isUndefined(node.value) ? node.innerHTML : node.value;\n  } //remove html node, can process an array of nodes at once\n\n  function remove(node) {\n    if (node instanceof Array) for (var i = 0; i < node.length; i++) {\n      remove(node[i]);\n    } else if (node && node.parentNode) node.parentNode.removeChild(node);\n  } //insert new node before sibling, or at the end if sibling doesn't exist\n\n  function insertBefore(node, before, rescue) {\n    if (!node) return;\n    if (before && before.parentNode) before.parentNode.insertBefore(node, before);else rescue.appendChild(node);\n  } //return custom ID from html element \n  //will check all parents starting from event's target\n\n  function locate(e, id) {\n    var trg;\n    if (e.tagName) trg = e;else {\n      trg = e.target;\n    }\n\n    while (trg) {\n      if (trg.getAttribute) {\n        //text nodes has not getAttribute\n        var test = trg.getAttribute(id);\n        if (test) return test;\n      }\n\n      trg = trg.parentNode;\n    }\n\n    return null;\n  } //returns position of html element on the page\n\n  function offset(elem) {\n    var box = elem.getBoundingClientRect();\n    var body = document.body;\n    var docElem = document.documentElement;\n    var scrollTop = window.pageYOffset || docElem.scrollTop || body.scrollTop;\n    var scrollLeft = window.pageXOffset || docElem.scrollLeft || body.scrollLeft;\n    var clientTop = docElem.clientTop || body.clientTop || 0;\n    var clientLeft = docElem.clientLeft || body.clientLeft || 0;\n    var top = box.top + scrollTop - clientTop;\n    var left = box.left + scrollLeft - clientLeft;\n    return {\n      y: Math.round(top),\n      x: Math.round(left),\n      width: elem.offsetWidth,\n      height: elem.offsetHeight\n    };\n  } //returns relative position of event\n\n  function posRelative(ev) {\n    return {\n      x: ev.offsetX,\n      y: ev.offsetY\n    };\n  } //returns position of event\n\n  function pos(ev) {\n    if (!ev.type) // webix touch event\n      return {\n        x: ev.x,\n        y: ev.y\n      };\n    if (ev.touches && ev.touches[0]) ev = ev.touches[0];\n    return {\n      x: ev.pageX,\n      y: ev.pageY\n    };\n  } //prevent event action\n\n  function preventEvent(e) {\n    e.preventDefault();\n    return stopEvent(e);\n  } //stop event bubbling\n\n  function stopEvent(e) {\n    e.stopPropagation();\n    return false;\n  }\n  function triggerEvent(node, type, name, details) {\n    var event;\n\n    if (typeof window[type] === \"function\") {\n      details = exports.extend(details || {}, {\n        bubbles: true,\n        cancelable: true\n      });\n      event = new window[type](name, details);\n    } else {\n      //IE 11 support\n      event = document.createEvent(type);\n      event.initEvent(name, true, true);\n    }\n\n    node.dispatchEvent(event);\n  } //add css class to the node\n\n  function addCss(node, name, check) {\n    if (!check || node.className.indexOf(name) === -1) node.className += \" \" + name;\n  } //remove css class from the node\n\n  function removeCss(node, name) {\n    node.className = node.className.replace(RegExp(\" \" + name, \"g\"), \"\");\n  }\n  function getTextSize(text, css, basewidth) {\n    var d = create(\"DIV\", {\n      \"class\": \"webix_view webix_measure_size \" + (css || \"\")\n    }, \"\");\n    d.style.cssText = \"height:auto;visibility:hidden; position:absolute; top:0px; left:0px; overflow:hidden;\" + (basewidth ? \"width:\" + basewidth + \"px;\" : \"width:auto;white-space:nowrap;\");\n    document.body.appendChild(d);\n    var all = _typeof(text) !== \"object\" ? [text] : text;\n    var width = 0,\n        height = 0;\n\n    for (var i = 0; i < all.length; i++) {\n      d.innerHTML = all[i];\n      var rect = d.getBoundingClientRect();\n      width = Math.max(width, Math.ceil(rect.width));\n      height = Math.max(height, Math.ceil(rect.height));\n    }\n\n    remove(d);\n    return {\n      width: width,\n      height: height\n    };\n  }\n  function download(data, filename) {\n    var objUrl = false;\n\n    if (_typeof(data) == \"object\") {\n      //blob\n      if (window.navigator.msSaveBlob) return window.navigator.msSaveBlob(data, filename);else {\n        data = window.URL.createObjectURL(data);\n        objUrl = true;\n      }\n    } //data url or blob url\n\n\n    var link = document.createElement(\"a\");\n    link.href = data;\n    link.download = filename;\n    document.body.appendChild(link);\n    link.click();\n    delay(function () {\n      if (objUrl) window.URL.revokeObjectURL(data);\n      document.body.removeChild(link);\n      link.remove();\n    });\n  }\n  function _getClassName(node) {\n    if (!node) return \"\";\n    var className = node.className || \"\";\n    if (className.baseVal) //'className' exist but not a string - IE svg element in DOM\n      className = className.baseVal;\n    if (!className.indexOf) className = \"\";\n    return className;\n  }\n  function setSelectionRange(node, start, end) {\n    start = start || 0;\n    end = end || start;\n    node.focus();\n    node.setSelectionRange(start, end);\n  }\n  function getSelectionRange(node) {\n    return {\n      start: node.selectionStart || 0,\n      end: node.selectionEnd || 0\n    };\n  }\n  function addMeta(name, value) {\n    document.getElementsByTagName(\"head\").item(0).appendChild(create(\"meta\", {\n      name: name,\n      content: value\n    }));\n  }\n\n  var html$1 = /*#__PURE__*/Object.freeze({\n    denySelect: denySelect,\n    allowSelect: allowSelect,\n    index: index,\n    createCss: createCss,\n    addStyle: addStyle,\n    removeStyle: removeStyle,\n    create: create,\n    getValue: getValue,\n    remove: remove,\n    insertBefore: insertBefore,\n    locate: locate,\n    offset: offset,\n    posRelative: posRelative,\n    pos: pos,\n    preventEvent: preventEvent,\n    stopEvent: stopEvent,\n    triggerEvent: triggerEvent,\n    addCss: addCss,\n    removeCss: removeCss,\n    getTextSize: getTextSize,\n    download: download,\n    _getClassName: _getClassName,\n    setSelectionRange: setSelectionRange,\n    getSelectionRange: getSelectionRange,\n    addMeta: addMeta\n  });\n\n  var htmltable = {\n    //convert json string to json object if necessary\n    toObject: function (data) {\n      data = toNode(data);\n      assert(data, \"table is not found\");\n      assert(data.tagName.toLowerCase() === \"table\", \"Incorrect table object\");\n      var tr = data.rows;\n      remove(data);\n      return tr;\n    },\n    //get array of records\n    getRecords: function (data) {\n      var new_data = []; //skip header rows if necessary\n\n      var i = data[0] && data[0]._webix_skip ? 1 : 0;\n\n      for (; i < data.length; i++) {\n        new_data.push(data[i]);\n      }\n\n      return new_data;\n    },\n    //get hash of properties for single record\n    getDetails: function (data) {\n      var td = data.getElementsByTagName(\"td\");\n      data = {}; //get hash of properties for single record, data named as \"data{index}\"\n\n      for (var i = 0; i < td.length; i++) {\n        data[\"data\" + i] = td[i].innerHTML;\n      }\n\n      return data;\n    },\n    //get count of data and position at which new data need to be inserted\n    getInfo: function () {\n      // dyn loading is not supported for htmltable\n      return {\n        size: 0\n      };\n    },\n    getOptions: function () {},\n\n    /*! gets header from first table row\n     **/\n    getConfig: function (data) {\n      var columns = [];\n      var td = data[0].getElementsByTagName(\"th\");\n      if (td.length) data[0]._webix_skip = true;\n\n      for (var i = 0; i < td.length; i++) {\n        var col = {\n          id: \"data\" + i,\n          header: this._de_json(td[i].innerHTML)\n        };\n\n        var attrs = this._get_attrs(td[i]);\n\n        col = exports.extend(col, attrs);\n        columns.push(col);\n      }\n\n      return columns;\n    },\n    _de_json: function (str) {\n      var pos$$1 = str.indexOf(\"json://\");\n      if (pos$$1 != -1) str = JSON.parse(str.substr(pos$$1 + 7));\n      return str;\n    },\n\n    /*! gets hash of html-element attributes\n     **/\n    _get_attrs: function (el) {\n      var attr = el.attributes;\n      var hash = {};\n\n      for (var i = 0; i < attr.length; i++) {\n        hash[attr[i].nodeName] = this._de_json(attr[i].nodeValue);\n      }\n\n      hash.width = parseInt(hash.width, 10);\n      return hash;\n    }\n  };\n\n  var env = {};\n  env.cdn = \"//cdn.webix.com\";\n  env.codebase = \"\";\n  env.zIndexBase = 100;\n  env.scrollSize = 17;\n  env.strict = !!window.webix_strict;\n  env.https = document.location.protocol === \"https:\";\n  var agent = navigator.userAgent;\n  env.isMac = agent.indexOf(\"Mac\") != -1;\n  if (/iPad|iPhone|iPod/.test(agent)) env.isIOS = true;\n  if (agent.indexOf(\"Android\") != -1) env.isAndroid = true;\n  if (env.isIOS || env.isAndroid || agent.indexOf(\"Mobile\") != -1 || agent.indexOf(\"Windows Phone\") != -1) env.mobile = true;\n  if (env.mobile || navigator.maxTouchPoints > 1) env.touch = true;\n  env.fastClick = !env.touch; //very rough detection, but it is enough for current goals\n\n  if (agent.indexOf(\"Trident\") !== -1) env.isIE = true;else if (agent.indexOf(\"Edge\") !== -1) env.isEdge = true;else if (agent.indexOf(\"Firefox\") !== -1) env.isFF = true;else if (agent.indexOf(\"Chrome\") !== -1) env.isChromium = true;else if (agent.indexOf(\"Safari\") !== -1) env.isSafari = true; //maximum height/width for HTML elements in pixels (rough), bigger values will be ignored by browser\n\n  if (env.isIE || env.isEdge || env.isFF) env.maxHTMLElementSize = 10000000;\n  if (env.isSafari) env.maxHTMLElementSize = 100000000;\n  env.transform = \"transform\";\n  env.transition = \"transition\";\n  env.transitionDuration = \"transitionDuration\";\n  env.translate = \"translate3d\";\n  env.transitionEnd = \"transitionend\"; //touch events that can be prevented\n\n  env.passiveEventListeners = false;\n\n  try {\n    var opts = Object.defineProperty({}, \"passive\", {\n      get: function () {\n        // eslint-disable-line\n        env.passiveEventListeners = true;\n      }\n    });\n    window.addEventListener(\"testPassive\", null, opts);\n    window.removeEventListener(\"testPassive\", null, opts);\n  } catch (e) {} // eslint-disable-line\n\n\n  env.svg = function () {\n    return document.implementation.hasFeature(\"http://www.w3.org/TR/SVG11/feature#BasicStructure\", \"1.1\");\n  }();\n\n  env.svganimation = function () {\n    return document.implementation.hasFeature(\"https://www.w3.org/TR/SVG11/feature#SVG-animation\", \"1.1\");\n  }();\n\n  var _modules = {}; //hash of already loaded modules\n  //loads module from external js file\n\n  function require(module, callback, master) {\n    var promise = Deferred.defer();\n    if (callback && callback !== true) promise = promise.then(function () {\n      callback.call(master || this);\n    });\n\n    if (require.disabled) {\n      promise.resolve();\n      return promise;\n    } //multiple files required at once\n\n\n    if (typeof module != \"string\") {\n      var count = module.length || 0;\n\n      if (!count) {\n        // { file: true, other: true }\n        for (var file in module) {\n          count++;\n        } // eslint-disable-line\n\n\n        var callback2 = function () {\n          count--;\n          if (count === 0) promise.resolve();\n        };\n\n        for (var _file in module) {\n          require(_file).then(callback2, function () {\n            return promise.reject();\n          });\n        }\n      } else {\n        // [ file, other ]\n        var _callback = function () {\n          if (count) {\n            count--;\n\n            require(module[module.length - count - 1]).then(_callback, function () {\n              return promise.reject();\n            });\n          } else {\n            promise.resolve();\n          }\n        };\n\n        _callback();\n      }\n\n      return promise;\n    }\n\n    if (_modules[module] !== true) {\n      var fullpath = module;\n\n      if (callback === true) {\n        //sync mode\n        exec(ajax().sync().get(fullpath).responseText);\n        _modules[module] = true;\n        return promise.resolve();\n      }\n\n      if (!_modules[module]) //first call\n        _modules[module] = [promise];else {\n        _modules[module].push(promise);\n\n        return promise;\n      }\n\n      var onerror = function () {\n        var calls = _modules[module];\n        _modules[module] = false;\n\n        for (var i = 0; i < calls.length; i++) {\n          calls[i].reject();\n        }\n      };\n\n      var onload = function () {\n        var calls = _modules[module];\n        _modules[module] = true;\n\n        for (var i = 0; i < calls.length; i++) {\n          calls[i].resolve();\n        }\n      }; //css, async, no waiting\n\n\n      var parts = module.split(\"?\");\n\n      if (parts[0].substr(parts[0].length - 4) == \".css\") {\n        var link = create(\"LINK\", {\n          type: \"text/css\",\n          rel: \"stylesheet\",\n          href: fullpath\n        });\n        link.onload = onload;\n        link.onerror = onerror;\n        document.getElementsByTagName(\"head\")[0].appendChild(link);\n      } else {\n        var newScript = document.createElement(\"script\");\n        newScript.onload = onload;\n        newScript.onerror = onerror;\n        document.getElementsByTagName(\"head\")[0].appendChild(newScript);\n        newScript.src = fullpath;\n      }\n    } else promise.resolve();\n\n    return promise;\n  }\n\n  var excel = exports.extend({\n    toObject: function (data) {\n      if (!data.excel) {\n        var opts = data.options || {};\n        if (opts.dataurl) exports.extend(opts, this._urlToOptions(opts.dataurl));\n        data = data.data || data;\n        var promise = Deferred.defer();\n\n        if (data.name) {\n          //file\n          opts.ext = data.name.split(\".\").pop();\n          var reader = new FileReader();\n          reader.onload = bind(function (e) {\n            promise.resolve(this.parseData(e.target.result, opts));\n          }, this);\n          reader.readAsArrayBuffer(data);\n        } else //arraybuffer\n          promise.resolve(this.parseData(data, opts));\n\n        return promise;\n      } //plain jsarray or hash\n\n\n      return data;\n    },\n    parseData: function (data, options) {\n      data = new Uint8Array(data);\n      var arr = [];\n\n      for (var i = 0; i != data.length; ++i) {\n        arr[i] = String.fromCharCode(data[i]);\n      }\n\n      var ext = (options.ext || options).toLowerCase();\n      if (ext != \"xls\") ext = \"xlsx\";\n      return require(env.cdn + \"/extras/xlsx.core.styles.min.js\").then(bind(function () {\n        /* global XLS, XLSX */\n        var wb = ext == \"xls\" ? XLS.read(arr.join(\"\"), {\n          type: \"binary\",\n          cellStyles: true,\n          cellDates: true\n        }) : XLSX.read(arr.join(\"\"), {\n          type: \"binary\",\n          cellStyles: true,\n          cellDates: true\n        });\n        var res = {\n          sheets: wb.Sheets,\n          names: wb.SheetNames,\n          options: options,\n          ranges: wb.Workbook ? wb.Workbook.Names || [] : []\n        };\n        return exports.extend(this.getSheet(res, options), res);\n      }, this));\n    },\n    getSheet: function (data, options) {\n      var name = options.name || data.names[0];\n      data = this.sheetToArray(data.sheets[name], options);\n      if (options.rows && options.rows.length) data.data = data.data.splice(options.rows[0], Math.min(options.rows[1], data.data.length) - options.rows[0]);\n      return data;\n    },\n    sheetToArray: function (sheet, options) {\n      var all = [];\n      var spans = [];\n      var styles = [];\n      var sizes = [];\n      var types = [];\n      var hidden = [];\n      var cellTypes = {\n        n: \"number\",\n        d: \"date\",\n        s: \"string\",\n        b: \"boolean\"\n      };\n\n      if (sheet && sheet[\"!ref\"]) {\n        var range = XLS.utils.decode_range(sheet[\"!ref\"]),\n            row,\n            col,\n            cellCoord,\n            cell,\n            xCorrection = range.s.c,\n            yCorrection = range.s.r + (options.rows ? options.rows[0] : 0);\n\n        for (row = range.s.r; row <= range.e.r; row++) {\n          var nrow = [];\n\n          for (col = range.s.c; col <= range.e.c; col++) {\n            cellCoord = XLS.utils.encode_cell({\n              r: row,\n              c: col\n            });\n            cell = sheet[cellCoord];\n            if (!cell) nrow.push(\"\");else {\n              var ncell = \"\";\n              if (options.math && cell.f) // get formula\n                ncell = cell.f.charAt(0) == \"=\" ? cell.f : \"=\" + cell.f;else if (cell.t == \"d\" && isDate(cell.v)) ncell = i18n.dateFormatStr(cell.v);else ncell = cell.v;\n              nrow.push(ncell);\n              if (cell.s) styles.push([row - yCorrection, col - xCorrection, cell.s]);\n              if (cell.t) types.push([row - yCorrection, col - xCorrection, cellTypes[cell.t]]);\n            }\n          }\n\n          all.push(nrow);\n        }\n\n        if (sheet[\"!merges\"]) {\n          var merges = sheet[\"!merges\"];\n\n          for (var i = 0; i < merges.length; i++) {\n            var s = merges[i].s;\n            var e = merges[i].e;\n            if (!options.rows || s.r - yCorrection >= 0 && e.r - yCorrection <= options.rows[1]) spans.push([s.r - yCorrection, s.c - xCorrection, e.c - s.c + 1, e.r - s.r + 1]);\n          }\n        }\n\n        if (sheet[\"!cols\"]) {\n          var widths = sheet[\"!cols\"];\n\n          for (var _i = 0; _i < widths.length; _i++) {\n            var item = widths[_i];\n\n            if (item) {\n              var index = _i - xCorrection;\n              sizes.push([\"column\", index, Math.round(item.wch / (8.43 / 70))]); //mode, colind, value\n\n              if (item.hidden) hidden.push([\"column\", index]);\n            }\n          }\n        }\n\n        if (sheet[\"!rows\"]) {\n          var heights = sheet[\"!rows\"];\n\n          for (var _i2 = 0; _i2 < heights.length; _i2++) {\n            var _item = heights[_i2];\n\n            if (_item) {\n              var _index = _i2 - yCorrection;\n\n              sizes.push([\"row\", _index, _item.hpx]); //mode (\"row\", \"column\"), rowind, value\n\n              if (_item.hidden) hidden.push([\"row\", _index]);\n            }\n          }\n        }\n      }\n\n      return {\n        data: all,\n        spans: spans,\n        styles: styles,\n        sizes: sizes,\n        types: types,\n        hidden: hidden,\n        excel: true\n      };\n    },\n    _urlToOptions: function (details) {\n      var parts = details.split(\"[\");\n      var options = {};\n      options.name = parts[0];\n\n      if (parts[1]) {\n        var rows = parts[1].split(/[^0-9]+/g);\n        rows[0] = rows[0] * 1 || 0;\n        rows[1] = rows[1] * 1 || 9999999;\n        options.rows = rows;\n      }\n\n      return options;\n    }\n  }, jsarray);\n\n  var DataDriver = {\n    json: json,\n    jsarray: jsarray,\n    xml: xml,\n    csv: csv,\n    html: html,\n    htmltable: htmltable,\n    excel: excel\n  };\n\n  var silentErrorMarker = {};\n  var AtomDataLoader = {\n    $init: function (config) {\n      this._data_generation = 0; //prepare data store\n\n      this.data = {};\n      this.waitData = Deferred.defer();\n      if (config) this._settings.datatype = config.datatype || \"json\";\n      this.$ready.push(this._load_when_ready);\n    },\n    _load_when_ready: function () {\n      this._ready_for_data = true;\n      if (this._settings.url) this.url_setter(this._settings.url);\n      if (this._settings.data) this.data_setter(this._settings.data);\n    },\n    url_setter: function (value) {\n      value = proxy$5.$parse(value);\n      if (!this._ready_for_data) return value;\n      this.load(value, this._settings.datatype);\n      return value;\n    },\n    data_setter: function (value) {\n      if (!this._ready_for_data) return value;\n      this.parse(value, this._settings.datatype);\n      return true;\n    },\n    //loads data from external URL\n    load: function (url, call, details, clear) {\n      var _this = this;\n\n      var type;\n\n      if (typeof call == \"string\") {\n        //second parameter can be a loading type or callback\n        //we are not using setDriver as data may be a non-datastore here\n        type = call;\n        call = arguments[2];\n      }\n\n      var d = this._fetch(url, type, details || null);\n\n      if (d && d.then) return d.then(function (data) {\n        _this._onLoad(data, clear);\n\n        if (call) ajax.$callback(_this, call, \"\", data, -1);\n        return data;\n      }, function (x) {\n        return _this._onLoadError(x);\n      });\n    },\n    _fetch: function (url, type, details) {\n      var _this2 = this;\n\n      var result;\n      if (type || !this.data.driver) this.data.driver = DataDriver[type || \"json\"];\n      if (!this.callEvent(\"onBeforeLoad\", [])) return Deferred.reject(); //proxy\t\n\n      url = proxy$5.$parse(url);\n\n      if (url.$proxy && url.load) {\n        result = url.load(this, details);\n      } //promize\n      else if (typeof url === \"function\") {\n          result = url.call(this, details);\n        } //normal url\n        else {\n            result = ajax().bind(this).get(url);\n          } //we wrap plain data in promise to keep the same processing for it\n\n\n      if (result && !result.then) {\n        result = Deferred.resolve(result);\n      }\n\n      var gen = ++this._data_generation;\n\n      if (result && result.then) {\n        return result.then(function (data) {\n          // component destroyed, or clearAll was issued\n          if (_this2.$destructed || _this2._data_generation !== gen) // by returning rejection we are preventing the further executing chain\n            // if user have used list.load(data).then(do_something)\n            // the do_something will not be executed\n            // the error handler may be triggered though\n            return Deferred.reject(silentErrorMarker);\n          return data;\n        });\n      }\n\n      return result;\n    },\n    //loads data from object\n    parse: function (data, type, clear) {\n      var _this3 = this;\n\n      if (data && typeof data.then == \"function\") {\n        var gen = ++this._data_generation; // component destroyed, or clearAll was issued\n\n        return data.then(function (data) {\n          if (_this3.$destructed || _this3._data_generation !== gen) return Deferred.reject();\n\n          _this3.parse(data, type, clear);\n        });\n      } //loading data from other component\n\n\n      if (data && data.sync && this.sync) this._syncData(data);else if (!this.callEvent(\"onBeforeLoad\", [])) return Deferred.reject();else {\n        if (type || !this.data.driver) this.data.driver = DataDriver[type || \"json\"];\n\n        this._onLoad(data, clear);\n      }\n      return Deferred.resolve();\n    },\n    _syncData: function (data) {\n      if (this.data && this.data.attachEvent) this.data.attachEvent(\"onSyncApply\", bind(function () {\n        if (this._call_onready) this._call_onready();\n      }, this));\n      this.sync(data);\n    },\n    _parse: function (data) {\n      var parsed,\n          record,\n          driver = this.data.driver;\n      record = driver.getRecords(data)[0];\n      parsed = record ? driver.getDetails(record) : {};\n      if (this.setValues) this.setValues(parsed, false, \"auto\");else this.data = parsed;\n    },\n    _onLoadContinue: function (data, clear) {\n      if (data) {\n        if (!this.$onLoad || !this.$onLoad(data, this.data.driver, clear)) {\n          if (this.data && this.data._parse) {\n            if (clear) this.data.clearAll(true);\n\n            this.data._parse(data); //datastore\n\n          } else {\n            if (clear) this.clearAll(true);\n\n            this._parse(data);\n          }\n        }\n      } else this._onLoadError(data); //data loaded, view rendered, call onready handler\n\n\n      if (this._call_onready) this._call_onready();\n      this.callEvent(\"onAfterLoad\", []);\n      this.waitData.resolve();\n    },\n    //default after loading callback\n    _onLoad: function (data, clear) {\n      var _this4 = this;\n\n      // webix loading object or uploaded file structure\n      if (data && typeof data.text === \"function\" && !data.name) {\n        data = data.text();\n      }\n\n      data = this.data.driver.toObject(data);\n      if (data && data.then) data.then(function (data) {\n        return _this4._onLoadContinue(data, clear);\n      });else this._onLoadContinue(data, clear);\n    },\n    _onLoadError: function (xhttp) {\n      if (xhttp !== silentErrorMarker) {\n        //ignore error for dead components\n        if (!this.$destructed) {\n          this.callEvent(\"onAfterLoad\", []);\n          this.callEvent(\"onLoadError\", arguments);\n        }\n\n        callEvent(\"onLoadError\", [xhttp, this]);\n      }\n\n      return Deferred.reject(xhttp);\n    },\n    _check_data_feed: function (data) {\n      if (!this._settings.dataFeed || this._ignore_feed || !data) return true;\n      var url = this._settings.dataFeed;\n      if (typeof url == \"function\") return url.call(this, data.id || data, data);\n      url = url + (url.indexOf(\"?\") == -1 ? \"?\" : \"&\") + \"action=get&id=\" + encodeURIComponent(data.id || data);\n      if (!this.callEvent(\"onBeforeLoad\", [])) return false;\n      ajax(url, function (text, xml, loader) {\n        this._ignore_feed = true;\n        var driver = DataDriver.json;\n        var data = driver.toObject(text, xml);\n        if (data) this.setValues(driver.getDetails(driver.getRecords(data)[0]), false, \"auto\");else this._onLoadError(loader);\n        this._ignore_feed = false;\n        this.callEvent(\"onAfterLoad\", []);\n      }, this);\n      return false;\n    }\n  };\n\n  var CodeParser = {\n    //converts a complex object into an object with primitives properties\n    collapseNames: function (base, prefix, data, filter) {\n      data = data || {};\n      prefix = prefix || \"\";\n\n      filter = filter || function () {\n        return true;\n      };\n\n      if (!base || _typeof(base) != \"object\") return null;\n\n      for (var prop in base) {\n        var value = base[prop];\n        var name = prefix + prop;\n\n        if (value && _typeof(value) == \"object\" && !isDate(value) && !isArray(value) && filter(name)) {\n          CodeParser.collapseNames(value, name + \".\", data, filter);\n        } else {\n          data[name] = value;\n        }\n      }\n\n      return data;\n    },\n    //converts an object with primitive properties into an object with complex properties\n    expandNames: function (base) {\n      var data = {},\n          i,\n          lastIndex,\n          name,\n          obj,\n          prop;\n\n      for (prop in base) {\n        name = prop.split(\".\");\n        lastIndex = name.length - 1;\n        obj = data;\n\n        for (i = 0; i < lastIndex; i++) {\n          if (!obj[name[i]]) obj[name[i]] = {};\n          obj = obj[name[i]];\n        }\n\n        obj[name[lastIndex]] = base[prop];\n      }\n\n      return data;\n    }\n  };\n\n  /*\n  \tTemplate - handles html templates\n  */\n  var _cache = {};\n  var _csp_cache = {};\n  var newlines = new RegExp(\"(\\\\r\\\\n|\\\\n)\", \"g\");\n  var quotes = new RegExp(\"(\\\\\\\")\", \"g\");\n  var slashes = new RegExp(\"(\\\\\\\\)\", \"g\");\n  var escape$1 = {\n    \"&\": \"&amp;\",\n    \"<\": \"&lt;\",\n    \">\": \"&gt;\",\n    \"\\\"\": \"&quot;\",\n    \"'\": \"&#x27;\",\n    \"`\": \"&#x60;\"\n  };\n  var badChars = /[&<>\"'`]/g;\n\n  var escapeChar = function (chr) {\n    return escape$1[chr] || \"&amp;\";\n  };\n\n  function template(str) {\n    if (typeof str == \"function\") return str;\n    if (_cache[str]) return _cache[str];\n    str = (str || \"\").toString();\n\n    if (str.indexOf(\"->\") != -1) {\n      var teststr = str.split(\"->\");\n\n      switch (teststr[0]) {\n        case \"html\":\n          //load from some container on the page\n          str = getValue(teststr[1]);\n          break;\n\n        case \"http\":\n          //load from external file\n          str = new ajax().sync().get(teststr[1], {\n            uid: uid()\n          }).responseText;\n          break;\n\n        default:\n          //do nothing, will use template as is\n          break;\n      }\n    } //supported idioms\n    // {obj.attr} => named attribute or value of sub-tag in case of xml\n\n\n    str = (str || \"\").toString(); // Content Security Policy enabled\n\n    if (env.strict) {\n      if (!_csp_cache[str]) {\n        _csp_cache[str] = []; // get an array of objects (not sorted by position)\n\n        var temp_res = [];\n        str.replace(/\\{obj\\.([^}?]+)\\?([^:]*):([^}]*)\\}/g, function (search, s1, s2, s3, pos$$1) {\n          temp_res.push({\n            pos: pos$$1,\n            str: search,\n            fn: function (obj) {\n              return obj[s1] ? s2 : s3;\n            }\n          });\n        });\n        str.replace(/\\{common\\.([^}(]*)\\}/g, function (search, s, pos$$1) {\n          temp_res.push({\n            pos: pos$$1,\n            str: search,\n            fn: function (_, common) {\n              return common[s] || \"\";\n            }\n          });\n        });\n        str.replace(/\\{common\\.([^}(]*)\\(\\)\\}/g, function (search, s, pos$$1) {\n          temp_res.push({\n            pos: pos$$1,\n            str: search,\n            fn: function (obj, common) {\n              return common[s] ? common[s].apply(this, arguments) : \"\";\n            }\n          });\n        });\n        str.replace(/\\{obj\\.([^:}]*)\\}/g, function (search, s, pos$$1) {\n          temp_res.push({\n            pos: pos$$1,\n            str: search,\n            fn: function (obj) {\n              return obj[s];\n            }\n          });\n        });\n        str.replace(\"{obj}\", function (search, pos$$1) {\n          temp_res.push({\n            pos: pos$$1,\n            str: search,\n            fn: function (obj) {\n              return obj;\n            }\n          });\n        });\n        str.replace(/#([^#'\";, ]+)#/gi, function (search, s, pos$$1) {\n          if (s.charAt(0) == \"!\") {\n            s = s.substr(1);\n            temp_res.push({\n              pos: pos$$1,\n              str: search,\n              fn: function (obj) {\n                if (s.indexOf(\".\") != -1) obj = CodeParser.collapseNames(obj); // apply complex properties\n\n                return template.escape(obj[s]);\n              }\n            });\n          } else {\n            temp_res.push({\n              pos: pos$$1,\n              str: search,\n              fn: function (obj) {\n                if (s.indexOf(\".\") != -1) obj = CodeParser.collapseNames(obj); // apply complex properties\n\n                return obj[s];\n              }\n            });\n          }\n        }); // sort template parts by position\n\n        temp_res.sort(function (a, b) {\n          return a.pos > b.pos ? 1 : -1;\n        }); // create an array of functions that return parts of html string\n\n        if (temp_res.length) {\n          var lastPos = 0;\n\n          var addStr = function (str, n0, n1) {\n            _csp_cache[str].push(function () {\n              return str.slice(n0, n1);\n            });\n          };\n\n          for (var i = 0; i < temp_res.length; i++) {\n            var pos$$1 = temp_res[i].pos;\n            addStr(str, lastPos, pos$$1);\n\n            _csp_cache[str].push(temp_res[i].fn);\n\n            lastPos = pos$$1 + temp_res[i].str.length;\n          }\n\n          addStr(str, lastPos, str.length);\n        } else _csp_cache[str].push(function () {\n          return str;\n        });\n      }\n\n      return function () {\n        var s = \"\";\n\n        for (var i = 0; i < _csp_cache[str].length; i++) {\n          s += _csp_cache[str][i].apply(this, arguments);\n        }\n\n        return s;\n      };\n    }\n\n    var helpers = false;\n    str = str.replace(slashes, \"\\\\\\\\\");\n    str = str.replace(newlines, \"\\\\n\");\n    str = str.replace(quotes, \"\\\\\\\"\");\n    str = str.replace(/\\{obj\\.([^}?]+)\\?([^:]*):([^}]*)\\}/g, \"\\\"+(obj.$1?\\\"$2\\\":\\\"$3\\\")+\\\"\");\n    str = str.replace(/\\{common\\.([^}(]*)\\}/g, \"\\\"+(common.$1||'')+\\\"\");\n    str = str.replace(/\\{common\\.([^}(]*)\\(\\)\\}/g, \"\\\"+(common.$1?common.$1.apply(this, arguments):\\\"\\\")+\\\"\");\n    str = str.replace(/\\{obj\\.([^}]*)\\}/g, \"\\\"+(obj.$1)+\\\"\");\n    str = str.replace(\"{obj}\", \"\\\"+obj+\\\"\");\n    str = str.replace(/#([^#'\";, ]+)#/gi, function (str, key) {\n      if (key.charAt(0) == \"!\") {\n        helpers = true;\n        return \"\\\"+template.escape(obj.\" + key.substr(1) + \")+\\\"\";\n      } else return \"\\\"+(obj.\" + key + \")+\\\"\";\n    });\n\n    try {\n      if (helpers) {\n        var temp = Function(\"obj\", \"common\", \"marks\", \"value\", \"template\", \"return \\\"\" + str + \"\\\";\");\n\n        _cache[str] = function (a, b, c, d) {\n          return temp(a, b, c, d, template);\n        };\n      } else {\n        _cache[str] = Function(\"obj\", \"common\", \"return \\\"\" + str + \"\\\";\");\n      }\n    } catch (e) {\n      assert(0, \"Invalid template:\" + str);\n    }\n\n    return _cache[str];\n  }\n\n  template.escape = function (str) {\n    if (str === undefined || str === null) return \"\";\n    return (str.toString() || \"\").replace(badChars, escapeChar);\n  };\n\n  template.empty = function () {\n    return \"\";\n  };\n\n  var AtomRender = {\n    //convert item to the HTML text\n    _toHTML: function (obj) {\n      if (obj.$empty) return \"\";\n      return this._settings.template(obj, this);\n    },\n    //render self, by templating data object\n    render: function () {\n      var cfg = this._settings;\n\n      if (this.isVisible(cfg.id)) {\n        if (!this.callEvent || this.callEvent(\"onBeforeRender\", [this.data])) {\n          if (this.data && !cfg.content) {\n            //it is critical to have this as two commands\n            //its prevent destruction race in Chrome\n            this._dataobj.innerHTML = \"\";\n            this._dataobj.innerHTML = this._toHTML(this.data);\n          }\n\n          if (this.callEvent) this.callEvent(\"onAfterRender\", []);\n        }\n\n        return true;\n      }\n\n      return false;\n    },\n    sync: function (source) {\n      this._backbone_sync = false;\n\n      if (source.name != \"DataStore\") {\n        if (source.data && source.data.name == \"DataStore\") {\n          source = source.data;\n        } else {\n          this._backbone_sync = true;\n        }\n      }\n\n      if (this._backbone_sync) source.bind(\"change\", bind(function (data) {\n        if (data.id == this.data.id) {\n          this.data = data.attributes;\n          this.refresh();\n        }\n      }, this));else source.attachEvent(\"onStoreUpdated\", bind(function (id) {\n        if (!id || id == this.data.id) {\n          this.data = source.pull[id];\n          this.refresh();\n        }\n      }, this));\n    },\n    template_setter: template\n  };\n\n  var AutoScroll = {\n    _auto_scroll: function (pos$$1) {\n      var yScroll, xScroll;\n      var mode = this._settings.dragscroll;\n      if (typeof mode !== \"string\") mode = this._settings.layout || \"xy\";\n      xScroll = mode.indexOf(\"x\") !== -1;\n      yScroll = mode.indexOf(\"y\") !== -1;\n      var data = this._body || this.$view;\n      var box = offset(data);\n      var sense = Math.max((this._settings.rowHeight || (this.type && !isNaN(parseFloat(this.type.height)) ? this.type.height : 0)) + 5, 40); //dnd auto-scroll sensivity\n\n      var reset = false;\n      if (yScroll && this._auto_y_scroll(pos$$1, box, sense)) reset = true;\n      if (xScroll && this._auto_x_scroll(pos$$1, box, sense)) reset = true;\n      if (reset) this._auto_scroll_delay = delay(this._auto_scroll, this, [pos$$1], 100);\n    },\n    _auto_scroll_column: function (pos$$1) {\n      var mode = this._settings.dragscroll;\n      if (typeof mode === \"string\" && mode.indexOf(\"x\") === -1) return;\n      var data = this._header || this.$view;\n      var box = offset(data);\n      var sense = Math.max(this._settings.headerRowHeight || 0, 40);\n      if (this._auto_x_scroll(pos$$1, box, sense)) this._auto_scroll_delay = delay(this._auto_scroll_column, this, [pos$$1], 100);\n    },\n    _auto_y_scroll: function (pos$$1, box, sense) {\n      var top = box.y;\n      var bottom = top + box.height;\n      var scroll = this.getScrollState();\n      var config = this._settings;\n\n      if (config.topSplit) {\n        var topSplitPos = this._cellPosition(this.getIdByIndex(config.topSplit - 1), this.columnId(0));\n\n        top += topSplitPos.top + topSplitPos.height;\n      }\n\n      if (pos$$1.y < top + sense) {\n        return this._auto_scrollTo(scroll.x, scroll.y - sense * 2, pos$$1, \"y\");\n      } else if (pos$$1.y > bottom - sense) {\n        return this._auto_scrollTo(scroll.x, scroll.y + sense * 2, pos$$1, \"y\");\n      }\n\n      return false;\n    },\n    _auto_x_scroll: function (pos$$1, box, sense) {\n      var left = box.x;\n      var right = left + box.width;\n      var scroll = this.getScrollState();\n\n      if (pos$$1.x < left + sense) {\n        return this._auto_scrollTo(scroll.x - sense * 2, scroll.y, pos$$1, \"x\");\n      } else if (pos$$1.x > right - sense) {\n        return this._auto_scrollTo(scroll.x + sense * 2, scroll.y, pos$$1, \"x\");\n      }\n\n      return false;\n    },\n    _auto_scrollTo: function (x, y, pos$$1, mode) {\n      if (this.callEvent(\"onBeforeAutoScroll\", [pos$$1])) {\n        this.scrollTo(x, y);\n        this.callEvent(\"onAfterAutoScroll\", []);\n        var scroll = this.getScrollState();\n        return Math.abs((mode === \"x\" ? x : y) - scroll[mode]) < 1;\n      }\n\n      return false;\n    }\n  };\n\n  var _events = {};\n  function _events_final_destructor() {\n    //detach all known DOM events\n    for (var a in _events) {\n      eventRemove(a);\n    }\n  } //private version of API, do not register ID for event detaching\n\n  function _event(a, b, c, d) {\n    d = d || {};\n    d.inner = true;\n    event$1(a, b, c, d);\n  } //attach event to the DOM element\n\n  function event$1(node, event, handler, context) {\n    context = context || {};\n    node = toNode(node);\n    assert(node, \"Invalid node as target for webix.event\");\n    var id = context.id || uid();\n    if (context.bind) handler = bind(handler, context.bind);\n    var info = [node, event, handler, context.capture];\n    if (!context.inner) _events[id] = info; //store event info, for detaching\n\n    var capture = !!context.capture;\n    if (!isUndefined(context.passive) && env.passiveEventListeners) //blockable touch events\n      capture = {\n        passive: context.passive,\n        capture: capture\n      };\n    node.addEventListener(event, handler, capture);\n    return id; //return id of newly created event, can be used in eventRemove\n  } //remove previously attached event\n\n  function eventRemove(id) {\n    if (!id) return;\n    assert(_events[id], \"Removing non-existing event\");\n    var ev = _events[id];\n    ev[0].removeEventListener(ev[1], ev[2], !!ev[3]);\n    delete _events[id]; //delete all traces\n  }\n\n  /*\n  \tadds new template-type\n  \tobj - object to which template will be added\n  \tdata - properties of template\n  */\n\n  function type(obj, data) {\n    if (obj.$protoWait) {\n      if (!obj._webix_type_wait) obj._webix_type_wait = [];\n\n      obj._webix_type_wait.push(data);\n\n      return;\n    } //auto switch to prototype, if name of class was provided\n\n\n    if (typeof obj == \"function\") obj = obj.prototype;\n\n    if (!obj.types) {\n      obj.types = {\n        \"default\": obj.type\n      };\n      obj.type.name = \"default\";\n    }\n\n    var name = data.name;\n    var type = obj.type;\n    if (name) type = obj.types[name] = clone(data.baseType ? obj.types[data.baseType] : obj.type);\n\n    for (var key in data) {\n      if (key.indexOf(\"template\") === 0) type[key] = template(data[key]);else type[key] = data[key];\n    }\n\n    return name;\n  }\n\n  var state = {\n    top_views: [],\n    _global_scope: null,\n    _global_collection: null,\n    _child_sizing_active: null,\n    _responsive_exception: null,\n    _responsive_tinkery: null,\n    _freeze_resize: null,\n    _parent_cell: null,\n    _focus_time: null,\n    _ui_creation: 0,\n    _edit_open_time: null,\n    _final_destruction: null,\n    _events: [],\n    destructors: [],\n    _noselect_element: null,\n    _modality: [],\n    _popups: _to_array(),\n    _wait_animate: null\n  };\n\n  var views = {};\n\n  function ui(config, parent, id) {\n    var res;\n    state._ui_creation++; // save old value of global scope\n\n    var temp = state._global_scope; // set global scope to the scope of new UI or to previous value\n    // as result inner webix.ui calls will have access the scope of master view\n    // mainly necessary for suggests\n\n    state._global_scope = config.$scope || temp;\n\n    try {\n      res = _ui_creator(config, parent, id);\n    } finally {\n      state._ui_creation--; // restore global scope\n\n      state._global_scope = temp;\n    }\n\n    return res;\n  }\n\n  ui.views = views;\n\n  function _ui_creator(config, parent, id) {\n    var multiset = isArray(config);\n    var node = toNode(config.container || parent || document.body); // solve problem with non-unique ids\n\n    if (node._settings) id = _correctId(node, multiset, id);\n    var top_node;\n    var moving = false;\n    var body_child = node == document.body;\n\n    if (config._settings || node && multiset) {\n      top_node = config;\n      moving = true;\n    } else {\n      if (node && body_child) config.$topView = true;\n      if (!config._inner) config._inner = {};\n\n      if (parent && parent.getParentView) {\n        state._parent_cell = !id && id !== 0 ? parent.getParentView() : parent;\n      }\n\n      top_node = _view(config);\n    }\n\n    if (body_child && !top_node.setPosition && !top_node.$apiOnly) use(\"_fixHeight\")();\n\n    if (top_node._settings && top_node._settings._hidden && !node.$view) {\n      top_node._settings._container = node;\n    } else if (!top_node.$apiOnly) {\n      if (node.appendChild) _appendDom(node, top_node, config);else if (node.destructor) {\n        var target = node; //addView or view moving with target id\n\n        if (!id && id !== 0 && !isArray(top_node)) {\n          id = node;\n          node = node.getParentView();\n        } //if target supports view adding\n\n\n        if (node && node._replace) {\n          if (moving && top_node.getParentView) {\n            //if source supports view removing\n            var _parent = top_node.getParentView();\n\n            if (_parent && _parent._remove) {\n              _parent._remove(top_node);\n            } //adjust parent link and scope\n\n\n            top_node._parent_cell = node;\n            top_node.$scope = node.$scope;\n          }\n\n          node._replace(top_node, id);\n        } else {\n          var _parent2 = target.$view.parentNode;\n          target.destructor();\n\n          _appendDom(_parent2, top_node, config);\n        }\n      } else assert(0, \"Not existing parent:\" + config.container);\n    }\n\n    return top_node;\n  }\n\n  function _appendDom(node, top_node, config) {\n    node.appendChild(top_node._viewobj);\n    if (top_node.getParentView()) return; //resize window with position center or top\n    //do not resize other windows and elements\n    // which are attached to custom html containers\n\n    if ((!top_node.setPosition || top_node._settings.fullscreen) && node == document.body || top_node._settings.position) state.top_views.push(top_node._destructor_handler);\n    if (!config.skipResize) top_node.adjust();\n  }\n\n  function _correctId(target, multiset, id) {\n    //replace view\n    var views = [target]; //replace content of layout\n\n    if (multiset) views = target.getChildViews(); //replace content of window\n    else if (target._body_cell) views = [target._body_cell]; //add cell in layout by number\n      else if (typeof id == \"number\") {\n          return id; //replace cell in layout by id\n        } else if (id) {\n          views = [$$(id)];\n\n          _deleteIds(views);\n\n          return views[0].config.id;\n        }\n\n    _deleteIds(views);\n\n    return id;\n  }\n\n  function _deleteIds(uis) {\n    for (var i = uis.length - 1; i >= 0; i--) {\n      var current = uis[i]; //remove original id\n\n      delete views[current.config.id]; //create temp id\n\n      current.config.id = \"x\" + uid();\n      views[current.config.id] = current; //process childs\n\n      if (current.getChildViews) _deleteIds(current.getChildViews()); //process related UI\n\n      if (current._destroy_with_me) _deleteIds(current._destroy_with_me);\n    }\n  }\n\n  function _view(config) {\n    {\n      // check for trailing comma\n      var coll = config.cells || config.rows || config.elements || config.cols;\n      if (coll) for (var i = 0; i < coll.length; i++) {\n        if (coll[i] === null || typeof coll[i] === \"undefined\") assert(0, \"You have trailing comma or Null element in collection's configuration\");\n      }\n    }\n\n    if (config.view) {\n      var view = config.view;\n      assert(ui[view], \"unknown view:\" + view);\n      return new ui[view](config);\n    } else if (config.rows || config.cols) {\n      var cells = config.rows || config.cols;\n      var accordion = false;\n\n      for (var _i = 0; _i < cells.length; _i++) {\n        if (cells[_i].body && !cells[_i].view && !cells[_i].align) accordion = true;\n      }\n\n      if (accordion) {\n        return new ui.headerlayout(config);\n      } else return new ui.layout(config);\n    } else if (config.cells) return new ui.multiview(config);else if (config.template || config.content) return new ui.template(config);else if (config.align && config.body) {\n      return new ui.align(config);\n    } else return new ui.spacer(config);\n  } //FIXME\n\n\n  ui._view = _view;\n\n  function $$(id) {\n    if (!id) return null;\n    if (views[id]) return views[id];\n    var name = id;\n\n    if (_typeof(id) == \"object\") {\n      if (id._settings) return id;\n      name = id.target || id;\n    }\n\n    return views[locate({\n      target: toNode(name)\n    },\n    /*@attr*/\n    \"view_id\")];\n  }\n\n  if (typeof window.$$ === \"undefined\") window.$$ = $$;\n\n  exports.protoUI = function () {\n    var origins = arguments;\n    var selfname = origins[0].name;\n\n    var t = function (data) {\n      if (!t) return ui[selfname].prototype;\n      var origins = t.$protoWait;\n\n      if (origins) {\n        var params = [origins[0]];\n\n        for (var i = 1; i < origins.length; i++) {\n          params[i] = origins[i];\n          if (params[i].$protoWait) params[i] = params[i].call(-1, params[i].name);\n          if (params[i].prototype && params[i].prototype.name) ui[params[i].prototype.name] = params[i];\n        }\n\n        ui[selfname] = exports.proto.apply(-1, params);\n        if (t._webix_type_wait) for (var _i2 = 0; _i2 < t._webix_type_wait.length; _i2++) {\n          type(ui[selfname], t._webix_type_wait[_i2]);\n        }\n        t = origins = null;\n      }\n\n      if (this != -1) return new ui[selfname](data);else return ui[selfname];\n    };\n\n    t.$protoWait = Array.prototype.slice.call(arguments, 0);\n    return ui[selfname] = t;\n  };\n\n  exports.proto = function () {\n    var origins = arguments;\n    var compilation = origins[0];\n    var has_constructor = !!compilation.$init;\n    var construct = [];\n    assert(compilation, \"Invalid mixing target\");\n\n    for (var i = origins.length - 1; i > 0; i--) {\n      assert(origins[i], \"Invalid mixing source\");\n      if (typeof origins[i] == \"function\") origins[i] = origins[i].prototype;\n      if (origins[i].$init) construct.push(origins[i].$init);\n\n      if (origins[i].defaults) {\n        var defaults = origins[i].defaults;\n        if (!compilation.defaults) compilation.defaults = {};\n\n        for (var def in defaults) {\n          if (isUndefined(compilation.defaults[def])) compilation.defaults[def] = defaults[def];\n        }\n      }\n\n      if (origins[i].type && compilation.type) {\n        for (var _def in origins[i].type) {\n          if (!compilation.type[_def]) compilation.type[_def] = origins[i].type[_def];\n        }\n      }\n\n      for (var key in origins[i]) {\n        if (!compilation[key] && compilation[key] !== false) compilation[key] = origins[i][key];\n      }\n    }\n\n    if (has_constructor) construct.push(compilation.$init);\n\n    compilation.$init = function () {\n      for (var i = 0; i < construct.length; i++) {\n        construct[i].apply(this, arguments);\n      }\n    };\n\n    if (compilation.$skin) compilation.$skin();\n\n    var result = function (config) {\n      this.$ready = [];\n      assert(this.$init, \"object without init method\");\n      this.$init(config);\n      if (this._parseSettings) this._parseSettings(config, this.defaults);\n\n      for (var i = 0; i < this.$ready.length; i++) {\n        this.$ready[i].call(this);\n      }\n    };\n\n    result.prototype = compilation;\n    compilation = origins = null;\n    return result;\n  };\n\n  attachEvent(\"onClick\", function (e) {\n    var element = $$(e);\n\n    if (element && element.touchable) {\n      use(\"UIManager\").applyChanges(element); //for inline elements - restore pointer to the master element\n\n      element.getNode(e); //reaction on custom css elements in buttons\n\n      var trg = e.target;\n      if (element.config.disabled) return;\n      var css = \"\";\n      if (trg.className && trg.className.toString().indexOf(\"webix_view\") === 0) return;\n      if (element) use(\"UIManager\")._focus_action(element); //loop through all parents\n\n      while (trg && trg.parentNode) {\n        if (trg.getAttribute) {\n          if (trg.getAttribute(\n          /*@attr*/\n          \"view_id\")) break;\n          css = trg.className;\n\n          if (css) {\n            css = css.toString().split(\" \");\n\n            for (var i = 0; i < css.length; i++) {\n              if (element.on_click[css[i]]) {\n                var res = element.on_click[css[i]].call(element, e, element._settings.id, trg);\n                if (res === false) return;\n              }\n            }\n          }\n        }\n\n        trg = trg.parentNode;\n      }\n\n      if (element._settings.click) {\n        var code = toFunctor(element._settings.click, element.$scope);\n        if (code && code.call) code.call(element, element._settings.id, e);\n      }\n\n      var popup = element._settings.popup;\n\n      if (popup && !element._settings.readonly && !e.longtouch_drag) {\n        if (_typeof(popup) == \"object\" && !popup.name) {\n          popup = element._settings.popup = ui(popup)._settings.id;\n\n          element._destroy_with_me.push($$(popup));\n        }\n\n        popup = $$(popup);\n        assert(popup, \"Unknown popup\");\n\n        if (!popup.isVisible()) {\n          popup._settings.master = element._settings.id;\n          popup.show(element.getInputNode() || element.getNode(), null, true);\n        }\n      }\n\n      element.callEvent(\"onItemClick\", [element._settings.id, e]);\n    }\n  }); //hook for documentation generator\n\n  {\n    if (window.webix_on_core_ready) {\n      var mod = window.webix_on_core_ready({\n        proto: exports.proto,\n        protoUI: exports.protoUI\n      });\n      exports.proto = mod.proto;\n      exports.protoUI = mod.protoUI;\n    }\n  }\n\n  var TooltipControl = {\n    _tooltip_masters: _to_array([\"dummy\"]),\n    _tooltip_exist: 0,\n    overflow: false,\n    delay: 400,\n    addTooltip: function (target, config) {\n      var _this = this;\n\n      var node, ctrl;\n      target = toNode(target);\n      assert(target, \"Target isn't defined\");\n\n      if (target instanceof Element) {\n        node = target;\n        if (typeof config === \"string\") node.setAttribute(\"webix_tooltip\", config);else ctrl = config;\n      } else {\n        node = target.$view;\n        ctrl = target;\n      }\n\n      ctrl = ctrl || this;\n\n      var index$$1 = this._tooltip_masters.find(ctrl);\n\n      if (index$$1 === -1) {\n        index$$1 = this._tooltip_masters.length;\n\n        this._tooltip_masters.push(ctrl);\n      }\n\n      node.webix_tooltip = index$$1;\n      this._tooltip_exist++;\n\n      if (!this._tooltip) {\n        this._tooltip = new ui.tooltip({});\n        this._tooltip._css_name = \"webix_tooltip webix_global_tooltip\";\n        this._webix_tooltip_mm = event$1(document, \"pointermove\", function (e) {\n          return _this._move_tooltip(e);\n        });\n        this._webix_tooltip_ml = event$1(document, \"pointerleave\", function () {\n          return _this._hide_tooltip();\n        });\n        this._drag_event = attachEvent(\"onDragMode\", function () {\n          return _this._hide_tooltip();\n        });\n        this._click_event = attachEvent(\"onClick\", function () {\n          return _this._hide_tooltip();\n        });\n      }\n    },\n    getTooltip: function () {\n      return this._tooltip;\n    },\n    _move_tooltip: function (e) {\n      if (e.pointerType !== \"mouse\") return;\n      var c = {};\n      var node = e.target;\n\n      while (node instanceof Element && node.tagName != \"HTML\") {\n        // find `webix_tooltip` marker\n        if (!c.first || !c.overflow) {\n          var text = node.getAttribute(\"webix_tooltip\");\n          c.first = c.first || text;\n          if (text && node.scrollWidth > node.clientWidth) c.overflow = text;\n        } // find tooltip master\n\n\n        if (this._tooltip_masters[node.webix_tooltip]) {\n          if (this._last && this._last != node) {\n            this.$tooltipOut(this._last, node, e);\n            this._last = null;\n            return;\n          }\n\n          if (!this._last) this._last = this.$tooltipIn(node, e);\n          return this.$tooltipMove(node, e, c);\n        }\n\n        node = node.parentElement;\n      }\n\n      if (this._last) this._last = this.$tooltipOut(this._last, null, e);\n    },\n    _hide_tooltip: function () {\n      clearTimeout(this._before_show_delay);\n\n      this._tooltip.hide();\n    },\n    getMaster: function (t) {\n      return this._tooltip_masters[t.webix_tooltip];\n    },\n    removeTooltip: function (target) {\n      var node;\n      assert(target, \"Target isn't defined\");\n      target = toNode(target);\n      if (target instanceof Element) node = target;else node = target.$view;\n      var tip = node.webix_tooltip;\n\n      if (tip) {\n        if (this._last == node) {\n          this._hide_tooltip();\n\n          this._last = null;\n        }\n\n        delete node.webix_tooltip;\n        this._tooltip_exist--;\n        this._tooltip_masters[tip] = null;\n      }\n\n      if (!this._tooltip_exist && this._tooltip) {\n        // detach events first\n        this._webix_tooltip_mm = eventRemove(this._webix_tooltip_mm);\n        this._webix_tooltip_ml = eventRemove(this._webix_tooltip_ml);\n        this._drag_event = detachEvent(this._drag_event);\n        this._click_event = detachEvent(this._click_event); // then destroy the tooltip\n\n        this._tooltip.destructor();\n\n        this._tooltip = this._last = null;\n        this._tooltip_masters = _to_array([\"dummy\"]);\n      }\n    },\n    $tooltipIn: function (t, e) {\n      var m = this._tooltip_masters[t.webix_tooltip];\n      if (m.$tooltipIn && m != this) return m.$tooltipIn(t, e);\n\n      this._tooltip.define({\n        dx: 20,\n        dy: 0,\n        template: \"\",\n        css: \"\"\n      });\n\n      return t;\n    },\n    $tooltipOut: function (t, n, e) {\n      var m = this._tooltip_masters[t.webix_tooltip];\n      if (m.$tooltipOut && m != this) return m.$tooltipOut(t, n, e);\n\n      this._hide_tooltip();\n\n      return null;\n    },\n    $tooltipMove: function (t, e, c) {\n      var m = this._tooltip_masters[t.webix_tooltip];\n      if (m.$tooltipMove && m != this) return m.$tooltipMove(t, e, c);\n      var overflow = isUndefined(m.overflow) ? this.overflow : m.overflow;\n      var time = isUndefined(m.delay) ? this.delay : m.delay;\n      var text = overflow ? c.overflow : c.first;\n      if (time > 0) this._hide_tooltip();\n      this._before_show_delay = delay(this._tooltip.show, this._tooltip, [text || {}, pos(e)], time);\n    }\n  };\n\n  function _uid(name) {\n    return \"$\" + name + (_namecount[name] = (_namecount[name] || 0) + 1);\n  }\n  var _namecount = {};\n  var _freeze_resize = false;\n  function freeze(handler, trigger) {\n    _freeze_resize = true;\n    var res = handler();\n\n    if (res && res.then) {\n      res = res.then(function (any) {\n        _freeze_resize = false;\n        if (trigger !== false) resize();\n        return any;\n      });\n    } else {\n      _freeze_resize = false;\n      if (trigger !== false) resize();\n    }\n\n    return res;\n  }\n  function resize() {\n    use(\"UIManager\").applyChanges();\n    callEvent(\"onClick\", []);\n    state._force_resize = true;\n    if (!_freeze_resize) for (var i = state.top_views.length - 1; i >= 0; i--) {\n      if (state.top_views[i].obj) state.top_views[i].obj.resize();\n    }\n    state._force_resize = false;\n  }\n  function _each(parent, logic, master, include) {\n    if (parent) {\n      var children = include ? [parent] : parent.getChildViews();\n\n      for (var i = 0; i < children.length; i++) {\n        if (logic.call(master, children[i]) !== false) _each(children[i], logic, master);\n      }\n    }\n  }\n  function zIndex(index) {\n    if (!isUndefined(index)) {\n      env.zIndexBase = Math.max(env.zIndexBase, index + 1);\n      return index;\n    }\n\n    return env.zIndexBase++;\n  }\n  event$1(window, \"resize\", function () {\n    // check for virtual keyboard\n    if (env.touch && (state._focus_time && new Date() - state._focus_time < 1000)) {\n      return;\n    } else {\n      resize();\n    }\n  });\n\n  function ready(code) {\n    if (_ready) code.call();else _ready_code.push(code);\n  }\n\n  var _ready = false;\n  var _ready_code = []; //autodetect codebase folder\n\n  var temp = document.getElementsByTagName(\"SCRIPT\"); //current script, most probably\n\n  assert(temp.length, \"Can't locate codebase\");\n\n  if (temp.length) {\n    //full path to script\n    temp = (temp[temp.length - 1].getAttribute(\"src\") || \"\").split(\"/\"); //get folder name\n\n    temp.splice(temp.length - 1, 1);\n    env.codebase = temp.slice(0, temp.length).join(\"/\") + \"/\";\n  }\n\n  var handler = function () {\n    if (env.isIE) document.body.className += \" webix_ie\";\n    callEvent(\"onReady\", []);\n  };\n\n  var doit = function () {\n    _ready = true;\n    /* global webix_ready */\n\n    if (window.webix_ready && isArray(webix_ready)) _ready_code = webix_ready.concat(_ready_code);\n\n    for (var i = 0; i < _ready_code.length; i++) {\n      _ready_code[i].call();\n    }\n\n    _ready_code = [];\n  };\n\n  attachEvent(\"onReady\", function (force) {\n    if (force) doit();else delay(doit);\n  });\n  if (document.readyState == \"complete\") handler();else event$1(window, \"load\", handler);\n  ready(function () {\n    event$1(document.body, \"click\", function (e) {\n      callEvent(\"onClick\", [e]);\n    });\n  });\n\n  var rules = {\n    isEmail: function (value) {\n      return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test((value || \"\").toString());\n    },\n    isNumber: function (value) {\n      return parseFloat(value) == value;\n    },\n    isChecked: function (value) {\n      return !!value || value === \"0\";\n    },\n    isNotEmpty: function (value) {\n      return value === 0 || value;\n    }\n  };\n\n  function callback(config, result) {\n    // prompt\n    if (config.type.indexOf(\"prompt\") != -1) {\n      if (result === false) {\n        config._promise.reject();\n      } else {\n        var inputBox = config._box.querySelector(\".webix_popup_input\");\n\n        var _input = inputBox.querySelector(\"input\");\n\n        if (config.input.required && !_input.value) {\n          config.input.invalid = true;\n          addCss(inputBox, \"webix_popup_invalid\");\n          return;\n        } else {\n          result = _input.value || \"\";\n\n          config._promise.resolve(result);\n        }\n      }\n    }\n\n    config.type.indexOf(\"confirm\") != -1 && result === false ? config._promise.reject() : config._promise.resolve(result);\n    var usercall = config.callback;\n    if (usercall) usercall(result, config.details);\n    modalbox.hide(config.id);\n  }\n\n  function modal_key(e) {\n    var order = modalbox.order;\n    var count = order.length;\n    var source = e.target;\n\n    if (count > 0 && message.keyboard) {\n      var code = e.which || e.keyCode;\n      if (code != 13 && code != 32 && code != 27) return;\n      var activeBox;\n\n      for (var i = count - 1; i >= 0; i--) {\n        var box = modalbox.pull[order[i]];\n        if (box._box != source && box._box.contains(source) && code == 32) // ignore space inside input\n          return;\n\n        if (box.container && box.container.contains(source)) {\n          activeBox = box;\n          break;\n        }\n      }\n\n      if (!activeBox) activeBox = modalbox.pull[order[order.length - 1]];\n      if (code == 13 || code == 32) callback(activeBox, true);else if (code == 27) callback(activeBox, false);\n      preventEvent(e);\n      return !(e.cancelBubble = true);\n    }\n  }\n\n  event$1(document, \"keydown\", modal_key, {\n    capture: true\n  });\n\n  function modality(mode, container) {\n    var node = container || document.body;\n    var cover;\n\n    if (isUndefined(node.modality)) {\n      cover = create(\"DIV\", {\n        \"class\": \"webix_modal_cover\",\n        style: \"position:\" + (container ? \"absolute\" : \"fixed\") + \";\"\n      });\n      cover.onkeydown = modal_key;\n\n      if (container) {\n        var position = window.getComputedStyle(container).position;\n        if (position != \"fixed\" && position != \"absolute\" && position != \"sticky\" && position != \"relative\") node.style.position = \"relative\";\n      }\n\n      node.appendChild(cover);\n      node.modality = 1;\n    } else mode ? node.modality++ : node.modality--; //trigger visibility only if necessary\n\n\n    if (mode && node.modality === 1 || node.modality === 0) {\n      cover = cover || Array.prototype.slice.call(node.querySelectorAll(\".webix_modal_cover\")).filter(function (el) {\n        return el.parentNode == node;\n      })[0];\n\n      if (cover) {\n        if (!node.modality) {\n          cover.style.display = \"none\";\n          removeCss(node, \"webix_modalbox_inside\");\n        } else if (node.modality == 1) {\n          cover.style.display = \"inline-block\";\n          addCss(node, \"webix_modalbox_inside\");\n        }\n      }\n    }\n\n    return cover;\n  }\n\n  function button(text, result, className) {\n    return \"<div role='button' tabindex='0' aria-label='\" + text + \"' class='webix_popup_button\" + (className ? \" \" + className : \"\") + \"' result='\" + result + \"' ><div>\" + text + \"</div></div>\";\n  }\n\n  function input(config) {\n    return \"<div tabindex='0' class='webix_popup_input webix_el_text\" + (config.required ? \" webix_required\" : \"\") + \"'><input value='\" + template.escape(config.value || \"\") + \"' placeholder='\" + template.escape(config.placeholder || \"\") + \"'></input></div>\";\n  }\n\n  function info(text) {\n    if (!t.area) {\n      t.area = document.createElement(\"DIV\");\n      t.area.className = \"webix_message_area\";\n      t.area.style[t.position] = \"5px\";\n      document.body.appendChild(t.area);\n    }\n\n    t.area.setAttribute(\"role\", \"alert\");\n    t.area.setAttribute(\"aria-atomic\", true);\n    t.hide(text.id);\n    var message = document.createElement(\"DIV\");\n    message.innerHTML = \"<div>\" + text.text + \"</div>\";\n    message.className = \"webix_message webix_\" + text.type;\n\n    message.onclick = function () {\n      if (text) t.hide(text.id);\n      text = null;\n    };\n\n    if (t.position == \"bottom\" && t.area.firstChild) t.area.insertBefore(message, t.area.firstChild);else t.area.appendChild(message);\n    if (text.expire > 0) t.timers[text.id] = window.setTimeout(function () {\n      t.hide(text.id);\n    }, text.expire); //styling for animation\n\n    message.style.height = message.offsetHeight - 2 + \"px\";\n    t.pull[text.id] = message;\n    message = null;\n    return text.id;\n  }\n\n  function _boxStructure(config, ok, cancel, hasInput) {\n    var box = document.createElement(\"DIV\");\n    var css = config.css ? \" \" + config.css : \"\";\n    box.className = \"webix_modal_box webix_\" + config.type + css;\n    box.setAttribute(\"webixbox\", 1);\n    box.setAttribute(\"role\", \"alertdialog\");\n    box.setAttribute(\"aria-label\", config.title || \"\");\n    box.setAttribute(\"tabindex\", \"0\");\n    var inner = \"\";\n    if (config.width) box.style.width = config.width + (rules.isNumber(config.width) ? \"px\" : \"\");\n    if (config.height) box.style.height = config.height + (rules.isNumber(config.height) ? \"px\" : \"\");\n    if (config.title) inner += \"<div class=\\\"webix_popup_title\\\">\" + config.title + \"</div>\";\n    inner += \"<div class=\\\"webix_popup_text\" + (hasInput ? \" webix_popup_label\" : \"\") + \"\\\"><span>\" + (config.content ? \"\" : config.text || \"\") + \"</span></div>\";\n    inner += \"<div  class=\\\"webix_popup_controls\\\">\";\n    if (hasInput) inner += input(config.input);\n    if (cancel) inner += button(config.cancel || i18n.message.cancel, false);\n    if (ok) inner += button(config.ok || i18n.message.ok, true, \"confirm\");\n\n    if (config.buttons && !ok && !cancel) {\n      for (var i = 0; i < config.buttons.length; i++) {\n        inner += button(config.buttons[i], i);\n      }\n    }\n\n    inner += \"</div>\";\n    box.innerHTML = inner;\n\n    if (config.content) {\n      var node = config.content;\n      if (typeof node == \"string\") node = document.getElementById(node);\n      if (node.style.display == \"none\") node.style.display = \"\";\n      box.childNodes[config.title ? 1 : 0].appendChild(node);\n    }\n\n    if (config.type.indexOf(\"prompt\") != -1) {\n      var inputBox = box.querySelector(\".webix_popup_input\");\n\n      var _input2 = inputBox.querySelector(\"input\");\n\n      _input2.oninput = function () {\n        if (config.input.invalid) {\n          removeCss(inputBox, \"webix_popup_invalid\");\n          config.input.invalid = false;\n        }\n      };\n    }\n\n    box.onclick = function (e) {\n      var source = e.target;\n      if (!source.className) source = source.parentNode;\n\n      if (source.className.indexOf(\"webix_popup_button\") != -1) {\n        var result = source.getAttribute(\"result\");\n        result = result == \"true\" || (result == \"false\" ? false : result);\n        callback(config, result);\n      }\n\n      e.cancelBubble = true;\n    };\n\n    config._box = box;\n    return box;\n  }\n\n  modalbox.pull = {};\n  modalbox.order = [];\n\n  function _createBox(config, ok, cancel, hasInput) {\n    var box = config.tagName ? config : _boxStructure(config, ok, cancel, hasInput);\n    var container = config.container;\n    var containerWidth = container ? container.offsetWidth : window.innerWidth || document.documentElement.offsetWidth;\n    var containerHeight = container ? container.offsetHeight : window.innerHeight || document.documentElement.offsetHeight;\n    var containerLeft = container ? container.scrollLeft : 0;\n    var containerTop = container ? container.scrollTop : 0;\n    if (config.container) box.style.position = \"absolute\";\n    toNode((config.container || document.body).appendChild(box));\n    var cover = modality(true, config.container);\n    var x = config.left || Math.abs(containerLeft + Math.floor((containerWidth - box.offsetWidth) / 2));\n    var y = config.top || Math.abs(containerTop + Math.floor((containerHeight - box.offsetHeight) / 2));\n    if (config.position == \"top\") box.style.top = \"-3px\";else {\n      box.style.top = y + \"px\";\n\n      if (cover) {\n        cover.style.top = containerTop + \"px\";\n        cover.style.left = containerLeft + \"px\";\n      }\n    }\n    box.style.left = x + \"px\"; //necessary for IE only\n\n    box.onkeydown = modal_key;\n    if (hasInput) box.querySelector(\".webix_popup_input input\").focus();else box.focus();\n    if (!config.id) config.id = _uid(\"modalbox\");else if (modalbox.pull[config.id]) {\n      modalbox.hide(config.id);\n    }\n    modalbox.order.push(config.id);\n    modalbox.pull[config.id] = config;\n    config._promise = Deferred.defer();\n    return config._promise;\n  }\n\n  function alertPopup(config) {\n    return _createBox(config, true);\n  }\n\n  function confirmPopup(config) {\n    return _createBox(config, true, true);\n  }\n\n  function boxPopup(config) {\n    return _createBox(config);\n  }\n\n  function promptPopup(config) {\n    return _createBox(config, true, true, true);\n  }\n\n  function box_params(text, type, callback) {\n    if (_typeof(text) != \"object\") {\n      if (typeof type == \"function\") {\n        callback = type;\n        type = \"\";\n      }\n\n      text = {\n        text: text,\n        type: type,\n        callback: callback\n      };\n    }\n\n    return text;\n  }\n\n  function params(text, type, expire, id) {\n    if (_typeof(text) != \"object\") text = {\n      text: text,\n      type: type,\n      expire: expire,\n      id: id\n    };\n    text.id = text.id || _uid(\"message\");\n    text.expire = text.expire || t.expire;\n    return text;\n  }\n\n  function alert() {\n    var text = box_params.apply(this, arguments);\n    text.type = text.type || \"alert\";\n    return alertPopup(text);\n  }\n  function confirm() {\n    var text = box_params.apply(this, arguments);\n    text.type = text.type || \"confirm\";\n    return confirmPopup(text);\n  }\n  function modalbox() {\n    var text = box_params.apply(this, arguments);\n    text.type = text.type || \"alert\";\n    return boxPopup(text);\n  }\n  function prompt() {\n    var text = box_params.apply(this, arguments);\n    text.type = text.type || \"prompt\";\n    text.input = text.input || {};\n    return promptPopup(text);\n  }\n\n  modalbox.hide = function (id) {\n    if (id && modalbox.pull[id]) {\n      var node = modalbox.pull[id]._box;\n\n      if (node) {\n        node.parentNode.removeChild(node);\n        modalbox.order.splice(modalbox.order.indexOf(id), 1);\n        modality(false, modalbox.pull[id].container);\n        delete modalbox.pull[id];\n      }\n    }\n  };\n\n  modalbox.hideAll = function () {\n    for (var id in modalbox.pull) {\n      this.hide(id);\n    }\n  };\n\n  function message(text, type, expire, id) {\n    //eslint-disable-line\n    text = params.apply(this, arguments);\n    text.type = text.type || \"info\";\n    var subtype = text.type.split(\"-\")[0];\n\n    switch (subtype) {\n      case \"alert\":\n        return alertPopup(text);\n\n      case \"confirm\":\n        return confirmPopup(text);\n\n      case \"modalbox\":\n        return boxPopup(text);\n\n      case \"prompt\":\n        return promptPopup(text);\n\n      default:\n        return info(text);\n    }\n  }\n  var t = message;\n  t.expire = 4000;\n  t.keyboard = true;\n  t.position = \"top\";\n  t.pull = {};\n  t.timers = {};\n\n  t.hideAll = function () {\n    for (var key in t.pull) {\n      t.hide(key);\n    }\n  };\n\n  t.hide = function (id) {\n    var obj = t.pull[id];\n\n    if (obj && obj.parentNode) {\n      window.setTimeout(function () {\n        obj.parentNode.removeChild(obj);\n        obj = null;\n      }, 2000); //styling for animation\n\n      obj.style.height = 0;\n      obj.className += \" hidden\";\n      t.area.removeAttribute(\"role\");\n      if (t.timers[id]) window.clearTimeout(t.timers[id]);\n      delete t.pull[id];\n    }\n  }; //override circualr dependencies\n\n\n  define(\"message\", message);\n\n  var fullscreen = {\n    set: function (view, config) {\n      config = config || {};\n      if (this._view) this.exit();\n      if ($$(view)) view = $$(view);else {\n        if (typeof view == \"string\") view = document.getElementById(view);\n        if (view instanceof Element) view = {\n          $view: view,\n          $html: true\n        };\n        assert(view, \"Incorrect view for fullscreen mode\");\n      }\n      this._view = view;\n      this._pos = this._setPosition();\n      var viewConfig = view.config;\n\n      if (view.setPosition) {\n        viewConfig.fullscreen = true;\n        view.resize();\n        return view;\n      } else {\n        this._fullscreen = ui({\n          view: \"window\",\n          head: this._getHeadConfig(config),\n          css: config.css || \"\",\n          fullscreen: true,\n          borderless: true,\n          //better resize logic\n          body: {\n            rows: []\n          }\n        });\n        if (viewConfig) this._sizes = {\n          width: viewConfig.width,\n          minWidth: viewConfig.minWidth,\n          maxWidth: viewConfig.maxWidth,\n          height: viewConfig.height,\n          minHeight: viewConfig.minHeight,\n          maxHeight: viewConfig.maxHeight\n        };\n\n        if (view.getParentView && view.getParentView()) {\n          this._parent = view.getParentView();\n\n          if (this._parent.index) {\n            this._pos.index = this._parent.index(view);\n            this._pos.active = this._parent.getActiveId ? this._parent.getActiveId() == viewConfig.id : false;\n          }\n        } else {\n          this._parent = view.$view.parentNode;\n          this._pos.node = create(\"div\"); //save old position\n\n          this._parent.replaceChild(this._pos.node, view.$view);\n        }\n\n        this._fullscreen.getBody().addView(view.$html ? {\n          view: \"template\",\n          content: view.$view,\n          css: \"webix_fullscreen_html\"\n        } : view);\n\n        this._fullscreen.show();\n\n        this._setSizes(view);\n\n        return this._fullscreen;\n      }\n    },\n    exit: function () {\n      if (this._view) {\n        var viewConfig = this._view.config;\n\n        this._setPosition(true);\n\n        if (this._view.setPosition) {\n          viewConfig.fullscreen = false;\n\n          this._view.resize();\n        } else {\n          if (this._parent instanceof Element) {\n            this._view._parent_cell = null;\n            if (this._view._set_inner) this._view._set_inner(this._view.config);\n\n            this._parent.replaceChild(this._view.$view, this._pos.node);\n          } else {\n            if (!isUndefined(this._pos.index)) {\n              this._parent.addView(this._view, this._pos.index);\n\n              if (this._pos.active) this._view.show(false, false);\n            } else {\n              this._view._parent_cell = this._parent;\n\n              this._parent._replace(this._view);\n            }\n          }\n\n          this._setSizes(this._view, this._sizes); //prevent view destruction (with layout)\n\n\n          if (!this._view.$html) this._fullscreen.getBody()._cells = []; //we can't set head false with replace, so we need to close win\n\n          this._fullscreen.close();\n        }\n\n        this._clearValues();\n      }\n    },\n    _clearValues: function () {\n      delete this._parent;\n      delete this._view;\n      delete this._sizes;\n      delete this._pos;\n      delete this._fullscreen;\n    },\n    _setPosition: function (restore) {\n      var _this = this;\n\n      var view = this._view;\n      var oldStyles = {};\n\n      if (view.setPosition) {\n        if (restore) view.setPosition(this._pos.left, this._pos.top);else {\n          oldStyles.left = view.config.left;\n          oldStyles.top = view.config.top;\n          view.setPosition(0, 0);\n        }\n      } else {\n        var rules = [\"position\", \"top\", \"bottom\", \"left\", \"right\"];\n        var style = view.$view.style;\n        rules.forEach(function (rule) {\n          if (restore) style[rule] = _this._pos[rule];else {\n            oldStyles[rule] = style[rule];\n            style[rule] = rule == \"position\" ? \"relative\" : 0;\n          }\n        });\n      }\n\n      return oldStyles;\n    },\n    _setSizes: function (view, sizes) {\n      if (!view.$html) {\n        sizes = sizes || {\n          height: 0,\n          minHeight: 0,\n          maxHeight: 0,\n          width: 0,\n          minWidth: 0,\n          maxWidth: 0\n        };\n        view.define(sizes);\n        view.resize();\n      }\n    },\n    _getHeadConfig: function (config) {\n      var _this2 = this;\n\n      if (config.head === false || _typeof(config.head) == \"object\") return config.head;else {\n        return {\n          cols: [{\n            template: config.head || \"\",\n            type: \"header\",\n            borderless: true\n          }, {\n            view: \"icon\",\n            icon: \"wxi-close\",\n            click: function () {\n              _this2.exit();\n            }\n          }]\n        };\n      }\n    }\n  };\n\n  var UIManager = {\n    _view: null,\n    _hotkeys: {},\n    _focus_time: 0,\n    _controls: {\n      \"esc\": \"escape\",\n      \"up\": \"arrowup\",\n      \"down\": \"arrowdown\",\n      \"left\": \"arrowleft\",\n      \"right\": \"arrowright\",\n      \"pgdown\": \"pagedown\",\n      \"pgup\": \"pageup\",\n      \"space\": \" \",\n      \"multiply\": \"*\",\n      \"add\": \"+\",\n      \"subtract\": \"-\",\n      \"decimal\": \".\",\n      \"divide\": \"/\",\n      \"pausebreak\": \"pause\",\n      \"5numlocked\": \"clear\"\n    },\n    _inputs: {\n      \"input\": 1,\n      \"button\": 1,\n      \"textarea\": 1,\n      \"select\": 1\n    },\n    _enable: function () {\n      // attaching events here\n      event$1(document, \"keydown\", this._keypress, {\n        bind: this\n      });\n      event$1(document.body, \"click\", this._focus_click, {\n        capture: true,\n        bind: this\n      });\n      event$1(document.body, \"focus\", this._focus_tab, {\n        capture: true,\n        bind: this\n      });\n      state.destructors.push({\n        obj: this\n      });\n    },\n    destructor: function () {\n      UIManager._view = null;\n    },\n    getFocus: function () {\n      return this._view;\n    },\n    _focus_action: function (view) {\n      this._focus_was_there = this._focus_was_there || view._settings.id;\n    },\n    setFocus: function (view, only_api, tab) {\n      //view can be empty\n      view = $$(view); //unfocus if view is hidden\n\n      if (view && !view.$view) view = null; //store last click time, it is necessary to prevent refocusing\n      //for example when user moves focus from onclick handler somewher\n      //and we want to prevent autofocusing, when event will reach document.body\n\n      this._focus_time = state._focus_time = new Date();\n      if (this._view === view) return true;\n      if (this._view && this._view.callEvent) this._view.callEvent(\"onBlur\", [this._view]);\n\n      if (view && view.callEvent) {\n        view.callEvent(\"onFocus\", [view, this._view]);\n        if (tab) view.callEvent(\"onTabFocus\", [view, this._view]);\n      }\n\n      callEvent(\"onFocusChange\", [view, this._view]);\n      if (this._view && this._view.blur && !only_api) this._view.blur();\n      this._view = view;\n      if (view && view.focus && !only_api) view.focus();\n      return true;\n    },\n    applyChanges: function (element) {\n      var view = this.getFocus();\n      if (view && view != element && view._applyChanges) view._applyChanges(element);\n    },\n    hasFocus: function (view) {\n      return view === this._view ? true : false;\n    },\n    _focus: function (e) {\n      for (var i = 0; i < modalbox.order.length; i++) {\n        if (modalbox.pull[modalbox.order[i]]._box.contains(e.target)) return;\n      }\n\n      var view = locate(e,\n      /*@attr*/\n      \"view_id\") || this._focus_was_there; //if html was repainted we can miss the view, so checking last processed one\n\n\n      view = $$(view);\n      this._focus_was_there = null; //set timer, to fix issue with Android input focusin\n\n      state._focus_time = new Date();\n      if (view == this._view) return true;\n\n      if (view) {\n        if (this.canFocus(view)) {\n          // keep form focus\n          if (this._view && this._view.getFormView() == view && this._view.focus) this._view.focus();else {\n            //radio view with scroll: focus changes onClick event target into radiogroup, so we need call onClick before it happens\n            if (e.target.type == \"radio\" || e.target.getAttribute(\"role\") == \"radio\") callEvent(\"onClick\", [e]);\n            this.setFocus(view);\n          }\n        } //remove focus from an unreachable view\n        else if (view.$view.contains(e.target)) e.target.blur();\n      } else this.setFocus(null);\n\n      return true;\n    },\n    _focus_click: function (e) {\n      // if it was onfocus/onclick less then 100ms behore then we ignore it\n      if (new Date() - this._focus_time < 100) {\n        this._focus_was_there = null;\n        return false;\n      }\n\n      return this._focus(e);\n    },\n    _focus_tab: function (e) {\n      if (!this._inputs[e.target.nodeName.toLowerCase()]) return false;\n      return this._focus(e);\n    },\n    _top_modal: function (view) {\n      var modality = state._modality;\n      if (!modality.length) return true;\n      var top = view.queryView(function (a) {\n        return !a.getParentView();\n      }, \"parent\") || view;\n      return (top.$view.style.zIndex || 0) >= Math.max.apply(Math, _toConsumableArray(modality));\n    },\n    canFocus: function (view) {\n      if (document.body.modality || view.$view.modality || view.queryView(function (view) {\n        return view.$view.modality;\n      }, \"parent\")) //modalbox\n        return false;\n      return view.isVisible() && view.isEnabled() && !view.config.disabled && this._top_modal(view) && !view.queryView({\n        disabled: true\n      }, \"parent\");\n    },\n    _moveChildFocus: function (check_view) {\n      var focus = this.getFocus(); //we have not focus inside of closing item\n\n      if (check_view && !this._is_child_of(check_view, focus)) return false;\n      if (!this._focus_logic(\"getPrev\", check_view)) this._view = null;\n    },\n    _is_child_of: function (parent, child) {\n      if (!parent) return false;\n      if (!child) return false;\n\n      while (child) {\n        if (child === parent) return true;\n        child = child.getParentView();\n      }\n\n      return false;\n    },\n    _keypress_timed: function () {\n      if (this && this.callEvent) this.callEvent(\"onTimedKeyPress\", []);\n    },\n    _keypress: function (e) {\n      var code = e.which || e.keyCode; // processing or not found\n\n      if (code == 229 || code == 0) return; // numpad keys\n\n      if (code > 95 && code < 106) code -= 48;\n      var view = this.getFocus();\n\n      if (view && view.callEvent) {\n        if (view.callEvent(\"onKeyPress\", [code, e]) === false) preventEvent(e);\n\n        if (view.hasEvent(\"onTimedKeyPress\")) {\n          clearTimeout(view._key_press_timeout);\n          view._key_press_timeout = delay(this._keypress_timed, view, [], view._settings.keyPressTimeout || 250);\n        }\n      }\n\n      if (this._check_keycode(e) === false) {\n        preventEvent(e);\n        return false;\n      }\n    },\n    // dir - getNext or getPrev\n    _focus_logic: function (dir, focus) {\n      var next = focus || this.getFocus();\n\n      if (next) {\n        dir = dir || \"getNext\";\n        var start = next;\n        var marker = uid();\n\n        while (true) {\n          // eslint-disable-line\n          next = this[dir](next); // view with focus ability\n\n          if (next && this.canFocus(next)) return this.setFocus(next); // elements with focus ability not found\n\n          if (next === start || next.$fmarker == marker) {\n            if (focus) document.activeElement.blur();\n            return null;\n          } //prevents infinity loop\n\n\n          next.$fmarker = marker;\n        }\n      }\n    },\n    _tab_logic: function (view, e) {\n      var mode = !e.shiftKey;\n      if (view && view._custom_tab_handler && !view._custom_tab_handler(mode, e)) return false;\n\n      if (view && view._in_edit_mode) {\n        if (view.editNext) return view.editNext(mode);else if (view.editStop) {\n          view.editStop();\n          return true;\n        }\n      } else delay(function () {\n        view = $$(document.activeElement);\n        if (view && !UIManager.canFocus(view)) return UIManager._focus_logic(mode ? \"getNext\" : \"getPrev\", view);\n        UIManager.setFocus(view, true, true);\n      });\n    },\n    getTop: function (id) {\n      var next,\n          view = $$(id);\n\n      while (view && (next = view.getParentView())) {\n        view = next;\n      }\n\n      return view;\n    },\n    getNext: function (view, _inner_call) {\n      var cells = view.getChildViews(); //tab to first children\n\n      if (cells.length && !_inner_call) for (var i = 0; i < cells.length; i++) {\n        if (this.canFocus(cells[i])) return cells[i];\n      } //unique case - single view without child and parent\n\n      var parent = view.getParentView();\n      if (!parent) return view;\n      var p_cells = parent.getChildViews();\n\n      if (p_cells.length) {\n        var index$$1 = _power_array.find.call(p_cells, view) + 1;\n\n        while (index$$1 < p_cells.length) {\n          //next visible child\n          if (this.canFocus(p_cells[index$$1])) return p_cells[index$$1];\n          index$$1++;\n        }\n      } //sibling of parent\n\n\n      return this.getNext(parent, true);\n    },\n    getPrev: function (view, _inner_call) {\n      var cells = view.getChildViews(); //last child of last child\n\n      if (cells.length && _inner_call) for (var i = cells.length - 1; i >= 0; i--) {\n        if (this.canFocus(cells[i])) return this.getPrev(cells[i], true);\n      }\n      if (_inner_call && this.canFocus(view)) return view; //fallback from top to bottom\n\n      var parent = view.getParentView();\n      if (!parent) return this.canFocus(view) ? this.getPrev(view, true) : view;\n      var p_cells = parent.getChildViews();\n\n      if (p_cells) {\n        var index$$1 = _power_array.find.call(p_cells, view) - 1;\n\n        while (index$$1 >= 0) {\n          if (this.canFocus(p_cells[index$$1])) return this.getPrev(p_cells[index$$1], true);\n          index$$1--;\n        }\n      }\n\n      return this.getPrev(parent, true);\n    },\n    addHotKey: function (keys, handler, view) {\n      assert(handler, \"Hot key handler is not defined\");\n\n      var code = this._parse_keys(keys);\n\n      if (!view) view = null;\n      if (!this._hotkeys[code]) this._hotkeys[code] = [];\n\n      this._hotkeys[code].push({\n        handler: handler,\n        view: view\n      });\n\n      return keys;\n    },\n    removeHotKey: function (keys, func, view) {\n      var code = this._parse_keys(keys);\n\n      if (!func && !view) delete this._hotkeys[code];else {\n        var t = this._hotkeys[code];\n\n        if (t) {\n          for (var i = t.length - 1; i >= 0; i--) {\n            if (view && t[i].view !== view) continue;\n            if (func && t[i].handler !== func) continue;\n            t.splice(i, 1);\n          }\n\n          if (!t.length) delete this._hotkeys[code];\n        }\n      }\n    },\n    _keycode: function (key, ctrl, shift, alt, meta) {\n      //key can be undefined (browser autofill)\n      return (key || \"\").toLowerCase() + \"_\" + [\"\", ctrl ? \"1\" : \"0\", shift ? \"1\" : \"0\", alt ? \"1\" : \"0\", meta ? \"1\" : \"0\"].join(\"\");\n    },\n    _check_keycode: function (e) {\n      var keyCode = e.which || e.keyCode;\n      var is_any = !e.ctrlKey && !e.altKey && !e.metaKey && keyCode != 9 && keyCode != 27 && keyCode != 13;\n\n      var code = this._keycode(e.key, e.ctrlKey, e.shiftKey, e.altKey, e.metaKey);\n\n      var focus = this.getFocus();\n      if (this._hotkeys[code]) return this._process_calls(this._hotkeys[code], focus, e);else if (is_any && this._hotkeys[\"any_0000\"]) return this._process_calls(this._hotkeys[\"any_0000\"], focus, e);\n      return true;\n    },\n    _process_calls: function (calls, focus, e) {\n      for (var i = 0; i < calls.length; i++) {\n        var key = calls[i];\n        if (key.view !== null && //common hot-key\n        focus !== key.view && ( //hot-key for current view\n        //hotkey for current type of view\n        typeof key.view !== \"string\" || !focus || focus.name !== key.view)) continue;\n        var temp_result = key.handler(focus, e);\n        if (!!temp_result === temp_result) return temp_result;\n      }\n\n      return true;\n    },\n    _parse_keys: function (keys) {\n      var controls = this._controls;\n      var parts = keys.toLowerCase().split(/[ +\\-_]/);\n      var ctrl, shift, alt, meta;\n      ctrl = shift = alt = meta = 0;\n      var letter = \"\";\n\n      for (var i = 0; i < parts.length; i++) {\n        if (parts[i] === \"ctrl\") ctrl = 1;else if (parts[i] === \"shift\") shift = 1;else if (parts[i] === \"alt\") alt = 1;else if (parts[i] === \"command\") meta = 1;else {\n          letter = controls[parts[i]] || parts[i];\n        }\n      }\n\n      return this._keycode(letter, ctrl, shift, alt, meta);\n    },\n    getState: function (node, children) {\n      children = children || false;\n      node = $$(node);\n      var state$$1 = {\n        id: node.config.id,\n        width: node.config.width,\n        height: node.config.height,\n        gravity: node.config.gravity\n      };\n      if (!isUndefined(node.config.collapsed)) state$$1.collapsed = node.config.collapsed;\n      if (node.name === \"tabs\" || node.name === \"tabbar\") state$$1.activeCell = node.getValue();\n\n      if (children) {\n        state$$1 = [state$$1];\n\n        if (node._cells) {\n          for (var i = 0; i < node._cells.length; i++) {\n            state$$1 = state$$1.concat(this.getState(node._cells[i], children));\n          }\n        }\n      }\n\n      return state$$1;\n    },\n    setState: function (states) {\n      if (!isArray(states)) states = [states];\n\n      for (var i = 0; i < states.length; i++) {\n        var state$$1 = states[i];\n        var node = $$(state$$1.id);\n        if (!node) continue;\n        if (!isUndefined(state$$1.collapsed)) node.define(\"collapsed\", state$$1.collapsed);\n        if (!isUndefined(state$$1.activeCell)) node.setValue(state$$1.activeCell, \"auto\");\n        node.define(\"width\", state$$1.width);\n        node.define(\"height\", state$$1.height);\n        node.define(\"gravity\", state$$1.gravity);\n      }\n\n      var top = $$(states[0].id);\n      if (top) top.resize();\n    }\n  };\n  ready(function () {\n    UIManager._enable();\n\n    UIManager.addHotKey(\"enter\", function (view, ev) {\n      if (view && view.callEvent) view.callEvent(\"onEnter\", [ev]);\n\n      if (view && view.editStop && view._in_edit_mode) {\n        view.editStop();\n        return true;\n      } else if (view && view.touchable) {\n        var form = view.getFormView();\n        if (form && !view._skipSubmit) form.callEvent(\"onSubmit\", [view, ev]);\n      }\n    });\n    UIManager.addHotKey(\"esc\", function (view) {\n      if (view) {\n        if (view.editCancel && view._in_edit_mode) {\n          view.editCancel();\n          return true;\n        }\n\n        var top = view.getTopParentView();\n\n        if (top && top.setPosition) {\n          if (fullscreen._fullscreen == top) fullscreen.exit();\n\n          top._hide();\n        }\n      }\n    });\n    UIManager.addHotKey(\"shift+tab\", UIManager._tab_logic);\n    UIManager.addHotKey(\"tab\", UIManager._tab_logic);\n  });\n  define(\"UIManager\", UIManager);\n\n  var Settings = {\n    $init: function () {\n      /* \n      \tproperty can be accessed as this.config.some\n      \tin same time for inner call it have sense to use _settings\n      \tbecause it will be minified in final version\n      */\n      this._settings = this.config = {};\n    },\n    define: function (property, value) {\n      if (_typeof(property) == \"object\") return this._parseSeetingColl(property);\n      return this._define(property, value);\n    },\n    _define: function (property, value) {\n      //method with name {prop}_setter will be used as property setter\n      //setter is optional\n      var setter = this[property + \"_setter\"];\n      return this._settings[property] = setter ? setter.call(this, value, property) : value;\n    },\n    //process configuration object\n    _parseSeetingColl: function (coll) {\n      if (coll) {\n        for (var a in coll) {\n          //for each setting\n          this._define(a, coll[a]);\n        } //set value through config\n\n      }\n    },\n    //helper for object initialization\n    _parseSettings: function (obj, initial) {\n      //initial - set of default values\n      var settings = {};\n      if (initial) settings = exports.extend(settings, initial); //code below will copy all properties over default one\n\n      if (_typeof(obj) == \"object\" && !obj.tagName) exports.extend(settings, obj, true); //call config for each setting\n\n      this._parseSeetingColl(settings);\n    },\n    _mergeSettings: function (config, defaults) {\n      for (var key in defaults) {\n        switch (_typeof(config[key])) {\n          case \"object\":\n            config[key] = this._mergeSettings(config[key] || {}, defaults[key]);\n            break;\n\n          case \"undefined\":\n            config[key] = defaults[key];\n            break;\n\n          default:\n            //do nothing\n            break;\n        }\n      }\n\n      return config;\n    }\n  };\n\n  var Destruction = {\n    $init: function () {\n      //wrap in object to simplify removing self-reference\n      //submenu can trigger this handler two times, preserve a single destructor reference\n      var t = this._destructor_handler = this._destructor_handler || {\n        obj: this\n      }; //register self in global list of destructors\n\n      state.destructors.push(t);\n    },\n    //will be called automatically on unload, can be called manually\n    //simplifies job of GC\n    destructor: function () {\n      var config = this._settings;\n      if (this._last_editor) this.editCancel();\n      if (this.callEvent) this.callEvent(\"onDestruct\", []); //destructor can be called only once\n\n      this.destructor = function () {}; //remove self reference from global destructions collection\n\n\n      this._destructor_handler.obj = null; //destroy child and related cells\n\n      if (this.getChildViews) {\n        var cells = this.getChildViews();\n        if (cells) for (var i = 0; i < cells.length; i++) {\n          cells[i].destructor();\n        }\n        if (this._destroy_with_me) for (var _i = 0; _i < this._destroy_with_me.length; _i++) {\n          this._destroy_with_me[_i].destructor();\n        }\n      }\n\n      delete ui.views[config.id];\n\n      if (config.$id) {\n        var top = this.getTopParentView();\n        if (top && top._destroy_child) top._destroy_child(config.$id);\n      } //html collection\n\n\n      this._htmlmap = null;\n      this._htmlrows = null;\n      this._html = null;\n\n      if (this._contentobj) {\n        this._contentobj.innerHTML = \"\";\n        this._contentobj._htmlmap = null;\n      } //removes view container\n\n\n      if (this._viewobj && this._viewobj.parentNode) {\n        this._viewobj.parentNode.removeChild(this._viewobj);\n      }\n\n      if (this.data && this.data.destructor) this.data.destructor();\n      if (this.unbind) this.unbind();\n      this.data = null;\n      this._parent_cell = null;\n      this._viewobj = this.$view = this._contentobj = this._dataobj = null;\n      this._evs_events = this._evs_handlers = this._evs_map = {}; //remove focus from destructed view\n\n      if (UIManager._view == this) UIManager._view = null;\n      var url = config.url;\n      if (url && url.$proxy && url.release) url.release();\n      this.$scope = null; // this flag is checked in delay method\n\n      this.$destructed = true;\n    }\n  }; //global list of destructors\n\n  event$1(window, \"unload\", function () {\n    callEvent(\"unload\", []);\n    state._final_destruction = true; //call all registered destructors\n\n    for (var i = 0; i < state.destructors.length; i++) {\n      var obj = state.destructors[i].obj;\n      if (obj) obj.destructor();\n    }\n\n    state.destructors = [];\n    state._popups = _to_array();\n\n    _events_final_destructor();\n  });\n\n  var CollectionBind = {\n    $init: function () {\n      this._cursor = null;\n      this.attachEvent(\"onSelectChange\", function () {\n        var sel = this.getSelectedId();\n        this.setCursor(sel ? sel.id || sel : null);\n      });\n      this.attachEvent(\"onAfterCursorChange\", this._update_binds);\n      this.attachEvent(\"onAfterDelete\", function (id) {\n        if (id == this.getCursor()) this.setCursor(null);\n      });\n      this.data.attachEvent(\"onStoreUpdated\", bind(function (id, data, mode) {\n        //paint - ignored\n        //delete - handled by onAfterDelete above\n        if (id && id == this.getCursor() && mode != \"paint\" && mode != \"delete\") this._update_binds();\n      }, this));\n      this.data.attachEvent(\"onClearAll\", bind(function () {\n        this._cursor = null;\n      }, this));\n      this.data.attachEvent(\"onIdChange\", bind(function (oldid, newid) {\n        if (this._cursor == oldid) {\n          this._cursor = newid;\n\n          this._update_binds();\n        }\n      }, this));\n    },\n    refreshCursor: function () {\n      if (this._cursor) this.callEvent(\"onAfterCursorChange\", [this._cursor]);\n    },\n    setCursor: function (id) {\n      if (id == this._cursor || id !== null && !this.getItem(id)) return;\n      this.callEvent(\"onBeforeCursorChange\", [this._cursor]);\n      this._cursor = id;\n      this.callEvent(\"onAfterCursorChange\", [id]);\n    },\n    getCursor: function () {\n      return this._cursor;\n    },\n    _bind_update: function (target, rule, format) {\n      if (rule == \"$level\" && this.data.getBranch) return (target.data || target).importData(this.data.getBranch(this.getCursor()));\n      var data = this.getItem(this.getCursor()) || this._settings.defaultData || null;\n\n      if (rule == \"$data\") {\n        if (typeof format === \"function\") format.call(target, data, this);else target.data.importData(data ? data[format] : []);\n        target.callEvent(\"onBindApply\", [data, rule, this]);\n      } else {\n        if (format) data = format(data);\n\n        this._bind_update_common(target, rule, data);\n      }\n    }\n  };\n\n  var ValueBind = {\n    $init: function () {\n      this.attachEvent(\"onChange\", this._update_binds);\n    },\n    _bind_update: function (target, rule, format) {\n      rule = rule || \"value\";\n      var data = this.getValue() || \"\";\n      if (format) data = format(data);\n      if (target.setValue) target.setValue(data, \"auto\");else if (!target.filter) {\n        var pod = {};\n        pod[rule] = data;\n        if (target._check_data_feed(data)) target.setValues(pod, false, \"auto\");\n      } else {\n        target.data.silent(function () {\n          this.filter(rule, data);\n        });\n      }\n      target.callEvent(\"onBindApply\", [data, rule, this]);\n    }\n  };\n\n  var RecordBind = {\n    $init: function () {\n      this.attachEvent(\"onChange\", this._update_binds);\n    },\n    _bind_update: function (target, rule, format) {\n      var data = this.getValues() || null;\n      if (format) data = format(data);\n\n      this._bind_update_common(target, rule, data);\n    }\n  };\n\n  var BindSource = {\n    $init: function () {\n      this._bind_hash = {}; //rules per target\n\n      this._bind_updated = {}; //update flags\n\n      this._ignore_binds = {}; //apply specific bind extension\n\n      this._bind_specific_rules(this);\n    },\n    saveBatch: function (code) {\n      this._do_not_update_binds = true;\n      code.call(this);\n      this._do_not_update_binds = false;\n\n      this._update_binds();\n    },\n    setBindData: function (data, key) {\n      //save called, updating master data\n      if (key) this._ignore_binds[key] = true;\n      if (this.setValue) this.setValue(data, \"auto\");else if (this.setValues) this.setValues(data, false, \"auto\");else {\n        var id = this.getCursor();\n        if (id) this.updateItem(id, data);else this.add(data);\n      }\n      this.callEvent(\"onBindUpdate\", [data, key]);\n      if (this.save) this.save();\n      if (key) this._ignore_binds[key] = false;\n    },\n    //fill target with data\n    getBindData: function (key, update) {\n      //fire only if we have data updates from the last time\n      if (this._bind_updated[key]) return false;\n      var target = $$(key); //fill target only when it visible\n\n      if (target.isVisible(target._settings.id)) {\n        this._bind_updated[key] = true;\n\n        this._bind_update(target, this._bind_hash[key][0], this._bind_hash[key][1]); //trigger component specific updating logic\n\n\n        if (update && target.filter) target.refresh();\n      }\n    },\n    //add one more bind target\n    addBind: function (source, rule, format) {\n      this._bind_hash[source] = [rule, format];\n    },\n    removeBind: function (source) {\n      delete this._bind_hash[source];\n      delete this._bind_updated[source];\n      delete this._ignore_binds[source];\n    },\n    //returns true if object belong to \"collection\" type\n    _bind_specific_rules: function (obj) {\n      if (obj.filter) exports.extend(this, CollectionBind);else if (obj.setValue) exports.extend(this, ValueBind);else exports.extend(this, RecordBind);\n    },\n    //inform all binded objects, that source data was updated\n    _update_binds: function () {\n      if (!this._do_not_update_binds) for (var key in this._bind_hash) {\n        if (this._ignore_binds[key]) continue;\n        this._bind_updated[key] = false;\n        this.getBindData(key, true);\n      }\n    },\n    //copy data from source to the target\n    _bind_update_common: function (target, rule, data) {\n      if (target.setValue) target.setValue(data && rule ? data[rule] : data, \"auto\");else if (!target.filter) {\n        if (!data && target.clear) target.clear(\"auto\");else {\n          if (target._check_data_feed(data)) target.setValues(clone(data), false, \"auto\");\n        }\n      } else {\n        target.data.silent(function () {\n          this.filter(rule, data);\n        });\n      }\n      target.callEvent(\"onBindApply\", [data, rule, this]);\n    }\n  };\n\n  var BaseBind = {\n    bind: function (target, rule, format) {\n      if (!this.attachEvent) exports.extend(this, EventSystem);\n      if (typeof target == \"string\") target = $$(target);\n      if (target._initBindSource) target._initBindSource();\n      if (this._initBindSource) this._initBindSource();\n      if (!target.getBindData) exports.extend(target, BindSource);\n\n      this._bind_ready();\n\n      target.addBind(this._settings.id, rule, format);\n      this._bind_source = target._settings.id;\n      this._bind_id = this._settings.id; //FIXME - check for touchable is not the best solution, to detect necessary event\n\n      this._bind_refresh_handler = this.attachEvent(this.touchable ? \"onAfterRender\" : \"onBindRequest\", function () {\n        return target.getBindData(this._bind_id);\n      });\n      if (this.refresh && this.isVisible(this._bind_id)) this.refresh();\n    },\n    unbind: function () {\n      if (this._bind_source) {\n        var target = $$(this._bind_source);\n        if (target) target.removeBind(this._bind_id);\n        this.detachEvent(this._bind_refresh_handler);\n        this._bind_source = this._bind_refresh_handler = null;\n      }\n    },\n    _bind_ready: function () {\n      var config = this._settings;\n\n      if (this.filter) {\n        var key = config.id;\n        this.data._on_sync = bind(function () {\n          $$(this._bind_source)._bind_updated[key] = false;\n        }, this);\n      }\n\n      var old_render = this.render;\n\n      this.render = function () {\n        if (this._in_bind_processing) return;\n        this._in_bind_processing = true;\n        var result = this.callEvent(\"onBindRequest\");\n        this._in_bind_processing = false;\n        return old_render.apply(this, result === false ? arguments : []);\n      };\n\n      if (this.getValue || this.getValues) this.save = function (data) {\n        var source = $$(this._bind_source);\n        if (data) source.setBindData(data);else {\n          if (this.validate && !this.validate()) return false;\n          var values = this.getValue ? this.getValue : this.getValues();\n          source.setBindData(values, this._settings.id); //reset form, so it will be counted as saved\n\n          if (this.setDirty) this.setDirty(false);\n        }\n      };\n\n      this._bind_ready = function () {};\n    }\n  };\n\n  var UIExtension = window.webix_view || {};\n  var api = {\n    name: \"baseview\",\n    //attribute , which will be used for ID storing\n    $init: function (config) {\n      if (!config.id) config.id = _uid(this.name);\n      this._parent_cell = state._parent_cell;\n      state._parent_cell = null; // if scope not provided directly, and there is no parent view\n      // check if we have a global scope\n\n      this.$scope = config.$scope || (this._parent_cell ? this._parent_cell.$scope : state._global_scope);\n\n      if (!this._viewobj) {\n        this._contentobj = this._viewobj = create(\"DIV\", {\n          \"class\": \"webix_view\"\n        });\n        this.$view = this._viewobj;\n      }\n    },\n    $skin: false,\n    defaults: {\n      width: 0,\n      height: 0,\n      gravity: 1\n    },\n    getNode: function () {\n      return this._viewobj;\n    },\n    // needed only to maintain the deprecated ActiveContent module\n    // do not use it anywhere else\n    $setNode: function (node) {\n      this._viewobj = this._dataobj = this.$view = node;\n    },\n    getParentView: function () {\n      return this._parent_cell || null;\n    },\n    getTopParentView: function () {\n      var parent = this.getParentView();\n      return parent ? parent.getTopParentView() : this;\n    },\n    getFormView: function () {\n      var parent = this.getParentView();\n      return !parent || parent._recollect_elements ? parent : parent.getFormView();\n    },\n    getChildViews: function () {\n      return [];\n    },\n    queryView: function (search, all) {\n      var confirm;\n      if (typeof search === \"string\") search = {\n        view: search\n      };\n      if (_typeof(search) === \"object\") confirm = function (test) {\n        var config = test.config;\n\n        for (var key in search) {\n          if (config[key] != search[key]) return false;\n        }\n\n        return true;\n      };else confirm = search;\n      if (all === \"self\" && confirm(this)) return this;\n      var results = all === \"all\" ? [] : false;\n      var direction = all === \"parent\" ? this._queryGoUp : this._queryGoDown;\n\n      var found = this._queryView(confirm, direction, results);\n\n      return all === \"all\" ? results : found;\n    },\n    _queryGoDown: function (node) {\n      return node.getChildViews();\n    },\n    _queryGoUp: function (node) {\n      var parent = node.getParentView();\n      return parent ? [parent] : [];\n    },\n    _queryView: function (confirm, next, all) {\n      var kids = next(this);\n\n      for (var i = 0; i < kids.length; i++) {\n        if (confirm(kids[i])) {\n          if (all) all.push(kids[i]);else return kids[i];\n        }\n\n        var sub = kids[i]._queryView(confirm, next, all);\n\n        if (sub && !all) {\n          return sub;\n        }\n      }\n\n      return null;\n    },\n    isVisible: function (base_id) {\n      if (this._settings.hidden) {\n        if (base_id) {\n          if (!this._hidden_render) {\n            this._hidden_render = [];\n            this._hidden_hash = {};\n          }\n\n          if (!this._hidden_hash[base_id]) {\n            this._hidden_hash[base_id] = true;\n\n            this._hidden_render.push(base_id);\n          }\n        }\n\n        return false;\n      }\n\n      var parent = this.getParentView();\n      if (parent) return parent.isVisible(base_id, this._settings.id);\n      return true;\n    },\n    isEnabled: function () {\n      if (this._disable_cover) return false;\n      var parent = this.getParentView();\n      if (parent) return parent.isEnabled();\n      return true;\n    },\n    _fix_cover: function () {\n      if (this._disable_cover && !this._disable_cover.parentNode) this._viewobj.appendChild(this._disable_cover);\n    },\n    disable: function () {\n      remove(this._disable_cover);\n      this._settings.disabled = true;\n      this._disable_cover = create(\"div\", {\n        \"class\": \"webix_disabled\"\n      });\n\n      this._viewobj.appendChild(this._disable_cover);\n\n      this._viewobj.setAttribute(\"aria-disabled\", \"true\");\n\n      addCss(this._viewobj, \"webix_disabled_view\", true);\n\n      UIManager._moveChildFocus(this);\n    },\n    enable: function () {\n      this._settings.disabled = false;\n\n      if (this._disable_cover) {\n        remove(this._disable_cover);\n        removeCss(this._viewobj, \"webix_disabled_view\");\n\n        this._viewobj.removeAttribute(\"aria-disabled\");\n\n        this._disable_cover = null;\n      }\n    },\n    disabled_setter: function (value) {\n      if (value) this.disable();else this.enable();\n      return value;\n    },\n    container_setter: function (value) {\n      assert(toNode(value), \"Invalid container\");\n      return true;\n    },\n    css_setter: function (value) {\n      if (_typeof(value) == \"object\") value = createCss(value);\n      this._viewobj.className += \" \" + value;\n      return value;\n    },\n    id_setter: function (value) {\n      if (state._global_collection && (state._global_collection != this || this._prev_global_col)) {\n        var oldvalue = this.config.$id = value;\n        (this._prev_global_col || state._global_collection)._elements[value] = this;\n        value = _uid(this.name);\n        (this._prev_global_col || state._global_collection)._translate_ids[value] = oldvalue;\n      }\n\n      assert(!ui.views[value], \"Non unique view id: \" + value);\n      ui.views[value] = this;\n\n      this._viewobj.setAttribute(\n      /*@attr*/\n      \"view_id\", value);\n\n      return value;\n    },\n    $setSize: function (x, y) {\n      var last = this._last_size;\n\n      if (last && last[0] == x && last[1] == y) {\n        debug_size_box(this, [x, y, \"not changed\"]);\n        return false;\n      }\n\n      debug_size_box(this, [x, y]);\n      this._last_size = [x, y];\n      this.$width = this._content_width = x - (this._scroll_y ? env.scrollSize : 0);\n      this.$height = this._content_height = y - (this._scroll_x ? env.scrollSize : 0);\n      var config = this._settings;\n\n      if (!config.flex) {\n        this._viewobj.style.width = x + \"px\";\n        this._viewobj.style.height = y + \"px\";\n      }\n\n      return true;\n    },\n    $getSize: function (dx, dy) {\n      var s = this._settings;\n      var size = [(s.width || s.minWidth || 0) * 1, (s.width || s.maxWidth || 100000) * 1, (s.height || s.minHeight || 0) * 1, (s.height || s.maxHeight || 100000) * 1, s.gravity];\n\n      if (assert) {\n        var check = isNaN(size[0]) || isNaN(size[1]) || isNaN(size[2]) || isNaN(size[3]);\n\n        if (check) {\n          assert(false, \"Size is not a number \" + this._settings.id);\n          s.width = s.height = s.maxWidth = s.maxHeight = s.minWidth = s.minHeight = 0;\n          size = [0, 0, 100000, 100000, 1];\n        }\n      }\n\n      size[0] += dx;\n      size[1] += dx;\n      size[2] += dy;\n      size[3] += dy;\n      return size;\n    },\n    show: function (force, animate_settings) {\n      var parent = this.getParentView();\n      var show = !arguments[2];\n\n      if (parent) {\n        if (!animate_settings && animate_settings !== false && this._settings.animate) if (parent._settings.animate) animate_settings = exports.extend(parent._settings.animate ? exports.extend({}, parent._settings.animate) : {}, this._settings.animate, true);\n        if (show ? parent._show : parent._hide) (show ? parent._show : parent._hide).call(parent, this, animate_settings);\n        if (show) this._render_hidden_views(); //force show of parent view\n        //stop further processing is view is a part of isolated scope\n\n        if (force && show) parent.show(parent.$$ ? false : force);\n      } else {\n        if (this._settings.hidden) {\n          if (show) {\n            var node = toNode(this._settings._container || document.body);\n            node.appendChild(this._viewobj);\n            this._settings.hidden = false;\n            this.adjust();\n\n            if (this.callEvent) {\n              this.callEvent(\"onViewShow\", []);\n              if (this._signal_hidden_cells) _each(this, this._signal_hidden_cells);\n            }\n\n            this._render_hidden_views();\n          }\n        } else {\n          if (!show) {\n            this._settings.hidden = this._settings._hidden = true;\n\n            if (this._viewobj) {\n              this._settings._container = this._viewobj.parentNode;\n              remove(this._viewobj);\n            }\n          }\n        }\n      }\n    },\n    _render_hidden_views: function () {\n      if (this._hidden_render) {\n        for (var i = 0; i < this._hidden_render.length; i++) {\n          var ui_to_render = $$(this._hidden_render[i]);\n          if (ui_to_render) ui_to_render.render();\n        }\n\n        this._hidden_render = [];\n        this._hidden_hash = {};\n      }\n    },\n    _onKeyPress: function (code, e) {\n      var target = e.target,\n          role = target.getAttribute(\"role\");\n\n      if ((code === 13 || code === 32) && (role == \"button\" || role == \"tab\") && !this._settings.disabled) {\n        triggerEvent(target, \"MouseEvent\", \"click\");\n        preventEvent(e);\n      }\n    },\n    hidden_setter: function (value) {\n      if (value) this.hide();\n      return this._settings.hidden;\n    },\n    hide: function () {\n      this.show(null, null, true);\n\n      UIManager._moveChildFocus(this);\n    },\n    adjust: function () {\n      if (!this._viewobj.parentNode) return false;\n      var x = this._viewobj.parentNode.clientWidth || 0;\n      var y = this._viewobj.parentNode.clientHeight || 0;\n      var sizes = this.$getSize(0, 0);\n      var fullscreen = this._viewobj.parentNode == document.body && !this.setPosition; //minWidth\n\n      if (sizes[0] > x) x = sizes[0]; //minHeight\n\n      if (sizes[2] > y) y = sizes[2]; //maxWidth rule\n\n      if ((!fullscreen || this._settings.width) && x > sizes[1]) x = sizes[1]; //maxHeight rule\n\n      if ((!fullscreen || this._settings.height) && y > sizes[3]) y = sizes[3];\n      this.$setSize(x, y);\n\n      if (state._responsive_exception) {\n        state._responsive_exception = false;\n        this.adjust();\n      }\n    },\n    resize: function () {\n      if (state._child_sizing_active || state._freeze_resize || state._responsive_tinkery) return;\n      var parent = this.getParentView();\n\n      if (parent) {\n        if (parent.resizeChildren) parent.resizeChildren();else parent.resize();\n      } else {\n        this.adjust();\n        callEvent(\"onResize\", []);\n      }\n    }\n  };\n  var view = exports.protoUI(api, Settings, Destruction, BaseBind, UIExtension);\n  var base = {\n    api: api,\n    view: view\n  };\n\n  var api$1 = {\n    name: \"view\",\n    $init: function (config) {\n      this._set_inner(config);\n    },\n    //deside, will component use borders or not\n    _set_inner: function (config) {\n      var border_not_set = isUndefined(config.borderless);\n\n      if (border_not_set && !this.setPosition && config.$topView) {\n        config.borderless = true;\n        border_not_set = false;\n      }\n\n      if (border_not_set && this.defaults.borderless || config.borderless) {\n        //button and custom borderless\n        config._inner = {\n          top: true,\n          left: true,\n          bottom: true,\n          right: true\n        };\n      } else {\n        //default borders\n        if (!config._inner) config._inner = {};\n        this._contentobj.style.borderWidth = \"1px\";\n      }\n    },\n    $getSize: function (dx, dy) {\n      var _borders = this._settings._inner;\n\n      if (_borders) {\n        dx += (_borders.left ? 0 : 1) + (_borders.right ? 0 : 1);\n        dy += (_borders.top ? 0 : 1) + (_borders.bottom ? 0 : 1);\n      }\n\n      var size = base.api.$getSize.call(this, dx, dy);\n      debug_size_box(this, size, true);\n      return size;\n    },\n    $setSize: function (x, y) {\n      debug_size_box(this, [x, y]);\n      var _borders = this._settings._inner;\n\n      if (_borders) {\n        x -= (_borders.left ? 0 : 1) + (_borders.right ? 0 : 1);\n        y -= (_borders.top ? 0 : 1) + (_borders.bottom ? 0 : 1);\n      }\n\n      return base.api.$setSize.call(this, x, y);\n    }\n  };\n  var view$1 = exports.protoUI(api$1, base.view);\n  var base$1 = {\n    api: api$1,\n    view: view$1\n  }; //not necessary anymore\n  //preserving for backward compatibility\n\n  view$1.call(-1);\n\n  /*\n  \tREnders single item. \n  \tCan be used for elements without datastore, or with complex custom rendering logic\n  \t\n  \t@export\n  \t\trender\n  */\n\n  var SingleRender = exports.proto({\n    $init: function () {\n      this.type = clone(this.type);\n    },\n    customize: function (obj) {\n      type(this, obj);\n    },\n    template_setter: function (value) {\n      this.type.template = template(value);\n    },\n    //convert item to the HTML text\n    _toHTML: function (obj) {\n      var type$$1 = this.type;\n      return (type$$1.templateStart ? type$$1.templateStart(obj, type$$1) : \"\") + type$$1.template(obj, type$$1) + (type$$1.templateEnd ? type$$1.templateEnd(obj, type$$1) : \"\");\n    }\n  }, AtomRender);\n\n  /*\n  \tUI: Tooltip\n  \t\n  \t@export\n  \t\tshow\n  \t\thide\n  */\n  // #include core/template.js\n  // #include core/single_render.js\n\n  var api$2 = {\n    name: \"tooltip\",\n    defaults: {\n      dy: 0,\n      dx: 20\n    },\n    $init: function (config) {\n      if (typeof config == \"string\") {\n        config = {\n          template: config\n        };\n      } //create  container for future tooltip\n\n\n      this.$view = this._viewobj = this._contentobj = this._dataobj = create(\"DIV\", {\n        role: \"alert\",\n        \"aria-atomic\": \"true\"\n      });\n      this._viewobj.className = this._css_name;\n      insertBefore(this._contentobj, document.body.firstChild, document.body);\n    },\n    adjust: function () {},\n    isVisible: function () {\n      return this._visible;\n    },\n    _alt_render: function (text) {\n      if (this.callEvent(\"onBeforeRender\", [text])) {\n        //it is critical to have this as two commands\n        //its prevent destruction race in Chrome\n        this._dataobj.innerHTML = \"\";\n        this._dataobj.innerHTML = text;\n        this.callEvent(\"onAfterRender\", []);\n      }\n    },\n    _css_name: \"webix_tooltip\",\n    css_setter: function (value) {\n      if (_typeof(value) === \"object\") value = createCss(value);\n      this._viewobj.className = this._css_name + \" \" + value;\n      return value;\n    },\n    //show tooltip\n    //pos - object, pos.x - left, pox.y - top\n    show: function (data, pos$$1) {\n      if (this._disabled) return;\n      this._visible = true;\n      if (typeof data === \"string\") this._alt_render(data);else {\n        this.data = exports.extend({}, data);\n        this.render();\n      }\n\n      if (this._dataobj.firstChild) {\n        //show at specified position\n        var w = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n        var h = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n        var positionX = w - pos$$1.x;\n        var positionY = h - pos$$1.y;\n        this._contentobj.style.display = \"block\";\n        if (positionX - this._settings.dx > this._contentobj.offsetWidth) positionX = pos$$1.x;else {\n          positionX = pos$$1.x - this._settings.dx * 2 - this._contentobj.offsetWidth;\n          if (positionX < 0) positionX = 0;\n        }\n        if (positionY - this._settings.dy > this._contentobj.offsetHeight) positionY = pos$$1.y;else {\n          positionY = pos$$1.y - this._settings.dy * 2 - this._contentobj.offsetHeight;\n          if (positionY < 0) positionY = 0;\n        }\n        this._contentobj.style.left = positionX + this._settings.dx + \"px\";\n        this._contentobj.style.top = positionY + this._settings.dy + \"px\";\n      } else this.hide();\n    },\n    //hide tooltip\n    hide: function () {\n      if (this._visible) {\n        this.data = null; //nulify, to be sure that on next show it will be fresh-rendered\n\n        this._contentobj.style.display = \"none\";\n        this._visible = false;\n      }\n    },\n    disable: function () {\n      this._disabled = true;\n    },\n    enable: function () {\n      this._disabled = false;\n    },\n    type: {\n      template: template(\"{obj.value}\"),\n      templateStart: template.empty,\n      templateEnd: template.empty\n    }\n  };\n  var view$2 = exports.protoUI(api$2, SingleRender, Settings, EventSystem, base$1.view);\n\n  /*\n  \tBehavior: AutoTooltip - links tooltip to data driven item\n  */\n\n  var AutoTooltip = {\n    tooltip_setter: function (value) {\n      if (value) {\n        if (typeof value === \"function\" || typeof value === \"string\") value = {\n          template: value\n        };\n        if (_typeof(value) !== \"object\") value = {};\n        if (value.overflow && isUndefined(value.template)) value.template = \"\";\n\n        this._init_tooltip_once();\n\n        return value;\n      } else if (this._settings.tooltip) return {\n        template: \"\"\n      };\n    },\n    _init_tooltip_once: function () {\n      TooltipControl.addTooltip(this);\n      this.attachEvent(\"onDestruct\", function () {\n        TooltipControl.removeTooltip(this);\n      });\n      this.attachEvent(\"onAfterScroll\", function () {\n        if (TooltipControl._tooltip_exist) TooltipControl._hide_tooltip();\n      });\n\n      this._init_tooltip_once = function () {};\n    },\n    $tooltipIn: function (t) {\n      var tooltip = TooltipControl._tooltip;\n      var def = exports.extend({\n        dx: 20,\n        dy: 0,\n        template: \"{obj.value}\",\n        css: \"\"\n      }, this._settings.tooltip, true);\n      tooltip.define(def);\n      return t;\n    },\n    $tooltipOut: function () {\n      TooltipControl._hide_tooltip();\n\n      return null;\n    },\n    $tooltipMove: function (t, e, c) {\n      var tooltip = this._settings.tooltip;\n      var overflow = !tooltip || isUndefined(tooltip.overflow) ? TooltipControl.overflow : tooltip.overflow;\n      var time = !tooltip || isUndefined(tooltip.delay) ? TooltipControl.delay : tooltip.delay;\n      var text = overflow ? c.overflow : c.first;\n      if (time > 0) TooltipControl._hide_tooltip();\n      TooltipControl._before_show_delay = delay(this._show_tooltip, this, [t, e, text], time);\n    },\n    _show_tooltip: function (t, e, text) {\n      var data = text || this._get_tooltip_data(t, e);\n\n      if (!data || !this.isVisible()) return;\n\n      TooltipControl._tooltip.show(data, pos(e));\n    },\n    _get_tooltip_data: function (t, e) {\n      if (this.locate && this.getItem) {\n        var id = this.locate(e);\n        if (!id) return null;\n        return this.getItem(id);\n      }\n\n      return this._settings;\n    }\n  };\n\n  var Canvas = exports.proto({\n    $init: function (container) {\n      this._canvas_labels = [];\n      this._canvas_series = !isUndefined(container.series) ? container.series : container.name;\n      this._obj = toNode(container.container || container);\n      var width = container.width * (window.devicePixelRatio || 1);\n      var height = container.height * (window.devicePixelRatio || 1);\n      var style = container.style || \"\";\n      style += \";width:\" + container.width + \"px;height:\" + container.height + \"px;\";\n\n      this._prepareCanvas(container.name, style, width, height, container.title);\n    },\n    _prepareCanvas: function (name, style, x, y, title) {\n      //canvas has the same size as master object\n      this._canvas = create(\"canvas\", {\n        title: title,\n        width: x,\n        height: y,\n        canvas_id: name,\n        style: style || \"\"\n      });\n\n      this._obj.appendChild(this._canvas);\n\n      return this._canvas;\n    },\n    getCanvas: function (context) {\n      var ctx = (this._canvas || this._prepareCanvas(this._contentobj)).getContext(context || \"2d\");\n\n      if (!this._webixDevicePixelRatio) {\n        this._webixDevicePixelRatio = true;\n        ctx.scale(window.devicePixelRatio || 1, window.devicePixelRatio || 1);\n      }\n\n      return ctx;\n    },\n    _resizeCanvas: function (x, y) {\n      if (this._canvas) {\n        this._canvas.setAttribute(\"width\", x * (window.devicePixelRatio || 1));\n\n        this._canvas.setAttribute(\"height\", y * (window.devicePixelRatio || 1));\n\n        this._canvas.style.width = x + \"px\";\n        this._canvas.style.height = y + \"px\";\n        this._webixDevicePixelRatio = false;\n      }\n    },\n    renderText: function (x, y, text, css, w) {\n      if (!text) return; //ignore empty text\n\n      if (w) w = Math.max(w, 0);\n      if (y) y = Math.max(y, 0);\n      var t = create(\"DIV\", {\n        \"class\": \"webix_canvas_text\" + (css ? \" \" + css : \"\"),\n        \"style\": \"left:\" + x + \"px; top:\" + y + \"px;\",\n        \"aria-hidden\": \"true\"\n      }, text);\n\n      this._obj.appendChild(t);\n\n      this._canvas_labels.push(t); //destructor?\n\n\n      if (w) t.style.width = w + \"px\";\n      return t;\n    },\n    renderTextAt: function (valign, align, x, y, t, c, w) {\n      var text = this.renderText.call(this, x, y, t, c, w);\n\n      if (text) {\n        if (valign) {\n          if (valign == \"middle\") text.style.top = parseInt(y - text.offsetHeight / 2, 10) + \"px\";else text.style.top = y - text.offsetHeight + \"px\";\n        }\n\n        if (align) {\n          if (align == \"left\") text.style.left = x - text.offsetWidth + \"px\";else text.style.left = parseInt(x - text.offsetWidth / 2, 10) + \"px\";\n        }\n      }\n\n      return text;\n    },\n    clearCanvas: function (skipMap) {\n      var areas = [];\n      remove(this._canvas_labels);\n      this._canvas_labels = [];\n\n      if (!skipMap && this._obj._htmlmap) {\n        //areas that correspond this canvas layer\n        areas = this._getMapAreas(); //removes areas of this canvas\n\n        while (areas.length) {\n          areas[0].parentNode.removeChild(areas[0]);\n          areas.splice(0, 1);\n        }\n\n        areas = null; //removes _htmlmap object if all its child nodes are removed\n\n        if (!this._obj._htmlmap.getElementsByTagName(\"AREA\").length) {\n          this._obj._htmlmap.parentNode.removeChild(this._obj._htmlmap);\n\n          this._obj._htmlmap = null;\n        }\n      } //FF breaks, when we are using clear canvas and call clearRect without parameters\n      //width|height are used insead of offsetWidth|offsetHeight for hidden canvas (series)\n\n\n      this.getCanvas().clearRect(0, 0, this._canvas.offsetWidth || Math.floor(this._canvas.width / (window.devicePixelRatio || 1)), this._canvas.offsetHeight || Math.floor(this._canvas.height / (window.devicePixelRatio || 1)));\n    },\n    toggleCanvas: function () {\n      this._toggleCanvas(this._canvas.style.display == \"none\");\n    },\n    showCanvas: function () {\n      this._toggleCanvas(true);\n    },\n    hideCanvas: function () {\n      this._toggleCanvas(false);\n    },\n    _toggleCanvas: function (show) {\n      var areas, i;\n\n      for (i = 0; i < this._canvas_labels.length; i++) {\n        this._canvas_labels[i].style.display = show ? \"\" : \"none\";\n      }\n\n      if (this._obj._htmlmap) {\n        areas = this._getMapAreas();\n\n        for (i = 0; i < areas.length; i++) {\n          if (show) areas[i].removeAttribute(\"disabled\");else areas[i].setAttribute(\"disabled\", \"true\");\n        }\n      } //FF breaks, when we are using clear canvas and call clearRect without parameters\n\n\n      this._canvas.style.display = show ? \"\" : \"none\";\n    },\n    _getMapAreas: function () {\n      var res = [],\n          areas,\n          i;\n      areas = this._obj._htmlmap.getElementsByTagName(\"AREA\");\n\n      for (i = 0; i < areas.length; i++) {\n        if (areas[i].getAttribute(\"userdata\") == this._canvas_series) {\n          res.push(areas[i]);\n        }\n      }\n\n      return res;\n    }\n  });\n\n  var animate = function (html_element, config) {\n    var animation = config;\n\n    if (isArray(html_element)) {\n      for (var i = 0; i < html_element.length; i++) {\n        if (isArray(config)) animation = config[i];\n\n        if (animation.type == \"slide\") {\n          if (animation.subtype == \"out\" && i === 0) {\n            // next\n            continue;\n          }\n\n          if (animation.subtype == \"in\" && i == 1) {\n            // current\n            continue;\n          }\n        }\n\n        if (animation.type == \"flip\") {\n          var animation_copy = clone(animation);\n\n          if (i === 0) {\n            // next\n            animation_copy.type = \"flipback\";\n          }\n\n          if (i == 1) {\n            // current\n            animation_copy.callback = null;\n          }\n\n          animate(html_element[i], animation_copy);\n          continue;\n        }\n\n        animate(html_element[i], animation);\n      }\n\n      return;\n    }\n\n    var node = toNode(html_element);\n    if (node._has_animation) animate.end(node, animation);else animate.start(node, animation);\n  };\n\n  animate.end = function (node, animation) {\n    //stop animation\n    node.style[env.transitionDuration] = \"1ms\";\n    node._has_animation = null; //clear animation wait order, if any\n\n    if (state._wait_animate) window.clearTimeout(state._wait_animate); //plan next animation, if any\n\n    state._wait_animate = delay(animate, this, [node, animation], 10);\n  };\n\n  animate.formLine = function (next, current, animation) {\n    var direction = animation.direction; //sometimes user can initiate animation multiple times ( fast clicking )\n    //as result animation may be called against already removed from the dom node\n\n    if (current.parentNode) current.parentNode.style.position = \"relative\";\n    current.style.position = \"absolute\";\n    next.style.position = \"absolute\"; //this is initial shift of second view in animation\n    //normally we need to have this value as 0\n    //but FF has bug with animation initially invisible elements\n    //so we are adjusting this value, to make 1px of second view visible\n\n    var defAniPos = env.isFF ? direction == \"top\" || direction == \"left\" ? -1 : 1 : 0;\n\n    if (direction == \"top\" || direction == \"bottom\") {\n      next.style.left = \"0px\";\n      next.style.top = (animation.top || defAniPos) + (direction == \"top\" ? 1 : -1) * current.offsetHeight + \"px\";\n    } else {\n      next.style.top = (animation.top || 0) + \"px\";\n      next.style.left = defAniPos + (direction == \"left\" ? 1 : -1) * current.offsetWidth + \"px\";\n    } // apply 'keepViews' mode, iframe, datatable with x scroll solution\n    //( keepViews won't work in case of \"in\" and \"out\" subtypes )\n\n\n    if (current.parentNode == next.parentNode && animation.keepViews) next.style.display = \"\";else insertBefore(next, current.nextSibling, current.parentNode);\n\n    if (animation.type == \"slide\" && animation.subtype == \"out\") {\n      next.style.left = \"0px\";\n      next.style.top = (animation.top || 0) + \"px\";\n      current.parentNode.removeChild(current);\n      insertBefore(current, next.nextSibling, next.parentNode);\n    }\n\n    return [next, current];\n  };\n\n  animate.breakLine = function (line) {\n    if (arguments[1]) line[1].style.display = \"none\"; // 'keepViews' multiview mode\n    else remove(line[1]); // 1 = current\n\n    animate.clear(line[0]);\n    animate.clear(line[1]);\n    line[0].style.position = \"\";\n  };\n\n  animate.clear = function (node) {\n    node.style[env.transform] = \"none\";\n    node.style[env.transition] = \"none\";\n    node.style.top = node.style.left = \"\";\n  };\n\n  animate.defaults = {\n    type: \"slide\",\n    delay: \"0\",\n    duration: \"500\",\n    timing: \"ease-in-out\",\n    x: 0,\n    y: 0\n  };\n\n  animate.start = function (node, animation) {\n    //getting config object by merging specified and default options\n    if (typeof animation == \"string\") animation = {\n      type: animation\n    };\n    animation = Settings._mergeSettings(animation, animate.defaults);\n    var settings = node._has_animation = animation;\n    var skew_options, scale_type; //jshint -W086:true\n\n    switch (settings.type == \"slide\" && settings.direction) {\n      // getting new x, y in case it is slide with direction\n      case \"right\":\n        settings.x = node.offsetWidth;\n        break;\n\n      case \"left\":\n        settings.x = -node.offsetWidth;\n        break;\n\n      case \"top\":\n        settings.y = -node.offsetHeight;\n        break;\n\n      case \"bottom\":\n      default:\n        settings.y = settings.y || node.offsetHeight;\n        break;\n    }\n\n    if (settings.type == \"flip\" || settings.type == \"flipback\") {\n      skew_options = [0, 0];\n      scale_type = \"scaleX\";\n\n      if (settings.subtype == \"vertical\") {\n        skew_options[0] = 20;\n        scale_type = \"scaleY\";\n      } else skew_options[1] = 20;\n\n      if (settings.direction == \"right\" || settings.direction == \"bottom\") {\n        skew_options[0] *= -1;\n        skew_options[1] *= -1;\n      }\n    }\n\n    var duration = settings.duration + \"ms \" + settings.timing + \" \" + settings.delay + \"ms\";\n    var css_general = \"transformStyle: preserve-3d;\"; // general css rules\n\n    var css_transition = \"\";\n    var css_transform = \"\";\n\n    switch (settings.type) {\n      case \"fade\":\n        // changes opacity to 0\n        css_transition = \"opacity \" + duration;\n        css_general = \"opacity: 0;\";\n        break;\n\n      case \"show\":\n        // changes opacity to 1\n        css_transition = \"opacity \" + duration;\n        css_general = \"opacity: 1;\";\n        break;\n\n      case \"flip\":\n        duration = settings.duration / 2 + \"ms \" + settings.timing + \" \" + settings.delay + \"ms\";\n        css_transform = \"skew(\" + skew_options[0] + \"deg, \" + skew_options[1] + \"deg) \" + scale_type + \"(0.00001)\";\n        css_transition = \"all \" + duration;\n        break;\n\n      case \"flipback\":\n        settings.delay += settings.duration / 2;\n        duration = settings.duration / 2 + \"ms \" + settings.timing + \" \" + settings.delay + \"ms\";\n        node.style[env.transform] = \"skew(\" + -1 * skew_options[0] + \"deg, \" + -1 * skew_options[1] + \"deg) \" + scale_type + \"(0.00001)\";\n        node.style.left = \"0\";\n        css_transform = \"skew(0deg, 0deg) \" + scale_type + \"(1)\";\n        css_transition = \"all \" + duration;\n        break;\n\n      case \"slide\":\n        // moves object to specified location\n        var x = settings.x + \"px\";\n        var y = settings.y + \"px\"; // translate(x, y) OR translate3d(x, y, 0)\n\n        css_transform = env.translate + \"(\" + x + \", \" + y + (env.translate == \"translate3d\" ? \", 0\" : \"\") + \")\";\n        css_transition = \"transform \" + duration;\n        break;\n\n      default:\n        break;\n    } //set styles only after applying transition settings\n\n\n    delay(function () {\n      node.style[env.transition] = css_transition;\n      delay(function () {\n        if (css_general) node.style.cssText += css_general;\n        if (css_transform) node.style[env.transform] = css_transform;\n        var transitionEnded = false;\n        var tid = event$1(node, env.transitionEnd, function (ev) {\n          node._has_animation = null;\n          if (settings.callback) settings.callback.call(settings.master || window, node, settings, ev);\n          transitionEnded = true;\n          eventRemove(tid);\n        });\n        window.setTimeout(function () {\n          if (!transitionEnded) {\n            var master = settings.master || window;\n            node._has_animation = null;\n            if (!master.$destructed && settings.callback) settings.callback.call(master, node, settings);\n            transitionEnded = true;\n            eventRemove(tid);\n          }\n        }, (settings.duration * 1 + settings.delay * 1) * 1.3);\n      });\n    });\n  };\n\n  var skin = {\n    topLayout: \"space\",\n    //bar in accordion\n    barHeight: 44,\n    //!!!Set the same in skin.less!!!\n    tabbarHeight: 42,\n    sidebarTitleHeight: 44,\n    rowHeight: 36,\n    toolbarHeight: 44,\n    listItemHeight: 36,\n    //list, grouplist, dataview, etc.\n    inputHeight: 38,\n    buttonHeight: 38,\n    inputPadding: 3,\n    menuHeight: 36,\n    labelTopHeight: 22,\n    propertyItemHeight: 28,\n    timelineItemHeight: 70,\n    unitHeaderHeight: 36,\n    inputSpacing: 4,\n    borderWidth: 1,\n    sliderHandleWidth: 14,\n    sliderPadding: 10,\n    sliderBorder: 1,\n    vSliderPadding: 15,\n    vSliderHeight: 100,\n    switchHeight: 22,\n    switchWidth: 50,\n    //margin - distance between cells\n    layoutMargin: {\n      space: 10,\n      wide: 10,\n      clean: 0,\n      head: 4,\n      line: -1,\n      toolbar: 4,\n      form: 8,\n      accordion: 2\n    },\n    //padding - distance inside cell between cell border and cell content\n    layoutPadding: {\n      space: 10,\n      wide: 0,\n      clean: 0,\n      head: 0,\n      line: 0,\n      toolbar: 2,\n      form: 17,\n      accordion: 0\n    },\n    //space between tabs in tabbar\n    tabMargin: 0,\n    tabOffset: 0,\n    tabBottomOffset: 0,\n    tabTopOffset: 0,\n    tabBorder: true,\n    customCheckbox: true,\n    customRadio: true,\n    sidebarMarkAll: true,\n    popupNoPoint: true,\n    borderlessPopup: true,\n    popupPadding: 0,\n    dataPadding: 12,\n    calendarWeekHeaderHeight: 18,\n    padding: 0,\n    accordionType: \"accordion\",\n    optionHeight: 32,\n    timelineColor: \"#1CA1C1\",\n    backColor: \"#ffffff\",\n    //colorboard\n    colorPadding: 4\n  };\n\n  var skin$1 = {\n    topLayout: \"space\",\n    //bar in accordion\n    barHeight: 36,\n    //!!!Set the same in skin.less!!!\n    tabbarHeight: 34,\n    sidebarTitleHeight: 36,\n    rowHeight: 28,\n    toolbarHeight: 36,\n    listItemHeight: 28,\n    //list, grouplist, dataview, etc.\n    inputHeight: 30,\n    buttonHeight: 30,\n    inputPadding: 3,\n    menuHeight: 28,\n    labelTopHeight: 16,\n    propertyItemHeight: 24,\n    unitHeaderHeight: 28,\n    timelineItemHeight: 50,\n    inputSpacing: 4,\n    borderWidth: 1,\n    sliderHandleWidth: 12,\n    sliderPadding: 10,\n    sliderBorder: 1,\n    vSliderPadding: 13,\n    vSliderHeight: 100,\n    switchHeight: 20,\n    switchWidth: 40,\n    //margin - distance between cells\n    layoutMargin: {\n      space: 5,\n      wide: 5,\n      clean: 0,\n      head: 4,\n      line: -1,\n      toolbar: 4,\n      form: 8,\n      accordion: 2\n    },\n    //padding - distance inside cell between cell border and cell content\n    layoutPadding: {\n      space: 5,\n      wide: 0,\n      clean: 0,\n      head: 0,\n      line: 0,\n      toolbar: 2,\n      form: 12,\n      accordion: 0\n    },\n    //space between tabs in tabbar\n    tabMargin: 0,\n    tabOffset: 0,\n    tabBottomOffset: 0,\n    tabTopOffset: 0,\n    tabBorder: true,\n    customCheckbox: true,\n    customRadio: true,\n    sidebarMarkAll: true,\n    popupNoPoint: true,\n    borderlessPopup: true,\n    popupPadding: 0,\n    dataPadding: 12,\n    calendarWeekHeaderHeight: 18,\n    padding: 0,\n    accordionType: \"accordion\",\n    optionHeight: 24,\n    timelineColor: \"#1CA1C1\",\n    backColor: \"#ffffff\",\n    //colorboard\n    colorPadding: 4\n  };\n\n  var skin$2 = {\n    topLayout: \"space\",\n    //bar in accordion\n    barHeight: 46,\n    //!!!Set the same in skin.less!!!\n    tabbarHeight: 46,\n    rowHeight: 34,\n    toolbarHeight: 46,\n    sidebarTitleHeight: 45,\n    listItemHeight: 34,\n    //list, grouplist, dataview, etc.\n    inputHeight: 38,\n    buttonHeight: 38,\n    inputPadding: 3,\n    menuHeight: 34,\n    labelTopHeight: 22,\n    unitHeaderHeight: 20,\n    propertyItemHeight: 28,\n    timelineItemHeight: 70,\n    inputSpacing: 4,\n    borderWidth: 1,\n    sliderHandleWidth: 14,\n    sliderPadding: 10,\n    sliderBorder: 1,\n    vSliderPadding: 15,\n    vSliderHeight: 100,\n    switchHeight: 22,\n    switchWidth: 50,\n    //margin - distance between cells\n    layoutMargin: {\n      space: 10,\n      wide: 10,\n      clean: 0,\n      head: 4,\n      line: -1,\n      toolbar: 4,\n      form: 8,\n      accordion: 10\n    },\n    //padding - distance insede cell between cell border and cell content\n    layoutPadding: {\n      space: 10,\n      wide: 0,\n      clean: 0,\n      head: 0,\n      line: 0,\n      toolbar: 3,\n      form: 17,\n      accordion: 0\n    },\n    //space between tabs in tabbar\n    tabMargin: 4,\n    tabOffset: 0,\n    tabBottomOffset: 6,\n    tabTopOffset: 1,\n    customCheckbox: true,\n    customRadio: true,\n    popupPadding: 8,\n    dataPadding: 10,\n    calendarWeekHeaderHeight: 24,\n    padding: 0,\n    accordionType: \"accordion\",\n    optionHeight: 32,\n    timelineColor: \"#3498db\",\n    backColor: \"#ffffff\",\n    //colorboard\n    colorPadding: 4\n  };\n\n  var skin$3 = {\n    topLayout: \"space\",\n    //bar in accordion\n    barHeight: 34,\n    //!!!Set the same in skin.less!!!\n    tabbarHeight: 34,\n    sidebarTitleHeight: 34,\n    rowHeight: 24,\n    toolbarHeight: 34,\n    listItemHeight: 28,\n    //list, grouplist, dataview, etc.\n    unitHeaderHeight: 20,\n    propertyItemHeight: 24,\n    timelineItemHeight: 50,\n    inputHeight: 30,\n    buttonHeight: 30,\n    inputPadding: 3,\n    menuHeight: 28,\n    labelTopHeight: 16,\n    inputSpacing: 4,\n    borderWidth: 1,\n    sliderHandleWidth: 10,\n    sliderPadding: 10,\n    sliderBorder: 1,\n    vSliderPadding: 13,\n    vSliderHeight: 100,\n    switchHeight: 20,\n    switchWidth: 40,\n    //margin - distance between cells\n    layoutMargin: {\n      space: 5,\n      wide: 5,\n      clean: 0,\n      head: 4,\n      line: -1,\n      toolbar: 4,\n      form: 4,\n      accordion: 5\n    },\n    //padding - distance inside cell between cell border and cell content\n    layoutPadding: {\n      space: 5,\n      wide: 0,\n      clean: 0,\n      head: 0,\n      line: 0,\n      toolbar: 1,\n      form: 12,\n      accordion: 0\n    },\n    //space between tabs in tabbar\n    tabMargin: 3,\n    tabOffset: 0,\n    tabBottomOffset: 3,\n    tabTopOffset: 1,\n    customCheckbox: true,\n    customRadio: true,\n    popupPadding: 8,\n    dataPadding: 10,\n    calendarWeekHeaderHeight: 24,\n    padding: 0,\n    accordionType: \"accordion\",\n    optionHeight: 23,\n    timelineColor: \"#3498db\",\n    backColor: \"#ffffff\",\n    //colorboard\n    colorPadding: 4\n  };\n\n  var skin$4 = {\n    topLayout: \"space\",\n    //bar in accordion\n    barHeight: 46,\n    // !!!Set the same in skin.less!!!\n    tabbarHeight: 46,\n    rowHeight: 34,\n    toolbarHeight: 46,\n    sidebarTitleHeight: 45,\n    listItemHeight: 34,\n    // list, grouplist, dataview, etc.\n    unitHeaderHeight: 20,\n    inputHeight: 38,\n    buttonHeight: 38,\n    inputPadding: 3,\n    menuHeight: 34,\n    labelTopHeight: 22,\n    propertyItemHeight: 28,\n    timelineItemHeight: 70,\n    inputSpacing: 4,\n    borderWidth: 1,\n    sliderHandleWidth: 14,\n    sliderPadding: 10,\n    sliderBorder: 1,\n    vSliderPadding: 15,\n    vSliderHeight: 100,\n    switchHeight: 22,\n    switchWidth: 50,\n    //margin - distance between cells\n    layoutMargin: {\n      space: 10,\n      wide: 10,\n      clean: 0,\n      head: 4,\n      line: -1,\n      toolbar: 8,\n      form: 8,\n      accordion: 10\n    },\n    //padding - distance inside cell between cell border and cell content\n    layoutPadding: {\n      space: 10,\n      wide: 0,\n      clean: 0,\n      head: 0,\n      line: 0,\n      toolbar: 3,\n      form: 17,\n      accordion: 0\n    },\n    //space between tabs in tabbar\n    tabMargin: 4,\n    tabOffset: 0,\n    tabBottomOffset: 6,\n    tabTopOffset: 1,\n    customCheckbox: true,\n    customRadio: true,\n    popupPadding: 8,\n    dataPadding: 10,\n    calendarWeekHeaderHeight: 24,\n    padding: 0,\n    accordionType: \"accordion\",\n    optionHeight: 32,\n    timelineColor: \"#b300b3\",\n    backColor: \"#393939\",\n    //colorboard\n    colorPadding: 4\n  };\n\n  var $active, $name;\n  function set$1(name) {\n    assert(skin$5[name], \"Incorrect skin name: \" + name);\n    if ($name === name) return;\n    skin$5.$active = $active = skin$5[name];\n    skin$5.$name = $name = name;\n\n    if (ui) {\n      for (var key in ui) {\n        var view = ui[key];\n        if (view && view.prototype && view.prototype.$skin) view.prototype.$skin(view.prototype);\n      }\n    }\n  }\n  var skin$5 = {\n    set: set$1,\n    material: skin,\n    mini: skin$1,\n    flat: skin$2,\n    compact: skin$3,\n    contrast: skin$4\n  };\n  set$1(window.webix_skin || \"material\"); //necessary for skin builder\n\n  var Touch = {\n    config: {\n      longTouchDelay: 700,\n      scrollDelay: 150,\n      gravity: 500,\n      deltaStep: 10,\n      speed: \"0ms\",\n      finish: 1000,\n      elastic: true\n    },\n    limit: function (value) {\n      Touch._limited = value !== false;\n    },\n    disable: function () {\n      Touch._disabled = true;\n    },\n    enable: function () {\n      Touch._disabled = false;\n    },\n    $init: function () {\n      Touch.$init = function () {};\n\n      event$1(document.body, env.touch.down, Touch._touchstart, {\n        passive: false\n      });\n      event$1(document.body, env.touch.move, Touch._touchmove, {\n        passive: false\n      });\n      event$1(document, env.touch.up, Touch._touchend);\n      event$1(document.body, \"dragstart\", function (e) {\n        if (Touch._disabled || Touch._limited) return;\n        return preventEvent(e);\n      });\n\n      Touch._clear_artefacts();\n\n      Touch._scroll = [null, null];\n      Touch.$active = true;\n    },\n    _clear_artefacts: function () {\n      Touch._start_context = Touch._current_context = Touch._prev_context = Touch._scroll_context = null;\n      Touch._scroll_mode = Touch._scroll_node = Touch._scroll_stat = Touch._long_touched = null;\n      Touch._delta = {\n        _x_moment: 0,\n        _y_moment: 0,\n        _time: 0\n      };\n\n      if (Touch._css_button_remove) {\n        removeCss(Touch._css_button_remove, \"webix_touch\");\n        Touch._css_button_remove = null;\n      }\n\n      window.clearTimeout(Touch._long_touch_timer);\n      Touch._was_not_moved = true;\n      Touch._axis_x = true;\n      Touch._axis_y = true;\n      if (!Touch._active_transion) Touch._scroll_end();\n    },\n    _touchend: function (e) {\n      if (Touch._start_context) {\n        if (!Touch._scroll_mode) {\n          if (!Touch._long_touched) {\n            if (Touch._axis_y && !Touch._axis_x) {\n              Touch._translate_event(\"onSwipeX\");\n            } else if (Touch._axis_x && !Touch._axis_y) {\n              Touch._translate_event(\"onSwipeY\");\n            }\n          }\n        } else {\n          var temp = Touch._get_matrix(Touch._scroll_node);\n\n          var x = temp.e;\n          var y = temp.f;\n          var finish = Touch.config.finish;\n\n          var delta = Touch._get_delta(e);\n\n          var view = $$(Touch._scroll_node);\n          var gravity = view && view.$scroll ? view.$scroll.gravity : Touch.config.gravity;\n\n          if (delta._time) {\n            var nx = x + gravity * delta._x_moment / delta._time;\n            var ny = y + gravity * delta._y_moment / delta._time;\n            var cnx = Touch._scroll[0] ? Touch._correct_minmax(nx, false, false, Touch._scroll_stat.dx, Touch._scroll_stat.px) : x;\n            var cny = Touch._scroll[1] ? Touch._correct_minmax(ny, false, false, Touch._scroll_stat.dy, Touch._scroll_stat.py) : y;\n            var size = Math.max(Math.abs(cnx - x), Math.abs(cny - y));\n            if (size < 150) finish = finish * size / 150;\n            if (cnx != x || cny != y) finish = Math.round(finish * Math.max((cnx - x) / (nx - x), (cny - y) / (ny - y)));\n            var result = {\n              e: cnx,\n              f: cny\n            };\n            view = $$(Touch._scroll_node);\n            if (view && view.adjustScroll) view.adjustScroll(result);\n            finish = Math.min(Touch.config.finish, Math.max(100, finish));\n\n            if (x != result.e || y != result.f) {\n              Touch._set_matrix(Touch._scroll_node, result.e, result.f, finish + \"ms\");\n\n              if (Touch._scroll_master) Touch._scroll_master._sync_scroll(result.e, result.f, finish + \"ms\");\n            } else {\n              Touch._scroll_end();\n            }\n          } else Touch._scroll_end();\n        }\n\n        Touch._translate_event(\"onTouchEnd\");\n\n        Touch._clear_artefacts();\n      }\n    },\n    _touchmove: function (e) {\n      if (!Touch._scroll_context || !Touch._start_context) return;\n\n      var delta = Touch._get_delta(e);\n\n      Touch._translate_event(\"onTouchMove\");\n\n      if (Touch._scroll_mode) {\n        Touch._set_scroll_pos();\n      } else {\n        Touch._axis_x = Touch._axis_check(delta._x, \"x\", Touch._axis_x);\n        Touch._axis_y = Touch._axis_check(delta._y, \"y\", Touch._axis_y);\n\n        if (Touch._scroll_mode) {\n          var view = Touch._get_event_view(\"onBeforeScroll\", true);\n\n          if (view) {\n            var data = {};\n            view.callEvent(\"onBeforeScroll\", [data]);\n\n            if (data.update) {\n              Touch.config.speed = data.speed;\n              Touch.config.scale = data.scale;\n            }\n          }\n\n          Touch._init_scroller(); //apply scrolling\n\n        } else {\n          var state = Touch._is_scroll();\n\n          var _view = $$(state && state[0]); // support subviews\n\n\n          if (_view && _view.$hasYScroll && _view.$hasYScroll() && e.cancelable) {\n            return preventEvent(e);\n          }\n        }\n      }\n\n      if (Touch._scroll_mode && e.cancelable) return preventEvent(e);\n    },\n    _set_scroll_pos: function () {\n      if (!Touch._scroll_node) return;\n\n      var temp = Touch._get_matrix(Touch._scroll_node);\n\n      var prev = Touch._prev_context || Touch._start_context;\n      var view = $$(Touch._scroll_node);\n      var elastic = view && view.$scroll ? view.$scroll.elastic : Touch.config.elastic;\n      if (Touch._scroll[0]) temp.e = Touch._correct_minmax(temp.e - prev.x + Touch._current_context.x, elastic, temp.e, Touch._scroll_stat.dx, Touch._scroll_stat.px);\n      if (Touch._scroll[1]) temp.f = Touch._correct_minmax(temp.f - prev.y + Touch._current_context.y, elastic, temp.f, Touch._scroll_stat.dy, Touch._scroll_stat.py);\n\n      Touch._set_matrix(Touch._scroll_node, temp.e, temp.f, \"0ms\");\n\n      if (Touch._scroll_master) Touch._scroll_master._sync_scroll(temp.e, temp.f, \"0ms\");\n    },\n    scrollTo: function (node, x, y, speed) {\n      Touch._set_matrix(node, x, y, speed);\n    },\n    _set_matrix: function (node, xv, yv, speed) {\n      if (!speed) {\n        node.style[env.transform] = \"\";\n        return;\n      }\n\n      Touch._active_transion = true;\n\n      if (node) {\n        var trans = Touch.config.translate || env.translate;\n        node.style[env.transform] = trans + \"(\" + Math.round(xv) + \"px, \" + Math.round(yv) + \"px\" + (trans == \"translate3d\" ? \", 0\" : \"\") + \")\";\n        node.style[env.transitionDuration] = speed;\n      }\n    },\n    _get_matrix: function (node) {\n      var matrix = window.getComputedStyle(node)[env.transform];\n      var tmatrix;\n      if (matrix == \"none\") tmatrix = {\n        e: 0,\n        f: 0\n      };else {\n        if (window.WebKitCSSMatrix)\n          /* global WebKitCSSMatrix */\n          tmatrix = new WebKitCSSMatrix(matrix);else {\n          // matrix(1, 0, 0, 1, 0, 0) --> 1, 0, 0, 1, 0, 0\n          var _tmatrix = matrix.replace(/(matrix\\()(.*)(\\))/gi, \"$2\"); // 1, 0, 0, 1, 0, 0 --> 1,0,0,1,0,0\n\n\n          _tmatrix = _tmatrix.replace(/\\s/gi, \"\");\n          _tmatrix = _tmatrix.split(\",\");\n          tmatrix = {};\n          var tkey = [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\"];\n\n          for (var i = 0; i < tkey.length; i++) {\n            tmatrix[tkey[i]] = parseInt(_tmatrix[i], 10);\n          }\n        }\n      }\n      if (Touch._scroll_master) Touch._scroll_master._sync_pos(tmatrix);\n      return tmatrix;\n    },\n    _correct_minmax: function (value, allow, current, dx, px) {\n      if (value === current) return value;\n      if (px > dx) return 0;\n      var delta = Math.abs(value - current);\n      var sign = delta / (value - current);\n      if (value > 0) return allow ? current + sign * Math.sqrt(delta) : 0;\n      var max = dx - px;\n      if (max + value < 0) return allow ? current + sign * Math.sqrt(delta) : -max;\n      return value;\n    },\n    _init_scroll_node: function (node) {\n      if (!node.scroll_enabled) {\n        node.scroll_enabled = true;\n        node.parentNode.style.position = \"relative\";\n        node.style.cssText += \"transition:transform; user-select:none; transform-style:flat;\";\n        node.addEventListener(env.transitionEnd, Touch._scroll_end, false);\n      }\n    },\n    _init_scroller: function () {\n      if (Touch._scroll_mode.indexOf(\"x\") !== -1) Touch._scroll[0] = true;\n      if (Touch._scroll_mode.indexOf(\"y\") !== -1) Touch._scroll[1] = true;\n      if (Touch._scroll[0] || Touch._scroll[1]) Touch._scroll[2] = Touch._scroll_node;\n\n      Touch._init_scroll_node(Touch._scroll_node);\n    },\n    _axis_check: function (value, mode, old) {\n      if (value > Touch.config.deltaStep) {\n        if (Touch._was_not_moved) {\n          Touch._long_move(mode);\n\n          Touch._locate(mode);\n\n          if ((Touch._scroll_mode || \"\").indexOf(mode) == -1) Touch._scroll_mode = \"\";\n        }\n\n        return false;\n      }\n\n      return old;\n    },\n    _scroll_end: function () {\n      //sending event to the owner of the scroll only\n      var result, state, view;\n      view = $$(Touch._scroll_node || this);\n\n      if (view) {\n        if (Touch._scroll_node) result = Touch._get_matrix(Touch._scroll_node);else if (view.getScrollState) {\n          state = view.getScrollState();\n          result = {\n            e: -state.x,\n            f: -state.y\n          };\n        }\n        callEvent(\"onAfterScroll\", [result]);\n        if (view.callEvent) view.callEvent(\"onAfterScroll\", [result]);\n      }\n\n      if (!Touch._scroll_mode) Touch._scroll = [null, null];\n      Touch._active_transion = false;\n    },\n    _long_move: function () {\n      window.clearTimeout(Touch._long_touch_timer);\n      Touch._was_not_moved = false;\n    },\n    _stop_old_scroll: function (e) {\n      if (Touch._scroll[2]) {\n        Touch._stop_scroll(e, Touch._scroll[0] ? \"x\" : \"y\");\n      } else return true;\n    },\n    _touchstart: function (e) {\n      if (Touch._disabled) return;\n      Touch._long_touched = null;\n      Touch._scroll_context = Touch._start_context = env.touch.context(e);\n      if (Touch._limited && !Touch._is_scroll()) Touch._scroll_context = null;\n\n      Touch._translate_event(\"onTouchStart\");\n\n      if (Touch._stop_old_scroll(e)) Touch._long_touch_timer = window.setTimeout(Touch._long_touch, Touch.config.longTouchDelay);\n      var element = $$(e);\n\n      if (element && element.touchable && (!e.target.className || e.target.className.indexOf(\"webix_view\") !== 0)) {\n        Touch._css_button_remove = element.getNode(e);\n        addCss(Touch._css_button_remove, \"webix_touch\");\n      }\n    },\n    _long_touch: function () {\n      if (Touch._start_context) {\n        Touch._long_touched = true;\n\n        Touch._translate_event(\"onLongTouch\");\n\n        callEvent(\"onClick\", [Touch._start_context]);\n      }\n    },\n    _stop_scroll: function (e, stop_mode) {\n      Touch._locate(stop_mode);\n\n      if (Touch._scroll[2]) {\n        var view = Touch._get_event_view(\"onBeforeScroll\", true);\n\n        if (view) view.callEvent(\"onBeforeScroll\", [Touch._start_context, Touch._current_context]);\n\n        if (!Touch._scroll_node || Touch._scroll_node.parentNode !== Touch._scroll[2].parentNode) {\n          Touch._clear_artefacts();\n\n          Touch._scroll_end();\n\n          Touch._start_context = env.touch.context(e);\n        }\n      }\n\n      Touch._touchmove(e);\n    },\n    _get_delta: function (e) {\n      Touch._prev_context = Touch._current_context;\n      Touch._current_context = env.touch.context(e);\n      Touch._delta._x = Math.abs(Touch._start_context.x - Touch._current_context.x);\n      Touch._delta._y = Math.abs(Touch._start_context.y - Touch._current_context.y);\n\n      if (Touch._prev_context) {\n        if (Touch._current_context.time - Touch._prev_context.time < Touch.config.scrollDelay) {\n          Touch._delta._x_moment = Touch._delta._x_moment / 1.3 + Touch._current_context.x - Touch._prev_context.x;\n          Touch._delta._y_moment = Touch._delta._y_moment / 1.3 + Touch._current_context.y - Touch._prev_context.y;\n        } else {\n          Touch._delta._y_moment = Touch._delta._x_moment = 0;\n        }\n\n        Touch._delta._time = Touch._delta._time / 1.3 + (Touch._current_context.time - Touch._prev_context.time);\n      }\n\n      return Touch._delta;\n    },\n    _get_sizes: function (node) {\n      return {\n        dx: node.offsetWidth,\n        dy: node.offsetHeight,\n        px: node.parentNode.offsetWidth,\n        py: node.parentNode.offsetHeight\n      };\n    },\n    _is_scroll: function (locate_mode) {\n      var node = Touch._start_context.target;\n\n      while (node && node.tagName != \"BODY\") {\n        if (node.getAttribute) {\n          var mode = node.getAttribute(\"touch_scroll\");\n          if (mode && (!locate_mode || mode.indexOf(locate_mode) != -1)) return [node, mode];\n        }\n\n        node = node.parentNode;\n      }\n\n      return null;\n    },\n    _locate: function (locate_mode) {\n      var state = Touch._is_scroll(locate_mode);\n\n      if (state) {\n        Touch._scroll_mode = state[1];\n        Touch._scroll_node = state[0];\n        Touch._scroll_stat = Touch._get_sizes(state[0]);\n      }\n\n      return state;\n    },\n    _translate_event: function (name) {\n      callEvent(name, [Touch._start_context, Touch._current_context]);\n\n      var view = Touch._get_event_view(name);\n\n      if (view) view.callEvent(name, [Touch._start_context, Touch._current_context]);\n    },\n    _get_event_view: function (name, active) {\n      var view = $$(active ? Touch._scroll_node : Touch._start_context);\n      if (!view) return null;\n\n      while (view) {\n        if (view.hasEvent && view.hasEvent(name)) return view;\n        view = view.getParentView();\n      }\n\n      return null;\n    },\n    _get_context: function (e) {\n      if (!e.touches[0]) {\n        var temp = Touch._current_context;\n        temp.time = new Date();\n        return temp;\n      }\n\n      return {\n        target: e.target,\n        x: e.touches[0].pageX,\n        y: e.touches[0].pageY,\n        time: new Date()\n      };\n    },\n    _get_context_m: function (e) {\n      return {\n        target: e.target,\n        x: e.pageX,\n        y: e.pageY,\n        time: new Date()\n      };\n    }\n  };\n\n  function touchInit() {\n    if (env.touch) {\n      Touch.$init(); //not full screen mode\n\n      if (document.body.className.indexOf(\"webix_full_screen\") === -1) Touch.limit(true);\n      if (env.isSafari && CSS.supports(\"-webkit-overflow-scrolling: touch\")) addStyle(\".webix_view{ -webkit-overflow-scrolling:touch; } .webix_scroll_cont{ transform:translateZ(0px); }\");\n    }\n  }\n\n  ready(touchInit);\n  env.mouse = {\n    down: \"mousedown\",\n    move: \"mousemove\",\n    up: \"mouseup\",\n    context: Touch._get_context_m\n  };\n  env.touch = env.touch && {\n    down: \"touchstart\",\n    move: \"touchmove\",\n    up: \"touchend\",\n    context: Touch._get_context\n  };\n\n  /*\n  \tBehavior:DND - low-level dnd handling\n  \t@export\n  \t\tgetContext\n  \t\taddDrop\n  \t\taddDrag\n  \t\t\n  \tDND master can define next handlers\n  \t\tonCreateDrag\n  \t\tonDragIng\n  \t\tonDragOut\n  \t\tonDrag\n  \t\tonDrop\n  \tall are optional\n  */\n\n  var DragControl = {\n    //has of known dnd masters\n    _drag_masters: _to_array([\"dummy\"]),\n\n    /*\n    \tregister drop area\n    \t@param node \t\t\thtml node or ID\n    \t@param ctrl \t\t\toptions dnd master\n    \t@param master_mode \t\ttrue if you have complex drag-area rules\n    */\n    addDrop: function (node, ctrl, master_mode) {\n      node = toNode(node);\n      node.webix_drop = this._getCtrl(ctrl);\n      if (master_mode) node.webix_master = true;\n    },\n    //return index of master in collection\n    //it done in such way to prevent dnd master duplication\n    //probably useless, used only by addDrop and addDrag methods\n    _getCtrl: function (ctrl) {\n      ctrl = ctrl || DragControl;\n\n      var index$$1 = this._drag_masters.find(ctrl);\n\n      if (index$$1 < 0) {\n        index$$1 = this._drag_masters.length;\n\n        this._drag_masters.push(ctrl);\n\n        if (ctrl.attachEvent) ctrl.attachEvent(\"onDestruct\", function () {\n          return DragControl.unlink(ctrl);\n        });\n      }\n\n      return index$$1;\n    },\n    unlink: function (ctrl) {\n      var index$$1 = this._drag_masters.find(ctrl);\n\n      if (index$$1 > -1) {\n        // if active view was destroyed, stop dnd\n        if (DragControl._active && DragControl._active.webix_drag == index$$1) DragControl._stopDrag(); // if last target was destroyed, reset it and continue dnd\n\n        if (DragControl._last && DragControl._last.webix_drop == index$$1) DragControl._last = null;\n        this._drag_masters[index$$1] = null;\n      }\n    },\n    _createTouchDrag: function (e, pointer) {\n      var dragCtrl = DragControl;\n\n      var master = this._getActiveDragMaster(); // for data items only\n\n\n      if (master && master.$longTouchLimit) {\n        if (!dragCtrl._html && !dragCtrl.createDrag(e, pointer)) return;\n        e.longtouch_drag = true;\n        var pos$$1 = pos(e);\n        var customPos = dragCtrl.$dragPos(pos$$1, e);\n        var ctx = dragCtrl._drag_context;\n        dragCtrl._html.style.top = pos$$1.y + dragCtrl.top + (customPos || !ctx.y_offset ? 0 : ctx.y_offset) + \"px\";\n        dragCtrl._html.style.left = pos$$1.x + dragCtrl.left + (customPos || !ctx.x_offset ? 0 : ctx.x_offset) + \"px\";\n      }\n    },\n\n    /*\n    \tregister drag area\n    \t@param node \thtml node or ID\n    \t@param ctrl \toptions dnd master\n    */\n    addDrag: function (node, ctrl) {\n      var _this = this;\n\n      node = toNode(node);\n      node.webix_drag = this._getCtrl(ctrl);\n\n      _event(node, \"dragstart\", preventEvent);\n\n      _event(node, env.mouse.down, function (e) {\n        return _this._preStart(e, node, \"mouse\");\n      });\n\n      if (env.touch) _event(node, env.touch.down, function (e) {\n        return _this._preStart(e, node, \"touch\");\n      });\n    },\n    //logic of drag - start, we are not creating drag immediately, instead of that we hears mouse moving\n    _preStart: function (e, node, pointer) {\n      if (DragControl._active) {\n        //if we have nested drag areas, use the top one and ignore the inner one\n        if (DragControl._saved_event == e) return;\n\n        DragControl._preStartFalse(e);\n\n        DragControl.destroyDrag(e);\n      }\n\n      DragControl._active = node;\n      var evobj = env[pointer].context(e);\n      DragControl._start_pos = evobj;\n      DragControl._saved_event = e;\n      var passive = pointer === \"touch\" ? {\n        passive: false\n      } : null;\n      DragControl._webix_drag_mm = event$1(document.body, env[pointer].move, function (e) {\n        return DragControl._startDrag(e, pointer);\n      }, passive);\n      DragControl._webix_drag_mu = event$1(document, env[pointer].up, DragControl._preStartFalse); //need to run here, or will not work in IE\n\n      addCss(document.body, \"webix_noselect\", 1);\n    },\n    //if mouse was released before moving - this is not a dnd, remove event handlers\n    _preStartFalse: function (e) {\n      DragControl._clean_dom_after_drag();\n\n      DragControl._touch_animation = !e.cancelable;\n    },\n    //mouse was moved without button released - dnd started, update event handlers\n    _startDrag: function (e, pointer) {\n      // check touch scroll animation\n      var touch = pointer === \"touch\";\n      DragControl._touch_animation = !e.cancelable;\n\n      if (touch && DragControl._touch_animation) {\n        DragControl._clean_dom_after_drag();\n\n        return DragControl.destroyDrag(e);\n      } //prevent unwanted dnd\n\n\n      var pos$$1 = env[pointer].context(e);\n\n      var master = DragControl._getActiveDragMaster(); // only long-touched elements can be dragged\n\n\n      var longTouchLimit = touch && master && master.$longTouchLimit && !Touch._long_touched;\n      if (longTouchLimit || Math.abs(pos$$1.x - DragControl._start_pos.x) < 5 && Math.abs(pos$$1.y - DragControl._start_pos.y) < 5) return;\n      if (!DragControl._html && !DragControl.createDrag(DragControl._saved_event, pointer)) return DragControl._clean_dom_after_drag();\n\n      DragControl._clean_dom_after_drag(true);\n\n      DragControl.sendSignal(\"start\"); //useless for now\n\n      if (touch) {\n        // important: for touch events use e.target as EventTarget\n        DragControl._webix_drag_mm = event$1(e.target, env[pointer].move, function (e) {\n          return DragControl._moveDrag(e, pointer);\n        }, {\n          passive: false\n        });\n        DragControl._webix_drag_mu = event$1(e.target, env[pointer].up, DragControl._stopDrag);\n      } else {\n        DragControl._webix_drag_mm = event$1(document.body, env[pointer].move, function (e) {\n          return DragControl._moveDrag(e, pointer);\n        });\n        DragControl._webix_drag_mu = event$1(document, env[pointer].up, DragControl._stopDrag);\n      }\n\n      DragControl._moveDrag(e, pointer, true);\n    },\n    //mouse was released while dnd is active - process target\n    _stopDrag: function (e) {\n      DragControl._clean_dom_after_drag();\n\n      DragControl._saved_event = null;\n\n      if (DragControl._last && e) {\n        //if some drop target was confirmed\n        DragControl.$drop(DragControl._active, DragControl._last, e);\n        DragControl.$dragOut(DragControl._active, DragControl._last, null, e);\n      }\n\n      DragControl.destroyDrag(e);\n      DragControl.sendSignal(\"stop\"); //useless for now\n    },\n    _clean_dom_after_drag: function (still_drag) {\n      this._webix_drag_mm = eventRemove(this._webix_drag_mm);\n      this._webix_drag_mu = eventRemove(this._webix_drag_mu);\n      if (!still_drag) removeCss(document.body, \"webix_noselect\");\n    },\n    //dnd is active and mouse position was changed\n    _moveDrag: function (e, pointer, first) {\n      var dragCtrl = DragControl;\n      var pos$$1 = pos(e); //give possibility to customize drag position\n\n      var customPos = dragCtrl.$dragPos(pos$$1, e); //adjust drag marker position\n\n      var ctx = dragCtrl._drag_context;\n      dragCtrl._html.style.top = pos$$1.y + dragCtrl.top + (customPos || !ctx.y_offset ? 0 : ctx.y_offset) + \"px\";\n      dragCtrl._html.style.left = pos$$1.x + dragCtrl.left + (customPos || !ctx.x_offset ? 0 : ctx.x_offset) + \"px\"; // check landing at least once\n\n      if (first) dragCtrl._skip = false;\n      if (dragCtrl._skip) dragCtrl._skip = false;else {\n        var evobj = e;\n\n        if (pointer === \"touch\") {\n          var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft;\n          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;\n          var context = env[pointer].context(e);\n          var target = document.elementFromPoint(context.x - scrollLeft, context.y - scrollTop);\n          evobj = new Proxy(e, {\n            get: function (obj, prop) {\n              if (prop === \"target\") {\n                return target;\n              }\n\n              var res = obj[prop];\n\n              if (typeof res === \"function\") {\n                return res.bind(e);\n              }\n\n              return res;\n            }\n          });\n        }\n\n        dragCtrl._checkLand(evobj.target, evobj);\n      }\n      return preventEvent(e);\n    },\n    //check if item under mouse can be used as drop landing\n    _checkLand: function (node, e) {\n      while (node && node.tagName != \"BODY\") {\n        if (node.webix_drop) {\n          //if drop area registered\n          if (this._last && (this._last != node || node.webix_master)) //if this area with complex dnd master\n            this.$dragOut(this._active, this._last, node, e); //inform master about possible mouse-out\n\n          if (!this._last || this._last != node || node.webix_master) {\n            //if this is new are or area with complex dnd master\n            this._last = null; //inform master about possible mouse-in\n\n            this._landing = this.$dragIn(DragControl._active, node, e);\n            if (this._landing) //landing was rejected\n              this._last = node;\n            return;\n          }\n\n          return;\n        }\n\n        node = node.parentNode;\n      }\n\n      if (this._last) //mouse was moved out of previous landing, and without finding new one \n        this._last = this._landing = this.$dragOut(this._active, this._last, null, e);\n    },\n    //mostly useless for now, can be used to add cross-frame dnd\n    sendSignal: function (signal) {\n      DragControl.active = signal == \"start\";\n      callEvent(\"onDragMode\", [signal]);\n    },\n    //return master for html area\n    getMaster: function (t) {\n      return this._drag_masters[t.webix_drag || t.webix_drop];\n    },\n    //return dhd-context object\n    getContext: function () {\n      return this._drag_context;\n    },\n    getNode: function () {\n      return this._html;\n    },\n    //called when dnd is initiated, must create drag representation\n    createDrag: function (e, pointer) {\n      var a = DragControl._active;\n      DragControl._drag_context = {};\n      var master = this._drag_masters[a.webix_drag];\n      var drag_container; //if custom method is defined - use it\n\n      if (master.$dragCreate) {\n        drag_container = master.$dragCreate(a, e, pointer);\n        if (!drag_container) return false;\n\n        this._setDragOffset(e);\n\n        drag_container.style.position = \"absolute\";\n      } else {\n        //overvise use default one\n        var text = DragControl.$drag(a, e, pointer);\n\n        DragControl._setDragOffset(e);\n\n        if (!text) return false;\n        drag_container = document.createElement(\"DIV\");\n        drag_container.innerHTML = text;\n        drag_container.className = \"webix_drag_zone\";\n        document.body.appendChild(drag_container);\n        var context = DragControl._drag_context;\n\n        if (context.html) {\n          context.x_offset = -Math.round(drag_container.offsetWidth * 0.5);\n          context.y_offset = -Math.round(drag_container.offsetHeight * 0.75);\n        }\n      }\n      /*\n      \tdragged item must have topmost z-index\n      \tin some cases item already have z-index\n      \tso we will preserve it if possible\n      */\n\n\n      drag_container.style.zIndex = Math.max(drag_container.style.zIndex, zIndex());\n      DragControl._skipDropH = event$1(drag_container, env[pointer].move, DragControl._skip_mark);\n      if (!DragControl._drag_context.from) DragControl._drag_context = {\n        source: a,\n        from: a\n      };\n      DragControl._html = drag_container;\n      return true;\n    },\n    //helper, prevents unwanted mouse-out events\n    _skip_mark: function () {\n      DragControl._skip = true;\n    },\n    //after dnd end, remove all traces and used html elements\n    destroyDrag: function (e) {\n      var a = DragControl._active;\n      var master = this._drag_masters[a.webix_drag];\n      if (DragControl._skipDropH) DragControl._skipDropH = eventRemove(DragControl._skipDropH);\n\n      if (master && master.$dragDestroy) {\n        if (DragControl._html) master.$dragDestroy(a, DragControl._html, e);\n      } else remove(DragControl._html);\n\n      if (master && master._auto_scroll_delay) master._auto_scroll_delay = window.clearTimeout(master._auto_scroll_delay);\n      if (DragControl._dropHTML) remove(DragControl._dropHTML);\n      DragControl._landing = DragControl._active = DragControl._last = DragControl._html = DragControl._dropHTML = null;\n      DragControl._drag_context = null;\n    },\n    _getActiveDragMaster: function () {\n      return DragControl._drag_masters[DragControl._active.webix_drag];\n    },\n    top: 0,\n    //relative position of drag marker to mouse cursor\n    left: 0,\n    _setDragOffset: function (e) {\n      var pos$$1 = DragControl._start_pos;\n      var ctx = DragControl._drag_context;\n      if (typeof ctx.x_offset != \"undefined\" && typeof ctx.y_offset != \"undefined\") return null;\n      ctx.x_offset = ctx.y_offset = 0;\n\n      var m = DragControl._getActiveDragMaster();\n\n      if (m._getDragItemPos && m !== this) {\n        var itemPos = m._getDragItemPos(pos$$1, e);\n\n        if (itemPos) {\n          ctx.x_offset = itemPos.x - pos$$1.x;\n          ctx.y_offset = itemPos.y - pos$$1.y;\n        }\n      }\n    },\n    $dragPos: function (pos$$1, e) {\n      var m = this._drag_masters[DragControl._active.webix_drag];\n\n      if (m.$dragPos && m != this) {\n        m.$dragPos(pos$$1, e, DragControl._html);\n        return true;\n      }\n    },\n    //called when mouse was moved in drop area\n    $dragIn: function (s, t, e) {\n      var m = this._drag_masters[t.webix_drop];\n      if (m.$dragIn && m != this) return m.$dragIn(s, t, e);\n      t.className = t.className + \" webix_drop_zone\";\n      return t;\n    },\n    //called when mouse was moved out drop area\n    $dragOut: function (s, t, n, e) {\n      var m = this._drag_masters[t.webix_drop];\n      if (m.$dragOut && m != this) return m.$dragOut(s, t, n, e);\n      t.className = t.className.replace(\"webix_drop_zone\", \"\");\n      return null;\n    },\n    //called when mouse was released over drop area\n    $drop: function (s, t, e) {\n      var m = this._drag_masters[t.webix_drop];\n      DragControl._drag_context.from = DragControl.getMaster(s);\n      if (m.$drop && m != this) return m.$drop(s, t, e);\n      t.appendChild(s);\n    },\n    //called when dnd just started\n    $drag: function (s, e, p) {\n      var m = this._drag_masters[s.webix_drag];\n      if (m.$drag && m != this) return m.$drag(s, e, p);\n      return \"<div style='\" + s.style.cssText + \"'>\" + s.innerHTML + \"</div>\";\n    }\n  }; //global touch-drag handler\n\n  attachEvent(\"onLongTouch\", function (ev) {\n    if (DragControl._active && !DragControl._touch_animation) DragControl._createTouchDrag(ev, \"touch\");\n  });\n\n  var Movable = {\n    move_setter: function (value) {\n      if (value) {\n        exports.extend(this, Move, true);\n        DragControl.addDrag(this._headobj ? this._headobj : this.$view, this);\n        delete this.move_setter; //prevent double initialization\n      }\n\n      return value;\n    }\n  };\n  var Move = {\n    $dragCreate: function (object, e) {\n      if (this.config.move) {\n        var elOffset = offset(object);\n        var elPos = pos(e);\n        DragControl.top = elOffset.y - elPos.y;\n        DragControl.left = elOffset.x - elPos.x;\n        return toNode(this._viewobj);\n      }\n    },\n    $dragDestroy: function (node, drag) {\n      var view = this;\n\n      if (view._settings) {\n        view._settings.top = parseInt(drag.style.top, 10);\n        view._settings.left = parseInt(drag.style.left, 10);\n      }\n\n      DragControl.top = DragControl.left = 0;\n      this.callEvent(\"onViewMoveEnd\", []);\n      return;\n    },\n    $dragPos: function (pos$$1, e) {\n      this.callEvent(\"onViewMove\", [pos$$1, e]);\n    }\n  };\n\n  var Modality = {\n    _modal_set: function (value) {\n      if (value) {\n        if (!this._modal_cover) {\n          this._modal_cover = create(\"div\", {\n            \"class\": \"webix_modal\"\n          });\n          /*\twith below code we will have the same zIndex for modal layer as for the previous \n          \tabs positioned element, but because of attaching order modal layer will be on top anyway\n          */\n\n          var index$$1 = this._modality = zIndex(this._settings.zIndex);\n\n          state._modality.push(index$$1);\n\n          this._modal_cover.style.zIndex = index$$1 - 1;\n          this._viewobj.style.zIndex = index$$1;\n          document.body.appendChild(this._modal_cover);\n          document.body.style.overflow = \"hidden\";\n\n          _event(this._modal_cover, \"click\", bind(this._ignore_clicks, this));\n        }\n      } else {\n        if (this._modal_cover) {\n          remove(this._modal_cover);\n          this._modal_cover = null;\n          var modality = state._modality;\n          modality.splice(modality.indexOf(this._modality), 1);\n          if (!modality.length) document.body.style.overflow = \"\";\n        }\n      }\n\n      return value;\n    }\n  };\n\n  var ResizeArea = {\n    resize_setter: function (value) {\n      if (value && !this._resizeHandlers) this._renderResizeHandler();\n      return value;\n    },\n    _renderResizeHandler: function () {\n      var _this = this;\n\n      if (!this._rwHandle) {\n        var rp = this._viewobj;\n\n        if (rp.firstChild) {\n          rp = rp.firstChild;\n          rp.style.position = \"relative\";\n        }\n\n        this._rwHandle = create(\"DIV\", {\n          \"class\": \"webix_resize_handle\",\n\n          /*@attr*/\n          \"webix_disable_drag\": \"true\"\n        });\n        rp.appendChild(this._rwHandle);\n\n        _event(this._rwHandle, env.mouse.down, function (e) {\n          return _this._wrDown(e, \"mouse\");\n        });\n\n        if (env.touch) _event(this._rwHandle, env.touch.down, function (e) {\n          return _this._wrDown(e, \"touch\");\n        });\n      }\n    },\n    _showResizeFrame: function (width, height) {\n      if (!this._resizeFrame) {\n        this._resizeFrame = create(\"div\", {\n          \"class\": \"webix_resize_frame\"\n        }, \"\");\n        document.body.appendChild(this._resizeFrame);\n        var elPos = offset(this._viewobj);\n        this._resizeFrame.style.left = elPos.x + \"px\";\n        this._resizeFrame.style.top = elPos.y + \"px\";\n        this._resizeFrame.style.zIndex = zIndex();\n      }\n\n      this._resizeFrame.style.width = width + \"px\";\n      this._resizeFrame.style.height = height + \"px\";\n    },\n    _wrDown: function (e, pointer) {\n      var _this2 = this;\n\n      if (this.config.resize) {\n        addCss(document.body, \"webix_noselect webix_resize_cursor\");\n        this._wsReady = offset(this._viewobj);\n        var passive = pointer === \"touch\" ? {\n          passive: false\n        } : null;\n        this._resizeHandlersMove = event$1(document.body, env[pointer].move, function (e) {\n          return _this2._wrMove(e, pointer);\n        }, passive);\n        this._resizeHandlersUp = event$1(document, env[pointer].up, function () {\n          return _this2._wrUp();\n        });\n      }\n    },\n    _wrMove: function (e, pointer) {\n      if (this._wsReady !== false) {\n        var elPos = pos(e);\n        var progress = {\n          x: elPos.x - this._wsReady.x,\n          y: elPos.y - this._wsReady.y\n        };\n        if (this.$resizeMove) this.$resizeMove(progress);else {\n          var config = this.config;\n          var minWidth = config.minWidth || 100;\n          var minHeight = config.minHeight || 100;\n          if (progress.x < minWidth) progress.x = minWidth;else if (progress.x > config.maxWidth) progress.x = config.maxWidth;\n          if (progress.y < minHeight) progress.y = minHeight;else if (progress.y > config.maxHeight) progress.y = config.maxHeight;\n        }\n        this._wsProgress = progress;\n\n        this._showResizeFrame(progress.x, progress.y);\n\n        if (pointer === \"touch\") preventEvent(e);\n      }\n    },\n    _wrUp: function () {\n      // remove resize frame and css styles\n      if (this._resizeFrame) this._resizeFrame = remove(this._resizeFrame);\n      removeCss(document.body, \"webix_resize_cursor\");\n      removeCss(document.body, \"webix_noselect\");\n      eventRemove(this._resizeHandlersMove);\n      eventRemove(this._resizeHandlersUp); // set Window sizes\n\n      if (this._wsProgress) {\n        if (this.$resizeEnd) this.$resizeEnd(this._wsProgress);else {\n          this.config.width = this._wsProgress.x;\n          this.config.height = this._wsProgress.y;\n          this.resize();\n        }\n      }\n\n      this._wsReady = this._wsProgress = false;\n      this.callEvent(\"onViewResize\", []);\n    }\n  };\n\n  var api$3 = {\n    name: \"window\",\n    $init: function (config) {\n      this._viewobj.innerHTML = \"<div class='webix_win_content'><div class='webix_win_head'></div><div class='webix_win_body'></div></div>\";\n      this._contentobj = this._viewobj.firstChild;\n      this._headobj = this._contentobj.childNodes[0];\n      this._dataobj = this._bodyobj = this._contentobj.childNodes[1];\n      this._viewobj.className += \" webix_window\";\n\n      this._viewobj.setAttribute(\"role\", \"dialog\");\n\n      this._viewobj.setAttribute(\"tabindex\", \"0\");\n\n      this._head_cell = this._body_cell = null;\n      this._settings._inner = {\n        top: false,\n        left: false,\n        right: false,\n        bottom: false\n      }; //set border flags\n\n      if (!config.id) config.id = uid();\n\n      _event(this._contentobj, \"click\", this._ignore_clicks, {\n        bind: this\n      });\n\n      _event(this._contentobj, \"click\", function () {\n        // brings a window to the front of other windows\n        if (!this._settings.zIndex && this._settings.toFront) {\n          this._viewobj.style.zIndex = zIndex();\n        }\n      }, {\n        bind: this,\n        capture: true\n      }); // hidden_setter handling\n\n\n      if (config.modal) this._modal = true; // head_setter handling\n\n      if (config.headHeight) this._settings.headHeight = config.headHeight;\n      if (config.close) this._settings.close = config.close;\n      this.attachEvent(\"onViewMoveEnd\", function () {\n        if (this._settings.position) delete this._settings.position;\n      });\n    },\n    _ignore_clicks: function (e) {\n      var popups = state._popups;\n      var index$$1 = popups.find(this);\n      if (index$$1 == -1) index$$1 = popups.length - 1;\n      e.click_view = index$$1;\n    },\n    getChildViews: function () {\n      if (this._head_cell) return [this._head_cell, this._body_cell];else return [this._body_cell];\n    },\n    zIndex_setter: function (value) {\n      this._viewobj.style.zIndex = value;\n      return value;\n    },\n    _remove: function () {\n      this.body_setter();\n    },\n    _replace: function (new_view, old_view) {\n      old_view = old_view || this._body_cell;\n      var isBody = old_view == this._body_cell;\n      old_view.destructor();\n      if (isBody) this._body_cell = new_view;else this._head_cell = new_view;\n      (isBody ? this._bodyobj : this._headobj).appendChild(new_view._viewobj);\n      var cell = new_view._viewobj.style;\n      var settings = {\n        top: true,\n        left: true,\n        right: true,\n        bottom: true\n      };\n      var size = \"0px\";\n\n      if (new_view.config.borderless === false) {\n        settings = clone(this._settings._inner);\n        size = \"1px\";\n      }\n\n      new_view._settings._inner = settings;\n      cell.borderTopWidth = cell.borderBottomWidth = cell.borderLeftWidth = cell.borderRightWidth = size;\n      this.resize(true);\n    },\n    show: function (node, mode, point) {\n      if (node === true) {\n        //recursive call from some child item\n        if (!this._settings.hidden) return;\n        node = null;\n      }\n\n      if (!this.callEvent(\"onBeforeShow\", arguments)) return false;\n      this._settings.hidden = false;\n      this._viewobj.style.zIndex = zIndex(this._settings.zIndex);\n\n      if (this._settings.modal || this._modal) {\n        this._modal_set(true);\n\n        this._modal = null; // hidden_setter handling\n      }\n\n      var elPos, dx, dy;\n      mode = mode || {};\n      if (!mode.pos) mode.pos = this._settings.relative; //get position of source html node\n      //we need to show popup which pointing to that node\n\n      if (node) {\n        //if event was provided - get node info from it\n        if (_typeof(node) == \"object\" && !node.tagName) {\n          /*below logic is far from ideal*/\n          if (node.target) {\n            elPos = pos(node);\n            dx = 20;\n            dy = 5;\n          } else elPos = node;\n        } else {\n          node = toNode(node);\n          assert(node, \"Not existing target for window:show\");\n          elPos = offset(node);\n        } //size of body, we need to fit popup inside\n\n\n        var x = Math.max(window.innerWidth || 0, document.body.offsetWidth);\n        var y = Math.max(window.innerHeight || 0, document.body.offsetHeight); //size of node, near which popup will be rendered\n\n        dx = dx || node.offsetWidth || 0;\n        dy = dy || node.offsetHeight || 0; //size of popup element\n\n        var size = this._last_size;\n        var fin_x = elPos.x;\n        var fin_y = elPos.y;\n        var point_y = 0;\n        var point_x = 0;\n        var scrollLeft = 0,\n            scrollTop = 0;\n        var fit = this._settings.autofit;\n\n        if (fit) {\n          var nochange = fit === \"node\";\n          var delta_x = 6,\n              delta_y = 6,\n              delta_point = 6;\n          if (!this._settings.point) delta_x = delta_y = delta_point = 0; //default pointer position - top \n\n          point = \"top\";\n          fin_y = 0;\n          fin_x = 0;\n          scrollLeft = window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft; //if we want to place menu at righ, but there is no place move it to left instead\n\n          if (x - elPos.x - dx < size[0] && mode.pos == \"right\" && !nochange) mode.pos = \"left\";\n\n          if (mode.pos == \"right\") {\n            fin_x = elPos.x + delta_x + dx;\n            delta_y = -dy;\n            point = \"left\";\n            point_y = Math.round(elPos.y + dy / 2);\n            point_x = fin_x - delta_point;\n          } else if (mode.pos == \"left\") {\n            fin_x = elPos.x - delta_x - size[0] - 1;\n            delta_y = -dy;\n            point = \"right\";\n            point_y = Math.round(elPos.y + dy / 2);\n            point_x = fin_x + size[0] + 1;\n          } else {\n            //left border of screen\n            if (elPos.x < scrollLeft) {\n              fin_x = scrollLeft; //popup exceed the right border of screen\n            } else if (x + scrollLeft - elPos.x > size[0]) {\n              fin_x = elPos.x; //aligned\n            } else {\n              fin_x = x + scrollLeft - delta_x - size[0]; //not aligned\n            }\n\n            point_x = Math.round(elPos.x + dx / 2); //when we have a small popup, point need to be rendered at center of popup\n\n            point_x = Math.min(point_x, fin_x + size[0] - delta_point * 3);\n          } //if height is not fixed - use default position\n\n\n          scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;\n\n          if ((!size[1] || y + scrollTop - dy - elPos.y - delta_y > size[1] || nochange) && mode.pos != \"top\") {\n            //bottom\t\n            fin_y = dy + elPos.y + delta_y - (!this._settings.point ? 0 : 4);\n\n            if (!point_y) {\n              point = \"top\";\n              point_y = fin_y - delta_point;\n            }\n          } else {\n            //top\n            fin_y = elPos.y - delta_y - size[1];\n\n            if (fin_y < 0) {\n              fin_y = 0; //left|right point can be used, but there is no place for top point\n\n              if (point == \"top\") point = false;\n            } else if (!point_y) {\n              point = \"bottom\";\n              fin_y--;\n              point_y = fin_y + size[1] + 1;\n            }\n          }\n        }\n\n        var deltax = mode.x || 0;\n        var deltay = mode.y || 0;\n\n        var fixed = this._checkFixedPosition();\n\n        this.$view.style.position = fixed ? \"fixed\" : \"absolute\";\n\n        if (fixed) {\n          fin_y = fin_y - scrollTop;\n          point_y = point_y - scrollTop;\n        }\n\n        this.setPosition(fin_x + deltax, fin_y + deltay);\n\n        if (this._set_point) {\n          if (point && this._settings.point) this._set_point(point, point_x + deltax, point_y + deltay, fixed);else this._hide_point();\n        }\n      } else this._setPosition(this._settings.left, this._settings.top);\n\n      this._viewobj.style.display = \"block\";\n      this._hide_timer = 1;\n      delay(function () {\n        this._hide_timer = 0;\n      }, this, [], env.fastClick ? 100 : 400);\n\n      this._render_hidden_views();\n\n      if (this.config.autofocus) {\n        this._prev_focus = UIManager.getFocus();\n        UIManager.setFocus(this);\n      }\n\n      if (-1 == state._popups.find(this)) state._popups.push(this);\n      this.callEvent(\"onShow\", []);\n    },\n    _hide: function (e) {\n      //do not hide modal windows\n      if (this._settings.hidden || this._settings.modal || !this._settings.escHide || this._hide_timer) return; //do not hide submenu when clicking on menu folder\n\n      if (e && e.showpopup && (e.showpopup == this._settings.id || this.getTopMenu && this.getTopMenu()._settings.id == e.showpopup)) return; //do not hide popup, when starting dnd with a long touch\n\n      if (e && env.touch && e.longtouch_drag) return; //do not hide popup, when we have modal layer above the popup\n\n      if (state._modality.length && this._viewobj.style.zIndex <= Math.max.apply(Math, _toConsumableArray(state._modality))) return; //ignore inside clicks and clicks in child-popups\n\n      if (e) {\n        var index$$1 = e.click_view;\n        if (!index$$1 && index$$1 !== 0) index$$1 = -1;\n\n        var myindex = state._popups.find(this);\n\n        if (myindex <= index$$1) return;\n      }\n\n      this._hide_single();\n    },\n    hidden_setter: function (value) {\n      if (value) this.hide();else this.show();\n      return !!value;\n    },\n    hide: function () {\n      var index$$1 = this._hide_single();\n\n      this._hide_sub_popups(index$$1);\n    },\n    _hide_single: function () {\n      if (this.$destructed || this._settings.hidden) return;\n      if (this._settings.modal) this._modal_set(false);\n\n      this._hiding_process();\n\n      if (this._settings.autofocus) {\n        var el = document.activeElement; //as result of hotkey, we can have a activeElement set to document.body\n\n        if (el && this._viewobj && (this._viewobj.contains(el) || el === document.body)) {\n          UIManager.setFocus(this._prev_focus);\n          this._prev_focus = null;\n        }\n      } // clear state\n\n\n      var index$$1 = state._popups.find(this);\n\n      if (index$$1 > -1) state._popups.removeAt(index$$1);\n      return index$$1;\n    },\n    _hiding_process: function () {\n      if (this._settings.position == \"top\") {\n        animate(this._viewobj, {\n          type: \"slide\",\n          x: 0,\n          y: -(this._content_height + 20),\n          duration: 300,\n          callback: this._hide_callback,\n          master: this\n        });\n      } else this._hide_callback();\n    },\n    //hide all child-popups\n    _hide_sub_popups: function (index$$1) {\n      if (index$$1 > -1) {\n        var order = state._popups;\n\n        for (var i = order.length - 1; i >= index$$1; i--) {\n          if (order[i]._hide_point) //hide only popups, skip windows\n            order[i]._hide_single();\n        }\n      }\n    },\n    destructor: function () {\n      this.hide();\n      Destruction.destructor.apply(this, []);\n    },\n    _hide_callback: function () {\n      if (!this.$destructed) {\n        this._viewobj.style.display = \"none\";\n        this._settings.hidden = true;\n        this.callEvent(\"onHide\", []);\n      }\n    },\n    close: function () {\n      this.destructor();\n    },\n    _inner_body_set: function (value) {\n      if (typeof value.borderless == \"undefined\") value.borderless = true;\n    },\n    body_setter: function (value) {\n      if (_typeof(value) != \"object\") value = {\n        template: value\n      };\n\n      this._inner_body_set(value);\n\n      state._parent_cell = this;\n      this._body_cell = ui._view(value);\n\n      this._bodyobj.appendChild(this._body_cell._viewobj);\n\n      return value;\n    },\n    head_setter: function (value) {\n      var _this = this;\n\n      if (value === false) return value;\n      var height = this._settings.headHeight;\n      var text = typeof value == \"string\";\n      var config = {\n        height: height,\n        padding: 0,\n        css: \"webix_win_title\",\n        type: \"header\",\n        borderless: true\n      };\n\n      if (text) {\n        this._viewobj.setAttribute(\"aria-label\", value);\n\n        value = {\n          template: value\n        };\n      }\n\n      if (value.view == \"template\" || !value.view && value.template) {\n        exports.extend(value, config);\n      }\n\n      if (text && this.config.close) {\n        value = {\n          padding: {\n            left: $active.inputHeight + 2,\n            right: 2\n          },\n          cols: [value, {\n            height: height,\n            view: \"icon\",\n            icon: \"wxi-close\",\n            click: function () {\n              _this.hide();\n            }\n          }]\n        };\n      } else exports.extend(value, {\n        borderless: true\n      });\n\n      state._parent_cell = this;\n      this._head_cell = ui._view(value);\n\n      var template = this._head_cell._viewobj.querySelector(\".webix_win_title>div\");\n\n      if (template) template.style.lineHeight = height + \"px\";\n\n      this._headobj.appendChild(this._head_cell._viewobj);\n\n      return value;\n    },\n    getBody: function () {\n      return this._body_cell;\n    },\n    getHead: function () {\n      return this._head_cell;\n    },\n    adjust: function () {\n      return this.resize();\n    },\n    resizeChildren: function () {\n      if (this._body_cell) this.resize();\n    },\n    resize: function () {\n      base.api.adjust.call(this);\n      callEvent(\"onResize\", []);\n\n      if (this.isVisible()) {\n        this._setPosition(this._settings.left, this._settings.top);\n      }\n    },\n    _checkFixedPosition: function () {\n      if (this._settings.master) {\n        var top = $$(this._settings.master).getTopParentView().$view;\n        return top && top.style.position === \"fixed\";\n      }\n\n      return false;\n    },\n    _setPosition: function (x, y) {\n      if (this._settings.position || this._checkFixedPosition()) {\n        this.$view.style.position = \"fixed\";\n        var width = this._content_width;\n        var height = this._content_height;\n        if (width <= 0 || height <= 0) return;\n        var maxWidth = window.innerWidth || document.documentElement.offsetWidth;\n        var maxHeight = window.innerHeight || document.documentElement.offsetHeight;\n        var left = Math.round((maxWidth - width) / 2);\n        var top = Math.round((maxHeight - height) / 2);\n\n        if (typeof this._settings.position == \"function\") {\n          var _state = {\n            left: left,\n            top: top,\n            width: width,\n            height: height,\n            maxWidth: maxWidth,\n            maxHeight: maxHeight\n          };\n\n          this._settings.position.call(this, _state);\n\n          if (_state.width != width || _state.height != height) this.$setSize(_state.width, _state.height);\n          this.setPosition(_state.left, _state.top);\n        } else {\n          if (this._settings.position == \"top\") {\n            top = -1 * height;\n          } //popup inside a fixed win\n\n\n          if (!this._settings.position) {\n            left = this._settings.left || left;\n            top = this._settings.top || top;\n          }\n\n          this.setPosition(left, top);\n        }\n\n        if (this._settings.position == \"top\") animate(this._viewobj, {\n          type: \"slide\",\n          x: 0,\n          y: height - (this._settings.padding || 0) * 2,\n          duration: 300,\n          callback: this._topPositionCallback,\n          master: this\n        });\n      } else this.setPosition(x, y);\n    },\n    _topPositionCallback: function (node) {\n      animate.clear(node);\n      this._settings.top = -((this._settings.padding || 0) * 2);\n      this.setPosition(this._settings.left, this._settings.top);\n    },\n    setPosition: function (x, y) {\n      this._viewobj.style.top = y + \"px\";\n      this._viewobj.style.left = x + \"px\";\n      this._settings.left = x;\n      this._settings.top = y;\n    },\n    $getSize: function (dx, dy) {\n      var _borders = this._settings._inner;\n\n      if (_borders) {\n        dx += (_borders.left ? 0 : 1) + (_borders.right ? 0 : 1);\n        dy += (_borders.top ? 0 : 1) + (_borders.bottom ? 0 : 1);\n      } //line between head and body\n\n\n      if (this._settings.head) dy += 1;\n\n      var size = this._body_cell.$getSize(0, 0);\n\n      var headMinWidth = 0;\n\n      if (this._head_cell) {\n        var head_size = this._head_cell.$getSize(0, 0);\n\n        if (head_size[3] == head_size[2]) this._settings.headHeight = head_size[3];\n        dy += this._settings.headHeight;\n        headMinWidth = head_size[0];\n      }\n\n      if (this._settings.fullscreen) {\n        var width = window.innerWidth || document.body.clientWidth;\n        var height = window.innerHeight || document.body.clientHeight;\n        return [width, width, height, height];\n      } //get layout sizes\n\n\n      var self_size = base$1.api.$getSize.call(this, 0, 0); //use child settings if layout's one was not defined\n\n      if (headMinWidth && size[1] > 100000) size[0] = Math.max(headMinWidth, size[0]);\n      self_size[1] = Math.min(self_size[1], (size[1] >= 100000 && self_size[1] >= 100000 ? Math.max(size[0], self_size[0]) : size[1]) + dx);\n      self_size[3] = Math.min(self_size[3], (size[3] >= 100000 && self_size[3] >= 100000 ? Math.max(size[2], self_size[2]) : size[3]) + dy);\n      self_size[0] = Math.min(Math.max(self_size[0], size[0] + dx), self_size[1]);\n      self_size[2] = Math.min(Math.max(self_size[2], size[2] + dy), self_size[3]);\n      return self_size;\n    },\n    $setSize: function (x, y) {\n      base$1.api.$setSize.call(this, x, y);\n      x = this._content_width;\n      y = this._content_height;\n\n      if (this._settings.head === false) {\n        this._headobj.style.display = \"none\";\n\n        this._body_cell.$setSize(x, y);\n      } else {\n        this._head_cell.$setSize(x, this._settings.headHeight);\n\n        this._body_cell.$setSize(x, y - this._settings.headHeight);\n      }\n    },\n    $skin: function () {\n      this.defaults.headHeight = $active.barHeight;\n    },\n    defaults: {\n      top: 0,\n      left: 0,\n      autofit: true,\n      relative: \"bottom\",\n      body: \"\",\n      head: \"\",\n      hidden: true,\n      autofocus: true,\n      minWidth: 300,\n      minHeight: 200,\n      escHide: true\n    }\n  }; //global longtouch handler\n\n  attachEvent(\"onLongTouch\", function (ev) {\n    if (!ev || !ev.target) return;\n    var view = $$(ev.target);\n\n    if (view) {\n      view = view.queryView(function (a) {\n        return !a.getParentView();\n      }, \"parent\") || view;\n      var popups = state._popups;\n      var index$$1 = popups.find(view);\n      if (index$$1 !== -1) ev.click_view = index$$1;\n    }\n  });\n  var view$3 = exports.protoUI(api$3, base$1.view, Movable, Modality, EventSystem, ResizeArea);\n  var window$1 = {\n    api: api$3,\n    view: view$3\n  };\n\n  var ContextHelper = {\n    defaults: {\n      padding: \"4\",\n      hidden: true\n    },\n    body_setter: function (value) {\n      value = window$1.api.body_setter.call(this, value);\n      this._body_cell._viewobj.style.borderWidth = \"0px\";\n      return value;\n    },\n    attachTo: function (obj) {\n      assert(obj, \"Invalid target for Context::attach\");\n      var id;\n      if (obj.on_context) id = obj.attachEvent(\"onAfterContextMenu\", bind(this._show_at_ui, this));else id = event$1(obj, \"contextmenu\", this._show_at_node, {\n        bind: this\n      });\n      this.attachEvent(\"onDestruct\", function () {\n        if (obj.callEvent) obj.detachEvent(id);else eventRemove(id);\n        obj = null;\n      });\n    },\n    getContext: function () {\n      return this._area;\n    },\n    setContext: function (area) {\n      this._area = area;\n    },\n    _show_at_node: function (e) {\n      this._area = toNode(e);\n      return this._show_at(e);\n    },\n    _show_at_ui: function (id, e) {\n      this._area = {\n        obj: $$(e),\n        id: id\n      };\n      return this._show_at(e);\n    },\n    _show_at: function (e) {\n      var result = this.show(e, null, true);\n      if (result === false) return result; // ignore contexmenu clicks for the popup or its body\n\n      var view = $$(e);\n\n      if (view) {\n        var top = view.queryView(function (a) {\n          return !a.getParentView();\n        }, \"parent\") || view;\n        if (top._ignore_clicks) top._ignore_clicks(e);\n      } //event forced to close other popups|context menus\n\n\n      callEvent(\"onClick\", [e]);\n      return preventEvent(e);\n    },\n    _show_on_mouse_out: true,\n    master_setter: function (value) {\n      this.attachTo(value);\n      return null;\n    }\n  };\n\n  var clipbuffer = {\n    _area: null,\n    _blur_id: null,\n    _ctrl: 0,\n\n    /*! create textarea or returns existing\n     **/\n    init: function () {\n      // returns existing textarea\n      if (this._area !== null) return this._area;\n      state.destructors.push({\n        obj: this\n      }); // creates new textarea\n\n      this._area = document.createElement(\"textarea\");\n      this._area.className = \"webix_clipbuffer\";\n\n      this._area.setAttribute(\n      /*@attr*/\n      \"webixignore\", 1);\n\n      this._area.setAttribute(\"spellcheck\", \"false\");\n\n      this._area.setAttribute(\"autocapitalize\", \"off\");\n\n      this._area.setAttribute(\"autocorrect\", \"off\");\n\n      this._area.setAttribute(\"autocomplete\", \"off\");\n\n      document.body.appendChild(this._area);\n      event$1(document.body, \"keydown\", bind(function (e) {\n        var key = e.which || e.keyCode;\n        var ctrl = !!(e.ctrlKey || e.metaKey);\n\n        if (key === 86 && ctrl) {\n          this._area.value = \"\";\n          delay(this._paste, this, [e], 100);\n        }\n      }, this));\n      return this._area;\n    },\n    destructor: function () {\n      this._area = null;\n    },\n\n    /*! set text into buffer\n     **/\n    set: function (text) {\n      this.init();\n      text = text === \"\" ? \"\\n\" : text;\n      this._area.value = text;\n      this.focus();\n    },\n\n    /*! select text in textarea\n     **/\n    focus: function () {\n      // if there is native browser selection, skip focus\n      if (!this._isSelectRange()) {\n        this.init();\n\n        this._area.focus();\n\n        this._area.select();\n      }\n    },\n\n    /*! checks document selection\n     **/\n    _isSelectRange: function () {\n      var text = \"\";\n\n      if (typeof window.getSelection != \"undefined\") {\n        text = window.getSelection().toString();\n      } else if (typeof document.selection != \"undefined\" && document.selection.type == \"Text\") {\n        text = document.selection.createRange().text;\n      }\n\n      return !!text;\n    },\n\n    /*! process ctrl+V pressing\n     **/\n    _paste: function (e) {\n      var trg = e.target;\n\n      if (trg === this._area) {\n        var text = this._area.value;\n        var last_active = UIManager.getFocus();\n\n        if (last_active && (!last_active.getEditor || !last_active.getEditor())) {\n          last_active.callEvent(\"onPaste\", [text]);\n\n          this._area.select();\n        }\n      }\n    }\n  };\n\n  var csv$1 = {\n    escape: true,\n    delimiter: {\n      rows: \"\\n\",\n      cols: \"\\t\"\n    },\n    parse: function (text, sep) {\n      sep = sep || this.delimiter;\n      if (!this.escape) return this._split_clip_data(text, sep);\n      var lines = text.replace(/\\n$/, \"\").split(sep.rows);\n      var i = 0;\n\n      while (i < lines.length - 1) {\n        if (this._substr_count(lines[i], \"\\\"\") % 2 === 1) {\n          lines[i] += sep.rows + lines[i + 1];\n          delete lines[i + 1];\n          i++;\n        }\n\n        i++;\n      }\n\n      var csv = [];\n\n      for (i = 0; i < lines.length; i++) {\n        if (typeof lines[i] !== \"undefined\") {\n          var tline = lines[i];\n          var start = 0;\n          var line = [];\n          var quoted = false;\n\n          for (var j = 0; j <= tline.length; j++) {\n            if (!quoted && tline[j] === sep.cols || j === tline.length) {\n              var chunk = tline.substr(start, j - start);\n\n              if (chunk[0] === chunk[chunk.length - 1] && chunk[0] === \"\\\"\") {\n                chunk = chunk.substr(1, chunk.length - 2).replace(\"\\\"\\\"\", \"\\\"\");\n              }\n\n              line.push(chunk);\n              start = j + 1;\n            }\n\n            if (tline[j] === \"\\\"\") {\n              quoted = !quoted;\n              continue;\n            }\n          }\n\n          csv.push(line);\n        }\n      }\n\n      return csv;\n    },\n    _split_clip_data: function (text, sep) {\n      var lines = text.split(sep.rows);\n\n      for (var i = 0; i < lines.length; i++) {\n        lines[i] = lines[i].split(sep.cols);\n      }\n\n      return lines;\n    },\n\n    /*! counts how many occurances substring in string **/\n    _substr_count: function (string, substring) {\n      var arr = string.split(substring);\n      return arr.length - 1;\n    },\n    stringify: function (data, sep) {\n      sep = sep || this.delimiter;\n\n      if (!this.escape) {\n        for (var i = 0; i < data.length; i++) {\n          data[i] = data[i].join(sep.cols);\n        }\n\n        return data.join(sep.rows);\n      }\n\n      var reg = /\\n|\"|;|,/;\n\n      for (var _i = 0; _i < data.length; _i++) {\n        for (var j = 0; j < data[_i].length; j++) {\n          var chunk = data[_i][j];\n          if (chunk instanceof Date) data[_i][j] = i18n.parseFormatStr(chunk);else if (reg.test(chunk)) data[_i][j] = \"\\\"\" + chunk.toString().replace(/\"/g, \"\\\"\\\"\") + \"\\\"\";\n        }\n\n        data[_i] = data[_i].join(sep.cols);\n      }\n\n      data = data.join(sep.rows);\n      return data;\n    }\n  };\n\n  var CopyPaste = {\n    clipboard_setter: function (value) {\n      if (value === true || value === 1) value = \"modify\";\n      this.attachEvent(\"onAfterSelect\", this._sel_to_clip);\n      this.attachEvent(\"onAfterEditStop\", function (v, ed) {\n        var sel = this.getSelectedId(true);\n        if (sel.length == 1 && ed.id == sel[0]) this._sel_to_clip();\n      });\n      this.attachEvent(\"onPaste\", function (text) {\n        if (!isUndefined(this._paste[this._settings.clipboard])) {\n          var data = csv$1.parse(text, this._settings.delimiter);\n\n          this._paste[this._settings.clipboard].call(this, data);\n        }\n      });\n      this.attachEvent(\"onFocus\", function () {\n        clipbuffer.focus();\n      }); // solution for clicks on selected items\n\n      this.attachEvent(\"onItemClick\", function (id) {\n        if (!this._selected || this._selected.find(id) !== -1) {\n          clipbuffer.focus();\n          UIManager.setFocus(this);\n        }\n      });\n      return value;\n    },\n    _sel_to_clip: function () {\n      var _this = this;\n\n      delay(function () {\n        //wait until editor is closed\n        if (!_this.$destructed && (!_this.getEditor || !_this.getEditor())) {\n          var sel = _this.getSelectedId(true);\n\n          var data = [];\n\n          for (var i = 0; i < sel.length; i++) {\n            var id = sel[i];\n\n            var item = _this.getItem(id);\n\n            data.push([_this.type.templateCopy(item)]);\n          }\n\n          var text = data.length === 1 ? data[0][0] : csv$1.stringify(data, _this._settings.delimiter);\n          clipbuffer.set(text, _this);\n          clipbuffer.focus();\n          UIManager.setFocus(_this);\n        }\n      });\n    },\n    _paste: {\n      // insert new item with pasted value\n      insert: function (text) {\n        var _this2 = this;\n\n        text.forEach(function (value) {\n          return _this2.add({\n            value: value\n          });\n        });\n      },\n      // change value of each selected item\n      modify: function (text) {\n        var sel = this.getSelectedId(true);\n\n        for (var i = 0; i < sel.length; i++) {\n          if (isUndefined(text[i])) return;\n          this.getItem(sel[i]).value = text[i];\n          this.refresh(sel[i]);\n        }\n      },\n      // do nothing\n      custom: function () {}\n    },\n    templateCopy_setter: function (value) {\n      this.type.templateCopy = template(value);\n    },\n    type: {\n      templateCopy: function (item) {\n        return this.template(item);\n      }\n    }\n  };\n\n  var CustomPrint = {\n    $customPrint: function (options, htmlOnly) {\n      if (this._prePrint(options, htmlOnly)) return true;\n\n      var tableData = this._getTableArray(options);\n\n      var table = this._getTableHTML(tableData, options);\n\n      if (htmlOnly) return table;\n      var doc = create(\"div\", {\n        \"class\": \"webix_ui_print\"\n      });\n      doc.appendChild(table);\n      insertBefore(doc, options.docFooter, document.body);\n      window.print();\n      remove(doc);\n    },\n    _prePrint: function (options, htmlOnly) {\n      if (!htmlOnly && (this.config.layout == \"y\" || options.scroll || this.config.prerender || this.config.autoheight)) return true;\n      if (this.config.layout == \"x\") exports.extend(options || {}, {\n        xCount: this.count(),\n        nobreaks: true\n      }, true);\n    },\n    _getPageWidth: function (options) {\n      var size = options.size;\n      var width = size[options.mode == \"portrait\" ? \"width\" : \"height\"];\n      return Math.min(width * env.printPPI - 2 * env.printMargin);\n    },\n    _getTableArray: function (options, base, start) {\n      var maxWidth = options.fit == \"page\" ? Infinity : this._getPageWidth(options);\n\n      var xCount = options.xCount || this._getVisibleRange()._dx;\n\n      var tableArray = [];\n      var colrow = [];\n      var width = 0;\n      var newTableStart, rownum, colnum;\n      start = start || 0;\n      base = base || [];\n\n      for (var i = 0; i < this.data.order.length;) {\n        var obj = this.data.pull[this.data.order[i]];\n        rownum = parseInt(i / xCount);\n        colnum = i - rownum * xCount;\n\n        if (obj && colnum >= start) {\n          width += this.type.width; //start a new table, if cells do not fit page width\n\n          if (width > maxWidth && colnum > start) {\n            // 'colnum>start' ensures that a single long cell will have to fit the page\n            newTableStart = colrow.length + start;\n            tableArray.push(colrow);\n            i = i + (xCount - colrow.length);\n            colrow = [];\n            width = 0;\n            continue;\n          }\n\n          var cellValue = this.type.template(obj, this.type);\n          var className = this._itemClassName;\n          var style = {\n            display: \"table-cell\",\n            height: this.type.height + \"px\",\n            width: this.type.width + \"px\"\n          }; //push a cell to a row\n\n          colrow.push({\n            txt: cellValue,\n            className: className + \" \" + (obj.$css || \"\"),\n            style: style\n          }); //push a row to a table and start a new row\n\n          if ((i + 1) % xCount === 0) {\n            tableArray.push(colrow);\n            colrow = [];\n            width = 0;\n          }\n        }\n\n        i++;\n      }\n\n      base.push(tableArray);\n      if (newTableStart) this._getTableArray(options, base, newTableStart);\n      return base;\n    },\n    _getTableHTML: function (tableData, options) {\n      var container = create(\"div\");\n      tableData.forEach(bind(function (table, i) {\n        var tableHTML = create(\"table\", {\n          \"class\": \"webix_table_print \" + this.$view.className,\n          \"style\": \"border-collapse:collapse\"\n        });\n        table.forEach(function (row) {\n          var tr = create(\"tr\");\n          row.forEach(function (column) {\n            var td = create(\"td\");\n            if (column.txt) td.innerHTML = column.txt;\n            if (column.className) td.className = column.className;\n\n            if (column.style) {\n              var keys = Object.keys(column.style);\n              keys.forEach(function (key) {\n                if (column.style[key]) td.style[key] = column.style[key];\n              });\n            }\n\n            if (column.span) {\n              if (column.span.colspan > 1) td.colSpan = column.span.colspan;\n              if (column.span.rowspan > 1) td.rowSpan = column.span.rowspan;\n            }\n\n            tr.appendChild(td);\n          });\n          tableHTML.appendChild(tr);\n        });\n        container.appendChild(tableHTML);\n\n        if (!options.nobreaks && i + 1 < tableData.length) {\n          var br = create(\"DIV\", {\n            \"class\": \"webix_print_pagebreak\"\n          });\n          container.appendChild(br);\n        }\n      }, this));\n      return container;\n    }\n  };\n\n  var temp$1 = null;\n\n  var DataMarks = {\n    addCss: function (id, css, silent) {\n      if (!this.addRowCss && !silent) {\n        if (!this.hasCss(id, css)) {\n          var node = this.getItemNode(id);\n\n          if (node) {\n            node.className += \" \" + css;\n            silent = true;\n          }\n        }\n      }\n\n      return this.data.addMark(id, css, 1, 1, silent);\n    },\n    removeCss: function (id, css, silent) {\n      if (!this.addRowCss && !silent) {\n        if (this.hasCss(id, css)) {\n          var node = this.getItemNode(id);\n\n          if (node) {\n            node.className = node.className.replace(css, \"\").replace(\"  \", \" \");\n            silent = true;\n          }\n        }\n      }\n\n      return this.data.removeMark(id, css, 1, silent);\n    },\n    hasCss: function (id, mark) {\n      return this.data.getMark(id, mark);\n    },\n    clearCss: function (css, silent) {\n      return this.data.clearMark(css, 1, silent);\n    }\n  };\n\n  /*\n  \tBehavior:DataMove - allows to move and copy elements, heavily relays on DataStore.move\n  \t@export\n  \t\tcopy\n  \t\tmove\n  */\n\n  var DataMove = {\n    //creates a copy of the item\n    copy: function (sid, tindex, tobj, details) {\n      details = details || {};\n      var new_id = details.newId || sid;\n      tobj = tobj || this;\n      var data = this.getItem(sid);\n      assert(data, \"Incorrect ID in DataMove::copy\"); //make data conversion between objects\n\n      if (tobj) data = tobj._externalData(data); //adds new element same as original\n\n      return tobj.data.add(tobj._externalData(data, new_id), tindex, details.parent || 0);\n    },\n    _next_move_index: function (nid, next, source) {\n      if (next && nid) {\n        var new_index = this.getIndexById(nid);\n        return new_index + (source == this && source.getIndexById(next) < new_index ? 0 : 1);\n      }\n    },\n    //move item to the new position\n    move: function (sid, tindex, tobj, details) {\n      details = details || {};\n      var new_id = details.newId || sid;\n      tobj = tobj || this;\n      assert(tobj.data, \"moving attempt to component without datastore\");\n      if (!tobj.data) return; //can process an arrya - it allows to use it from onDrag \n\n      if (isArray(sid)) {\n        //block separate repaint operations\n        if (sid.length > 3) //heuristic value, duplicated below\n          this.$blockRender = tobj.$blockRender = true;\n\n        for (var i = 0; i < sid.length; i++) {\n          //increase index for each next item in the set, so order of insertion will be equal to order in the array\n          var _nid = this.move(sid[i], tindex, tobj, details);\n\n          tindex = tobj._next_move_index(_nid, sid[i + 1], this);\n        }\n\n        this.$blockRender = tobj.$blockRender = false;\n\n        if (sid.length > 3) {\n          //repaint whole component\n          this.refresh();\n          if (tobj != this) tobj.refresh();\n        }\n\n        return;\n      }\n\n      var nid = sid; //id after moving\n\n      var data = this.getItem(sid);\n      assert(data, \"Incorrect ID in DataMove::move\");\n\n      if (!tobj || tobj == this) {\n        if (tindex < 0) tindex = this.data.order.length - 1;\n        this.data.move(this.getIndexById(sid), tindex); //move inside the same object\n\n        this.data.callEvent(\"onDataMove\", [sid, tindex, null, this.data.order[tindex + 1]]);\n      } else {\n        //copy to the new object\n        nid = tobj.data.add(tobj._externalData(data, new_id), tindex, details.parent || 0);\n        this.data.remove(sid); //delete in old object\n      }\n\n      return nid; //return ID of item after moving\n    },\n    //move item on one position up\n    moveUp: function (id, step) {\n      var index = this.getIndexById(id) - (step || 1);\n      return this.move(id, index < 0 ? 0 : index);\n    },\n    //move item on one position down\n    moveDown: function (id, step) {\n      return this.moveUp(id, (step || 1) * -1);\n    },\n    //move item to the first position\n    moveTop: function (id) {\n      return this.move(id, 0);\n    },\n    //move item to the last position\n    moveBottom: function (id) {\n      return this.move(id, this.data.count() - 1);\n    },\n\n    /*\n    \tthis is a stub for future functionality\n    \tcurrently it just makes a copy of data object, which is enough for current situation\n    */\n    _externalData: function (data, id) {\n      var newdata = exports.extend({}, data);\n      newdata.id = !id || this.data.pull[id] ? uid() : id;\n      newdata.$template = null;\n      if (this._settings.externalData) newdata = this._settings.externalData.call(this, newdata, id, data);\n      return newdata;\n    }\n  };\n\n  var ValidateData = {\n    $init: function () {\n      if (this._events) this.attachEvent(\"onChange\", this.clearValidation);\n    },\n    clearValidation: function () {\n      if (this.elements) {\n        for (var id in this.elements) {\n          this._clear_invalid(id);\n        }\n      }\n    },\n    validate: function (mode, obj) {\n      assert(this.callEvent, \"using validate for eventless object\");\n      this.callEvent(\"onBeforeValidate\", []);\n      var failed = this._validate_details = {}; //optimistic by default :) \n\n      var result = true;\n      var rules$$1 = this._settings.rules;\n      var isHidden = this.isVisible && !this.isVisible();\n      var validateHidden = mode && mode.hidden;\n      var validateDisabled = mode && mode.disabled; //prevent validation of hidden elements\n\n      var elements = {},\n          hidden = {};\n\n      for (var i in this.elements) {\n        var name = this.elements[i].config.name; //we are ignoring hidden and disabled fields during validation\n        //if mode doesn not instruct us otherwise\n        //if form itself is hidden, we can't separate hidden fiels,\n        //so we will vaidate all fields\n\n        if ((isHidden || this.elements[i].isVisible() || validateHidden) && (this.elements[i].isEnabled() || validateDisabled)) elements[name] = this.elements[i];else {\n          hidden[name] = true;\n        }\n      }\n\n      if (rules$$1 || elements) if (!obj && this.getValues) obj = this.getValues();\n\n      if (rules$$1) {\n        //complex rule, which may chcek all properties of object\n        if (rules$$1.$obj) result = this._validate(rules$$1.$obj, obj, obj, \"\") && result; //all - applied to all fields\n\n        var all = rules$$1.$all;\n        var data = obj;\n        if (this._settings.complexData) data = CodeParser.collapseNames(obj, \"\", {}, function (v) {\n          return !rules$$1[v];\n        });\n        if (all) for (var _key in obj) {\n          if (hidden[_key]) continue;\n\n          var subresult = this._validate(all, data[_key], obj, _key);\n\n          if (!subresult) failed[_key] = true;\n          result = subresult && result;\n        } //per-field rules\n\n        for (var _key2 in rules$$1) {\n          if (hidden[_key2]) continue;\n\n          if (_key2.indexOf(\"$\") !== 0 && !failed[_key2]) {\n            assert(rules$$1[_key2], \"Invalid rule for:\" + _key2);\n\n            var _subresult = this._validate(rules$$1[_key2], data[_key2], obj, _key2);\n\n            if (!_subresult) failed[_key2] = true;\n            result = _subresult && result;\n          }\n        }\n      } //check personal validation rules\n\n\n      if (elements) {\n        for (var key in elements) {\n          if (failed[key]) continue;\n          var subview = elements[key];\n\n          if (subview.validate) {\n            var _subresult2 = subview.validate();\n\n            result = _subresult2 && result;\n            if (!_subresult2) failed[key] = true;\n          } else {\n            var input = subview._settings;\n\n            if (input) {\n              //ignore non webix inputs\n              var validator = input.validate;\n              if (!validator && input.required) validator = rules$$1.isNotEmpty;\n\n              if (validator) {\n                var _subresult3 = this._validate(validator, obj[key], obj, key);\n\n                if (!_subresult3) failed[key] = true;\n                result = _subresult3 && result;\n              }\n            }\n          }\n        }\n      }\n\n      this.callEvent(\"onAfterValidation\", [result, this._validate_details]);\n      return result;\n    },\n    _validate: function (rule, data, obj, key) {\n      if (typeof rule == \"string\") rule = rules[rule];\n\n      if (rule.call(this, data, obj, key)) {\n        if (this.callEvent(\"onValidationSuccess\", [key, obj]) && this._clear_invalid) this._clear_invalid(key);\n        return true;\n      } else {\n        if (this.callEvent(\"onValidationError\", [key, obj]) && this._mark_invalid) this._mark_invalid(key);\n      }\n\n      return false;\n    }\n  };\n\n  var _pull = {};\n  function dp(name, getOnly) {\n    if (_typeof(name) == \"object\" && name._settings) name = name._settings.id;\n    if (_pull[name] || getOnly) return _pull[name];\n    if (typeof name == \"string\" || typeof name == \"number\") name = {\n      master: $$(name)\n    };\n    var dp = new DataProcessor(name);\n    var masterId = dp._settings.master._settings.id;\n    _pull[masterId] = dp;\n    $$(masterId).attachEvent(\"onDestruct\", function () {\n      _pull[this._settings.id] = null;\n      delete _pull[this._settings.id];\n    });\n    return dp;\n  }\n  define(\"dp\", dp);\n\n  dp.$$ = function (id) {\n    return _pull[id];\n  };\n\n  var DataProcessor = exports.proto({\n    defaults: {\n      autoupdate: true,\n      updateFromResponse: false,\n      mode: \"post\",\n      operationName: \"webix_operation\",\n      trackMove: false\n    },\n\n    /*! constructor\n     **/\n    $init: function () {\n      this.reset();\n      this._ignore = false;\n      this.name = \"DataProcessor\";\n      this.$ready.push(this._after_init_call);\n    },\n    reset: function () {\n      this._updates = [];\n    },\n    url_setter: function (value) {\n      /*\n      \twe can use simple url or mode->url\n      */\n      var mode = \"\";\n\n      if (typeof value == \"string\") {\n        var parts = value.split(\"->\");\n\n        if (parts.length > 1) {\n          value = parts[1];\n          mode = parts[0];\n        }\n      } else if (value && value.mode) {\n        mode = value.mode;\n        value = value.url;\n      }\n\n      if (mode) return proxy$5(mode, value);\n      return value;\n    },\n    master_setter: function (value) {\n      var store = value;\n      if (value.name != \"DataStore\") store = value.data;\n      this._settings.store = store;\n      return value;\n    },\n    _promise: function (handler) {\n      var prev = this._waitSave;\n      this._waitSave = [];\n      handler();\n      var result = Promise.all(this._waitSave);\n      this._waitSave = prev;\n      if (prev) prev.push(result);\n      return result;\n    },\n\n    /*! attaching onStoreUpdated event\n     **/\n    _after_init_call: function () {\n      var store = this._settings.store;\n\n      if (store) {\n        store.attachEvent(\"onStoreUpdated\", bind(this._onStoreUpdated, this));\n        store.attachEvent(\"onDataMove\", bind(this._onDataMove, this));\n      }\n    },\n    ignore: function (code, master) {\n      var temp = this._ignore;\n      this._ignore = true;\n      code.call(master || this);\n      this._ignore = temp;\n    },\n    off: function () {\n      this._ignore = true;\n    },\n    on: function () {\n      this._ignore = false;\n    },\n    _copy_data: function (source) {\n      var obj = {};\n\n      for (var key in source) {\n        if (key.indexOf(\"$\") !== 0) obj[key] = source[key];\n      }\n\n      return obj;\n    },\n    save: function (id, operation, obj) {\n      operation = operation || \"update\";\n      return this._save_inner(id, obj, operation, true);\n    },\n    _save_inner: function (id, obj, operation, now) {\n      if (_typeof(id) == \"object\") id = id.toString();\n      if (!id || this._ignore === true || !operation || operation == \"paint\") return;\n      var store = this._settings.store;\n\n      if (store) {\n        obj = obj || this._settings.store.getItem(id);\n        if (store._scheme_serialize) obj = store._scheme_serialize(obj);\n      }\n\n      var update = {\n        id: id,\n        data: this._copy_data(obj),\n        operation: operation\n      }; //save parent id\n\n      if (!isUndefined(obj.$parent)) update.data.parent = obj.$parent;\n\n      if (update.operation != \"delete\") {\n        //prevent saving of not-validated records\n        var master = this._settings.master;\n        if (master && master.data && master.data.getMark && master.data.getMark(id, \"webix_invalid\")) update._invalid = true;\n        if (!this.validate(null, update.data)) update._invalid = true;\n      }\n\n      if (this._check_unique(update)) this._updates.push(update);\n      if (this._settings.autoupdate || now) return this._sendData(id);\n      return;\n    },\n    _onDataMove: function (sid, tindex, parent, targetid) {\n      if (this._settings.trackMove) {\n        var obj = copy(this._settings.store.getItem(sid));\n        obj.webix_move_index = tindex;\n        obj.webix_move_id = targetid;\n        obj.webix_move_parent = parent;\n\n        this._save_inner(sid, obj, \"order\");\n      }\n    },\n    _onStoreUpdated: function (id, obj, operation) {\n      switch (operation) {\n        case \"save\":\n          operation = \"update\";\n          break;\n\n        case \"update\":\n          operation = \"update\";\n          break;\n\n        case \"add\":\n          operation = \"insert\";\n          break;\n\n        case \"delete\":\n          operation = \"delete\";\n          break;\n\n        default:\n          return true;\n      }\n\n      return this._save_inner(id, obj, operation);\n    },\n    _check_unique: function (check) {\n      for (var i = 0; i < this._updates.length; i++) {\n        var one = this._updates[i];\n\n        if (one.id == check.id && !one._in_progress) {\n          if (check.operation == \"delete\") {\n            if (one.operation == \"insert\") this._updates.splice(i, 1);else one.operation = \"delete\";\n          }\n\n          one.data = check.data;\n          one._invalid = check._invalid;\n          return false;\n        }\n      }\n\n      return true;\n    },\n    send: function () {\n      return this._sendData();\n    },\n    _sendData: function (triggerId) {\n      if (!this._settings.url) return;\n      var wait;\n      var marked = this._updates;\n      var to_send = [];\n      var url = this._settings.url;\n\n      for (var i = 0; i < marked.length; i++) {\n        var tosave = marked[i];\n        if (tosave._in_progress) continue;\n        if (tosave._invalid) continue;\n        var id = tosave.id; // call to .save(id) without autoupdate mode will send the specific object only\n\n        if (!this._settings.autoupdate && triggerId && triggerId != id) continue;\n        var operation = tosave.operation;\n        var precise_url = proxy$5.$parse(_typeof(url) == \"object\" && !url.$proxy ? url[operation] : url);\n        var custom = precise_url && (precise_url.$proxy || typeof precise_url === \"function\");\n        if (!precise_url) continue;\n        var store = this._settings.store;\n        if (store && store._scheme_save) store._scheme_save(tosave.data);\n        if (!this.callEvent(\"onBefore\" + operation, [id, tosave])) continue;\n        tosave._in_progress = true;\n        if (!this.callEvent(\"onBeforeDataSend\", [tosave])) return;\n        tosave.data = this._updatesData(tosave.data);\n        var result = void 0;\n\n        if (precise_url.$proxy) {\n          if (precise_url.save) {\n            //proxy\n            result = precise_url.save(this.config.master, tosave, this);\n          }\n\n          to_send.push(tosave);\n        } else {\n          if (operation == \"insert\") delete tosave.data.id;\n\n          if (custom) {\n            //save function\n            result = precise_url.call(this.config.master, tosave.id, tosave.operation, tosave.data);\n          } else {\n            //normal url\n            tosave.data[this._settings.operationName] = operation;\n            result = this._send(precise_url, tosave.data, this._settings.mode);\n          }\n        }\n\n        if (result) {\n          result = this._proxy_on_save(result, {\n            id: tosave.id,\n            status: tosave.operation\n          });\n\n          if (triggerId && id === triggerId) {\n            wait = result;\n          }\n        }\n\n        this.callEvent(\"onAfterDataSend\", [tosave]);\n      }\n\n      if (url.$proxy && url.saveAll && to_send.length) {\n        var _result = url.saveAll(this.config.master, to_send, this);\n\n        if (_result) {\n          _result = this._proxy_on_save(_result, null);\n          if (!wait) wait = _result;\n        }\n      }\n\n      return wait;\n    },\n    _proxy_on_save: function (result, state) {\n      var _this = this;\n\n      if (result) {\n        if (!result.then) result = Deferred.resolve(result);\n        result = result.then(function (data) {\n          if (data && typeof data.json == \"function\") data = data.json();\n          var processed;\n\n          if (state === null) {\n            processed = _this._processResult(data); //array of responses\n          } else {\n            processed = _this._processResult(state, \"\", data, -1); //text, data, loader\n          }\n\n          if (!processed) throw processed; // trigger rejection\n\n          return processed;\n        }, function (x) {\n          _this._processError(state, \"\", null, x);\n\n          throw x;\n        });\n        if (this._waitSave) this._waitSave.push(result);\n        return result;\n      }\n    },\n\n    /*! process updates list to POST and GET params according dataprocessor protocol\n     *\t@param updates\n     *\t\tlist of objects { id: \"item id\", data: \"data hash\", operation: \"type of operation\"}\n     *\t@return\n     *\t\tobject { post: { hash of post params as name: value }, get: { hash of get params as name: value } }\n     **/\n    _updatesData: function (source) {\n      var target = {};\n\n      for (var j in source) {\n        if (j.indexOf(\"$\") !== 0) target[j] = source[j];\n      }\n\n      return target;\n    },\n\n    /*! send dataprocessor query to server\n     *\tand attach event to process result\n     *\t@param url\n     *\t\tserver url\n     *\t@param get\n     *\t\thash of get params\n     *\t@param post\n     *\t\thash of post params\n     *\t@mode\n     *\t\t'post' or 'get'\n     **/\n    _send: function (url, post, mode) {\n      assert(url, \"url was not set for DataProcessor\");\n      return ajax()[mode](url, post);\n    },\n    attachProgress: function (start, end, error) {\n      this.attachEvent(\"onBeforeDataSend\", start);\n      this.attachEvent(\"onAfterSync\", end);\n      this.attachEvent(\"onAfterSaveError\", error);\n      this.attachEvent(\"onLoadError\", error);\n    },\n    _processError: function (id, text, data, loader) {\n      if (id) this._innerProcessResult(true, id.id, false, id.status, false, {\n        text: text,\n        data: data,\n        loader: loader\n      });else {\n        this.callEvent(\"onLoadError\", arguments);\n        callEvent(\"onLoadError\", [text, data, loader, this]);\n      }\n    },\n    _innerProcessResult: function (error, id, newid, status, obj, details) {\n      var master = this._settings.master;\n      var update = this.getItemState(id);\n      update._in_progress = false;\n\n      if (error) {\n        if (this.callEvent(\"onBeforeSaveError\", [id, status, obj, details])) {\n          update._invalid = true;\n\n          if (this._settings.undoOnError && master._settings.undo) {\n            this.ignore(function () {\n              master.undo(id);\n            });\n            this.setItemState(id, false);\n          }\n\n          this.callEvent(\"onAfterSaveError\", [id, status, obj, details]);\n        }\n\n        return;\n      } else this.setItemState(id, false);\n\n      var store = this._settings.store;\n\n      if (store && store.exists(id)) {\n        //update from response\n        if (newid && id != newid) store.changeId(id, newid);\n        if (obj && status != \"delete\" && this._settings.updateFromResponse) this.ignore(function () {\n          store.updateItem(newid || id, obj);\n        });\n      } //clean undo history, for the saved record\n\n\n      if (this._settings.undoOnError && master._settings.undo) master.removeUndo(newid || id);\n      this.callEvent(\"onAfterSave\", [obj, id, details]);\n      this.callEvent(\"onAfter\" + status, [obj, id, details]);\n      return obj || {};\n    },\n    processResult: function (state, hash, details) {\n      //compatibility with custom json response\n      var error = hash && (hash.status == \"error\" || hash.status == \"invalid\");\n      var newid = hash ? hash.newid || hash.id : false;\n      return this._innerProcessResult(error, state.id, newid, state.status, hash, details);\n    },\n    // process saving from result\n    _processResult: function (state, text, data, loader) {\n      var _this2 = this;\n\n      var finalResult;\n      this.callEvent(\"onBeforeSync\", [state, text, data, loader]);\n\n      if (isArray(state)) {\n        //saveAll results\n        finalResult = [];\n        state.forEach(function (one) {\n          finalResult.push(_this2.processResult(one, one, {}));\n        });\n      } else {\n        if (loader === -1) {\n          //callback from promise\n          finalResult = this.processResult(state, data, {});\n        } else {\n          var proxy = this._settings.url;\n\n          if (proxy.$proxy && proxy.result) {\n            finalResult = proxy.result(state, this._settings.master, this, text, data, loader) || {};\n          } else {\n            var hash;\n\n            if (text) {\n              hash = data.json(); //invalid response\n\n              if (text && (hash === null || typeof hash == \"undefined\")) hash = {\n                status: \"error\"\n              };\n            }\n\n            finalResult = this.processResult(state, hash, {\n              text: text,\n              data: data,\n              loader: loader\n            });\n          }\n        }\n      }\n\n      this.callEvent(\"onAfterSync\", [state, text, data, loader]);\n      return finalResult;\n    },\n\n    /*! if it's defined escape function - call it\n     *\t@param value\n     *\t\tvalue to escape\n     *\t@return\n     *\t\tescaped value\n     **/\n    escape: function (value) {\n      if (this._settings.escape) return this._settings.escape(value);else return encodeURIComponent(value);\n    },\n    getState: function () {\n      if (!this._updates.length) return false;\n\n      for (var i = this._updates.length - 1; i >= 0; i--) {\n        if (this._updates[i]._in_progress) return \"saving\";\n      }\n\n      return true;\n    },\n    getItemState: function (id) {\n      var index = this._get_stack_index(id);\n\n      return this._updates[index] || null;\n    },\n    setItemState: function (id, state) {\n      if (state) {\n        this._save_inner(id, null, \"update\");\n      } else {\n        var index = this._get_stack_index(id);\n\n        if (index > -1) this._updates.splice(index, 1);\n      }\n    },\n    _get_stack_index: function (id) {\n      var index = -1;\n\n      for (var i = 0; i < this._updates.length; i++) {\n        if (this._updates[i].id == id) {\n          index = i;\n          break;\n        }\n      }\n\n      return index;\n    }\n  }, Settings, EventSystem, ValidateData);\n\n  /*\n  \tDataStore is not a behavior, it standalone object, which represents collection of data.\n  \tCall provideAPI to map data API\n\n  \t@export\n  \t\texists\n  \t\tgetIdByIndex\n  \t\tgetIndexById\n  \t\tget\n  \t\tset\n  \t\trefresh\n  \t\tcount\n  \t\tsort\n  \t\tfilter\n  \t\tnext\n  \t\tprevious\n  \t\tclearAll\n  \t\tfirst\n  \t\tlast\n  */\n\n  function DataStore() {\n    this.name = \"DataStore\";\n    exports.extend(this, EventSystem);\n    this.setDriver(\"json\"); //default data source is an\n\n    this.pull = {}; //hash of IDs\n\n    this.order = _to_array(); //order of IDs\n\n    this._marks = {};\n  }\n\n  DataStore.prototype = {\n    //defines type of used data driver\n    //data driver is an abstraction other different data formats - xml, json, csv, etc.\n    setDriver: function (type) {\n      assert(DataDriver[type], \"incorrect DataDriver\");\n      this.driver = DataDriver[type];\n    },\n    //process incoming raw data\n    _parse: function (data) {\n      this.callEvent(\"onParse\", [this.driver, data]);\n      if (this._filter_order) this.filter(); //get size and position of data\n\n      var info = this.driver.getInfo(data);\n      if (info.config) this.callEvent(\"onServerConfig\", [info.config]);\n      var options = this.driver.getOptions(data);\n      if (options) this.callEvent(\"onServerOptions\", [options]); //get array of records\n\n      var recs = this.driver.getRecords(data);\n\n      this._inner_parse(info, recs); //in case of tree store we may want to group data\n\n\n      if (this._scheme_group && this._group_processing && !this._not_grouped_order) this._group_processing(this._scheme_group); //optional data sorting\n\n      if (this._scheme_sort) {\n        this.blockEvent();\n        this.sort(this._scheme_sort);\n        this.unblockEvent();\n      }\n\n      this.callEvent(\"onStoreLoad\", [this.driver, data]); //repaint self after data loading\n\n      this.refresh();\n    },\n    _inner_parse: function (info, recs) {\n      var from = info.from;\n      var subload = true;\n      var marks = false; //some data is loaded and new data doesn't have \"pos\" - assuming update\n\n      if (!from && from !== 0 && this.order[0]) {\n        if (this._removeMissed) {\n          //update mode, create kill list\n          marks = {};\n\n          for (var i = 0; i < this.order.length; i++) {\n            marks[this.order[i]] = true;\n          }\n        }\n\n        subload = false;\n        from = this.order.length;\n      } else from = (from || 0) * 1;\n\n      var j = 0;\n\n      for (var _i = 0; _i < recs.length; _i++) {\n        //get hash of details for each record\n        var temp = this.driver.getDetails(recs[_i]);\n        var id = this.id(temp); //generate ID for the record\n\n        if (!this.pull[id]) {\n          //if such ID already exists - update instead of insert\n          this.order[j + from] = id;\n          j++;\n        } else if (subload && this.order[j + from]) j++;\n\n        if (this.pull[id]) {\n          exports.extend(this.pull[id], temp, true); //add only new properties\n\n          if (this._scheme_update) this._scheme_update(this.pull[id]); //update mode, remove item from kill list\n\n          if (marks) delete marks[id];\n        } else {\n          this.pull[id] = temp;\n          if (this._scheme_init) this._scheme_init(temp);\n        }\n      } //update mode, delete items which are not existing in the new xml\n\n\n      if (marks) {\n        this.blockEvent();\n\n        for (var delid in marks) {\n          this.remove(delid);\n        }\n\n        this.unblockEvent();\n      }\n\n      var endpos = info.size * 1;\n\n      if (endpos) {\n        if (!this.order[endpos - 1]) this.order[endpos - 1] = undefined;\n        if (endpos < this.order.length) this.order = _to_array(this.order.slice(0, endpos));\n      }\n    },\n    //generate id for data object\n    id: function (data) {\n      return data.id || (data.id = uid());\n    },\n    changeId: function (old, newid) {\n      //assert(this.pull[old],\"Can't change id, for non existing item: \"+old);\n      if (old == newid) return;\n      if (this.pull[old]) this.pull[newid] = this.pull[old];\n      this.pull[newid].id = newid;\n      this.order[this.order.find(old)] = newid;\n      if (this._filter_order) this._filter_order[this._filter_order.find(old)] = newid;\n\n      if (this._marks[old]) {\n        this._marks[newid] = this._marks[old];\n        delete this._marks[old];\n      }\n\n      this.callEvent(\"onIdChange\", [old, newid]);\n      if (this._render_change_id) this._render_change_id(old, newid);\n      delete this.pull[old];\n    },\n    //get data from hash by id\n    getItem: function (id) {\n      return this.pull[id];\n    },\n    //assigns data by id\n    updateItem: function (id, update, mode) {\n      if (_typeof(id) === \"object\") id = id.toString();\n      var data = this.getItem(id);\n      var old = null; //check is change tracking active\n\n      var changeTrack = this.hasEvent(\"onDataUpdate\");\n      assert(data, \"Invalid ID for updateItem\");\n      assert(!update || !update.id || update.id == id, \"Attempt to change ID in updateItem\");\n\n      if (!isUndefined(update) && data !== update) {\n        //preserve original object\n        if (changeTrack) old = copy(data);\n        id = data.id; //preserve id\n\n        exports.extend(data, update, true);\n        data.id = id;\n      }\n\n      if (this._scheme_update) this._scheme_update(data);\n      this.callEvent(\"onStoreUpdated\", [id, data, mode || \"update\"]);\n      if (changeTrack) this.callEvent(\"onDataUpdate\", [id, data, old]);\n    },\n    //sends repainting signal\n    refresh: function (id) {\n      if (this._skip_refresh) return;\n\n      if (id) {\n        if (this.exists(id)) this.callEvent(\"onStoreUpdated\", [id, this.pull[id], \"paint\"]);\n      } else this.callEvent(\"onStoreUpdated\", [null, null, null]);\n    },\n    silent: function (code, master) {\n      this._skip_refresh = true;\n      code.call(master || this);\n      this._skip_refresh = false;\n    },\n    //converts range IDs to array of all IDs between them\n    getRange: function (from, to) {\n      //if some point is not defined - use first or last id\n      //BEWARE - do not use empty or null ID\n      if (from) from = this.getIndexById(from);else from = this.$min || this.startOffset || 0;\n      if (to) to = this.getIndexById(to);else {\n        to = this.$max === 0 ? 0 : Math.min(this.$max ? this.$max - 1 : this.endOffset || Infinity, this.count() - 1);\n        if (to < 0) to = 0; //we have not data in the store\n      }\n\n      if (from > to) {\n        //can be in case of backward shift-selection\n        var a = to;\n        to = from;\n        from = a;\n      }\n\n      return this.getIndexRange(from, to);\n    },\n    //converts range of indexes to array of all IDs between them\n    getIndexRange: function (from, to) {\n      to = Math.min(to === 0 ? 0 : to || Infinity, this.count() - 1);\n\n      var ret = _to_array(); //result of method is rich-array\n\n\n      for (var i = from || 0; i <= to; i++) {\n        ret.push(this.getItem(this.order[i]));\n      }\n\n      return ret;\n    },\n    //returns total count of elements\n    count: function () {\n      return this.order.length;\n    },\n    //returns truy if item with such ID exists\n    exists: function (id) {\n      return !!this.pull[id];\n    },\n    //nextmethod is not visible on component level, check DataMove.move\n    //moves item from source index to the target index\n    move: function (sindex, tindex) {\n      assert(sindex >= 0 && tindex >= 0, \"DataStore::move\", \"Incorrect indexes\");\n      if (sindex == tindex) return;\n      var id = this.getIdByIndex(sindex);\n      var obj = this.getItem(id);\n      if (this._filter_order) this._move_inner(this._filter_order, 0, 0, this.getIdByIndex(sindex), this.getIdByIndex(tindex));\n\n      this._move_inner(this.order, sindex, tindex); //repaint signal\n\n\n      this.callEvent(\"onStoreUpdated\", [id, obj, \"move\"]);\n    },\n    _move_inner: function (col, sindex, tindex, sid, tid) {\n      if (sid || tid) {\n        sindex = tindex = -1;\n\n        for (var i = 0; i < col.length; i++) {\n          if (col[i] == sid && sindex < 0) sindex = i;\n          if (col[i] == tid && tindex < 0) tindex = i;\n        }\n      }\n\n      var id = col[sindex];\n      col.removeAt(sindex); //remove at old position\n\n      col.insertAt(id, Math.min(col.length, tindex)); //insert at new position\n    },\n    scheme: function (config) {\n      this._scheme = {};\n      this._scheme_save = config.$save;\n      this._scheme_init = config.$init || config.$change;\n      this._scheme_update = config.$update || config.$change;\n      this._scheme_serialize = config.$serialize;\n      this._scheme_group = config.$group;\n      this._scheme_sort = config.$sort;\n      this._scheme_export = config.$export; //ignore $-starting properties, as they have special meaning\n\n      for (var key in config) {\n        if (key.substr(0, 1) != \"$\") this._scheme[key] = config[key];\n      }\n    },\n    importData: function (target, silent) {\n      var data = target ? target.data || target : [];\n      this._filter_order = null;\n\n      if (typeof data.serialize == \"function\") {\n        this.order = _to_array([].concat(data.order)); //make full copy, to preserve object properties\n        //[WE-CAN-DO-BETTER]\n\n        if (this._make_full_copy) {\n          this._make_full_copy = false;\n          var oldpull = this.pull;\n          this.pull = {};\n\n          for (var _key in data.pull) {\n            var old = oldpull[_key];\n            this.pull[_key] = copy(data.pull[_key]);\n            if (old && old.open) this.pull[_key].open = true;\n          }\n        } else {\n          this.pull = {};\n\n          for (var _key2 in data.pull) {\n            this.pull[_key2] = data.pull[_key2];\n          }\n        }\n\n        if (data.branch && this.branch) {\n          this.branch = copy(data.branch);\n          this._filter_branch = null;\n        }\n      } else {\n        this.order = _to_array();\n        this.pull = {};\n        var id, obj;\n        if (isArray(target)) for (var _key3 = 0; _key3 < target.length; _key3++) {\n          obj = id = target[_key3];\n          if (_typeof(obj) == \"object\") obj.id = obj.id || uid();else obj = {\n            id: id,\n            value: id\n          };\n          this.order.push(obj.id);\n          if (this._scheme_init) this._scheme_init(obj);\n          this.pull[obj.id] = obj;\n        } else for (var _key4 in data) {\n          this.order.push(_key4);\n          this.pull[_key4] = {\n            id: _key4,\n            value: data[_key4]\n          };\n        }\n      }\n\n      if (this._extraParser && !data.branch) {\n        this.branch = {\n          0: []\n        };\n        if (!this._datadriver_child) this._set_child_scheme(\"data\");\n\n        for (var i = 0; i < this.order.length; i++) {\n          var key = this.order[i];\n\n          this._extraParser(this.pull[key], 0, 0, false);\n        }\n      }\n\n      this.callEvent(\"onStoreLoad\", []);\n      if (!silent) this.callEvent(\"onStoreUpdated\", []);\n    },\n    sync: function (source, filter, silent) {\n      this.unsync();\n\n      var type = _typeof(source);\n\n      if (type == \"string\") source = $$(source);\n\n      if (type != \"function\" && type != \"object\") {\n        silent = filter;\n        filter = null;\n      }\n\n      if (source.name != \"DataStore\" && source.name != \"TreeStore\") {\n        if (source.data && (source.data.name === \"DataStore\" || source.data.name === \"TreeStore\")) source = source.data;else {\n          this._sync_source = source;\n          return callEvent(\"onSyncUnknown\", [this, source, filter]);\n        }\n      }\n\n      var sync_logic = bind(function (id, data, mode) {\n        if (this._skip_next_sync) return; //sync of tree-structure with after-filtering\n        //we need to make a full copy, to preserve $count\n        //[WE-CAN-DO-BETTER]\n\n        if (filter && this.branch) this._make_full_copy = true;\n        this.importData(source, true);\n        if (filter) this.silent(filter);\n        if (this._on_sync) this._on_sync();\n        if (!(id && data && mode) && !this.count()) //clearall\n          this._marks = {};\n        if (mode == \"delete\" && this._marks[id]) delete this._marks[id];\n        this.callEvent(\"onSyncApply\", []);\n        if (!silent) this.refresh();else silent = false;\n      }, this);\n      this._sync_events = [source.attachEvent(\"onStoreUpdated\", sync_logic), source.attachEvent(\"onIdChange\", bind(function (old, nid) {\n        this.changeId(old, nid);\n        this.refresh(nid);\n      }, this))];\n      this._sync_source = source; //backward data saving\n\n      this._back_sync_handler = this.attachEvent(\"onStoreUpdated\", function (id, data, mode) {\n        if (mode == \"update\" || mode == \"save\") {\n          this._skip_next_sync = 1;\n          source.updateItem(id, data);\n          this._skip_next_sync = 0;\n        }\n      });\n      sync_logic();\n    },\n    unsync: function () {\n      if (this._sync_source) {\n        var source = this._sync_source;\n\n        if (source.name != \"DataStore\" && source.name != \"TreeStore\" && (!source.data || source.data.name != \"DataStore\" || source.data.name != \"TreeStore\")) {\n          //data sync with external component\n          callEvent(\"onUnSyncUnknown\", [this, source]);\n        } else {\n          //data sync with webix component\n          for (var i = 0; i < this._sync_events.length; i++) {\n            source.detachEvent(this._sync_events[i]);\n          }\n\n          this.detachEvent(this._back_sync_handler);\n        }\n\n        this._sync_source = null;\n      }\n    },\n    destructor: function () {\n      this.unsync();\n      this.pull = this.order = this._marks = null;\n      this._evs_events = this._evs_handlers = {};\n    },\n    //adds item to the store\n    add: function (obj, index) {\n      //default values\t\t\n      if (this._scheme) for (var key in this._scheme) {\n        if (isUndefined(obj[key])) obj[key] = this._scheme[key];\n      }\n      if (this._scheme_init) this._scheme_init(obj); //generate id for the item\n\n      var id = this.id(obj); //in case of treetable order is sent as 3rd parameter\n\n      var order = arguments[2] || this.order; //by default item is added to the end of the list\n\n      var data_size = order.length;\n      if (isUndefined(index) || index < 0) index = data_size; //check to prevent too big indexes\t\t\t\n\n      if (index > data_size) {\n        assert(0, \"Warning\", \"DataStore:add\", \"Index of out of bounds\");\n        index = Math.min(order.length, index);\n      }\n\n      if (this.callEvent(\"onBeforeAdd\", [id, obj, index]) === false) return false;\n      assert(!this.exists(id), \"Not unique ID\");\n      this.pull[id] = obj;\n      order.insertAt(id, index);\n\n      if (this._filter_order) {\n        //adding during filtering\n        //we can't know the location of new item in full dataset, making suggestion\n        //put at end of original dataset by default\n        var original_index = this._filter_order.length; //if some data exists, put at the same position in original and filtered lists\n\n        if (this.order.length) original_index = Math.min(index || 0, original_index);\n\n        this._filter_order.insertAt(id, original_index);\n      } //repaint signal\n\n\n      this.callEvent(\"onStoreUpdated\", [id, obj, \"add\"]);\n      this.callEvent(\"onAfterAdd\", [id, index]);\n      return obj.id;\n    },\n    //removes element from datastore\n    remove: function (id) {\n      //id can be an array of IDs - result of getSelect, for example\n      if (isArray(id)) {\n        for (var i = 0; i < id.length; i++) {\n          this.remove(id[i]);\n        }\n\n        return;\n      }\n\n      if (this.callEvent(\"onBeforeDelete\", [id]) === false) return false;\n      assert(this.exists(id), \"Not existing ID in remove command\" + id);\n      var obj = this.getItem(id); //save for later event\n      //clear from collections\n\n      this.order.remove(id);\n      if (this._filter_order) this._filter_order.remove(id);\n      delete this.pull[id];\n      if (this._marks[id]) delete this._marks[id]; //repaint signal\n\n      this.callEvent(\"onStoreUpdated\", [id, obj, \"delete\"]);\n      this.callEvent(\"onAfterDelete\", [id]);\n    },\n    //deletes all records in datastore\n    clearAll: function (soft) {\n      //instead of deleting one by one - just reset inner collections\n      this.pull = {};\n      this._marks = {};\n      this.order = _to_array(); //this.feed = null;\n\n      this._filter_order = null;\n      if (!soft) this.url = null;\n      this.callEvent(\"onClearAll\", [soft]);\n      this.refresh();\n    },\n    //converts index to id\n    getIdByIndex: function (index) {\n      assert(index >= 0, \"DataStore::getIdByIndex Incorrect index\");\n      return this.order[index];\n    },\n    //converts id to index\n    getIndexById: function (id) {\n      if (!this.pull[id]) return -1;else return this.order.find(id); //slower than getIdByIndex\n    },\n    //returns ID of next element\n    getNextId: function (id, step) {\n      return this.order[this.getIndexById(id) + (step || 1)];\n    },\n    //returns ID of first element\n    getFirstId: function () {\n      return this.order[0];\n    },\n    //returns ID of last element\n    getLastId: function () {\n      return this.order[this.order.length - 1];\n    },\n    //returns ID of previous element\n    getPrevId: function (id, step) {\n      return this.order[this.getIndexById(id) - (step || 1)];\n    },\n\n    /*\n    \tsort data in collection\n    \t\tby - settings of sorting\n    \t\tor\n    \t\tby - array of settings\n    \t\tor\n    \t\t\tby - sorting function\n    \t\tdir - \"asc\" or \"desc\"\n    \t\tor\n    \t\t\tby - property\n    \t\tdir - \"asc\" or \"desc\"\n    \t\tas - type of sortings\n    \t\tSorting function will accept 2 parameters and must return 1,0,-1, based on desired order\n    */\n    sort: function (by, dir, as) {\n      var _this = this;\n\n      var parameters;\n      var sort = by;\n\n      if (isArray(sort)) {\n        sort = sort.map(function (a) {\n          return _this._sort_init(a);\n        });\n        parameters = [sort];\n      } else {\n        sort = this._sort_init(by, dir, as);\n        parameters = [sort.by, sort.dir, sort.as, sort];\n      }\n\n      if (!this.callEvent(\"onBeforeSort\", parameters)) return;\n      var sorter = this.sorting.create(sort);\n      this.order = this._sort_core(sorter, this.order);\n      if (this._filter_order) this._filter_order = this._sort_core(sorter, this._filter_order); //repaint self\n\n      this.refresh();\n      this.callEvent(\"onAfterSort\", parameters);\n    },\n    _sort_init: function (by, dir, as) {\n      var sort = by;\n      if (typeof by == \"function\") sort = {\n        as: by,\n        dir: dir\n      };else if (typeof by == \"string\") sort = {\n        by: by,\n        dir: dir,\n        as: as\n      };\n      if (typeof sort.by == \"string\") sort.by = sort.by.replace(/#/g, \"\");\n      return sort;\n    },\n    _sort_core: function (sorter, order) {\n      if (this.order.length) {\n        var pre = order.splice(0, this.$freeze); //get array of IDs\n\n        var neworder = _to_array();\n\n        for (var i = order.length - 1; i >= 0; i--) {\n          neworder[i] = this.pull[order[i]];\n        }\n\n        neworder.sort(sorter);\n        return _to_array(pre.concat(neworder.map(function (obj) {\n          assert(obj, \"Client sorting can't be used with dynamic loading\");\n          return this.id(obj);\n        }, this)));\n      }\n\n      return order;\n    },\n\n    /*\n    \tFilter datasource\n    \t\n    \ttext - property, by which filter\n    \tvalue - filter mask\n    \t\n    \tor\n    \t\n    \ttext  - filter method\n    \t\n    \tFilter method will receive data object and must return true or false\n    */\n    _filter_reset: function (preserve) {\n      //remove previous filtering , if any\n      if (this._filter_order && !preserve) {\n        this.order = this._filter_order;\n        delete this._filter_order;\n      }\n    },\n    _filter_core: function (filter, value, preserve) {\n      var neworder = _to_array();\n\n      var freeze = this.$freeze || 0;\n\n      for (var i = 0; i < this.order.length; i++) {\n        var id = this.order[i];\n        if (i < freeze || filter(this.getItem(id), value)) neworder.push(id);\n      } //set new order of items, store original\n\n\n      if (!preserve || !this._filter_order) this._filter_order = this.order;\n      this.order = neworder;\n    },\n    find: function (config, first) {\n      var result = [];\n\n      for (var i in this.pull) {\n        var data = this.pull[i];\n        var match = true;\n\n        if (_typeof(config) == \"object\") {\n          for (var key in config) {\n            if (data[key] != config[key]) {\n              match = false;\n              break;\n            }\n          }\n        } else if (!config(data)) match = false;\n\n        if (match) result.push(data);\n        if (first && result.length) return result[0];\n      }\n\n      return first ? null : result;\n    },\n    filter: function (text, value, preserve) {\n      //unfilter call but we already in not-filtered state\n      if (!text && !this._filter_order && !this._filter_branch) return;\n      if (!this.callEvent(\"onBeforeFilter\", [text, value])) return;\n\n      this._filter_reset(preserve);\n\n      if (!this.order.length) return; //if text not define -just unfilter previous state and exit\n\n      if (text) {\n        var filter = text;\n        value = value || \"\";\n\n        if (typeof text == \"string\") {\n          text = text.replace(/#/g, \"\");\n          if (typeof value == \"function\") filter = function (obj) {\n            return value(obj[text]);\n          };else {\n            value = value.toString().toLowerCase();\n\n            filter = function (obj, value) {\n              //default filter - string start from, case in-sensitive\n              assert(obj, \"Client side filtering can't be used with dynamic loading\");\n              return (obj[text] || \"\").toString().toLowerCase().indexOf(value) != -1;\n            };\n          }\n        }\n\n        this._filter_core(filter, value, preserve, this._filterMode);\n      } //repaint self\n\n\n      this.refresh();\n      this.callEvent(\"onAfterFilter\", []);\n    },\n\n    /*\n    \tIterate through collection\n    */\n    _obj_array: function () {\n      var data = [];\n\n      for (var i = this.order.length - 1; i >= 0; i--) {\n        data[i] = this.pull[this.order[i]];\n      }\n\n      return data;\n    },\n    each: function (method, master, all) {\n      var order = this.order;\n      if (all) order = this._filter_order || order;\n\n      for (var i = 0; i < order.length; i++) {\n        if (order[i]) method.call(master || this, this.getItem(order[i]), i);\n      }\n    },\n    _methodPush: function (object, method) {\n      return function () {\n        return object[method].apply(object, arguments);\n      };\n    },\n\n    /*\n    \tmap inner methods to some distant object\n    */\n    provideApi: function (target, eventable) {\n      if (eventable) {\n        this.mapEvent({\n          onbeforesort: target,\n          onaftersort: target,\n          onbeforeadd: target,\n          onafteradd: target,\n          onbeforedelete: target,\n          onafterdelete: target,\n          ondataupdate: target\n          /*,\n          onafterfilter:\ttarget,\n          onbeforefilter:\ttarget*/\n\n        });\n      }\n\n      var list = [\"sort\", \"add\", \"remove\", \"exists\", \"getIdByIndex\", \"getIndexById\", \"getItem\", \"updateItem\", \"refresh\", \"count\", \"filter\", \"find\", \"getNextId\", \"getPrevId\", \"clearAll\", \"getFirstId\", \"getLastId\", \"serialize\", \"sync\"];\n\n      for (var i = 0; i < list.length; i++) {\n        target[list[i]] = this._methodPush(this, list[i]);\n      }\n    },\n    addMark: function (id, mark, css, value, silent) {\n      var obj = this._marks[id] || {};\n      this._marks[id] = obj;\n\n      if (!obj[mark]) {\n        obj[mark] = value || true;\n\n        if (css) {\n          var old_css = obj.$css || \"\";\n          obj.$css = old_css + \" \" + mark;\n        }\n\n        if (!silent) this.refresh(id);\n      }\n\n      return obj[mark];\n    },\n    removeMark: function (id, mark, css, silent) {\n      var obj = this._marks[id];\n\n      if (obj) {\n        if (obj[mark]) delete obj[mark];\n\n        if (css) {\n          var current_css = obj.$css;\n\n          if (current_css) {\n            obj.$css = current_css.replace(mark, \"\").replace(\"  \", \" \");\n          }\n        }\n\n        if (!silent) this.refresh(id);\n      }\n    },\n    getMark: function (id, mark) {\n      var obj = this._marks[id];\n      return obj ? obj[mark] : false;\n    },\n    clearMark: function (name, css, silent) {\n      for (var id in this._marks) {\n        var obj = this._marks[id];\n\n        if (obj[name]) {\n          delete obj[name];\n          if (css && obj.$css) obj.$css = obj.$css.replace(name, \"\").replace(\"  \", \" \");\n          if (!silent) this.refresh(id);\n        }\n      }\n    },\n\n    /*\n    \tserializes data to a json object\n    */\n    serialize: function (all) {\n      var ids = this.order;\n      if (all && this._filter_order) ids = this._filter_order;\n      var result = [];\n\n      for (var i = 0; i < ids.length; i++) {\n        var el = this.pull[ids[i]];\n\n        if (this._scheme_serialize) {\n          el = this._scheme_serialize(el);\n          if (el === false) continue;\n        }\n\n        result.push(el);\n      }\n\n      return result;\n    },\n    sorting: {\n      create: function (config) {\n        if (isArray(config)) return this._multi(config);\n        return this._dir(config.dir, this._by(config.by, config.as));\n      },\n      as: {\n        //handled by dataFeed\n        \"server\": function () {\n          return false;\n        },\n        \"date\": function (a, b) {\n          a = a - 0;\n          b = b - 0;\n          if (isNaN(b)) return 1;\n          if (isNaN(a)) return -1;\n          return a > b ? 1 : a < b ? -1 : 0;\n        },\n        \"int\": function (a, b) {\n          a = a * 1;\n          b = b * 1;\n          if (isNaN(b)) return 1;\n          if (isNaN(a)) return -1;\n          return a > b ? 1 : a < b ? -1 : 0;\n        },\n        \"string_strict\": function (a, b) {\n          if (!b) return 1;\n          if (!a) return -1;\n          a = a.toString();\n          b = b.toString();\n          return a > b ? 1 : a < b ? -1 : 0;\n        },\n        \"string\": function (a, b) {\n          if (!b) return 1;\n          if (!a) return -1;\n          a = a.toString().toLowerCase();\n          b = b.toString().toLowerCase();\n          return a > b ? 1 : a < b ? -1 : 0;\n        },\n        \"raw\": function (a, b) {\n          return a > b ? 1 : a < b ? -1 : 0;\n        }\n      },\n      _multi: function (methods) {\n        var _this2 = this;\n\n        methods = methods.map(function (c) {\n          return _this2._dir(c.dir, _this2._by(c.by, c.as));\n        });\n        return function (a, b) {\n          var result,\n              i = 0;\n\n          do {\n            result = methods[i](a, b);\n          } while (!result && methods[++i]);\n\n          return result;\n        };\n      },\n      _by: function (prop, method) {\n        if (!prop) return method;\n        if (typeof method != \"function\") method = this.as[method || \"string\"];\n        assert(method, \"Invalid sorting method\");\n        return function (a, b) {\n          return method(a[prop], b[prop]);\n        };\n      },\n      _dir: function (prop, method) {\n        if (prop == \"asc\" || !prop) return method;\n        return function (a, b) {\n          return method(a, b) * -1;\n        };\n      }\n    }\n  };\n\n  /*\n  \tBehavior:DataLoader - load data in the component\n  \t\n  \t@export\n  \t\tload\n  \t\tparse\n  */\n\n  var DataLoader = exports.proto({\n    $init: function (config) {\n      //prepare data store\n      config = config || \"\";\n      this._feed_last = {};\n      this._data_generation = 0;\n      this.data = new DataStore();\n      this.data.attachEvent(\"onClearAll\", bind(this._call_onclearall, this));\n      this.data.attachEvent(\"onServerConfig\", bind(this._call_on_config, this));\n      this.attachEvent(\"onDestruct\", this._call_onclearall);\n      this.data.feed = this._feed;\n      this.data.owner = config.id;\n    },\n    _feed: function (from, count, callback, defer, clear) {\n      //allow only single request at same time\n      if (this._load_count) {\n        defer = Deferred.defer();\n        this._load_count = [from, count, callback, defer, clear]; //save last ignored request\n\n        return defer;\n      } else this._load_count = true;\n\n      this._feed_last.from = from;\n      this._feed_last.count = count;\n      return this._feed_common.call(this, from, count, callback, defer, false, clear);\n    },\n    _feed_common: function (from, count, callback, defer, details, clear) {\n      var _this = this;\n\n      var url = this.data.url;\n      if (from < 0) from = 0;\n      if (!details) details = {\n        start: from,\n        count: count\n      };\n      if (this.count()) details[\"continue\"] = \"true\";\n      var state = this.getState ? this.getState() : null; // proxy\n\n      if (url && typeof url != \"string\") {\n        if (state) {\n          if (state.sort) details.sort = state.sort;\n          if (state.filter) details.filter = state.filter;\n        }\n\n        return this.load(url, 0, details, clear).then(function (data) {\n          return _this._feed_on_load(data, callback, defer);\n        }, function () {\n          return _this._feed_callback();\n        });\n      } else {\n        // GET\n        url = url + (url.indexOf(\"?\") == -1 ? \"?\" : \"&\");\n        var params = [];\n\n        for (var d in details) {\n          params.push(d + \"=\" + details[d]);\n        }\n\n        if (state) {\n          if (state.sort) {\n            var sort = isArray(state.sort) ? state.sort : [state.sort];\n\n            for (var i = 0; i < sort.length; i++) {\n              params.push(\"sort[\" + sort[i].id + \"]=\" + encodeURIComponent(sort[i].dir));\n            }\n          }\n\n          if (state.filter) for (var key in state.filter) {\n            var filterValue = state.filter[key];\n            if (_typeof(filterValue) == \"object\") filterValue = ajax().stringify(filterValue); //server daterangefilter\n\n            params.push(\"filter[\" + key + \"]=\" + encodeURIComponent(filterValue));\n          }\n        }\n\n        url += params.join(\"&\");\n\n        if (this._feed_last.url !== url) {\n          this._feed_last.url = url;\n          return this.load(url, 0, null, clear).then(function (data) {\n            return _this._feed_on_load(data, callback, defer);\n          }, function () {\n            return _this._feed_callback();\n          });\n        } else {\n          this._load_count = false;\n          return Deferred.reject();\n        }\n      }\n    },\n    _feed_on_load: function (data, callback, defer) {\n      var _this2 = this;\n\n      delay(function () {\n        return _this2._feed_callback();\n      }, \"\", \"\", 100);\n      if (callback) ajax.$callback(this, callback, data);\n      if (defer) defer.resolve(data);\n      return data;\n    },\n    _feed_callback: function () {\n      //after loading check if we have some ignored requests\n      var temp = this._load_count;\n      this._load_count = false;\n      if (_typeof(temp) == \"object\") this.data.feed.apply(this, temp); //load last ignored request\n    },\n    //loads data from external URL\n    load: function (url) {\n      url = proxy$5.$parse(url);\n      var ajax$$1 = AtomDataLoader.load.apply(this, arguments); //prepare data feed for dyn. loading\n\n      if (!this.data.url) this.data.url = url;\n      return ajax$$1;\n    },\n    //load next set of data rows\n    loadNext: function (count, start, callback, url, now, clear) {\n      var config = this._settings;\n\n      if (config.datathrottle && !now) {\n        if (this._throttle_request) window.clearTimeout(this._throttle_request);\n        var defer = Deferred.defer();\n        this._throttle_request = delay(function () {\n          defer.resolve(this.loadNext(count, start, callback, url, true, clear));\n        }, this, 0, config.datathrottle);\n        return defer;\n      }\n\n      if (!start && start !== 0) start = this.count();\n      if (!count) count = config.datafetch || this.count();\n      this.data.url = url || this.data.url;\n      if (this.callEvent(\"onDataRequest\", [start, count, callback, url]) && this.data.url) return this.data.feed.call(this, start, count, callback, false, clear);\n      return Deferred.reject();\n    },\n    _maybe_loading_already: function (count, from) {\n      var last = this._feed_last;\n\n      if (this._load_count && last.url) {\n        if (last.from <= from && last.count + last.from >= count + from) return true;\n      }\n\n      return false;\n    },\n    removeMissed_setter: function (value) {\n      return this.data._removeMissed = value;\n    },\n    //init of dataprocessor delayed after all settings processing\n    //because it need to be the last in the event processing chain\n    //to get valid validation state\n    _init_dataprocessor: function () {\n      var url = this._settings.save;\n      if (url === true) url = this._settings.save = this._settings.url;\n      var obj = {\n        master: this\n      };\n      if (url && url.url) exports.extend(obj, url);else obj.url = url;\n      dp(obj);\n    },\n    save_setter: function (value) {\n      if (value) this.$ready.push(this._init_dataprocessor);\n      return value;\n    },\n    waitSave: function (handler) {\n      var _this3 = this;\n\n      return dp(this)._promise(function () {\n        handler.call(_this3);\n      }).then(function (many) {\n        return many.length == 1 ? many[0] : many;\n      });\n    },\n    scheme_setter: function (value) {\n      this.data.scheme(value);\n    },\n    dataFeed_setter: function (value) {\n      value = proxy$5.$parse(value);\n      this.data.attachEvent(\"onBeforeFilter\", bind(function (text, filtervalue) {\n        var _this4 = this;\n\n        var result; //complex filtering, can't be routed to dataFeed\n\n        if (typeof text == \"function\") return true; //we have dataFeed and some text\n\n        if (this._settings.dataFeed && (text || filtervalue)) {\n          text = text || \"id\";\n          if (filtervalue && _typeof(filtervalue) == \"object\") filtervalue = filtervalue.id;\n          var url = this._settings.dataFeed; //url data feed\n\n          if (typeof url == \"string\") {\n            var urldata = \"filter[\" + text + \"]=\" + encodeURIComponent(filtervalue);\n            result = this._fetch(url + (url.indexOf(\"?\") < 0 ? \"?\" : \"&\") + urldata, this._settings.datatype);\n          } //js data feed\n          else {\n              var filter = {};\n              filter[text] = filtervalue;\n\n              if (typeof url == \"function\") {\n                result = url.call(this, filtervalue, filter);\n              } else if (url.$proxy && url.load) {\n                result = url.load(this, {\n                  filter: filter\n                });\n              }\n            }\n\n          if (result) {\n            if (!result.then) result = Deferred.resolve(result);\n            result.then(function (data) {\n              _this4._onLoad(data, true);\n\n              _this4.data.callEvent(\"onAfterFilter\", []);\n            }, function (x) {\n              return _this4._onLoadError(x);\n            });\n          }\n\n          return false;\n        }\n      }, this));\n      return value;\n    },\n    _call_onready: function () {\n      if (this._settings.ready && !this._ready_was_used) {\n        var code = toFunctor(this._settings.ready, this.$scope);\n        if (code) delay(code, this, arguments);\n        if (this.callEvent) delay(this.callEvent, this, [\"onReady\", []]);\n        this._ready_was_used = true;\n      }\n    },\n    _call_onclearall: function (soft) {\n      this._data_generation++;\n\n      if (!soft) {\n        this._load_count = false;\n        this._feed_last = {};\n        this.waitData = Deferred.defer();\n      }\n    },\n    _call_on_config: function (config) {\n      this._parseSeetingColl(config);\n    }\n  }, AtomDataLoader);\n\n  var DataState = {\n    getState: function () {\n      var _this = this;\n\n      var cols_n = this.config.columns.length;\n      var columns = this.config.columns;\n      var settings = {\n        ids: [],\n        size: [],\n        select: this.getSelectedId(true),\n        scroll: this.getScrollState()\n      };\n\n      for (var i = 0; i < cols_n; i++) {\n        var col = columns[i];\n        settings.ids.push(col.id);\n        settings.size.push(col.fillspace || col.adjust ? -1 : col.width);\n      }\n\n      settings.order = [].concat(this._hidden_column_order.length ? this._hidden_column_order : settings.ids);\n\n      if (this._last_order.length) {\n        var sort = this._last_order.map(function (id) {\n          return {\n            id: id,\n            dir: _this._last_sorted[id].dir\n          };\n        });\n\n        settings.sort = sort.length == 1 ? sort[0] : sort;\n      } //this method will try to access the rendered values\n      //just ignore it if grid is not rendered yet\n\n\n      if (this._filter_elements && this._dtable_fully_ready) {\n        var filter = {};\n        var any_filter = 0;\n\n        for (var key in this._filter_elements) {\n          if (this._hidden_column_hash[key]) continue;\n          var f = this._filter_elements[key];\n          f[1].value = filter[key] = f[2].getValue(f[0]);\n          any_filter = 1;\n        }\n\n        if (any_filter) settings.filter = filter;\n      }\n\n      settings.hidden = [];\n\n      for (var _key in this._hidden_column_hash) {\n        settings.hidden.push(_key);\n      }\n\n      return settings;\n    },\n    setState: function (obj) {\n      var _this2 = this;\n\n      var columns = this.config.columns;\n      if (!obj) return;\n      this.markSorting();\n      this._last_order = [];\n      this._last_sorted = {};\n      this.blockEvent();\n\n      if (obj.order && obj.order.length) {\n        this._hidden_column_order = _to_array([].concat(obj.order));\n        var rs = obj.order.length - this._settings.rightSplit;\n        this._hidden_split = [this._settings.leftSplit, rs, this._settings.rightSplit];\n      }\n\n      if (obj.hidden) {\n        var hihash = {};\n\n        for (var i = 0; i < obj.hidden.length; i++) {\n          hihash[obj.hidden[i]] = true;\n          if (!this._hidden_column_order.length) this.hideColumn(obj.hidden[i]);\n        }\n\n        if (this._hidden_column_order.length) {\n          for (var _i = 0; _i < this._hidden_column_order.length; _i++) {\n            var hikey = this._hidden_column_order[_i];\n            if (!!hihash[hikey] == !this._hidden_column_hash[hikey]) this.hideColumn(hikey, {}, false, !!hihash[hikey]);\n          }\n        }\n      }\n\n      if (obj.ids) {\n        var reorder = false;\n\n        for (var _i2 = 0; _i2 < columns.length; _i2++) {\n          if (columns[_i2].id != obj.ids[_i2]) reorder = true;\n        }\n\n        if (reorder) {\n          for (var _i3 = 0; _i3 < obj.ids.length; _i3++) {\n            columns[_i3] = this.getColumnConfig(obj.ids[_i3]) || columns[_i3];\n          }\n\n          this.refreshColumns();\n        }\n      }\n\n      if (obj.size) {\n        var cols_n = Math.min(obj.size.length, columns.length);\n\n        for (var _i4 = 0; _i4 < cols_n; _i4++) {\n          var col = columns[_i4];\n\n          if (col && obj.size[_i4] > 0 && col.width != obj.size[_i4]) {\n            delete col.fillspace;\n            delete col.adjust;\n\n            this._setColumnWidth(_i4, obj.size[_i4], true);\n          }\n        }\n      }\n\n      this.unblockEvent();\n      var silent = !(this._settings.leftSplit || this._settings.rightSplit);\n\n      this._updateColsSizeSettings(silent);\n\n      this.callEvent(\"onStructureUpdate\", []);\n      var server = this._skip_server_op = {};\n\n      if (obj.sort) {\n        var sort = obj.sort,\n            multi = true;\n\n        if (!isArray(sort)) {\n          sort = [sort];\n          multi = false;\n        }\n\n        for (var _i5 = 0; _i5 < sort.length; _i5++) {\n          var _col = this.getColumnConfig(sort[_i5].id);\n\n          if (_col) {\n            this._sort(_col.id, sort[_i5].dir, _col.sort, multi);\n\n            if (_col.sort == \"server\") server.sort = true;\n          }\n        }\n      }\n\n      if (obj.filter) {\n        //temporary disable filtering \n        var temp = this.filterByAll;\n\n        this.filterByAll = function () {}; //apply defined filters\n\n\n        for (var key in obj.filter) {\n          var value = obj.filter[key];\n          var f = this._filter_elements[key];\n          if (!value || !f) continue;\n          f[2].setValue(f[0], value);\n          var contentid = f[1].contentId;\n          if (contentid) this._active_headers[contentid].value = value;\n        } //remove old filters\n\n\n        for (var _key2 in this._filter_elements) {\n          if (!obj.filter[_key2]) {\n            var _f = this._filter_elements[_key2];\n\n            _f[2].setValue(_f[0], \"\");\n          }\n        } //restore and apply filtering\n\n\n        this.filterByAll = temp;\n        this.filterByAll();\n      } // apply server filter\\sort once\n\n\n      delete this._skip_server_op;\n      if (server.sort || server.filter) this.loadNext(0, 0, 0, 0, true, true).then(function () {\n        if (server.sort) _this2._on_after_sort(server.$params);\n        if (server.filter) _this2._on_after_filter();\n      });\n\n      if (obj.select && this.select) {\n        var select = obj.select;\n        this.unselect();\n\n        for (var _i6 = 0; _i6 < select.length; _i6++) {\n          if (!select[_i6].row || this.exists(select[_i6].row)) this._select(select[_i6], true);\n        }\n      }\n\n      if (obj.scroll) this.scrollTo(obj.scroll.x, obj.scroll.y);\n    }\n  };\n\n  /*\n  \tBehavior:DragItem - adds ability to move items by dnd\n  \t\n  \tdnd context can have next properties\n  \t\tfrom - source object\n  \t\tto - target object\n  \t\tsource - id of dragged item(s)\n  \t\ttarget - id of drop target, null for drop on empty space\n  \t\tstart - id from which DND was started\n  */\n\n  var DragItem = {\n    //helper - defines component's container as active zone for dragging and for dropping\n    _initHandlers: function (obj, source, target) {\n      if (!source) DragControl.addDrop(obj._contentobj, obj, true);\n      if (!target) DragControl.addDrag(obj._contentobj, obj);\n      this.attachEvent(\"onDragOut\", function (a, b) {\n        this.$dragMark(a, b);\n      });\n      this.attachEvent(\"onBeforeAutoScroll\", function () {\n        var context = DragControl.getContext();\n        return !!(DragControl._active && context && (context.to === this || this._auto_scroll_force));\n      });\n    },\n    drag_setter: function (value) {\n      if (value) {\n        exports.extend(this, AutoScroll, true);\n        if (value == \"order\" || value == \"move\") exports.extend(this, use(\"DragOrder\"), true);\n        if (value == \"inner\" || value == \"order\") this._inner_drag_only = true;\n\n        this._initHandlers(this, value == \"source\", value == \"target\");\n\n        delete this.drag_setter; //prevent double initialization\n      }\n\n      return value;\n    },\n\n    /*\n    \ts - source html element\n    \tt - target html element\n    \td - drop-on html element ( can be not equal to the target )\n    \te - native html event \n    */\n    //called when drag moved over possible target\n    $dragIn: function (s, t, e) {\n      var id = this.locate(e) || null;\n      var context = DragControl._drag_context; //in inner drag mode - ignore dnd from other components\n\n      if ((this._inner_drag_only || context.from._inner_drag_only) && context.from !== this) return false;\n      var to = DragControl.getMaster(t); //previous target\n\n      var html = this.getItemNode(id, e) || this._dataobj; //prevent double processing of same target\n\n\n      if (html == DragControl._landing) return html;\n      context.target = id;\n      context.to = to;\n      if (this._auto_scroll_delay) this._auto_scroll_delay = window.clearTimeout(this._auto_scroll_delay);\n      var fragile = this._touch_scroll && !this._settings.prerender;\n      if (this._settings.dragscroll !== false && !fragile) this._auto_scroll_delay = delay(function (pos$$1, id) {\n        this._drag_pause(id);\n\n        this._auto_scroll(pos$$1, id);\n      }, this, [pos(e), id], 250);\n\n      if (!this.$dropAllow(context, e) || !this.callEvent(\"onBeforeDragIn\", [context, e])) {\n        context.to = context.target = null;\n        if (this._auto_scroll_delay) this._auto_scroll_delay = window.clearTimeout(this._auto_scroll_delay);\n        return null;\n      } //mark target only when landing confirmed\n\n\n      this.$dragMark(context, e);\n      return html;\n    },\n    $dropAllow: function () {\n      return true;\n    },\n    _drag_pause: function () {//may be reimplemented in some components\n      // tree for example\n    },\n    _target_to_id: function (target) {\n      return target && _typeof(target) === \"object\" ? target.toString() : target;\n    },\n    //called when drag moved out from possible target\n    $dragOut: function (s, t, n, e) {\n      var id = (this._viewobj.contains(n) ? this.locate(e) : null) || null;\n      var context = DragControl._drag_context; //still over previous target\n\n      if ((context.target || \"\").toString() == (id || \"\").toString()) return null;\n      if (this._auto_scroll_delay) this._auto_scroll_delay = window.clearTimeout(this._auto_scroll_delay); //unmark previous target\n\n      context.target = context.to = null;\n      this.callEvent(\"onDragOut\", [context, e]);\n      return null;\n    },\n    //called when drag moved on target and button is released\n    $drop: function (s, t, e) {\n      var context = DragControl._drag_context; //finalize context details\n\n      context.to = this;\n\n      this._define_index(s, t, context); //unmark last target\n\n\n      this.$dragMark({}, e);\n\n      if (context.from && context.from != context.to && context.from.callEvent) {\n        if (!context.from.callEvent(\"onBeforeDropOut\", [context, e])) return;\n      }\n\n      if (!this.callEvent(\"onBeforeDrop\", [context, e])) return; //moving\n\n      this._context_to_move(context, e);\n\n      this.callEvent(\"onAfterDrop\", [context, e]);\n    },\n    _define_index: function (s, t, context) {\n      var target = this._target_to_id(context.target);\n\n      if (this.getBranchIndex) {\n        if (target) {\n          context.parent = this.getParentId(target);\n          context.index = this.getBranchIndex(target);\n        } else context.index = -1;\n      } else context.index = target ? this.getIndexById(target) : this.count();\n    },\n    _context_to_move: function (context) {\n      assert(context.from, \"Unsopported d-n-d combination\");\n\n      if (context.from && context.from.move) {\n        //from different component with item dnd\n        var details = {\n          parent: context.parent,\n          mode: context.pos\n        };\n        context.from.move(context.source, context.index, context.to, details);\n      }\n    },\n    $longTouchLimit: true,\n    _getDragItemPos: function (pos$$1, e) {\n      if (this.getItemNode) {\n        var id = this.locate(e, true); //in some case, node may be outiside of dom ( spans in datatable for example )\n        //so getItemNode can return null\n\n        var node = id ? this.getItemNode(id) : null;\n        return node ? offset(node) : node;\n      }\n    },\n    //called when drag action started\n    $drag: function (s, e) {\n      var id = this.locate(e, true);\n\n      if (id) {\n        var list = [id];\n\n        if (this.getSelectedId) {\n          //has selection model\n          //if dragged item is one of selected - drag all selected\n          var selection = this.getSelectedId(true, true);\n\n          if (selection && selection.length > 1 && _power_array.find.call(selection, id) != -1) {\n            var hash = {};\n            list = [];\n\n            for (var i = 0; i < selection.length; i++) {\n              hash[selection[i]] = true;\n            }\n\n            for (var _i = 0; _i < this.data.order.length; _i++) {\n              var hash_id = this.data.order[_i];\n              if (hash[hash_id]) list.push(hash_id);\n            }\n          }\n        } //save initial dnd params\n\n\n        var context = DragControl._drag_context = {\n          source: list,\n          start: id\n        };\n        context.from = this;\n\n        if (this.callEvent(\"onBeforeDrag\", [context, e])) {\n          if (Touch._start_context) delay(function () {\n            Touch._start_context = null;\n          }); //set drag representation\n\n          return context.html || this.$dragHTML(this.getItem(id), e, context);\n        }\n      }\n\n      return null;\n    },\n    $dragHTML: function (obj, e, context) {\n      var html = this._toHTML(obj);\n\n      if (isArray(context.source) && context.source.length > 1) html = this._toMultipleHTML(html, context.source.length);\n      return html;\n    },\n    _toMultipleHTML: function (html, len) {\n      html = \"<div class='webix_drag_main'>\" + html + \"</div>\";\n      var multiple = \"<div class='webix_drag_multiple'></div>\";\n      if (len > 2) multiple = \"<div class='webix_drag_multiple_last'></div>\" + multiple;\n      return multiple + html + \"<span class='webix_badge'>\" + len + \"</span>\";\n    },\n    $dragMark: function (context) {\n      var target = null;\n      if (context.target) target = this._target_to_id(context.target); //touch webkit will stop touchmove event if source node removed\n\n      if (this._marked && this._marked != target) {\n        this._remove_css([this._marked], \"webix_drag_over\", true);\n\n        this._marked = null;\n      }\n\n      if (!this._marked && target) {\n        this._marked = target;\n\n        this._add_css([target], \"webix_drag_over\", true);\n\n        return target;\n      }\n\n      return !!context.to;\n    },\n    _add_css: function (source, css) {\n      for (var i = 0; i < source.length; i++) {\n        this.addCss(source[i], css);\n      }\n    },\n    _remove_css: function (source, css) {\n      for (var i = 0; i < source.length; i++) {\n        this.removeCss(source[i], css);\n      }\n    },\n    // methods used in order/move modes\n    $dropHTML: function () {\n      return \"\";\n    },\n    _set_drop_area: function (target, t) {\n      var node = this.getItemNode(target);\n\n      if (node) {\n        node.parentNode.insertBefore(DragControl._dropHTML[0], node);\n      } else t.children[0].appendChild(DragControl._dropHTML[0]);\n    }\n  };\n\n  var DragOrder = {\n    $drag: function (s, e) {\n      var html = DragItem.$drag.apply(this, arguments);\n      if (!html) return html;\n      var context = DragControl._drag_context;\n      if (this._close_branches) this._close_branches(context);\n      if (this._inner_drag_only && this.getBranchIndex) this._drag_order_stored_left = this._drag_order_complex ? (this.getItem(context.start).$level + 1) * 20 + 8 : 0;\n\n      if (isArray(context.source)) {\n        DragControl._setDragOffset(e);\n\n        this._add_css(context.source, \"webix_invisible\");\n      }\n\n      return html;\n    },\n    $dragIn: function (s, t, e) {\n      var html = DragItem.$dragIn.apply(this, arguments);\n      if (!html) return html;\n      if (!DragControl._dropHTML) DragControl._dropHTML = this._init_drop_area();\n      var context = DragControl._drag_context;\n      var target = \"$webix-last\";\n      if (context.target) target = this._target_to_id(context.target);\n\n      if (target != \"$webix-last\" && target != \"$webix-drop\") {\n        var settings = {\n          direction: this._settings.layout || this._drag_direction || \"y\",\n          x: \"width\",\n          y: \"height\"\n        };\n        var ofs = offset(html);\n        var direction = pos(e)[settings.direction] - ofs[settings.direction];\n        if (direction * 2 > ofs[settings[settings.direction]]) target = this.getNextId(target) || \"$webix-last\";\n      }\n\n      if (target == this._marked_item_id || target == \"$webix-drop\") return html;\n      this._marked_item_id = target;\n\n      this._set_drop_area(target, t);\n\n      return html;\n    },\n    $dragPos: function (pos$$1) {\n      if (!this._inner_drag_only) {\n        var context = DragControl._drag_context;\n        pos$$1.y += context.y_offset;\n        pos$$1.x += context.x_offset;\n        return;\n      }\n\n      var box = offset(this.$view);\n      var xdrag = this._settings.layout == \"x\";\n\n      if (xdrag) {\n        box.x -= 12;\n        pos$$1.y = box.y - 8;\n        pos$$1.x = pos$$1.x - 18;\n        if (pos$$1.x < box.x) pos$$1.x = box.x;else {\n          var max = box.x + box.width;\n          if (pos$$1.x > max) pos$$1.x = max;\n        }\n      } else {\n        box.y += (this._header_height || 0) - 12;\n        pos$$1.x = box.x + 8 + (this._drag_order_stored_left || 0);\n        pos$$1.y = pos$$1.y - 18;\n        if (pos$$1.y < box.y) pos$$1.y = box.y;else {\n          var _max = box.y + box.height - (this._header_height || 0);\n\n          if (pos$$1.y > _max) pos$$1.y = _max;\n        }\n      }\n    },\n    $dragOut: function (s, ot, nt) {\n      if (ot != nt) {\n        if (this._remove_drop_area) this._remove_drop_area();else remove(DragControl._dropHTML);\n        this._marked_item_id = DragControl._dropHTML = null;\n      }\n\n      return DragItem.$dragOut.apply(this, arguments);\n    },\n    _define_index: function (s, t, context) {\n      var target = this._marked_item_id == \"$webix-last\" ? null : this._marked_item_id;\n\n      if (this.getBranchIndex) {\n        if (target) {\n          context.parent = this.getParentId(target);\n          context.index = this.getBranchIndex(target);\n          if (s == t && this.getParentId(context.start) == context.parent && this.getBranchIndex(context.start) < context.index) context.index -= 1;\n        } else context.index = -1;\n      } else {\n        context.index = target ? this.getIndexById(target) : this.count();\n        context.index -= s == t && this.getIndexById(context.start) < context.index ? 1 : 0;\n      }\n    },\n    $dragDestroy: function () {\n      var context = DragControl._drag_context;\n      if (isArray(context.source)) this._remove_css(context.source, \"webix_invisible\");\n      if (this._settings.dynamic) this.render(null, null, \"drag-end\");\n      remove(DragControl._html);\n    },\n    _init_drop_area: function () {\n      var node = document.createElement(\"div\");\n      node.className = \"webix_drop_area\";\n      node.style.width = this.type.width + \"px\";\n      node.style.height = this.type.height + \"px\";\n      node.innerHTML = this.$dropHTML();\n      node.setAttribute(this._id, \"$webix-drop\");\n      return [node];\n    },\n    $dragMark: function () {\n      return false;\n    }\n  };\n  define(\"DragOrder\", DragOrder);\n\n  var Undo = {\n    $init: function () {\n      this._undoHistory = exports.extend([], _power_array, true);\n      this._undoCursor = -1;\n    },\n    undo_setter: function (value) {\n      if (value) {\n        this._init_undo();\n\n        this._init_undo = function () {};\n      }\n\n      return value;\n    },\n    _init_undo: function () {\n      var view = this; // drag-n-drop\n\n      this.attachEvent(\"onBeforeDrop\", function (context) {\n        if (context.from == context.to) {\n          var item = view._draggedItem = copy(this.getItem(context.start));\n\n          if (this.data.branch) {\n            item.$index = this.getBranchIndex(item.id);\n          } else item.$index = this.getIndexById(item.id);\n        }\n      });\n      this.data.attachEvent(\"onDataMove\", function (sid) {\n        if (view._draggedItem && view._draggedItem.id == sid) {\n          var data = view._draggedItem;\n          view._draggedItem = null;\n\n          view._addToHistory(sid, data, \"move\");\n        }\n      }); // add, remove\n\n      this.data.attachEvent(\"onBeforeDelete\", function (id) {\n        if (this.getItem(id)) {\n          var item = view._deletedItem = copy(this.getItem(id));\n\n          if (this.branch) {\n            item.$index = this.getBranchIndex(id);\n            if (this.branch[id]) item.$branch = copy(this.serialize(id));\n          } else item.$index = this.getIndexById(id);\n        }\n      });\n      this.data.attachEvent(\"onDataUpdate\", function (id, data, old) {\n        view._addToHistory(id + \"\", old, \"update\");\n      });\n      this.data.attachEvent(\"onStoreUpdated\", function (id, item, mode) {\n        var data = null;\n\n        if (id) {\n          if (mode == \"add\") {\n            data = copy(item);\n          } else if (mode == \"delete\") {\n            data = view._deletedItem;\n          }\n\n          if (data) view._addToHistory(id, data, mode);\n        }\n      }); // id change\n\n      this.data.attachEvent(\"onIdChange\", function (oldId, newId) {\n        if (_typeof(oldId) == \"object\") oldId = oldId.row;\n\n        for (var i = 0; i < view._undoHistory.length; i++) {\n          if (view._undoHistory[i].id == oldId) {\n            view._undoHistory[i].id = newId;\n          }\n        }\n      });\n    },\n    _addToHistory: function (id, data, action) {\n      if (!this._skipHistory && this._settings.undo) {\n        this._undoHistory.push({\n          id: id,\n          action: action,\n          data: data\n        });\n\n        if (this._undoHistory.length == 20) this._undoHistory.splice(0, 1);\n        if (!this._skipCursorInc) this._undoCursor = this._undoHistory.length - 1;\n      }\n    },\n    ignoreUndo: function (func, master) {\n      this._skipHistory = true;\n      func.call(master || this);\n      this._skipHistory = false;\n    },\n    removeUndo: function (id) {\n      for (var i = this._undoHistory.length - 1; i >= 0; i--) {\n        if (this._undoHistory[i].id == id) {\n          if (this._undoHistory[i].action == \"id\") {\n            id = this._undoHistory[i].data;\n          }\n\n          this._undoHistory.removeAt(i);\n        }\n      }\n\n      this._undoCursor = this._undoHistory.length - 1;\n    },\n    undo: function (id) {\n      if (id) {\n        this.ignoreUndo(function () {\n          var data, i;\n\n          for (i = this._undoHistory.length - 1; !data && i >= 0; i--) {\n            if (this._undoHistory[i].id == id) data = this._undoHistory[i];\n          }\n\n          if (data) {\n            /*if(data.action == \"id\")\n            \tid = data.data;*/\n            this._undoAction(data);\n\n            this._undoHistory.removeAt(i + 1);\n\n            this._undoCursor = this._undoHistory.length - 1;\n          }\n        });\n      } else {\n        var data = this._undoHistory[this._undoCursor];\n\n        if (data) {\n          this.ignoreUndo(function () {\n            this._undoAction(data);\n\n            this._undoHistory.removeAt(this._undoCursor);\n          });\n          this._undoCursor--;\n          /*if(data.action == \"id\")\n          \tthis.undo();*/\n        }\n      }\n    },\n    _undoAction: function (obj) {\n      if (obj.action == \"delete\") {\n        var branch = null,\n            parentId = obj.data.$parent;\n\n        if (obj.data.$branch) {\n          branch = {\n            parent: obj.id,\n            data: copy(obj.data.$branch)\n          };\n          delete obj.data.$branch;\n          if (parentId && !this.data.pull[parentId]) parentId = 0;\n        }\n\n        this.add(obj.data, obj.data.$index, parentId);\n\n        if (branch) {\n          this.parse(branch);\n        }\n      } else if (obj.action == \"add\") {\n        this.remove(obj.id);\n      } else if (obj.action == \"update\") {\n        this.updateItem(obj.id, obj.data);\n      } else if (obj.action == \"move\") {\n        if (obj.data.$parent) {\n          if (this.getItem(obj.data.$parent)) this.move(obj.id, obj.data.$index, null, {\n            parent: obj.data.$parent\n          });\n        } else this.move(obj.id, obj.data.$index);\n      }\n      /*else if(obj.action == \"id\"){\n      \tthis.data.changeId(obj.id, obj.data);\n      }*/\n\n    }\n  };\n\n  function init_suggest(editor, input) {\n    var suggest = editor.config.suggest;\n\n    if (suggest) {\n      var box = editor.config.suggest = create_suggest(suggest);\n      var boxobj = $$(box);\n      if (boxobj && input) boxobj.linkInput(input);\n      return boxobj;\n    }\n  }\n\n  function attach_editend(suggest) {\n    if (suggest && suggest.setMasterValue && !suggest._editor_initialized) {\n      suggest._editor_initialized = true;\n      suggest.attachEvent(\"onValueSuggest\", function () {\n        delay(function () {\n          callEvent(\"onEditEnd\", []);\n        });\n      });\n    }\n  }\n\n  function create_suggest(config) {\n    if (typeof config == \"string\") return config;\n    if (config.linkInput) return config._settings.id;\n\n    if (_typeof(config) == \"object\") {\n      if (isArray(config)) config = {\n        data: config\n      };\n      config.view = config.view || \"suggest\";\n    } else if (config === true) config = {\n      view: \"suggest\"\n    };\n\n    var obj = ui(config);\n    return obj.config.id;\n  }\n\n  function getLabel(config) {\n    var text = config.header && config.header[0] ? config.header[0].text : config.editValue || config.label;\n    return (text || \"\").toString().replace(/<[^>]*>/g, \"\");\n  }\n  /*\n  this.node - html node, available after render call\n  this.config - editor config\n  this.value - original value\n  this.popup - id of popup \n  */\n\n\n  var editors = {\n    \"text\": {\n      focus: function () {\n        this.getInputNode(this.node).focus();\n        this.getInputNode(this.node).select();\n      },\n      getValue: function () {\n        return this.getInputNode(this.node).value;\n      },\n      setValue: function (value) {\n        var input = this.getInputNode(this.node);\n        input.value = value;\n        var suggest = init_suggest(this, input);\n        attach_editend(suggest);\n      },\n      getInputNode: function () {\n        return this.node.firstChild;\n      },\n      render: function () {\n        return create(\"div\", {\n          \"class\": \"webix_dt_editor\"\n        }, \"<input type='text' aria-label='\" + getLabel(this.config) + \"'>\");\n      }\n    },\n    \"inline-checkbox\": {\n      render: function () {\n        return {};\n      },\n      getValue: function () {\n        return this.node.checked;\n      },\n      setValue: function () {},\n      focus: function () {\n        this.node.focus();\n      },\n      getInputNode: function () {},\n      $inline: true\n    },\n    \"inline-text\": {\n      render: function () {\n        return {};\n      },\n      getValue: function () {\n        return this.node.value;\n      },\n      setValue: function () {},\n      focus: function () {\n        this.node.focus();\n        this.node.select();\n      },\n      getInputNode: function () {},\n      $inline: true\n    },\n    \"checkbox\": {\n      focus: function () {\n        this.getInputNode().focus();\n      },\n      getValue: function () {\n        return this.getInputNode().checked;\n      },\n      setValue: function (value) {\n        this.getInputNode().checked = !!value;\n      },\n      getInputNode: function () {\n        return this.node.firstChild.firstChild;\n      },\n      render: function () {\n        return create(\"div\", {\n          \"class\": \"webix_dt_editor\"\n        }, \"<div><input type='checkbox' aria-label='\" + getLabel(this.config) + \"'></div>\");\n      }\n    },\n    \"select\": {\n      focus: function () {\n        this.getInputNode().focus();\n      },\n      getValue: function () {\n        return this.getInputNode().value;\n      },\n      setValue: function (value) {\n        this.getInputNode().value = value;\n      },\n      getInputNode: function () {\n        return this.node.firstChild;\n      },\n      render: function () {\n        var html = \"\";\n        var options = this.config.options || this.config.collection;\n        assert(options, \"options not defined for select editor\");\n        if (options.data && options.data.each) options.data.each(function (obj) {\n          html += \"<option value='\" + obj.id + \"'>\" + obj.value + \"</option>\";\n        });else {\n          if (isArray(options)) {\n            for (var i = 0; i < options.length; i++) {\n              var rec = options[i];\n              var isplain = isUndefined(rec.id);\n              var id = isplain ? rec : rec.id;\n              var label = isplain ? rec : rec.value;\n              html += \"<option value='\" + id + \"'>\" + label + \"</option>\";\n            }\n          } else for (var key in options) {\n            html += \"<option value='\" + key + \"'>\" + options[key] + \"</option>\";\n          }\n        }\n        return create(\"div\", {\n          \"class\": \"webix_dt_editor\"\n        }, \"<select aria-label='\" + getLabel(this.config) + \"'>\" + html + \"</select>\");\n      }\n    },\n    popup: {\n      focus: function () {\n        this.getInputNode().focus();\n      },\n      destroy: function () {\n        this.getPopup().hide();\n      },\n      getValue: function () {\n        return this.getInputNode().getValue() || \"\";\n      },\n      setValue: function (value) {\n        this.getPopup().show(this.node);\n        this.getInputNode().setValue(value);\n      },\n      getInputNode: function () {\n        return this.getPopup().getChildViews()[0];\n      },\n      getPopup: function () {\n        if (!this.config.$popup) this.config.$popup = this.createPopup();\n        return $$(this.config.$popup);\n      },\n      createPopup: function () {\n        var popup = this.config.popup || this.config.suggest;\n\n        if (popup) {\n          var pobj;\n\n          if (_typeof(popup) == \"object\" && !popup.name) {\n            popup.view = popup.view || \"suggest\";\n            pobj = ui(copy(popup));\n          } else pobj = $$(popup); //custom popup may be linked already\n\n\n          if (!pobj._linked) {\n            if (pobj.linkInput) pobj.linkInput(document.body);else if (this.linkInput) this.linkInput(document.body);\n            pobj._linked = true;\n          }\n\n          attach_editend(pobj);\n          return pobj;\n        }\n\n        var type = editors.$popup[this.popupType];\n\n        if (typeof type != \"string\" && !type.name) {\n          type = editors.$popup[this.popupType] = ui(type);\n          this.popupInit(type);\n          if (!type.linkInput) this.linkInput(document.body);\n        }\n\n        return type._settings.id;\n      },\n      linkInput: function (node) {\n        _event(toNode(node), \"keydown\", bind(function (e) {\n          //abort, when editor was not initialized yet\n          if (!this.config.$popup) return;\n          var code = e.which || e.keyCode,\n              list = this.getInputNode();\n          if (!list.isVisible()) return;\n\n          if (list.moveSelection && code < 41 && code > 32) {\n            var dir;\n            if (code == 33) dir = \"pgup\";\n            if (code == 34) dir = \"pgdown\";\n            if (code == 35) dir = \"bottom\";\n            if (code == 36) dir = \"top\";\n            if (code == 37) dir = \"left\";\n            if (code == 38) dir = \"up\";\n            if (code == 39) dir = \"right\";\n            if (code == 40) dir = \"down\";\n            list.moveSelection(dir);\n          } // shift+enter support for 'popup' editor\n          else if (code === 13 && (e.target.nodeName !== \"TEXTAREA\" || !e.shiftKey)) callEvent(\"onEditEnd\", []);\n        }, this));\n      },\n      popupInit: function () {},\n      popupType: \"text\",\n      render: function () {\n        return {};\n      },\n      $inline: true\n    }\n  };\n  editors.color = exports.extend({\n    focus: function () {},\n    popupType: \"color\",\n    popupInit: function (popup) {\n      popup.getChildViews()[0].attachEvent(\"onItemClick\", function (value) {\n        callEvent(\"onEditEnd\", [value]);\n      });\n    }\n  }, editors.popup);\n  editors.date = exports.extend({\n    focus: function () {},\n    popupType: \"date\",\n    setValue: function (value) {\n      this._is_string = this.config.stringResult || value && typeof value == \"string\";\n      editors.popup.setValue.call(this, value);\n    },\n    getValue: function () {\n      return this.getInputNode().getValue(this._is_string ? i18n.parseFormatStr : \"\") || \"\";\n    },\n    popupInit: function (popup) {\n      popup.getChildViews()[0].attachEvent(\"onAfterDateSelect\", function (value) {\n        callEvent(\"onEditEnd\", [value]);\n      });\n    }\n  }, editors.popup);\n  editors.combo = exports.extend({\n    _create_suggest: function (config) {\n      var suggest, id;\n\n      if (this.config.popup) {\n        suggest = this.config.popup;\n        id = suggest.config.id;\n      } else if (config) {\n        id = create_suggest(config);\n        suggest = $$(id);\n      } else id = this._shared_suggest(config);\n\n      attach_editend(suggest);\n      return id;\n    },\n    _shared_suggest: function () {\n      var e = editors.combo;\n      return e._suggest = e._suggest || this._create_suggest(true);\n    },\n    render: function () {\n      var node = create(\"div\", {\n        \"class\": \"webix_dt_editor\"\n      }, \"<input type='text' role='combobox' aria-label='\" + getLabel(this.config) + \"'>\"); //save suggest id for future reference\t\t\n\n      var suggest = this.config.suggest = this._create_suggest(this.config.suggest);\n\n      if (suggest) {\n        $$(suggest).linkInput(node.firstChild, true);\n\n        _event(node.firstChild, \"click\", bind(this.showPopup, this));\n      }\n\n      return node;\n    },\n    getPopup: function () {\n      return $$(this.config.suggest);\n    },\n    showPopup: function () {\n      var popup = this.getPopup();\n      var list = popup.getList();\n      var input = this.getInputNode();\n      var value = this._initial_value;\n      popup.show(input);\n      input.setAttribute(\"aria-expanded\", \"true\");\n\n      if (value) {\n        assert(list.exists(value), \"Option with ID \" + value + \" doesn't exist\");\n\n        if (list.exists(value)) {\n          list.select(value);\n          list.showItem(value);\n        }\n      } else {\n        list.unselect();\n        list.showItem(list.getFirstId());\n      }\n\n      popup._last_input_target = input;\n    },\n    afterRender: function () {\n      this.showPopup();\n    },\n    setValue: function (value) {\n      this._initial_value = value;\n\n      if (this.config.suggest) {\n        var sobj = $$(this.config.suggest);\n        var data = this.config.collection || this.config.options;\n        if (data) sobj.getList().data.importData(data);\n        this.getInputNode(this.node).value = sobj.getItemText(value);\n      }\n    },\n    getValue: function () {\n      var value = this.getInputNode().value;\n\n      if (this.config.suggest) {\n        var suggest = $$(this.config.suggest),\n            list = suggest.getList();\n        if (value || list.getSelectedId && list.getSelectedId()) value = suggest.getSuggestion(value);\n      }\n\n      return value;\n    }\n  }, editors.text);\n  editors.richselect = exports.extend({\n    focus: function () {},\n    getValue: function () {\n      return this.getPopup().getValue();\n    },\n    setValue: function (value) {\n      var suggest = this.config.collection || this.config.options;\n      this.getInputNode();\n      if (suggest) this.getPopup().getList().data.importData(suggest);\n      this.getPopup().show(this.node);\n      this.getPopup().setValue(value);\n    },\n    getInputNode: function () {\n      return this.getPopup().getList();\n    },\n    popupInit: function (popup) {\n      popup.linkInput(document.body);\n      attach_editend(popup);\n    },\n    popupType: \"richselect\"\n  }, editors.popup);\n  editors.password = exports.extend({\n    render: function () {\n      var _this = this;\n\n      var node = create(\"div\", {\n        \"class\": \"webix_dt_editor webix_password_editor\"\n      }, \"<input type='password' aria-label='\" + getLabel(this.config) + \"'><span class='webix_icon wxi-eye'></span>\");\n      var icon = node.querySelector(\".webix_icon\");\n\n      _event(icon, \"click\", function () {\n        _this.toggleInput();\n\n        _this.getInputNode(_this.node).focus();\n      });\n\n      return node;\n    },\n    toggleInput: function () {\n      var input = this.getInputNode(this.node);\n      var isPassword = input.getAttribute(\"type\") === \"password\";\n      input.setAttribute(\"type\", isPassword ? \"text\" : \"password\");\n      var icon = input.nextSibling;\n      icon.className = \"webix_icon wxi-eye\".concat(isPassword ? \"-slash\" : \"\");\n    }\n  }, editors.text);\n  editors.$popup = {\n    text: {\n      view: \"popup\",\n      width: 250,\n      height: 150,\n      body: {\n        view: \"textarea\"\n      }\n    },\n    color: {\n      view: \"popup\",\n      body: {\n        view: \"colorboard\"\n      }\n    },\n    date: {\n      view: \"popup\",\n      width: 250,\n      height: 250,\n      padding: 0,\n      body: {\n        view: \"calendar\",\n        icons: true,\n        borderless: true\n      }\n    },\n    richselect: {\n      view: \"suggest\",\n      body: {\n        view: \"list\",\n        select: true\n      }\n    },\n    multiselect: {\n      view: \"multisuggest\",\n      suggest: {\n        button: true\n      }\n    }\n  };\n\n  /*\n  \tBehavior:EditAbility - enables item operation for the items\n  \t\n  \t@export\n  \t\tedit\n  \t\tstopEdit\n  */\n\n  var EditAbility = {\n    defaults: {\n      editaction: \"click\"\n    },\n    $init: function (config) {\n      this._editors = {};\n      this._in_edit_mode = 0;\n      this._edit_open_time = 0;\n      this._contentobj.style.position = \"relative\";\n      if (config) config.onDblClick = config.onDblClick || {};\n      this.attachEvent(\"onAfterRender\", this._refocus_inline_editor); //when we call extend the editable prop can be already set\n\n      if (this._settings.editable) this._init_edit_events_once();\n      exports.extend(this, Undo);\n    },\n    _refocus_try: function (newnode) {\n      try {\n        //Chrome throws an error if selectionStart is not accessible\n        if (typeof newnode.selectionStart == \"number\") {\n          newnode.selectionStart = newnode.selectionEnd = newnode.value.length;\n        } else if (typeof newnode.createTextRange != \"undefined\") {\n          var range = newnode.createTextRange();\n          range.collapse(false);\n          range.select();\n        }\n      } catch (e) {} // eslint-disable-line\n\n    },\n    _refocus_inline_editor: function () {\n      var editor = this.getEditor();\n\n      if (editor && editor.$inline && !editor.getPopup) {\n        var newnode = this._locateInput(editor);\n\n        if (newnode && newnode != editor.node) {\n          var text = editor.node.value;\n          editor.node = newnode;\n          newnode.value = text;\n          newnode.focus();\n\n          this._refocus_try(newnode);\n        } else this.editStop();\n      }\n    },\n    editable_setter: function (value) {\n      if (value) this._init_edit_events_once();\n      return value;\n    },\n    _init_edit_events_once: function () {\n      //will close editor on any click outside\n      var e1 = attachEvent(\"onEditEnd\", bind(function () {\n        if (this._in_edit_mode) this.editStop();\n      }, this));\n      var e2 = attachEvent(\"onClick\", bind(function (e) {\n        //but ignore click which opens editor\n        if (this._in_edit_mode && new Date() - this._edit_open_time > 200) {\n          if (!this._last_editor || this._last_editor.popupType || !e || !this._last_editor.node || !this._last_editor.node.contains(e.target)) this.editStop();\n        }\n      }, this));\n      this.attachEvent(\"onDestruct\", function () {\n        detachEvent(e1);\n        detachEvent(e2);\n      }); //property sheet has simple data object, without events\n\n      if (this.data.attachEvent) this.data.attachEvent(\"onIdChange\", bind(function (oldid, newid) {\n        this._changeEditorId(oldid, newid);\n      }, this)); //when clicking on row - will start editor\n\n      this.attachEvent(\"onItemClick\", function (id) {\n        if (this._settings.editable && this._settings.editaction == \"click\") this.edit(id);\n      });\n      this.attachEvent(\"onItemDblClick\", function (id) {\n        if (this._settings.editable && this._settings.editaction == \"dblclick\") this.edit(id);\n      }); //each time when we clicking on input, reset timer to prevent self-closing\n\n      this._reset_active_editor = bind(function () {\n        this._edit_open_time = new Date();\n      }, this);\n\n      this._init_edit_events_once = function () {};\n\n      if (this._component_specific_edit_init) this._component_specific_edit_init();\n    },\n    _handle_live_edits: function () {\n      delay(function () {\n        var editor = this.getEditor();\n\n        if (editor && editor.config.liveEdit) {\n          var state$$1 = {\n            value: editor.getValue(),\n            old: editor.value\n          };\n          if (state$$1.value == state$$1.old) return;\n          editor.value = state$$1.value;\n\n          this._set_new_value(editor, state$$1.value, false);\n\n          this.callEvent(\"onLiveEdit\", [state$$1, editor]);\n        }\n      }, this);\n    },\n    _show_editor_form: function (id) {\n      var form = this._settings.form;\n      if (typeof form != \"string\") this._settings.form = form = ui(form).config.id;\n      form = $$(form);\n      var realform = form.setValues ? form : form.getChildViews()[0];\n      realform.setValues(this.getItem(id.row || id), false, \"auto\");\n      form.config.master = this.config.id;\n      form.show(this.getItemNode(id));\n      var first = realform.getChildViews()[0];\n      if (first.focus) first.focus();\n    },\n    edit: function (id, preserve, show) {\n      if (!this._settings.editable || !this.callEvent(\"onBeforeEditStart\", [id])) return;\n      if (this._settings.form) return this._show_editor_form(id);\n\n      var editor = this._get_editor_type(id);\n\n      if (editor) {\n        if (this.getEditor(id)) return;\n        if (!preserve) this.editStop(); //render html input\n\n        assert(editors[editor], \"Invalid editor type: \" + editor);\n        var type = exports.extend({}, editors[editor]);\n\n        var node = this._init_editor(id, type, show);\n\n        if (type.config.liveEdit) this._live_edits_handler = this.attachEvent(\"onKeyPress\", this._handle_live_edits);\n        var area = type.getPopup ? type.getPopup(node)._viewobj : node;\n        if (area) _event(area, \"click\", this._reset_active_editor);\n        if (node) _event(node, \"input\", this._on_editor_change, {\n          bind: {\n            view: this,\n            id: id\n          }\n        });\n        if (show !== false) type.focus();\n        if (this.$fixEditor) this.$fixEditor(type); //save time of creation to prevent instant closing from the same click\n\n        this._edit_open_time = state.edit_open_time = new Date();\n        UIManager.setFocus(this, true);\n        this.callEvent(\"onAfterEditStart\", [id]);\n        return type;\n      }\n\n      return null;\n    },\n    getEditor: function (id) {\n      if (!id) return this._last_editor;\n      return this._editors[id];\n    },\n    _changeEditorId: function (oldid, newid) {\n      var editor = this._editors[oldid];\n\n      if (editor) {\n        this._editors[newid] = editor;\n        editor.id = newid;\n        delete this._editors[oldid];\n      }\n    },\n    _on_editor_change: function () {\n      if (this.view.hasEvent(\"onEditorChange\")) this.view.callEvent(\"onEditorChange\", [this.id, this.view.getEditorValue(this.id)]);\n    },\n    _get_edit_config: function () {\n      return this._settings;\n    },\n    _init_editor: function (id, type, show) {\n      type.config = this._get_edit_config(id);\n      var node = type.render();\n      if (type.$inline) node = this._locateInput(id);\n      type.node = node;\n      var item = this.getItem(id); //value can be configured by editValue option\n\n      var value = item[this._settings.editValue || \"value\"]; //if property was not defined - use empty value\n\n      if (isUndefined(value)) value = \"\";\n      type.setValue(value, item);\n      type.value = value;\n\n      this._addEditor(id, type); //show it over cell\n\n\n      if (show !== false) this.showItem(id);\n      if (!type.$inline) this._sizeToCell(id, node, true);\n      if (type.afterRender) type.afterRender();\n      return node;\n    },\n    _locate_cell: function (id) {\n      return this.getItemNode(id);\n    },\n    _locateInput: function (id) {\n      var cell = this._locate_cell(id);\n\n      if (cell) cell = cell.getElementsByTagName(\"input\")[0] || cell;\n      return cell;\n    },\n    _get_editor_type: function () {\n      return this._settings.editor;\n    },\n    _addEditor: function (id, type) {\n      type.id = id;\n      this._editors[id] = this._last_editor = type;\n      this._in_edit_mode++;\n    },\n    _removeEditor: function (editor) {\n      if (this._last_editor == editor) this._last_editor = 0;\n      if (editor.destroy) editor.destroy();\n      delete editor.popup;\n      delete editor.node;\n      delete this._editors[editor.id];\n      this._in_edit_mode--;\n    },\n    focusEditor: function () {\n      var editor = this.getEditor.apply(this, arguments);\n      if (editor && editor.focus) editor.focus();\n    },\n    editCancel: function () {\n      this.editStop(null, null, true);\n    },\n    _applyChanges: function (el) {\n      if (el) {\n        var ed = this.getEditor();\n        if (ed && ed.getPopup && ed.getPopup() == el.getTopParentView()) return;\n      }\n\n      this.editStop();\n    },\n    editStop: function (id) {\n      if (this._edit_stop) return;\n      this._edit_stop = 1;\n      var cancel = arguments[2];\n      var result = 1;\n\n      if (!id) {\n        this._for_each_editor(function (editor) {\n          result = result * this._editStop(editor, cancel);\n        });\n      } else result = this._editStop(this._editors[id], cancel);\n\n      this._edit_stop = 0;\n      return result;\n    },\n    _cellPosition: function (id) {\n      var html = this.getItemNode(id);\n      return {\n        left: html.offsetLeft,\n        top: html.offsetTop,\n        height: html.offsetHeight,\n        width: html.offsetWidth,\n        parent: this._contentobj\n      };\n    },\n    _sizeToCell: function (id, node, inline) {\n      //fake inputs\n      if (!node.style) return;\n\n      var pos$$1 = this._cellPosition(id, null, true);\n\n      node.style.top = pos$$1.top + \"px\";\n      node.style.left = pos$$1.left + \"px\";\n      node.style.width = pos$$1.width - 1 + \"px\";\n      node.style.height = pos$$1.height - 1 + \"px\";\n      node.top = pos$$1.top; //later will be used during y-scrolling\n\n      if (inline) pos$$1.parent.appendChild(node);\n      return pos$$1;\n    },\n    _for_each_editor: function (handler) {\n      for (var editor in this._editors) {\n        handler.call(this, this._editors[editor]);\n      }\n    },\n    _editStop: function (editor, ignore) {\n      if (!editor || state._final_destruction) return;\n      var state$$1 = {\n        value: this._get_new_value(editor),\n        old: editor.value\n      };\n\n      if (this.callEvent(\"onBeforeEditStop\", [state$$1, editor, ignore])) {\n        if (!ignore) {\n          //special case, state.old = 0, state.value = \"\"\n          //we need to state.old to string, to detect the change\n          var old = state$$1.old;\n          if (typeof state$$1.value == \"string\") old += \"\";\n\n          if (old != state$$1.value || editor.config.liveEdit) {\n            var item = this._set_new_value(editor, state$$1.value, true);\n\n            this.updateItem(editor.row || editor.id, item);\n          }\n        }\n\n        if (editor.$inline) editor.node = null;else remove(editor.node);\n        var popup = editor.config.suggest;\n        if (popup && typeof popup == \"string\") $$(popup).hide();\n\n        this._removeEditor(editor);\n\n        if (this._live_edits_handler) this.detachEvent(this._live_edits_handler);\n        this.callEvent(\"onAfterEditStop\", [state$$1, editor, ignore]);\n        return 1;\n      }\n\n      return 0;\n    },\n    validateEditor: function (id) {\n      var result = true;\n\n      if (this._settings.rules) {\n        var editor = this.getEditor(id);\n        var key = editor.column || this._settings.editValue || \"value\";\n        var rule = this._settings.rules[key];\n        var all = this._settings.rules.$all;\n        var input = editor.getInputNode();\n\n        if ((rule || all) && !input._viewobj) {\n          //only for html inputs\n          var obj = this.data.getItem(editor.row || editor.id);\n          var value = editor.getValue();\n          if (rule) result = rule.call(this, value, obj, key);\n          if (all) result = all.call(this, value, obj, key) && result;\n          if (result) removeCss(input, \"webix_invalid\");else addCss(input, \"webix_invalid\");\n          callEvent(\"onLiveValidation\", [editor, result, obj, value]);\n        }\n      }\n\n      return result;\n    },\n    getEditorValue: function (id) {\n      var editor;\n      if (arguments.length === 0) editor = this._last_editor;else editor = this.getEditor(id);\n      if (editor) return editor.getValue();\n    },\n    getEditState: function () {\n      return this._last_editor || false;\n    },\n    editNext: function (next, from) {\n      next = next !== false; //true by default\n\n      if (this._in_edit_mode == 1 || from) {\n        //only if one editor is active\n        var editor_next = this._find_cell_next(this._last_editor || from, function (id) {\n          if (this._get_editor_type(id)) return true;\n          return false;\n        }, next);\n\n        if (this.editStop()) {\n          //if we was able to close previous editor\n          if (editor_next) {\n            //and there is a new target\n            this.edit(editor_next); //init new editor\n\n            this._after_edit_next(editor_next);\n          }\n\n          return false;\n        }\n      }\n    },\n    //stab, used in datatable\n    _after_edit_next: function () {},\n    _find_cell_next: function (start, check, direction) {\n      var row = this.getIndexById(start.id);\n      var order = this.data.order;\n\n      if (direction) {\n        for (var i = row + 1; i < order.length; i++) {\n          if (check.call(this, order[i])) return order[i];\n        }\n      } else {\n        for (var _i = row - 1; _i >= 0; _i--) {\n          if (check.call(this, order[_i])) return order[_i];\n        }\n      }\n\n      return null;\n    },\n    _get_new_value: function (editor) {\n      return editor.getValue();\n    },\n    _set_new_value: function (editor, new_value, copy$$1) {\n      var item = copy$$1 ? {} : this.getItem(editor.id);\n      item[this._settings.editValue || \"value\"] = new_value;\n      return item;\n    }\n  };\n\n  var FlexLayout = {\n    $init: function () {\n      this.$view.className += \" webix_flexlayout\";\n    },\n    _fix_vertical_layout: function () {},\n    _beforeResetBorders: function () {},\n    _afterResetBorders: function () {},\n    $getSize: function () {\n      debug_size_box_start(this, true);\n      var w = 0,\n          h = 0,\n          g = this._settings.gravity;\n      this._sizes = [];\n\n      for (var i = 0; i < this._cells.length; i++) {\n        var size = this._cells[i].$getSize(0, 0);\n\n        this._sizes.push(size);\n\n        w = Math.max(w, size[0]);\n        h = Math.max(h, size[2]);\n      }\n\n      w += this._padding.left + this._padding.right;\n      h += this._padding.top + this._padding.bottom;\n      if (this._settings.width) w = Math.max(w, this._settings.width);\n      if (this._settings.height) h = Math.max(h, this._settings.height);\n      var self_size = [w, 100000, h, 100000, g];\n      debug_size_box_end(this, self_size);\n      return self_size;\n    },\n    render: function () {\n      this.resize();\n    },\n    _set_child_size: function () {\n      if (!this.isVisible(this._settings.id)) return;\n      var st = this.$view.style;\n      var margin = Math.round(this._margin / 2);\n      st.paddingTop = this._padding.top - margin + \"px\";\n      st.paddingBottom = this._padding.bottom - margin + \"px\";\n      st.paddingLeft = this._padding.left - margin + \"px\";\n      st.paddingRight = this._padding.right - margin + \"px\";\n\n      for (var i = 0; i < this._cells.length; i++) {\n        if (this._cells[i]._settings.hidden) continue;\n        var view = this._cells[i].$view;\n        var size = this._sizes[i];\n        var config = this._cells[i]._settings;\n\n        if (view) {\n          view.style.minWidth = size[0] + \"px\";\n          if (size[1] < 100000 && size[1] != size[0]) view.style.maxWidth = size[1] + \"px\";\n          view.style.flexBasis = config.flexBasis || size[0] + \"px\";\n          view.style.flexGrow = config.flexGrow || (size[1] != size[0] ? size[4] : 0);\n          view.style.height = size[3] != size[2] ? \"auto\" : size[2] + \"px\";\n          view.style.minHeight = size[2] + \"px\";\n          if (size[3] < 100000 && size[3] != size[2]) view.style.maxHeight = size[3] + \"px\";\n          view.style.margin = margin + \"px\";\n        }\n      }\n\n      var whs = [];\n\n      for (var _i = 0; _i < this._cells.length; _i++) {\n        if (this._cells[_i]._settings.hidden) continue;\n        var _view = this._cells[_i].$view;\n        whs[_i] = [_view.offsetWidth, _view.offsetHeight];\n      }\n\n      for (var _i2 = 0; _i2 < this._cells.length; _i2++) {\n        if (this._cells[_i2]._settings.hidden) continue;\n        var cell = this._cells[_i2];\n        var _view2 = cell.$view;\n\n        if (_view2) {\n          cell._settings.flex = true;\n          var _size = this._sizes[_i2];\n          var h = _size[2] == _size[3] ? _size[2] : whs[_i2][1];\n          cell.$setSize(whs[_i2][0], h);\n          cell._settings.flex = false;\n        }\n      }\n\n      this.$view.style.height = \"\";\n      this.$height = this._content_height = this.$view.scrollHeight;\n      this.$view.style.height = this._content_height + \"px\";\n    }\n  };\n\n  var GroupMethods = {\n    sum: function (property, data) {\n      data = data || this;\n      var summ = 0;\n\n      for (var i = 0; i < data.length; i++) {\n        var num = parseFloat(property(data[i]), 10);\n        if (!isNaN(num)) summ += num;\n      }\n\n      return summ;\n    },\n    min: function (property, data) {\n      data = data || this;\n      var min = Infinity;\n\n      for (var i = 0; i < data.length; i++) {\n        var num = parseFloat(property(data[i]), 10);\n        if (isNaN(num)) continue;\n        if (num < min) min = num;\n      }\n\n      return min === Infinity ? 0 : min * 1;\n    },\n    max: function (property, data) {\n      data = data || this;\n      var max = -Infinity;\n\n      for (var i = 0; i < data.length; i++) {\n        var num = parseFloat(property(data[i]), 10);\n        if (isNaN(num)) continue;\n        if (num > max) max = num;\n      }\n\n      return max === -Infinity ? 0 : max * 1;\n    },\n    count: function (property, data) {\n      var count = 0;\n\n      for (var i = 0; i < data.length; i++) {\n        var some = property(data[i]);\n        if (some !== null && typeof some !== \"undefined\") count++;\n      }\n\n      return count;\n    },\n    any: function (property, data) {\n      return property(data[0]);\n    },\n    string: function (property) {\n      return property.$name;\n    }\n  };\n\n  var GroupStore = {\n    $init: function () {\n      var _this = this;\n\n      this.attachEvent(\"onClearAll\", function () {\n        return _this._not_grouped_order = null;\n      });\n      this.attachEvent(\"onSyncApply\", function () {\n        return _this._not_grouped_order = null;\n      });\n    },\n    ungroup: function (target) {\n      if (this.getBranchIndex) {\n        if (!this._ungroupLevel(target)) return;\n      } else {\n        if (!this._not_grouped_order) return;\n        this.order = this._not_grouped_order;\n        this.pull = this._not_grouped_pull;\n      }\n\n      this.callEvent(\"onStoreUpdated\", []);\n    },\n    _ungroupLevel: function (target) {\n      var _this2 = this;\n\n      var parent = target || 0;\n      var level = parent == \"0\" ? 1 : this.getItem(parent).$level + 1;\n      var changed = false;\n      var top = this.branch[parent];\n      var order = [];\n\n      for (var i = 0; i < top.length; i++) {\n        var id = top[i];\n\n        if (this.pull[id].$group) {\n          changed = true;\n          var group = this.branch[id];\n          if (group) this.branch[id] = group.filter(function (a) {\n            if (!_this2.pull[a].$footer) return a;\n\n            _this2._unregisterItem(a);\n          });\n          order = order.concat(this.branch[id] || []);\n\n          this._unregisterItem(id);\n        } else order.push(id);\n      }\n\n      if (!changed) return false;\n      this.branch[parent] = order;\n\n      this._fix_group_levels(this.branch[parent], parent, level);\n\n      if (typeof target === \"undefined\") this._ungroupLevel();\n      return true;\n    },\n    _unregisterItem: function (id) {\n      delete this.pull[id];\n      delete this.branch[id];\n    },\n    _group_processing: function (scheme) {\n      this.blockEvent();\n      this.group(scheme);\n      this.unblockEvent();\n    },\n    _group_prop_accessor: function (val) {\n      if (typeof val == \"function\") return val;\n\n      var acc = function (obj) {\n        return obj[val];\n      };\n\n      acc.$name = val;\n      return acc;\n    },\n    group: function (config, target) {\n      assert(config, \"Empty config\");\n      var input;\n\n      if (typeof config === \"string\") {\n        input = config;\n        config = {\n          by: this._group_prop_accessor(config),\n          map: {}\n        };\n      } else if (typeof config === \"function\") {\n        config = {\n          by: config,\n          map: {}\n        };\n      } else if (typeof config.by === \"string\") {\n        input = config.by;\n        config.by = this._group_prop_accessor(config.by);\n      }\n\n      config.map = config.map || {};\n      if (input && !config.map[input]) config.map[input] = [input];\n      config.missing = config.missing === undefined ? true : config.missing;\n      if (this.getBranchIndex) return this._group_tree(config, target);\n\n      if (!this._not_grouped_order) {\n        this._not_grouped_order = this.order;\n        this._not_grouped_pull = this.pull;\n      }\n\n      var groups = {};\n      var labels = [];\n      var missed = [];\n      var misGroup = config.missing;\n      this.each(function (data) {\n        var current = config.by(data);\n\n        if (!current && current !== 0) {\n          if (misGroup === false) return;\n\n          if (misGroup === true) {\n            missed.push(data);\n            return;\n          }\n\n          current = misGroup;\n        }\n\n        if (!groups[current]) {\n          labels.push({\n            id: current,\n            value: current,\n            $group: true,\n            $row: config.row\n          });\n          groups[current] = _to_array();\n        }\n\n        groups[current].push(data);\n      });\n\n      for (var i = 0; i < labels.length; i++) {\n        var group = labels[i];\n\n        this._map_group(config.map, group, groups[labels[i].id]);\n\n        if (this.hasEvent(\"onGroupCreated\")) this.callEvent(\"onGroupCreated\", [group.id, group.value, groups[labels[i].id]]);\n      }\n\n      this.order = _to_array();\n      this.pull = {};\n\n      this._fill_pull(labels);\n\n      this._fill_pull(missed);\n\n      this.callEvent(\"onStoreUpdated\", []);\n    },\n    _fill_pull: function (arr) {\n      for (var i = 0; i < arr.length; i++) {\n        var id = this.id(arr[i]);\n        if (this.pull[id]) id = arr[i].id = uid();\n        this.pull[id] = arr[i];\n        this.order.push(id);\n        if (this._scheme_init) this._scheme_init(arr[i]);\n      }\n    },\n    _map_group: function (map, group, data) {\n      for (var prop in map) {\n        var functor = map[prop][1] || \"any\";\n\n        var property = this._group_prop_accessor(map[prop][0]);\n\n        if (typeof functor != \"function\") {\n          assert(GroupMethods[functor], \"Unknown grouping rule: \" + functor);\n          functor = GroupMethods[functor];\n        }\n\n        group[prop] = functor.call(this, property, data);\n      }\n    },\n    _group_tree: function (config, parent) {\n      //prepare\n      var level = 0;\n      if (parent) level = this.getItem(parent).$level;else parent = 0; //run\n\n      var topbranch = [];\n      var labels = [];\n      var missed = [];\n      var order = this.branch[parent];\n      var groups = {};\n\n      for (var i = 0; i < order.length; i++) {\n        var data = this.getItem(order[i]);\n        var current = config.by(data);\n        if (!current && current !== 0) if (config.missing === false) continue;else if (config.missing === true) {\n          missed.push(data.id);\n          continue;\n        } else current = config.missing;\n        var ancestor = groups[current];\n\n        if (!ancestor) {\n          var id = uid();\n          var newitem = this.pull[id] = {\n            id: id,\n            value: current,\n            $group: true,\n            $row: config.row\n          };\n          if (this._scheme_init) this._scheme_init(newitem);\n          labels.push(newitem);\n          ancestor = groups[current] = this.branch[id] = [];\n          ancestor._formath = [];\n          topbranch.push(id);\n        }\n\n        ancestor.push(data.id);\n\n        ancestor._formath.push(data);\n      }\n\n      this.branch[parent] = topbranch.concat(missed);\n\n      for (var _i = 0; _i < labels.length; _i++) {\n        var group = labels[_i];\n\n        this._map_group(config.map, group, this.branch[labels[_i].id]._formath);\n\n        if (this.hasEvent(\"onGroupCreated\")) this.callEvent(\"onGroupCreated\", [group.id, group.value, this.branch[group.id]._formath]);\n\n        if (config.footer) {\n          var _id = \"footer$\" + group.id;\n\n          var footer = this.pull[_id] = {\n            id: _id,\n            $footer: true,\n            value: group.value,\n            $level: level,\n            $count: 0,\n            $parent: group.id,\n            $row: config.footer.row\n          };\n\n          this._map_group(config.footer, footer, this.branch[labels[_i].id]._formath);\n\n          this.branch[group.id].push(footer.id);\n          this.callEvent(\"onGroupFooter\", [footer.id, footer.value, this.branch[group.id]._formath]);\n        }\n\n        delete this.branch[group.id]._formath;\n      }\n\n      this._fix_group_levels(this.branch[parent], parent, level + 1);\n\n      this.callEvent(\"onStoreUpdated\", []);\n    },\n    _fix_group_levels: function (branch, parent, level) {\n      if (parent) this.getItem(parent).$count = branch.length;\n\n      for (var i = 0; i < branch.length; i++) {\n        var item = this.pull[branch[i]];\n        item.$level = level;\n        item.$parent = parent;\n        var next = this.branch[item.id];\n        if (next) this._fix_group_levels(next, item.id, level + 1);\n      }\n    }\n  };\n\n  var Group = {\n    $init: function () {\n      exports.extend(this.data, GroupStore);\n    },\n    group: function (config, target) {\n      if (!target && target !== 0) {\n        this.$blockRender = true;\n        this.data.ungroup();\n        this.$blockRender = false;\n      }\n\n      this.data.group(config, target);\n    },\n    ungroup: function (target) {\n      this.data.ungroup(target);\n    }\n  };\n\n  /*aria-style handling for options of multiple-value controls (radio, segmented, tabbar)*/\n\n  var HTMLOptions = {\n    $init: function () {\n      var _this = this;\n\n      this.$ready.push(function () {\n        if (!_this.customRadio_setter || _this.config.customRadio) _event(_this.$view, \"keydown\", _this._moveSelection, {\n          bind: _this\n        });\n      });\n    },\n    _focus: function () {\n      if (!UIManager.canFocus(this)) return false;\n\n      var input = this._getInputNode();\n\n      if (input) for (var i = 0; i < input.length; i++) {\n        if (input[i].getAttribute(\"tabindex\") == \"0\") return input[i].focus();\n      }\n    },\n    _blur: function () {\n      var input = this._getInputNode();\n\n      if (input) for (var i = 0; i < input.length; i++) {\n        if (input[i].getAttribute(\"tabindex\") == \"0\") return input[i].blur();\n      }\n    },\n    _moveSelection: function (e) {\n      var code = e.which || e.keyCode;\n\n      if (code > 34 && code < 41) {\n        var inp = this._getInputNode();\n\n        var index$$1 = false;\n        if (!inp.length) return;\n        preventEvent(e);\n        var dir = code === 37 || code === 38 || code === 35 ? -1 : 1;\n        if (code === 35) index$$1 = inp.length - 1;else if (code === 36) index$$1 = 0;else {\n          for (var i = 0; i < inp.length; i++) {\n            if (inp[i].getAttribute(\"tabindex\") == \"0\") {\n              index$$1 = i + dir;\n              break;\n            }\n          }\n        }\n\n        if (index$$1 !== false) {\n          var _i = index$$1;\n\n          do {\n            if (_i >= inp.length) _i = 0;\n            if (_i < 0) _i = inp.length - 1;\n\n            if (!inp[_i].getAttribute(\"webix_disabled\")) {\n              var id = inp[_i].getAttribute(\n              /*@attr*/\n              \"button_id\");\n\n              this.setValue(id, \"user\");\n\n              inp[_i].focus();\n\n              _i = \"success\";\n            } else _i += dir;\n          } while (_i !== \"success\" && _i !== index$$1);\n        }\n      }\n    },\n    _get_tooltip_data: function (t, e) {\n      var id,\n          node = e.target;\n\n      while (node && !node.webix_tooltip) {\n        id = node.getAttribute(\"webix_t_id\");\n        if (id) return this.getOption(id);\n        node = node.parentNode;\n      }\n\n      return null;\n    },\n    optionIndex: function (id) {\n      var options = this._settings.options;\n\n      for (var i = 0; i < options.length; i++) {\n        if (options[i].id == id) return i;\n      }\n\n      return -1;\n    },\n    getOption: function (id) {\n      var index$$1 = this.optionIndex(id);\n      if (index$$1 !== -1) return this._settings.options[index$$1];\n      return null;\n    },\n    addOption: function (id, value, show, index$$1) {\n      var obj = id;\n\n      if (_typeof(id) != \"object\") {\n        value = value || id;\n        obj = {\n          id: id,\n          value: value\n        };\n      } else {\n        id = obj.id;\n        index$$1 = show;\n        show = value;\n      }\n\n      if (this.optionIndex(id) === -1) {\n        _power_array.insertAt.call(this._settings.options, obj, index$$1);\n\n        this.refresh();\n        this.callEvent(\"onOptionAdd\", [id, obj]);\n      }\n\n      if (show) {\n        if (this._settings.options.length === 1) this._settings.value = \"\";\n        this.setValue(id, \"auto\");\n      }\n    },\n    removeOption: function (id) {\n      var index$$1 = this.optionIndex(id);\n\n      if (index$$1 !== -1) {\n        var options = this._settings.options;\n\n        _power_array.removeAt.call(options, index$$1);\n\n        this.refresh(); // if we remove a selected option\n\n        if (this._settings.value == id) this._setNextVisible(options, index$$1);\n        this.callEvent(\"onOptionRemove\", [id, this._settings.value]);\n      }\n    },\n    _setNextVisible: function (options, index$$1) {\n      var size = options.length;\n\n      if (size && !this.customRadio_setter) {\n        index$$1 = Math.min(index$$1, size - 1); //forward search\n\n        for (var i = index$$1; i < size; i++) {\n          if (!options[i].hidden) return this.setValue(options[i].id, \"auto\");\n        } //backward search\n\n\n        for (var _i2 = index$$1; _i2 >= 0; _i2--) {\n          if (!options[_i2].hidden) return this.setValue(options[_i2].id, \"auto\");\n        }\n      } //nothing found\t\t\n\n\n      this.setValue(\"\", \"auto\");\n    },\n    _getFirstActive: function (first) {\n      var options = this._settings.options;\n\n      if (options.length) {\n        for (var i = 0; i < options.length; i++) {\n          if (!options[i].hidden && !options[i].disabled) return options[i].id;\n        }\n\n        if (first) return options[0].id;\n      }\n\n      return \"\";\n    },\n    _filterOptions: function (options) {\n      var copy$$1 = [];\n\n      for (var i = 0; i < options.length; i++) {\n        if (!options[i].hidden) copy$$1.push(options[i]);\n      }\n\n      return copy$$1;\n    },\n    _setOptionState: function (id, field, state) {\n      var options = this._settings.options;\n      var index$$1 = this.optionIndex(id);\n\n      if (options[index$$1] && state != !!options[index$$1][field]) {\n        //new state differs from previous one\n        options[index$$1][field] = state;\n        if (state && field === \"hidden\" && this._settings.value == id) //switch to next visible one\n          this._setNextVisible(options, index$$1);\n        this.refresh();\n      }\n    },\n    hideOption: function (id) {\n      this._setOptionState(id, \"hidden\", true);\n    },\n    showOption: function (id) {\n      this._setOptionState(id, \"hidden\", false);\n    },\n    disableOption: function (id) {\n      this._setOptionState(id, \"disabled\", true);\n    },\n    enableOption: function (id) {\n      this._setOptionState(id, \"disabled\", false);\n    }\n  };\n\n  var HtmlMap = exports.proto({\n    $init: function (key) {\n      this._id = \"map_\" + uid();\n      this._key = key;\n      this._map = [];\n      this._areas = [];\n    },\n    addRect: function (id, points, userdata) {\n      this._createMapArea(id, \"RECT\", points, userdata);\n    },\n    addPoly: function (id, points, userdata) {\n      this._createMapArea(id, \"POLY\", points, userdata);\n    },\n    _createMapArea: function (id, shape, coords, userdata) {\n      var extra_data = \"\";\n      if (arguments.length == 4) extra_data = \"userdata='\" + userdata + \"'\";\n\n      this._map.push(\"<area \" + this._key + \"='\" + id + \"' shape='\" + shape + \"' coords='\" + coords.join() + \"' \" + extra_data + \"></area>\");\n\n      this._areas.push({\n        index: userdata,\n        points: coords\n      });\n    },\n    addSector: function (id, alpha0, alpha1, x, y, R, ky, userdata) {\n      var points = [];\n      points.push(x);\n      points.push(Math.floor(y * ky));\n\n      for (var i = alpha0; i < alpha1; i += Math.PI / 18) {\n        points.push(Math.floor(x + R * Math.cos(i)));\n        points.push(Math.floor((y + R * Math.sin(i)) * ky));\n      }\n\n      points.push(Math.floor(x + R * Math.cos(alpha1)));\n      points.push(Math.floor((y + R * Math.sin(alpha1)) * ky));\n      points.push(x);\n      points.push(Math.floor(y * ky));\n      return this.addPoly(id, points, userdata);\n    },\n    hide: function (obj, data, mode) {\n      if (obj.querySelectorAll) {\n        var nodes = obj.querySelectorAll(\"area[userdata=\\\"\" + data + \"\\\"]\");\n\n        for (var i = 0; i < nodes.length; i++) {\n          var nod = nodes[i];\n\n          if (mode) {\n            if (nod.getAttribute(\"coords\")) {\n              nod.coordsdis = nod.getAttribute(\"coords\");\n              nod.setAttribute(\"coords\", \"\");\n              nod.coords = \"\";\n            }\n          } else if (!mode) {\n            if (nod.coordsdis) {\n              nod.setAttribute(\"coords\", nod.coordsdis);\n              nod.coords = nod.coordsdis;\n              nod.coordsdis = \"\";\n            }\n          }\n\n          nodes[i].style.display = mode ? \"none\" : \"\";\n        }\n      }\n    },\n    render: function (obj) {\n      var d = create(\"DIV\");\n      d.style.cssText = \"position:absolute; width:100%; height:100%; top:0px; left:0px;\";\n      obj.appendChild(d);\n      var src = env.isIE ? \"\" : \"src='data:image/gif;base64,R0lGODlhEgASAIAAAP///////yH5BAUUAAEALAAAAAASABIAAAIPjI+py+0Po5y02ouz3pwXADs='\";\n      d.innerHTML = \"<map id='\" + this._id + \"' name='\" + this._id + \"'>\" + this._map.join(\"\\n\") + \"</map><img \" + src + \" class='webix_map_img' usemap='#\" + this._id + \"'>\";\n      obj._htmlmap = d; //for clearing routine\n\n      this._map = [];\n    }\n  });\n\n  var IdSpace = {\n    $init: function () {\n      this._elements = {};\n      this._translate_ids = {};\n      this.getTopParentView = this._get_self = bind(function () {\n        return this;\n      }, this);\n\n      this._run_inner_init_logic();\n\n      this.$ready.push(this._run_after_inner_init_logic);\n    },\n    $$: function (id) {\n      return this._elements[id];\n    },\n    innerId: function (id) {\n      return this._translate_ids[id];\n    },\n    _run_inner_init_logic: function () {\n      this._prev_global_col = state._global_collection;\n      state._global_collection = this;\n    },\n    _run_after_inner_init_logic: function () {\n      for (var name in this._elements) {\n        var input = this._elements[name];\n        if (this.callEvent && input.mapEvent && !input._evs_map.onitemclick) input.mapEvent({\n          onitemclick: this\n        });\n        input.getTopParentView = this._get_self;\n      }\n\n      state._global_collection = this._prev_global_col;\n      this._prev_global_col = 0;\n    },\n    _destroy_child: function (id) {\n      delete this._elements[id];\n    },\n    ui: function () {\n      this._run_inner_init_logic();\n\n      var temp = ui.apply(this, arguments);\n\n      this._run_after_inner_init_logic();\n\n      return temp;\n    }\n  };\n\n  var KeysNavigation = {\n    $init: function () {\n      if (this.getSelectedId) this.attachEvent(\"onAfterRender\", this._set_focusable_item);\n      if (this.moveSelection) this.attachEvent(\"onTabFocus\", this._set_item_focus);\n    },\n    _set_item_focus: function () {\n      if (this.getSelectedId) {\n        var sel = this.getSelectedId(true);\n        if (!sel.length || !this.getItemNode(sel[0])) this.moveSelection(\"down\"); //select and show\n      }\n    },\n    _set_focusable_item: function () {\n      var sel = this.getSelectedId(true);\n\n      if (!sel.length || !this.getItemNode(sel[0])) {\n        var node = this._dataobj.querySelector(\"[\" + this._id + \"]\");\n\n        if (node) node.setAttribute(\"tabindex\", \"0\");\n      }\n    },\n    _navigation_helper: function (mode) {\n      return function (view, e) {\n        var tag = e.target; //ignore clipboard listener\n\n        if (!tag.getAttribute(\n        /*@attr*/\n        \"webixignore\")) {\n          //ignore hotkeys if focus in the common input\n          //to allow normal text edit operations\n          var name = tag.tagName;\n          if (name == \"INPUT\" || name == \"TEXTAREA\" || name == \"SELECT\") return true;\n        }\n\n        if (view && view.moveSelection && view.config.navigation && !view._in_edit_mode) {\n          preventEvent(e);\n          return view.moveSelection(mode, {\n            shift: e.shiftKey,\n            ctrl: e.ctrlKey,\n            e: e\n          });\n        }\n      };\n    },\n    moveSelection: function (mode, details, focus) {\n      var config = this._settings;\n      if (config.disabled) return;\n\n      if ((mode == \"right\" || mode == \"left\") && this._parent_menu) {\n        var parent = $$(this._parent_menu);\n\n        parent._hide_sub_menu(true);\n\n        if (parent.config.layout === \"x\") parent.moveSelection(mode);else UIManager.setFocus(parent);\n        return;\n      } //get existing selection\n\n\n      var selected = this.getSelectedId(true);\n      var x_layout = this.count && (config.layout == \"x\" || config.xCount > 1);\n      var prev = true;\n\n      if (!selected.length && this.count()) {\n        if (mode == \"down\" || mode == \"right\" && x_layout) mode = \"top\";else if (mode == \"up\" || mode == \"left\" && x_layout) mode = \"bottom\";else return;\n        selected = [this.getFirstId()];\n        prev = false;\n      }\n\n      if (selected.length == 1) {\n        //if we have a selection\n        selected = selected[0];\n        prev = prev === true ? selected : null;\n\n        if (mode == \"left\") {\n          if (this.close && !this._ignore_clicks) return this.close(selected); //tree (not window)\n\n          if (this._level_up && this._level_up(selected)) return this.render(); //grouplist\n        } else if (mode == \"right\") {\n          if (this.open) return this.open(selected);\n          if (this._level_down && this._level_down(selected)) return this.render();\n        }\n\n        if (mode == \"top\") {\n          selected = this.getFirstId();\n        } else if (mode == \"bottom\") {\n          selected = this.getLastId();\n        } else if (mode == \"up\" || mode == \"left\" || mode == \"pgup\") {\n          var index$$1 = this.getIndexById(selected);\n          var step = mode == \"pgup\" ? 10 : 1;\n          selected = this.getIdByIndex(Math.max(0, index$$1 - step));\n        } else if (mode == \"down\" || mode == \"right\" || mode == \"pgdown\") {\n          var _index = this.getIndexById(selected);\n\n          var _step = mode == \"pgdown\" ? 10 : 1;\n\n          selected = this.getIdByIndex(Math.min(this.count() - 1, _index + _step));\n        } else {\n          assert(false, \"Not supported selection moving mode\");\n          return;\n        }\n\n        var dir = mode == \"up\" || mode == \"left\" || mode == \"pgdown\" || mode == \"bottom\" ? -1 : 1;\n\n        if (this._skip_item) {\n          selected = this._skip_item(selected, prev, dir);\n          if (!selected) return;\n        }\n\n        this.showItem(selected);\n        this.select(selected);\n        if (this.getSubMenu && this.getSubMenu(selected)) this._mouse_move_activation(selected, this.getItemNode(selected));\n\n        if (!config.clipboard && focus !== false) {\n          var node = this.getItemNode(selected);\n          if (node) node.focus();\n        }\n      }\n\n      return false;\n    },\n    navigation_setter: function (value) {\n      //using global flag to apply hotkey only once\n      if (value && !UIManager._global_nav_grid_hotkeys) {\n        UIManager._global_nav_grid_hotkeys = true; //hotkeys will react on any component but will not work in edit mode\n        //you can define moveSelection method to handle navigation keys\n\n        UIManager.addHotKey(\"up\", this._navigation_helper(\"up\"));\n        UIManager.addHotKey(\"down\", this._navigation_helper(\"down\"));\n        UIManager.addHotKey(\"right\", this._navigation_helper(\"right\"));\n        UIManager.addHotKey(\"left\", this._navigation_helper(\"left\"));\n        UIManager.addHotKey(\"shift+up\", this._navigation_helper(\"up\"));\n        UIManager.addHotKey(\"shift+down\", this._navigation_helper(\"down\"));\n        UIManager.addHotKey(\"shift+right\", this._navigation_helper(\"right\"));\n        UIManager.addHotKey(\"shift+left\", this._navigation_helper(\"left\"));\n        UIManager.addHotKey(\"ctrl+shift+up\", this._navigation_helper(\"up\"));\n        UIManager.addHotKey(\"ctrl+shift+down\", this._navigation_helper(\"down\"));\n        UIManager.addHotKey(\"ctrl+shift+right\", this._navigation_helper(\"right\"));\n        UIManager.addHotKey(\"ctrl+shift+left\", this._navigation_helper(\"left\"));\n        UIManager.addHotKey(\"pageup\", this._navigation_helper(\"pgup\"));\n        UIManager.addHotKey(\"pagedown\", this._navigation_helper(\"pgdown\"));\n        UIManager.addHotKey(\"home\", this._navigation_helper(\"top\"));\n        UIManager.addHotKey(\"end\", this._navigation_helper(\"bottom\"));\n      }\n\n      return value;\n    }\n  };\n\n  /*Data collection mapping logic */\n\n  var MapCollection = {\n    $init: function () {\n      this.$ready.push(this._create_scheme_init);\n      this.attachEvent(\"onStructureUpdate\", this._create_scheme_init);\n      this.attachEvent(\"onStructureLoad\", function () {\n        if (!this._scheme_init_order.length) this._create_scheme_init();\n      });\n    },\n    _create_scheme_init: function () {\n      var stack = this._scheme_init_order = [];\n      var config = this._settings;\n      if (config.columns) this._build_data_map(config.columns);\n      if (this._settings.map) this._process_field_map(config.map);\n\n      if (stack.length) {\n        this.data._scheme_init = function (obj) {\n          for (var i = 0; i < stack.length; i++) {\n            stack[i](obj);\n          }\n        };\n      }\n    },\n    _process_field_map: function (map) {\n      for (var key in map) {\n        this._scheme_init_order.push(this._process_single_map(key, map[key]));\n      }\n    },\n    _process_single_map: function (target, map, extra) {\n      var source = map.replace(/^(\\s|)\\((date|number)\\)/, \"\");\n      var getSource;\n\n      if (source === \"\") {\n        getSource = function (a) {\n          return a[target];\n        };\n      } else {\n        if (source.indexOf(\"#\") === -1 && source.indexOf(\"{\") === -1) {\n          source = \"#\" + source + \"#\";\n        }\n\n        getSource = template(source);\n      }\n\n      if (map.indexOf(\"(date)\") === 0) {\n        if (extra && !extra.format) extra.format = i18n.dateFormatStr;\n        return function (obj) {\n          var dateStr = (getSource(obj) || \"\").toString();\n          obj[target] = i18n.parseFormatDate(dateStr);\n        };\n      } else if (map.indexOf(\"(number)\") === 0) {\n        return function (obj) {\n          obj[target] = getSource(obj) * 1;\n        };\n      } else {\n        return function (obj) {\n          obj[target] = getSource(obj) || \"\";\n        };\n      }\n    },\n    _build_data_map: function (columns) {\n      //for datatable\n      for (var i = 0; i < columns.length; i++) {\n        var col = columns[i];\n\n        if (!col.id) {\n          col.id = \"i\" + uid();\n          if (!col.header) col.header = \"\";\n        }\n\n        if (col.map) this._scheme_init_order.push(this._process_single_map(col.id, col.map, columns[i]));\n\n        this._map_options(columns[i]);\n      }\n    },\n    _create_collection: function (options) {\n      if (typeof options === \"string\") {\n        var options_view = $$(options); //id of some other view\n\n        if (!options_view) {\n          //or url\n          options = new (use(\"DataCollection\"))({\n            url: options\n          });\n\n          this._destroy_with_me.push(options);\n        } else options = options_view;\n\n        if (options.getBody) //if it was a view, special check for suggests\n          options = options_view.getBody();\n      } else if (typeof options === \"function\" || options.$proxy) {\n        //proxy or function\n        options = new (use(\"DataCollection\"))({\n          url: options\n        });\n\n        this._destroy_with_me.push(options);\n      } else if (!options.loadNext) {\n        var array = isArray(options);\n        var data = [];\n\n        if (array && _typeof(options[0]) !== \"object\") {\n          //[\"one\", \"two\"]\n          for (var i = 0; i < options.length; i++) {\n            data.push({\n              id: options[i],\n              value: options[i]\n            });\n          }\n\n          options = data;\n        } else if (!array) {\n          //{ 1:\"one\", 2:\"two\" }\n          for (var _i in options) {\n            data.push({\n              id: _i,\n              value: options[_i]\n            });\n          }\n\n          options = data;\n        } // else [{ id:1, value:\"one\"}, ...]\n\n\n        options = new (use(\"DataCollection\"))({\n          data: options\n        });\n\n        this._destroy_with_me.push(options);\n      } // else data collection or view\n\n\n      return options;\n    },\n    _map_options: function (column) {\n      var options = column.options || column.collection;\n\n      if (options) {\n        options = this._create_collection(options);\n\n        this._bind_collection(options, column);\n      }\n\n      if (column.header) {\n        this._map_header_options(column.header);\n\n        this._map_header_options(column.footer);\n      }\n    },\n    _map_header_options: function (arr) {\n      var _this = this;\n\n      arr = arr || [];\n\n      var _loop = function (i) {\n        var config = arr[i];\n\n        if (config && config.options) {\n          var options = config.options;\n          if (!options.loadNext) options = config.options = _this._create_collection(options);\n          var id = options.data.attachEvent(\"onStoreUpdated\", function () {\n            if (_this.refreshFilter) _this.refreshFilter(config.columnId);\n          });\n\n          _this.attachEvent(\"onDestruct\", function () {\n            if (!options.$destructed) options.data.detachEvent(id);\n          });\n        }\n      };\n\n      for (var i = 0; i < arr.length; i++) {\n        _loop(i);\n      }\n    },\n    _bind_collection: function (options, column) {\n      var _this2 = this;\n\n      if (column) {\n        delete column.options;\n        column.collection = options;\n        column.template = column.template || this._bind_template(column.optionslist);\n        var id = options.data.attachEvent(\"onStoreUpdated\", function () {\n          _this2.refresh();\n\n          if (_this2.refreshFilter) _this2.refreshFilter(column.id);\n        });\n        this.attachEvent(\"onDestruct\", function () {\n          if (!options.$destructed) options.data.detachEvent(id);\n        });\n      }\n    },\n    _bind_template: function (multi) {\n      if (multi) {\n        var separator = typeof multi === \"string\" ? multi : \",\";\n        return function (obj, common, value, column) {\n          if (!value) return \"\";\n          var ids = value.toString().split(separator);\n\n          for (var i = 0; i < ids.length; i++) {\n            var data = column.collection.data.pull[ids[i]];\n            ids[i] = data ? data.value || \"\" : \"\";\n          }\n\n          return ids.join(\", \");\n        };\n      } else {\n        return function (obj, common, value, column) {\n          var data = column.collection.data.pull[value];\n          if (data && (data.value || data.value === 0)) return data.value;\n          return \"\";\n        };\n      }\n    }\n  };\n\n  var MouseEvents = {\n    $init: function (config) {\n      config = config || {};\n      this._clickstamp = 0;\n      this._dbl_sensetive = env.touch ? 500 : 300;\n      this._item_clicked = null;\n\n      this._mouse_action_extend(config.onClick, \"on_click\");\n\n      this._mouse_action_extend(config.onContext, \"on_context\");\n\n      this._mouse_action_extend(config.onDblClick, \"on_dblclick\");\n\n      this._mouse_action_extend(config.onMouseMove, \"on_mouse_move\"); //attach dom events if related collection is defined\n\n\n      if (this.on_click) _event(this._contentobj, \"click\", this._onClick, {\n        bind: this\n      });\n      if (this.on_context) _event(this._contentobj, \"contextmenu\", this._onContext, {\n        bind: this\n      });\n      if (this.on_mouse_move) this._enable_mouse_move();\n    },\n    _enable_mouse_move: function () {\n      if (!this._mouse_move_enabled) {\n        this.on_mouse_move = this.on_mouse_move || {};\n\n        _event(this._contentobj, \"mousemove\", this._onMouse, {\n          bind: this\n        });\n\n        _event(this._contentobj, \"mouseout\", this._onMouse, {\n          bind: this\n        });\n\n        this._mouse_move_enabled = 1;\n        this.attachEvent(\"onDestruct\", function () {\n          if (this._mouse_move_timer) window.clearTimeout(this._mouse_move_timer);\n        });\n      }\n    },\n    _mouse_action_extend: function (config, key) {\n      if (config) {\n        var now = this[key];\n        var step = now ? exports.extend({}, now) : {};\n        this[key] = exports.extend(step, config);\n      }\n    },\n    //inner onclick object handler\n    _onClick: function (e) {\n      var _this = this;\n\n      if (!this.isEnabled()) return false;\n\n      UIManager._focus_action(this);\n\n      if (this.on_dblclick && this.locate) {\n        if (this._clickHandler && this._item_clicked + \"\" == this.locate(e) + \"\") {\n          clearTimeout(this._clickHandler);\n          this._clickHandler = null;\n          return this._onDblClick(e);\n        }\n\n        this._item_clicked = this.locate(e);\n        this._clickHandler = delay(function () {\n          _this._clickHandler = null;\n          return _this._mouseEvent(e, _this.on_single_click, \"ItemSingleClick\");\n        }, null, [e], this._dbl_sensetive);\n      }\n\n      return this._mouseEvent(e, this.on_click, \"ItemClick\");\n    },\n    //inner ondblclick object handler\n    _onDblClick: function (e) {\n      return this._mouseEvent(e, this.on_dblclick, \"ItemDblClick\");\n    },\n    //process oncontextmenu events\n    _onContext: function (e) {\n      this._mouseEvent(e, this.on_context, \"BeforeContextMenu\", \"AfterContextMenu\");\n    },\n\n    /*\n    \tevent throttler - ignore events which occurs too fast\n    \tduring mouse moving there are a lot of event firing - we need no so much\n    \talso, mouseout can fire when moving inside the same html container - we need to ignore such fake calls\n    */\n    _onMouse: function (e) {\n      if (this.$destructed) return;\n      if (document.createEventObject) //make a copy of event, will be used in timed call\n        e = document.createEventObject(event);\n      if (this._mouse_move_timer) //clear old event timer\n        window.clearTimeout(this._mouse_move_timer); //this event just inform about moving operation, we don't care about details\n\n      this.callEvent(\"onMouseMoving\", [e]); //set new event timer\n\n      this._mouse_move_timer = delay(function (e) {\n        //called only when we have at least 100ms after previous event\n        if (e.type == \"mousemove\") this._onMouseMove(e);else this._onMouseOut(e);\n      }, this, [e], this._settings.mouseEventDelay || 500);\n    },\n    //inner mousemove object handler\n    _onMouseMove: function (e) {\n      if (!this._mouseEvent(e, this.on_mouse_move, \"MouseMove\")) this._onMouseOut(e);\n    },\n    //inner mouseout object handler\n    _onMouseOut: function (e) {\n      this.callEvent(\"onMouseOut\", [e]);\n    },\n    //common logic for click and dbl-click processing\n    _mouseEvent: function (e, hash, name, pair) {\n      if (e.processed || !this._viewobj) return;\n      e.processed = true;\n      var trg = e.target;\n      var css = \"\";\n      var id = null;\n      var found = false; //loop through all parents\n      //we need to check for this._viewobj as some handler can destroy the view\n\n      while (trg && trg.parentNode && this._viewobj && trg != this._viewobj.parentNode) {\n        if (!found && trg.getAttribute) {\n          //if element with ID mark is not detected yet\n          id = trg.getAttribute(this._id); //check id of current one\n\n          if (id) {\n            // prevent clicking on disabled items\n            if (trg.getAttribute(\"webix_disabled\")) {\n              this._item_clicked = null;\n              return;\n            }\n\n            this._item_clicked = id;\n\n            if (this.callEvent) {\n              //it will be triggered only for first detected ID, in case of nested elements\n              if (!this.callEvent(\"on\" + name, [id, e, trg])) return;\n              if (pair) this.callEvent(\"on\" + pair, [id, e, trg]);\n            } //set found flag\n\n\n            found = true;\n          }\n        }\n\n        css = _getClassName(trg); //check if pre-defined reaction for element's css name exists\n\n        if (hash && css) {\n          css = css.toString().split(\" \");\n\n          for (var i = 0; i < css.length; i++) {\n            if (hash[css[i]]) {\n              var functor = toFunctor(hash[css[i]], this.$scope);\n              var res = functor.call(this, e, id || locate(e, this._id), trg);\n              if (res === false) return found;\n            }\n          }\n        }\n\n        trg = trg.parentNode;\n      }\n\n      return found; //returns true if item was located and event was triggered\n    }\n  };\n\n  /*\n      UI: navigation control\n  */\n\n  var NavigationButtons = {\n    $init: function () {\n      this.$ready.push(function () {\n        this.attachEvent(\"onKeyPress\", this._onKeyPress);\n      });\n    },\n    _moveActive: function (code, e) {\n      if (code === 37 || code === 39) {\n        preventEvent(e);\n\n        this._showNavItem(code === 37 ? -1 : 1);\n\n        var node = this._navPanel.querySelector(\"[tabindex='0']\");\n\n        if (node) node.focus();\n      }\n    },\n    _renderPanel: function () {\n      remove(this._navPanel);\n      this._navPanel = create(\"DIV\", {\n        \"class\": \"webix_nav_panel \" + \"webix_nav_panel_\" + this._settings.navigation.type,\n        \"role\": \"tablist\"\n      }, \"\");\n\n      this._viewobj.appendChild(this._navPanel);\n\n      this._renderNavItems();\n\n      this._renderNavButtons();\n\n      this._setLinkEventHandler();\n    },\n    _setLinkEventHandler: function () {\n      var h = [];\n      if (this._navPanel) h[0] = event$1(this._navPanel, \"click\", bind(function (e) {\n        var elem = e.target;\n        var found = false;\n\n        while (elem != this._navPanel && !found) {\n          var bindId = elem.getAttribute(this._linkAttr);\n\n          if (bindId) {\n            found = true;\n\n            this._showPanelBind(bindId);\n          }\n\n          elem = elem.parentNode;\n        }\n      }, this));\n      if (this._prevNavButton) h[1] = event$1(this._prevNavButton, \"click\", bind(function () {\n        this._showNavItem(-1);\n      }, this));\n      if (this._nextNavButton) h[1] = event$1(this._nextNavButton, \"click\", bind(function () {\n        this._showNavItem(1);\n      }, this));\n      this.attachEvent(\"onDestruct\", function () {\n        for (var i = 0; i < h.length; i++) {\n          this.detachEvent(h[i]);\n        }\n\n        h = null;\n      });\n    },\n    _showNavItem: function (inc) {\n      if (this._cells) {\n        var index$$1 = this._active_cell + inc;\n\n        if (index$$1 >= this._cells.length || index$$1 < 0) {\n          index$$1 = index$$1 < 0 ? this._cells.length - 1 : 0;\n        }\n\n        this.setActiveIndex(index$$1);\n      }\n    },\n    _showPanelBind: function (id) {\n      if (this._cells) $$(id).show();\n    },\n    _renderNavItems: function () {\n      var item, config;\n      config = this._settings.navigation;\n\n      if (config.items) {\n        this._linkAttr = config.linkAttr ||\n        /*@attr*/\n        \"bind_id\";\n        if (!this._navPanel) this._renderPanel();else this._clearPanel();\n        var data = this._cells ? this._cells : this.data.order;\n\n        if (data.length > 1) {\n          for (var i = 0; i < data.length; i++) {\n            item = create(\"DIV\", {\n              \"class\": \"webix_nav_item webix_nav_\" + (i == this._active_cell ? \"active\" : \"inactive\"),\n              \"role\": \"tab\",\n              \"tabindex\": i == this._active_cell ? \"0\" : \"-1\"\n            });\n            var id = this._cells ? this._cells[i]._settings.id : data[i];\n            if (id) item.setAttribute(this._linkAttr, id);\n\n            this._navPanel.appendChild(item);\n          }\n        }\n      }\n    },\n    _clearPanel: function () {\n      if (this._navPanel) {\n        var coll = this._navPanel.childNodes;\n\n        for (var i = coll.length - 1; i >= 0; i--) {\n          remove(coll[i]);\n        }\n      }\n    },\n    _renderNavButtons: function () {\n      var config = this._settings.navigation;\n\n      if (config.buttons) {\n        if (this._prevNavButton) remove(this._prevNavButton);\n        if (this._prevNavButton) remove(this._nextNavButton);\n        this._prevNavButton = create(\"DIV\", {\n          \"class\": \"webix_nav_button_\" + config.type + \" webix_nav_button_prev \"\n        }, \"<div role=\\\"button\\\" tabindex=\\\"0\\\" aria-label=\\\"\" + i18n.aria.prevTab + \"\\\" class=\\\"webix_nav_button_inner\\\"></div>\");\n\n        this._viewobj.appendChild(this._prevNavButton);\n\n        this._nextNavButton = create(\"DIV\", {\n          \"class\": \"webix_nav_button_\" + config.type + \" webix_nav_button_next \"\n        }, \"<div role=\\\"button\\\" tabindex=\\\"0\\\" aria-label=\\\"\" + i18n.aria.prevTab + \"\\\" class=\\\"webix_nav_button_inner\\\"></div>\");\n\n        this._viewobj.appendChild(this._nextNavButton);\n      }\n    }\n  };\n\n  var OverlayBox = {\n    showOverlay: function (message) {\n      if (!this._overlay) {\n        this._overlay = create(\"DIV\", {\n          \"class\": \"webix_overlay\"\n        }, message || \"\");\n        insertBefore(this._overlay, this._viewobj.firstChild, this._viewobj);\n        this._viewobj.style.position = \"relative\";\n      } else this._overlay.innerHTML = message;\n    },\n    hideOverlay: function () {\n      if (this._overlay) {\n        remove(this._overlay);\n        this._overlay = null;\n      }\n    }\n  };\n\n  var PagingAbility = {\n    pager_setter: function (pager) {\n      if (typeof pager == \"string\") {\n        var ui_pager = $$(pager);\n\n        if (!ui_pager) {\n          this.$blockRender = true;\n          delay(function () {\n            var obj = $$(pager);\n            this._settings.pager = this.pager_setter(obj);\n            var s = obj._settings;\n            s.count = this.data._count_pager_total(s.level);\n            obj.refresh();\n            this.$blockRender = false;\n            this.render();\n          }, this);\n          return null;\n        }\n\n        pager = ui_pager;\n      }\n\n      function check_pager_sizes(repeat) {\n        // reset topSplit - since now the pager is responsible for rendering\n        if (this.config.topSplit) this.config.topSplit = 0;\n\n        if (pager.config.autosize && this.getVisibleCount) {\n          var count = this.getVisibleCount();\n\n          if (isNaN(count)) {\n            pager.config.size = 1;\n            delay(check_pager_sizes, this, [true]);\n          } else if (count != pager.config.size) {\n            pager.config.size = count;\n            pager.refresh();\n            if (repeat === true) this.refresh();\n          }\n        }\n\n        var s = this._settings.pager; //initial value of pager = -1, waiting for real value\n\n        if (s.page == -1) return false;\n        this.data.$min = this._count_pager_index(0, s.page * s.size); //affect data.getRange\n\n        this.data.$max = this._count_pager_index(this.data.$min, s.size);\n        this.data.$pagesize = this.data.$max - this.data.$min;\n        return true;\n      }\n\n      this.attachEvent(\"onBeforeRender\", check_pager_sizes);\n\n      if (!pager.$view) {\n        pager.view = \"pager\";\n        pager = ui(pager);\n      }\n\n      this._pager = pager;\n      pager.$master = this;\n      this.data.attachEvent(\"onStoreUpdated\", function () {\n        var s = pager._settings;\n        s.count = this._count_pager_total(s.level);\n        pager.refresh();\n      });\n      this.data._count_pager_total = this._count_pager_total;\n      return pager._settings;\n    },\n    _count_pager_total: function (level) {\n      if (level && level !== 0) {\n        var count = 0;\n        this.each(function (obj) {\n          if (obj.$level == level) count++;\n        });\n        return count;\n      } else return this.count();\n    },\n    _count_pager_index: function (start, count) {\n      var s = this._settings.pager;\n\n      if (s.level && s.level !== 0) {\n        var end = start;\n        var max = this.data.order.length;\n        if (count) while (end < max) {\n          if (this.data.order[end] && this.data.getItem(this.data.order[end]).$level == s.level) {\n            if (count === 0) break;else count--;\n          }\n\n          end++;\n        }\n        return end;\n      } else return start + count;\n    },\n    setPage: function (value) {\n      if (this._pager) this._pager.select(value);\n    },\n    getPage: function () {\n      return this._pager._settings.page;\n    },\n    getPager: function () {\n      return this._pager;\n    }\n  };\n\n  var ProgressBar = {\n    $init: function () {\n      var _this = this;\n\n      if (isUndefined(this._progress) && this.attachEvent) {\n        this.attachEvent(\"onBeforeLoad\", function () {\n          return _this.showProgress();\n        });\n        this.attachEvent(\"onAfterLoad\", function () {\n          return _this.hideProgress();\n        });\n        this._progress = null;\n      }\n    },\n    showProgress: function (config) {\n      // { position: 0 - 1, delay: 2000ms by default, css : name of css class to use }\n      var width;\n\n      if (!this._progress) {\n        config = exports.extend({\n          position: 0,\n          delay: 2000,\n          type: \"icon\",\n          icon: \"wxi-sync\",\n          hide: false\n        }, config || {}, true);\n        var incss = config.type == \"icon\" ? config.icon + \" webix_spin\" : \"\";\n        this._progress = create(\"DIV\", {\n          \"class\": \"webix_progress_\" + config.type,\n          \"role\": \"progressbar\",\n          \"aria-valuemin\": \"0\",\n          \"aria-valuemax\": \"100\",\n          \"tabindex\": \"0\"\n        }, \"<div class='webix_progress_state \" + incss + \"'></div>\");\n        if (!this.setPosition) this._viewobj.style.position = \"relative\";\n        insertBefore(this._progress, this._viewobj.firstChild, this._viewobj);\n\n        this._viewobj.setAttribute(\"aria-busy\", \"true\");\n\n        if (!this._touch_scroll) {\n          if (this.getScrollState) {\n            var scroll = this.getScrollState();\n\n            if (this._viewobj.scrollWidth != this.$width) {\n              this._progress.style.left = scroll.x + \"px\";\n            }\n\n            if (this._viewobj.scrollHeight != this.$height) {\n              if (config.type != \"bottom\") {\n                this._progress.style.top = scroll.y + \"px\";\n              } else {\n                this._progress.style.top = scroll.y + this.$height - this._progress.offsetHeight + \"px\";\n              }\n            }\n          }\n        }\n\n        this._progress_animate = config.type != \"icon\";\n      }\n\n      if (!config) return;\n\n      if (this._progress_animate) {\n        var position = config.position || 1;\n\n        if (config.delay) {\n          // force reflow\n          width = this._viewobj.firstChild.offsetWidth;\n          this._progress.firstChild.style[env.transitionDuration] = config.delay + \"ms\";\n        } // animate to new value\n\n\n        this._progress.firstChild.style.width = position * 100 + \"%\";\n      }\n\n      if (this._progress_hide) clearTimeout(this._progress_hide);\n      if (config.hide) this._progress_hide = delay(this.hideProgress, this, [true], config.delay); // necessary to prevent code optimization\n\n      return width;\n    },\n    hideProgress: function (now) {\n      if (this._progress) {\n        if (now || !this._progress_animate) {\n          remove(this._progress);\n          this._progress = null;\n\n          this._viewobj.removeAttribute(\"aria-busy\");\n        } else {\n          this.showProgress({\n            position: 1.1,\n            delay: 300,\n            hide: true\n          });\n        }\n      }\n    }\n  };\n\n  var RenderStack = {\n    $init: function () {\n      assert(this.data, \"RenderStack :: Component doesn't have DataStore\");\n      assert(template, \"template :: template is not accessible\"); //used for temporary HTML elements\n      //automatically nulified during destruction\n\n      this._html = document.createElement(\"DIV\");\n      this.data.attachEvent(\"onIdChange\", bind(this._render_change_id, this));\n      this.attachEvent(\"onItemClick\", this._call_onclick); //create copy of default type, and set it as active one\n\n      if (!this.types) {\n        this.types = {\n          \"default\": this.type\n        };\n        this.type.name = \"default\";\n      }\n\n      this.type = clone(this.type);\n    },\n    customize: function (obj) {\n      type(this, obj);\n    },\n    item_setter: function (value) {\n      return this.type_setter(value);\n    },\n    type_setter: function (value) {\n      if (!this.types[value]) this.customize(value);else {\n        this.type = clone(this.types[value]);\n        if (this.type.css) this._contentobj.className += \" \" + this.type.css;\n      }\n      if (this.type.on_click) exports.extend(this.on_click, this.type.on_click);\n      return value;\n    },\n    template_setter: function (value) {\n      this.type.template = template(value);\n    },\n    //convert single item to HTML text (templating)\n    _toHTML: function (obj) {\n      var mark = this.data._marks[obj.id]; //check if related template exist\n\n      assert(!obj.$template || this.type[\"template\" + obj.$template], \"RenderStack :: Unknown template: \" + obj.$template);\n      this.callEvent(\"onItemRender\", [obj]);\n      return this.type.templateStart(obj, this.type, mark) + (obj.$template ? this.type[\"template\" + obj.$template] : this.type.template)(obj, this.type, mark) + this.type.templateEnd(obj, this.type, mark);\n    },\n    //convert item to HTML object (templating)\n    _toHTMLObject: function (obj) {\n      this._html.innerHTML = this._toHTML(obj);\n      return this._html.firstChild;\n    },\n    _render_change_id: function (old, newid) {\n      var obj = this.getItemNode(old);\n\n      if (obj) {\n        obj.setAttribute(this._id, newid);\n        this._htmlmap[newid] = this._htmlmap[old];\n        delete this._htmlmap[old];\n      }\n    },\n    //calls function that is set in onclick property\n    _call_onclick: function () {\n      if (this._settings.click) {\n        var code = toFunctor(this._settings.click, this.$scope);\n        if (code && code.call) code.apply(this, arguments);\n      }\n    },\n    //return html container by its ID\n    //can return undefined if container doesn't exists\n    getItemNode: function (search_id) {\n      if (this._htmlmap) return this._htmlmap[search_id]; //fill map if it doesn't created yet\n\n      this._htmlmap = {};\n      var t = this._dataobj.childNodes;\n\n      for (var i = 0; i < t.length; i++) {\n        var id = t[i].getAttribute(this._id); //get item's\n\n        if (id) this._htmlmap[id] = t[i];\n      } //call locator again, when map is filled\n\n\n      return this.getItemNode(search_id);\n    },\n    //return id of item from html event\n    locate: function (e) {\n      return locate(e, this._id);\n    },\n\n    /*change scrolling state of top level container, so related item will be in visible part*/\n    showItem: function (id) {\n      var html = this.getItemNode(id);\n\n      if (html && this.scrollTo) {\n        var txmin = html.offsetLeft;\n        var txmax = txmin + html.offsetWidth;\n        var tymin = html.offsetTop;\n        var tymax = tymin + html.offsetHeight;\n        var state = this.getScrollState();\n        var x = state.x;\n        if (x > txmin || x + this._content_width < txmax) x = txmin;\n        var y = state.y;\n        if (y > tymin || y + this._content_height < tymax) y = tymin;\n        this.scrollTo(x, y);\n        if (this._setItemActive) this._setItemActive(id);\n      }\n    },\n    //update view after data update\n    //method calls low-level rendering for related items\n    //when called without parameters - all view refreshed\n    render: function (id, data, type$$1) {\n      if (!this.isVisible(this._settings.id) || this.$blockRender) return;\n\n      if (id) {\n        var cont = this.getItemNode(id); //get html element of updated item\n\n        switch (type$$1) {\n          case \"paint\":\n          case \"update\":\n            //in case of update - replace existing html with updated one\n            if (!cont) return;\n\n            var t1 = this._htmlmap[id] = this._toHTMLObject(data);\n\n            insertBefore(t1, cont);\n            remove(cont);\n            break;\n\n          case \"delete\":\n            //in case of delete - remove related html\n            if (!cont) return;\n            remove(cont);\n            delete this._htmlmap[id];\n            break;\n\n          case \"add\":\n            //in case of add - put new html at necessary position\n            var t2 = this._htmlmap[id] = this._toHTMLObject(data);\n\n            insertBefore(t2, this.getItemNode(this.data.getNextId(id)), this._dataobj);\n            break;\n\n          case \"move\":\n            //moving without repainting the item\n            insertBefore(this.getItemNode(id), this.getItemNode(this.data.getNextId(id)), this._dataobj);\n            break;\n\n          default:\n            assert(0, \"Unknown render command: \" + type$$1);\n            break;\n        }\n      } else {\n        //full reset\n        if (this.callEvent(\"onBeforeRender\", [this.data])) {\n          //getRange - returns all elements\n          (this._renderobj || this._dataobj).innerHTML = this.data.getRange().map(this._toHTML, this).join(\"\");\n          this._htmlmap = null; //clear map, it will be filled at first getItemNode\n\n          this.callEvent(\"onAfterRender\", []);\n        }\n      }\n    }\n  };\n\n  var Scrollable = {\n    $init: function (config) {\n      //do not spam unwanted scroll containers for templates \n      if (config && !config.scroll && this._one_time_scroll) return this._dataobj = this._dataobj || this._contentobj;\n\n      (this._dataobj || this._contentobj).appendChild(create(\"DIV\", {\n        \"class\": \"webix_scroll_cont\"\n      }, \"\"));\n\n      this._dataobj = (this._dataobj || this._contentobj).firstChild;\n      if (this.callEvent && !this.$hasYScroll) _event(this._viewobj, \"scroll\", function () {\n        delay(function () {\n          this.callEvent(\"onAfterScroll\", []);\n        }, this);\n      }, {\n        bind: this\n      });\n    },\n    scroll_setter: function (value) {\n      if (!value) return false;\n      var auto = value === \"auto\";\n      var marker = value == \"x\" ? \"x\" : value == \"xy\" ? \"xy\" : auto ? \"xy\" : \"y\";\n      if (env.$customScroll) temp$1.enable(this, marker);\n      var style = this._dataobj.parentNode.style;\n\n      if (auto && !env.$customScroll) {\n        style.overflowX = style.overflowY = \"auto\";\n      } else {\n        if (marker.indexOf(\"x\") !== -1) {\n          this._scroll_x = true;\n          style.overflowX = \"scroll\";\n        }\n\n        if (marker.indexOf(\"y\") !== -1) {\n          this._scroll_y = true;\n          style.overflowY = \"scroll\";\n        }\n      }\n\n      return marker;\n    },\n    _onoff_scroll: function (mode, dir) {\n      if (!!this._settings.scroll == !!mode) return;\n\n      if (!env.$customScroll) {\n        var style = this._dataobj.parentNode.style;\n        style[dir === \"x\" ? \"overflowX\" : \"overflowY\"] = mode ? \"auto\" : \"hidden\";\n      }\n\n      if (dir === \"x\") {\n        this._scroll_x = mode;\n      } else {\n        this._scroll_y = mode;\n      }\n\n      this._settings.scroll = mode ? dir : false;\n    },\n    getScrollState: function () {\n      return {\n        x: this._dataobj.parentNode.scrollLeft,\n        y: this._dataobj.parentNode.scrollTop\n      };\n    },\n    scrollTo: function (x, y) {\n      this._dataobj.parentNode.scrollLeft = x;\n      this._dataobj.parentNode.scrollTop = y;\n    }\n  };\n\n  /*\n  \tBehavior:SelectionModel - manage selection states\n  \t@export\n  \t\tselect\n  \t\tunselect\n  \t\tselectAll\n  \t\tunselectAll\n  \t\tisSelected\n  \t\tgetSelectedId\n  */\n\n  var SelectionModel = {\n    $init: function () {\n      //collection of selected IDs\n      this._selected = _to_array();\n      assert(this.data, \"SelectionModel :: Component doesn't have DataStore\"); //remove selection from deleted items\n\n      this.data.attachEvent(\"onStoreUpdated\", bind(this._data_updated, this));\n      this.data.attachEvent(\"onStoreLoad\", bind(this._data_loaded, this));\n      this.data.attachEvent(\"onAfterFilter\", bind(this._data_filtered, this));\n      this.data.attachEvent(\"onSyncApply\", bind(this._select_check, this));\n      this.data.attachEvent(\"onIdChange\", bind(this._id_changed, this));\n      this.$ready.push(this._set_noselect);\n    },\n    _set_noselect: function () {\n      if (this._settings.select == \"multiselect\" || this._settings.multiselect || this._settings.select == \"area\") _event(this.$view, \"mousedown\", function (e) {\n        if (e.shiftKey || env.isIE && e.ctrlKey) {\n          var node = env.isIE ? document.body : this;\n          state._noselect_element = node;\n          addCss(node, \"webix_noselect\", true);\n        }\n      });\n    },\n    _id_changed: function (oldid, newid) {\n      for (var i = this._selected.length - 1; i >= 0; i--) {\n        if (this._selected[i] == oldid) this._selected[i] = newid;\n      }\n    },\n    _data_filtered: function () {\n      for (var i = this._selected.length - 1; i >= 0; i--) {\n        if (this.data.getIndexById(this._selected[i]) < 0) {\n          var id = this._selected[i];\n          this.removeCss(id, \"webix_selected\", true);\n\n          this._selected.splice(i, 1);\n\n          this.callEvent(\"onSelectChange\", [id]);\n        }\n      }\n    },\n    //helper - linked to onStoreUpdated\n    _data_updated: function (id, obj, type) {\n      if (type == \"delete\") {\n        //remove selection from deleted items\n        if (this.loadBranch) {\n          //hierarchy, need to check all\n          this._select_check();\n        } else this._selected.remove(id);\n      } else if (!id && !this.data.count() && !this.data._filter_order && !this.data._filter_branch) {\n        //remove selection for clearAll\n        this._selected = _to_array();\n      }\n    },\n    _data_loaded: function () {\n      if (this._settings.select) this.data.each(function (obj) {\n        if (obj && obj.$selected) this.select(obj.id);\n      }, this);\n    },\n    _select_check: function () {\n      for (var i = this._selected.length - 1; i >= 0; i--) {\n        if (!this.exists(this._selected[i])) this._selected.splice(i, 1);\n      }\n    },\n    //helper - changes state of selection for some item\n    _select_mark: function (id, state$$1, refresh, need_unselect) {\n      var sname = state$$1 ? \"onBeforeSelect\" : \"onBeforeUnSelect\";\n      if (!this.callEvent(sname, [id, state$$1])) return false;\n\n      if (need_unselect) {\n        this._silent_selection = true;\n        this.unselectAll();\n        this._silent_selection = false;\n      }\n\n      if (state$$1) this.addCss(id, \"webix_selected\", true);else this.removeCss(id, \"webix_selected\", true);\n      if (refresh) refresh.push(id); //if we in the mass-select mode - collect all changed IDs\n      else {\n          if (state$$1) this._selected.push(id); //then add to list of selected items\n          else this._selected.remove(id);\n\n          this._refresh_selection(id); //othervise trigger repainting\n\n        }\n      var ename = state$$1 ? \"onAfterSelect\" : \"onAfterUnSelect\";\n      this.callEvent(ename, [id]);\n      return true;\n    },\n    //select some item\n    select: function (id, preserve) {\n      var ctrlKey = arguments[2];\n      var shiftKey = arguments[3]; //if id not provide - works as selectAll\n\n      if (!id) return this.selectAll(); //allow an array of ids as parameter\n\n      if (isArray(id)) {\n        for (var i = 0; i < id.length; i++) {\n          this.select(id[i], i ? 1 : preserve, ctrlKey, shiftKey);\n        }\n\n        return;\n      }\n\n      assert(this.data.exists(id), \"Incorrect id in select command: \" + id); //block selection mode\n\n      if (shiftKey && this._selected.length) return this.selectAll(this._selected[this._selected.length - 1], id); //single selection mode\n\n      var need_unselect = false;\n      if (!ctrlKey && !preserve && (this._selected.length != 1 || this._selected[0] != id)) need_unselect = true;\n\n      if (!need_unselect && this.isSelected(id)) {\n        if (ctrlKey) this.unselect(id); //ctrl-selection of already selected item\n\n        return;\n      }\n\n      this._select_mark(id, true, null, need_unselect);\n    },\n    //unselect some item\n    unselect: function (id) {\n      //if id is not provided  - unselect all items\n      if (!id) return this.unselectAll();\n      if (!this.isSelected(id)) return;\n\n      this._select_mark(id, false);\n    },\n    //select all items, or all in defined range\n    selectAll: function (from, to) {\n      var range;\n      var refresh = [];\n      if (from || to) range = this.data.getRange(from || null, to || null); //get limited set if bounds defined\n      else range = this.data.getRange(); //get all items in other case\n      //in case of paging - it will be current page only\n\n      range.each(function (obj) {\n        if (!this.data.getMark(obj.id, \"webix_selected\")) {\n          this._selected.push(obj.id);\n\n          this._select_mark(obj.id, true, refresh);\n        }\n      }, this); //repaint self\n\n      this._refresh_selection(refresh);\n    },\n    //remove selection from all items\n    unselectAll: function () {\n      var refresh = [];\n\n      this._selected.each(function (id) {\n        this._select_mark(id, false, refresh); //unmark selected only\n\n      }, this);\n\n      this._selected = _to_array();\n\n      this._refresh_selection(refresh); //repaint self\n\n    },\n    //returns true if item is selected\n    isSelected: function (id) {\n      return this._selected.find(id) != -1;\n    },\n\n    /*\n    \treturns ID of selected items or array of IDs\n    \tto make result predictable - as_array can be used, \n    \t\twith such flag command will always return an array \n    \t\tempty array in case when no item was selected\n    */\n    getSelectedId: function (as_array) {\n      switch (this._selected.length) {\n        case 0:\n          return as_array ? [] : \"\";\n\n        case 1:\n          return as_array ? [this._selected[0]] : this._selected[0];\n\n        default:\n          return [].concat(this._selected);\n        //isolation\n      }\n    },\n    getSelectedItem: function (as_array) {\n      var sel = this.getSelectedId(true);\n\n      if (sel.length > 1 || as_array) {\n        for (var i = sel.length - 1; i >= 0; i--) {\n          sel[i] = this.getItem(sel[i]);\n        }\n\n        return sel;\n      } else if (sel.length) return this.getItem(sel[0]);\n    },\n    //detects which repainting mode need to be used\n    _is_mass_selection: function (obj) {\n      // crappy heuristic, but will do the job\n      return obj.length > 100 || obj.length > this.data.count / 2;\n    },\n    _refresh_selection: function (refresh) {\n      if (_typeof(refresh) != \"object\") refresh = [refresh];\n      if (!refresh.length) return; //nothing to repaint\n\n      if (this._is_mass_selection(refresh)) this.data.refresh(); //many items was selected - repaint whole view\n      else for (var i = 0; i < refresh.length; i++) {\n          //repaint only selected\n          this.render(refresh[i], this.data.getItem(refresh[i]), \"update\");\n        }\n      if (!this._silent_selection) this.callEvent(\"onSelectChange\", [refresh]);\n    }\n  };\n  ready(function () {\n    event$1(document.body, \"mouseup\", function () {\n      if (state._noselect_element) {\n        removeCss(state._noselect_element, \"webix_noselect\");\n        state._noselect_element = null;\n      }\n    });\n  });\n\n  var color = {\n    _toHex: [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"A\", \"B\", \"C\", \"D\", \"E\", \"F\"],\n    toHex: function (number, length) {\n      number = parseInt(number, 10);\n      var str = \"\";\n\n      while (number > 0) {\n        str = this._toHex[number % 16] + str;\n        number = Math.floor(number / 16);\n      }\n\n      while (str.length < length) {\n        str = \"0\" + str;\n      }\n\n      return str;\n    },\n    rgbToHex: function (rgb) {\n      var arr = [];\n      if (typeof rgb === \"string\") rgb.replace(/[\\d+.]+/g, function (v) {\n        arr.push(parseFloat(v));\n      });else if (isArray(rgb)) arr = rgb; //transparent\n\n      if (arr[3] === 0) return \"\";\n      return arr.slice(0, 3).map(function (n) {\n        return color.toHex(Math.floor(n), 2);\n      }).join(\"\");\n    },\n    hexToDec: function (hex) {\n      return parseInt(hex, 16);\n    },\n    toRgb: function (rgb) {\n      var r, g, b, rgbArr;\n\n      if (typeof rgb != \"string\") {\n        r = rgb[0];\n        g = rgb[1];\n        b = rgb[2];\n      } else if (rgb.indexOf(\"rgb\") != -1) {\n        rgbArr = rgb.substr(rgb.indexOf(\"(\") + 1, rgb.lastIndexOf(\")\") - rgb.indexOf(\"(\") - 1).split(\",\");\n        r = rgbArr[0];\n        g = rgbArr[1];\n        b = rgbArr[2];\n      } else {\n        if (rgb.substr(0, 1) == \"#\") {\n          rgb = rgb.substr(1);\n        }\n\n        r = this.hexToDec(rgb.substr(0, 2));\n        g = this.hexToDec(rgb.substr(2, 2));\n        b = this.hexToDec(rgb.substr(4, 2));\n      }\n\n      r = parseInt(r, 10) || 0;\n      g = parseInt(g, 10) || 0;\n      b = parseInt(b, 10) || 0;\n      if (r < 0 || r > 255) r = 0;\n      if (g < 0 || g > 255) g = 0;\n      if (b < 0 || b > 255) b = 0;\n      return [r, g, b];\n    },\n    hsvToRgb: function (h, s, v) {\n      var hi, f, p, q, t, r, g, b;\n      hi = Math.floor(h / 60) % 6;\n      f = h / 60 - hi;\n      p = v * (1 - s);\n      q = v * (1 - f * s);\n      t = v * (1 - (1 - f) * s);\n      r = 0;\n      g = 0;\n      b = 0;\n\n      switch (hi) {\n        case 0:\n          r = v;\n          g = t;\n          b = p;\n          break;\n\n        case 1:\n          r = q;\n          g = v;\n          b = p;\n          break;\n\n        case 2:\n          r = p;\n          g = v;\n          b = t;\n          break;\n\n        case 3:\n          r = p;\n          g = q;\n          b = v;\n          break;\n\n        case 4:\n          r = t;\n          g = p;\n          b = v;\n          break;\n\n        case 5:\n          r = v;\n          g = p;\n          b = q;\n          break;\n\n        default:\n          break;\n      }\n\n      r = Math.floor(r * 255);\n      g = Math.floor(g * 255);\n      b = Math.floor(b * 255);\n      return [r, g, b];\n    },\n    rgbToHsv: function (r, g, b) {\n      var r0, g0, b0, min0, max0, s, h, v;\n      r0 = r / 255;\n      g0 = g / 255;\n      b0 = b / 255;\n      min0 = Math.min(r0, g0, b0);\n      max0 = Math.max(r0, g0, b0);\n      h = 0;\n      s = max0 === 0 ? 0 : 1 - min0 / max0;\n      v = max0;\n\n      if (max0 == min0) {\n        h = 0;\n      } else if (max0 == r0 && g0 >= b0) {\n        h = 60 * (g0 - b0) / (max0 - min0) + 0;\n      } else if (max0 == r0 && g0 < b0) {\n        h = 60 * (g0 - b0) / (max0 - min0) + 360;\n      } else if (max0 == g0) {\n        h = 60 * (b0 - r0) / (max0 - min0) + 120;\n      } else if (max0 == b0) {\n        h = 60 * (r0 - g0) / (max0 - min0) + 240;\n      }\n\n      return [h, s, v];\n    }\n  };\n\n  function joinAttributes(attrs) {\n    var result = \" \";\n    if (attrs) for (var a in attrs) {\n      result += a + \"=\\\"\" + attrs[a] + \"\\\" \";\n    }\n    return result;\n  } // SVG\n\n\n  var SVG = {};\n\n  SVG.draw = function (content, width, height, css) {\n    var attrs = {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      version: \"1.1\",\n      height: \"100%\",\n      width: \"100%\",\n      viewBox: \"0 0 \" + width + \" \" + height,\n      \"class\": css || \"\"\n    };\n    return \"<svg \" + joinAttributes(attrs) + \">\" + content + \"</svg>\";\n  };\n\n  SVG.styleMap = {\n    \"lineColor\": \"stroke\",\n    \"color\": \"fill\"\n  };\n\n  SVG.group = function (path) {\n    return \"<g>\" + path + \"</g>\";\n  };\n\n  SVG._handlers = {\n    // MoveTo: {x:px,y:py}\n    \"M\": function (p) {\n      return \" M \" + p.x + \" \" + p.y;\n    },\n    // LineTo: {x:px,y:py}\n    \"L\": function (p) {\n      return \" L \" + p.x + \" \" + p.y;\n    },\n    // Curve: 3 points {x:px,y:py}: two control points and an end point\n    \"C\": function (cp0, cp1, p) {\n      return \" C \" + cp0.x + \" \" + cp0.y + \" \" + cp1.x + \" \" + cp1.y + \" \" + p.x + \" \" + p.y;\n    },\n    // Arc: center point {x:px,y:py}, radius, angle0, angle1\n    \"A\": function (p, radius, angle0, angle1) {\n      var x = p.x + Math.cos(angle1) * radius;\n      var y = p.y + Math.sin(angle1) * radius;\n      var bigCircle = angle1 - angle0 >= Math.PI;\n      return \" A \" + radius + \" \" + radius + \" 0 \" + (bigCircle ? 1 : 0) + \" 1 \" + x + \" \" + y;\n    }\n  }; // points is an array of an array with two elements: {string} line type, {array}\n\n  SVG.definePath = function (points, close) {\n    var path = \"\";\n\n    for (var i = 0; i < points.length; i++) {\n      assert(points[i][0] && typeof points[i][0] == \"string\", \"Path type must be a string\");\n      var type = points[i][0].toUpperCase();\n      assert(this._handlers[type], \"Incorrect path type\");\n      path += this._handlers[type].apply(this, points[i].slice(1));\n    }\n\n    if (close) path += \" Z\";\n    return path;\n  };\n\n  SVG._linePoints = function (points) {\n    var result = [];\n\n    for (var i = 0; i < points.length; i++) {\n      result.push([i ? \"L\" : \"M\", points[i]]);\n    }\n\n    return result;\n  };\n\n  SVG.setOpacity = function (rawColor, opacity) {\n    var rgbColor = color.toRgb(rawColor);\n    rgbColor.push(opacity);\n    return \"rgba(\" + rgbColor.join(\",\") + \")\";\n  };\n\n  SVG._curvePoints = function (points) {\n    var result = [];\n\n    for (var i = 0; i < points.length; i++) {\n      var p = points[i];\n\n      if (!i) {\n        result.push([\"M\", p[0]]);\n      }\n\n      result.push([\"C\", p[1], p[2], p[3]]);\n    }\n\n    return result;\n  };\n\n  SVG.getPath = function (path, css, attrs) {\n    attrs = joinAttributes(attrs);\n    return \"<path class=\\\"\" + css + \"\\\" vector-effect=\\\"non-scaling-stroke\\\" d=\\\"\" + path + \"\\\" \" + attrs + \"/>\";\n  };\n\n  SVG.getSector = function (p, radius, angle0, angle1, css, attrs) {\n    attrs = joinAttributes(attrs);\n    var x0 = p.x + Math.cos(angle0) * radius;\n    var y0 = p.y + Math.sin(angle0) * radius;\n    var lines = [[\"M\", p], [\"L\", {\n      x: x0,\n      y: y0\n    }], [\"A\", p, radius, angle0, angle1], [\"L\", p]];\n    return \"<path class=\\\"\" + css + \"\\\" vector-effect=\\\"non-scaling-stroke\\\" d=\\\"\" + SVG.definePath(lines, true) + \"\\\" \" + attrs + \"/>\";\n  };\n\n  SVG.getCurve = function (points, css, attrs) {\n    attrs = joinAttributes(attrs);\n    var path = this.definePath(this._curvePoints(points));\n    return \"<path fill=\\\"none\\\" class=\\\"\" + css + \"\\\" vector-effect=\\\"non-scaling-stroke\\\" d=\\\"\" + path + \"\\\" \" + attrs + \"/>\";\n  };\n\n  SVG.getLine = function (p0, p1, css, attrs) {\n    return this.getPath(this.definePath(this._linePoints([p0, p1]), true), css, attrs);\n  };\n\n  SVG.getCircle = function (p, radius, css, attrs) {\n    attrs = joinAttributes(attrs);\n    return \"<circle class=\\\"\" + css + \"\\\" cx=\\\"\" + p.x + \"\\\" cy=\\\"\" + p.y + \"\\\" r=\\\"\" + radius + \"\\\" \" + attrs + \"/>\";\n  };\n\n  SVG.getRect = function (x, y, width, height, css, attrs) {\n    attrs = joinAttributes(attrs);\n    return \"<rect class=\\\"\" + css + \"\\\" rx=\\\"0\\\" ry=\\\"0\\\" x=\\\"\" + x + \"\\\" y=\\\"\" + y + \"\\\" width=\\\"\" + width + \"\\\" height=\\\"\" + height + \"\\\" \" + attrs + \"/>\";\n  };\n\n  var defaults = {\n    paddingX: 6,\n    paddingY: 6,\n    radius: 2,\n    minHeight: 4,\n    eventRadius: 8\n  };\n\n  function Line(config) {\n    this.config = exports.extend(copy(defaults), config || {}, true);\n  }\n\n  Line.prototype.draw = function (data, width, height) {\n    var points = this.getPoints(data, width, height);\n    var config = this.config;\n    var renderer = SVG;\n    var styles = config.color ? this._applyColor(renderer, config.color) : null; // draw line\n\n    var path = renderer.definePath(this._getLinePoints(points));\n    var graph = renderer.group(renderer.getPath(path, \"webix_sparklines_line\" + (styles ? \" \" + styles.line : \"\"))); // draw items\n\n    graph += this._drawItems(renderer, points, config.radius, \"webix_sparklines_item\" + (styles ? \" \" + styles.item : \"\")); // draw event items\n\n    var eventRadius = Math.min(data.length ? (width - 2 * (config.paddingX || 0)) / data.length : 0, config.eventRadius);\n    graph += this._drawEventItems(renderer, points, eventRadius);\n    return renderer.draw(graph, width, height, \"webix_sparklines_line_chart\" + (config.css ? \" \" + config.css : \"\"));\n  };\n\n  Line.prototype._applyColor = function (renderer, color) {\n    var config = {\n      \"line\": {},\n      \"item\": {}\n    },\n        map = renderer.styleMap;\n\n    if (color) {\n      config.line[map.lineColor] = color;\n      config.item[map.color] = color;\n\n      for (var name in config) {\n        config[name] = createCss(config[name]);\n      }\n    }\n\n    return config;\n  };\n\n  Line.prototype._drawItems = function (renderer, points, radius, css, attrs) {\n    var items = [];\n\n    for (var i = 0; i < points.length; i++) {\n      items.push(renderer.getCircle(points[i], radius, css, attrs));\n    }\n\n    return renderer.group(items.join(\"\"));\n  };\n\n  Line.prototype._drawEventItems = function (renderer, points, radius) {\n    var items = [];\n\n    for (var i = 0; i < points.length; i++) {\n      items.push(renderer.getCircle(points[i], radius, \"webix_sparklines_event_area\", {\n        webix_area: i\n      }));\n    }\n\n    return renderer.group(items.join(\"\"));\n  };\n\n  Line.prototype._getLinePoints = function (points) {\n    var i,\n        type,\n        result = [];\n\n    for (i = 0; i < points.length; i++) {\n      type = i ? \"L\" : \"M\";\n      result.push([type, points[i]]);\n    }\n\n    return result;\n  };\n\n  Line.prototype.getPoints = function (data, width, height) {\n    var config = this.config;\n    var minValue = Math.min.apply(null, data);\n    if (typeof config.origin !== \"undefined\") minValue = Math.min(config.origin, minValue);\n    var maxValue = Math.max.apply(null, data);\n    var result = [];\n    var x = config.paddingX || 0;\n    var y = config.paddingY || 0;\n    width = (width || 100) - x * 2;\n    var minHeight = config.minHeight || 0;\n    height = (height || 100) - y * 2;\n\n    if (data.length) {\n      if (data.length == 1) result.push({\n        x: width / 2 + x,\n        y: height / 2 + x\n      });else {\n        var unitX = width / (data.length - 1);\n        var yNum = config.scale || maxValue - minValue;\n        var unitY = (height - minHeight) / (yNum ? yNum : 1);\n        if (!yNum) height /= 2;\n\n        for (var i = 0; i < data.length; i++) {\n          result.push({\n            x: Math.ceil(unitX * i) + x,\n            y: height - Math.ceil(unitY * (data[i] - minValue)) + y - minHeight\n          });\n        }\n      }\n    }\n\n    return result;\n  };\n\n  var defaults$1 = {\n    paddingX: 3,\n    paddingY: 4,\n    radius: 1,\n    minHeight: 4,\n    eventRadius: 8\n  };\n\n  function Area(config) {\n    this.config = exports.extend(copy(defaults$1), config || {}, true);\n  }\n\n  Area.prototype.draw = function (data, width, height) {\n    var eventRadius,\n        graph,\n        path,\n        points,\n        styles,\n        config = this.config,\n        Line$$1 = Line.prototype,\n        renderer = SVG; // draw area\n\n    points = this.getPoints(data, width, height);\n    path = renderer.definePath(Line$$1._getLinePoints(points), true);\n    if (config.color) styles = this._applyColor(renderer, config.color);\n    graph = renderer.group(renderer.getPath(path, \"webix_sparklines_area\" + (styles ? \" \" + styles.area : \"\"))); // draw line\n\n    points.splice(points.length - 3, 3);\n    path = renderer.definePath(Line$$1._getLinePoints(points));\n    graph += renderer.group(renderer.getPath(path, \"webix_sparklines_line\" + (styles ? \" \" + styles.line : \"\"))); // draw items\n\n    graph += Line$$1._drawItems(renderer, points, config.radius, \"webix_sparklines_item\" + (styles ? \" \" + styles.item : \"\")); // draw event areas\n\n    eventRadius = Math.min(data.length ? (width - 2 * (config.paddingX || 0)) / data.length : 0, config.eventRadius);\n    graph += Line$$1._drawEventItems(renderer, points, eventRadius);\n    return renderer.draw(graph, width, height, \"webix_sparklines_area_chart\" + (config.css ? \" \" + config.css : \"\"));\n  };\n\n  Area.prototype._applyColor = function (renderer, color) {\n    var config = {\n      \"area\": {},\n      \"line\": {},\n      \"item\": {}\n    },\n        map = renderer.styleMap;\n\n    if (color) {\n      config.area[map.color] = renderer.setOpacity(color, 0.2);\n      config.line[map.lineColor] = color;\n      config.item[map.color] = color;\n\n      for (var name in config) {\n        config[name] = createCss(config[name]);\n      }\n    }\n\n    return config;\n  };\n\n  Area.prototype.getPoints = function (data, width, height) {\n    var Line$$1 = Line.prototype;\n    var points = Line$$1.getPoints.call(this, data, width, height);\n    var x = this.config.paddingX || 0;\n    var y = this.config.paddingY || 0;\n    points.push({\n      x: width - x,\n      y: height - y\n    }, {\n      x: x,\n      y: height - y\n    }, {\n      x: x,\n      y: points[0].y\n    });\n    return points;\n  };\n\n  var defaults$2 = {\n    paddingX: 3,\n    paddingY: 4,\n    width: 20,\n    margin: 4,\n    minHeight: 4,\n    eventRadius: 8,\n    origin: 0,\n    itemCss: function (value) {\n      return value < (this.config.origin || 0) ? \" webix_sparklines_bar_negative\" : \"\";\n    }\n  };\n\n  function Bar(config) {\n    this.config = exports.extend(copy(defaults$2), config || {}, true);\n  }\n\n  Bar.prototype.draw = function (data, width, height) {\n    var i,\n        css,\n        p,\n        y,\n        padding,\n        config = this.config,\n        graph = \"\",\n        items = [],\n        points = this.getPoints(data, width, height),\n        renderer = SVG; // draw bars\n\n    for (i = 0; i < points.length; i++) {\n      css = typeof config.itemCss == \"function\" ? config.itemCss.call(this, data[i]) : config.itemCss || \"\";\n      if (config.negativeColor && data[i] < config.origin) css += \" \" + this._applyColor(renderer, config.negativeColor);else if (config.color) css += \" \" + this._applyColor(renderer, config.color);\n      p = points[i];\n      items.push(renderer.getRect(p.x, p.y, p.width, p.height, \"webix_sparklines_bar \" + css));\n    }\n\n    graph += renderer.group(items.join(\"\")); // origin)\n\n    y = parseInt(this._getOrigin(data, width, height), 10) + 0.5;\n    padding = config.paddingX || 0;\n    graph += renderer.group(renderer.getLine({\n      x: padding,\n      y: y\n    }, {\n      x: width - padding,\n      y: y\n    }, \"webix_sparklines_origin\")); // event areas\n\n    var evPoints = this._getEventPoints(data, width, height);\n\n    var evItems = [];\n\n    for (i = 0; i < evPoints.length; i++) {\n      p = evPoints[i];\n      evItems.push(renderer.getRect(p.x, p.y, p.width, p.height, \"webix_sparklines_event_area \", {\n        \"webix_area\": i\n      }));\n    }\n\n    graph += renderer.group(evItems.join(\"\"));\n    return renderer.draw(graph, width, height, \"webix_sparklines_bar_chart\" + (config.css ? \" \" + config.css : \"\"));\n  };\n\n  Bar.prototype._applyColor = function (renderer, color) {\n    var config = {},\n        map = renderer.styleMap;\n    if (color) config[map.color] = color;\n    return createCss(config);\n  };\n\n  Bar.prototype._getOrigin = function (data, width, height) {\n    var config = this.config;\n    var y = config.paddingY || 0;\n    height = (height || 100) - y * 2;\n    var pos$$1 = y + height;\n\n    if (config.origin !== false) {\n      var minValue = Math.min.apply(null, data);\n      var maxValue = Math.max.apply(null, data);\n      var origin = config.origin || -0.000001;\n\n      if (origin >= maxValue) {\n        pos$$1 = y;\n      } else if (origin > minValue) {\n        var unitY = height / (maxValue - minValue);\n        pos$$1 -= unitY * (origin - minValue);\n      }\n    }\n\n    return pos$$1;\n  };\n\n  Bar.prototype._getEventPoints = function (data, width, height) {\n    var result = [];\n    var x = this.config.paddingX || 0;\n    var y = this.config.paddingY || 0;\n    width = (width || 100) - x * 2;\n    height = (height || 100) - y * 2;\n\n    if (data.length) {\n      var unitX = width / data.length;\n\n      for (var i = 0; i < data.length; i++) {\n        result.push({\n          x: Math.ceil(unitX * i) + x,\n          y: y,\n          height: height,\n          width: unitX\n        });\n      }\n    }\n\n    return result;\n  };\n\n  Bar.prototype.getPoints = function (data, width, height) {\n    var config = this.config;\n    var minValue = Math.min.apply(null, data);\n    if (config.origin < minValue) minValue = config.origin;\n    var maxValue = Math.max.apply(null, data);\n    var result = [];\n    var x = config.paddingX;\n    var y = config.paddingY;\n    var margin = config.margin;\n    var barWidth = config.width || 20;\n\n    var originY = this._getOrigin(data, width, height);\n\n    width = (width || 100) - x * 2;\n    height = (height || 100) - y * 2;\n\n    if (data.length) {\n      var unitX = width / data.length;\n      var yNum = config.scale || maxValue - minValue;\n      barWidth = Math.min(unitX - margin, barWidth);\n      margin = unitX - barWidth;\n      var minHeight = 0;\n      var origin = minValue;\n      if (config.origin !== false && config.origin > minValue) origin = config.origin || 0;else minHeight = config.minHeight;\n      var unitY = (height - minHeight) / (yNum ? yNum : 1);\n\n      for (var i = 0; i < data.length; i++) {\n        var h = Math.ceil(unitY * (data[i] - origin));\n        result.push({\n          x: Math.ceil(unitX * i) + x + margin / 2,\n          y: originY - (data[i] >= origin ? h : 0) - minHeight,\n          height: Math.abs(h) + minHeight,\n          width: barWidth\n        });\n      }\n    }\n\n    return result;\n  };\n\n  var defaults$3 = {\n    paddingY: 2\n  };\n\n  function Pie(config) {\n    this.config = exports.extend(defaults$3, config || {}, true);\n  }\n\n  Pie.prototype._defColorsCursor = 0;\n  Pie.prototype._defColors = [\"#f55b50\", \"#ff6d3f\", \"#ffa521\", \"#ffc927\", \"#ffee54\", \"#d3e153\", \"#9acb61\", \"#63b967\", \"#21a497\", \"#21c5da\", \"#3ea4f5\", \"#5868bf\", \"#7b53c0\", \"#a943ba\", \"#ec3b77\", \"#9eb0b8\"];\n\n  Pie.prototype._getColor = function (i, data) {\n    var count = data.length;\n    var colorsCount = this._defColors.length;\n\n    if (colorsCount > count) {\n      if (i) {\n        if (i < colorsCount - count) i = this._defColorsCursor + 2;else i = this._defColorsCursor + 1;\n      }\n\n      this._defColorsCursor = i;\n    } else i = i % colorsCount;\n\n    return this._defColors[i];\n  };\n\n  Pie.prototype.draw = function (data, width, height) {\n    var attrs,\n        graph,\n        i,\n        sectors,\n        config = this.config,\n        color = config.color || this._getColor,\n        points = this.getAngles(data),\n        renderer = SVG,\n        y = config.paddingY || 0,\n        // radius\n    r = height / 2 - y,\n        // center\n    x0 = width / 2,\n        y0 = height / 2; // draw sectors\n\n    if (typeof color != \"function\") color = function () {\n      return color;\n    };\n    sectors = \"\";\n\n    for (i = 0; i < points.length; i++) {\n      attrs = {};\n      attrs[renderer.styleMap[\"color\"]] = color.call(this, i, data, this._context);\n      sectors += renderer.getSector({\n        x: x0,\n        y: y0\n      }, r, points[i][0], points[i][1], \"webix_sparklines_sector\", attrs);\n    }\n\n    graph = renderer.group(sectors); // draw event areas\n\n    sectors = \"\";\n\n    for (i = 0; i < points.length; i++) {\n      sectors += renderer.getSector({\n        x: x0,\n        y: y0\n      }, r, points[i][0], points[i][1], \"webix_sparklines_event_area\", {\n        \"webix_area\": i\n      });\n    }\n\n    graph += renderer.group(sectors);\n    return renderer.draw(graph, width, height, \"webix_sparklines_pie_chart\" + (config.css ? \" \" + config.css : \"\"));\n  };\n\n  Pie.prototype.getAngles = function (data) {\n    var a0 = -Math.PI / 2,\n        a1,\n        i,\n        result = [];\n\n    var ratios = this._getRatios(data);\n\n    for (i = 0; i < data.length; i++) {\n      a1 = -Math.PI / 2 + ratios[i] - 0.0001;\n      result.push([a0, a1]);\n      a0 = a1;\n    }\n\n    return result;\n  };\n\n  Pie.prototype._getTotalValue = function (data) {\n    var t = 0;\n\n    for (var i = 0; i < data.length; i++) {\n      t += data[i] * 1;\n    }\n\n    return t;\n  };\n\n  Pie.prototype._getRatios = function (data) {\n    var i,\n        value,\n        ratios = [],\n        prevSum = 0,\n        totalValue = this._getTotalValue(data);\n\n    for (i = 0; i < data.length; i++) {\n      value = data[i] * 1;\n      ratios[i] = Math.PI * 2 * (totalValue ? (value + prevSum) / totalValue : 1 / data.length);\n      prevSum += value;\n    }\n\n    return ratios;\n  };\n\n  var defaults$4 = {\n    paddingX: 3,\n    paddingY: 6,\n    radius: 2,\n    minHeight: 4,\n    eventRadius: 8\n  };\n\n  function Spline(config) {\n    this.config = exports.extend(copy(defaults$4), config || {}, true);\n  }\n\n  Spline.prototype.draw = function (data, width, height) {\n    var config = this.config,\n        graph = \"\",\n        Line$$1 = Line.prototype,\n        points = this.getPoints(data, width, height),\n        renderer = SVG,\n        styles = config.color ? this._applyColor(renderer, config.color) : null; // draw spline\n\n    graph += renderer.group(renderer.getCurve(points, \"webix_sparklines_line\" + (styles ? \" \" + styles.line : \"\")));\n    var linePoints = Line$$1.getPoints.call(this, data, width, height); // draw items\n\n    graph += Line$$1._drawItems(renderer, linePoints, config.radius, \"webix_sparklines_item\" + (styles ? \" \" + styles.item : \"\")); // draw event items\n\n    var eventRadius = Math.min(data.length ? (width - 2 * (config.paddingX || 0)) / data.length : 0, config.eventRadius);\n    graph += Line$$1._drawEventItems(renderer, linePoints, eventRadius);\n    return renderer.draw(graph, width, height, \"webix_sparklines_line_chart\" + (config.css ? \" \" + config.css : \"\"));\n  };\n\n  Spline.prototype._applyColor = function (renderer, color) {\n    var config = {\n      \"line\": {},\n      \"item\": {}\n    },\n        map = renderer.styleMap;\n\n    if (color) {\n      config.line[map.lineColor] = color;\n      config.item[map.color] = color;\n\n      for (var name in config) {\n        config[name] = createCss(config[name]);\n      }\n    }\n\n    return config;\n  };\n\n  Spline.prototype.getPoints = function (data, width, height) {\n    var i,\n        points,\n        px,\n        py,\n        result = [],\n        x = [],\n        y = [],\n        Line$$1 = Line.prototype;\n    points = Line$$1.getPoints.call(this, data, width, height);\n\n    for (i = 0; i < points.length; i++) {\n      x.push(points[i].x);\n      y.push(points[i].y);\n    }\n\n    px = this._getControlPoints(x);\n    py = this._getControlPoints(y);\n    /*updates path settings, the browser will draw the new spline*/\n\n    for (i = 0; i < points.length - 1; i++) {\n      result.push([points[i], {\n        x: px[0][i],\n        y: py[0][i]\n      }, {\n        x: px[1][i],\n        y: py[1][i]\n      }, points[i + 1]]);\n    }\n\n    return result;\n  };\n  /* code from https://www.particleincell.com/2012/bezier-splines/ */\n\n\n  Spline.prototype._getControlPoints = function (points) {\n    var a = [],\n        b = [],\n        c = [],\n        r = [],\n        p1 = [],\n        p2 = [],\n        i,\n        m,\n        n = points.length - 1;\n    a[0] = 0;\n    b[0] = 2;\n    c[0] = 1;\n    r[0] = points[0] + 2 * points[1];\n\n    for (i = 1; i < n - 1; i++) {\n      a[i] = 1;\n      b[i] = 4;\n      c[i] = 1;\n      r[i] = 4 * points[i] + 2 * points[i + 1];\n    }\n\n    a[n - 1] = 2;\n    b[n - 1] = 7;\n    c[n - 1] = 0;\n    r[n - 1] = 8 * points[n - 1] + points[n];\n\n    for (i = 1; i < n; i++) {\n      m = a[i] / b[i - 1];\n      b[i] = b[i] - m * c[i - 1];\n      r[i] = r[i] - m * r[i - 1];\n    }\n\n    p1[n - 1] = r[n - 1] / b[n - 1];\n\n    for (i = n - 2; i >= 0; --i) {\n      p1[i] = (r[i] - c[i] * p1[i + 1]) / b[i];\n    }\n\n    for (i = 0; i < n - 1; i++) {\n      p2[i] = 2 * points[i + 1] - p1[i + 1];\n    }\n\n    p2[n - 1] = 0.5 * (points[n] + p1[n - 1]);\n    return [p1, p2];\n  };\n\n  var defaultsArea = {\n    paddingX: 3,\n    paddingY: 6,\n    radius: 1,\n    minHeight: 4,\n    eventRadius: 8\n  }; // spline area\n\n  function SplineArea(config) {\n    this.config = exports.extend(copy(defaultsArea), config || {}, true);\n  }\n\n  SplineArea.prototype = copy(Spline.prototype);\n\n  SplineArea.prototype.draw = function (data, width, height) {\n    var config = this.config,\n        Line$$1 = Line.prototype,\n        renderer = SVG,\n        styles = config.color ? this._applyColor(renderer, config.color) : null;\n    var points = this.getPoints(data, width, height); // draw area\n\n    var linePoints = points.splice(points.length - 3, 3);\n\n    var linePath = renderer._linePoints(linePoints);\n\n    linePath[0][0] = \"L\";\n\n    var areaPoints = renderer._curvePoints(points).concat(linePath);\n\n    var graph = renderer.group(renderer.getPath(renderer.definePath(areaPoints), \"webix_sparklines_area\" + (styles ? \" \" + styles.area : \"\"), true)); // draw line\n\n    graph += renderer.group(renderer.getPath(renderer.definePath(renderer._curvePoints(points)), \"webix_sparklines_line\" + (styles ? \" \" + styles.line : \"\")));\n    var itemPoints = Line$$1.getPoints.call(this, data, width, height); // draw items\n\n    graph += Line$$1._drawItems(renderer, itemPoints, config.radius, \"webix_sparklines_item\" + (styles ? \" \" + styles.item : \"\")); // draw event items\n\n    var eventRadius = Math.min(data.length ? (width - 2 * (config.paddingX || 0)) / data.length : 0, config.eventRadius);\n    graph += Line$$1._drawEventItems(renderer, itemPoints, eventRadius);\n    return renderer.draw(graph, width, height, \"webix_sparklines_splinearea_chart\" + (config.css ? \" \" + config.css : \"\"));\n  };\n\n  SplineArea.prototype._applyColor = function (renderer, color) {\n    var config = {\n      \"area\": {},\n      \"line\": {},\n      \"item\": {}\n    },\n        map = renderer.styleMap;\n\n    if (color) {\n      config.area[map.color] = renderer.setOpacity(color, 0.2);\n      config.line[map.lineColor] = color;\n      config.item[map.color] = color;\n\n      for (var name in config) {\n        config[name] = createCss(config[name]);\n      }\n    }\n\n    return config;\n  };\n\n  SplineArea.prototype.getPoints = function (data, width, height) {\n    var points = Spline.prototype.getPoints.call(this, data, width, height);\n    var x = this.config.paddingX || 0;\n    var y = this.config.paddingY || 0;\n    points.push({\n      x: width - x,\n      y: height - y\n    }, {\n      x: x,\n      y: height - y\n    }, {\n      x: x,\n      y: points[0][0].y\n    });\n    return points;\n  };\n\n  function Sparklines() {}\n\n  function getData(data) {\n    var values = [];\n\n    for (var i = data.length - 1; i >= 0; i--) {\n      var value = data[i];\n      values[i] = _typeof(value) === \"object\" ? value.value : value;\n    }\n\n    return values;\n  }\n\n  Sparklines.types = {};\n\n  Sparklines.getTemplate = function (customConfig) {\n    var config = customConfig || {};\n    if (typeof customConfig == \"string\") config = {\n      type: customConfig\n    };\n    exports.extend(config, {\n      type: \"line\"\n    });\n    var slConstructor = this.types[config.type];\n    assert(slConstructor, \"Unknown sparkline type\");\n    return bind(this._template, new slConstructor(config));\n  };\n\n  Sparklines._template = function (item, common, data, column) {\n    if (column) return this.draw(getData(data), column.width, 33);else return this.draw(item.data || item, common.width, common.height);\n  }; // add \"sparklines\" type\n\n\n  attachEvent(\"onDataTable\", function (table) {\n    table.type.sparklines = Sparklines.getTemplate();\n  });\n  Sparklines.types[\"area\"] = Area;\n  Sparklines.types[\"bar\"] = Bar;\n  Sparklines.types[\"line\"] = Line;\n  Sparklines.types[\"pie\"] = Pie;\n  Sparklines.types[\"spline\"] = Spline;\n  Sparklines.types[\"splineArea\"] = SplineArea;\n\n  var TablePaste = {\n    clipboard_setter: function (value) {\n      if (value === true || value === 1) value = \"block\";\n      clipbuffer.init();\n      this.attachEvent(\"onSelectChange\", this._sel_to_clip);\n      this.attachEvent(\"onAfterEditStop\", function (v, ed) {\n        var sel = this.getSelectedId(true);\n        if (sel.length == 1 && ed.row == sel[0].row) this._sel_to_clip();\n      }); // solution for clicks on selected items\n\n      this.attachEvent(\"onItemClick\", function () {\n        if (document.activeElement && this.$view.contains(document.activeElement)) {\n          clipbuffer.focus();\n          UIManager.setFocus(this);\n        }\n      });\n      this.attachEvent(\"onPaste\", this._clip_to_sel);\n      return value;\n    },\n    templateCopy_setter: template,\n    _sel_to_clip: function () {\n      var _this = this;\n\n      delay(function () {\n        //wait until editor is closed\n        if (!_this.$destructed && (!_this.getEditor || !_this.getEditor())) {\n          var data = _this._get_sel_text();\n\n          clipbuffer.set(data);\n          UIManager.setFocus(_this);\n        }\n      });\n    },\n    _get_sel_text: function () {\n      var data = [];\n      var filter = this._settings.templateCopy;\n      this.mapSelection(function (value, row, col, row_ind) {\n        if (!data[row_ind]) data[row_ind] = [];\n        var newvalue = filter ? filter(value, row, col) : value;\n        data[row_ind].push(newvalue);\n        return value;\n      });\n      var value = data.length === 1 && data[0].length === 1 ? data[0][0] : csv$1.stringify(data, this._settings.delimiter);\n      return value;\n    },\n    _clip_to_sel: function (text) {\n      if (!isUndefined(this._paste[this._settings.clipboard])) {\n        var data = csv$1.parse(text, this._settings.delimiter);\n\n        this._paste[this._settings.clipboard].call(this, data);\n      }\n    },\n    _paste: {\n      block: function (data) {\n        var leftTop = this.mapSelection(null);\n        if (!leftTop) return; // filling cells with data\n\n        this.mapCells(leftTop.row, leftTop.column, data.length, null, function (value, row, col, row_ind, col_ind) {\n          if (data[row_ind] && data[row_ind].length > col_ind) {\n            return data[row_ind][col_ind];\n          }\n\n          return value;\n        });\n        this.render();\n      },\n      selection: function (data) {\n        this.mapSelection(function (value, row, col, row_ind, col_ind) {\n          if (data[row_ind] && data[row_ind].length > col_ind) return data[row_ind][col_ind];\n          return value;\n        });\n        this.render();\n      },\n      repeat: function (data) {\n        this.mapSelection(function (value, row, col, row_ind, col_ind) {\n          row = data[row_ind % data.length];\n          value = row[col_ind % row.length];\n          return value;\n        });\n        this.render();\n      },\n      custom: function () {}\n    }\n  };\n\n  var TreeAPI = {\n    open: function (id, show) {\n      if (!id) return; //ignore open for leaf items\n\n      var item = this.getItem(id);\n      assert(item, \"Incorrect ID to open: \" + id);\n      if (!item.$count || item.open) return;\n\n      if (this.callEvent(\"onBeforeOpen\", [id])) {\n        item.open = true;\n        this.data.callEvent(\"onStoreUpdated\", [id, 0, \"branch\"]);\n        this.callEvent(\"onAfterOpen\", [id]);\n      }\n\n      if (show && id != \"0\") this.open(this.getParentId(id), show);\n    },\n    close: function (id) {\n      if (!id) return;\n      var item = this.getItem(id);\n      if (!item.open) return;\n\n      if (this.callEvent(\"onBeforeClose\", [id])) {\n        item.open = false;\n        this.data.callEvent(\"onStoreUpdated\", [id, 0, \"branch\"]);\n        this.callEvent(\"onAfterClose\", [id]);\n      }\n    },\n    openAll: function (id) {\n      this.data.eachSubItem(id || 0, function (obj, branch) {\n        if (branch) obj.open = true;\n      });\n      this.data.refresh();\n    },\n    closeAll: function (id) {\n      this.data.eachSubItem(id || 0, function (obj, branch) {\n        if (branch) obj.open = false;\n      });\n      this.data.refresh();\n    },\n    _tree_check_uncheck: function (id, mode, e) {\n      if (this._settings.threeState) return this._tree_check_uncheck_3(id, mode !== null ? mode : \"\");\n      var value,\n          item = this.getItem(id),\n          trg = e ? e.target : null; //read actual value from HTML tag when possible\n      //as it can be affected by dbl-clicks\n\n      if (trg && trg.type == \"checkbox\") value = trg.checked ? true : false;else value = mode !== null ? mode : !item.checked;\n      item.checked = value;\n      this.callEvent(\"onItemCheck\", [id, item.checked, e]);\n    },\n    isBranchOpen: function (search_id) {\n      if (search_id == \"0\") return true;\n      var item = this.getItem(search_id);\n      if (item.open) return this.isBranchOpen(item.$parent);\n      return false;\n    },\n    getOpenItems: function () {\n      var open = [];\n\n      for (var id in this.data.branch) {\n        if (this.exists(id) && this.getItem(id).open) open.push(id);\n      }\n\n      return open;\n    },\n    getState: function () {\n      return {\n        open: this.getOpenItems(),\n        select: this.getSelectedId(true)\n      };\n    },\n    _repeat_set_state: function (tree, open) {\n      var event = this.data.attachEvent(\"onStoreLoad\", function () {\n        tree.setState.call(tree, open);\n        tree.data.detachEvent(event);\n        tree = null;\n      });\n    },\n    setState: function (state) {\n      if (state.open) {\n        this.closeAll();\n        var open = state.open;\n\n        for (var i = 0; i < open.length; i++) {\n          var item = this.getItem(open[i]);\n\n          if (item && item.$count) {\n            item.open = true; //dynamic loading\n\n            if (item.$count == -1) {\n              //call the same method after data loading\n              this._repeat_set_state(this, state);\n\n              this.refresh();\n              return 0; //end processing\n            }\n          }\n        }\n\n        this.refresh();\n      }\n\n      if (state.select && this.select) {\n        var select = state.select;\n        this.unselect();\n\n        for (var _i = 0; _i < select.length; _i++) {\n          if (this.exists(select[_i])) this.select(select[_i], true);\n        }\n      }\n\n      return 1;\n    }\n  };\n\n  var TreeClick = {\n    webix_tree_open: function (e, id) {\n      this.close(id);\n      return false;\n    },\n    webix_tree_close: function (e, id) {\n      this.open(id);\n      return false;\n    },\n    webix_tree_checkbox: function (e, id) {\n      this._tree_check_uncheck(id, null, e);\n\n      return false;\n    }\n  };\n\n  var TreeDataLoader = {\n    $init: function () {\n      this.data.attachEvent(\"onStoreUpdated\", bind(this._sync_hierarchy, this), null, true); //redefine methods\n\n      this._feed_common = this._feed_commonA;\n    },\n    _feed_commonA: function (from, count, callback, defer, details, clear) {\n      // branch loading\n      details = count === 0 ? {\n        parent: encodeURIComponent(from)\n      } : null;\n      return DataLoader.prototype._feed_common.call(this, from, count, callback, defer, details, clear);\n    },\n    //load next set of data rows\n    loadBranch: function (id, callback, url) {\n      id = id || 0;\n      this.data.url = url || this.data.url;\n      if (this.callEvent(\"onDataRequest\", [id, callback, this.data.url]) && this.data.url) return this.data.feed.call(this, id, 0, callback);\n      return Deferred.reject();\n    },\n    _sync_hierarchy: function (id, data, mode) {\n      if (!mode || mode == \"add\" || mode == \"delete\" || mode == \"branch\") {\n        this.data._sync_to_order(this);\n      }\n    }\n  };\n\n  /*\n  \tBehavior:DataMove - allows to move and copy elements, heavily relays on DataStore.move\n  \t@export\n  \t\tcopy\n  \t\tmove\n  */\n\n  var TreeDataMove = {\n    $init: function () {\n      assert(this.data, \"DataMove :: Component doesn't have DataStore\");\n    },\n    //creates a copy of the item\n    copy: function (sid, tindex, tobj, details) {\n      details = details || {};\n      details.copy = true;\n      return this.move(sid, tindex, tobj, details);\n    },\n    _next_move_index: function (nid, next, source) {\n      if (next && nid) {\n        var new_index = this.getBranchIndex(nid); // check parent only when moving locally (source == this)\n\n        return new_index + (source == this && this.getParentId(nid) == this.getParentId(next) && source.getBranchIndex(next) < new_index ? 0 : 1);\n      }\n    },\n    _check_branch_child: function (parent, child) {\n      var t = this.data.branch[parent];\n\n      if (t && t.length) {\n        for (var i = 0; i < t.length; i++) {\n          if (t[i] == child) return true;\n          if (this._check_branch_child(t[i], child)) return true;\n        }\n      }\n\n      return false;\n    },\n    _remove_childs: function (ids) {\n      for (var i = 0; i < ids.length; i++) {\n        var id = ids[i];\n\n        while (this.getParentId(id)) {\n          id = this.getParentId(id);\n\n          if (_power_array.find.call(ids, id) != -1) {\n            ids.splice(i, 1);\n            i--;\n            continue;\n          }\n        }\n      }\n\n      return ids;\n    },\n    //move item to the new position\n    move: function (sid, tindex, tobj, details) {\n      details = details || {};\n      tindex = tindex || 0;\n      var new_id = details.newId || sid;\n      var target_parent = details.parent || 0;\n      tobj = tobj || this;\n      assert(tobj.data, \"moving attempt to component without datastore\");\n      if (!tobj.data) return;\n\n      if (isArray(sid)) {\n        this._remove_childs(sid);\n\n        for (var i = 0; i < sid.length; i++) {\n          //increase index for each next item in the set, so order of insertion will be equal to order in the array\n          var nid = this.move(sid[i], tindex, tobj, details);\n          tindex = tobj._next_move_index(nid, sid[i + 1], this);\n        }\n\n        return;\n      }\n\n      if (this != tobj || details.copy) {\n        new_id = tobj.data.add(tobj._externalData(this.getItem(sid), new_id), tindex, target_parent || 0);\n\n        if (this.data.branch[sid] && tobj.getBranchIndex) {\n          var temp = this.data._scheme_serialize;\n\n          this.data._scheme_serialize = function (obj) {\n            var copy$$1 = copy(obj);\n            delete copy$$1.$parent;\n            delete copy$$1.$level;\n            delete copy$$1.$child;\n            if (tobj.data.pull[copy$$1.id]) copy$$1.id = uid();\n            return copy$$1;\n          };\n\n          var copy_data = {\n            data: this.serialize(sid, true),\n            parent: new_id\n          };\n          this.data._scheme_serialize = temp;\n          tobj.parse(copy_data);\n        }\n\n        if (!details.copy) this.data.remove(sid);\n      } else {\n        //move in self\n        if (sid == target_parent || this._check_branch_child(sid, target_parent)) return;\n        var source = this.getItem(sid);\n        var tbranch = this.data.branch[target_parent];\n        if (!tbranch) tbranch = this.data.branch[target_parent] = [];\n        var sbranch = this.data.branch[source.$parent];\n\n        var sindex = _power_array.find.call(sbranch, sid);\n\n        if (tindex < 0) tindex = tbranch.length; //in the same branch and same position\n\n        if (sbranch === tbranch && tindex === sindex) return new_id; //return ID\n\n        _power_array.removeAt.call(sbranch, sindex);\n\n        _power_array.insertAt.call(tbranch, sid, Math.min(tbranch.length, tindex));\n\n        if (!sbranch.length) delete this.data.branch[source.$parent];\n        if (source.$parent && source.$parent != \"0\") this.getItem(source.$parent).$count--;\n\n        if (target_parent && target_parent != \"0\") {\n          var target = tobj.getItem(target_parent);\n          target.$count++;\n\n          this._set_level_rec(source, target.$level + 1);\n        } else this._set_level_rec(source, 1);\n\n        source.$parent = target_parent;\n        tobj.data.callEvent(\"onDataMove\", [sid, tindex, target_parent, tbranch[tindex + 1]]);\n      }\n\n      this.refresh();\n      return new_id; //return ID of item after moving\n    },\n    _set_level_rec: function (item, value) {\n      item.$level = value;\n      var branch = this.data.branch[item.id];\n      if (branch) for (var i = 0; i < branch.length; i++) {\n        this._set_level_rec(this.getItem(branch[i]), value + 1);\n      }\n    },\n    //reaction on pause during dnd\n    _drag_pause: function (id) {\n      if (id && !id.header && this.exists(id) && this._target_to_id(id) != DragControl._drag_context.start) //ignore drag other header\n        this.open(id);\n    },\n    $dropAllow: function (context) {\n      if (context.from != context.to) return true;\n\n      for (var i = 0; i < context.source.length; i++) {\n        if (this._check_branch_child(context.source, context.target)) return false;\n      }\n\n      return true;\n    },\n\n    /*\n    \tthis is a stub for future functionality\n    \tcurrently it just makes a copy of data object, which is enough for current situation\n    */\n    _externalData: function (data, id) {\n      var new_data = DataMove._externalData.call(this, data, id);\n\n      delete new_data.open;\n      return new_data;\n    }\n  };\n\n  var TreeRenderStack = {\n    $init: function () {\n      assert(this.render, \"TreeRenderStack :: Object must use RenderStack first\");\n    },\n    _toHTMLItem: function (obj) {\n      var mark = this.data._marks[obj.id];\n      this.callEvent(\"onItemRender\", [obj]);\n      return this.type.templateStart(obj, this.type, mark) + (obj.$template ? this.type[\"template\" + obj.$template](obj, this.type, mark) : this.type.template(obj, this.type, mark)) + this.type.templateEnd();\n    },\n    _toHTMLItemObject: function (obj) {\n      this._html.innerHTML = this._toHTMLItem(obj);\n      return this._html.firstChild;\n    },\n    //convert single item to HTML text (templating)\n    _toHTML: function (obj) {\n      //check if related template exist\n      assert(!obj.$template || this.type[\"template\" + obj.$template], \"RenderStack :: Unknown template: \" + obj.$template);\n\n      var html = \"<div role='presentation' class='webix_tree_branch_\" + obj.$level + \"'>\" + this._toHTMLItem(obj);\n\n      if (obj.open) html += this._toHTMLLevel(obj.id);\n      html += \"</div>\";\n      return html;\n    },\n    _toHTMLLevel: function (id) {\n      var html = \"\";\n      var leaves = this.data.branch[id];\n\n      if (leaves) {\n        html += \"<div role='presentation' class='webix_tree_leaves'>\";\n        var last = leaves.length - 1;\n\n        for (var i = 0; i <= last; i++) {\n          var obj = this.getItem(leaves[i]);\n          var state = this.type._tree_branch_render_state;\n          if (state !== 0) state[obj.$level] = i == last;\n          html += this._toHTML(obj);\n        }\n\n        html += \"</div>\";\n      }\n\n      return html;\n    },\n    //return true when some actual rendering done\n    render: function (id, data, type) {\n      TreeRenderStack._obj = this; //can be used from complex render\n\n      if (!this.isVisible(this._settings.id) || this.$blockRender) return;\n\n      if (id) {\n        var cont, node;\n        var item = this.getItem(id);\n\n        if (type != \"add\") {\n          cont = this.getItemNode(id);\n          if (!cont) return;\n        }\n\n        switch (type) {\n          case \"branch\":\n            var branch = cont.parentNode;\n            node = this._toHTMLObject(item);\n            insertBefore(node, branch);\n            remove(branch);\n            this._htmlmap = null;\n            break;\n\n          case \"paint\":\n          case \"update\":\n            node = this._htmlmap[id] = this._toHTMLItemObject(item);\n            insertBefore(node, cont);\n            remove(cont);\n            break;\n\n          case \"delete\":\n            //deleting not item , but full branch\n            remove(cont.parentNode);\n            break;\n\n          case \"add\":\n            var parent; //we want process both empty value and 0 as string\n            //jshint -W041:true\n\n            if (item.$parent == 0) {\n              parent = this._dataobj.firstChild;\n            } else if (this.getItem(item.$parent).open) {\n              parent = this.getItemNode(item.$parent);\n\n              if (parent) {\n                //when item created by the script, it will miss the container for child notes\n                //create it on demand\n                if (!parent.nextSibling) {\n                  var leafs = create(\"DIV\", {\n                    \"class\": \"webix_tree_leaves\"\n                  }, \"\");\n                  parent.parentNode.appendChild(leafs);\n                }\n\n                parent = parent.nextSibling;\n              }\n            }\n\n            if (parent) {\n              var next = this.data.getNextSiblingId(id);\n              next = this.getItemNode(next);\n              if (next) next = next.parentNode;\n              node = this._toHTMLObject(item);\n              this._htmlmap[id] = node.firstChild;\n              insertBefore(node, next, parent);\n            }\n\n            break;\n\n          default:\n            return false;\n        }\n\n        this.callEvent(\"onPartialRender\", [id, data, type]);\n      } else {\n        //full reset\n        if (this.callEvent(\"onBeforeRender\", [this.data])) {\n          //will be used for lines management\n          this.type._tree_branch_render_state = []; //getTopRange - returns all elements on top level\n\n          this._dataobj.innerHTML = this._toHTMLLevel(0);\n          this._htmlmap = null; //clear map, it will be filled at first getItemNode\n\n          this.callEvent(\"onAfterRender\", []);\n        }\n      } //clear after usage\n\n\n      this.type._tree_branch_render_state = 0;\n      TreeRenderStack._obj = null;\n      return true;\n    },\n    getItemNode: function (search_id) {\n      if (this._htmlmap) return this._htmlmap[search_id]; //fill map if it doesn't created yet\n\n      this._htmlmap = {};\n\n      var t = this._dataobj.getElementsByTagName(\"DIV\");\n\n      for (var i = 0; i < t.length; i++) {\n        var id = t[i].getAttribute(this._id); //get item's\n\n        if (id) this._htmlmap[id] = t[i];\n      } //call locator again, when map is filled\n\n\n      return this.getItemNode(search_id);\n    },\n    _branch_render_supported: 1\n  };\n\n  var TreeStateCheckbox = {\n    _init_render_tree_state: function () {\n      if (this._branch_render_supported) {\n        var old_render = this.render;\n\n        this.render = function (id, data) {\n          var updated = old_render.apply(this, arguments);\n          if (this._settings.threeState && updated && data != \"checkbox\") this._setThirdState.apply(this, arguments);\n        };\n\n        this._init_render_tree_state = function () {};\n      }\n    },\n    threeState_setter: function (value) {\n      if (value) this._init_render_tree_state();\n      return value;\n    },\n    _setThirdState: function (id) {\n      var i, leaves, parents, checkedParents, tree;\n      parents = [];\n      tree = this;\n      /*if item was removed*/\n\n      if (id && !tree.data.pull[id]) {\n        id = 0;\n      }\n      /*sets checkbox states*/\n\n      /*if branch or full reloading*/\n\n\n      if (!id || tree.data.pull[id].$count) {\n        leaves = this._getAllLeaves(id);\n        leaves.sort(function (a, b) {\n          return tree.data.pull[b].$level - tree.data.pull[a].$level;\n        });\n\n        for (i = 0; i < leaves.length; i++) {\n          if (!i || tree.data.pull[leaves[i]].$parent != tree.data.pull[leaves[i - 1]].$parent) parents = parents.concat(tree._setParentThirdState(leaves[i]));\n        }\n      } else {\n        /*an item is a leaf */\n        parents = parents.concat(tree._setParentThirdState(id));\n      }\n\n      checkedParents = {};\n\n      for (i = 0; i < parents.length; i++) {\n        if (!checkedParents[parents[i]]) {\n          checkedParents[parents[i]] = 1;\n\n          this._setCheckboxIndeterminate(parents[i]);\n        }\n      }\n\n      tree = null;\n    },\n    _setCheckboxIndeterminate: function (id) {\n      var chElem, elem;\n      elem = this.getItemNode(id);\n\n      if (elem) {\n        this.render(id, \"checkbox\", \"update\");\n        /*needed to get the new input obj and to set indeterminate state*/\n\n        if (this.getItem(id).indeterminate) {\n          elem = this.getItemNode(id);\n          chElem = elem.getElementsByTagName(\"input\")[0];\n          if (chElem) chElem.indeterminate = this.getItem(id).indeterminate;\n        }\n      }\n    },\n    _setParentThirdState: function (itemId) {\n      //we need to use dynamic function creating\n      //jshint -W083:true\n      var checked, checkedCount, indeterminate, parentId, result, unsureCount, needrender;\n      parentId = this.getParentId(itemId);\n      result = [];\n\n      while (parentId && parentId != \"0\") {\n        unsureCount = 0;\n        checkedCount = 0;\n        this.data.eachChild(parentId, function (obj) {\n          if (obj.indeterminate) {\n            unsureCount++;\n          } else if (obj.checked) {\n            checkedCount++;\n          }\n        });\n        checked = indeterminate = needrender = false;\n        var item = this.getItem(parentId);\n\n        if (checkedCount == item.$count) {\n          checked = true;\n        } else if (checkedCount > 0 || unsureCount > 0) {\n          indeterminate = true;\n        } //we need to reset indeterminate in any case :(\n\n\n        if (indeterminate || indeterminate != item.indeterminate) needrender = true;\n        item.indeterminate = indeterminate;\n        if (checked || item.checked != checked) needrender = true;\n        item.checked = checked;\n\n        if (needrender) {\n          result.push(parentId);\n          parentId = this.getParentId(parentId);\n        } else parentId = 0;\n      }\n\n      return result;\n    },\n\n    /*get all checked items in tree*/\n    getChecked: function () {\n      var result = [];\n      var tree = this;\n      this.data.eachSubItem(0, function (obj) {\n        if (tree.isChecked(obj.id)) result.push(obj.id);\n      });\n      return result;\n    },\n    _tree_check_uncheck_3: function (id, mode) {\n      var item = this.getItem(id);\n\n      if (item) {\n        if (mode === \"\") mode = !item.checked;\n\n        if (item.checked != mode || item.indeterminate) {\n          item.checked = mode;\n\n          this._correctThreeState(id);\n\n          var parents = this._setParentThirdState(id);\n\n          if (this._branch_render_supported && parents.length < 5) {\n            for (var i = 0; i < parents.length; i++) {\n              this._setCheckboxIndeterminate(parents[i]);\n            }\n          } else this.refresh();\n\n          this.callEvent(\"onItemCheck\", [id, mode]);\n        }\n      }\n    },\n\n    /*set checked state for item checkbox*/\n    checkItem: function (id) {\n      this._tree_check_uncheck(id, true);\n\n      this.updateItem(id);\n    },\n\n    /*uncheckes an item checkbox*/\n    uncheckItem: function (id) {\n      this._tree_check_uncheck(id, false);\n\n      this.updateItem(id);\n    },\n    _checkUncheckAll: function (id, mode, all) {\n      var method = mode ? \"checkItem\" : \"uncheckItem\";\n      if (!id) id = 0;else this[method](id);\n\n      if (this._settings.threeState) {\n        if (!id) this.data.eachChild(0, function (item) {\n          this[method](item.id);\n        }, this, all);\n      } else this.data.each(function (item) {\n        this[method](item.id);\n      }, this, all, id);\n    },\n\n    /*checkes checkboxes of all items in a branch/tree*/\n    checkAll: function (id, all) {\n      this._checkUncheckAll(id, true, all);\n    },\n\n    /*uncheckes checkboxes of all items in a branch/tree*/\n    uncheckAll: function (id, all) {\n      this._checkUncheckAll(id, false, all);\n    },\n    _correctThreeState: function (id) {\n      var state;\n      var item = this.getItem(id);\n      item.indeterminate = false;\n      state = item.checked;\n      this.data.eachSubItem(id, function (child) {\n        child.indeterminate = false;\n        child.checked = state;\n      });\n\n      if (this._branch_render_supported && this.isBranchOpen(item.$parent)) {\n        //for tree-render only\n        this.render(id, 0, \"branch\");\n      }\n    },\n\n    /*returns checked state of item checkbox*/\n    isChecked: function (id) {\n      return this.getItem(id).checked;\n    },\n\n    /*gets all leaves in a certain branch (in the whole tree if id is not set)*/\n    _getAllLeaves: function (parentId) {\n      var result = [];\n      this.data.eachSubItem(parentId, function (obj, branch) {\n        if (!branch) result.push(obj.id);\n      });\n      return result;\n    }\n  };\n\n  // #include core/bind.js\n  // #include core/treemove.js\n\n  var TreeStore = {\n    name: \"TreeStore\",\n    $init: function () {\n      this._filterMode = {\n        //level:1,\n        showSubItems: true\n      };\n      this.branch = {\n        0: []\n      };\n      this.attachEvent(\"onParse\", function (driver) {\n        this._set_child_scheme(driver.child);\n      });\n      this.attachEvent(\"onClearAll\", bind(function () {\n        this._filter_branch = null;\n      }, this));\n    },\n    filterMode_setter: function (mode) {\n      return exports.extend(this._filterMode, mode, true);\n    },\n    _filter_reset: function (preserve) {\n      //remove previous filtering , if any\n      if (this._filter_branch && !preserve) {\n        this.branch = this._filter_branch;\n        this.order = _to_array(copy(this.branch[0]));\n\n        for (var key in this.branch) {\n          if (key != \"0\") //exclude 0 - virtual root\n            this.getItem(key).$count = this.branch[key].length;\n        }\n\n        delete this._filter_branch;\n      }\n    },\n    _filter_core: function (filter, value, preserve, filterMode) {\n      //for tree we have few filtering options\n      //- filter leafs only\n      //- filter data on specific level\n      //- filter data on all levels\n      //- in all cases we can show or hide empty folder\n      //- in all cases we can show or hide childs for matched item\n      //set new order of items, store original\n      if (!preserve || !this._filter_branch) {\n        this._filter_branch = this.branch;\n        this.branch = clone(this.branch);\n      }\n\n      this.branch[0] = this._filter_branch_rec(filter, value, this.branch[0], 1, filterMode || {});\n    },\n    _filter_branch_rec: function (filter, value, branch, level, config) {\n      //jshint -W041\n      var neworder = [];\n      var allow = config.level && config.level != level;\n\n      for (var i = 0; i < branch.length; i++) {\n        var id = branch[i];\n        var item = this.getItem(id);\n        var child_run = false;\n        var sub = this.branch[id];\n\n        if (allow) {\n          child_run = true;\n        } else if (filter(this.getItem(id), value)) {\n          neworder.push(id); // open all parents of the found item\n\n          if (config.openParents !== false) {\n            var parentId = this.getParentId(id);\n\n            while (parentId && parentId != \"0\") {\n              this.getItem(parentId).open = 1;\n              parentId = this.getParentId(parentId);\n            }\n          } //in case of of fixed level filtering - do not change child-items\n\n\n          if (config.level || config.showSubItems) continue;\n        } else {\n          //filtering level, not match\n          child_run = true;\n        } //if \"filter by all levels\" - filter childs\n\n\n        if (allow || !config.level) {\n          if (sub) {\n            var newsub = this.branch[id] = this._filter_branch_rec(filter, value, sub, level + 1, config);\n\n            item.$count = newsub.length;\n            if (child_run && newsub.length) neworder.push(id);\n          }\n        }\n      }\n\n      return neworder;\n    },\n    count: function () {\n      if (this.order.length) return this.order.length; //we must return some non-zero value, or logic of selection will think that we have not data at all\n\n      var count = 0;\n      this.eachOpen(function () {\n        count++;\n      });\n      return count;\n    },\n    _change_branch_id: function (branches, parent, old, newid) {\n      if (branches[old]) {\n        var branch = branches[newid] = branches[old];\n\n        for (var i = 0; i < branch.length; i++) {\n          this.getItem(branch[i]).$parent = newid;\n        }\n\n        delete branches[old];\n      }\n\n      if (branches[parent]) {\n        var index = _power_array.find.call(branches[parent], old);\n\n        if (index >= 0) branches[parent][index] = newid;\n      }\n    },\n    changeId: function (old, newid) {\n      if (old == newid) return;\n      var parent = this.getItem(old).$parent;\n\n      this._change_branch_id(this.branch, parent, old, newid); //in case of filter applied, update id in filtered state as well\n\n\n      if (this._filter_branch) this._change_branch_id(this._filter_branch, parent, old, newid);\n      return DataStore.prototype.changeId.call(this, old, newid);\n    },\n    clearAll: function (soft) {\n      this.branch = {\n        0: []\n      };\n      DataStore.prototype.clearAll.call(this, soft);\n    },\n    getPrevSiblingId: function (id) {\n      var order = this.branch[this.getItem(id).$parent];\n      var pos = _power_array.find.call(order, id) - 1;\n      if (pos >= 0) return order[pos];\n      return null;\n    },\n    getNextSiblingId: function (id) {\n      var order = this.branch[this.getItem(id).$parent];\n      var pos = _power_array.find.call(order, id) + 1;\n      if (pos < order.length) return order[pos];\n      return null;\n    },\n    getParentId: function (id) {\n      return this.getItem(id).$parent;\n    },\n    getFirstChildId: function (id) {\n      var order = this.branch[id];\n      if (order && order.length) return order[0];\n      return null;\n    },\n    isBranch: function (parent) {\n      return !!this.branch[parent];\n    },\n    getBranchIndex: function (child) {\n      var t = this.branch[this.pull[child].$parent];\n      return _power_array.find.call(t, child);\n    },\n    _set_child_scheme: function (parse_name) {\n      if (typeof parse_name == \"string\") this._datadriver_child = function (obj) {\n        var t = obj[parse_name];\n        if (t) delete obj[parse_name];\n        return t;\n      };else this._datadriver_child = parse_name;\n    },\n    _inner_parse: function (info, recs) {\n      var parent = info.parent || 0;\n\n      for (var i = 0; i < recs.length; i++) {\n        //get hash of details for each record\n        var temp = this.driver.getDetails(recs[i]);\n        var id = this.id(temp); //generate ID for the record\n\n        var update = !!this.pull[id]; //update mode\n\n        if (update) {\n          temp = exports.extend(this.pull[id], temp, true);\n          if (this._scheme_update) this._scheme_update(temp);\n        } else {\n          if (this._scheme_init) this._scheme_init(temp);\n          this.pull[id] = temp;\n        }\n\n        this._extraParser(temp, parent, 0, update, info.from ? info.from * 1 + i : 0);\n      } //fix state of top item after data loading\n\n\n      var pItem = this.pull[parent] || {};\n      var pBranch = this.branch[parent] || [];\n      pItem.$count = pBranch.length;\n      delete pItem.webix_kids;\n      if (info.size && info.size != pBranch.length) pBranch[info.size - 1] = undefined;\n    },\n    _extraParser: function (obj, parent, level, update, from) {\n      //processing top item\n      obj.$count = 0; //using soft check, as parent can be a both 0 and \"0\" ( second one in case of loading from server side ) \n\n      obj.$parent = parent != \"0\" ? parent : 0;\n      obj.$level = level || (parent != \"0\" ? this.pull[parent].$level + 1 : 1);\n      var parent_branch = this.branch[obj.$parent];\n      if (!parent_branch) parent_branch = this.branch[obj.$parent] = [];\n      if (this._filter_branch) this._filter_branch[obj.$parent] = parent_branch;\n\n      if (!update) {\n        var pos = from || parent_branch.length;\n        parent_branch[pos] = obj.id;\n      }\n\n      var child = this._datadriver_child(obj);\n\n      if (obj.webix_kids) {\n        return obj.$count = -1;\n      }\n\n      if (!child) //ignore childless\n        return obj.$count = 0; //when loading from xml we can have a single item instead of an array\n\n      if (!isArray(child)) child = [child];\n\n      for (var i = 0; i < child.length; i++) {\n        //extra processing to convert strings to objects\n        var item = DataDriver.json.getDetails(child[i]);\n        var itemid = this.id(item);\n        update = !!this.pull[itemid];\n\n        if (update) {\n          item = exports.extend(this.pull[itemid], item, true);\n          if (this._scheme_update) this._scheme_update(item);\n        } else {\n          if (this._scheme_init) this._scheme_init(item);\n          this.pull[itemid] = item;\n        }\n\n        this._extraParser(item, obj.id, obj.$level + 1, update);\n      } //processing childrens\n\n\n      var branch = this.branch[obj.id];\n      if (branch) obj.$count = branch.length;\n    },\n    _sync_to_order: function (master) {\n      this.order = _to_array(); // send current order to prevent simultaneous use in sync mode\n\n      this._sync_each_child(this.order, 0, master);\n    },\n    _sync_each_child: function (order, start, master) {\n      var branch = this.branch[start];\n\n      for (var i = 0; i < branch.length; i++) {\n        var id = branch[i];\n        order.push(id);\n        var item = this.pull[id];\n\n        if (item && item.open) {\n          if (item.$count == -1) master.loadBranch(id);else if (item.$count) this._sync_each_child(order, id, master);\n        }\n      }\n    },\n    provideApi: function (target, eventable) {\n      var list = [\"getPrevSiblingId\", \"getNextSiblingId\", \"getParentId\", \"getFirstChildId\", \"isBranch\", \"getBranchIndex\", \"filterMode_setter\"];\n\n      for (var i = 0; i < list.length; i++) {\n        target[list[i]] = this._methodPush(this, list[i]);\n      }\n\n      if (!target.getIndexById) DataStore.prototype.provideApi.call(this, target, eventable);\n    },\n    getTopRange: function () {\n      return _to_array([].concat(this.branch[0])).map(function (id) {\n        return this.getItem(id);\n      }, this);\n    },\n    eachChild: function (id, functor, master, all) {\n      var branch = this.branch;\n      if (all && this._filter_branch) branch = this._filter_branch;\n      var stack = branch[id];\n      if (stack) for (var i = 0; i < stack.length; i++) {\n        if (stack[i]) functor.call(master || this, this.getItem(stack[i]));\n      }\n    },\n    each: function (method, master, all, id) {\n      this.eachChild(id || 0, function (item) {\n        var branch = this.branch;\n        method.call(master || this, item);\n        if (all && this._filter_branch) branch = this._filter_branch;\n        if (item && branch[item.id]) this.each(method, master, all, item.id);\n      }, this, all);\n    },\n    eachOpen: function (method, master, id) {\n      this.eachChild(id || 0, function (item) {\n        method.call(master || this, item);\n        if (this.branch[item.id] && item.open) this.eachOpen(method, master, item.id);\n      });\n    },\n    eachSubItem: function (id, functor) {\n      var top = this.branch[id || 0];\n      if (top) for (var i = 0; i < top.length; i++) {\n        var key = top[i];\n\n        if (this.branch[key]) {\n          functor.call(this, this.getItem(key), true);\n          this.eachSubItem(key, functor);\n        } else functor.call(this, this.getItem(key), false);\n      }\n    },\n    eachLeaf: function (id, functor) {\n      var top = this.branch[id || 0];\n      if (top) for (var i = 0; i < top.length; i++) {\n        var key = top[i];\n\n        if (this.branch[key]) {\n          this.eachLeaf(key, functor);\n        } else functor.call(this, this.getItem(key), false);\n      }\n    },\n    _sort_core: function (sorter, order) {\n      for (var key in this.branch) {\n        var bset = this.branch[key];\n        var data = [];\n\n        for (var i = 0; i < bset.length; i++) {\n          data.push(this.pull[bset[i]]);\n        }\n\n        data.sort(sorter);\n\n        for (var _i = 0; _i < bset.length; _i++) {\n          data[_i] = data[_i].id;\n        }\n\n        this.branch[key] = data;\n      }\n\n      return order;\n    },\n    add: function (obj, index, pid) {\n      var refresh_parent = false;\n      var parent = this.getItem(pid || 0);\n\n      if (parent) {\n        //when adding items to leaf item - it need to be repainted\n        if (!this.branch[parent.id]) refresh_parent = true;\n        parent.$count++; //fix for the adding into dynamic loading branch\n        //dynamic branch has $count as -1\n\n        if (!parent.$count) parent.$count = 1;\n      }\n\n      this.branch[pid || 0] = this.order = _to_array(this.branch[pid || 0]);\n      obj.$count = obj.webix_kids ? -1 : 0;\n      obj.$level = parent ? parent.$level + 1 : 1;\n      obj.$parent = parent ? parent.id : 0;\n\n      if (this._filter_branch) {\n        //adding during filtering\n        var origin = this._filter_branch[pid || 0]; //newly created branch\n\n        if (!origin) origin = this._filter_branch[pid] = this.order; //branch can be shared bettwen collections, ignore such cases\n\n        if (this.order !== origin) {\n          //we can't know the location of new item in full dataset, making suggestion\n          //put at end by default\n          var original_index = origin.length; //put at start only if adding to the start and some data exists\n\n          if (!index && this.branch[pid || 0].length) original_index = 0;\n          origin = _to_array(origin);\n          obj.id = obj.id || uid();\n          origin.insertAt(obj.id, original_index);\n        }\n      } //call original adding logic\n\n\n      var result = DataStore.prototype.add.call(this, obj, index);\n      if (refresh_parent) this.refresh(pid);\n      return result;\n    },\n    _rec_remove: function (id) {\n      var obj = this.pull[id];\n\n      if (this.branch[obj.id] && this.branch[obj.id].length > 0) {\n        var branch = this.branch[id];\n\n        for (var i = 0; i < branch.length; i++) {\n          this._rec_remove(branch[i], true);\n        }\n      }\n\n      delete this.branch[id];\n      if (this._filter_branch) delete this._filter_branch[id];\n      delete this.pull[id];\n      if (this._marks[id]) delete this._marks[id];\n    },\n    _filter_removed: function (pull, parentId, id) {\n      var branch = pull[parentId];\n\n      if (branch.length == 1 && branch[0] == id && parentId) {\n        delete pull[parentId];\n      } else _to_array(branch).remove(id);\n    },\n    remove: function (id) {\n      //id can be an array of IDs - result of getSelect, for example\n      if (isArray(id)) {\n        for (var i = 0; i < id.length; i++) {\n          this.remove(id[i]);\n        }\n\n        return;\n      }\n\n      assert(this.exists(id), \"Not existing ID in remove command\" + id);\n      var obj = this.pull[id];\n      var parentId = obj.$parent || 0;\n      if (this.callEvent(\"onBeforeDelete\", [id]) === false) return false;\n\n      this._rec_remove(id);\n\n      this.callEvent(\"onAfterDelete\", [id]);\n      var parent = this.pull[parentId];\n\n      this._filter_removed(this.branch, parentId, id);\n\n      if (this._filter_branch) this._filter_removed(this._filter_branch, parentId, id);\n      var refresh_parent = 0;\n\n      if (parent) {\n        parent.$count--;\n\n        if (parent.$count <= 0) {\n          parent.$count = 0;\n          parent.open = 0;\n          refresh_parent = 1;\n        }\n      } //repaint signal\n\n\n      this.callEvent(\"onStoreUpdated\", [id, obj, \"delete\"]);\n      if (refresh_parent) this.refresh(parent.id);\n    },\n\n    /*\n    \tserializes data to a json object\n    */\n    getBranch: function (id) {\n      var out = [];\n      var items = (this._filter_branch || this.branch)[id];\n      if (items) for (var i = 0; i < items.length; i++) {\n        out[i] = this.pull[items[i]];\n      }\n      return out;\n    },\n    serialize: function (id, all) {\n      var coll = this.branch; //use original collection of branches\n\n      if (all && this._filter_branch) coll = this._filter_branch;\n      var ids = coll[id || 0];\n      var result = [];\n\n      for (var i = 0; i < ids.length; i++) {\n        var obj = this.pull[ids[i]];\n        var rel;\n\n        if (this._scheme_serialize) {\n          rel = this._scheme_serialize(obj);\n          if (rel === false) continue;\n        } else rel = copy(obj);\n\n        if (coll[obj.id]) rel.data = this.serialize(obj.id, all);\n        result.push(rel);\n      }\n\n      return result;\n    }\n  };\n\n  var TreeTablePaste = {\n    insert: function (data) {\n      var parent = this.getSelectedId(true, true);\n\n      for (var i = 0; i < data.length; i++) {\n        var item = {};\n\n        for (var j = 0; j < this._settings.columns.length; j++) {\n          item[this._settings.columns[j].id] = data[i][j] || \"\";\n        }\n\n        if (!isUndefined(item.id) && this.exists(item.id)) item.id = uid();\n        this.add(item, null, parent[0]);\n      }\n    }\n  };\n\n  var TreeType = {\n    space: function (obj) {\n      var html = \"\";\n\n      for (var i = 1; i < obj.$level; i++) {\n        html += \"<div class='webix_tree_none'></div>\";\n      }\n\n      return html;\n    },\n    icon: function (obj) {\n      if (obj.$count) {\n        if (obj.open) return \"<div class='webix_tree_open'></div>\";else return \"<div class='webix_tree_close'></div>\";\n      } else return \"<div class='webix_tree_none'></div>\";\n    },\n    checkbox: function (obj) {\n      if (obj.nocheckbox) return \"\";\n      return \"<input type='checkbox' class='webix_tree_checkbox' \" + (obj.checked ? \"checked\" : \"\") + (obj.disabled ? \" disabled\" : \"\") + \">\";\n    },\n    folder: function (obj) {\n      if (obj.icon) return \"<div class='webix_tree_file webix_tree_\" + obj.icon + \"'></div>\";\n\n      if (obj.$count) {\n        if (obj.open) return \"<div class='webix_tree_folder_open'></div>\";else return \"<div class='webix_tree_folder'></div>\";\n      }\n\n      return \"<div class='webix_tree_file'></div>\";\n    }\n  };\n\n  var UploadDriver = {\n    $render: function () {\n      if (this._upload_area) {\n        //firstChild is webix_el_box container, which have relative position\n        //as result, file control is placed under the button and not in the top corner\n        this._contentobj.firstChild.appendChild(this._upload_area);\n\n        return;\n      }\n\n      this.files.attachEvent(\"onBeforeDelete\", this._stop_file);\n      var input_config = {\n        \"type\": \"file\",\n        \"class\": \"webix_hidden_upload\",\n        tabindex: -1\n      };\n      if (this._settings.accept) input_config.accept = this._settings.accept;\n      if (this._settings.multiple) input_config.multiple = \"true\";\n\n      if (this._settings.directory) {\n        input_config.webkitdirectory = \"true\";\n        input_config.mozdirectory = \"true\";\n        input_config.directory = \"true\";\n      }\n\n      var f = create(\"input\", input_config);\n      this._upload_area = this._contentobj.firstChild.appendChild(f);\n\n      _event(this._viewobj, \"drop\", bind(function (e) {\n        this.$drop(e);\n        preventEvent(e);\n      }, this));\n\n      _event(f, \"change\", bind(function () {\n        this._add_files(f.files);\n\n        if (env.isIE) {\n          var t = document.createElement(\"form\");\n          t.appendChild(this._upload_area);\n          t.reset();\n\n          this._contentobj.firstChild.appendChild(f);\n        } else f.value = \"\";\n      }, this));\n\n      _event(this._viewobj, \"click\", bind(function () {\n        var now_date = new Date();\n\n        if (now_date - (this._upload_timer_click || 0) > 250) {\n          this.fileDialog();\n        }\n      }, this));\n\n      _event(this._viewobj, \"dragenter\", preventEvent);\n\n      _event(this._viewobj, \"dragexit\", preventEvent);\n\n      _event(this._viewobj, \"dragover\", preventEvent);\n    },\n    _directoryEntry: function (value) {\n      return value.isDirectory;\n    },\n    _directoryDrop: function (item, state, path) {\n      if (item.isFile) {\n        item.file(function (file) {\n          state.addFile(file, null, null, {\n            name: path + \"/\" + file.name\n          });\n        });\n      } else if (item.isDirectory) {\n        // Get folder contents\n        var dirReader = item.createReader();\n        dirReader.readEntries(function (entries) {\n          for (var i = 0; i < entries.length; i++) {\n            state._directoryDrop(entries[i], state, (path ? path + \"/\" : \"\") + item.name);\n          }\n        });\n      }\n    },\n    // adding files by drag-n-drop\n    $drop: function (e) {\n      var files = e.dataTransfer.files;\n      var items = e.dataTransfer.items; // non-file drop\n\n      if (!files.length) return;\n\n      if (this.callEvent(\"onBeforeFileDrop\", [files, e])) {\n        items = items || files; //IE10+\n\n        for (var i = 0; i < items.length; i++) {\n          //https://developer.mozilla.org/en-US/docs/Web/API/DataTransferItem/webkitGetAsEntry\n          var item = items[i];\n\n          if (item.webkitGetAsEntry) {\n            item = item.webkitGetAsEntry();\n\n            if (item.isDirectory) {\n              this._directoryDrop(item, this, \"\");\n\n              continue;\n            }\n          }\n\n          this.addFile(files[i]);\n        }\n      }\n\n      this.callEvent(\"onAfterFileDrop\", [files, e]);\n    },\n    fileDialog: function (context) {\n      this._upload_timer_click = new Date();\n      this._last_file_context = context;\n\n      var inputs = this._viewobj.getElementsByTagName(\"INPUT\");\n\n      inputs[inputs.length - 1].click();\n    },\n    send: function (id) {\n      //alternative syntx send(callback)\n      if (typeof id == \"function\") {\n        this._last_assigned_upload_callback = id;\n        id = 0;\n      }\n\n      if (!id) {\n        var order = this.files.data.order;\n        var complete = true;\n        if (order.length) for (var i = 0; i < order.length; i++) {\n          complete = !this.send(order[i]) && complete;\n        }\n        if (complete) this._upload_complete();\n        return;\n      }\n\n      var item = this.files.getItem(id);\n      if (item.status !== \"client\") return false;\n      assert(this._settings.upload, \"You need to define upload url for uploader component\");\n      item.status = \"transfer\";\n      var formData = new FormData();\n      formData.append(this.config.inputName, item.file, item.name);\n      formData.append(this.config.inputName + \"_fullpath\", item.name);\n      var headers = {};\n      var globalData = this._settings.formData || {};\n      if (typeof globalData === \"function\") globalData = globalData.call(this);\n      var details = exports.extend(item.formData || {}, globalData);\n      var xhr = new XMLHttpRequest();\n\n      var url = this._get_active_url(item);\n\n      if (callEvent(\"onBeforeAjax\", [\"POST\", url, details, xhr, headers, formData])) {\n        for (var key in details) {\n          formData.append(key, details[key]);\n        }\n\n        item.xhr = xhr;\n        xhr.upload.addEventListener(\"progress\", bind(function (e) {\n          this.$updateProgress(id, e.loaded / e.total * 100);\n        }, this), false);\n        xhr.onload = bind(function () {\n          if (!xhr.aborted) this._file_complete(id);\n        }, this);\n        xhr.open(\"POST\", url, true);\n\n        for (var _key in headers) {\n          xhr.setRequestHeader(_key, headers[_key]);\n        }\n\n        xhr.send(formData);\n      }\n\n      this.$updateProgress(id, 0);\n      return true;\n    },\n    _file_complete: function (id) {\n      var item = this.files.getItem(id);\n\n      if (item) {\n        var response = null;\n\n        if (item.xhr.status < 400) {\n          var driver = DataDriver[this._settings.datatype || \"json\"];\n          response = driver.toObject(item.xhr.responseText);\n          if (response) response = driver.getDetails(response);\n        }\n\n        if (!response || response.status == \"error\") {\n          // file upload error\n          item.status = \"error\";\n          delete item.percent;\n          this.files.updateItem(id);\n          this.callEvent(\"onFileUploadError\", [item, response]);\n        } else {\n          // file upload complete\n          assert(!response.status || response.status == \"server\", \"Not supported status value, use 'error' or 'server'\");\n\n          this._complete(id, response);\n        }\n\n        delete item.xhr;\n      }\n    },\n    stopUpload: function (id) {\n      bind(this._stop_file, this.files)(id);\n    },\n    _stop_file: function (id) {\n      var item = this.getItem(id);\n\n      if (typeof item.xhr !== \"undefined\") {\n        item.xhr.aborted = true;\n        item.xhr.abort();\n        delete item.xhr;\n        item.status = \"client\";\n      }\n    }\n  };\n\n  var ValidateCollection = {\n    _validate_init_once: function () {\n      this.data.attachEvent(\"onStoreUpdated\", bind(function (id, data, mode) {\n        if (id && (mode == \"add\" || mode == \"update\" || mode == \"save\")) this.validate(id);\n      }, this));\n      this.data.attachEvent(\"onClearAll\", bind(this.clearValidation, this));\n\n      this._validate_init_once = function () {};\n    },\n    rules_setter: function (value) {\n      if (value) {\n        this._validate_init_once();\n      }\n\n      return value;\n    },\n    clearValidation: function () {\n      this.data.clearMark(\"webix_invalid\", true);\n    },\n    validate: function (id) {\n      var result = true;\n      if (!id) for (var key in this.data.pull) {\n        result = this.validate(key) && result;\n      } else {\n        this._validate_details = {};\n        var obj = this.getItem(id);\n        result = ValidateData.validate.call(this, null, obj);\n\n        if (result) {\n          if (this.callEvent(\"onValidationSuccess\", [id, obj])) this._clear_invalid(id);\n        } else {\n          if (this.callEvent(\"onValidationError\", [id, obj, this._validate_details])) this._mark_invalid(id, this._validate_details);\n        }\n      }\n      return result;\n    },\n    _validate: function (rule, data, obj, key) {\n      if (typeof rule == \"string\") rule = rules[rule];\n      var res = rule.call(this, data, obj, key);\n\n      if (!res) {\n        this._validate_details[key] = true;\n      }\n\n      return res;\n    },\n    _clear_invalid: function (id) {\n      this.data.removeMark(id, \"webix_invalid\", true);\n    },\n    _mark_invalid: function (id) {\n      this.data.addMark(id, \"webix_invalid\", true);\n    }\n  };\n\n  var Values = {\n    $init: function () {\n      this.elements = {};\n    },\n    focus: function (name) {\n      if (name) {\n        assert(this.elements[name], \"unknown input name: \" + name);\n\n        this._focus(this.elements[name]);\n      } else {\n        for (var n in this.elements) {\n          if (this._focus(this.elements[n]) !== false) return true;\n        }\n      }\n\n      return false;\n    },\n    _focus: function (target) {\n      if (target && target.focus) {\n        return target.focus();\n      }\n\n      return false;\n    },\n    setValues: function (data, update, config) {\n      var _this = this;\n\n      if (this._settings.complexData) data = CodeParser.collapseNames(data, \"\", {}, function (v) {\n        return !_this.elements[v];\n      });\n\n      this._inner_setValues(data, update, config);\n    },\n    _inner_setValues: function (data, update, config) {\n      this._is_form_dirty = update; //prevent onChange calls from separate controls\n\n      this.blockEvent();\n      if (!update || !this._values) this._values = {};\n\n      for (var name in data) {\n        if (!this.elements[name]) this._values[name] = data[name];\n      }\n\n      for (var _name in this.elements) {\n        var input = this.elements[_name];\n\n        if (input) {\n          if (!isUndefined(data[_name])) input.setValue(data[_name], config);else if (!update && input.$allowsClear) input.setValue(\"\", config);\n          this._values[_name] = input.getValue();\n        }\n      }\n\n      this.unblockEvent();\n      this.callEvent(\"onValues\", []);\n    },\n    isDirty: function () {\n      return !!this._is_form_dirty || this.getDirtyValues(true) === true;\n    },\n    setDirty: function (flag) {\n      this._is_form_dirty = flag;\n      if (!flag) this._values = this._inner_getValues();\n    },\n    getDirtyValues: function () {\n      var result = {};\n\n      if (this._values) {\n        for (var name in this.elements) {\n          var view = this.elements[name];\n          var value = view.getValue();\n          var defaultValue = this._values[name];\n          var isDirty = view.$compareValue ? !view.$compareValue(defaultValue, value) : defaultValue != value;\n\n          if (isDirty) {\n            result[name] = value;\n            if (arguments[0]) return true;\n          }\n        }\n      }\n\n      return result;\n    },\n    getCleanValues: function () {\n      return this._values;\n    },\n    getValues: function (filter) {\n      var data = this._inner_getValues(filter);\n\n      if (this._settings.complexData) data = CodeParser.expandNames(data);\n      return data;\n    },\n    _inner_getValues: function (filter) {\n      //get original data\t\t\n      var success,\n          elem = null,\n          data = this._values ? copy(this._values) : {}; //update properties from linked controls\n\n      for (var name in this.elements) {\n        elem = this.elements[name];\n        success = true;\n\n        if (filter) {\n          if (_typeof(filter) == \"object\") {\n            if (filter.hidden === false) success = elem.isVisible();\n            if (success && filter.disabled === false) success = elem.isEnabled();\n          } else success = filter.call(this, elem);\n        }\n\n        if (success) data[name] = elem.getValue();else delete data[name]; //in case of this._values[name]\n      }\n\n      return data;\n    },\n    clear: function (config) {\n      this._is_form_dirty = false;\n      var data = {};\n\n      for (var name in this.elements) {\n        if (this.elements[name].$allowsClear) data[name] = \"\";\n      }\n\n      this._inner_setValues(data, false, config);\n    },\n    markInvalid: function (name, state) {\n      // remove 'invalid' mark\n      if (state === false) {\n        this._clear_invalid(name);\n      } // add 'invalid' mark\n      else {\n          // set invalidMessage\n          if (typeof state == \"string\") {\n            var input = this.elements[name];\n            if (input) input._settings.invalidMessage = state;\n          } //add mark to current validation process\n\n\n          if (this._validate_details) this._validate_details[name] = true;\n\n          this._mark_invalid(name);\n        }\n    },\n    _mark_invalid: function (id) {\n      var input = this.elements[id];\n\n      if (input && !input._settings.invalid) {\n        addCss(input._viewobj, \"webix_invalid\", true);\n        input._settings.invalid = true;\n        var message = input._settings.invalidMessage;\n        if (typeof message === \"string\" && input.setBottomText) input.setBottomText();\n      }\n    },\n    _clear_invalid: function (id) {\n      var input = this.elements[id];\n\n      if (input && input._settings.invalid) {\n        removeCss(input._viewobj, \"webix_invalid\");\n        input._settings.invalid = false;\n        var message = input._settings.invalidMessage;\n        if (typeof message === \"string\" && input.setBottomText) input.setBottomText();\n      }\n    }\n  };\n\n  /*\n  \tRenders collection of items\n  \tAlways shows y-scroll\n  \tCan be used with huge datasets\n  \t\n  \t@export\n  \t\tshow\n  \t\trender\n  */\n\n  var VirtualRenderStack = {\n    $init: function () {\n      assert(this.render, \"VirtualRenderStack :: Object must use RenderStack first\");\n      this._htmlmap = {}; //init map of rendered elements\n      //we need to repaint area each time when view resized or scrolling state is changed\n\n      _event(this._viewobj, \"scroll\", bind(this._render_visible_rows, this)); //here we store IDs of elemenst which doesn't loadede yet, but need to be rendered\n\n\n      this._unrendered_area = [];\n    },\n    //return html object by item's ID. Can return null for not-rendering element\n    getItemNode: function (search_id) {\n      //collection was filled in _render_visible_rows\n      return this._htmlmap[search_id];\n    },\n    //adjust scrolls to make item visible\n    showItem: function (id) {\n      var range = this._getVisibleRange();\n\n      var ind = this.data.getIndexById(id); //we can't use DOM method for not-rendered-yet items, so fallback to pure math\n\n      var dy = Math.floor(ind / range._dx) * range._y;\n\n      var state = this.getScrollState();\n      if (dy < state.y || dy + this._settings.height >= state.y + this._content_height) this.scrollTo(0, dy);\n    },\n    //repain self after changes in DOM\n    //for add, delete, move operations - render is delayed, to minify performance impact\n    render: function (id, data, type) {\n      if (!this.isVisible(this._settings.id) || this.$blockRender) return;\n\n      if (id) {\n        var cont = this.getItemNode(id); //old html element\n\n        switch (type) {\n          case \"update\":\n            if (!cont) return; //replace old with new\n\n            var t = this._htmlmap[id] = this._toHTMLObject(data);\n\n            insertBefore(t, cont);\n            remove(cont);\n            break;\n\n          default:\n            // \"move\", \"add\", \"delete\"\n\n            /*\n            \tfor all above operations, full repainting is necessary\n            \tbut from practical point of view, we need only one repainting per thread\n            \tcode below initiates double-thread-rendering trick\n            */\n            this._render_delayed();\n\n            break;\n        }\n      } else {\n        //full repainting\n        if (this.callEvent(\"onBeforeRender\", [this.data])) {\n          this._htmlmap = {}; //nulify links to already rendered elements\n\n          this._render_visible_rows(null, true); // clear delayed-rendering, because we already have repaint view\n\n\n          this._wait_for_render = false;\n          this.callEvent(\"onAfterRender\", []);\n        }\n      }\n    },\n    //implement double-thread-rendering pattern\n    _render_delayed: function () {\n      //this flag can be reset from outside, to prevent actual rendering \n      if (this._wait_for_render) return;\n      this._wait_for_render = true;\n      window.setTimeout(bind(function () {\n        this.render();\n      }, this), 1);\n    },\n    //create empty placeholders, which will take space before rendering\n    _create_placeholder: function (height) {\n      if (env.maxHTMLElementSize) height = Math.min(env.maxHTMLElementSize, height);\n      var node = document.createElement(\"DIV\");\n      node.style.cssText = \"height:\" + height + \"px; width:100%; overflow:hidden;\";\n      return node;\n    },\n\n    /*\n    \tMethods get coordinatest of visible area and checks that all related items are rendered\n    \tIf, during rendering, some not-loaded items was detected - extra data loading is initiated.\n    \treset - flag, which forces clearing of previously rendered elements\n    */\n    _render_visible_rows: function (e, reset) {\n      this._unrendered_area = []; //clear results of previous calls\n\n      var viewport = this._getVisibleRange(); //details of visible view\n\n\n      if (!this._dataobj.firstChild || reset) {\n        //create initial placeholder - for all view space\n        this._dataobj.innerHTML = \"\";\n\n        this._dataobj.appendChild(this._create_placeholder(viewport._max)); //register placeholder in collection\n\n\n        this._htmlrows = [this._dataobj.firstChild];\n      }\n      /*\n      \tvirtual rendering breaks all view on rows, because we know widht of item\n      \twe can calculate how much items can be placed on single row, and knowledge \n      \tof that, allows to calculate count of such rows\n      \t\n      \teach time after scrolling, code iterate through visible rows and render items \n      \tin them, if they are not rendered yet\n      \t\n      \tboth rendered rows and placeholders are registered in _htmlrows collection\n      */\n      //position of first visible row\n\n\n      var t = viewport._from;\n\n      while (t <= viewport._height) {\n        //loop for all visible rows\n        //skip already rendered rows\n        while (this._htmlrows[t] && this._htmlrows[t]._filled && t <= viewport._height) {\n          t++;\n        } //go out if all is rendered\n\n\n        if (t > viewport._height) break; //locate nearest placeholder\n\n        var holder = t;\n\n        while (!this._htmlrows[holder]) {\n          holder--;\n        }\n\n        var holder_row = this._htmlrows[holder]; //render elements in the row\t\t\t\n\n        var base = t * viewport._dx + (this.data.$min || 0); //index of rendered item\n\n        if (base > (this.data.$max || Infinity)) break; //check that row is in virtual bounds, defined by paging\n\n        var nextpoint = Math.min(base + viewport._dx - 1, this.data.$max ? this.data.$max - 1 : Infinity);\n\n        var node = this._create_placeholder(viewport._y); //all items in rendered row\n\n\n        var range = this.data.getIndexRange(base, nextpoint);\n        if (!range.length) break;\n        var loading = {\n          $template: \"Loading\"\n        };\n\n        for (var i = 0; i < range.length; i++) {\n          if (!range[i]) this._unrendered_area.push(base + i);\n          range[i] = this._toHTML(range[i] || loading);\n        }\n\n        node.innerHTML = range.join(\"\"); //actual rendering\n\n        for (var _i = 0; _i < range.length; _i++) {\n          //register all new elements for later usage in getItemNode\n          this._htmlmap[this.data.getIdByIndex(base + _i)] = node.childNodes[_i];\n        } //correct placeholders\n\n\n        var h = parseFloat(holder_row.style.height, 10);\n        var delta = (t - holder) * viewport._y;\n        var delta2 = h - delta - viewport._y; //add new row to the DOOM\n\n        insertBefore(node, delta ? holder_row.nextSibling : holder_row, this._dataobj);\n        this._htmlrows[t] = node;\n        node._filled = true;\n        /*\n        \tif new row is at start of placeholder - decrease placeholder's height\n        \telse if new row takes whole placeholder - remove placeholder from DOM\n        \telse \n        \t\twe are inserting row in the middle of existing placeholder\n        \t\tdecrease height of existing one, and add one more, \n        \t\tbefore the newly added row\n        */\n\n        if (delta <= 0 && delta2 > 0) {\n          holder_row.style.height = delta2 + \"px\";\n          this._htmlrows[t + 1] = holder_row;\n        } else {\n          if (delta < 0) remove(holder_row);else holder_row.style.height = delta + \"px\";\n\n          if (delta2 > 0) {\n            var new_space = this._htmlrows[t + 1] = this._create_placeholder(delta2);\n\n            insertBefore(new_space, node.nextSibling, this._dataobj);\n          }\n        }\n\n        t++;\n      } //when all done, check for non-loaded items\n\n\n      if (this._unrendered_area.length) {\n        //we have some data to load\n        //detect borders\n        var from = this._unrendered_area[0];\n        var to = this._unrendered_area.pop() + 1;\n\n        if (to > from) {\n          //initiate data loading\n          var count = to - from;\n          if (this._maybe_loading_already(count, from)) return;\n          count = Math.max(count, this._settings.datafetch || this._settings.loadahead || 0);\n          this.loadNext(count, from);\n        }\n      }\n    },\n    //calculates visible view\n    _getVisibleRange: function () {\n      var state = this.getScrollState();\n      var top = Math.max(0, state.y);\n      var tpadding = this._tilesPadding || 0;\n      var width = this._content_width - tpadding;\n      var height = this._content_height - tpadding / 2; //size of single item\n\n      var t = this.type;\n      var dx = Math.floor(width / t.width) || 1; //at least single item per row\n\n      var min = Math.floor(top / t.height); //index of first visible row\n\n      var dy = Math.ceil((height + top) / t.height) - 1; //index of last visible row\n      //total count of items, paging can affect this math\n\n      var count = this.data.$max ? this.data.$max - this.data.$min : this.data.count();\n      var max = Math.ceil(count / dx) * t.height; //size of view in rows\n\n      return {\n        _from: min,\n        _height: dy,\n        _top: top,\n        _max: max,\n        _y: t.height,\n        _dx: dx\n      };\n    },\n    _cellPosition: function (id) {\n      var html = this.getItemNode(id);\n\n      if (!html) {\n        this.showItem(id);\n\n        this._render_visible_rows();\n\n        html = this.getItemNode(id);\n      }\n\n      return {\n        left: html.offsetLeft,\n        top: html.offsetTop,\n        height: html.offsetHeight,\n        width: html.offsetWidth,\n        parent: this._contentobj\n      };\n    }\n  };\n\n  /*\n  \tRenders collection of items on demand\n  */\n\n  var VRenderStack = {\n    $init: function () {\n      this._htmlmap = {};\n\n      _event(this._viewobj, \"scroll\", bind(function () {\n        this.render(null, null, \"paint\");\n      }, this));\n    },\n    //return html container by its ID\n    //can return undefined if container doesn't exists\n    getItemNode: function (search_id) {\n      return this._htmlmap && this._htmlmap[search_id];\n    },\n\n    /*change scrolling state of top level container, so related item will be in visible part*/\n    showItem: function (id) {\n      var index$$1 = this.data.getIndexById(id);\n\n      if (index$$1 > -1) {\n        var top = index$$1 * this.type.height;\n        var bottom = top + this.type.height;\n        var scroll = this.getScrollState();\n        var box = offset(this.$view);\n        if (top < scroll.y) this.scrollTo(0, top);else if (bottom > scroll.y + box.height) this.scrollTo(0, bottom - box.height);\n      }\n    },\n    //update view after data update\n    //when called without parameters - all view refreshed\n    render: function (id, data, type) {\n      if (!this.isVisible(this._settings.id) || this.$blockRender) return;\n      var parent = this._renderobj || this._dataobj;\n\n      if (id) {\n        if (type == \"paint\" || type == \"update\") {\n          var cont = this.getItemNode(id); //get html element of updated item\n\n          if (cont) {\n            var t = this._htmlmap[id] = this._toHTMLObject(data);\n\n            t.style.top = cont.style.top;\n            t.style.position = \"absolute\";\n            t.style.left = 0;\n            t.style.width = \"100%\";\n            insertBefore(t, cont);\n            remove(cont);\n            return;\n          } //updating not rendered yet item\n\n\n          return;\n        }\n      }\n\n      var isDrag,\n          source,\n          marked = this._marked_item_id;\n\n      if (DragControl.active && type != \"drag-end\") {\n        var context = DragControl.getContext();\n        isDrag = this._init_drop_area && context.from === this; //move and order modes\n\n        source = isDrag && _to_array(copy(context.source || []));\n      }\n\n      if (type != \"paint\" || isDrag) {\n        //repaint all\n        this._htmlmap = {};\n        parent.innerHTML = \"\";\n      } //full reset\n\n\n      if (this.callEvent(\"onBeforeRender\", [this.data])) {\n        var count = this.data.count();\n        var scroll = this.getScrollState();\n        var box = offset(this._viewobj);\n        var top = Math.floor(scroll.y / this.type.height) - 2;\n        var bottom = Math.ceil((scroll.y + box.height) / this.type.height) + 2;\n        top = Math.max(0, top);\n        bottom = Math.min(count - 1, bottom + (isDrag ? source.length - 1 : 0));\n        var html = [];\n\n        for (var i = top; i <= bottom; i++) {\n          var sid = this.data.order[i];\n\n          if (isDrag && source.find(sid) !== -1) {\n            if (sid == marked) marked = this.data.order[i + 1];\n            continue;\n          } else if (!this._htmlmap[sid]) {\n            var item = this.data.getItem(sid);\n\n            if (!item) {\n              this._run_load_next({\n                count: bottom - i + (this._settings.loadahead || 0),\n                start: i\n              });\n\n              break;\n            }\n\n            html.push(this._toHTML(item));\n          } else {\n            html.push(\"<div webix_skip=\\\"true\\\" \".concat(this._id, \"=\\\"\").concat(sid, \"\\\"></div>\"));\n          }\n        }\n\n        this._html.innerHTML = html.join(\"\");\n\n        if (this._init_drop_area && type == \"drag-in\") {\n          // can be external\n          var node = this._html.querySelector(\"[\".concat(this._id, \"=\\\"\").concat(marked, \"\\\"]\"));\n\n          if (node) {\n            this._html.insertBefore(DragControl._dropHTML[0], node);\n          } else this._html.appendChild(DragControl._dropHTML[0]);\n        }\n\n        parent.style.position = \"relative\";\n        parent.style.height = count * this.type.height + \"px\";\n        var kids = this._html.childNodes;\n\n        for (var _i = kids.length - 1; _i >= 0; _i--) {\n          var child = kids[_i];\n          if (child.getAttribute(\"webix_skip\")) continue;\n          var cid = child.getAttribute(this._id);\n\n          if (cid) {\n            child.style.position = \"absolute\";\n            child.style.top = (top + _i) * this.type.height + \"px\";\n            child.style.left = 0;\n            child.style.width = \"100%\";\n            parent.appendChild(child);\n            this._htmlmap[cid] = child;\n          }\n        }\n\n        this.callEvent(\"onAfterRender\", []);\n      }\n    },\n    $setSize: function () {\n      if (base$1.api.$setSize.apply(this, arguments)) {\n        this.render(null, null, \"paint\");\n      }\n    },\n    _run_load_next: function (conf) {\n      var count = Math.max(conf.count, this._settings.datafetch || this._settings.loadahead || 0);\n      if (this._maybe_loading_already(conf.count, conf.start)) return;\n      this.loadNext(count, conf.start);\n    },\n    _set_drop_area: function () {\n      this.render(null, null, \"drag-in\");\n    },\n    _remove_drop_area: function () {\n      remove(DragControl._dropHTML);\n      this.render(null, null, \"drag-out\");\n    }\n  };\n\n  var version = \"9.2.0\";\n  var name = \"core\";\n\n  var errorMessage = \"non-existing view for export\";\n\n  function getDataHelper(key, column, raw) {\n    if (!raw && column.format) return function (obj) {\n      return column.format(obj[key]);\n    };\n    return function (obj) {\n      return obj[key];\n    };\n  }\n\n  function getHeaderText(view, header) {\n    var text = header.text;\n\n    if (header.contentId) {\n      var content = view.getHeaderContent(header.contentId);\n      if (content && !content.type.$icon) text = content.getValue(true);\n    }\n\n    return (text || \"\").toString().replace(/<[^>]*>/gi, \"\");\n  }\n\n  function getStyles(r, c, styles) {\n    //row index, column index, styles array\n    if (styles[r] && styles[r][c]) return styles[r][c];\n    return {};\n  }\n  function getExportScheme(view, options) {\n    var scheme = [];\n    var h_count = 0,\n        f_count = 0;\n    var isTable = view.getColumnConfig;\n    var columns = options.columns;\n    var raw = !!options.rawValues;\n    var isTree = view.data.name == \"TreeStore\";\n    var treeLines = options.treeLines;\n    if (treeLines === true || isUndefined(treeLines)) treeLines = \"value\";\n    scheme.heights = {};\n\n    if (options.hidden || options.hide) {\n      scheme.hiddenCols = {};\n      scheme.hiddenRows = {};\n    }\n\n    if (!columns) {\n      columns = [];\n\n      if (isTable) {\n        var order = view._hidden_column_order;\n\n        if (options.hidden && order.length) {\n          for (var i = 0; i < order.length; i++) {\n            var col = view.getColumnConfig(order[i]);\n            if (!view.isColumnVisible(col.id)) scheme.hiddenCols[col.id] = 1;\n            columns.push(col);\n          }\n        } else columns = columns.concat(view._columns);\n      } else {\n        var obj = view.data.pull[view.data.order[0]];\n\n        for (var key in obj) {\n          if (key !== \"id\" && key[0] != \"$\") columns.push({\n            id: key,\n            isTree: isTree && key === treeLines\n          });\n        }\n      }\n    } else if (!columns.length) {\n      //export options are set as - columns:{ rank:true, title:{ header:\"custom\"}}\n      var arr = [];\n\n      for (var _key in columns) {\n        arr.push(exports.extend({\n          id: _key\n        }, exports.extend({}, columns[_key])));\n      }\n\n      columns = arr;\n    }\n\n    if (options.ignore) for (var _i = columns.length - 1; _i >= 0; _i--) {\n      if (options.ignore[columns[_i].id]) columns.splice(_i, 1);\n    }\n    if (options.id) scheme.push({\n      id: \"id\",\n      width: 50,\n      header: \" \",\n      template: function (obj) {\n        return obj.id;\n      }\n    });\n\n    if (options.flatTree) {\n      (function () {\n        var flatKey = options.flatTree.id;\n        var copy$$1 = [].concat(options.flatTree.columns);\n        var fill = [];\n        var fillMode = !!options.flatTree.fill;\n\n        for (var _i2 = 1; _i2 <= copy$$1.length; _i2++) {\n          copy$$1[_i2 - 1].template = function (i) {\n            return function (obj) {\n              return obj.$level == i ? fill[i] = obj[flatKey] : fillMode && i < obj.$level ? fill[i] : \"\";\n            };\n          }(_i2);\n        }\n\n        var index = 0;\n\n        for (var _i3 = columns.length - 1; _i3 >= 0; _i3--) {\n          if (columns[_i3].id === flatKey) index = _i3;\n        }\n\n        columns = [].concat(columns.slice(0, index)).concat(copy$$1).concat(columns.slice(index + 1));\n      })();\n    }\n\n    var treeColumn;\n\n    for (var j = 0; j < columns.length; j++) {\n      var column = columns[j];\n      var _key2 = column.id;\n      if (column.noExport) continue; // raw mode has sense only for datatable\n      // in other cases we don't have built-in data templates\n\n      var rawColumn = raw && isTable;\n\n      if (isTable) {\n        var sourceColumn = view.getColumnConfig(_key2); // when these's no column to take raw data from, or custom template defined - ignore raw mode\n\n        if (column.template && (!sourceColumn || sourceColumn.template != column.template)) rawColumn = false;\n        if (sourceColumn) column = exports.extend(exports.extend({}, column), sourceColumn);\n      }\n\n      var record = {\n        id: column.id,\n        template: rawColumn || !column.template ? getDataHelper(_key2, column, raw) : column.template,\n        width: (column.width || 200) * (options.export_mode === \"excel\" ? 8.43 / 70 : 1),\n        header: column.header !== false ? column.header || _key2 : \"\"\n      };\n      if (isTree && _key2 === treeLines) record.isTree = treeColumn = true;\n\n      if (options.export_mode === \"excel\") {\n        exports.extend(record, {\n          type: column.exportType || \"\",\n          format: column.exportFormat || \"\"\n        });\n\n        if (column.hidden) {\n          if (!scheme.hiddenCols) scheme.hiddenCols = {};\n          scheme.hiddenCols[column.id] = 1;\n        }\n      }\n\n      if (typeof record.header === \"string\") record.header = [{\n        text: record.header\n      }];else record.header = [].concat(record.header);\n\n      for (var _i4 = 0; _i4 < record.header.length; _i4++) {\n        record.header[_i4] = record.header[_i4] ? getHeaderText(view, record.header[_i4]) : \"\";\n      }\n\n      h_count = Math.max(h_count, record.header.length);\n\n      if (view.config.footer) {\n        var footer = column.footer || \"\";\n        if (typeof footer == \"string\") footer = [{\n          text: footer\n        }];else footer = [].concat(footer);\n\n        for (var _i5 = 0; _i5 < footer.length; _i5++) {\n          footer[_i5] = footer[_i5] ? getHeaderText(view, footer[_i5]) : \"\";\n        }\n\n        record.footer = footer;\n        f_count = Math.max(f_count, record.footer.length);\n      }\n\n      scheme.push(record);\n    }\n\n    if (!treeColumn && isTree && options.treeLines != treeLines && scheme[0]) scheme[0].isTree = true;\n\n    for (var _i6 = 0; _i6 < scheme.length; _i6++) {\n      var diff = h_count - scheme[_i6].header.length;\n\n      for (var d = 0; d < diff; d++) {\n        scheme[_i6].header.push(\"\");\n      }\n\n      if (view.config.footer) {\n        diff = f_count - scheme[_i6].footer.length;\n\n        for (var _d = 0; _d < diff; _d++) {\n          scheme[_i6].footer.push(\"\");\n        }\n      }\n    }\n\n    return scheme;\n  }\n  function getFileName(name, extension) {\n    if (name) name = name.replace(/[/?\\\\<>:*|\"]/g, \"\").substring(0, 150);\n    return \"\".concat(name || \"Data\", \".\").concat(extension);\n  }\n  function getExportData(view, options, scheme) {\n    var filterHTML = !!options.filterHTML;\n    var htmlFilter = /<[^>]*>/gi;\n    var data = [];\n    var header, headers;\n    var mode = options.export_mode;\n\n    if ((mode === \"excel\" || mode == \"csv\") && options.docHeader) {\n      data = [[(options.docHeader.text || options.docHeader).toString()], [\"\"]];\n      if (mode === \"excel\" && options.docHeader.height) scheme.heights[0] = options.docHeader.height;\n    }\n\n    if (options.header !== false && scheme.length) {\n      for (var h = 0; h < scheme[0].header.length; h++) {\n        headers = [];\n\n        for (var i = 0; i < scheme.length; i++) {\n          header = \"\";\n\n          if (scheme[i].header[h]) {\n            header = scheme[i].header[h];\n            if (filterHTML) header = scheme[i].header[h] = header.replace(htmlFilter, \"\");\n          }\n\n          headers.push(header);\n        }\n\n        if (mode == \"excel\" && view._columns && options.heights !== false && (view._headers[h] !== $active.barHeight || options.heights == \"all\")) scheme.heights[data.length] = view._headers[h];\n        if (mode !== \"pdf\") data[data.length] = headers;\n      }\n    }\n\n    options.yCorrection = (options.yCorrection || 0) - data.length;\n    var treeline = options.flatTree || options.plainOutput ? \"\" : \"-\";\n    view.data.each(function (item, index) {\n      if (!options.filter || options.filter(item)) {\n        var reallyHidden = options.hidden && view.data._filter_order && view.getIndexById(item.id) == -1;\n\n        if (options.hide && options.hide(item) || reallyHidden) {\n          var _header = (options.docHeader ? 2 : 0) + (options.header === false ? 0 : scheme[0].header.length);\n\n          scheme.hiddenRows[_header + index] = 1;\n        }\n\n        if (this.data._scheme_export) {\n          item = view.data._scheme_export(item);\n        }\n\n        var line = [];\n\n        for (var _i7 = 0; _i7 < scheme.length; _i7++) {\n          var column = scheme[_i7],\n              cell = null; //spreadsheet use muon to store data, get value via $getExportValue\n\n          if (view.$getExportValue) cell = view.$getExportValue(item.id, column.id, options); //datatable math\n          else if (options.math && item[\"$\" + column.id] && item[\"$\" + column.id].charAt(0) == \"=\") cell = item[\"$\" + column.id];\n\n          if (this._spans_pull) {\n            var span = this.getSpan(item.id, column.id);\n\n            if (span && span[4] && span[0] == item.id && span[1] == column.id) {\n              cell = span[4];\n              if (filterHTML && typeof cell === \"string\") cell = cell.replace(htmlFilter, \"\");\n            }\n          }\n\n          if (!cell) {\n            cell = column.template(item, view.type, item[column.id], column, _i7);\n            if (!cell && cell !== 0) cell = \"\";\n            if (column.isTree && treeline) cell = \" \" + Array(item.$level).join(treeline) + \" \" + cell;\n\n            if (filterHTML && typeof cell === \"string\") {\n              cell = cell.replace(htmlFilter, \"\");\n            } //remove end/start spaces(ex.hierarchy data)\n\n\n            if (typeof cell === \"string\" && mode === \"csv\") cell = cell.trim(); //for multiline data\n\n            if (typeof cell === \"string\" && (mode === \"excel\" || mode === \"csv\")) {\n              cell = cell.replace(/<br\\s*\\/?>/mg, \"\\n\");\n            }\n          }\n\n          line.push(cell);\n        }\n\n        if (mode == \"excel\" && view._columns && options.heights !== false && (item.$height && item.$height !== $active.rowHeight || options.heights == \"all\")) scheme.heights[data.length] = item.$height || this.config.rowHeight;\n        data.push(line);\n      }\n    }, view, options.hidden);\n\n    if (options.footer !== false) {\n      var f_count = scheme[0].footer ? scheme[0].footer.length : 0;\n\n      for (var f = 0; f < f_count; f++) {\n        var footers = [];\n\n        for (var _i8 = 0; _i8 < scheme.length; _i8++) {\n          var footer = scheme[_i8].footer[f];\n          if (filterHTML) footer = scheme[_i8].footer[f] = footer.toString().replace(htmlFilter, \"\");\n          footers.push(footer);\n        }\n\n        if (mode == \"excel\" && view._columns && options.heights !== false && (view._footers[f] !== $active.barHeight || options.heights == \"all\")) scheme.heights[data.length] = view._footers[f];\n        if (mode !== \"pdf\") data.push(footers);\n      }\n    }\n\n    if (mode === \"excel\" && options.docFooter) {\n      data = data.concat([[], [(options.docFooter.text || options.docFooter).toString()]]);\n      if (options.docFooter.height) scheme.heights[data.length - 1] = options.docFooter.height;\n    }\n\n    return data;\n  }\n\n  var toPNG = function (id, options) {\n    var defer = Deferred.defer();\n    return require(env.cdn + \"/extras/html2canvas-1.0.min.js\").then(function () {\n      //backward compatibility\n      if (typeof options === \"string\") options = {\n        filename: options\n      };\n      options = options || {};\n      options.export_mode = \"png\";\n      var view = $$(id);\n      if (view && view.$exportView) view = view.$exportView(options);\n      assert(view, errorMessage);\n      if (!view) return defer.reject(errorMessage);\n      var node = view ? view.$view : toNode(id);\n      var filename = getFileName(options.filename, \"png\");\n      window.html2canvas(node, {\n        background: \"#fff\",\n        logging: false,\n        useCORS: true\n      }).then(function (canvas) {\n        var callback = function (data) {\n          if (options.download !== false) download(data, filename);\n          defer.resolve(data);\n        };\n\n        if (canvas.msToBlob) callback(canvas.msToBlob());else canvas.toBlob(callback, \"image/png\");\n      });\n      return defer;\n    });\n  };\n\n  var toCSV = function (id, options) {\n    options = options || {};\n    var view = $$(id);\n    if (view && view.$exportView) view = view.$exportView(options);\n    assert(view, errorMessage);\n    if (!view) return Deferred.reject(errorMessage);\n    options.export_mode = \"csv\";\n    exports.extend(options, {\n      filterHTML: true\n    });\n    var scheme = getExportScheme(view, options);\n    var result = getExportData(view, options, scheme);\n    var data = getCsvData(result, scheme);\n    var filename = getFileName(options.filename, \"csv\");\n    var blob = new Blob([\"\\uFEFF\" + data], {\n      type: \"text/csv\"\n    });\n    if (options.download !== false) download(blob, filename);\n    return Deferred.resolve(blob);\n  };\n\n  function getCsvData(data) {\n    return csv$1.stringify(data);\n  }\n\n  var font = {};\n  var toPDF = function (id, options) {\n    options = options || {};\n    options.export_mode = \"pdf\";\n    exports.extend(options, {\n      fontName: \"pt-sans.regular\",\n      boldFontName: \"pt-sans.bold\"\n    });\n    id = isArray(id) ? id : [id];\n    var views = [];\n\n    for (var i = 0; i < id.length; i++) {\n      if (!id[i].id) id[i] = {\n        id: id[i]\n      };\n      var view = $$(id[i].id);\n\n      if (view) {\n        var viewOptions = exports.extend(id[i].options || {}, options);\n        var display = viewOptions.display || \"table\";\n        if (viewOptions.display == \"image\") delete viewOptions.styles;\n        if (view.$exportView) view = view.$exportView(viewOptions); //$exportView returns array\n\n        if (isArray(view)) {\n          views = views.concat(view);\n          if (options.autowidth) getAutowidth(viewOptions, options);\n        } else {\n          //display table should be first (in case of styles:true $exportView adds styles to the first view)\n          if (display == \"table\" || display == \"all\") {\n            if (view.data && view.data.pull) {\n              var scheme = getExportScheme(view, viewOptions);\n              views.push({\n                scheme: scheme,\n                exportData: getExportData(view, viewOptions, scheme),\n                viewOptions: viewOptions\n              });\n              if (options.autowidth) getAutowidth(view, options, scheme);\n            }\n          }\n\n          if (display == \"image\" || display == \"all\") {\n            var node = viewOptions._hidden ? cloneNodeWithStyles(view.$view) : view.$view;\n            views.push({\n              node: node,\n              viewOptions: viewOptions\n            });\n            if (options.autowidth) getAutowidth(view, options);\n          }\n        }\n      }\n\n      assert(view, errorMessage);\n    }\n\n    if (options.dataOnly) return views;\n    return require([env.cdn + \"/extras/pdfjs.js\", env.cdn + \"/extras/html2canvas-1.0.min.js\"]).then(function () {\n      if (views.length == 0) return Deferred.reject(errorMessage);\n\n      if (font[options.fontName] && font[options.boldFontName]) {\n        options._export_font = font[options.fontName];\n        options._export_font_bold = font[options.boldFontName];\n        return getPdfData(views, options).then(function (pdf) {\n          return getBlob(pdf, options);\n        });\n      } else {\n        var defer = Deferred.defer();\n        /* global pdfjs */\n\n        pdfjs.load(options.fontURL || env.cdn + \"/extras/\" + options.fontName + \".ttf\", function (err, regular) {\n          if (err) return defer.reject(err);\n          pdfjs.load(options.boldFontURL || env.cdn + \"/extras/\" + options.boldFontName + \".ttf\", function (err, bold) {\n            options._export_font = font[options.fontName] = new pdfjs.TTFFont(regular);\n            options._export_font_bold = font[options.boldFontName] = err ? null : new pdfjs.TTFFont(bold);\n            defer.resolve(getPdfData(views, options).then(function (pdf) {\n              return getBlob(pdf, options);\n            }));\n          });\n        });\n        return defer;\n      }\n    });\n  };\n\n  function getBlob(pdf, options) {\n    var filename = getFileName(options.filename, \"pdf\");\n    var blob = new Blob([pdf.toString()], {\n      type: \"application/pdf\"\n    });\n    if (options.download !== false) download(blob, filename);\n    return blob;\n  }\n\n  function getPdfData(views, options) {\n    var doc = addPDFDoc(options);\n    var promises = [];\n\n    for (var i = 0; i < views.length; i++) {\n      if (views[i].node) promises.push(getPDFImage(views[i].node));else promises.push(Deferred.resolve());\n    }\n\n    return Deferred.all(promises).then(function (images) {\n      for (var _i = 0; _i < promises.length; _i++) {\n        var viewOptions = views[_i].viewOptions;\n        if (viewOptions.textBefore) addText(doc, \"before\", viewOptions.textBefore);\n        if (images[_i]) doc.image(images[_i], {\n          align: \"center\"\n        });else {\n          viewOptions._export_font_bold = options._export_font_bold;\n          addPDFTable(views[_i], doc);\n        }\n        if (viewOptions.textAfter) addText(doc, \"after\", viewOptions.textAfter);\n        if (_i != views.length - 1) doc.pageBreak();\n      }\n\n      return addPDFHeader(doc, options);\n    });\n  }\n\n  function addText(doc, type, text) {\n    if (type == \"after\") doc.text().br();\n    if (typeof text == \"string\") text = {\n      text: text\n    };\n    doc.text(text.text, text.options || {});\n    if (type == \"before\") doc.text().br();\n  }\n\n  function getPDFImage(node) {\n    var hidden = !document.body.contains(node);\n\n    if (hidden) {\n      //node is a cloneNode of the real view, so it shouldn't be visible\n      document.body.appendChild(node);\n      node.style.position = \"absolute\";\n      node.style.left = \"-9999px\";\n    }\n\n    return window.html2canvas(node, {\n      background: \"#fff\",\n      logging: false,\n      useCORS: true\n    }).then(function (canvas) {\n      var image = canvas.toDataURL(\"image/jpeg\");\n      var binary_string = window.atob(image.split(\"base64,\")[1]);\n      var length = binary_string.length;\n      var bytes = new Uint8Array(length);\n\n      for (var i = 0; i < length; i++) {\n        bytes[i] = binary_string.charCodeAt(i);\n      }\n\n      return new pdfjs.Image(bytes.buffer);\n    }).finally(function () {\n      if (hidden) document.body.removeChild(node);\n    });\n  }\n\n  function getAutowidth(view, options, scheme) {\n    var prop = options.orientation && options.orientation == \"landscape\" ? \"height\" : \"width\";\n    var width;\n\n    if (scheme) {\n      width = 80; //paddings\n\n      for (var i = 0; i < scheme.length; i++) {\n        width += scheme[i].width;\n      }\n    } else if (view.$width) width = view.$width;else //'view' can be local settings and we need to compare them with common ones\n      width = view[prop];\n\n    options[prop] = Math.max(options[prop] || 0, width || 0);\n  }\n\n  function addPDFDoc(options) {\n    var width = options.width || 595.296,\n        height = options.height || 841.896; // default A4 size\n\n    if (options.orientation && options.orientation === \"landscape\") height = [width, width = height][0];\n    return new pdfjs.Document({\n      padding: 40,\n      font: options._export_font,\n      threshold: 256,\n      width: width,\n      height: height\n    });\n  }\n\n  function addPDFTable(view, doc) {\n    var scheme = view.scheme;\n    var data = view.exportData;\n    var options = view.viewOptions;\n    var styles = view.styles;\n    options.header = isUndefined(options.header) || options.header === true ? {} : options.header;\n    options.footer = isUndefined(options.footer) || options.footer === true ? {} : options.footer;\n    options.table = options.table || {}; //render table\n\n    var h_count = options.header === false ? 0 : scheme[0].header.length;\n    var f_count = options.footer === false || !scheme[0].footer ? 0 : scheme[0].footer.length;\n    var colWidths = [];\n\n    for (var i = 0; i < scheme.length; i++) {\n      colWidths[i] = scheme[i].width;\n    }\n\n    var tableOps = exports.extend(options.table, {\n      borderWidth: 1,\n      height: 20,\n      lineHeight: 1.1,\n      borderColor: 0xEEEEEE,\n      backgroundColor: 0xFFFFFF,\n      color: 0x666666,\n      textAlign: \"left\",\n      paddingRight: 10,\n      paddingLeft: 10,\n      headerRows: h_count,\n      widths: colWidths.length ? colWidths : [\"100%\"]\n    });\n    var table = doc.table(tableOps);\n    var boldFont = options._export_font_bold; //render table header\n\n    if (h_count) {\n      var headerOps = exports.extend(options.header, {\n        borderRightColor: 0xB0CEE3,\n        borderBottomColor: 0xB0CEE3,\n        color: 0x4A4A4A,\n        backgroundColor: 0xD2E3EF,\n        height: 27,\n        lineHeight: 1.2\n      });\n\n      for (var _i2 = 0; _i2 < h_count; _i2++) {\n        var header = table.tr(headerOps);\n\n        for (var s = 0; s < scheme.length; s++) {\n          var cellStyle = styles ? getStyles(_i2, s, styles) : {};\n          if (boldFont && cellStyle.bold) cellStyle.font = boldFont;\n          header.td(scheme[s].header[_i2].toString(), cellStyle);\n        }\n      }\n    } //render table data\n\n\n    for (var r = 0; r < data.length; r++) {\n      var row = table.tr({});\n\n      for (var c = 0; c < data[r].length; c++) {\n        var _cellStyle = styles ? getStyles(r + h_count, c, styles) : {};\n\n        if (boldFont && _cellStyle.bold) _cellStyle.font = boldFont;\n        row.td(data[r][c], _cellStyle);\n      }\n    } //render table footer\n\n\n    if (f_count) {\n      var footerOps = exports.extend(options.footer, {\n        borderRightColor: 0xEEEEEE,\n        borderBottomColor: 0xEEEEEE,\n        backgroundColor: 0xFAFAFA,\n        color: 0x666666,\n        height: 27,\n        lineHeight: 1.2\n      });\n\n      for (var _i3 = 0; _i3 < f_count; _i3++) {\n        var beforeCount = h_count + data.length;\n        var footer = table.tr(footerOps);\n\n        for (var _s = 0; _s < scheme.length; _s++) {\n          var _cellStyle2 = styles ? getStyles(_i3 + beforeCount, _s, styles) : {};\n\n          if (boldFont && _cellStyle2.bold) _cellStyle2.font = boldFont;\n          footer.td(scheme[_s].footer[_i3].toString(), _cellStyle2);\n        }\n      }\n    }\n  }\n\n  function addPDFHeader(doc, options) {\n    //doc footer\n    if (options.docFooter !== false) {\n      options.docFooter = exports.extend(options.docFooter || {}, {\n        color: 0x666666,\n        textAlign: \"center\"\n      });\n      doc.footer().text(options.docFooter).append(i18n.dataExport.page || \"Page\").pageNumber().append(\"  \" + (i18n.dataExport.of || \"of\") + \"  \").pageCount();\n    }\n\n    var horder = {\n      text: 0,\n      image: 1\n    }; //doc header, configurable\n\n    if (options.docHeader) {\n      if (typeof options.docHeader == \"string\") options.docHeader = {\n        text: options.docHeader\n      };\n      exports.extend(options.docHeader, {\n        color: 0x666666,\n        textAlign: \"right\",\n        order: 0\n      });\n      horder.text = options.docHeader.order;\n    }\n\n    if (options.docHeaderImage) {\n      if (typeof options.docHeaderImage == \"string\") options.docHeaderImage = {\n        url: options.docHeaderImage\n      };\n      exports.extend(options.docHeaderImage, {\n        align: \"right\",\n        order: 1\n      });\n      horder.image = options.docHeaderImage.order;\n    }\n\n    if (options.docHeader && horder.image > horder.text) doc.header({\n      paddingBottom: 10\n    }).text(options.docHeader.text, options.docHeader);\n\n    if (options.docHeaderImage) {\n      var defer = Deferred.defer();\n      pdfjs.load(options.docHeaderImage.url, function (err, buffer) {\n        if (!err) {\n          var img = new pdfjs.Image(buffer);\n          doc.header({\n            paddingBottom: 10\n          }).image(img, options.docHeaderImage);\n          if (options.docHeader && horder.image < horder.text) doc.header({\n            paddingBottom: 10\n          }).text(options.docHeader.text, options.docHeader);\n        } //render pdf and show in browser\n\n\n        defer.resolve(doc.render());\n      });\n      return defer;\n    } else return Deferred.resolve(doc.render());\n  }\n\n  function cloneNodeWithStyles(node) {\n    var clone$$1 = node.cloneNode(false);\n\n    if (node.tagName) {\n      var styles = window.getComputedStyle(node);\n      clone$$1.style.cssText = styles.cssText;\n    }\n\n    for (var i = 0; i < node.childNodes.length; i++) {\n      clone$$1.appendChild(cloneNodeWithStyles(node.childNodes[i]));\n    }\n\n    return clone$$1;\n  }\n\n  var toExcel = function (id, options) {\n    options = options || {};\n    options.export_mode = \"excel\";\n    id = isArray(id) ? id : [id];\n    var views = [];\n\n    for (var i = 0; i < id.length; i++) {\n      if (!id[i].id) id[i] = {\n        id: id[i]\n      };\n      var view = $$(id[i].id);\n      var viewOptions = exports.extend(id[i].options || {}, options);\n      if (view && view.$exportView) view = view.$exportView(viewOptions);\n      assert(view, errorMessage); //$exportView returns array\n\n      if (isArray(view)) views = views.concat(view);else if (view.data && view.data.pull) {\n        //spreadsheet and excelviewer require plain data output first\n        var scheme = getExportScheme(view, viewOptions);\n        views.push({\n          scheme: scheme,\n          exportData: getExportData(view, viewOptions, scheme),\n          spans: viewOptions.spans ? getSpans(view, viewOptions) : [],\n          viewOptions: viewOptions\n        });\n      }\n    }\n\n    if (options.dataOnly) return views;\n    var defer = Deferred.defer();\n    return require(env.cdn + \"/extras/xlsx.core.styles.min.js\").then(function () {\n      if (!views.length) return defer.reject(errorMessage);\n      var wb = {\n        SheetNames: [],\n        Sheets: {},\n        Workbook: {\n          WBProps: {},\n          Names: []\n        }\n      };\n\n      for (var _i = 0; _i < views.length; _i++) {\n        var _viewOptions = views[_i].viewOptions;\n        var _scheme = views[_i].scheme;\n        var result = views[_i].exportData;\n        var spans = views[_i].spans;\n        var ranges = views[_i].ranges || [];\n        var styles = views[_i].styles || [];\n        var data = getExcelData(result, _scheme, spans, styles, _viewOptions);\n\n        var sname = (_viewOptions.name || \"Data\" + (_i + 1)).replace(/[*?:[\\]\\\\/]/g, \"\").replace(/&/g, \"&amp;\").substring(0, 31); //avoid name duplication\n\n\n        var k = _i;\n\n        while (wb.SheetNames.indexOf(sname) != -1) {\n          sname = \"Data\" + ++k;\n        }\n\n        wb.SheetNames.push(sname);\n        wb.Sheets[sname] = data;\n        wb.Workbook.Names = wb.Workbook.Names.concat(ranges);\n      }\n      /* global XLSX */\n\n\n      var xls = XLSX.write(wb, {\n        bookType: \"xlsx\",\n        bookSST: false,\n        type: \"binary\"\n      });\n      var filename = getFileName(options.filename, \"xlsx\");\n      var blob = new Blob([str2array(xls)], {\n        type: \"application/xlsx\"\n      });\n      if (options.download !== false) download(blob, filename);\n      defer.resolve(blob);\n      return defer;\n    });\n  };\n\n  function str2array(s) {\n    var buf = new ArrayBuffer(s.length);\n    var view = new Uint8Array(buf);\n\n    for (var i = 0; i != s.length; ++i) {\n      view[i] = s.charCodeAt(i) & 0xFF;\n    }\n\n    return buf;\n  }\n\n  var types = {\n    number: \"n\",\n    date: \"n\",\n    string: \"s\",\n    boolean: \"b\"\n  };\n  var table = \"_table\";\n\n  function getExcelData(data, scheme, spans, styles, options) {\n    var ws = {};\n    var range = {\n      s: {\n        c: 10000000,\n        r: 10000000\n      },\n      e: {\n        c: 0,\n        r: 0\n      }\n    };\n\n    for (var R = 0; R != data.length; ++R) {\n      for (var C = 0; C != data[R].length; ++C) {\n        if (range.s.r > R) range.s.r = R;\n        if (range.s.c > C) range.s.c = C;\n        if (range.e.r < R) range.e.r = R;\n        if (range.e.c < C) range.e.c = C;\n        var cell = {\n          v: data[R][C]\n        };\n        if (cell.v === null) continue;\n        var cell_ref = XLSX.utils.encode_cell({\n          c: C,\n          r: R\n        });\n        var stringValue = cell.v.toString();\n        var isFormula = stringValue.charAt(0) === \"=\";\n\n        if (styles) {\n          var cellStyle = getStyles(R, C, styles);\n\n          if (cellStyle.format) {\n            cell.z = cellStyle.format;\n            delete cellStyle.format;\n          }\n\n          if (cellStyle.type) {\n            cell.t = types[cellStyle.type];\n            delete cellStyle.type;\n          }\n\n          cell.s = cellStyle;\n        } // set type based on column's config\n        // skip headers and formula based cells\n\n\n        var header = (options.docHeader ? 2 : 0) + scheme[0].header.length;\n\n        if (R >= header && !isFormula) {\n          var column = scheme[C];\n          if (column.type && !cell.t) cell.t = types[column.type] || \"\";\n          if (column.format && !cell.z) cell.z = column.format;\n        } // set type based on cell's value\n\n\n        if (options.stubCells && !stringValue) cell.t = \"z\";else if (cell.v instanceof Date) {\n          cell.t = cell.t || \"n\";\n          cell.z = cell.z || XLSX.SSF[table][14];\n          cell.v = excelDate(cell.v);\n        } else if (isFormula) {\n          cell.t = cell.t || \"n\";\n          cell.f = cell.v.substring(1);\n          delete cell.v;\n        } else if (!cell.t) {\n          if (typeof cell.v === \"boolean\") cell.t = \"b\";else if (typeof cell.v === \"number\" || parseFloat(cell.v) == cell.v) {\n            cell.v = cell.v * 1;\n            cell.t = \"n\";\n          } else {\n            // convert any other object to a string\n            cell.v = stringValue;\n            cell.t = \"s\";\n          }\n        }\n        ws[cell_ref] = cell;\n      }\n    }\n\n    if (range.s.c < 10000000) ws[\"!ref\"] = XLSX.utils.encode_range(range);\n    ws[\"!rows\"] = getRowHeights(scheme);\n    ws[\"!cols\"] = getColumnsWidths(scheme);\n    if (spans.length) ws[\"!merges\"] = spans;\n    return ws;\n  }\n\n  function getRowHeights(scheme) {\n    var heights = scheme.heights;\n\n    for (var i in heights) {\n      heights[i] = {\n        hpx: heights[i],\n        hpt: heights[i] * 0.75\n      };\n    }\n\n    var hidden = scheme.hiddenRows;\n    if (hidden) for (var _i2 in hidden) {\n      if (!heights[_i2]) heights[_i2] = {};\n      heights[_i2].hidden = 1;\n    }\n    return heights;\n  }\n\n  function getSpans(view, options) {\n    var isTable = view.getColumnConfig;\n    var pull = view._spans_pull;\n    var spans = [];\n\n    if (isTable) {\n      if (options.header !== false) spans = getHeaderSpans(view, options, \"header\", spans);\n\n      if (pull) {\n        var xc = options.xCorrection || 0;\n        var yc = options.yCorrection || 0;\n\n        for (var row in pull) {\n          //{ s:{c:1, r:0}, e:{c:3, r:0} }\n          var cols = pull[row];\n\n          for (var col in cols) {\n            var colIndex = view.getColumnIndex(col);\n            var rowId = view.getItem(row).id;\n            var rowIndex = view.getIndexById(rowId);\n\n            if (options.hidden) {\n              var hiddenColsOrder = view._hidden_column_order;\n\n              if (hiddenColsOrder.length) {\n                var colId = view.getColumnConfig(col).id;\n                colIndex = hiddenColsOrder.indexOf(colId);\n              }\n\n              var hiddenRowsOrder = view.data._filter_order;\n              if (hiddenRowsOrder && hiddenRowsOrder.length) rowIndex = hiddenRowsOrder.indexOf(rowId);\n            }\n\n            var sc = colIndex - xc;\n            var sr = rowIndex - yc;\n            if (sc < 0 || sr < 0) //hidden cols/rows\n              continue;\n            var ec = sc + cols[col][0] - 1;\n            var er = sr + (cols[col][1] - 1);\n            spans.push({\n              s: {\n                c: sc,\n                r: sr\n              },\n              e: {\n                c: ec,\n                r: er\n              }\n            });\n          }\n        }\n      }\n\n      if (options.footer !== false) spans = getHeaderSpans(view, options, \"footer\", spans);\n    }\n\n    return spans;\n  }\n\n  function getHeaderSpans(view, options, group, spans) {\n    var columns = view.config.columns;\n    var delta = (options.docHeader ? 2 : 0) + (group == \"header\" ? 0 : (options.header !== false ? view._headers.length : 0) + view.count());\n\n    for (var i = 0; i < columns.length; i++) {\n      var header = columns[i][group];\n\n      for (var h = 0; h < header.length; h++) {\n        if (header[h] && (header[h].colspan || header[h].rowspan)) {\n          spans.push({\n            s: {\n              c: i,\n              r: h + delta\n            },\n            e: {\n              c: i + (header[h].colspan || 1) - 1,\n              r: h + (header[h].rowspan || 1) - 1 + delta\n            }\n          });\n        }\n      }\n    }\n\n    return spans;\n  }\n\n  function excelDate(date) {\n    var returnDateTime = 25569 + (date.getTime() - date.getTimezoneOffset() * 60 * 1000) / (1000 * 60 * 60 * 24);\n    return returnDateTime.toString().substr(0, 20);\n  }\n\n  function getColumnsWidths(scheme) {\n    var wscols = [];\n\n    for (var i = 0; i < scheme.length; i++) {\n      var col = scheme[i];\n      wscols.push({\n        wch: col.width,\n        hidden: scheme.hiddenCols ? scheme.hiddenCols[col.id] : 0\n      });\n    }\n\n    return wscols;\n  }\n\n  function editStop() {\n    callEvent(\"onEditEnd\", []);\n  }\n\n  var en = {\n    groupDelimiter: \",\",\n    groupSize: 3,\n    decimalDelimiter: \".\",\n    decimalSize: 2,\n    dateFormat: \"%m/%d/%Y\",\n    timeFormat: \"%h:%i %A\",\n    longDateFormat: \"%d %F %Y\",\n    fullDateFormat: \"%m/%d/%Y %h:%i %A\",\n    am: [\"am\", \"AM\"],\n    pm: [\"pm\", \"PM\"],\n    price: \"${obj}\",\n    priceSettings: {\n      groupDelimiter: \",\",\n      groupSize: 3,\n      decimalDelimiter: \".\",\n      decimalSize: 2\n    },\n    fileSize: [\"b\", \"Kb\", \"Mb\", \"Gb\", \"Tb\", \"Pb\", \"Eb\"],\n    calendar: {\n      monthFull: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n      monthShort: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n      dayFull: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n      dayShort: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n      hours: \"Hours\",\n      minutes: \"Minutes\",\n      done: \"Done\",\n      clear: \"Clear\",\n      today: \"Today\"\n    },\n    dataExport: {\n      page: \"Page\",\n      of: \"of\"\n    },\n    PDFviewer: {\n      of: \"of\",\n      automaticZoom: \"Automatic Zoom\",\n      actualSize: \"Actual Size\",\n      pageFit: \"Page Fit\",\n      pageWidth: \"Page Width\",\n      pageHeight: \"Page Height\",\n      enterPassword: \"Enter password\",\n      passwordError: \"Wrong password\"\n    },\n    aria: {\n      calendar: \"Calendar\",\n      increaseValue: \"Increase value\",\n      decreaseValue: \"Decrease value\",\n      navMonth: [\"Previous month\", \"Next month\"],\n      navYear: [\"Previous year\", \"Next year\"],\n      navDecade: [\"Previous decade\", \"Next decade\"],\n      dateFormat: \"%d %F %Y\",\n      monthFormat: \"%F %Y\",\n      yearFormat: \"%Y\",\n      hourFormat: \"Hours: %h %A\",\n      minuteFormat: \"Minutes: %i\",\n      removeItem: \"Remove item\",\n      pages: [\"First page\", \"Previous page\", \"Next page\", \"Last page\"],\n      page: \"Page\",\n      headermenu: \"Header menu\",\n      openGroup: \"Open column group\",\n      closeGroup: \"Close column group\",\n      closeTab: \"Close tab\",\n      showTabs: \"Show more tabs\",\n      resetTreeMap: \"Reset tree map\",\n      navTreeMap: \"Level up\",\n      nextTab: \"Next tab\",\n      prevTab: \"Previous tab\",\n      multitextSection: \"Add section\",\n      multitextextraSection: \"Remove section\",\n      showChart: \"Show chart\",\n      hideChart: \"Hide chart\",\n      resizeChart: \"Resize chart\"\n    },\n    richtext: {\n      underline: \"Underline\",\n      bold: \"Bold\",\n      italic: \"Italic\"\n    },\n    combo: {\n      select: \"Select\",\n      selectAll: \"Select all\",\n      unselectAll: \"Unselect all\"\n    },\n    message: {\n      ok: \"OK\",\n      cancel: \"Cancel\"\n    },\n    comments: {\n      send: \"Send\",\n      confirmMessage: \"The comment will be removed. Are you sure?\",\n      edit: \"Edit\",\n      remove: \"Remove\",\n      placeholder: \"Type here..\",\n      moreComments: \"More comments\"\n    },\n    filter: {\n      less: \"less\",\n      lessOrEqual: \"less or equal\",\n      greater: \"greater\",\n      greaterOrEqual: \"greater or equal\",\n      contains: \"contains\",\n      notContains: \"not contains\",\n      equal: \"equal\",\n      notEqual: \"not equal\",\n      beginsWith: \"begins with\",\n      notBeginsWith: \"not begins with\",\n      endsWith: \"ends with\",\n      notEndsWith: \"not ends with\",\n      between: \"between\",\n      notBetween: \"not between\"\n    },\n    timeboard: {\n      seconds: \"Seconds\"\n    }\n  };\n\n  var wDate = {\n    startOnMonday: false,\n    toFixed: function (num, ms) {\n      if (num < 10) num = \"0\" + num;\n      if (ms && num < 100) num = \"0\" + num;\n      return num;\n    },\n    weekStart: function (date) {\n      date = this.copy(date);\n      var shift = date.getDay();\n\n      if (this.startOnMonday) {\n        if (shift === 0) shift = 6;else shift--;\n      }\n\n      return this.datePart(this.add(date, -1 * shift, \"day\"));\n    },\n    monthStart: function (date) {\n      date = this.copy(date);\n      date.setDate(1);\n      return this.datePart(date);\n    },\n    yearStart: function (date) {\n      date = this.copy(date);\n      date.setMonth(0);\n      return this.monthStart(date);\n    },\n    dayStart: function (date) {\n      return this.datePart(date, true);\n    },\n    dateToStr: function (format, utc) {\n      if (typeof format == \"function\") return format;\n\n      if (env.strict) {\n        return function (date) {\n          if (!date) return \"\";\n          if (!date.getMonth) date = i18n.parseFormatDate(date);\n          var str = \"\";\n          var lastPos = 0;\n          format.replace(/%[a-zA-Z]/g, function (s, pos) {\n            str += format.slice(lastPos, pos);\n\n            var fn = function (date) {\n              if (s == \"%d\") return wDate.toFixed(date.getDate());\n              if (s == \"%m\") return wDate.toFixed(date.getMonth() + 1);\n              if (s == \"%j\") return date.getDate();\n              if (s == \"%n\") return date.getMonth() + 1;\n              if (s == \"%y\") return wDate.toFixed(date.getFullYear() % 100);\n              if (s == \"%Y\") return date.getFullYear();\n              if (s == \"%D\") return i18n.calendar.dayShort[date.getDay()];\n              if (s == \"%l\") return i18n.calendar.dayFull[date.getDay()];\n              if (s == \"%M\") return i18n.calendar.monthShort[date.getMonth()];\n              if (s == \"%F\") return i18n.calendar.monthFull[date.getMonth()];\n              if (s == \"%h\") return wDate.toFixed((date.getHours() + 11) % 12 + 1);\n              if (s == \"%g\") return (date.getHours() + 11) % 12 + 1;\n              if (s == \"%G\") return date.getHours();\n              if (s == \"%H\") return wDate.toFixed(date.getHours());\n              if (s == \"%i\") return wDate.toFixed(date.getMinutes());\n              if (s == \"%a\") return date.getHours() > 11 ? i18n.pm[0] : i18n.am[0];\n              if (s == \"%A\") return date.getHours() > 11 ? i18n.pm[1] : i18n.am[1];\n              if (s == \"%s\") return wDate.toFixed(date.getSeconds());\n              if (s == \"%S\") return wDate.toFixed(date.getMilliseconds(), true);\n              if (s == \"%W\") return wDate.toFixed(Date.getISOWeek(date));\n\n              if (s == \"%c\") {\n                var str = date.getFullYear();\n                str += \"-\" + wDate.toFixed(date.getMonth() + 1);\n                str += \"-\" + wDate.toFixed(date.getDate());\n                str += \"T\";\n                str += wDate.toFixed(date.getHours());\n                str += \":\" + wDate.toFixed(date.getMinutes());\n                str += \":\" + wDate.toFixed(date.getSeconds());\n                return str;\n              }\n\n              return s;\n            };\n\n            str += fn(date);\n            lastPos = pos + 2;\n          });\n          str += format.slice(lastPos, format.length);\n          return str;\n        };\n      }\n\n      format = format.replace(/%[a-zA-Z]/g, function (a) {\n        switch (a) {\n          case \"%d\":\n            return \"\\\"+wDate.toFixed(date.getDate())+\\\"\";\n\n          case \"%m\":\n            return \"\\\"+wDate.toFixed((date.getMonth()+1))+\\\"\";\n\n          case \"%j\":\n            return \"\\\"+date.getDate()+\\\"\";\n\n          case \"%n\":\n            return \"\\\"+(date.getMonth()+1)+\\\"\";\n\n          case \"%y\":\n            return \"\\\"+wDate.toFixed(date.getFullYear()%100)+\\\"\";\n\n          case \"%Y\":\n            return \"\\\"+date.getFullYear()+\\\"\";\n\n          case \"%D\":\n            return \"\\\"+i18n.calendar.dayShort[date.getDay()]+\\\"\";\n\n          case \"%l\":\n            return \"\\\"+i18n.calendar.dayFull[date.getDay()]+\\\"\";\n\n          case \"%M\":\n            return \"\\\"+i18n.calendar.monthShort[date.getMonth()]+\\\"\";\n\n          case \"%F\":\n            return \"\\\"+i18n.calendar.monthFull[date.getMonth()]+\\\"\";\n\n          case \"%h\":\n            return \"\\\"+wDate.toFixed((date.getHours()+11)%12+1)+\\\"\";\n\n          case \"%g\":\n            return \"\\\"+((date.getHours()+11)%12+1)+\\\"\";\n\n          case \"%G\":\n            return \"\\\"+date.getHours()+\\\"\";\n\n          case \"%H\":\n            return \"\\\"+wDate.toFixed(date.getHours())+\\\"\";\n\n          case \"%i\":\n            return \"\\\"+wDate.toFixed(date.getMinutes())+\\\"\";\n\n          case \"%a\":\n            return \"\\\"+(date.getHours()>11?i18n.pm[0]:i18n.am[0])+\\\"\";\n\n          case \"%A\":\n            return \"\\\"+(date.getHours()>11?i18n.pm[1]:i18n.am[1])+\\\"\";\n\n          case \"%s\":\n            return \"\\\"+wDate.toFixed(date.getSeconds())+\\\"\";\n\n          case \"%S\":\n            return \"\\\"+wDate.toFixed(date.getMilliseconds(), true)+\\\"\";\n\n          case \"%W\":\n            return \"\\\"+wDate.toFixed(wDate.getISOWeek(date))+\\\"\";\n\n          case \"%c\":\n            var str = \"\\\"+date.getFullYear()+\\\"\";\n            str += \"-\\\"+wDate.toFixed((date.getMonth()+1))+\\\"\";\n            str += \"-\\\"+wDate.toFixed(date.getDate())+\\\"\";\n            str += \"T\";\n            str += \"\\\"+wDate.toFixed(date.getHours())+\\\"\";\n            str += \":\\\"+wDate.toFixed(date.getMinutes())+\\\"\";\n            str += \":\\\"+wDate.toFixed(date.getSeconds())+\\\"\";\n            if (utc === true) str += \"Z\";\n            return str;\n\n          default:\n            return a;\n        }\n      });\n      if (utc === true) format = format.replace(/date\\.get/g, \"date.getUTC\");\n      var temp = new Function(\"date\", \"i18n\", \"wDate\", \"if (!date) return ''; if (!date.getMonth) date=i18n.parseFormatDate(date);  return \\\"\" + format + \"\\\";\");\n      return function (v) {\n        return temp(v, i18n, wDate);\n      };\n    },\n    strToDate: function (format, utc) {\n      if (typeof format == \"function\") return format;\n      var mask = format.match(/%[a-zA-Z]/g);\n      var splt = \"var temp=date.split(/[\\\\s\\\\./\\\\-\\\\:\\\\,]+/g); if(!temp.join('')){return ''}\";\n      var i, t, s;\n\n      if (!i18n.calendar.monthShort_hash) {\n        s = i18n.calendar.monthShort;\n        t = i18n.calendar.monthShort_hash = {};\n\n        for (i = 0; i < s.length; i++) {\n          t[s[i]] = i;\n        }\n\n        s = i18n.calendar.monthFull;\n        t = i18n.calendar.monthFull_hash = {};\n\n        for (i = 0; i < s.length; i++) {\n          t[s[i]] = i;\n        }\n      }\n\n      if (env.strict) {\n        return function (date) {\n          if (!date) return \"\";\n          if (_typeof(date) == \"object\") return date;\n          var temp = date.split(/[\\s./\\-:,]+/g);\n          if (!temp.join(\"\")) return \"\";\n          var set = [0, 0, 1, 0, 0, 0, 0];\n\n          for (i = 0; i < mask.length; i++) {\n            var a = mask[i];\n            if (a == \"%y\") set[0] = temp[i] * 1 + (temp[i] > 30 ? 1900 : 2000);else if (a == \"%Y\") {\n              set[0] = (temp[i] || 0) * 1;\n              if (set[0] < 30) set[0] += 2000;\n            } else if (a == \"%n\" || a == \"%m\") set[1] = (temp[i] || 1) - 1;else if (a == \"%M\") set[1] = i18n.calendar.monthShort_hash[temp[i]] || 0;else if (a == \"%F\") set[1] = i18n.calendar.monthFull_hash[temp[i]] || 0;else if (a == \"%j\" || a == \"%d\") set[2] = temp[i] || 1;else if (a == \"%g\" || a == \"%G\" || a == \"%h\" || a == \"%H\") set[3] = temp[i] || 0;else if (a == \"%a\") set[3] = set[3] % 12 + ((temp[i] || \"\") == i18n.am[0] ? 0 : 12);else if (a == \"%A\") set[3] = set[3] % 12 + ((temp[i] || \"\") == i18n.am[1] ? 0 : 12);else if (a == \"%i\") set[4] = temp[i] || 0;else if (a == \"%s\") set[5] = temp[i] || 0;else if (a == \"%S\") set[6] = temp[i] || 0;else if (a == \"%c\") {\n              var reg = /(\\d+)-(\\d+)-(\\d+)T(\\d+):(\\d+):(\\d+)(\\+.*|)/g;\n              var res = reg.exec(date);\n              set[0] = (res[1] || 0) * 1;\n              if (set[0] < 30) set[0] += 2000;\n              set[1] = (res[2] || 1) - 1;\n              set[2] = res[3] || 1;\n              set[3] = res[4] || 0;\n              set[4] = res[5] || 0;\n              set[5] = res[6] || 0;\n            }\n          }\n\n          if (utc) return new Date(Date.UTC(set[0], set[1], set[2], set[3], set[4], set[5], set[6]));\n          return new Date(set[0], set[1], set[2], set[3], set[4], set[5], set[6]);\n        };\n      }\n\n      for (i = 0; i < mask.length; i++) {\n        switch (mask[i]) {\n          case \"%j\":\n          case \"%d\":\n            splt += \"set[2]=temp[\" + i + \"]||1;\";\n            break;\n\n          case \"%n\":\n          case \"%m\":\n            splt += \"set[1]=(temp[\" + i + \"]||1)-1;\";\n            break;\n\n          case \"%y\":\n            splt += \"set[0]=temp[\" + i + \"]*1+(temp[\" + i + \"]>30?1900:2000);\";\n            break;\n\n          case \"%g\":\n          case \"%G\":\n          case \"%h\":\n          case \"%H\":\n            splt += \"set[3]=temp[\" + i + \"]||0;\";\n            break;\n\n          case \"%i\":\n            splt += \"set[4]=temp[\" + i + \"]||0;\";\n            break;\n\n          case \"%Y\":\n            splt += \"set[0]=(temp[\" + i + \"]||0)*1; if (set[0]<30) set[0]+=2000;\";\n            break;\n\n          case \"%a\":\n            splt += \"set[3]=set[3]%12+(temp[\" + i + \"]==i18n.am[0]?0:12);\";\n            break;\n\n          case \"%A\":\n            splt += \"set[3]=set[3]%12+(temp[\" + i + \"]==i18n.am[1]?0:12);\";\n            break;\n\n          case \"%s\":\n            splt += \"set[5]=temp[\" + i + \"]||0;\";\n            break;\n\n          case \"%S\":\n            splt += \"set[6]=temp[\" + i + \"]||0;\";\n            break;\n\n          case \"%M\":\n            splt += \"set[1]=i18n.calendar.monthShort_hash[temp[\" + i + \"]]||0;\";\n            break;\n\n          case \"%F\":\n            splt += \"set[1]=i18n.calendar.monthFull_hash[temp[\" + i + \"]]||0;\";\n            break;\n\n          case \"%c\":\n            splt += \"var res = date.split('T');\";\n            splt += \"if(res[0]){ var d = res[0].split('-');\";\n            splt += \"set[0]= (d[0]||0)*1; if (set[0]<30) set[0]+=2000;\";\n            splt += \"set[1]= (d[1]||1)-1;\";\n            splt += \"set[2]= d[2]||1;}\";\n            splt += \"if(res[1]){ var t = res[1].split(':');\";\n            splt += \"set[3]= t[0]||0;\";\n            splt += \"set[4]= t[1]||0;\";\n            splt += \"set[5]= parseInt(t[2])||0;}\";\n            break;\n\n          default:\n            break;\n        }\n      }\n\n      var code = \"set[0],set[1],set[2],set[3],set[4],set[5],set[6]\";\n      if (utc) code = \" Date.UTC(\" + code + \")\";\n      var temp = new Function(\"date\", \"i18n\", \"if (!date) return ''; if (typeof date == 'object') return date; var set=[0,0,1,0,0,0,0]; \" + splt + \" return new Date(\" + code + \");\");\n      return function (v) {\n        return temp(v, i18n);\n      };\n    },\n    getISOWeek: function (ndate) {\n      if (!ndate) return false;\n      var nday = ndate.getDay();\n\n      if (nday === 0) {\n        nday = 7;\n      }\n\n      var first_thursday = new Date(ndate.valueOf());\n      first_thursday.setDate(ndate.getDate() + (4 - nday));\n      var year_number = first_thursday.getFullYear(); // year of the first Thursday\n\n      var ordinal_date = Math.floor((first_thursday.getTime() - new Date(year_number, 0, 1).getTime()) / 86400000); //ordinal date of the first Thursday - 1 (so not really ordinal date)\n\n      var weekNumber = 1 + Math.floor(ordinal_date / 7);\n      return weekNumber;\n    },\n    getUTCISOWeek: function (ndate) {\n      return this.getISOWeek(ndate);\n    },\n    _correctDate: function (d, d0, inc, checkFunc) {\n      if (!inc) return;\n      var incorrect = checkFunc(d, d0);\n\n      if (incorrect) {\n        var i = inc > 0 ? 1 : -1;\n\n        while (incorrect) {\n          d.setHours(d.getHours() + i);\n          incorrect = checkFunc(d, d0);\n          i += inc > 0 ? 1 : -1;\n        }\n      }\n    },\n    add: function (date, inc, mode, copy) {\n      if (copy) date = this.copy(date);\n      var d = wDate.copy(date);\n\n      switch (mode) {\n        case \"day\":\n          date.setDate(date.getDate() + inc);\n\n          this._correctDate(date, d, inc, function (d, d0) {\n            return wDate.datePart(d0, true).valueOf() == wDate.datePart(d, true).valueOf();\n          });\n\n          break;\n\n        case \"week\":\n          date.setDate(date.getDate() + 7 * inc);\n\n          this._correctDate(date, d, 7 * inc, function (d, d0) {\n            return wDate.datePart(d0, true).valueOf() == wDate.datePart(d, true).valueOf();\n          });\n\n          break;\n\n        case \"month\":\n          date.setMonth(date.getMonth() + inc);\n\n          this._correctDate(date, d, inc, function (d, d0) {\n            return d0.getMonth() == d.getMonth() && d0.getYear() == d.getYear();\n          });\n\n          break;\n\n        case \"quarter\":\n          date.setMonth(date.getMonth() + inc * 3);\n\n          this._correctDate(date, d, inc, function (d, d0) {\n            return d0.getMonth() == d.getMonth() && d0.getYear() == d.getYear();\n          });\n\n          break;\n\n        case \"year\":\n          date.setYear(date.getFullYear() + inc);\n\n          this._correctDate(date, d, inc, function (d, d0) {\n            return d0.getFullYear() == d.getFullYear();\n          });\n\n          break;\n\n        case \"hour\":\n          date.setHours(date.getHours() + inc);\n\n          this._correctDate(date, d, inc, function (d, d0) {\n            return d0.getHours() == d.getHours() && Date.datePart(d0, true) == Date.datePart(d, true);\n          });\n\n          break;\n\n        case \"minute\":\n          date.setMinutes(date.getMinutes() + inc);\n          break;\n\n        default:\n          wDate.add[mode](date, inc, mode);\n          break;\n      }\n\n      return date;\n    },\n    datePart: function (date, copy) {\n      if (copy) date = this.copy(date); // workaround for non-existent hours\n\n      var d = this.copy(date);\n      d.setHours(0);\n\n      if (d.getDate() != date.getDate()) {\n        date.setHours(1);\n      } else {\n        date.setHours(0);\n      }\n\n      date.setMinutes(0);\n      date.setSeconds(0);\n      date.setMilliseconds(0);\n      return date;\n    },\n    timePart: function (date, copy) {\n      if (copy) date = this.copy(date);\n      return (date.valueOf() / 1000 - date.getTimezoneOffset() * 60) % 86400;\n    },\n    copy: function (date) {\n      return new Date(date.valueOf());\n    },\n    equal: function (a, b) {\n      if (!a || !b) return false;\n      return a.valueOf() === b.valueOf();\n    },\n    isHoliday: function (day) {\n      day = day.getDay();\n      if (day === 0 || day == 6) return \"webix_cal_event\";\n    }\n  };\n\n  var Number$1 = {\n    getConfig: function (value) {\n      var config = {\n        decimalSize: 0,\n        groupSize: 999,\n        prefix: \"\",\n        sufix: \"\"\n      };\n      var parts = value.split(/[0-9].*[0-9]/g);\n      if (parts[0].length) config.prefix = parts[0];\n      if (parts[1].length) config.sufix = parts[1];\n\n      if (config.prefix || config.sufix) {\n        value = value.substr(config.prefix.length, value.length - config.prefix.length - config.sufix.length);\n      }\n\n      var num = value.indexOf(\"1\");\n\n      if (num > 0) {\n        config.prefix = value.substr(0, num);\n        value = value.substr(num);\n      }\n\n      var dot = value.indexOf(\"0\");\n\n      if (dot > 0) {\n        config.decimalSize = value.length - dot;\n        config.decimalDelimiter = value[dot - 1];\n        value = value.substr(0, dot - 1);\n      }\n\n      var sep = value.match(/[^0-9]/);\n\n      if (sep) {\n        config.groupSize = value.length - sep.index - 1;\n        config.groupDelimiter = value[sep.index];\n      }\n\n      return config;\n    },\n    parse: function (value, config) {\n      if (!value || typeof value !== \"string\") return value;\n      if (config.prefix) value = value.toLowerCase().replace(config.prefix.toLowerCase() || \"\", \"\");\n      if (config.sufix) value = value.toLowerCase().replace(config.sufix.toLowerCase() || \"\", \"\");\n      var decimal = \"\";\n\n      if (config.decimalDelimiter) {\n        var ind = value.indexOf(config.decimalDelimiter);\n\n        if (ind > -1) {\n          decimal = value.substr(ind + 1).replace(/[^0-9]/g, \"\");\n          decimal = decimal.substr(0, Math.min(decimal.length, config.decimalSize));\n          value = value.substr(0, ind);\n        }\n      }\n\n      var sign = value[0] === \"-\" ? -1 : 1;\n      value = value.replace(/[^0-9]/g, \"\");\n      if (!value) value = \"0\";\n      if (decimal) value += \".\" + decimal;\n      return parseFloat(value) * sign;\n    },\n    format: function (value, config) {\n      if (value === \"\" || typeof value === \"undefined\") return value;\n      config = config || i18n;\n      value = parseFloat(value);\n      var sign = value < 0 ? \"-\" : \"\";\n      value = Math.abs(value);\n      if (!config.decimalOptional) value = value.toFixed(config.decimalSize);\n      var str = value.toString();\n      str = str.split(\".\");\n      var int_value = \"\";\n\n      if (config.groupSize) {\n        var step = config.groupSize;\n        var i = str[0].length;\n\n        do {\n          i -= step;\n          var chunk = i > 0 ? str[0].substr(i, step) : str[0].substr(0, step + i);\n          int_value = chunk + (int_value ? config.groupDelimiter + int_value : \"\");\n        } while (i > 0);\n      } else int_value = str[0];\n\n      if (config.decimalSize) str = sign + int_value + (str[1] ? config.decimalDelimiter + str[1] : \"\");else str = sign + int_value;\n\n      if (config.prefix || config.sufix) {\n        return config.prefix + str + config.sufix;\n      } else return str;\n    },\n    numToStr: function (config) {\n      return function (value) {\n        return Number$1.format(value, config);\n      };\n    }\n  };\n\n  function extend(base, source) {\n    for (var method in source) {\n      if (_typeof(source[method]) == \"object\" && !isArray(source[method])) {\n        if (!base[method]) {\n          base[method] = {};\n        }\n\n        extend(base[method], source[method]);\n      } else base[method] = source[method];\n    }\n  }\n\n  var helpers = [\"fullDateFormat\", \"timeFormat\", \"dateFormat\", \"longDateFormat\", \"parseFormat\", \"parseTimeFormat\"];\n\n  i18n.setLocale = function (locale) {\n    if (typeof locale == \"string\") locale = i18n.locales[locale];\n\n    if (locale) {\n      var origin = copy(en);\n      locale.priceSettings = copy(locale.priceSettings || locale);\n      extend(origin, locale);\n      extend(i18n, origin);\n      delete i18n.calendar.monthShort_hash;\n      delete i18n.calendar.monthFull_hash;\n    }\n\n    for (var i = 0; i < helpers.length; i++) {\n      var key = helpers[i];\n      var utc = i18n[key + \"UTC\"];\n      i18n[key + \"Str\"] = wDate.dateToStr(i18n[key], utc);\n      i18n[key + \"Date\"] = wDate.strToDate(i18n[key], utc);\n    }\n\n    var _price_format = template(i18n.price);\n\n    var _price_settings = i18n.priceSettings || i18n;\n\n    i18n.intFormat = Number$1.numToStr({\n      groupSize: i18n.groupSize,\n      groupDelimiter: i18n.groupDelimiter,\n      decimalSize: 0\n    });\n\n    i18n.priceFormat = function (value) {\n      return _price_format(Number$1.format(value, _price_settings));\n    };\n\n    i18n.numberFormat = Number$1.format;\n  };\n\n  i18n.locales = {\n    \"en-US\": en\n  };\n  i18n.setLocale(\"en-US\");\n\n  var storage = {};\n\n  storage.prefix = function (scope, storage) {\n    scope = scope + \".\";\n    return {\n      put: function (name, data) {\n        return storage.put(scope + name, data);\n      },\n      get: function (name) {\n        return storage.get(scope + name);\n      },\n      remove: function (name) {\n        return storage.remove(scope + name);\n      }\n    };\n  };\n\n  storage.local = {\n    put: function (name, data) {\n      if (name && window.JSON && window.localStorage) {\n        window.localStorage.setItem(name, stringify(data));\n      }\n    },\n    get: function (name) {\n      if (name && window.JSON && window.localStorage) {\n        var json = window.localStorage.getItem(name);\n        if (!json) return null;\n        return DataDriver.json.toObject(json);\n      } else return null;\n    },\n    remove: function (name) {\n      if (name && window.JSON && window.localStorage) {\n        window.localStorage.removeItem(name);\n      }\n    },\n    clear: function () {\n      window.localStorage.clear();\n    }\n  };\n  storage.session = {\n    put: function (name, data) {\n      if (name && window.JSON && window.sessionStorage) {\n        window.sessionStorage.setItem(name, stringify(data));\n      }\n    },\n    get: function (name) {\n      if (name && window.JSON && window.sessionStorage) {\n        var json = window.sessionStorage.getItem(name);\n        if (!json) return null;\n        return DataDriver.json.toObject(json);\n      } else return null;\n    },\n    remove: function (name) {\n      if (name && window.JSON && window.sessionStorage) {\n        window.sessionStorage.removeItem(name);\n      }\n    },\n    clear: function () {\n      window.sessionStorage.clear();\n    }\n  };\n  storage.cookie = {\n    put: function (name, data, domain, expires) {\n      if (name && window.JSON) {\n        document.cookie = name + \"=\" + escape(stringify(data)) + (expires && expires instanceof Date ? \";expires=\" + expires.toUTCString() : \"\") + (domain ? \";domain=\" + domain : \"\") + (env.https ? \";secure\" : \"\");\n      }\n    },\n    getRaw: function (check_name) {\n      // first we'll split this cookie up into name/value pairs\n      // note: document.cookie only returns name=value, not the other components\n      var a_all_cookies = document.cookie.split(\";\");\n      var a_temp_cookie = \"\";\n      var cookie_name = \"\";\n      var cookie_value = \"\";\n      var b_cookie_found = false; // set boolean t/f default f\n\n      for (var i = 0; i < a_all_cookies.length; i++) {\n        // now we'll split apart each name=value pair\n        a_temp_cookie = a_all_cookies[i].split(\"=\"); // and trim left/right whitespace while we're at it\n\n        cookie_name = a_temp_cookie[0].replace(/^\\s+|\\s+$/g, \"\"); // if the extracted name matches passed check_name\n\n        if (cookie_name == check_name) {\n          b_cookie_found = true; // we need to handle case where cookie has no value but exists (no = sign, that is):\n\n          if (a_temp_cookie.length > 1) {\n            cookie_value = unescape(a_temp_cookie[1].replace(/^\\s+|\\s+$/g, \"\"));\n          } // note that in cases where cookie is initialized but no value, null is returned\n\n\n          return cookie_value;\n        }\n\n        a_temp_cookie = null;\n        cookie_name = \"\";\n      }\n\n      if (!b_cookie_found) {\n        return null;\n      }\n\n      return null;\n    },\n    get: function (name) {\n      if (name && window.JSON) {\n        var json = this.getRaw(name);\n        if (!json) return null;\n        return DataDriver.json.toObject(unescape(json));\n      } else return null;\n    },\n    remove: function (name, domain) {\n      if (name && this.getRaw(name)) document.cookie = name + \"=\" + (domain ? \";domain=\" + domain : \"\") + \";expires=Thu, 01-Jan-1970 00:00:01 GMT\";\n    },\n    clear: function (domain) {\n      var cookies = document.cookie.split(\";\");\n\n      for (var i = 0; i < cookies.length; i++) {\n        document.cookie = /^[^=]+/.exec(cookies[i])[0] + \"=\" + (domain ? \";domain=\" + domain : \"\") + \";expires=Thu, 01-Jan-1970 00:00:01 GMT\";\n      }\n    }\n  };\n\n  env.printPPI = 96;\n  env.printMargin = 0.75 * env.printPPI;\n  var papers = {\n    \"a4\": \"A4\",\n    \"a3\": \"A3\",\n    \"letter\": \"letter\"\n  };\n  var fits = {\n    page: true,\n    data: true\n  };\n  var modes = {\n    portrait: true,\n    landscape: true\n  };\n  var sizes = {\n    //inches, real size is value*ppi\n    \"A3\": {\n      width: 11.7,\n      height: 16.5\n    },\n    \"A4\": {\n      width: 8.27,\n      height: 11.7\n    },\n    \"letter\": {\n      width: 8.5,\n      height: 11\n    }\n  };\n\n  var print = function (id, options) {\n    var view = $$(id);\n    if (view && view.$printView) view = view.$printView();\n    assert(view, \"non-existing view for printing\");\n    if (!view) return;\n    if (view.callEvent) view.callEvent(\"onBeforePrint\", [options]);\n    options = _checkOptions(options);\n\n    _beforePrint(options); //try widget's custom logic first, sometimes it may deny \n\n\n    if (!view.$customPrint || view.$customPrint(options) === true) _print(view, options);\n\n    _afterPrint(options);\n  };\n  /*processing print options*/\n\n\n  function _checkOptions(options) {\n    options = options || {};\n    options.paper = papers[(options.paper || \"\").toLowerCase()] || \"A4\";\n    options.mode = modes[options.mode] ? options.mode : \"portrait\";\n    options.fit = fits[options.fit] ? options.fit : \"page\";\n    options.scroll = options.scroll || false;\n    options.size = sizes[options.paper];\n    options.margin = options.margin || options.margin === 0 ? options.margin : {};\n    var margin = isNaN(options.margin * 1) ? env.printMargin : options.margin;\n    options.margin = {\n      top: options.margin.top || options.margin.top === 0 ? options.margin.top : margin,\n      bottom: options.margin.bottom || options.margin.bottom === 0 ? options.margin.bottom : margin,\n      right: options.margin.right || options.margin.right === 0 ? options.margin.right : margin,\n      left: options.margin.left || options.margin.left === 0 ? options.margin.left : margin\n    };\n    return options;\n  }\n  /*preparing printing environment*/\n\n\n  function _beforePrint(options) {\n    addCss(document.body, \"webix_print\");\n    if (options.docHeader) _getHeaderFooter(\"Header\", options);\n    if (options.docFooter) _getHeaderFooter(\"Footer\", options);\n    /* static print styles are located at 'css/print.less'*/\n\n    var cssString = \"@media print { \" + \"@page{ size:\" + options.paper + \" \" + options.mode + \";\" + \"margin-top:\" + options.margin.top + \"px;margin-bottom:\" + options.margin.bottom + \"px;margin-right:\" + options.margin.right + \"px;margin-left:\" + options.margin.left + \"px;}\" + \"}\";\n    addStyle(cssString, \"print\");\n  }\n  /*cleaning environment*/\n\n\n  function _afterPrint(options) {\n    removeCss(document.body, \"webix_print\");\n    removeStyle(\"print\");\n    if (options.docHeader) remove(options.docHeader);\n    if (options.docFooter) remove(options.docFooter);\n  }\n  /*common print actions */\n\n\n  function _print(view, options) {\n    var doc = view.$view.cloneNode(true); //copy data from all canvases\n\n    var canvases = view.$view.getElementsByTagName(\"canvas\");\n    if (canvases.length) for (var i = canvases.length - 1; i >= 0; i--) {\n      var destCtx = doc.getElementsByTagName(\"canvas\")[i].getContext(\"2d\");\n      destCtx.drawImage(canvases[i], 0, 0);\n    }\n    insertBefore(doc, options.docFooter, document.body);\n    addCss(doc, \"webix_ui_print\");\n    if (!options.scroll && (view._dataobj && view.data && view.data.pull || view.getBody)) addCss(doc, \"webix_print_noscroll\");\n    window.print();\n    remove(doc);\n  }\n  /*custom header nad footer*/\n\n\n  function _getHeaderFooter(group, options) {\n    var header = create(\"div\", {\n      \"class\": \"webix_view webix_print_\" + group.toLowerCase(),\n      \"style\": \"height:0px;visibility:hidden;\"\n    }, options[\"doc\" + group]);\n    if (group === \"Header\") insertBefore(header, document.body.firstChild);else document.body.appendChild(header);\n    options[\"doc\" + group] = header;\n  }\n\n  var filters = {\n    number: {\n      greater: function (a, b) {\n        return a > b;\n      },\n      less: function (a, b) {\n        return a < b;\n      },\n      greaterOrEqual: function (a, b) {\n        return a >= b;\n      },\n      lessOrEqual: function (a, b) {\n        return a <= b;\n      },\n      equal: function (a, b) {\n        return a == b;\n      },\n      notEqual: function (a, b) {\n        return a != b;\n      },\n      contains: function (a, b) {\n        return a.toString().toLowerCase().indexOf(b.toString().toLowerCase()) !== -1;\n      },\n      notContains: function (a, b) {\n        return a.toString().toLowerCase().indexOf(b.toString().toLowerCase()) === -1;\n      }\n    },\n    text: {\n      equal: function (a, b) {\n        return a.toLowerCase() === b.toLowerCase();\n      },\n      notEqual: function (a, b) {\n        return a.toLowerCase() !== b.toLowerCase();\n      },\n      contains: function (a, b) {\n        return a.toLowerCase().indexOf(b.toLowerCase()) !== -1;\n      },\n      notContains: function (a, b) {\n        return a.toLowerCase().indexOf(b.toLowerCase()) === -1;\n      },\n      beginsWith: function (a, b) {\n        return a.toLowerCase().lastIndexOf(b.toLowerCase(), 0) === 0;\n      },\n      notBeginsWith: function (a, b) {\n        return a.toLowerCase().lastIndexOf(b.toLowerCase(), 0) !== 0;\n      },\n      endsWith: function (a, b) {\n        return a.toLowerCase().indexOf(b.toLowerCase(), a.length - b.length) !== -1;\n      },\n      notEndsWith: function (a, b) {\n        return a.toLowerCase().indexOf(b.toLowerCase(), a.length - b.length) === -1;\n      }\n    },\n    date: {\n      greater: function (a, b) {\n        return a > b;\n      },\n      less: function (a, b) {\n        return a < b;\n      },\n      greaterOrEqual: function (a, b) {\n        return a >= b;\n      },\n      lessOrEqual: function (a, b) {\n        return a <= b;\n      },\n      equal: function (a, b) {\n        if (!a || !b) return false;\n        return a.valueOf() === b.valueOf();\n      },\n      notEqual: function (a, b) {\n        if (!a || !b) return true;\n        return a.valueOf() !== b.valueOf();\n      },\n      between: function (a, b) {\n        return (!b.start || a > b.start) && (!b.end || a < b.end);\n      },\n      notBetween: function (a, b) {\n        return !b.start || a <= b.start || !b.end || a >= b.end;\n      }\n    }\n  };\n\n  var patterns = {\n    phone: {\n      mask: \"+# (###) ###-####\",\n      allow: /[0-9]/g\n    },\n    card: {\n      mask: \"#### #### #### ####\",\n      allow: /[0-9]/g\n    },\n    date: {\n      mask: \"####-##-## ##:##\",\n      allow: /[0-9]/g\n    }\n  };\n\n  /*\n  \tCommon helpers\n  */\n\n  var error_key = \"__webix_remote_error\";\n\n  function RemoteContext(url, config) {\n    this._proxy = {};\n    this._queue = [];\n    this._url = url;\n    this._key = \"\";\n    if (config) this._process(config);else this._ready = ajax(url).then(function (data) {\n      return data.text();\n    }).then(bind(function (text) {\n      text = text.split(\"/*api*/\")[1];\n\n      this._process(JSON.parse(text));\n\n      return this._proxy;\n    }, this));\n  }\n\n  RemoteContext.prototype = {\n    _process: function (config) {\n      if (config.$key) this._key = config.$key;\n      if (config.$vars) for (var key in config.$vars) {\n        this._proxy[key] = config.$vars[key];\n      }\n\n      this._parse(config, this._proxy, \"\");\n    },\n    _parse: function (api, obj, prefix) {\n      for (var key in api) {\n        if (key === \"$key\" || key === \"$vars\") continue;\n        var val = api[key];\n\n        if (_typeof(val) == \"object\") {\n          var sub = obj[key] = {};\n\n          this._parse(val, sub, prefix + key + \".\");\n        } else obj[key] = this._proxy_call(this, prefix + key);\n      }\n    },\n    _call: function (name, args) {\n      var def = this._deffer(this, name, args);\n\n      this._queue.push(def);\n\n      this._start_queue();\n\n      return def;\n    },\n    _start_queue: function () {\n      if (!this._timer) this._timer = setTimeout(bind(this._run_queue, this), 1);\n    },\n    _run_queue: function () {\n      var data = [],\n          defs = this._queue;\n\n      for (var i = 0; i < this._queue.length; i++) {\n        var def = this._queue[i];\n\n        if (def.$sync) {\n          defs.splice(i, 1);\n          i--;\n        } else data.push({\n          name: def.$name,\n          args: def.$args\n        });\n      }\n\n      if (defs.length) {\n        var request = ajax();\n\n        var pack = this._pack(data);\n\n        callEvent(\"onBeforeRemoteCall\", [request, pack, {}]);\n        var promise = request.post(this._url, pack).then(function (response) {\n          var data = response.json();\n          var results = data.data;\n\n          for (var i = 0; i < results.length; i++) {\n            var res = results[i];\n            var error = results[i] && results[i][error_key];\n\n            if (error) {\n              callEvent(\"onRemoteError\", [error]);\n              defs[i].reject(error);\n            } else {\n              defs[i].resolve(res);\n            }\n          }\n        }, function (res) {\n          for (var i = 0; i < defs.length; i++) {\n            defs[i].reject(res);\n          }\n\n          throw res;\n        });\n        callEvent(\"onAfterRemoteCall\", [promise]);\n      }\n\n      this._queue = [];\n      this._timer = null;\n    },\n    _sync: function () {\n      var value = null;\n      this.$sync = true;\n      var data = [{\n        name: this.$name,\n        args: this.$args\n      }];\n\n      try {\n        var request = ajax();\n\n        var pack = this.$context._pack(data);\n\n        callEvent(\"onBeforeRemoteCall\", [request, pack, {\n          sync: true\n        }]);\n        var xhr = request.sync().post(this.$context._url, pack);\n        callEvent(\"onAfterRemoteCall\", [null]);\n        value = JSON.parse(xhr.responseText).data[0];\n        if (value[error_key]) value = null;\n      } catch (e) {} //eslint-disable-line\n\n\n      return value;\n    },\n    _deffer: function (master, name, args) {\n      var pr = Deferred.defer();\n      pr.sync = master._sync;\n      pr.$name = name;\n      pr.$args = args;\n      pr.$context = this;\n      return pr;\n    },\n    _proxy_call: function (master, name) {\n      return function () {\n        return master._call(name, [].slice.call(arguments));\n      };\n    },\n    _getProxy: function () {\n      return this._ready || this._proxy;\n    },\n    _pack: function (obj) {\n      return {\n        key: this._key,\n        payload: obj\n      };\n    }\n  };\n\n  function getApi(url, config) {\n    var ctx = new RemoteContext(url, config);\n\n    var proxy = ctx._getProxy();\n\n    for (var key in proxy) {\n      remote[key] = proxy[key];\n    }\n\n    return proxy;\n  }\n\n  var remote = function (url, config) {\n    if (_typeof(url) === \"object\") {\n      var scripts = document.getElementsByTagName(\"script\");\n      config = url;\n      url = scripts[scripts.length - 1].src;\n      return getApi(url, config);\n    } else return getApi(url, config);\n  };\n\n  /*submits values*/\n\n  function send(url, values, method, target) {\n    var form = create(\"FORM\", {\n      \"target\": target || \"_self\",\n      \"action\": url,\n      \"method\": method || \"POST\"\n    }, \"\");\n\n    for (var k in values) {\n      var field = create(\"INPUT\", {\n        \"type\": \"hidden\",\n        \"name\": k,\n        \"value\": values[k]\n      }, \"\");\n      form.appendChild(field);\n    }\n\n    form.style.display = \"none\";\n    document.body.appendChild(form);\n    form.submit();\n    document.body.removeChild(form);\n  }\n\n  function animate$1(obj, parent, config) {\n    var pobj = $$(parent);\n\n    if (pobj) {\n      var aniset = config || {\n        type: \"slide\",\n        direction: \"left\"\n      };\n\n      var d = pobj._viewobj.cloneNode(true);\n\n      var view = ui(obj, parent);\n\n      view._viewobj.parentNode.appendChild(d);\n\n      var line = animate.formLine(view._viewobj, d, aniset);\n\n      aniset.callback = function () {\n        animate.breakLine(line);\n      };\n\n      animate(line, aniset);\n      return view;\n    }\n  }\n  function animateView(view, stateHandler, config) {\n    view = $$(view);\n\n    if (view) {\n      config = config || {\n        type: \"slide\",\n        direction: \"left\"\n      };\n\n      var getHTML = function (view) {\n        var el = view._viewobj;\n        var css = el.className;\n        var content = el.innerHTML;\n        return \"<div class='\" + css + \"' style='width:\" + el.offsetWidth + \"px;height:\" + el.offsetHeight + \"px;'>\" + content + \"</div>\";\n      }; // get 'display' state of child nodes\n\n\n      var display = [];\n\n      for (var i = 0; i < view._viewobj.childNodes.length; i++) {\n        var node = view._viewobj.childNodes[i];\n        var value = node.currentStyle ? node.currentStyle.display : getComputedStyle(node, null).display;\n        display.push(value || \"\");\n      } // get current html content\n\n\n      var currentState = getHTML(view); // apply new state\n\n      if (typeof stateHandler == \"function\") {\n        stateHandler.call(this);\n      } // get new html content\n\n\n      var newState = getHTML(view); // insert elements into the view\n\n      var tempParent = view._viewobj.insertBefore(create(\"DIV\", {\n        \"class\": \"webix_view_animate\",\n        \"style\": \"width:\" + view._viewobj.offsetWidth + \"px;height:\" + view._viewobj.offsetHeight + \"px;\"\n      }, newState + currentState), view._viewobj.firstChild); // hide child nodes\n\n\n      for (var _i = 1; _i < view._viewobj.childNodes.length; _i++) {\n        view._viewobj.childNodes[_i].style.display = \"none\";\n      } // animate inserted elements\n\n\n      var line = animate.formLine(tempParent.childNodes[0], tempParent.childNodes[1], config);\n\n      config.callback = function () {\n        if (tempParent) {\n          view._viewobj.removeChild(tempParent);\n\n          tempParent = null; // restore 'display' state of child nodes\n\n          for (var i = 0; i < view._viewobj.childNodes.length; i++) {\n            view._viewobj.childNodes[i].style.display = display[i];\n          }\n        }\n      };\n\n      animate(line, config);\n      return view;\n    }\n  }\n\n  function get_orientation() {\n    var orientation = window.screen.orientation ? window.screen.orientation.angle : window.orientation;\n    return !!(orientation % 180);\n  }\n\n  function orientation_handler() {\n    var new_orientation = get_orientation();\n    if (state.orientation === new_orientation) return;\n    state.orientation = new_orientation;\n    callEvent(\"onRotate\", [new_orientation]);\n  }\n\n  if (env.mobile) {\n    state.orientation = get_orientation();\n    event$1(window, \"resize\", orientation_handler);\n  }\n\n  function fullScreen() {\n    if (!env.mobile) return;\n    addMeta(\"viewport\", \"initial-scale=1, maximum-scale=1, user-scalable=no, shrink-to-fit=no\");\n    env.fastClick = true;\n    if (env.isMac) addMeta(\"apple-mobile-web-app-capable\", \"yes\");else {\n      addMeta(\"mobile-web-app-capable\", \"yes\");\n      addStyle(\"body.webix_full_screen{ overflow-y: auto; }\");\n    }\n\n    var fix = function () {\n      var x = window.innerWidth;\n      var y = window.innerHeight;\n\n      if (y) {\n        document.body.style.height = y + \"px\";\n        document.body.style.width = x + \"px\";\n      }\n\n      state._freeze_resize = false;\n      resize();\n    };\n\n    var onrotate = function () {\n      state._freeze_resize = true;\n      delay(fix, null, [], 50);\n    };\n\n    attachEvent(\"onRotate\", onrotate);\n    orientation_handler();\n    delay(onrotate);\n  }\n\n  var datafilter = {\n    textWaitDelay: 500,\n    \"summColumn\": {\n      getValue: function (node) {\n        return node.innerText;\n      },\n      setValue: function () {},\n      refresh: function (master, node, value) {\n        var result = 0;\n        master.mapCells(null, value.columnId, null, 1, function (value) {\n          value = value * 1;\n          if (!isNaN(value)) result += value;\n        }, true);\n        if (value.format) result = value.format(result);\n        if (value.template) result = value.template({\n          value: result\n        });\n        node.innerHTML = result;\n      },\n      trackCells: true,\n      render: function (master, config) {\n        if (config.template) config.template = template(config.template);\n        return \"\";\n      }\n    },\n    \"masterCheckbox\": {\n      getValue: function () {},\n      setValue: function () {},\n      getHelper: function (node, config) {\n        return {\n          check: function () {\n            config.checked = false;\n            node.onclick();\n          },\n          uncheck: function () {\n            config.checked = true;\n            node.onclick();\n          },\n          isChecked: function () {\n            return config.checked;\n          }\n        };\n      },\n      refresh: function (master, node, config) {\n        node.onclick = function () {\n          this.getElementsByTagName(\"input\")[0].checked = config.checked = !config.checked;\n          var column = master.getColumnConfig(config.columnId);\n          var checked = config.checked ? column.checkValue : column.uncheckValue;\n          master.data.each(function (obj) {\n            obj[config.columnId] = checked;\n            master.callEvent(\"onCheck\", [obj.id, config.columnId, checked]);\n            this.callEvent(\"onStoreUpdated\", [obj.id, obj, \"save\"]);\n          });\n          master.refresh();\n        };\n      },\n      render: function (master, config) {\n        return \"<input type='checkbox' \" + (config.checked ? \"checked='1'\" : \"\") + \">\";\n      }\n    },\n    \"textFilter\": {\n      getInputNode: function (node) {\n        return node.querySelector(\"input\") || {\n          value: null\n        };\n      },\n      getValue: function (node) {\n        return this.getInputNode(node).value;\n      },\n      setValue: function (node, value) {\n        this.getInputNode(node).value = value;\n      },\n      refresh: function (master, node, value) {\n        node.component = master._settings.id;\n        master.registerFilter(node, value, this);\n        node._comp_id = master._settings.id;\n        if (value.value && this.getValue(node) != value.value) this.setValue(node, value.value);\n        node.onclick = preventEvent;\n\n        _event(node, \"keydown\", this._on_key_down);\n      },\n      render: function (master, config) {\n        if (this.init) this.init(config);\n        config.css = (config.css || \"\") + \" webix_ss_filter\";\n        return \"<input \" + (config.placeholder ? \"placeholder=\\\"\" + config.placeholder + \"\\\" \" : \"\") + \"type='text'>\";\n      },\n      _on_key_down: function (e) {\n        var id = this._comp_id; //tabbing through filters must not trigger filtering\n        //we can improve this functionality by preserving initial filter value\n        //and comparing new one with it\n\n        if ((e.which || e.keyCode) == 9) return;\n        if (this._filter_timer) window.clearTimeout(this._filter_timer);\n        this._filter_timer = window.setTimeout(function () {\n          var ui$$1 = $$(id); //ensure that ui is not destroyed yet\n\n          if (ui$$1) ui$$1.filterByAll();\n        }, datafilter.textWaitDelay);\n      }\n    },\n    \"selectFilter\": {\n      getInputNode: function (node) {\n        return node.querySelector(\"select\") || {\n          value: null\n        };\n      },\n      getValue: function (node) {\n        return this.getInputNode(node).value;\n      },\n      setValue: function (node, value) {\n        this.getInputNode(node).value = value;\n      },\n      refresh: function (master, node, value) {\n        //value - config from header { contet: }\n        value.compare = value.compare || function (a, b) {\n          return a == b;\n        };\n\n        node.component = master._settings.id;\n        master.registerFilter(node, value, this);\n\n        var data = datafilter._get_data(master, value);\n\n        if (value.emptyOption !== false) data.unshift({\n          id: \"\",\n          value: value.emptyOption || \"\"\n        }); //slow in IE\n        //http://jsperf.com/select-options-vs-innerhtml\n\n        var select = document.createElement(\"select\");\n\n        for (var i = 0; i < data.length; i++) {\n          var option = document.createElement(\"option\");\n          option.value = data[i].id;\n          option.text = data[i].value;\n          select.add(option);\n        }\n\n        node.innerHTML = \"\";\n        node.appendChild(select);\n        if (value.value) this.setValue(node, value.value);\n        node.onclick = preventEvent;\n        select._comp_id = master._settings.id;\n\n        _event(select, \"change\", this._on_change);\n      },\n      render: function (master, config) {\n        if (this.init) this.init(config);\n        config.css = (config.css || \"\") + \" webix_ss_filter\";\n        return \"\";\n      },\n      _on_change: function () {\n        $$(this._comp_id).filterByAll();\n      }\n    },\n    _get_data: function (master, value) {\n      var data;\n      var options = value.options;\n\n      if (options) {\n        data = master._collectValues.call(options, \"id\", \"value\");\n      } else data = master.collectValues(value.columnId, value.collect);\n\n      return data;\n    }\n  };\n  datafilter.serverFilter = exports.extend({\n    $server: true,\n    _on_key_down: function (e) {\n      var id = this._comp_id,\n          code = e.which || e.keyCode; //ignore tab and navigation keys\n\n      if (code == 9 || code >= 33 && code <= 40) return;\n      if (this._filter_timer) window.clearTimeout(this._filter_timer);\n      this._filter_timer = window.setTimeout(function () {\n        $$(id).filterByAll();\n      }, datafilter.textWaitDelay);\n    }\n  }, datafilter.textFilter);\n  datafilter.serverSelectFilter = exports.extend({\n    $server: true,\n    _on_change: function () {\n      var id = this._comp_id;\n      $$(id).filterByAll();\n    }\n  }, datafilter.selectFilter);\n  datafilter.numberFilter = exports.extend({\n    init: function (config) {\n      config.prepare = function (value) {\n        var _this = this;\n\n        var equality = value.indexOf(\"=\") != -1;\n        var intvalue = this.format(value);\n        if (intvalue === \"\") return \"\";\n        var compare;\n\n        if (value.indexOf(\">\") != -1) {\n          compare = this._greater;\n        } else if (value.indexOf(\"<\") != -1) {\n          compare = this._lesser;\n        }\n\n        if (compare && equality) {\n          config.compare = function (a, b) {\n            return _this._equal(a, b) || compare(a, b);\n          };\n        } else {\n          config.compare = compare || this._equal;\n        }\n\n        return intvalue;\n      };\n    },\n    format: function (value) {\n      return value.replace(/[^\\-.0-9]/g, \"\");\n    },\n    _greater: function (a, b) {\n      return a * 1 > b;\n    },\n    _lesser: function (a, b) {\n      return a !== \"\" && a * 1 < b;\n    },\n    _equal: function (a, b) {\n      return a !== \"\" && a * 1 == b;\n    }\n  }, datafilter.textFilter);\n  datafilter.dateFilter = exports.extend({\n    format: function (value) {\n      if (value === \"\") return \"\";\n      var date = new Date();\n\n      if (value.indexOf(\"today\") != -1) {\n        date = wDate.dayStart(date);\n      } else if (value.indexOf(\"now\") == -1) {\n        var parts = value.match(/[0-9]+/g);\n        if (!parts || !parts.length) return \"\";\n\n        if (parts.length < 3) {\n          parts.reverse();\n          date = new Date(parts[0], (parts[1] || 1) - 1, 1);\n        } else date = i18n.dateFormatDate(value.replace(/^[>< =]+/, \"\"));\n      }\n\n      return date.valueOf();\n    }\n  }, datafilter.numberFilter);\n\n  if (env.mobile || env.$customScroll) env.scrollSize = 0;\n  ready(function () {\n    env.scrollSize = _detectScrollSize();\n  });\n\n  function _detectScrollSize() {\n    var div = create(\"div\");\n    div.className = \"webix_skin_mark\";\n    div.style.cssText = \"position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;min-height:100px;overflow-y:scroll;\";\n    document.body.appendChild(div);\n    var width = div.offsetWidth - div.clientWidth;\n    var name = {\n      200: \"flat\",\n      210: \"compact\",\n      230: \"contrast\",\n      240: \"material\",\n      250: \"mini\"\n    }[Math.floor(div.offsetHeight / 10) * 10];\n    document.body.removeChild(div);\n    if (name) set$1(name);\n    if (env.$customScroll) return 0;\n    return width;\n  }\n\n  var fixed = false;\n\n  function _fixHeight() {\n    if (fixed) return;\n    addStyle(\"html, body{ height:100%; }\");\n    document.body.className += \" webix_full_screen\";\n    Touch.limit(false);\n    fixed = true;\n  }\n\n  define(\"_fixHeight\", _fixHeight);\n\n  ui.animate = animate$1;\n  ui.animateView = animateView;\n  ui.freeze = freeze;\n  ui.resize = resize;\n  ui.zIndex = zIndex;\n  ui.datafilter = datafilter;\n  ui.fullScreen = fullScreen;\n\n  /*German (Germany) locale*/\n  var de = {\n    groupDelimiter: \".\",\n    groupSize: 3,\n    decimalDelimiter: \",\",\n    decimalSize: 2,\n    dateFormat: \"%d.%n.%Y\",\n    timeFormat: \"%H:%i\",\n    longDateFormat: \"%j. %F %Y\",\n    fullDateFormat: \"%j. %F %Y %H:%i\",\n    am: null,\n    pm: null,\n    price: \"{obj} €\",\n    priceSettings: {\n      groupDelimiter: \".\",\n      groupSize: 3,\n      decimalDelimiter: \",\",\n      decimalSize: 2\n    },\n    calendar: {\n      monthFull: [\"Januar\", \"Februar\", \"März\", \"April\", \"Mai\", \"Juni\", \"Juli\", \"August\", \"September\", \"Oktober\", \"November\", \"Dezember\"],\n      monthShort: [\"Jan\", \"Feb\", \"Mrz\", \"Apr\", \"Mai\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dez\"],\n      dayFull: [\"Sonntag\", \"Montag\", \"Dienstag\", \"Mittwoch\", \"Donnerstag\", \"Freitag\", \"Samstag\"],\n      dayShort: [\"So\", \"Mo\", \"Di\", \"Mi\", \"Do\", \"Fr\", \"Sa\"],\n      hours: \"Stunden\",\n      minutes: \"Minuten\",\n      done: \"Fertig\",\n      clear: \"Entfernen\",\n      today: \"Heute\"\n    },\n    dataExport: {\n      page: \"Seite\",\n      of: \"von\"\n    },\n    PDFviewer: {\n      of: \"von\",\n      automaticZoom: \"Automatisch Zoom\",\n      actualSize: \"Aktuelles Ausmaß\",\n      pageFit: \"Seite Ausmaß\",\n      pageWidth: \"Seite Breite\",\n      pageHeight: \"Seite Höhe\",\n      enterPassword: \"Passwort eingeben\",\n      passwordError: \"Falsches passwort\"\n    },\n    aria: {\n      calendar: \"Kalender\",\n      increaseValue: \"Wert erhöhen\",\n      decreaseValue: \"Wert verringern\",\n      navMonth: [\"Vorheriger Monat\", \"Nächsten Monat\"],\n      navYear: [\"Vorheriges Jahr\", \"Nächstes Jahr\"],\n      navDecade: [\"Zurück Jahrzehnt\", \"Als nächstes Jahrzehnt\"],\n      dateFormat: \"%j. %F %Y\",\n      monthFormat: \"%F %Y\",\n      yearFormat: \"%Y\",\n      hourFormat: \"Stunden: %H\",\n      minuteFormat: \"Minuten: %i\",\n      removeItem: \"Element entfernen\",\n      pages: [\"Erste Seite\", \"Vorherige Seite\", \"Folgeseite\", \"Letzte Seite\"],\n      page: \"Seite\",\n      headermenu: \"Titelmenü\",\n      openGroup: \"Öffnen Spaltengruppe \",\n      closeGroup: \"Schließen Spaltengruppe \",\n      closeTab: \"Tab schließen\",\n      showTabs: \"Weitere Tabs\",\n      resetTreeMap: \"Zurück zur ursprünglichen Ansicht\",\n      navTreeMap: \"Aufleveln\",\n      nextTab: \"Weiter tab\",\n      prevTab: \"Zurück tab\",\n      multitextSection: \"Element hinzufügen\",\n      multitextextraSection: \"Element entfernen\",\n      showChart: \"Chart anzeigen\",\n      hideChart: \"Chart verstecken\",\n      resizeChart: \"Chart Größe ändern\"\n    },\n    richtext: {\n      underline: \"Unterstreichen\",\n      bold: \"Fettgedruckt\",\n      italic: \"Kursiv\"\n    },\n    combo: {\n      select: \"Auswählen\",\n      selectAll: \"Alles auswählen\",\n      unselectAll: \"Alles widerrufen\"\n    },\n    message: {\n      ok: \"OK\",\n      cancel: \"Abbrechen\"\n    },\n    comments: {\n      send: \"Absenden\",\n      confirmMessage: \"Der Kommentar wird entfernt. Sind Sie sicher?\",\n      edit: \"Redigieren\",\n      remove: \"Löschen\",\n      placeholder: \"Geben Sie hier ein..\",\n      moreComments: \"Mehr Kommentare\"\n    },\n    filter: {\n      less: \"weniger\",\n      lessOrEqual: \"weniger oder gleich\",\n      greater: \"mehr\",\n      greaterOrEqual: \"größer oder gleich\",\n      contains: \"enthält\",\n      notContains: \"nicht enthält\",\n      equal: \"gleich\",\n      notEqual: \"ungleich\",\n      beginsWith: \"beginnt mit\",\n      notBeginsWith: \"nicht beginnt mit\",\n      endsWith: \"endet mit\",\n      notEndsWith: \"nicht endet mit\",\n      between: \"zwischen\",\n      notBetween: \"nicht zwischen\"\n    },\n    timeboard: {\n      seconds: \"Sekunden\"\n    }\n  };\n\n  /*Spanish (Spain, International Sort) locale*/\n  var es = {\n    groupDelimiter: \".\",\n    groupSize: 3,\n    decimalDelimiter: \",\",\n    decimalSize: 2,\n    dateFormat: \"%d/%n/%Y\",\n    timeFormat: \"%G:%i\",\n    longDateFormat: \"%d %F %Y\",\n    fullDateFormat: \"%d %F %Y %G:%i\",\n    am: null,\n    pm: null,\n    price: \"{obj} €\",\n    priceSettings: {\n      groupDelimiter: \".\",\n      groupSize: 3,\n      decimalDelimiter: \",\",\n      decimalSize: 2\n    },\n    calendar: {\n      monthFull: [\"enero\", \"febrero\", \"marzo\", \"abril\", \"mayo\", \"junio\", \"julio\", \"agosto\", \"septiembre\", \"octubre\", \"noviembre\", \"diciembre\"],\n      monthShort: [\"ene\", \"feb\", \"mar\", \"abr\", \"may\", \"jun\", \"jul\", \"ago\", \"sep\", \"oct\", \"nov\", \"dic\"],\n      dayFull: [\"domingo\", \"lunes\", \"martes\", \"miércoles\", \"jueves\", \"viernes\", \"sábado\"],\n      dayShort: [\"dom\", \"lun\", \"mar\", \"mié\", \"jue\", \"vie\", \"sáb\"],\n      hours: \"Horas\",\n      minutes: \"Minutos\",\n      done: \"Listo\",\n      clear: \"Reinicio\",\n      today: \"Hoy\"\n    },\n    dataExport: {\n      page: \"Página\",\n      of: \"de\"\n    },\n    PDFviewer: {\n      of: \"de\",\n      automaticZoom: \"Zoom automático\",\n      actualSize: \"Tamaño real\",\n      pageFit: \"Tamaño de página\",\n      pageWidth: \"Ancho de página\",\n      pageHeight: \"Altura de la página\",\n      enterPassword: \"Introduzca la contraseña\",\n      passwordError: \"Contraseña incorrecta\"\n    },\n    aria: {\n      calendar: \"Сalendario\",\n      increaseValue: \"Aumentar el valor\",\n      decreaseValue: \"Disminuye el valor\",\n      navMonth: [\"Mes anterior\", \"Próximo mes\"],\n      navYear: [\"Año anterior\", \"Próximo año\"],\n      navDecade: [\"Década anterior\", \"Próxima década\"],\n      dateFormat: \"%d %F %Y\",\n      monthFormat: \"%F %Y\",\n      yearFormat: \"%Y\",\n      hourFormat: \"Horas: %G\",\n      minuteFormat: \"Minutos: %i\",\n      removeItem: \"Retire el elemento\",\n      pages: [\"Primera página\", \"Pagina anterior\", \"Siguiente página\", \"Última página\"],\n      page: \"Página\",\n      headermenu: \"Menú de títulos\",\n      openGroup: \"Grupo de columnas abiertas\",\n      closeGroup: \"Primer grupo de columnas\",\n      closeTab: \"Cerrar tab\",\n      showTabs: \"Mostrar más tabs\",\n      resetTreeMap: \"Volver a la vista original\",\n      navTreeMap: \"Elevar a mismo nivel\",\n      nextTab: \"Siguiente tab\",\n      prevTab: \"Tab anterior\",\n      multitextSection: \"Añadir elemento\",\n      multitextextraSection: \"Retire el elemento\",\n      showChart: \"Espectáculo chart\",\n      hideChart: \"Esconder chart\",\n      resizeChart: \"Cambiar el tamaño el chart\"\n    },\n    richtext: {\n      underline: \"Subrayar\",\n      bold: \"Negrita\",\n      italic: \"Itálico\"\n    },\n    combo: {\n      select: \"Seleccionar\",\n      selectAll: \"Seleccionar todo\",\n      unselectAll: \"Deselecciona todo\"\n    },\n    message: {\n      ok: \"OK\",\n      cancel: \"Cancelar\"\n    },\n    comments: {\n      send: \"Enviar\",\n      confirmMessage: \"El comentario será eliminado. Estás seguro?\",\n      edit: \"Corregir\",\n      remove: \"Suprimir\",\n      placeholder: \"Escriba aquí..\",\n      moreComments: \"Más comentarios\"\n    },\n    filter: {\n      less: \"menos\",\n      lessOrEqual: \"menor o igual\",\n      greater: \"mayor\",\n      greaterOrEqual: \"mayor o igual\",\n      contains: \"contiene\",\n      notContains: \"not contiene\",\n      equal: \"igual\",\n      notEqual: \"no es igual\",\n      beginsWith: \"comienza con\",\n      notBeginsWith: \"no comienza con\",\n      endsWith: \"termina con\",\n      notEndsWith: \"no termina con\",\n      between: \"entre\",\n      notBetween: \"no entre\"\n    },\n    timeboard: {\n      seconds: \"segundos\"\n    }\n  };\n\n  var fr = {\n    groupDelimiter: \" \",\n    groupSize: 3,\n    decimalDelimiter: \",\",\n    decimalSize: 2,\n    dateFormat: \"%d/%m/%Y\",\n    timeFormat: \"%H:%i\",\n    longDateFormat: \"%d %F %Y\",\n    fullDateFormat: \"%d.%m.%Y %H:%i\",\n    price: \"{obj} €\",\n    priceSettings: null,\n    //use number defaults\n    calendar: {\n      monthFull: [\"Janvier\", \"Février\", \"Mars\", \"Avril\", \"Mai\", \"Juin\", \"Juillet\", \"Août\", \"Septembre\", \"Octobre\", \"Novembre\", \"Décembre\"],\n      monthShort: [\"Jan\", \"Fév\", \"Mar\", \"Avr\", \"Mai\", \"Juin\", \"Juil\", \"Aôu\", \"Sep\", \"Oct\", \"Nov\", \"Déc\"],\n      dayFull: [\"Dimanche\", \"Lundi\", \"Mardi\", \"Mercredi\", \"Jeudi\", \"Vendredi\", \"Samedi\"],\n      dayShort: [\"Dim\", \"Lun\", \"Mar\", \"Mer\", \"Jeu\", \"Ven\", \"Sam\"],\n      hours: \"Heures\",\n      minutes: \"Minutes\",\n      done: \"Fini\",\n      clear: \"Effacer\",\n      today: \"Aujourd'hui\"\n    },\n    dataExport: {\n      page: \"Page\",\n      of: \"sur\"\n    },\n    PDFviewer: {\n      of: \"sur\",\n      automaticZoom: \"Zoom automatique\",\n      actualSize: \"Taille actuelle\",\n      pageFit: \"Taille de la page\",\n      pageWidth: \"Largeur de la page\",\n      pageHeight: \"Hauteur de page\",\n      enterPassword: \"Entrez le mot de passe\",\n      passwordError: \"Mauvais mot de passe\"\n    },\n    aria: {\n      calendar: \"Сalendrier\",\n      increaseValue: \"Augmenter la valeur\",\n      decreaseValue: \"Diminution de la valeur\",\n      navMonth: [\"Le mois précédent\", \"Le mois prochain\"],\n      navYear: [\"Année précédente\", \"L'année prochaine\"],\n      navDecade: [\"Décennie précédente\", \"Suivant décennie\"],\n      dateFormat: \"%d %F %Y\",\n      monthFormat: \"%F %Y\",\n      yearFormat: \"%Y\",\n      hourFormat: \"Heures: %H\",\n      minuteFormat: \"Minutes: %i\",\n      removeItem: \"Retirer l'élément\",\n      pages: [\"Première page\", \"Page précédente\", \"Page suivante\", \"Dernière page\"],\n      page: \"Page\",\n      headermenu: \"Menu de titre\",\n      openGroup: \"Ouvrir groupe de colonnes \",\n      closeGroup: \"Fermer groupe de colonnes\",\n      closeTab: \"Fermer tab\",\n      showTabs: \"Montrer plus tabs\",\n      resetTreeMap: \"Revenir à la vue originale\",\n      navTreeMap: \"Niveau supérieur\",\n      nextTab: \"Prochain tab\",\n      prevTab: \"Précédent tab\",\n      multitextSection: \"Ajouter l'élément\",\n      multitextextraSection: \"Retirer l'élément\",\n      showChart: \"Montrer chart\",\n      hideChart: \"Cacher chart\",\n      resizeChart: \"Redimensionner chart\"\n    },\n    richtext: {\n      underline: \"Souligner\",\n      bold: \"Gras\",\n      italic: \"Italique\"\n    },\n    combo: {\n      select: \"Sélectionner\",\n      selectAll: \"Tout sélectionner\",\n      unselectAll: \"Tout déselectionner\"\n    },\n    message: {\n      ok: \"OK\",\n      cancel: \"Annuler\"\n    },\n    comments: {\n      send: \"Envoyer\",\n      confirmMessage: \"Le commentaire sera supprimé. Êtes-vous sûr?\",\n      edit: \"Modifier\",\n      remove: \"Effacer\",\n      placeholder: \"Écrivez ici..\",\n      moreComments: \"Plus de commentaires\"\n    },\n    filter: {\n      less: \"moins\",\n      lessOrEqual: \"inférieur ou égal\",\n      greater: \"plus grand\",\n      greaterOrEqual: \"supérieur ou égal\",\n      contains: \"contient\",\n      notContains: \"ne contient\",\n      equal: \"égal\",\n      notEqual: \"pas égal\",\n      beginsWith: \"commence par\",\n      notBeginsWith: \"ne commence par\",\n      endsWith: \"se termine par\",\n      notEndsWith: \"pas se termine par\",\n      between: \"entre\",\n      notBetween: \"pas entre\"\n    },\n    timeboard: {\n      seconds: \"secondes\"\n    }\n  };\n\n  /*Italian (Italy) locale*/\n  var it = {\n    groupDelimiter: \".\",\n    groupSize: 3,\n    decimalDelimiter: \",\",\n    decimalSize: 2,\n    dateFormat: \"%d/%m/%Y\",\n    timeFormat: \"%H:%i\",\n    longDateFormat: \"%j %F %Y\",\n    fullDateFormat: \"%j %F %Y %H:%i\",\n    am: null,\n    pm: null,\n    price: \"€ {obj}\",\n    priceSettings: {\n      groupDelimiter: \".\",\n      groupSize: 3,\n      decimalDelimiter: \",\",\n      decimalSize: 2\n    },\n    calendar: {\n      monthFull: [\"gennaio\", \"febbraio\", \"marzo\", \"aprile\", \"maggio\", \"giugno\", \"luglio\", \"agosto\", \"settembre\", \"ottobre\", \"novembre\", \"dicembre\"],\n      monthShort: [\"gen\", \"feb\", \"mar\", \"apr\", \"mag\", \"giu\", \"lug\", \"ago\", \"set\", \"ott\", \"nov\", \"dic\"],\n      dayFull: [\"domenica\", \"lunedì\", \"martedì\", \"mercoledì\", \"giovedì\", \"venerdì\", \"sabato\"],\n      dayShort: [\"dom\", \"lun\", \"mar\", \"mer\", \"gio\", \"ven\", \"sab\"],\n      hours: \"Orario\",\n      minutes: \"Minuti\",\n      done: \"Pronto\",\n      clear: \"Pulisci\",\n      today: \"Oggi\"\n    },\n    dataExport: {\n      page: \"Pagina\",\n      of: \"di\"\n    },\n    PDFviewer: {\n      of: \"di\",\n      automaticZoom: \"Zoom automatico\",\n      actualSize: \"Dimensione reale\",\n      pageFit: \"Dimensioni della pagina\",\n      pageWidth: \"Larghezza della pagina\",\n      pageHeight: \"Altezza della pagina\",\n      enterPassword: \"Inserisci la password\",\n      passwordError: \"Password errata\"\n    },\n    aria: {\n      calendar: \"Calendario\",\n      increaseValue: \"Aumenta il valore\",\n      decreaseValue: \"Riduci il valore\",\n      navMonth: [\"Il mese scorso\", \"Il prossimo mese\"],\n      navYear: [\"L'anno scorso\", \"L'anno prossimo\"],\n      navDecade: [\"Decennio precedente\", \"Prossimo decennio\"],\n      dateFormat: \"%j %F %Y\",\n      monthFormat: \"%F %Y\",\n      yearFormat: \"%Y\",\n      hourFormat: \"Orario: %H\",\n      minuteFormat: \"Minuti: %i\",\n      removeItem: \"Rimuovere l'elemento\",\n      pages: [\"Prima pagina\", \"Pagina precedente\", \"Pagina successiva\", \"Ultima pagina\"],\n      page: \"Pagina\",\n      headermenu: \"Menu del titolo\",\n      openGroup: \"Aperto gruppo di colonne\",\n      closeGroup: \"Chiudi gruppo di colonne\",\n      closeTab: \"Chiudi tab\",\n      showTabs: \"Mostra più tabs\",\n      resetTreeMap: \"Tornare alla vista originale\",\n      navTreeMap: \"Livello superiore\",\n      nextTab: \"Tab successivo\",\n      prevTab: \"Tab precedente\",\n      multitextSection: \"Aggiungi elemento\",\n      multitextextraSection: \"Rimuovere l'elemento\",\n      showChart: \"Mostrare grafico\",\n      hideChart: \"Nascondere grafico\",\n      resizeChart: \"Ridimensionare grafico\"\n    },\n    richtext: {\n      underline: \"Sottolineare\",\n      bold: \"Grassetto\",\n      italic: \"Corsivo\"\n    },\n    combo: {\n      select: \"Selezionare\",\n      selectAll: \"Seleziona tutto\",\n      unselectAll: \"Deseleziona tutto\"\n    },\n    message: {\n      ok: \"OK\",\n      cancel: \"Annullare\"\n    },\n    comments: {\n      send: \"Inviare\",\n      confirmMessage: \"Il commento verrà rimosso. Sei sicuro?\",\n      edit: \"Correggere\",\n      remove: \"Elimina\",\n      placeholder: \"Digitare qui..\",\n      moreComments: \"Altri commenti\"\n    },\n    filter: {\n      less: \"meno\",\n      lessOrEqual: \"minore o uguale\",\n      greater: \"maggiore\",\n      greaterOrEqual: \"maggiore o uguale\",\n      contains: \"contiene\",\n      notContains: \"non contiene\",\n      equal: \"uguale\",\n      notEqual: \"non uguale\",\n      beginsWith: \"inizia con\",\n      notBeginsWith: \"non inizia con\",\n      endsWith: \"finisce con\",\n      notEndsWith: \"non termina con\",\n      between: \"tra\",\n      notBetween: \"non tra\"\n    },\n    timeboard: {\n      seconds: \"secondi\"\n    }\n  };\n\n  var ja = {\n    groupDelimiter: \",\",\n    groupSize: 3,\n    decimalDelimiter: \".\",\n    decimalSize: 2,\n    dateFormat: \"%Y.%m.%d\",\n    timeFormat: \"%H:%i\",\n    longDateFormat: \"%Y年%m月%d日\",\n    fullDateFormat: \"%Y.%m.%d %H:%i\",\n    price: \"¥{obj}\",\n    priceSettings: {\n      groupSize: 3,\n      groupDelimiter: \",\",\n      decimalDelimiter: \"\",\n      decimalSize: 0\n    },\n    calendar: {\n      monthFull: [\"1月\", \"2月\", \"3月\", \"4月\", \"5月\", \"6月\", \"7月\", \"8月\", \"9月\", \"10月\", \"11月\", \"12月\"],\n      monthShort: [\"1月\", \"2月\", \"3月\", \"4月\", \"5月\", \"6月\", \"7月\", \"8月\", \"9月\", \"10月\", \"11月\", \"12月\"],\n      dayFull: [\"日曜日\", \"月曜日\", \"火曜日\", \"水曜日\", \"木曜日\", \"金曜日\", \"土曜日\"],\n      dayShort: [\"日\", \"月\", \"火\", \"水\", \"木\", \"金\", \"土\"],\n      hours: \"営業時間\",\n      minutes: \"分\",\n      done: \"レディー\",\n      clear: \"削除する\",\n      today: \"今日\"\n    },\n    dataExport: {\n      page: \"ページ\",\n      of: \"から\"\n    },\n    PDFviewer: {\n      of: \"から\",\n      automaticZoom: \"自動ズーム\",\n      actualSize: \"実サイズ\",\n      pageFit: \"ページサイズ\",\n      pageWidth: \"ページ幅\",\n      pageHeight: \"ページの高さ\",\n      enterPassword: \"パスワードを入力する\",\n      passwordError: \"間違ったパスワード\"\n    },\n    aria: {\n      calendar: \"カレンダー\",\n      increaseValue: \"増加値\",\n      decreaseValue: \"数字を小さく\",\n      navMonth: [\"前の月\", \"来月\"],\n      navYear: [\"前年\", \"来年\"],\n      navDecade: [\"前の十年\", \"次の10年\"],\n      dateFormat: \"%Y年%m月%d日\",\n      monthFormat: \"%Y年%m月\",\n      yearFormat: \"%Y年\",\n      hourFormat: \"営業時間: %H\",\n      minuteFormat: \"分: %i\",\n      removeItem: \"要素を削除します\",\n      pages: [\"一ページ目\", \"前のページ\", \"次のページ\", \"最後のページ\"],\n      page: \"ページ\",\n      headermenu: \"ヘッダメニュー\",\n      openGroup: \"オープン列グループ\",\n      closeGroup: \"閉じる列グループ\",\n      closeTab: \"タブを閉じます\",\n      showTabs: \"複数のタブを表示します\",\n      resetTreeMap: \"元の表示に戻ります\",\n      navTreeMap: \"レベルパック\",\n      nextTab: \"次のタブ\",\n      prevTab: \"前のタブ\",\n      multitextSection: \"要素を追加します。\",\n      multitextextraSection: \"要素を削除します\",\n      showChart: \"靴チャート\",\n      hideChart: \"隠すチャート\",\n      resizeChart: \"グラフのサイズを変更\"\n    },\n    richtext: {\n      underline: \"アンダーライン\",\n      bold: \"大胆な\",\n      italic: \"イタリック\"\n    },\n    combo: {\n      select: \"選択する\",\n      selectAll: \"すべて選択\",\n      unselectAll: \"すべての選択を解除する\"\n    },\n    message: {\n      ok: \"OK\",\n      cancel: \"取り消す\"\n    },\n    comments: {\n      send: \"送信\",\n      confirmMessage: \"コメントは削除されます. 本気ですか？\",\n      edit: \"編集\",\n      remove: \"削除\",\n      placeholder: \"ここに入力..\",\n      moreComments: \"その他のコメント\"\n    },\n    filter: {\n      less: \"レス\",\n      lessOrEqual: \"以下\",\n      greater: \"大きいです\",\n      greaterOrEqual: \"以上\",\n      contains: \"含まれています\",\n      notContains: \"含まれていません\",\n      equal: \"等しいです\",\n      notEqual: \"等しくありません\",\n      beginsWith: \"で始まります\",\n      notBeginsWith: \"ないで始まります\",\n      endsWith: \"で終わります\",\n      notEndsWith: \"で終わりではありません\",\n      between: \"間に\",\n      notBetween: \"いない間\"\n    },\n    timeboard: {\n      seconds: \"秒\"\n    }\n  };\n\n  var pt = {\n    groupDelimiter: \".\",\n    groupSize: 3,\n    decimalDelimiter: \",\",\n    decimalSize: 2,\n    dateFormat: \"%d/%m/%Y\",\n    timeFormat: \"%G:%i\",\n    longDateFormat: \"%d de %F de %Y\",\n    fullDateFormat: \"%d de %F de %Y %G:%i\",\n    am: null,\n    pm: null,\n    price: \"R$ {obj}\",\n    priceSettings: {\n      groupDelimiter: \".\",\n      groupSize: 3,\n      decimalDelimiter: \",\",\n      decimalSize: 2\n    },\n    fileSize: [\"b\", \"Kb\", \"Mb\", \"Gb\", \"Tb\", \"Pb\", \"Eb\"],\n    calendar: {\n      monthFull: [\"Janeiro\", \"Fevereiro\", \"Março\", \"Abril\", \"Maio\", \"Junho\", \"Julho\", \"Agosto\", \"Setembro\", \"Outubro\", \"Novembro\", \"Dezembro\"],\n      monthShort: [\"Jan\", \"Fev\", \"Mar\", \"Abr\", \"Mai\", \"Jun\", \"Jul\", \"Ago\", \"Set\", \"Out\", \"Nov\", \"Dez\"],\n      dayFull: [\"Domingo\", \"Segunda-Feira\", \"Terça-Feira\", \"Quarta-Feira\", \"Quinta-Feira\", \"Sexta-Feira\", \"Sábado\"],\n      dayShort: [\"Dom\", \"Seg\", \"Ter\", \"Qua\", \"Qui\", \"Sex\", \"Sáb\"],\n      hours: \"Horas\",\n      minutes: \"Minutos\",\n      done: \"Feito\",\n      clear: \"Limpar\",\n      today: \"Hoje\"\n    },\n    dataExport: {\n      page: \"Página\",\n      of: \"de\"\n    },\n    PDFviewer: {\n      of: \"de\",\n      automaticZoom: \"Zoom automático\",\n      actualSize: \"Tamanho atual\",\n      pageFit: \"Tamanho da página\",\n      pageWidth: \"Largura da página\",\n      pageHeight: \"Altura da página\",\n      enterPassword: \"Digite a senha\",\n      passwordError: \"Senha incorreta\"\n    },\n    aria: {\n      calendar: \"Calendário\",\n      increaseValue: \"Aumentar o valor\",\n      decreaseValue: \"Diminuir o valor\",\n      navMonth: [\"Mês anterior\", \"Próximo mês\"],\n      navYear: [\"Ano anterior\", \"Próximo ano\"],\n      navDecade: [\"Década anterior\", \"Próxima década\"],\n      dateFormat: \"%d de %F de %Y\",\n      monthFormat: \"%F de %Y\",\n      yearFormat: \"%Y\",\n      hourFormat: \"Horas: %G\",\n      minuteFormat: \"Minutos: %i\",\n      removeItem: \"Remover elemento\",\n      pages: [\"Primeira página\", \"Página anterior\", \"Próxima página\", \"Última página\"],\n      page: \"Página\",\n      headermenu: \"Menu de títulos\",\n      openGroup: \"Grupo coluna aberta\",\n      closeGroup: \"Fechar grupo de colunas\",\n      closeTab: \"Fechar tab\",\n      showTabs: \"Mostre mais tabs\",\n      resetTreeMap: \"Мoltar à vista original\",\n      navTreeMap: \"Upar\",\n      nextTab: \"Próximo tab\",\n      prevTab: \"Anterior tab\",\n      multitextSection: \"Adicionar elemento\",\n      multitextextraSection: \"Remover elemento\",\n      showChart: \"Exposição chart\",\n      hideChart: \"Esconder chart\",\n      resizeChart: \"Redimensionar chart\"\n    },\n    richtext: {\n      underline: \"Sublinhado\",\n      bold: \"Negrito\",\n      italic: \"itálico\"\n    },\n    combo: {\n      select: \"Selecionar\",\n      selectAll: \"Selecionar tudo\",\n      unselectAll: \"Desmarque todos\"\n    },\n    message: {\n      ok: \"OK\",\n      cancel: \"Cancelar\"\n    },\n    comments: {\n      send: \"Enviar\",\n      confirmMessage: \"Comentário será removido. Você tem certeza?\",\n      edit: \"Editar\",\n      remove: \"Excluir\",\n      placeholder: \"Digite aqui..\",\n      moreComments: \"Mais comentários\"\n    },\n    filter: {\n      less: \"menos\",\n      lessOrEqual: \"menor ou igual\",\n      greater: \"maior\",\n      greaterOrEqual: \"maior ou igual\",\n      contains: \"contém\",\n      notContains: \"não contém\",\n      equal: \"igual\",\n      notEqual: \"não é igual\",\n      beginsWith: \"começa com\",\n      notBeginsWith: \"não começa com\",\n      endsWith: \"termina com\",\n      notEndsWith: \"não termina com\",\n      between: \"entre\",\n      notBetween: \"não entre\"\n    },\n    timeboard: {\n      seconds: \"segundos\"\n    }\n  };\n\n  /*Chinese (Simplified, PRC) locale*/\n  var zh = {\n    groupDelimiter: \",\",\n    groupSize: 3,\n    decimalDelimiter: \".\",\n    decimalSize: 2,\n    dateFormat: \"%Y/%m/%j\",\n    timeFormat: \"%G:%i\",\n    longDateFormat: \"%Y'年'%m'月'%j'日'\",\n    fullDateFormat: \"%Y'年'%m'月'%j'日' %G:%i\",\n    am: [\"上午\", \"上午\"],\n    pm: [\"下午\", \"下午\"],\n    price: \"¥{obj}\",\n    priceSettings: {\n      groupDelimiter: \",\",\n      groupSize: 3,\n      decimalDelimiter: \".\",\n      decimalSize: 2\n    },\n    calendar: {\n      monthFull: [\"一月\", \"二月\", \"三月\", \"四月\", \"五月\", \"六月\", \"七月\", \"八月\", \"九月\", \"十月\", \"十一月\", \"十二月\"],\n      monthShort: [\"一月\", \"二月\", \"三月\", \"四月\", \"五月\", \"六月\", \"七月\", \"八月\", \"九月\", \"十月\", \"十一月\", \"十二月\"],\n      dayFull: [\"星期日\", \"星期一\", \"星期二\", \"星期三\", \"星期四\", \"星期五\", \"星期六\"],\n      dayShort: [\"周日\", \"周一\", \"周二\", \"周三\", \"周四\", \"周五\", \"周六\"],\n      hours: \"小时\",\n      minutes: \"分钟\",\n      done: \"完成\",\n      clear: \"清除\",\n      today: \"今天\"\n    },\n    dataExport: {\n      page: \"页\",\n      of: \"从\"\n    },\n    PDFviewer: {\n      of: \"从\",\n      automaticZoom: \"自动设置页面大小\",\n      actualSize: \"实际尺寸\",\n      pageFit: \"页面大小\",\n      pageWidth: \"页面宽度\",\n      pageHeight: \"页面高度\",\n      enterPassword: \"输入密码\",\n      passwordError: \"密码错误\"\n    },\n    aria: {\n      calendar: \"日历\",\n      increaseValue: \"增加值\",\n      decreaseValue: \"减少值\",\n      navMonth: [\"上个月\", \"下个月\"],\n      navYear: [\"去年\", \"明年\"],\n      navDecade: [\"过去十年\", \"下个十年\"],\n      dateFormat: \"%Y'年'%m'月'%j'日'\",\n      monthFormat: \"%Y'年'%m'月\",\n      yearFormat: \"%Y'年\",\n      hourFormat: \"小时: %G\",\n      minuteFormat: \"分钟: %i\",\n      removeItem: \"删除项\",\n      pages: [\"第一页\", \"上一页\", \"下一页\", \"最后一页\"],\n      page: \"页\",\n      headermenu: \"标题菜单\",\n      openGroup: \"打开列分组\",\n      closeGroup: \"关闭列分组\",\n      closeTab: \"关闭标签\",\n      showTabs: \"更多标签\",\n      resetTreeMap: \"重置视图\",\n      navTreeMap: \"上一级\",\n      nextTab: \"下一个标签\",\n      prevTab: \"前一个标签\",\n      multitextSection: \"添加项\",\n      multitextextraSection: \"删除项\",\n      showChart: \"显示图表\",\n      hideChart: \"隐藏图表\",\n      resizeChart: \"调整图表大小\"\n    },\n    richtext: {\n      underline: \"下划线\",\n      bold: \"粗体\",\n      italic: \"斜体\"\n    },\n    combo: {\n      select: \"选择\",\n      selectAll: \"全选\",\n      unselectAll: \"取消全选\"\n    },\n    message: {\n      ok: \"确定\",\n      cancel: \"取消\"\n    },\n    comments: {\n      send: \"发送\",\n      confirmMessage: \"你确定要删除评论吗?\",\n      edit: \"编辑\",\n      remove: \"删除\",\n      placeholder: \"在此输入..\",\n      moreComments: \"更多评论\"\n    },\n    filter: {\n      less: \"小于\",\n      lessOrEqual: \"少于等于\",\n      greater: \"大于\",\n      greaterOrEqual: \"大于等于\",\n      contains: \"包含\",\n      notContains: \"不包含\",\n      equal: \"等于\",\n      notEqual: \"不等于\",\n      beginsWith: \"开始于\",\n      notBeginsWith: \"不以开始\",\n      endsWith: \"结束\",\n      notEndsWith: \"不以结束\",\n      between: \"之间\",\n      notBetween: \"不介于\"\n    },\n    timeboard: {\n      seconds: \"秒\"\n    }\n  };\n\n  var ru = {\n    groupDelimiter: \" \",\n    groupSize: 3,\n    decimalDelimiter: \",\",\n    decimalSize: 2,\n    dateFormat: \"%d.%m.%Y\",\n    timeFormat: \"%H:%i\",\n    longDateFormat: \"%d %F %Y\",\n    fullDateFormat: \"%d.%m.%Y %H:%i\",\n    price: \"{obj} руб.\",\n    priceSettings: null,\n    //use number defaults\n    calendar: {\n      monthFull: [\"Январь\", \"Февраль\", \"Март\", \"Апрель\", \"Maй\", \"Июнь\", \"Июль\", \"Август\", \"Сентябрь\", \"Oктябрь\", \"Ноябрь\", \"Декабрь\"],\n      monthShort: [\"Янв\", \"Фев\", \"Maр\", \"Aпр\", \"Maй\", \"Июн\", \"Июл\", \"Aвг\", \"Сен\", \"Окт\", \"Ноя\", \"Дек\"],\n      dayFull: [\"Воскресенье\", \"Понедельник\", \"Вторник\", \"Среда\", \"Четверг\", \"Пятница\", \"Суббота\"],\n      dayShort: [\"Вс\", \"Пн\", \"Вт\", \"Ср\", \"Чт\", \"Пт\", \"Сб\"],\n      hours: \"Часы\",\n      minutes: \"Минуты\",\n      done: \"Гoтовo\",\n      clear: \"Очистить\",\n      today: \"Сегодня\"\n    },\n    dataExport: {\n      page: \"Страница\",\n      of: \"из\"\n    },\n    PDFviewer: {\n      of: \"из\",\n      automaticZoom: \"Автоматический зум\",\n      actualSize: \"Настоящий размер\",\n      pageFit: \"Размер страницы\",\n      pageWidth: \"Ширина страницы\",\n      pageHeight: \"Высота страницы\",\n      enterPassword: \"Введите пароль\",\n      passwordError: \"Неверный пароль\"\n    },\n    aria: {\n      calendar: \"Календарь\",\n      increaseValue: \"Увеличить значение\",\n      decreaseValue: \"Уменьшить значение\",\n      navMonth: [\"Предыдущий месяц\", \"Следующий месяц\"],\n      navYear: [\"Предыдущий год\", \"Следующий год\"],\n      navDecade: [\"Предыдущие десять лет\", \"Следующие десять лет\"],\n      dateFormat: \"%d %F %Y\",\n      monthFormat: \"%F %Y\",\n      yearFormat: \"%Y\",\n      hourFormat: \"Часы: %H\",\n      minuteFormat: \"Минуты: %i\",\n      removeItem: \"Удалить элемент\",\n      pages: [\"Первая страница\", \"Предыдущая страница\", \"Следующая страница\", \"Последняя страница\"],\n      page: \"Страница\",\n      headermenu: \"Меню шапки таблицы\",\n      openGroup: \"Развернуть группу столбцов\",\n      closeGroup: \"Свернуть группу столбцов\",\n      closeTab: \"Закрыть вкладку\",\n      showTabs: \"Показать больше вкладок\",\n      resetTreeMap: \"Вернуться к первоначальному представлению\",\n      navTreeMap: \"Перейти на уровень выше\",\n      nextTab: \"Следующая вкладка\",\n      prevTab: \"Предыдущая вкладка\",\n      multitextSection: \"Добавить элемент\",\n      multitextextraSection: \"Удалить элемент\",\n      showChart: \"Показать чарт\",\n      hideChart: \"Спрятать чарт\",\n      resizeChart: \"Изменить размер чарта\"\n    },\n    richtext: {\n      underline: \"Подчеркивание\",\n      bold: \"Жирный\",\n      italic: \"Курсив\"\n    },\n    combo: {\n      select: \"Выбрать\",\n      selectAll: \"Выбрать все\",\n      unselectAll: \"Сброс выбора\"\n    },\n    message: {\n      ok: \"OK\",\n      cancel: \"Отмена\"\n    },\n    comments: {\n      send: \"Отправить\",\n      confirmMessage: \"Комментарий будет удален. Вы уверены?\",\n      edit: \"Редактировать\",\n      remove: \"Удалить\",\n      placeholder: \"Введите текст..\",\n      moreComments: \"Больше комментариев\"\n    },\n    filter: {\n      less: \"меньше\",\n      lessOrEqual: \"меньше или равно\",\n      greater: \"больше\",\n      greaterOrEqual: \"больше или равно\",\n      contains: \"содержит\",\n      notContains: \"не содержит\",\n      equal: \"равно\",\n      notEqual: \"не равно\",\n      beginsWith: \"начинается с\",\n      notBeginsWith: \"не начинается с\",\n      endsWith: \"заканчиватся\",\n      notEndsWith: \"не заканчиватся\",\n      between: \"между\",\n      notBetween: \"не между\"\n    },\n    timeboard: {\n      seconds: \"Секунды\"\n    }\n  };\n\n  var be = {\n    groupDelimiter: \" \",\n    groupSize: 3,\n    decimalDelimiter: \",\",\n    decimalSize: 2,\n    dateFormat: \"%d.%m.%Y\",\n    timeFormat: \"%H:%i\",\n    longDateFormat: \"%d %F %Y\",\n    fullDateFormat: \"%d.%m.%Y %H:%i\",\n    price: \"{obj} руб.\",\n    priceSettings: {\n      groupSize: 3,\n      groupDelimiter: \" \",\n      decimalDelimiter: \"\",\n      decimalSize: 0\n    },\n    calendar: {\n      monthFull: [\"Студзень\", \"Люты\", \"Сакавік\", \"Красавік\", \"Травень\", \"Чэрвень\", \"Ліпень\", \"Жнівень\", \"Верасень\", \"Кастрычнік\", \"Лістапад\", \"Снежань\"],\n      monthShort: [\"Студз\", \"Лют\", \"Сак\", \"Крас\", \"Трав\", \"Чэр\", \"Ліп\", \"Жнів\", \"Вер\", \"Каст\", \"Ліст\", \"Снеж\"],\n      dayFull: [\"Нядзеля\", \"Панядзелак\", \"Аўторак\", \"Серада\", \"Чацвер\", \"Пятніца\", \"Субота\"],\n      dayShort: [\"Нд\", \"Пн\", \"Аўт\", \"Ср\", \"Чцв\", \"Пт\", \"Сб\"],\n      hours: \"Гадзіны\",\n      minutes: \"Хвіліны\",\n      done: \"Гатова\",\n      today: \"Cёння\",\n      clear: \"Ачысціць\"\n    },\n    dataExport: {\n      page: \"Старонка\",\n      of: \"з\"\n    },\n    PDFviewer: {\n      of: \"з\",\n      automaticZoom: \"Аўтаматычны зум\",\n      actualSize: \"Сапраўдны памер\",\n      pageFit: \"Памер старонкі\",\n      pageWidth: \"Шырыня старонкі\",\n      pageHeight: \"Вышыня старонкі\",\n      enterPassword: \"Увядзіце пароль\",\n      passwordError: \"Няправільны пароль\"\n    },\n    aria: {\n      calendar: \"Каляндар\",\n      increaseValue: \"Павялічыць значэнне\",\n      decreaseValue: \"Паменшыць значэнне\",\n      navMonth: [\"Папярэдні месяц\", \"Наступны месяц\"],\n      navYear: [\"Папярэдні год\", \"Наступны год\"],\n      navDecade: [\"Папярэднія дзесяць год\", \"Наступныя дзесяць год\"],\n      dateFormat: \"%d %F %Y\",\n      monthFormat: \"%F %Y\",\n      yearFormat: \"%Y\",\n      hourFormat: \"Hours: %h\",\n      minuteFormat: \"Гадзіны: %i\",\n      removeItem: \"Прыбраць элемент\",\n      pages: [\"Першая старонка\", \"Папярэдняя старонка\", \"Наступная старонка\", \"Апошняя старонка\"],\n      page: \"Старонка\",\n      headermenu: \"Меню загалоўка\",\n      openGroup: \"Адкрыць групу слупкоў\",\n      closeGroup: \"Закрыць групу слупкоў\",\n      closeTab: \"Закрыць укладку\",\n      showTabs: \"Паказаць больш укладак\",\n      resetTreeMap: \"Вярнуцца да першапачатковага выгляду\",\n      navTreeMap: \"Падняцца на ўзровень вышэй\",\n      nextTab: \"Наступная ўкладка\",\n      prevTab: \"Папярэдняя ўкладка\",\n      multitextSection: \"Дадаць элемент\",\n      multitextextraSection: \"Прыбраць элемент\",\n      showChart: \"Паказаць графік\",\n      hideChart: \"Схаваць графік\",\n      resizeChart: \"Змяніць памер графіка\"\n    },\n    richtext: {\n      underline: \"Падкрэсліванне\",\n      bold: \"Паўтлусты\",\n      italic: \"Курсіў\"\n    },\n    combo: {\n      select: \"Абраць\",\n      selectAll: \"Абраць усё\",\n      unselectAll: \"Ачысціць ўсе\"\n    },\n    message: {\n      ok: \"ОК\",\n      cancel: \"Адмена\"\n    },\n    comments: {\n      send: \"Даслаць\",\n      confirmMessage: \"Каментарый будзе выдалены. Вы ўпэўнены?\",\n      edit: \"Рэдагаваць\",\n      remove: \"Выдаліць\",\n      placeholder: \"Пішыце тут..\",\n      moreComments: \"Больш каментарыяў\"\n    },\n    filter: {\n      less: \"менш\",\n      lessOrEqual: \"менш або роўна\",\n      greater: \"больш\",\n      greaterOrEqual: \"больш або роўна\",\n      contains: \"змяшчае\",\n      notContains: \"не змяшчае\",\n      equal: \"роўныя\",\n      notEqual: \"не роўныя\",\n      beginsWith: \"пачынаецца з\",\n      notBeginsWith: \"не пачынаецца з\",\n      endsWith: \"заканчваецца\",\n      notEndsWith: \"не сканчаецца\",\n      between: \"паміж\",\n      notBetween: \"не паміж\"\n    },\n    timeboard: {\n      seconds: \"Секунды\"\n    }\n  };\n\n  // en-EN locale is bundled by default\n  i18n.locales[\"de-DE\"] = de; // spain\n  i18n.locales[\"es-ES\"] = es; // france\n  i18n.locales[\"fr-FR\"] = fr; // italy\n  i18n.locales[\"it-IT\"] = it; // japan\n  i18n.locales[\"ja-JP\"] = ja; // portuguese\n  i18n.locales[\"pt-BR\"] = pt; // chinese\n  i18n.locales[\"zh-CN\"] = zh; // russian\n  i18n.locales[\"ru-RU\"] = ru; // belarus\n  i18n.locales[\"be-BY\"] = be;\n\n  var api$4 = {\n    name: \"baselayout\",\n    restore: function (state$$1, factory, configOnly) {\n      var out = this._restore(copy(state$$1), factory);\n\n      if (configOnly) return out;else ui(out.cols || out.rows, this);\n    },\n    _restore: function (state$$1, factory) {\n      if (state$$1.$layout) {\n        var sub = state$$1.cols || state$$1.rows;\n\n        for (var i = 0; i < sub.length; i++) {\n          sub[i] = this._restore(sub[i], factory);\n        }\n      } else {\n        return factory.call(this, state$$1);\n      }\n\n      return state$$1;\n    },\n    serialize: function (serializer) {\n      var out = [];\n      var childs = this.getChildViews();\n\n      for (var i = 0; i < childs.length; i++) {\n        var sub = childs[i];\n\n        if (sub.movePortlet) {\n          var child = sub.getChildViews();\n          out.push(serializer.call(this, child[child.length - 1]));\n        } else if (sub.serialize) {\n          // some kind of layout\n          out.push(sub.serialize(serializer, true));\n        } else {\n          // leaf view\n          out.push(serializer.call(this, sub));\n        }\n      }\n\n      var obj = {\n        $layout: true,\n        type: this.config.type\n      };\n      if (this.config.rows) obj.rows = out;else obj.cols = out;\n      return obj;\n    },\n    $init: function (config) {\n      this.$ready.push(this._parse_cells);\n      this._dataobj = this._contentobj;\n      this._layout_sizes = [];\n      this._responsive = [];\n      this._padding = {\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0\n      };\n\n      if (config.$topView) {\n        config.borderless = true;\n        config._inner = {\n          top: true,\n          left: true,\n          bottom: true,\n          right: true\n        };\n      }\n\n      if (config.isolate) exports.extend(this, IdSpace);\n    },\n    rows_setter: function (value) {\n      this._vertical_orientation = 1;\n      this._collection = value;\n      return true;\n    },\n    cols_setter: function (value) {\n      this._vertical_orientation = 0;\n      this.$view.style.whiteSpace = \"nowrap\";\n      this._collection = value;\n      return true;\n    },\n    _remove: function (view) {\n      var index$$1 = _power_array.find.call(this._cells, view);\n\n      if (this._beforeRemoveView) this._beforeRemoveView(index$$1);\n\n      _power_array.removeAt.call(this._cells, index$$1);\n\n      this._fix_hidden_cells(true);\n    },\n    _fix_hidden_cells: function (resize$$1) {\n      this._hiddencells = 0;\n\n      for (var i = 0; i < this._cells.length; i++) {\n        var cell = this._cells[i];\n        if (cell._settings.hidden || cell.$nospace) this._hiddencells++;\n      }\n\n      if (resize$$1) this.resizeChildren(true);\n    },\n    _replace: function (new_view, target_id) {\n      if (isUndefined(target_id)) {\n        for (var i = 0; i < this._cells.length; i++) {\n          this._cells[i].destructor();\n        }\n\n        this._collection = new_view;\n\n        this._parse_cells();\n      } else {\n        var source;\n\n        if (typeof target_id == \"number\") {\n          if (target_id < 0 || target_id > this._cells.length) target_id = this._cells.length;\n\n          _power_array.insertAt.call(this._cells, new_view, target_id);\n\n          if (!new_view._settings.hidden) this._insertBeforeView(new_view, this._cells[target_id]);\n        } else {\n          source = $$(target_id);\n          target_id = _power_array.find.call(this._cells, source);\n          assert(target_id != -1, \"Attempt to replace the non-existing view\");\n          if (!new_view._settings.hidden) this._insertBeforeView(new_view, source);\n          source.destructor();\n          this._cells[target_id] = new_view;\n        }\n\n        if (!this._vertical_orientation) this._fix_vertical_layout(new_view);\n      }\n\n      this._fix_hidden_cells(true);\n\n      var form = this.elements ? this : this.getFormView();\n      if (form && !this._fill_data) form._recollect_elements();\n      callEvent(\"onReconstruct\", [this]);\n    },\n    _fix_vertical_layout: function (cell) {\n      cell._viewobj.style.display = \"inline-block\";\n      cell._viewobj.style.verticalAlign = \"top\";\n    },\n    addView: function (view, index$$1) {\n      if (isUndefined(index$$1)) index$$1 = this._cells.length;\n      var top = this.$$ ? this : this.getTopParentView();\n      state._parent_cell = this;\n      var newui = top && top.ui ? top.ui(view, this, index$$1) : ui(view, this, index$$1);\n      state._parent_cell = null;\n      return newui._settings.id;\n    },\n    removeView: function (id) {\n      var view;\n      if (_typeof(id) != \"object\") view = $$(id) || (this.$$ ? this.$$(id) : null);else view = id;\n\n      var target = _power_array.find.call(this._cells, view);\n\n      if (target >= 0) {\n        if (this._beforeRemoveView) this._beforeRemoveView(target, view);\n        var form = this.elements ? this : this.getFormView();\n\n        this._cells.splice(target, 1);\n\n        if (form) _each(view, function (sub) {\n          if (sub.name) delete form.getCleanValues()[sub.config.name];\n        }, form, true);\n        view.destructor();\n\n        this._fix_hidden_cells(true);\n\n        if (form) form._recollect_elements();\n      } else assert(false, \"Attemp to remove not existing view: \" + id);\n\n      callEvent(\"onReconstruct\", [this]);\n    },\n    reconstruct: function () {\n      this._hiddencells = 0;\n\n      this._replace(this._collection);\n    },\n    _hide: function (obj, settings, silent) {\n      if (obj._settings.hidden) return;\n      obj._settings.hidden = true;\n      remove(obj._viewobj);\n      this._hiddencells++;\n      if (!silent && !state._ui_creation) this.resizeChildren(true);\n    },\n    _signal_hidden_cells: function (view) {\n      if (view.callEvent) view.callEvent(\"onViewShow\", []);\n    },\n    resizeChildren: function () {\n      if (state._freeze_resize) return;\n\n      if (this._layout_sizes) {\n        var parent = this.getParentView();\n\n        if (parent) {\n          if (parent.resizeChildren) return parent.resizeChildren();else return parent.resize();\n        }\n\n        var sizes = this.$getSize(0, 0);\n        var x, y, nx, ny;\n        nx = x = this._layout_sizes[0] || 0;\n        ny = y = this._layout_sizes[1] || 0; //for auto-fill content, use adjust strategy\n\n        if ((sizes[1] >= 100000 || sizes[3] >= 100000) && this._viewobj.parentNode) {\n          //in hidden container adjust doesn't work, so fallback to last known size\n          //also, ensure that min-size is not violated\n          nx = x = Math.max(sizes[0], this._settings.width || this._viewobj.parentNode.offsetWidth || x || 0);\n          ny = y = Math.max(sizes[2], this._settings.height || this._viewobj.parentNode.offsetHeight || y || 0);\n        }\n\n        if (!parent) {\n          //minWidth\n          if (sizes[0] > x) nx = sizes[0]; //minHeight\n\n          if (sizes[2] > y) ny = sizes[2];\n          var fullscreen = this._viewobj.parentNode == document.body && !this.setPosition; //maxWidth rule\n\n          if (!fullscreen && x > sizes[1]) nx = sizes[1]; //maxHeight rule\n\n          if (!fullscreen && y > sizes[3]) ny = sizes[3];\n          this.$setSize(nx, ny);\n        } else this._set_child_size(x, y);\n\n        if (state._responsive_exception) {\n          state._responsive_exception = false;\n          this.resizeChildren();\n        }\n\n        callEvent(\"onResize\", []);\n      }\n    },\n    getChildViews: function () {\n      return this._cells;\n    },\n    index: function (obj) {\n      if (obj._settings) obj = obj._settings.id;\n\n      for (var i = 0; i < this._cells.length; i++) {\n        if (this._cells[i]._settings.id == obj) return i;\n      }\n\n      return -1;\n    },\n    _insertBeforeView: function (view, before) {\n      if (before) {\n        if (before._settings.hidden || view === before) {\n          //index of sibling cell, next to which new item will appear\n          var index$$1 = this.index(before) + 1; //locate nearest visible cell\n\n          while (this._cells[index$$1] && this._cells[index$$1]._settings.hidden) {\n            index$$1++;\n          }\n\n          before = this._cells[index$$1] ? this._cells[index$$1]._viewobj : null;\n        } else {\n          before = before._viewobj;\n        }\n      }\n\n      insertBefore(view._viewobj, before, this._dataobj || this._viewobj);\n    },\n    _show: function (obj, settings, silent) {\n      if (!obj._settings.hidden) return;\n\n      this._insertBeforeView(obj, obj);\n\n      obj._settings.hidden = false;\n      this._hiddencells--;\n\n      if (!silent) {\n        this.resizeChildren(true);\n        if (obj.refresh) obj.refresh();\n      }\n\n      if (obj.callEvent) {\n        obj.callEvent(\"onViewShow\", []);\n\n        _each(obj, this._signal_hidden_cells);\n      }\n    },\n    showBatch: function (name, mode) {\n      var preserve = typeof mode != \"undefined\";\n      mode = mode !== false;\n\n      if (!preserve) {\n        if (this._settings.visibleBatch == name) return;\n        this._settings.visibleBatch = name;\n      } else this._settings.visibleBatch = \"\";\n\n      var show = [];\n\n      for (var i = 0; i < this._cells.length; i++) {\n        if (!this._cells[i]._settings.batch && !this._cells[i]._settings.hidden) show.push(this._cells[i]);else if (this._cells[i]._settings.batch == name) {\n          if (mode) show.push(this._cells[i]);else this._hide(this._cells[i], null, true);\n        } else if (!preserve) this._hide(this._cells[i], null, true);\n      }\n\n      for (var _i = 0; _i < show.length; _i++) {\n        this._show(show[_i], null, true);\n\n        show[_i]._render_hidden_views();\n      }\n\n      this.resizeChildren(true);\n    },\n    _parse_cells: function (collection) {\n      this._cells = [];\n      assert(collection, this.name + \" was incorrectly defined. <br><br> You have missed rows|cols|cells|elements collection\");\n\n      for (var i = 0; i < collection.length; i++) {\n        state._parent_cell = this;\n        if (!collection[i]._inner) collection[i].borderless = true;\n        this._cells[i] = ui._view(collection[i], this);\n        if (!this._vertical_orientation) this._fix_vertical_layout(this._cells[i]);\n\n        if (this._settings.visibleBatch && this._settings.visibleBatch != this._cells[i]._settings.batch && this._cells[i]._settings.batch) {\n          this._cells[i]._settings.hidden = true;\n        }\n\n        if (!this._cells[i]._settings.hidden) {\n          (this._dataobj || this._contentobj).appendChild(this._cells[i]._viewobj);\n        }\n      }\n\n      this._fix_hidden_cells();\n\n      if (this._parse_cells_ext_end) this._parse_cells_ext_end(collection);\n    },\n    _fix_container_borders: function (style, inner) {\n      if (inner.top) style.borderTopWidth = \"0px\";\n      if (inner.left) style.borderLeftWidth = \"0px\";\n      if (inner.right) style.borderRightWidth = \"0px\";\n      if (inner.bottom) style.borderBottomWidth = \"0px\";\n    },\n    _bubble_size: function (prop, size, vertical) {\n      if (this._vertical_orientation != vertical) for (var i = 0; i < this._cells.length; i++) {\n        this._cells[i]._settings[prop] = size;\n        if (this._cells[i]._bubble_size) this._cells[i]._bubble_size(prop, size, vertical);\n      }\n    },\n    $getSize: function (dx, dy) {\n      debug_size_box_start(this, true);\n      var minWidth = 0;\n      var maxWidth = 100000;\n      var maxHeight = 100000;\n      var minHeight = 0;\n      if (this._vertical_orientation) maxHeight = 0;else maxWidth = 0;\n      var fixed = 0;\n      var fixed_count = 0;\n      var gravity = 0;\n      this._sizes = [];\n\n      for (var i = 0; i < this._cells.length; i++) {\n        //ignore hidden cells\n        if (this._cells[i]._settings.hidden) continue;\n\n        var sizes = this._sizes[i] = this._cells[i].$getSize(0, 0);\n\n        if (this._cells[i].$nospace) {\n          fixed_count++;\n          continue;\n        }\n\n        if (this._vertical_orientation) {\n          //take max minSize value\n          if (sizes[0] > minWidth) minWidth = sizes[0]; //take min maxSize value\n\n          if (sizes[1] < maxWidth) maxWidth = sizes[1];\n          minHeight += sizes[2];\n          maxHeight += sizes[3];\n\n          if (sizes[2] == sizes[3] && sizes[2] != -1) {\n            fixed += sizes[2];\n            fixed_count++;\n          } else gravity += sizes[4];\n        } else {\n          //take max minSize value\n          if (sizes[2] > minHeight) minHeight = sizes[2]; //take min maxSize value\n\n          if (sizes[3] < maxHeight) maxHeight = sizes[3];\n          minWidth += sizes[0];\n          maxWidth += sizes[1];\n\n          if (sizes[0] == sizes[1] && sizes[0] != -1) {\n            fixed += sizes[0];\n            fixed_count++;\n          } else gravity += sizes[4];\n        }\n      }\n\n      if (minHeight > maxHeight) maxHeight = minHeight;\n      if (minWidth > maxWidth) maxWidth = minWidth;\n      this._master_size = [fixed, this._cells.length - fixed_count, gravity];\n      this._desired_size = [minWidth + dx, minHeight + dy]; //get layout sizes\n\n      var self_size = base.api.$getSize.call(this, 0, 0); //use child settings if layout's one was not defined\n\n      if (self_size[1] >= 100000) self_size[1] = 0;\n      if (self_size[3] >= 100000) self_size[3] = 0;\n      self_size[0] = (self_size[0] || minWidth) + dx;\n      self_size[1] = Math.max(self_size[0], (self_size[1] || maxWidth) + dx);\n      self_size[2] = (self_size[2] || minHeight) + dy;\n      self_size[3] = Math.max(self_size[2], (self_size[3] || maxHeight) + dy);\n      debug_size_box_end(this, self_size);\n      if (!this._vertical_orientation && this._settings.responsive) self_size[0] = 0;\n      return self_size;\n    },\n    $setSize: function (x, y) {\n      this._layout_sizes = [x, y];\n      debug_size_box_start(this);\n      base.api.$setSize.call(this, x, y);\n\n      this._set_child_size(x, y);\n\n      debug_size_box_end(this, [x, y]);\n    },\n    _set_child_size_a: function (sizes, min, max) {\n      min = sizes[min];\n      max = sizes[max];\n      var height = min;\n\n      if (min != max) {\n        var ps = this._set_size_delta * sizes[4] / this._set_size_gravity;\n\n        if (ps < min) {\n          height = min;\n          this._set_size_gravity -= sizes[4];\n          this._set_size_delta -= height;\n        } else if (ps > max) {\n          height = max;\n          this._set_size_gravity -= sizes[4];\n          this._set_size_delta -= height;\n        } else {\n          return -1;\n        }\n      }\n\n      return height;\n    },\n    _responsive_hide: function (cell, mode) {\n      var target = $$(mode);\n\n      if (target === \"hide\" || !target) {\n        cell.hide();\n        cell._responsive_marker = \"hide\";\n      } else {\n        //for SideBar in Webix 1.9\n        if (!target) target = ui({\n          view: \"popup\",\n          body: [{}]\n        });\n        cell._responsive_width = cell._settings.width;\n        cell._responsive_height = cell._settings.height;\n        cell._responsive_marker = target._settings.id;\n        cell._settings.width = 0;\n        if (!cell._settings.height) cell._settings.autoheight = true;\n        ui(cell, target, this._responsive.length);\n      }\n\n      this._responsive.push(cell);\n    },\n    _responsive_show: function (cell) {\n      var target = cell._responsive_marker;\n      cell._responsive_marker = 0;\n\n      if (target === \"hide\" || !target) {\n        cell.show();\n      } else {\n        cell._settings.width = cell._responsive_width;\n        cell._settings.height = cell._responsive_height;\n        delete cell._settings.autoheight;\n        var index$$1 = 0;\n\n        while (this._cells[index$$1] && this._cells[index$$1]._settings.responsiveCell === false) {\n          index$$1++;\n        }\n\n        ui(cell, this, index$$1);\n      }\n\n      this._responsive.pop();\n    },\n    _responsive_cells: function (x) {\n      state._responsive_tinkery = true;\n\n      if (x + this._padding.left + this._padding.right + this._margin * (this._cells.length - 1) < this._desired_size[0]) {\n        var max = this._cells.length - 1;\n\n        for (var i = 0; i < max; i++) {\n          var cell = this._cells[i];\n\n          if (!cell._responsive_marker) {\n            if (cell._settings.responsiveCell !== false) {\n              this._responsive_hide(cell, this._settings.responsive);\n\n              callEvent(\"onResponsiveHide\", [cell._settings.id]);\n              state._responsive_exception = true;\n              break;\n            } else {\n              max = this._cells.length;\n            }\n          }\n        }\n      } else if (this._responsive.length) {\n        var _cell = this._responsive[this._responsive.length - 1];\n        var dx = _cell._responsive_marker == \"hide\" ? 0 : _cell._responsive_width;\n\n        var px = _cell.$getSize(dx, 0);\n\n        if (px[0] + this._desired_size[0] + this._margin + 20 <= x) {\n          this._responsive_show(_cell);\n\n          callEvent(\"onResponsiveShow\", [_cell._settings.id]);\n          state._responsive_exception = true;\n        }\n      }\n\n      state._responsive_tinkery = false;\n    },\n    _set_child_size: function (x, y) {\n      state._child_sizing_active = (state._child_sizing_active || 0) + 1;\n      if (!this._vertical_orientation && this._settings.responsive) this._responsive_cells(x, y);\n      this._set_size_delta = (this._vertical_orientation ? y : x) - this._master_size[0];\n      this._set_size_gravity = this._master_size[2];\n      var width = x;\n      var height = y;\n      var auto = [];\n\n      for (var i = 0; i < this._cells.length; i++) {\n        //ignore hidden cells\n        if (this._cells[i]._settings.hidden || !this._sizes[i]) continue;\n        var sizes = this._sizes[i];\n\n        if (this._vertical_orientation) {\n          height = this._set_child_size_a(sizes, 2, 3);\n\n          if (height < 0) {\n            auto.push({\n              oldIndex: i,\n              view: this._cells[i]\n            });\n            continue;\n          }\n        } else {\n          width = this._set_child_size_a(sizes, 0, 1);\n\n          if (width < 0) {\n            auto.push({\n              oldIndex: i,\n              view: this._cells[i]\n            });\n            continue;\n          }\n        }\n\n        this._cells[i].$setSize(width, height);\n      }\n\n      for (var _i2 = 0; _i2 < auto.length; _i2++) {\n        var index$$1 = auto[_i2].oldIndex;\n        var _sizes = this._sizes[index$$1];\n        var dx = Math.round(this._set_size_delta * _sizes[4] / this._set_size_gravity);\n        this._set_size_delta -= dx;\n        this._set_size_gravity -= _sizes[4];\n        if (this._vertical_orientation) height = dx;else {\n          width = dx;\n        }\n\n        auto[_i2].view.$setSize(width, height);\n      }\n\n      state._child_sizing_active -= 1;\n    },\n    _next: function (obj, mode) {\n      var index$$1 = this.index(obj);\n      if (index$$1 == -1) return null;\n      return this._cells[index$$1 + mode];\n    },\n    _first: function () {\n      return this._cells[0];\n    }\n  };\n  var view$4 = exports.protoUI(api$4, EventSystem, base.view);\n  var baselayout = {\n    api: api$4,\n    view: view$4\n  };\n\n  var api$5 = {\n    name: \"spacer\",\n    defaults: {\n      borderless: true\n    },\n    $init: function () {\n      this._viewobj.className += \" webix_spacer\";\n    }\n  };\n  var view$5 = exports.protoUI(api$5, base$1.view);\n\n  var api$6 = {\n    name: \"template\",\n    $init: function (config) {\n      var subtype = this._template_types[config.type];\n\n      if (subtype) {\n        if (subtype.css && config.css) this._viewobj.className += \" \" + subtype.css;\n        exports.extend(config, subtype); //will reset borders for \"section\"\n\n        if (config.borderless) {\n          delete config._inner;\n\n          this._set_inner(config);\n        }\n      }\n\n      if (this._dataobj == this._viewobj) {\n        this._dataobj = create(\"DIV\");\n        this._dataobj.className = \" webix_template\";\n\n        this._viewobj.appendChild(this._dataobj);\n      } else this._dataobj.className += \" webix_template\";\n\n      this.attachEvent(\"onAfterRender\", this._correct_height);\n    },\n    setValues: function (obj, update) {\n      this.data = update ? exports.extend(this.data, obj, true) : obj;\n      this.render();\n    },\n    getValues: function () {\n      return this.data;\n    },\n    $skin: function () {\n      this._template_types.header.height = $active.barHeight - $active.borderWidth * 2;\n      this._template_types.section.height = $active.barHeight;\n    },\n    _template_types: {\n      \"header\": {\n        css: \"webix_header\"\n      },\n      \"section\": {\n        css: \"webix_section\",\n        borderless: true\n      },\n      \"clean\": {\n        css: \"webix_clean\",\n        borderless: true\n      }\n    },\n    onClick_setter: function (value) {\n      this.on_click = exports.extend(this.on_click || {}, value, true);\n      if (!this._onClick) exports.extend(this, MouseEvents);\n      return value;\n    },\n    defaults: {\n      template: template.empty\n    },\n    _render_me: function () {\n      this._not_render_me = false;\n\n      this._probably_render_me();\n\n      this.resize();\n    },\n    _probably_render_me: function () {\n      if (!this._not_render_me) {\n        this._not_render_me = true;\n        this.render();\n      }\n    },\n    src_setter: function (value) {\n      this._not_render_me = true;\n      if (!this.callEvent(\"onBeforeLoad\", [])) return \"\";\n      ajax(value, bind(function (text) {\n        this._settings.template = template(text);\n\n        this._render_me();\n\n        this.callEvent(\"onAfterLoad\", []);\n      }, this));\n      return value;\n    },\n    content_setter: function (config) {\n      if (config) {\n        this._not_render_me = true;\n\n        this.render = function () {};\n\n        this._dataobj.appendChild(toNode(config));\n\n        this._correct_height();\n      }\n    },\n    refresh: function () {\n      this.render();\n    },\n    setHTML: function (html) {\n      this._settings.template = function () {\n        return html;\n      };\n\n      this.refresh();\n    },\n    setContent: function (content) {\n      this._dataobj.innerHTML = \"\";\n      this.content_setter(content);\n    },\n    $setSize: function (x, y) {\n      if (base$1.api.$setSize.call(this, x, y)) {\n        this._probably_render_me();\n\n        if (this._settings.autoheight) {\n          var top = this.getTopParentView();\n          clearTimeout(top._template_resize_timer);\n          top._template_resize_timer = delay(this.resize, this);\n        }\n\n        return true;\n      }\n    },\n    $getSize: function (x, y) {\n      if (this._settings.autoheight && (!this._settings.type || this._settings.type == \"clean\")) this._settings.height = this._get_auto_height();\n      return base$1.api.$getSize.call(this, x, y);\n    },\n    _correct_height: function () {\n      //we need to force auto height calculation after content change\n      //dropping the last_size flag will ensure that inner logic of $setSize will be processed\n      if (this._settings.autoheight) {\n        this._last_size = null;\n        this.resize();\n      }\n    },\n    _get_auto_height: function () {\n      var size;\n      var padding = $active.layoutPadding.space;\n\n      this._probably_render_me();\n\n      if (!this.isVisible()) {\n        //try getting height of a hidden template\n        size = getTextSize(this._toHTML(this.data) || this._dataobj.innerHTML, //check for config.content \n        \"webix_template\", (this.$width || (this.getParentView() ? this.getParentView().$width : 0)) - padding).height;\n      } else {\n        this._dataobj.style.height = \"auto\";\n        size = this._dataobj.scrollHeight;\n        this._dataobj.style.height = \"\";\n      }\n\n      return size;\n    },\n    _one_time_scroll: true //scroll will appear only if set directly in config\n\n  };\n  var view$6 = exports.protoUI(api$6, Scrollable, AutoTooltip, AtomDataLoader, AtomRender, EventSystem, base$1.view);\n  var template$1 = {\n    api: api$6,\n    view: view$6\n  };\n\n  /*scrollable view with another view insize*/\n\n  var api$7 = {\n    name: \"scrollview\",\n    defaults: {\n      scroll: \"y\",\n      scrollSpeed: \"300ms\"\n    },\n    $init: function () {\n      this._viewobj.className += \" webix_scrollview\";\n    },\n    body_setter: function (config) {\n      config.borderless = true;\n      state._parent_cell = this;\n      this._body_cell = ui._view(config);\n\n      this._dataobj.appendChild(this._body_cell._viewobj);\n    },\n    getChildViews: function () {\n      return [this._body_cell];\n    },\n    getBody: function () {\n      return this._body_cell;\n    },\n    resizeChildren: function () {\n      if (!this._body_cell) return;\n      this._desired_size = this._body_cell.$getSize(0, 0);\n\n      this._resizeChildren();\n\n      callEvent(\"onResize\", []);\n    },\n    _resizeChildren: function () {\n      var cx = Math.max(this._content_width, this._desired_size[0]);\n      var cy = Math.max(this._content_height, this._desired_size[2]);\n\n      this._body_cell.$setSize(cx, cy);\n\n      var scroll = this.getScrollState();\n      var top = this._body_cell._content_height - this._content_height;\n      if (top < scroll.y) // correct scrolling if necessary\n        this.scrollTo(null, top);\n\n      if (state._responsive_exception) {\n        state._responsive_exception = false;\n        this._desired_size = this._body_cell.$getSize(0, 0);\n\n        this._resizeChildren();\n      }\n    },\n    $getSize: function (dx, dy) {\n      var desired_size = this._desired_size = this._body_cell.$getSize(0, 0);\n\n      var self_sizes = base$1.api.$getSize.call(this, dx, dy);\n      var scroll_size = this._native_scroll || env.scrollSize;\n\n      if (this._settings.scroll == \"x\") {\n        self_sizes[2] = Math.max(self_sizes[2], desired_size[2]) + scroll_size;\n        self_sizes[3] = Math.min(self_sizes[3], desired_size[3]) + scroll_size;\n      } else if (this._settings.scroll == \"y\") {\n        self_sizes[0] = Math.max(self_sizes[0], desired_size[0]) + scroll_size;\n        self_sizes[1] = Math.min(self_sizes[1], desired_size[1]) + scroll_size;\n      }\n\n      return self_sizes;\n    },\n    $setSize: function (x, y) {\n      var temp = env.scrollSize;\n      env.scrollSize = this._native_scroll || temp;\n      if (base$1.api.$setSize.call(this, x, y) || state._force_resize) this._resizeChildren();\n      env.scrollSize = temp;\n    },\n    scroll_setter: function (value) {\n      var custom = env.$customScroll;\n\n      if (typeof value == \"string\" && value.indexOf(\"native-\") === 0) {\n        this._native_scroll = 17;\n        value = value.replace(\"native-\", \"\");\n        env.$customScroll = false;\n      }\n\n      value = Scrollable.scroll_setter.call(this, value);\n      env.$customScroll = custom;\n      return value;\n    },\n    _replace: function (new_view) {\n      this._body_cell.destructor();\n\n      this._body_cell = new_view;\n\n      this._dataobj.appendChild(this._body_cell._viewobj);\n\n      this.resizeChildren();\n    },\n    showView: function (id) {\n      var topPos = $$(id).$view.offsetTop - $$(id).$view.parentNode.offsetTop;\n      this.scrollTo(0, topPos);\n    }\n  };\n  var view$7 = exports.protoUI(api$7, Scrollable, EventSystem, base$1.view);\n\n  var api$8 = {\n    name: \"iframe\",\n    $init: function () {\n      this._dataobj = this._contentobj;\n      this._contentobj.innerHTML = \"<iframe style='width:100%; height:100%' frameborder='0' onload='var t = $$(this.parentNode.getAttribute(\\\"view_id\\\")); if (t) t.callEvent(\\\"onAfterLoad\\\",[]);' src='about:blank'></iframe>\";\n    },\n    load: function (value) {\n      this.src_setter(value);\n    },\n    src_setter: function (value) {\n      if (!this.callEvent(\"onBeforeLoad\", [])) return \"\";\n      this.getIframe().src = value;\n      return value;\n    },\n    getIframe: function () {\n      return this._contentobj.getElementsByTagName(\"iframe\")[0];\n    },\n    getWindow: function () {\n      return this.getIframe().contentWindow;\n    }\n  };\n  var view$8 = exports.protoUI(api$8, base$1.view, EventSystem);\n\n  var api$9 = {\n    name: \"layout\",\n    $init: function () {\n      this._hiddencells = 0;\n    },\n    defaults: {\n      type: \"line\"\n    },\n    _parse_cells: function () {\n      if (this._parse_cells_ext) collection = this._parse_cells_ext(collection);\n\n      if (!this._parse_once) {\n        this._viewobj.className += \" webix_layout_\" + (this._settings.type || \"\");\n        this._parse_once = 1;\n      }\n\n      if (this._settings.margin !== undefined) this._margin = this._settings.margin;\n      if (this._settings.padding !== undefined && _typeof(this._settings.padding) !== \"object\") this._padding.left = this._padding.right = this._padding.top = this._padding.bottom = this._settings.padding;\n      if (this._settings.paddingX !== undefined) this._padding.left = this._padding.right = this._settings.paddingX;\n      if (this._settings.paddingY !== undefined) this._padding.top = this._padding.bottom = this._settings.paddingY;\n      if (_typeof(this._settings.padding) === \"object\") exports.extend(this._padding, this._settings.padding, true);\n      if (this._padding.left || this._padding.right || this._padding.top || this._padding.bottom) this._padding.defined = true; //if layout has paddings we need to set the visible border \n\n      if (this._hasBorders() && !this._settings.borderless) {\n        this._contentobj.style.borderWidth = \"1px\"; //if layout has border - normal bordering rules are applied\n\n        this._render_borders = true;\n      }\n\n      var collection = this._collection;\n      if (this._settings.borderless) this._settings._inner = {\n        top: true,\n        left: true,\n        right: true,\n        bottom: true\n      };\n\n      this._beforeResetBorders(collection);\n\n      baselayout.api._parse_cells.call(this, collection);\n\n      this._afterResetBorders(collection);\n    },\n    $getSize: function (dx, dy) {\n      dx = dx || 0;\n      dy = dy || 0;\n      var correction = this._margin * (this._cells.length - this._hiddencells - 1);\n\n      if (this._render_borders || this._hasBorders()) {\n        var _borders = this._settings._inner;\n\n        if (_borders) {\n          dx += (_borders.left ? 0 : 1) + (_borders.right ? 0 : 1);\n          dy += (_borders.top ? 0 : 1) + (_borders.bottom ? 0 : 1);\n        }\n      }\n\n      if (!this._settings.height) dy += this._padding.top + this._padding.bottom + (this._vertical_orientation ? correction : 0);\n      if (!this._settings.width) dx += this._padding.left + this._padding.right + (this._vertical_orientation ? 0 : correction);\n      return baselayout.api.$getSize.call(this, dx, dy);\n    },\n    $setSize: function (x, y) {\n      this._layout_sizes = [x, y];\n      debug_size_box_start(this);\n      if (this._hasBorders() || this._render_borders) base$1.api.$setSize.call(this, x, y);else base.api.$setSize.call(this, x, y); //form with scroll\n\n      y = this._content_height;\n      x = this._content_width;\n      var config = this._settings;\n\n      if (config.scroll) {\n        y = Math.max(y, this._desired_size[1]);\n        x = Math.max(x, this._desired_size[0]);\n      }\n\n      this._set_child_size(x, y);\n\n      debug_size_box_end(this, [x, y]);\n    },\n    _set_child_size: function (x, y) {\n      var correction = this._margin * (this._cells.length - this._hiddencells - 1);\n      y -= this._padding.top + this._padding.bottom;\n      x -= this._padding.left + this._padding.right;\n      if (this._vertical_orientation) y -= correction;else x -= correction;\n      return baselayout.api._set_child_size.call(this, x, y);\n    },\n    resizeChildren: function (structure_changed) {\n      if (structure_changed) {\n        this._last_size = null; //forces children resize\n\n        var config = [];\n\n        for (var i = 0; i < this._cells.length; i++) {\n          var cell = this._cells[i];\n          config[i] = cell._settings;\n          var n = cell._layout_sizes && !cell._render_borders || cell._settings.borderless ? \"0px\" : \"1px\";\n          cell._viewobj.style.borderTopWidth = cell._viewobj.style.borderBottomWidth = cell._viewobj.style.borderLeftWidth = cell._viewobj.style.borderRightWidth = n;\n        }\n\n        this._beforeResetBorders(config);\n\n        for (var _i = 0; _i < config.length; _i++) {\n          if (config[_i].borderless && this._cells[_i]._set_inner) this._cells[_i]._set_inner(config[_i]);\n        }\n\n        this._afterResetBorders(this._cells);\n      }\n\n      if (state._responsive_tinkery) return;\n      baselayout.api.resizeChildren.call(this);\n    },\n    _hasBorders: function () {\n      return this._padding.defined && this._margin > 0 && !this._cleanlayout;\n    },\n    _beforeResetBorders: function (collection) {\n      if (this._hasBorders() && (!this._settings.borderless || this._settings.type == \"space\")) {\n        for (var i = 0; i < collection.length; i++) {\n          if (!collection[i]._inner || !collection[i].borderless) collection[i]._inner = {\n            top: false,\n            left: false,\n            right: false,\n            bottom: false\n          };\n        }\n      } else {\n        for (var _i2 = 0; _i2 < collection.length; _i2++) {\n          collection[_i2]._inner = clone(this._settings._inner);\n        }\n\n        var mode = false;\n        if (this._cleanlayout) mode = true;\n        var maxlength = collection.length;\n\n        if (this._vertical_orientation) {\n          for (var _i3 = 1; _i3 < maxlength - 1; _i3++) {\n            collection[_i3]._inner.top = collection[_i3]._inner.bottom = mode;\n          }\n\n          if (maxlength > 1) {\n            if (this._settings.type != \"head\") collection[0]._inner.bottom = mode;\n\n            while (collection[maxlength - 1].hidden && maxlength > 1) {\n              maxlength--;\n            }\n\n            if (maxlength > 0) collection[maxlength - 1]._inner.top = mode;\n          }\n        } else {\n          for (var _i4 = 1; _i4 < maxlength - 1; _i4++) {\n            collection[_i4]._inner.left = collection[_i4]._inner.right = mode;\n          }\n\n          if (maxlength > 1) {\n            if (this._settings.type != \"head\") collection[0]._inner.right = mode;\n            collection[maxlength - 1]._inner.left = mode;\n\n            while (maxlength > 1 && collection[maxlength - 1].hidden) {\n              maxlength--;\n            }\n\n            if (maxlength > 0) collection[maxlength - 1]._inner.left = mode;\n          }\n        }\n      }\n    },\n    _afterResetBorders: function (collection) {\n      var start = 0;\n\n      for (var i = 0; i < collection.length; i++) {\n        var cell = this._cells[i];\n        var s_inner = cell._settings._inner;\n\n        if (cell._settings.hidden && this._cells[i + 1]) {\n          var s_next = this._cells[i + 1]._settings._inner;\n          if (!s_inner.top) s_next.top = false;\n          if (!s_inner.left) s_next.left = false;\n          if (i == start) start++;\n        }\n\n        this._fix_container_borders(cell._viewobj.style, cell._settings._inner);\n      }\n\n      var style = this._vertical_orientation ? \"marginLeft\" : \"marginTop\";\n      var contrstyle = this._vertical_orientation ? \"marginTop\" : \"marginLeft\";\n      var padding = this._vertical_orientation ? this._padding.left : this._padding.top;\n      var contrpadding = this._vertical_orientation ? this._padding.top : this._padding.left; //add top offset to all\n\n      for (var _i5 = 0; _i5 < collection.length; _i5++) {\n        this._cells[_i5]._viewobj.style[style] = padding + \"px\";\n      } //add left offset to first cell\n\n\n      if (this._cells.length) this._cells[start]._viewobj.style[contrstyle] = contrpadding + \"px\"; //add offset between cells\n\n      for (var index = start + 1; index < collection.length; index++) {\n        this._cells[index]._viewobj.style[contrstyle] = this._margin + \"px\";\n      }\n    },\n    type_setter: function (value) {\n      this._margin = typeof this._margin_set[value] !== \"undefined\" ? this._margin_set[value] : this._margin_set[\"line\"];\n      this._padding.left = this._padding.right = this._padding.top = this._padding.bottom = typeof this._margin_set[value] !== \"undefined\" ? this._padding_set[value] : this._padding_set[\"line\"];\n      this._cleanlayout = value == \"material\" || value == \"clean\";\n      if (value == \"material\") this._settings.borderless = true;\n      return value;\n    },\n    $skin: function () {\n      this._margin_set = $active.layoutMargin;\n      this._padding_set = $active.layoutPadding;\n    }\n  };\n  var view$9 = exports.protoUI(api$9, baselayout.view);\n  var layout = {\n    api: api$9,\n    view: view$9\n  }; //not necessary anymore\n  //preserving for backward compatibility\n\n  view$9.call(-1);\n\n  var api$a = {\n    name: \"accordion\",\n    defaults: {\n      panelClass: \"accordionitem\",\n      multi: false,\n      collapsed: false\n    },\n    $init: function () {\n      this._viewobj.setAttribute(\"role\", \"tablist\");\n\n      this._viewobj.setAttribute(\"aria-multiselectable\", \"true\");\n    },\n    _replace: function (newview) {\n      layout.api._replace.apply(this, arguments);\n\n      if (newview.collapsed_setter && newview.refresh) {\n        newview.refresh();\n      }\n    },\n    _parse_cells: function () {\n      var panel = this._settings.panelClass;\n      var cells = this._collection;\n\n      for (var i = 0; i < cells.length; i++) {\n        if ((cells[i].body || cells[i].header) && !cells[i].view && !cells[i].align) cells[i].view = panel;\n        if (isUndefined(cells[i].collapsed)) cells[i].collapsed = this._settings.collapsed;\n      }\n\n      this._skin_render_collapse = true;\n\n      layout.api._parse_cells.call(this);\n\n      this._skin_render_collapse = false;\n\n      for (var _i = 0; _i < this._cells.length; _i++) {\n        if (this._cells[_i].name == panel) this._cells[_i].refresh();\n        this._cells[_i]._accLastChild = false;\n      }\n\n      var found = false;\n\n      for (var _i2 = this._cells.length - 1; _i2 >= 0 && !found; _i2--) {\n        if (!this._cells[_i2]._settings.hidden) {\n          this._cells[_i2]._accLastChild = true;\n          found = true;\n        }\n      }\n    },\n    _afterOpen: function (view) {\n      if (this._settings.multi === false && this._skin_render_collapse !== true) {\n        for (var i = 0; i < this._cells.length; i++) {\n          if (view != this._cells[i] && !this._cells[i]._settings.collapsed && this._cells[i].collapse) this._cells[i].collapse();\n        }\n      }\n\n      if (view.callEvent) {\n        view.callEvent(\"onViewShow\", []);\n\n        _each(view, this._signal_hidden_cells);\n      }\n    },\n    _canCollapse: function (view) {\n      if (this._settings.multi === true || this._skin_render_collapse) return true; //can collapse only if you have other item to open\n\n      for (var i = 0; i < this._cells.length; i++) {\n        if (view != this._cells[i] && !this._cells[i]._settings.collapsed && this._cells[i].isVisible() && !this._cells[i].$nospace) return true;\n      }\n\n      return false;\n    },\n    $skin: function () {\n      layout.api.$skin.call(this);\n      if ($active.accordionType) this.defaults.type = $active.accordionType;\n    }\n  };\n  var view$a = exports.protoUI(api$a, layout.view);\n  var base$2 = {\n    api: api$a,\n    view: view$a\n  };\n\n  var api$b = {\n    name: \"headerlayout\",\n    defaults: {\n      type: \"accordion\",\n      multi: \"mixed\",\n      collapsed: false\n    }\n  };\n  var view$b = exports.protoUI(api$b, base$2.view);\n\n  var api$c = {\n    name: \"accordionitem\",\n    $init: function (config) {\n      this._viewobj.innerHTML = \"<div tabindex='0' \" +\n      /*@attr*/\n      \"webix_ai_id\" + \"='\" + config.id + \"'  class='webix_accordionitem_header'><div class='webix_accordionitem_button' ></div><div class='webix_accordionitem_label' ></div></div><div class='webix_accordionitem_body'></div>\";\n      this._contentobj = this._viewobj;\n      this._headobj = this._contentobj.childNodes[0];\n      if (!config.header) this._headobj.style.display = \"none\";\n      this._headlabel = this._contentobj.childNodes[0].childNodes[1];\n      this._headbutton = this._contentobj.childNodes[0].childNodes[0];\n      this._bodyobj = this._contentobj.childNodes[1];\n      this._viewobj.className += \" webix_accordionitem\";\n      this._head_cell = this._body_cell = null;\n      this._cells = true;\n\n      this._bodyobj.setAttribute(\"role\", \"tabpanel\");\n\n      this._headobj.setAttribute(\"role\", \"tab\");\n\n      this.attachEvent(\"onKeyPress\", this._onKeyPress);\n    },\n    _remove: function () {\n      this.body_setter();\n    },\n    _replace: function (new_view) {\n      this._body_cell.destructor();\n\n      this._body_cell = new_view;\n\n      this._bodyobj.appendChild(this._body_cell._viewobj);\n\n      this.resize();\n    },\n    _id:\n    /*@attr*/\n    \"webix_ai_id\",\n    getChildViews: function () {\n      return [this._body_cell];\n    },\n    body_setter: function (value) {\n      if (_typeof(value) != \"object\") value = {\n        template: value\n      };\n      value._inner = {\n        top: true,\n        left: true,\n        right: true,\n        bottom: true\n      };\n      state._parent_cell = this;\n      this._body_cell = ui._view(value);\n\n      this._bodyobj.appendChild(this._body_cell._viewobj);\n\n      return value;\n    },\n    header_setter: function (value) {\n      if (value) value = template(value);\n      return value;\n    },\n    headerAlt_setter: function (value) {\n      if (value) value = template(value);\n      return value;\n    },\n    $getSize: function (dx, dy) {\n      var size = this._body_cell.$getSize(0, 0); //apply external border to inner content sizes\n\n\n      var _borders = this._settings._inner;\n\n      if (_borders) {\n        dx += (_borders.left ? 0 : 1) + (_borders.right ? 0 : 1);\n        dy += (_borders.top ? 0 : 1) + (_borders.bottom ? 0 : 1);\n      }\n\n      var header = 0;\n      var self_size = base.api.$getSize.call(this, 0, 0); //use child settings if layout's one was not defined\n\n      self_size[0] = (self_size[0] || size[0]) + dx;\n      if (self_size[1] >= 100000) self_size[1] = size[1];\n      self_size[1] += dx;\n      self_size[2] = (self_size[2] || size[2]) + dy;\n      var fixedHeight = self_size[3] < 100000;\n      if (!fixedHeight) self_size[3] = size[3];\n      self_size[3] += dy;\n\n      if (this.getParentView()._vertical_orientation) {\n        if (this._settings.collapsed) {\n          self_size[2] = self_size[3] = this._getHeaderSize() + dy;\n        } else if (this._settings.header) header = this._settings.headerHeight;\n      } else {\n        if (this._settings.collapsed) self_size[0] = self_size[1] = this._getHeaderSize() + dx;\n        if (this._settings.header) header = this._settings.headerHeight;\n      } //include header in total height calculation\n\n\n      if (!fixedHeight) {\n        self_size[2] += header;\n        self_size[3] += header;\n      }\n\n      debug_size_box(this, self_size, true);\n      return self_size;\n    },\n    on_click: {\n      webix_accordionitem_header: function (e) {\n        this._toggle(e);\n\n        return false;\n      },\n      webix_accordionitem_header_v: function (e) {\n        this._toggle(e);\n\n        return false;\n      }\n    },\n    _toggle: function () {\n      this.define(\"collapsed\", !this._settings.collapsed);\n    },\n    collapsed_setter: function (value) {\n      if (this._settings.header === false) return; //use last layout element if parent is not known yet\n\n      var parent = this.getParentView();\n\n      if (parent) {\n        if (!value) this._expand();else {\n          if (parent._canCollapse(this)) this._collapse();else {\n            var success = 0;\n            if (parent._cells.length > 1) for (var i = 0; i < parent._cells.length; i++) {\n              var sibl = parent._cells[i];\n\n              if (this != sibl && sibl.isVisible() && sibl.expand) {\n                sibl.expand();\n\n                this._collapse();\n\n                success = 1;\n                break;\n              }\n            }\n            if (!success) return;\n          }\n        }\n        this._settings.collapsed = value;\n        if (!value) parent._afterOpen(this);\n        this.refresh();\n        if (!state._ui_creation) this.resize();\n        parent.callEvent(\"onAfter\" + (value ? \"Collapse\" : \"Expand\"), [this._settings.id]);\n        this._settings.$noresize = value;\n      }\n\n      return value;\n    },\n    collapse: function () {\n      this.define(\"collapsed\", true);\n\n      UIManager._moveChildFocus(this);\n    },\n    expand: function () {\n      this.define(\"collapsed\", false);\n    },\n    _show: function () {\n      this.show();\n    },\n    _hide: function () {\n      this.hide();\n    },\n    _expand: function () {\n      this._bodyobj.style.display = \"\";\n      removeCss(this.$view, \"collapsed\");\n      removeCss(this._headobj, \"collapsed\");\n\n      this._headobj.setAttribute(\"aria-expanded\", \"true\");\n    },\n    _collapse: function () {\n      if (this._settings.headerAlt) this._headlabel.innerHTML = this._settings.headerAlt();\n      this._bodyobj.style.display = \"none\";\n      addCss(this.$view, \"collapsed\");\n      addCss(this._headobj, \"collapsed\");\n\n      this._headobj.setAttribute(\"aria-expanded\", \"false\");\n    },\n    refresh: function () {\n      var template$$1 = this._settings[this._settings.collapsed ? \"headerAlt\" : \"header\"] || this._settings.header;\n\n      if (template$$1) {\n        this._headlabel.innerHTML = template$$1();\n\n        this._headbutton.setAttribute(\"aria-label\", template$$1());\n      }\n\n      var css = this.getParentView()._vertical_orientation ? \"vertical\" : \"horizontal\";\n\n      if (this._viewobj.className.indexOf(\" \" + css) < 0) {\n        addCss(this._viewobj, css);\n      }\n    },\n    _getHeaderSize: function () {\n      return this._settings.collapsed ? this._settings.headerAltHeight : this._settings.headerHeight;\n    },\n    $setSize: function (x, y) {\n      if (base$1.api.$setSize.call(this, x, y) || this._getHeaderSize() != this._last_set_header_size) {\n        x = this._content_width;\n        y = this._content_height;\n\n        var headerSize = this._last_set_header_size = this._getHeaderSize(); //-(this._settings._inner.top?0:1);\n\n\n        if (this._settings.header) {\n          this._headobj.style.height = headerSize + \"px\";\n          this._headobj.style.width = \"auto\";\n          this._headobj.style[env.transform] = \"\";\n          this._headobj.style.borderBottomWidth = (this._settings.collapsed ? 0 : 1) + \"px\";\n\n          if (this.getParentView()._vertical_orientation || !this._settings.collapsed) {\n            y -= this._getHeaderSize();\n          } else if (this._settings.collapsed) {\n            //-2 - borders\n            this._headobj.style.width = y + \"px\";\n            this._headobj.style.height = x + 3 + \"px\";\n            var d = Math.floor(y / 2 - x / 2) + (x - this._settings.headerAltHeight) / 2;\n            this._headobj.style[env.transform] = \"rotate(90deg) translate(\" + d + \"px, \" + (d + 1) + \"px)\";\n          }\n        }\n\n        if (!this._settings.collapsed) {\n          this._body_cell.$setSize(x, y);\n\n          this._last_size_y = y;\n        }\n      } else if (!this._settings.collapsed) {\n        var body = this._body_cell;\n        if (this._last_size_y) body.$setSize(this._content_width, this._last_size_y);\n      }\n    },\n    $skin: function () {\n      this.defaults.headerAltHeight = this.defaults.headerHeight = $active.barHeight - $active.borderWidth * 2;\n    },\n    defaults: {\n      header: false,\n      headerAlt: false,\n      body: \"\"\n    }\n  };\n  var view$c = exports.protoUI(api$c, MouseEvents, EventSystem, base$1.view);\n\n  var api$d = {\n    name: \"resizearea\",\n    defaults: {\n      dir: \"x\"\n    },\n    $init: function (config) {\n      var _this = this;\n\n      var dir = config.dir || \"x\";\n      var node = toNode(config.container);\n      var size = dir == \"x\" ? \"width\" : \"height\";\n      var margin = config.margin ? config.margin + \"px\" : 0;\n      this._key_property = dir == \"x\" ? \"left\" : \"top\";\n      this._viewobj = create(\"DIV\", {\n        \"class\": \"webix_resize_area webix_dir_\" + dir\n      });\n\n      if (margin) {\n        if (dir == \"x\") margin = margin + \" 0 \" + margin;else margin = \"0 \" + margin + \" 0 \" + margin;\n      }\n\n      this._dragobj = create(\"DIV\", {\n        \"class\": \"webix_resize_handle_\" + dir,\n        \"style\": margin ? \"padding:\" + margin : \"\"\n      }, \"<div class='webix_handle_content'></div>\");\n      this._originobj = create(\"DIV\", {\n        \"class\": \"webix_resize_origin_\" + dir\n      });\n\n      if (config[size]) {\n        this._originobj.style[size] = config[size] + (config.border ? 1 : 0) + \"px\";\n        this._dragobj.style[size] = config[size] + \"px\";\n      }\n\n      if (config.cursor) this._dragobj.style.cursor = this._originobj.style.cursor = this._viewobj.style.cursor = config.cursor;\n      this._moveev = event$1(node, env.mouse.move, this._onmove, {\n        bind: this\n      });\n      this._upev = event$1(document, env.mouse.up, this._onup, {\n        bind: this\n      });\n\n      if (env.touch) {\n        this._moveev_t = event$1(node, env.touch.move, function (e) {\n          return _this._onmove(e, \"touch\");\n        }, {\n          passive: false\n        });\n        this._upev_t = event$1(document, env.touch.up, this._onup, {\n          bind: this\n        });\n      }\n\n      this._dragobj.style[this._key_property] = this._originobj.style[this._key_property] = config.start + \"px\";\n      node.appendChild(this._viewobj);\n      node.appendChild(this._dragobj);\n      node.appendChild(this._originobj);\n    },\n    _onup: function () {\n      this.callEvent(\"onResizeEnd\", [this._last_result]);\n      eventRemove(this._moveev);\n      eventRemove(this._upev);\n\n      if (env.touch) {\n        eventRemove(this._moveev_t);\n        eventRemove(this._upev_t);\n      }\n\n      remove(this._viewobj);\n      remove(this._dragobj);\n      remove(this._originobj);\n      this._viewobj = this._dragobj = this._originobj = null;\n    },\n    _onmove: function (e, pointer) {\n      var eventPos = pos(e);\n      this._last_result = (this._settings.dir == \"x\" ? eventPos.x : eventPos.y) + this._settings.start - this._settings.eventPos;\n      this._dragobj.style[this._key_property] = this._last_result + \"px\";\n      this.callEvent(\"onResize\", [this._last_result]);\n      if (pointer === \"touch\") preventEvent(e);\n    }\n  };\n  var view$d = exports.protoUI(api$d, EventSystem, Settings);\n\n  var api$e = {\n    name: \"resizer\",\n    defaults: {\n      width: 7,\n      height: 7\n    },\n    $init: function (config) {\n      var _this = this;\n\n      assert(this.getParentView(), \"Resizer can't be initialized outside a layout\");\n      this._viewobj.className += \" webix_resizer\";\n\n      var space = this.getParentView()._margin;\n\n      _event(this._viewobj, env.mouse.down, function (e) {\n        return _this._rsDown(e, \"mouse\");\n      });\n\n      if (env.touch) _event(this._viewobj, env.touch.down, function (e) {\n        return _this._rsDown(e, \"touch\");\n      });\n\n      var dir = this._getResizeDir();\n\n      this._rs_started = false;\n      this._resizer_dir = dir;\n      this._resizer_dim = dir == \"x\" ? \"width\" : \"height\";\n      if (dir == \"x\") config.height = 0;else config.width = 0;\n\n      if (space > 0) {\n        this._viewobj.className += \" webix_resizer_v\" + dir;\n        this._viewobj.style.marginRight = \"-\" + space + \"px\";\n        if (dir == \"x\") config.width = space;else config.height = space;\n        this.$nospace = true;\n      } else this._viewobj.className += \" webix_resizer_\" + dir;\n\n      this._viewobj.innerHTML = \"<div class='webix_resizer_content'></div>\";\n      if (dir == \"y\" && space > 0) this._viewobj.style.marginBottom = \"-\" + (config.height || this.defaults.height) + \"px\";\n\n      this._viewobj.setAttribute(\n      /*@attr*/\n      \"webix_disable_drag\", \"true\");\n\n      this._viewobj.setAttribute(\"tabindex\", \"-1\");\n\n      this._viewobj.setAttribute(\"aria-grabbed\", \"false\");\n    },\n    _rsDown: function (e, pointer) {\n      var _this2 = this;\n\n      var cells = this._getResizerCells(); //some sibling can block resize\n\n\n      if (cells && !this._settings.disabled) {\n        this._rs_started = true;\n        this._rs_process = pos(e);\n        this._rsLimit = [];\n\n        this._viewobj.setAttribute(\"aria-grabbed\", \"true\");\n\n        for (var i = 0; i < 2; i++) {\n          cells[i].$view.setAttribute(\"aria-dropeffect\", \"move\");\n        }\n\n        this._viewobj.setAttribute(\"aria-dropeffect\", \"move\");\n\n        this._rsStart(e, cells[0]);\n\n        var handler = event$1(document, env[pointer].up, function (e) {\n          eventRemove(handler);\n          return _this2._rsUp(e);\n        });\n      }\n    },\n    _rsUp: function () {\n      this._rs_started = false;\n      this._rs_process = false;\n    },\n    _rsStart: function (e, cell) {\n      var dir, cellOffset, pos$$1, posParent, start;\n      dir = this._resizer_dir;\n      /*layout position:relative to place absolutely positioned elements in it*/\n\n      this.getParentView()._viewobj.style.position = \"relative\";\n      pos$$1 = offset(this._viewobj);\n      posParent = offset(this.getParentView()._viewobj);\n      start = pos$$1[dir] - posParent[dir];\n      cellOffset = offset(cell.$view)[dir] - offset(this.getParentView().$view)[dir];\n      this._rs_progress = [dir, cell, start, cellOffset];\n      /*resizer stick (resizerea ext)*/\n\n      this._resizeStick = new ui.resizearea({\n        container: this.getParentView()._viewobj,\n        dir: dir,\n        eventPos: this._rs_process[dir],\n        start: start - 1,\n        height: this.$height,\n        width: this.$width,\n        border: 1,\n        margin: this.getParentView()._padding[dir === \"x\" ? \"left\" : \"top\"]\n      });\n      /*stops resizing on stick mouseup*/\n\n      this._resizeStick.attachEvent(\"onResizeEnd\", bind(this._rsEnd, this));\n      /*needed to stop stick moving when the limit for dimension is reached*/\n\n\n      this._resizeStick.attachEvent(\"onResize\", bind(this._rsResizeHandler, this));\n\n      addCss(document.body, \"webix_noselect\", 1);\n    },\n    _getResizeDir: function () {\n      return this.getParentView()._vertical_orientation ? \"y\" : \"x\";\n    },\n    _rsResizeHandler: function () {\n      var cells, cDiff, diff, dir, i, limits, limitSizes, sizes, totalSize;\n\n      if (this._rs_progress) {\n        cells = this._getResizerCells();\n        dir = this._rs_progress[0];\n        /*vector distance between resizer and stick*/\n\n        diff = this._resizeStick._last_result - this._rs_progress[2];\n        /*new sizes for the resized cells, taking into account the stick position*/\n\n        sizes = this._rsGetDiffCellSizes(cells, dir, diff);\n        /*sum of cells dimensions*/\n\n        totalSize = cells[0][\"$\" + this._resizer_dim] + cells[1][\"$\" + this._resizer_dim];\n\n        for (i = 0; i < 2; i++) {\n          cDiff = i ? -diff : diff;\n          /*if cDiff is positive, the size of i cell is increased*/\n\n          /*max and min limits*/\n\n          limits = cells[i].$getSize(0, 0);\n          /*if size is bigger than max limit or size is smaller than min limit*/\n\n          var min = dir == \"y\" ? limits[2] : limits[0];\n          var max = dir == \"y\" ? limits[3] : limits[1]; //if size is fixed, treat it as responsive (default behavior)\n\n          if (min === max) {\n            min = cells[i]._settings[dir == \"y\" ? \"minHeight\" : \"minWidth\"] || 3;\n            max = cells[i]._settings[dir == \"y\" ? \"maxHeight\" : \"maxWidth\"] || 100000;\n          }\n\n          if (cDiff > 0 && max && max <= sizes[i] || cDiff < 0 && min && min >= sizes[i]) {\n            this._rsLimit[i] = cDiff > 0 ? max : min;\n            /*new sizes, taking into account max and min limits*/\n\n            limitSizes = this._rsGetLimitCellSizes(cells, dir);\n            /*stick position*/\n\n            this._resizeStick._dragobj.style[dir == \"y\" ? \"top\" : \"left\"] = this._rs_progress[3] + limitSizes[0] + \"px\";\n            return;\n          } else if (sizes[i] < 3) {\n            /*cells size can not be less than 1*/\n            this._resizeStick._dragobj.style[dir == \"y\" ? \"top\" : \"left\"] = this._rs_progress[3] + i * totalSize + 1 + \"px\";\n          } else {\n            this._rsLimit[i] = null;\n          }\n        }\n      }\n    },\n    _getResizerCells: function () {\n      var cells, i, res;\n      cells = this.getParentView()._cells;\n\n      for (i = 0; i < cells.length; i++) {\n        if (cells[i] == this) {\n          res = [this._getRsCell(cells, i, 1, -1), this._getRsCell(cells, i, 1, 1)];\n          if (!res[0] || !res[1]) res = null;\n          return res;\n        }\n      }\n    },\n    _getRsCell: function (cells, i, step, dir) {\n      var cell = cells[i + dir * step];\n      if (cell && cell._settings.hidden) return this._getRsCell(cells, i, step + 1, dir);else if (cell && cell._settings.$noresize) return null;else return cell;\n    },\n    _rsEnd: function (result) {\n      if (typeof result == \"undefined\") return;\n      var cells, dir, diff, size;\n\n      var vertical = this.getParentView()._vertical_orientation;\n\n      this._resizerStick = null;\n\n      if (this._rs_progress) {\n        dir = this._rs_progress[0];\n        diff = result - this._rs_progress[2];\n        cells = this._getResizerCells();\n\n        if (cells[0] && cells[1]) {\n          /*new cell sizes*/\n          size = this._rsGetCellSizes(cells, dir, diff);\n\n          for (var i = 0; i < 2; i++) {\n            //cell has not fixed size, of fully fixed layout\n            var cell_size = cells[i].$getSize(0, 0);\n\n            if (vertical ? cell_size[2] == cell_size[3] : Math.abs(cell_size[1] - cell_size[0]) < 3) {\n              /*set fixed sizes for both cells*/\n              cells[i]._settings[this._resizer_dim] = size[i];\n              if (cells[i]._bubble_size) cells[i]._bubble_size(this._resizer_dim, size[i], vertical);\n            } else {\n              var actualSize = cells[i].$view[vertical ? \"offsetHeight\" : \"offsetWidth\"]; //cells[i][\"$\"+this._resizer_dim];\n\n              cells[i]._settings.gravity = size[i] / actualSize * cells[i]._settings.gravity;\n            }\n          }\n\n          cells[0].resize();\n\n          for (var _i = 0; _i < 2; _i++) {\n            if (cells[_i].callEvent) cells[_i].callEvent(\"onViewResize\", []);\n\n            cells[_i].$view.removeAttribute(\"aria-dropeffect\");\n          }\n\n          callEvent(\"onLayoutResize\", [cells]);\n        }\n\n        this._rs_progress = false;\n      }\n\n      this._rs_progress = false;\n      this._rs_started = false;\n      this._rsLimit = null;\n      removeCss(document.body, \"webix_noselect\");\n\n      this._viewobj.setAttribute(\"aria-grabbed\", \"false\");\n\n      this._viewobj.removeAttribute(\"aria-dropeffect\");\n    },\n    _rsGetLimitCellSizes: function (cells) {\n      var size1, size2, totalSize;\n      totalSize = cells[0][\"$\" + this._resizer_dim] + cells[1][\"$\" + this._resizer_dim];\n\n      if (this._rsLimit[0]) {\n        size1 = this._rsLimit[0];\n        size2 = totalSize - size1;\n      } else if (this._rsLimit[1]) {\n        size2 = this._rsLimit[1];\n        size1 = totalSize - size2;\n      }\n\n      return [size1, size2];\n    },\n    _rsGetDiffCellSizes: function (cells, dir, diff) {\n      var sizes = [];\n      var styleDim = this._resizer_dim == \"height\" ? \"offsetHeight\" : \"offsetWidth\";\n\n      for (var i = 0; i < 2; i++) {\n        sizes[i] = cells[i].$view[styleDim] + (i ? -1 : 1) * diff;\n      }\n\n      return sizes;\n    },\n    _rsGetCellSizes: function (cells, dir, diff) {\n      var i, sizes, totalSize;\n      /*if max or min dimentsions are set*/\n\n      if (this._rsLimit[0] || this._rsLimit[1]) {\n        sizes = this._rsGetLimitCellSizes(cells, dir);\n      } else {\n        sizes = this._rsGetDiffCellSizes(cells, dir, diff);\n\n        for (i = 0; i < 2; i++) {\n          /*if stick moving is stopped outsize cells borders*/\n          if (sizes[i] < 0) {\n            totalSize = sizes[0] + sizes[1];\n            sizes[i] = 1;\n            sizes[1 - i] = totalSize - 1;\n          }\n        }\n      }\n\n      return sizes;\n    }\n  };\n  var view$e = exports.protoUI(api$e, MouseEvents, Destruction, base$1.view);\n\n  var api$f = {\n    name: \"align\",\n    defaults: {\n      borderless: true,\n      left: 0,\n      top: 0,\n      right: 0,\n      bottom: 0\n    },\n    $init: function () {\n      this._viewobj.className += \" webix_view_align\";\n    },\n    _remove: function () {\n      this.body_setter({});\n    },\n    _replace: function (new_view) {\n      this._body_cell.destructor();\n\n      this._body_cell = new_view;\n\n      this._viewobj.appendChild(this._body_cell._viewobj);\n\n      this.resize();\n    },\n    getChildViews: function () {\n      return [this._body_cell];\n    },\n    body_setter: function (value) {\n      value._inner = {\n        top: false,\n        left: false,\n        right: false,\n        bottom: false\n      };\n      state._parent_cell = this;\n      this._body_cell = ui._view(value);\n\n      this._viewobj.appendChild(this._body_cell._viewobj);\n\n      return value;\n    },\n    align_setter: function (value) {\n      if (typeof value === \"string\") value = value.split(\",\");\n      this._x_align = this._y_align = this._p_align = \"\";\n\n      for (var i = 0; i < value.length; i++) {\n        var c = value[i];\n        if (c === \"center\" || c === \"left\" || c === \"right\") this._x_align = c;\n        if (c === \"top\" || c === \"bottom\" || c === \"middle\") this._y_align = c;\n        if (c === \"absolute\") this._x_align = this._y_align = this._p_align = \"precise\";\n      }\n\n      return value;\n    },\n    getBody: function () {\n      return this._body_cell;\n    },\n    $setSize: function (x, y) {\n      base$1.api.$setSize.call(this, x, y);\n      var dx, dy;\n\n      if (this._p_align) {\n        dx = x - this._settings.left - this._settings.right;\n        dy = y - this._settings.top - this._settings.bottom;\n      } else {\n        dx = this._desired_size[0] || x;\n        dy = this._desired_size[2] || y;\n      }\n\n      this._body_cell.$setSize(dx, dy);\n\n      var box = this._body_cell._viewobj;\n      if (this._x_align == \"center\") box.style.marginLeft = Math.ceil((x - dx) / 2) + \"px\";else if (this._x_align == \"right\") box.style.marginLeft = x - dx + \"px\";else box.style.marginLeft = (this._p_align ? this._settings.left : 0) + \"px\";\n      if (this._y_align == \"middle\") box.style.marginTop = Math.ceil((y - dy) / 2) + \"px\";else if (this._y_align == \"bottom\") box.style.marginTop = y - dy + \"px\";else box.style.marginTop = (this._p_align ? this._settings.top : 0) + \"px\";\n    },\n    $getSize: function (dx, dy) {\n      var size = this._desired_size = this._body_cell.$getSize(0, 0);\n\n      var self_size = base.api.$getSize.call(this, 0, 0);\n\n      if (this._p_align) {\n        dx += this._settings.left + this._settings.right;\n        dy += this._settings.top + this._settings.bottom;\n      }\n\n      if (!this._x_align || this._p_align) {\n        self_size[0] = size[0] + dx;\n        self_size[1] = size[1] + dx;\n      } else {\n        self_size[0] = (self_size[0] || size[0]) + dy;\n        self_size[1] += dx;\n      }\n\n      if (!this._y_align || this._p_align) {\n        self_size[2] = size[2] + dy;\n        self_size[3] = size[3] + dy;\n      } else {\n        self_size[2] = (self_size[2] || size[2]) + dy;\n        self_size[3] += dy;\n      }\n\n      return self_size;\n    }\n  };\n  var view$f = exports.protoUI(api$f, base$1.view);\n\n  var api$g = {\n    name: \"multiview\",\n    defaults: {\n      animate: {}\n    },\n    setValue: function (val) {\n      $$(val).show();\n    },\n    getValue: function () {\n      return this.getActiveId();\n    },\n    $init: function () {\n      this._active_cell = 0;\n      this._vertical_orientation = 1;\n      this._viewobj.style.position = \"relative\";\n      this._viewobj.className += \" webix_multiview\";\n      this._back_queue = [];\n    },\n    _ask_render: function (cell_id, view_id) {\n      var cell = $$(cell_id);\n\n      if (!cell._render_hash) {\n        cell._render_queue = [];\n        cell._render_hash = {};\n      }\n\n      if (!cell._render_hash[view_id]) {\n        cell._render_hash[view_id] = true;\n\n        cell._render_queue.push(view_id);\n      }\n    },\n    _render_activation: function (cell_id) {\n      var cell = $$(cell_id);\n      if (this._settings.keepViews) cell._viewobj.style.display = \"\";\n      /*back array*/\n\n      if (this._back_queue[this._back_queue.length - 2] != cell_id) {\n        if (this._back_queue.length == 10) this._back_queue.splice(0, 1);\n\n        this._back_queue.push(cell_id);\n      } else this._back_queue.splice(this._back_queue.length - 1, 1);\n\n      if (cell._render_hash) {\n        for (var i = 0; i < cell._render_queue.length; i++) {\n          var subcell = $$(cell._render_queue[i]); //cell can be already destroyed\n\n          if (subcell) subcell.render();\n        }\n\n        cell._render_queue = [];\n        cell._render_hash = {};\n      }\n    },\n    addView: function (view, index$$1) {\n      var inc = !isUndefined(index$$1) && index$$1 <= this._active_cell ? 1 : 0;\n      var id = baselayout.api.addView.apply(this, arguments);\n\n      if (this._cells.length > 1) {\n        if (this._settings.keepViews) $$(id)._viewobj.style.display = \"none\";else remove($$(id)._viewobj);\n        this._active_cell += inc;\n      }\n\n      return id;\n    },\n    _replace: function (view) {\n      if (!view._settings.borderless) {\n        var settings = clone(this._settings._inner);\n        view._settings._inner = settings;\n        var style = view._viewobj.style;\n        style.borderTopWidth = style.borderBottomWidth = style.borderLeftWidth = style.borderRightWidth = \"1px\";\n\n        this._fix_container_borders(style, settings);\n      }\n\n      baselayout.api._replace.apply(this, arguments);\n    },\n    _beforeRemoveView: function (index$$1) {\n      //removing current view\n      if (index$$1 == this._active_cell) {\n        var next = index$$1 ? index$$1 - 1 : 1;\n\n        if (this._cells[next]) {\n          this._animation_promise = null;\n\n          this._show(this._cells[next], false);\n        }\n      }\n\n      if (index$$1 < this._active_cell) this._active_cell--;\n    },\n    //necessary, as we want to ignore hide calls for elements in multiview\n    _hide: function () {},\n    _parse_cells: function (collection) {\n      collection = collection || this._collection;\n\n      for (var i = 0; i < collection.length; i++) {\n        collection[i]._inner = this._settings.borderless ? {\n          top: 1,\n          left: 1,\n          right: 1,\n          bottom: 1\n        } : this._settings._inner || {};\n      }\n\n      baselayout.api._parse_cells.call(this, collection);\n\n      for (var _i = 1; _i < this._cells.length; _i++) {\n        if (this._settings.keepViews) this._cells[_i]._viewobj.style.display = \"none\";else remove(this._cells[_i]._viewobj);\n      }\n\n      for (var _i2 = 0; _i2 < collection.length; _i2++) {\n        var cell = this._cells[_i2];\n        if (cell._cells && !cell._render_borders) continue;\n\n        this._fix_container_borders(cell._viewobj.style, cell._settings._inner);\n\n        cell._viewobj.setAttribute(\"role\", \"tabpanel\");\n      }\n\n      this._render_activation(this.getActiveId());\n    },\n    cells_setter: function (value) {\n      assert(value && value.length, \"Multiview must have at least one view in 'cells'\");\n      this._collection = value;\n    },\n    _getDirection: function (next, active) {\n      var dir = (this._settings.animate || {}).direction;\n      var vx = dir == \"top\" || dir == \"bottom\";\n      return next < active ? vx ? \"bottom\" : \"right\" : vx ? \"top\" : \"left\";\n    },\n    _show: function (obj, animation_options) {\n      var _this = this,\n          _arguments = arguments;\n\n      var parent = this.getParentView();\n\n      if (parent && parent.getTabbar) {\n        var tabBar = parent.getTabbar();\n        tabBar.blockEvent();\n        tabBar.setValue(obj._settings.$id || obj._settings.id);\n        tabBar.unblockEvent();\n      }\n\n      if (this._animation_promise) return this._animation_promise.then(function () {\n        return _this._show.apply(_this, _arguments);\n      });\n\n      var _next_cell = -1;\n\n      for (var i = 0; i < this._cells.length; i++) {\n        if (this._cells[i] == obj) {\n          _next_cell = i;\n          break;\n        }\n      }\n\n      if (_next_cell < 0 || _next_cell == this._active_cell) return;\n      var prev = this._cells[this._active_cell];\n      var next = this._cells[_next_cell];\n      prev.$getSize(0, 0); //need to be moved in animate\n\n      if ((animation_options || isUndefined(animation_options)) && this._settings.animate) {\n        var aniset = exports.extend({}, this._settings.animate);\n        if (this._settings.keepViews) aniset.keepViews = true;\n        aniset.direction = this._getDirection(_next_cell, this._active_cell);\n        aniset = Settings._mergeSettings(animation_options || {}, aniset);\n        var line = animate.formLine(next._viewobj, prev._viewobj, aniset);\n        next.$getSize(0, 0);\n        next.$setSize(this._content_width, this._content_height);\n        var callback_original = aniset.callback;\n\n        aniset.callback = function () {\n          animate.breakLine(line, this._settings.keepViews);\n          this._animation_promise = null;\n          aniset.wait_animation.resolve();\n          if (callback_original) callback_original.call(this);\n          callback_original = aniset.master = aniset.callback = null;\n          this.resize();\n        };\n\n        aniset.master = this;\n        this._active_cell = _next_cell;\n\n        this._render_activation(this.getActiveId());\n\n        animate(line, aniset);\n        this._animation_promise = aniset.wait_animation = Deferred.defer();\n      } else {\n        // animate:false in config\n        if (this._settings.keepViews) {\n          prev._viewobj.style.display = \"none\";\n        } else {\n          remove(prev._viewobj);\n\n          this._viewobj.appendChild(this._cells[i]._viewobj);\n        }\n\n        this._active_cell = _next_cell;\n        this.resizeChildren();\n\n        this._render_activation(this.getActiveId());\n      }\n\n      if (next.callEvent) {\n        next.callEvent(\"onViewShow\", []);\n\n        _each(next, this._signal_hidden_cells);\n      }\n\n      this.callEvent(\"onViewChange\", [prev._settings.id, next._settings.id]);\n    },\n    $getSize: function (dx, dy) {\n      if (!this._cells.length) return base.api.$getSize.call(this, 0, 0);\n      debug_size_box_start(this, true);\n\n      var size = this._cells[this._active_cell].$getSize(0, 0);\n\n      if (this._settings.fitBiggest) {\n        for (var i = 0; i < this._cells.length; i++) {\n          if (i != this._active_cell) {\n            var other = this._cells[i].$getSize(0, 0);\n\n            for (var j = 0; j < 4; j++) {\n              size[j] = Math.max(size[j], other[j]);\n            }\n          }\n        }\n      } //get layout sizes\n\n\n      var self_size = base.api.$getSize.call(this, 0, 0); //use child settings if layout's one was not defined\n\n      if (self_size[1] >= 100000) self_size[1] = 0;\n      if (self_size[3] >= 100000) self_size[3] = 0;\n      self_size[0] = (self_size[0] || size[0]) + dx;\n      self_size[1] = (self_size[1] || size[1]) + dx;\n      self_size[2] = (self_size[2] || size[2]) + dy;\n      self_size[3] = (self_size[3] || size[3]) + dy;\n      debug_size_box_end(this, self_size);\n      return self_size;\n    },\n    $setSize: function (x, y) {\n      if (!this._cells.length) return;\n      this._layout_sizes = [x, y];\n      base.api.$setSize.call(this, x, y);\n\n      this._cells[this._active_cell].$setSize(x, y);\n    },\n    isVisible: function (base_id, cell_id) {\n      if (cell_id && cell_id != this.getActiveId()) {\n        if (base_id) this._ask_render(cell_id, base_id);\n        return false;\n      }\n\n      return base$1.api.isVisible.call(this, base_id, this._settings.id);\n    },\n    getActiveId: function () {\n      return this._cells.length ? this._cells[this._active_cell]._settings.id : null;\n    },\n    back: function (step) {\n      step = step || 1;\n\n      if (this.callEvent(\"onBeforeBack\", [this.getActiveId(), step])) {\n        if (this._back_queue.length > step) {\n          var viewId = this._back_queue[this._back_queue.length - step - 1];\n          $$(viewId).show();\n          return viewId;\n        }\n\n        return null;\n      }\n\n      return null;\n    },\n    _insertBeforeView: function (view, before) {\n      if (this._settings.keepViews || !before || before == this._cells[this._active_cell]) baselayout.api._insertBeforeView.call(this, view, before);\n    }\n  };\n  var view$g = exports.protoUI(api$g, baselayout.view);\n\n  var api$h = {\n    name: \"tabview\",\n    setValue: function (val, config) {\n      this._cells[0].setValue(val, config);\n    },\n    getValue: function () {\n      return this._cells[0].getValue();\n    },\n    getTabbar: function () {\n      return this._cells[0];\n    },\n    getMultiview: function () {\n      return this._cells[1];\n    },\n    addView: function (obj) {\n      var nid = this.getMultiview().addView(obj.body);\n      obj.id = nid;\n      obj.value = obj.header;\n      delete obj.body;\n      delete obj.header;\n      var t = this.getTabbar();\n      t.addOption(obj);\n      return nid;\n    },\n    removeView: function (id) {\n      var t = this.getTabbar();\n      t.removeOption(id);\n      t.refresh();\n    },\n    $init: function (config) {\n      this.$ready.push(this._init_tabview_handlers);\n      var cells = config.cells;\n      var tabs = [];\n      assert(cells && cells.length, \"tabview must have cells collection\");\n\n      for (var i = cells.length - 1; i >= 0; i--) {\n        var view = cells[i].body || cells[i];\n        if (!view.id) view.id = \"view\" + uid();\n        tabs[i] = {\n          value: cells[i].header,\n          id: view.id,\n          close: cells[i].close,\n          width: cells[i].width,\n          hidden: !!cells[i].hidden\n        };\n        cells[i] = view;\n      }\n\n      var tabbar = {\n        view: \"tabbar\",\n        multiview: true\n      };\n      var mview = {\n        view: \"multiview\",\n        cells: cells,\n        animate: !!config.animate\n      };\n      if (config.value) tabbar.value = config.value;\n      if (config.tabbar) exports.extend(tabbar, config.tabbar, true);\n      if (config.multiview) exports.extend(mview, config.multiview, true);\n      tabbar.options = tabbar.options || tabs;\n      config.rows = [tabbar, mview];\n      delete config.cells;\n      delete config.tabs;\n    },\n    _init_tabview_handlers: function () {\n      this.getTabbar().attachEvent(\"onOptionRemove\", function (id) {\n        var view = $$(id);\n\n        if (view) {\n          var parent = view.getParentView();\n          if (parent) parent.removeView(view);\n        }\n      });\n    }\n  };\n  var view$h = exports.protoUI(api$h, layout.view);\n\n  var api$i = {\n    name: \"carousel\",\n    defaults: {\n      scrollSpeed: \"300ms\",\n      type: \"clean\",\n      navigation: {},\n      animate: true\n    },\n    $init: function () {\n      this._viewobj.className += \" webix_carousel\";\n      this._layout = null;\n      this._dataobj = null;\n      this._active_cell = 0;\n      this.$ready.unshift(this._initLayout);\n      this.$ready.push(this._after_init_call);\n    },\n    addView: function (view, index) {\n      var t = this._layout.addView(view, index);\n\n      this._fix_after_view_add();\n\n      return t;\n    },\n    removeView: function (id) {\n      this._layout.removeView(id);\n\n      this._fix_after_view_add();\n    },\n    _replace: function (new_view, target_id) {\n      this._layout._replace(new_view, target_id);\n\n      this._fix_after_view_add();\n    },\n    _fix_after_view_add: function () {\n      this._cells = this._layout._cells;\n\n      this._renderPanel();\n\n      this.setActiveIndex(Math.min(this._active_cell, this._cells.length - 1));\n    },\n    _initLayout: function () {\n      var _this = this;\n\n      if (this._layout && this._layout.destructor) this._layout.destructor();\n      var layout = \"\";\n\n      if (this.config.cols) {\n        layout = \"cols\";\n        this._vertical_orientation = 0;\n      } else {\n        layout = \"rows\";\n        this._vertical_orientation = 1;\n      }\n\n      var config = {\n        borderless: true,\n        type: \"clean\"\n      };\n      config[layout] = copy(this._settings[layout]);\n      var layoutProp = [\"type\", \"margin\", \"marginX\", \"marginY\", \"padding\", \"paddingX\", \"paddingY\"];\n      var layoutConfig = {};\n\n      for (var i = 0; i < layoutProp.length; i++) {\n        if (this._settings[layoutProp[i]]) {\n          layoutConfig[layoutProp[i]] = this._settings[layoutProp[i]];\n        }\n      }\n\n      exports.extend(config, layoutConfig, true);\n      state._parent_cell = this;\n      this._layout = ui._view(config);\n\n      this._viewobj.appendChild(this._layout._viewobj);\n\n      this._cells = this._layout._cells;\n      this._layout._show = bind(api$i._show, this);\n      this._layout.adjustScroll = bind(api$i.adjustScroll, this);\n      var e1 = attachEvent(\"onReconstruct\", function (view) {\n        if (view == _this._layout) _this._setScroll();\n      });\n      this.attachEvent(\"onDestruct\", function () {\n        detachEvent(e1);\n      });\n      this._contentobj = this._viewobj.firstChild;\n    },\n    _onKeyPress: function (code, e) {\n      if (this._settings.navigation.items && e.target.getAttribute(\"role\") === \"tab\") this._moveActive(code, e);\n\n      base.api._onKeyPress.call(this, code, e);\n    },\n    getChildViews: function () {\n      return [this._layout];\n    },\n    getLayout: function () {\n      return this._layout;\n    },\n    _after_init_call: function () {\n      this._contentobj.setAttribute(\"touch_scroll\", this._vertical_orientation ? \"y\" : \"x\");\n\n      this._layout.attachEvent(\"onAfterScroll\", bind(function () {\n        this.callEvent(\"onShow\", [this.getActiveId()]);\n      }, this));\n\n      _each(this._layout, function (view) {\n        view._viewobj.setAttribute(\"role\", \"tabpanel\");\n      });\n    },\n    adjustScroll: function (matrix) {\n      var size = this._vertical_orientation ? this._content_height : this._content_width;\n      var correction;\n\n      if (this._vertical_orientation) {\n        correction = Math.round(matrix.f / size);\n        matrix.f = correction * size;\n      } else {\n        correction = Math.round(matrix.e / size);\n        matrix.e = correction * size;\n      }\n\n      this._active_cell = -correction;\n      if (this._settings.navigation) this._renderNavItems();\n      return true;\n    },\n    _show: function (obj) {\n      var i, layout, _nextCell, _size, x, y;\n\n      _nextCell = -1;\n      layout = this._layout;\n\n      for (i = 0; i < layout._cells.length; i++) {\n        if (layout._cells[i] == obj) {\n          _nextCell = i;\n          break;\n        }\n      }\n\n      if (_nextCell < 0 || _nextCell == this._active_cell) return;\n      this._active_cell = _nextCell;\n      _size = layout._vertical_orientation ? this._content_height : this._content_width;\n      x = -(layout._vertical_orientation ? 0 : _nextCell * _size);\n      y = -(layout._vertical_orientation ? _nextCell * _size : 0);\n      this.scrollTo(x, y);\n      this.callEvent(\"onShow\", [layout._cells[this._active_cell]._settings.id]);\n      if (this._settings.navigation) this._renderPanel();\n    },\n    scrollTo: function (x, y) {\n      if (Touch && this._settings.animate) Touch._set_matrix(this._contentobj, x, y, this._settings.scrollSpeed || \"100ms\");else {\n        this._contentobj.style.marginLeft = x + \"px\";\n        this._contentobj.style.marginTop = y + \"px\";\n      }\n    },\n    navigation_setter: function (config) {\n      this._mergeSettings(config, {\n        type: \"corner\",\n        buttons: true,\n        items: true\n      });\n\n      return config;\n    },\n    showNext: function () {\n      if (this._active_cell < this._layout._cells.length - 1) this.setActiveIndex(this._active_cell + 1);\n    },\n    showPrev: function () {\n      if (this._active_cell > 0) this.setActiveIndex(this._active_cell - 1);\n    },\n    setActiveIndex: function (value) {\n      assert(value < this._layout._cells.length, \"Not existing index in collection\");\n      var id = this._layout._cells[value]._settings.id;\n      $$(id).show();\n    },\n    getActiveIndex: function () {\n      return this._active_cell;\n    },\n    $getSize: function (dx, dy) {\n      var layoutSizes = this._layout.$getSize(0, 0);\n\n      var selfSizes = base$1.api.$getSize.call(this, dx, dy);\n\n      if (this._layout._vertical_orientation) {\n        selfSizes[0] = Math.max(selfSizes[0], layoutSizes[0]);\n        selfSizes[1] = Math.min(selfSizes[1], layoutSizes[1]);\n      } else {\n        selfSizes[2] = Math.max(selfSizes[2], layoutSizes[2]);\n        selfSizes[3] = Math.min(selfSizes[3], layoutSizes[3]);\n      }\n\n      return selfSizes;\n    },\n    $setSize: function (x, y) {\n      var layout = this._layout;\n      var c = layout._cells.length;\n      var changed = base$1.api.$setSize.call(this, x, y);\n      var yc = this._content_height * (layout._vertical_orientation ? c : 1);\n      var xc = this._content_width * (layout._vertical_orientation ? 1 : c);\n\n      if (changed) {\n        this._contentobj.style.height = yc + \"px\";\n        this._contentobj.style.width = xc + \"px\";\n        layout.$setSize(xc, yc);\n\n        this._setScroll();\n      } else layout.$setSize(xc, yc);\n    },\n    _setScroll: function () {\n      var layout = this._layout;\n      var activeCell = this._active_cell || 0;\n      var size = layout._vertical_orientation ? this._content_height : this._content_width;\n      var x = -(layout._vertical_orientation ? 0 : activeCell * size);\n      var y = -(layout._vertical_orientation ? activeCell * size : 0);\n      this.scrollTo(x, y);\n      if (this._settings.navigation) this._renderPanel();\n    },\n    getActiveId: function () {\n      var cell = this._layout._cells[this._active_cell];\n      return cell ? cell._settings.id : null;\n    },\n    setActive: function (value) {\n      $$(value).show();\n    }\n  };\n  var view$i = exports.protoUI(api$i, EventSystem, NavigationButtons, base$1.view);\n\n  var api$j = {\n    name: \"proxy\",\n    body_setter: function (value) {\n      state._parent_cell = this;\n      this._body_cell = ui._view(value);\n\n      this._viewobj.appendChild(this._body_cell._viewobj);\n\n      return value;\n    },\n    getChildViews: function () {\n      return [this._body_cell];\n    },\n    $setSize: function (x, y) {\n      base$1.api.$setSize.call(this, x, y);\n\n      this._body_cell.$setSize(this.$width, this.$height);\n    },\n    $getSize: function (dx, dy) {\n      var selfSize = base$1.api.$getSize.call(this, dx, dy);\n\n      var size = this._body_cell.$getSize(dx, dy);\n\n      size[0] = Math.max(selfSize[0], size[0]);\n      size[1] = Math.min(selfSize[1], size[1]);\n      size[2] = Math.max(selfSize[2], size[2]);\n      size[3] = Math.min(selfSize[3], size[3]);\n      size[4] = Math.max(selfSize[4], size[4]);\n      return size;\n    },\n    _replace: function (n) {\n      this._body_cell.destructor();\n\n      this._body_cell = n;\n\n      this._viewobj.appendChild(n._viewobj);\n\n      this.resize();\n    }\n  };\n  var view$j = exports.protoUI(api$j, base$1.view);\n\n  exports.protoUI({\n    name: \"portlet\",\n    defaults: {\n      template: \"GPL version doesn't support portlet <br> You need Webix PRO\"\n    }\n  }, template$1.view);\n\n  exports.protoUI({\n    name: \"dashboard\",\n    defaults: {\n      template: \"GPL version doesn't support dashboard <br> You need Webix PRO\"\n    }\n  }, template$1.view);\n\n  exports.protoUI({\n    name: \"panel\",\n    defaults: {\n      template: \"GPL version doesn't support panel <br> You need Webix PRO\"\n    }\n  }, template$1.view);\n\n  exports.protoUI({\n    name: \"abslayout\",\n    defaults: {\n      template: \"GPL version doesn't support abslayout <br> You need Webix PRO\"\n    }\n  }, template$1.view);\n\n  exports.protoUI({\n    name: \"gridlayout\",\n    defaults: {\n      template: \"GPL version doesn't support gridlayout <br> You need Webix PRO\"\n    }\n  }, template$1.view);\n\n  var api$k = {\n    $init: function () {\n      exports.extend(this, FlexLayout, true);\n    },\n    name: \"flexlayout\"\n  };\n  var view$k = exports.protoUI(api$k, layout.view);\n\n  exports.protoUI({\n    name: \"flexdatalayout\",\n    defaults: {\n      template: \"GPL version doesn't support flexdatalayout <br> You need Webix PRO\"\n    }\n  }, template$1.view);\n\n  var api$l = {\n    name: \"popup\",\n    $init: function () {\n      var _this = this;\n\n      this._settings.head = false;\n      this.$view.className += \" webix_popup\";\n      var clickHandler = attachEvent(\"onClick\", function (e) {\n        return _this._hide(e);\n      });\n      this.attachEvent(\"onDestruct\", function () {\n        detachEvent(clickHandler);\n      });\n      this.attachEvent(\"onHide\", this._hide_point);\n    },\n    $skin: function () {\n      window$1.api.$skin.call(this);\n      this.defaults.padding = $active.popupPadding;\n      this.defaults.point = !$active.popupNoPoint;\n      this.defaults.borderless = $active.borderlessPopup;\n    },\n    close: function () {\n      remove(this._point_element);\n      window$1.api.close.call(this);\n    },\n    $getSize: function (x, y) {\n      return window$1.api.$getSize.call(this, x + this._settings.padding * 2, y + this._settings.padding * 2);\n    },\n    $setSize: function (x, y) {\n      base$1.api.$setSize.call(this, x, y);\n      x = this._content_width - this._settings.padding * 2;\n      y = this._content_height - this._settings.padding * 2;\n      this._contentobj.style.padding = this._settings.padding + \"px\";\n      this._headobj.style.display = \"none\";\n\n      this._body_cell.$setSize(x, y);\n    },\n    //redefine to preserve inner borders\n    //_inner_body_set:function(){}, //same as win?\n    _inner_body_set: function (value) {\n      if (typeof value.borderless == \"undefined\") value.borderless = false;\n    },\n    head_setter: function () {},\n    _set_point: function (mode, left, top, fixed) {\n      this._hide_point();\n\n      document.body.appendChild(this._point_element = create(\"DIV\", {\n        \"class\": \"webix_point_\" + mode\n      }, \"\"));\n      this._point_element.style.zIndex = this._viewobj.style.zIndex;\n      this._point_element.style.position = fixed ? \"fixed\" : \"absolute\";\n      this._point_element.style.top = top + \"px\";\n      this._point_element.style.left = left + \"px\";\n    },\n    _hide_point: function () {\n      this._point_element = remove(this._point_element);\n    }\n  };\n  var view$l = exports.protoUI(api$l, window$1.view);\n  var popup = {\n    api: api$l,\n    view: view$l\n  };\n\n  var api$m = {\n    name: \"toolbar\",\n    defaults: {\n      type: \"toolbar\"\n    },\n    _render_borders: true,\n    _form_classname: \"webix_toolbar\",\n    _form_vertical: false,\n    $init: function (config) {\n      if (!config.borderless) {\n        this._contentobj.style.borderWidth = \"1px\";\n        this._settings._inner = {\n          top: false,\n          left: false,\n          right: false,\n          bottom: false\n        };\n      }\n\n      this._contentobj.className += \" \" + this._form_classname;\n\n      this._viewobj.setAttribute(\"role\", \"toolbar\");\n    },\n    _recollect_elements: function () {\n      var form = this;\n      form.elements = {};\n\n      _each(this, function (view) {\n        if (view._settings.name && view.getValue && view.setValue) {\n          form.elements[view._settings.name] = view;\n          if (view.mapEvent) view.mapEvent({\n            onbeforetabclick: form,\n            onaftertabclick: form,\n            onitemclick: form,\n            onchange: form\n          });\n        }\n\n        if (view.setValues || view._fill_data) return false;\n      });\n\n      var old = this._values;\n      this.setDirty(false);\n\n      if (old) {\n        //restore dirty state after form reconstructing\n        var now = this._values;\n\n        for (var key in form.elements) {\n          if (old[key] && now[key] != old[key]) {\n            now[key] = old[key];\n            this.setDirty(true);\n          }\n        }\n      }\n    },\n    _parse_cells_ext_end: function () {\n      this._recollect_elements();\n    },\n    _parse_cells_ext: function (collection) {\n      var config = this._settings;\n\n      if (config.elements && !collection) {\n        this._collection = collection = config.elements;\n        this._vertical_orientation = this._form_vertical;\n        delete config.elements;\n      }\n\n      if (this._settings.elementsConfig) this._rec_apply_settings(this._collection, config.elementsConfig);\n      return collection;\n    },\n    _rec_apply_settings: function (col, settings) {\n      for (var i = 0; i < col.length; i++) {\n        var element = col[i];\n        exports.extend(element, settings);\n        var nextsettings = settings;\n        if (element.elementsConfig) nextsettings = exports.extend(exports.extend({}, element.elementsConfig), settings);\n        var sub;\n        if (element.body) sub = [element.body];else sub = element.rows || element.cols || element.cells || element.body;\n        if (sub) this._rec_apply_settings(sub, nextsettings);\n      }\n    },\n    $getSize: function (dx, dy) {\n      var sizes = layout.api.$getSize.call(this, dx, dy);\n      var parent = this.getParentView();\n      var index = this._vertical_orientation ? 3 : 1;\n      if (parent && this._vertical_orientation != parent._vertical_orientation) sizes[index] += 100000;\n      debug_size_box(this, sizes, true);\n      return sizes;\n    },\n    render: function () {},\n    refresh: function () {\n      this.render();\n    }\n  };\n  var view$m = exports.protoUI(api$m, Scrollable, AtomDataLoader, Values, layout.view, ValidateData);\n  var toolbar = {\n    api: api$m,\n    view: view$m\n  };\n\n  var api$n = {\n    name: \"form\",\n    defaults: {\n      type: \"form\",\n      autoheight: true\n    },\n    _default_height: -1,\n    _form_classname: \"webix_form\",\n    _form_vertical: true,\n    $init: function () {\n      this._viewobj.setAttribute(\"role\", \"form\");\n    },\n    $getSize: function (dx, dy) {\n      if (this._scroll_y && !this._settings.width) dx += env.scrollSize;\n      var sizes = layout.api.$getSize.call(this, dx, dy);\n\n      if (this._settings.scroll || !this._settings.autoheight) {\n        sizes[2] = this._settings.height || this._settings.minHeight || 0;\n        sizes[3] = this._settings.height || 100000;\n      }\n\n      return sizes;\n    }\n  };\n  var view$n = exports.protoUI(api$n, toolbar.view);\n\n  var api$o = {\n    name: \"fieldset\",\n    defaults: {\n      borderless: true,\n      $cssName: \"webix_fieldset\",\n      paddingX: 18,\n      paddingY: 30\n    },\n    $init: function (obj) {\n      obj.body = obj.body || {};\n      var css = this.defaults.$cssName;\n      this._viewobj.className += \" \" + css;\n      this._viewobj.innerHTML = \"<fieldset><legend class='\" + css + \"_label\" + (obj.required ? \" webix_required\" : \"\") + \"'></legend><div class='\" + css + \"_body'></div></fieldset>\";\n    },\n    label_setter: function (value) {\n      this._viewobj.firstChild.childNodes[0].innerHTML = value;\n      return value;\n    },\n    getChildViews: function () {\n      return [this._body_view];\n    },\n    body_setter: function (config) {\n      state._parent_cell = this;\n      this._body_view = ui(config, this._viewobj.firstChild.childNodes[1]);\n      return config;\n    },\n    getBody: function () {\n      return this._body_view;\n    },\n    resizeChildren: function () {\n      if (!this._body_view) return;\n      var x = this.$width - this._settings.paddingX;\n      var y = this.$height - this._settings.paddingY;\n\n      var sizes = this._body_view.$getSize(0, 0); //minWidth\n\n\n      if (sizes[0] > x) x = sizes[0]; //minHeight\n\n      if (sizes[2] > y) y = sizes[2];\n\n      this._body_view.$setSize(x, y);\n\n      this.resize();\n    },\n    $getSize: function (x, y) {\n      debug_size_box_start(this, true);\n      x += this._settings.paddingX;\n      y += this._settings.paddingY;\n\n      var t = this._body_view.$getSize(x, y);\n\n      var s = this._last_body_size = base$1.api.$getSize.call(this, x, y); //inner content minWidth > outer\n\n      if (s[0] < t[0]) s[0] = t[0];\n      if (s[2] < t[2]) s[2] = t[2]; //inner content maxWidth < outer\n\n      if (s[1] > t[1]) s[1] = t[1];\n      if (s[3] > t[3]) s[3] = t[3]; //make max size not less than min size\n\n      if (s[1] < s[0]) s[1] = s[0];\n      if (s[3] < s[2]) s[3] = s[2];\n      debug_size_box_end(this, s);\n      return s;\n    },\n    $setSize: function (x, y) {\n      if (base$1.api.$setSize.call(this, x, y)) {\n        x = Math.min(this._last_body_size[1], x);\n        y = Math.min(this._last_body_size[3], y);\n\n        this._body_view.$setSize(x - this._settings.paddingX, y - this._settings.paddingY);\n      }\n    }\n  };\n  var view$o = exports.protoUI(api$o, base$1.view);\n  var fieldset = {\n    api: api$o,\n    view: view$o\n  };\n\n  var api$p = {\n    name: \"forminput\",\n    defaults: {\n      $cssName: \"webix_forminput\",\n      labelWidth: 80,\n      labelAlign: \"left\",\n      // remove fieldset sizing\n      paddingY: 0,\n      paddingX: 0\n    },\n    setValue: function (value, config) {\n      if (this._body_view.setValue) this._body_view.setValue(value, config);else if (this._body_view.setValues) this._body_view.setValues(value, false, config);\n    },\n    focus: function () {\n      if (this._body_view.focus) {\n        return this._body_view.focus();\n      }\n\n      return false;\n    },\n    getValue: function () {\n      if (this._body_view.getValue) return this._body_view.getValue();else if (this._body_view.getValues) return this._body_view.getValues();\n    },\n    getBody: function () {\n      return this._body_view;\n    },\n    $skin: function () {\n      this._inputPadding = $active.inputPadding;\n      this._inputSpacing = $active.inputSpacing;\n      this._labelTopHeight = $active.labelTopHeight;\n    },\n    $init: function () {\n      this.$ready.push(function () {\n        var label = this._viewobj.firstChild.childNodes[0];\n        var body = this._viewobj.firstChild.childNodes[1];\n        var config = this._settings;\n\n        if (config.labelPosition != \"top\") {\n          config.labelWidth = config.label ? this._getLabelWidth(config.labelWidth, config.label) : 0;\n          config.paddingX = config.labelWidth + this._inputSpacing;\n        } else {\n          config.paddingY = this._labelTopHeight;\n          config.paddingX = this._inputSpacing;\n        }\n\n        if (!config.label || !config.labelWidth && config.labelPosition != \"top\") {\n          label.style.display = \"none\";\n          body.style.padding = \"0 \" + this._inputSpacing / 2 + \"px\";\n          config.paddingX = this._inputSpacing;\n          config.paddingY = 0;\n          return;\n        }\n\n        if (config.labelPosition == \"top\") {\n          label.style.lineHeight = this._labelTopHeight - this._inputPadding + \"px\";\n          label.className += \" \" + this.defaults.$cssName + \"_label_top\";\n          body.style.padding = \"0 \" + this._inputSpacing / 2 + \"px\";\n        } else label.style.width = config.paddingX - this._inputSpacing / 2 + \"px\";\n\n        label.style.textAlign = config.labelAlign;\n        if (config.value) this.setValue(config.value, \"auto\");\n      });\n    },\n    _getLabelWidth: function (width, label) {\n      if (width == \"auto\") width = getTextSize(label, \"webix_inp_label\").width;\n      return width ? Math.max(width, $active.dataPadding) : 0;\n    },\n    setBottomText: function (text) {\n      var config = this._settings;\n\n      if (typeof text != \"undefined\") {\n        if (config.bottomLabel == text) return;\n        config.bottomLabel = text;\n      }\n\n      var message = (config.invalid ? config.invalidMessage : \"\") || config.bottomLabel;\n\n      if (this._invalidMessage) {\n        remove(this._invalidMessage);\n      }\n\n      if (message) {\n        this.$view.style.position = \"relative\";\n        this._invalidMessage = create(\"div\", {\n          \"class\": \"webix_inp_bottom_label\",\n          role: config.invalid ? \"alert\" : \"\",\n          \"aria-relevant\": \"all\",\n          style: \"position:absolute; bottom:0px; padding:2px 0; background:\" + $active.backColor + \"; left:\" + (this._inputSpacing / 2 + (config.label ? config.labelWidth : 0)) + \"px; \"\n        }, message);\n\n        this._viewobj.appendChild(this._invalidMessage);\n      }\n    }\n  };\n  var view$p = exports.protoUI(api$p, fieldset.view);\n\n  function _tagname(el) {\n    if (!el.tagName) return null;\n    return el.tagName.toLowerCase();\n  }\n\n  function _attribute(el, name) {\n    if (!el.getAttribute) return null;\n    var attr = el.getAttribute(name);\n    return attr ? attr.toLowerCase() : null;\n  }\n\n  function _get_html_value() {\n    var tagname = _tagname(this);\n\n    if (_get_value[tagname]) return _get_value[tagname](this);\n    return _get_value.other(this);\n  }\n\n  var _get_value = {\n    radio: function (el) {\n      for (var i = 0; i < el.length; i++) {\n        if (el[i].checked) return el[i].value;\n      }\n\n      return \"\";\n    },\n    input: function (el) {\n      var type = _attribute(el, \"type\");\n\n      if (type === \"checkbox\") return el.checked;\n      return el.value;\n    },\n    textarea: function (el) {\n      return el.value;\n    },\n    select: function (el) {\n      var index$$1 = el.selectedIndex;\n      return el.options[index$$1].value;\n    },\n    other: function (el) {\n      return el.innerHTML;\n    }\n  };\n\n  function _set_html_value(value) {\n    var tagname = _tagname(this);\n\n    if (_set_value[tagname]) return _set_value[tagname](this, value);\n    return _set_value.other(this, value);\n  }\n\n  var _set_value = {\n    radio: function (el, value) {\n      for (var i = 0; i < el.length; i++) {\n        el[i].checked = el[i].value == value;\n      }\n    },\n    input: function (el, value) {\n      var type = _attribute(el, \"type\");\n\n      if (type === \"checkbox\") el.checked = value ? true : false;else el.value = value;\n    },\n    textarea: function (el, value) {\n      el.value = value;\n    },\n    select: function (el, value) {\n      el.value = value; //incorrect option applied, select first option\n\n      if (el.selectedIndex === -1) el.value = el.firstElementChild.value;\n    },\n    other: function (el, value) {\n      el.innerHTML = value;\n    }\n  };\n  var api$q = {\n    name: \"htmlform\",\n    $init: function (config) {\n      this.elements = {};\n      this._default_values = false;\n      if (config.content && (config.container == config.content || !config.container && config.content == document.body)) this._copy_inner_content = true;\n    },\n    content_setter: function (content) {\n      content = toNode(content);\n\n      if (this._copy_inner_content) {\n        while (content.childNodes.length > 1) {\n          this._viewobj.childNodes[0].appendChild(content.childNodes[0]);\n        }\n      } else {\n        this._viewobj.childNodes[0].appendChild(content);\n      }\n\n      this._parse_inputs();\n\n      return true;\n    },\n    render: function () {\n      template$1.api.render.apply(this, arguments);\n\n      this._parse_inputs();\n    },\n    _parse_inputs: function () {\n      var inputs = this._viewobj.querySelectorAll(\"[name]\");\n\n      this.elements = {};\n\n      for (var i = 0; i < inputs.length; i++) {\n        var el = inputs[i];\n\n        var name = _attribute(el, \"name\");\n\n        if (name) {\n          var tag = _tagname(el) === \"button\";\n\n          var type = _attribute(el, \"type\");\n\n          var cant_clear = tag || type === \"button\" || type === \"submit\";\n\n          if (type === \"radio\") {\n            var stack = this.elements[name] || [];\n            stack.tagName = \"radio\";\n            stack.push(el);\n            el = stack;\n          }\n\n          this.elements[name] = el;\n          el.getValue = _get_html_value;\n          el.setValue = _set_html_value;\n          el.$allowsClear = !cant_clear;\n        }\n      }\n\n      return this.elements;\n    },\n    _mark_invalid: function (id, obj) {\n      this._clear_invalid(id, obj);\n\n      var el = this._viewobj.querySelector(\"[name=\\\"\" + id + \"\\\"]\");\n\n      if (el) addCss(el, \"invalid\");\n    },\n    _clear_invalid: function (id) {\n      var el = this._viewobj.querySelector(\"[name=\\\"\" + id + \"\\\"]\");\n\n      if (el) removeCss(el, \"invalid\");\n    },\n    focus: function (name) {\n      if (!name && this.$view.contains(document.activeElement)) {\n        // focus already inside of form, leaving\n        return false;\n      }\n\n      Values.focus.apply(this, arguments);\n    }\n  };\n  var view$q = exports.protoUI(api$q, template$1.view, Values);\n\n  var api$r = {\n    name: \"property\",\n    $init: function () {\n      this._contentobj.className += \" webix_property\";\n\n      this._contentobj.setAttribute(\"role\", \"listbox\");\n\n      this._destroy_with_me = [];\n      this.attachEvent(\"onAfterEditStart\", function (id) {\n        var node = this.getItemNode(id);\n        addCss(node, \"webix_focused\");\n      });\n      this.attachEvent(\"onAfterEditStop\", function (id, editor) {\n        var node = this.getItemNode(editor.config.id);\n        removeCss(node, \"webix_focused\");\n      });\n    },\n    defaults: {\n      nameWidth: 100,\n      editable: true\n    },\n    on_render: {\n      password: function (value) {\n        return !value && value !== 0 ? \"\" : \"&bull;\".repeat(value.toString().length);\n      },\n      checkbox: function (value) {\n        return \"<input type='checkbox' class='webix_property_check' \" + (value ? \"checked\" : \"\") + \">\";\n      },\n      color: function (value) {\n        return \"<div class='webix_property_col_ind' style='background-color:\" + (value || \"#FFFFFF\") + \";'></div>\" + value;\n      }\n    },\n    on_edit: {\n      label: false\n    },\n    _id:\n    /*@attr*/\n    \"webix_f_id\",\n    on_click: {\n      webix_property_check: function (ev) {\n        var id = this.locate(ev);\n        var item = this.getItem(id);\n        this.callEvent(\"onCheck\", [id, item.value = !item.value]);\n        return false;\n      }\n    },\n    on_dblclick: {},\n    registerType: function (name, data) {\n      if (!isUndefined(data.template)) this.on_render[name] = data.template;\n      if (!isUndefined(data.editor)) this.on_edit[name] = data.editor;\n      if (!isUndefined(data.click)) for (var key in data.click) {\n        this.on_click[key] = data.click[key];\n      }\n    },\n    elements_setter: function (data) {\n      this._idToLine = {};\n\n      for (var i = 0; i < data.length; i++) {\n        var line = data[i];\n        if (line.type == \"multiselect\") line.optionslist = true; //line.type \t= \tline.type||\"label\";\n\n        line.id = line.id || uid();\n        line.label = line.label || \"\";\n        line.value = line.value || \"\";\n        this._idToLine[line.id] = i;\n\n        this._map_options(data[i]);\n      }\n\n      return data;\n    },\n    showItem: function (id) {\n      RenderStack.showItem.call(this, id);\n    },\n    locate: function () {\n      return locate(arguments[0], this._id);\n    },\n    getItemNode: function (id) {\n      return this._dataobj.childNodes[this._idToLine[id]];\n    },\n    getItem: function (id) {\n      return this._settings.elements[this._idToLine[id]];\n    },\n    _get_editor_type: function (id) {\n      var type = this.getItem(id).type;\n      if (type == \"checkbox\") return \"inline-checkbox\";\n      var alter_type = this.on_edit[type];\n      return alter_type === false ? false : alter_type || type;\n    },\n    _get_edit_config: function (id) {\n      return this.getItem(id);\n    },\n    _find_cell_next: function (start, check, direction) {\n      var row = this._idToLine[start.id];\n      var order = this._settings.elements;\n\n      if (direction) {\n        for (var i = row + 1; i < order.length; i++) {\n          if (check.call(this, order[i].id)) return order[i].id;\n        }\n      } else {\n        for (var _i = row - 1; _i >= 0; _i--) {\n          if (check.call(this, order[_i].id)) return order[_i].id;\n        }\n      }\n\n      return null;\n    },\n    updateItem: function (key, data) {\n      var line = this.getItem(key);\n      if (line) exports.extend(line, data || {}, true);\n      this.refresh();\n    },\n    _cellPosition: function (id) {\n      var html = this.getItemNode(id);\n      return {\n        left: html.offsetLeft + this._settings.nameWidth,\n        top: html.offsetTop,\n        height: html.firstChild.offsetHeight,\n        width: this._data_width,\n        parent: this._contentobj\n      };\n    },\n    _clear: function () {\n      var lines = this._settings.elements;\n\n      for (var i = 0; i < lines.length; i++) {\n        lines[i].value = \"\";\n      }\n    },\n    clear: function () {\n      this._clear();\n\n      this._props_dataset = {};\n      this.refresh();\n    },\n    setValues: function (data, update) {\n      var _this = this;\n\n      if (this._settings.complexData) data = CodeParser.collapseNames(data, \"\", {}, function (v) {\n        return isUndefined(_this._idToLine[v]);\n      });\n      if (!update) this._clear();\n\n      for (var key in data) {\n        var line = this.getItem(key);\n        if (line) line.value = data[key];\n      }\n\n      this._props_dataset = data;\n      this.refresh();\n    },\n    getValues: function () {\n      var data = clone(this._props_dataset || {});\n\n      for (var i = 0; i < this._settings.elements.length; i++) {\n        var line = this._settings.elements[i];\n        if (line.type != \"label\") data[line.id] = line.value;\n      }\n\n      if (this._settings.complexData) data = CodeParser.expandNames(data);\n      return data;\n    },\n    refresh: function () {\n      this.render();\n    },\n    $setSize: function (x, y) {\n      if (base$1.api.$setSize.call(this, x, y)) {\n        this._data_width = this._content_width - this._settings.nameWidth;\n        this.render();\n      }\n    },\n    $getSize: function (dx, dy) {\n      if (this._settings.autoheight) {\n        var count = this._settings.elements.length;\n        this._settings.height = Math.max(this.type.height * count, this._settings.minHeight || 0);\n      }\n\n      return base$1.api.$getSize.call(this, dx, dy);\n    },\n    _toHTML: function () {\n      var html = [];\n      var els = this._settings.elements;\n      if (els) for (var i = 0; i < els.length; i++) {\n        var data = els[i];\n        if (data.css && _typeof(data.css) == \"object\") data.css = createCss(data.css);\n        var pre = \"<div \" +\n        /*@attr*/\n        \"webix_f_id\" + \"=\\\"\" + data.id + \"\\\"\" + (data.type !== \"label\" ? \"role=\\\"option\\\" tabindex=\\\"0\\\"\" : \"\") + \" class=\\\"webix_property_line \" + (data.css || \"\") + \"\\\">\";\n        if (data.type == \"label\") html[i] = pre + \"<div class='webix_property_label_line'>\" + data.label + \"</div></div>\";else {\n          var render = this.on_render[data.type],\n              content;\n          var post = \"<div class='webix_property_label' style='width:\" + this._settings.nameWidth + \"px'>\" + data.label + \"</div><div class='webix_property_value' style='width:\" + this._data_width + \"px'>\";\n\n          if (data.collection || data.options) {\n            content = data.template(data, this.type, data.value, data);\n          } else if (data.format) {\n            content = data.format(data.value);\n          } else content = data.value;\n\n          if (render) content = render.call(this, data.value, data);\n          html[i] = pre + post + content + \"</div></div>\";\n        }\n      }\n      return html.join(\"\");\n    },\n    type: {\n      height: 24,\n      templateStart: template(\"\"),\n      templateEnd: template(\"</div>\")\n    },\n    $skin: function () {\n      this.type.height = $active.propertyItemHeight;\n    }\n  };\n  var view$r = exports.protoUI(api$r, AutoTooltip, EditAbility, MapCollection, MouseEvents, Scrollable, SingleRender, AtomDataLoader, EventSystem, base$1.view);\n\n  var api$s = {\n    name: \"calendar\",\n    defaults: {\n      date: wDate.datePart(new Date()),\n      //selected date, not selected by default\n      navigation: true,\n      monthSelect: true,\n      weekHeader: true,\n      monthHeader: true,\n      weekNumber: false,\n      skipEmptyWeeks: false,\n      calendarHeader: \"%F %Y\",\n      //calendarTime: \"%H:%i\",\n      events: wDate.isHoliday,\n      minuteStep: 5,\n      timeIcon: \"wxi-clock\",\n      icons: false,\n      timepickerHeight: 30,\n      headerHeight: 30,\n      dayTemplate: function (d) {\n        return d.getDate();\n      },\n      width: 260,\n      height: 250\n    },\n    dayTemplate_setter: template,\n    calendarHeader_setter: wDate.dateToStr,\n    calendarTime_setter: function (format) {\n      this._calendarTime = format;\n      return wDate.dateToStr(format);\n    },\n    date_setter: function (date) {\n      date = wDate.copy(this._string_to_date(date));\n      date.setDate(1);\n      return date;\n    },\n    maxDate_setter: function (date) {\n      return wDate.datePart(this._string_to_date(date));\n    },\n    minDate_setter: function (date) {\n      return wDate.datePart(this._string_to_date(date));\n    },\n    minTime_setter: function (time) {\n      if (typeof time == \"string\") {\n        time = i18n.parseTimeFormatDate(time);\n        time = [time.getHours(), time.getMinutes()];\n      }\n\n      return time;\n    },\n    maxTime_setter: function (time) {\n      if (typeof time == \"string\") {\n        time = i18n.parseTimeFormatDate(time);\n        time = [time.getHours(), time.getMinutes()];\n      }\n\n      return time;\n    },\n    _ariaFocus: function () {\n      var _this = this;\n\n      _event(this.$view, \"mousedown\", function () {\n        _this._mouse_time = new Date();\n      });\n\n      _event(this.$view, \"focus\", function (e) {\n        // in daterange\n        if (_this._settings.master) return;\n        var prev = e.relatedTarget;\n        var css = e.target.className.indexOf(\"webix_cal_day\") !== -1;\n\n        if (prev && new Date() - _this._mouse_time > 100 && css && _this.$view.contains(prev)) {\n          var day = _this._locate_day(e.target);\n\n          if (!_this._selectedDay(day)) _this._moveSelection(day);\n        }\n      }, {\n        capture: true\n      });\n    },\n    $init: function () {\n      this._viewobj.className += \" webix_calendar\";\n\n      this._viewobj.setAttribute(\"role\", \"region\");\n\n      this._viewobj.setAttribute(\"aria-label\", i18n.aria.calendar); //special dates\n\n\n      this._special_dates = {};\n      this._selected_days = {};\n      this._zoom_level = 0; //navigation and aria\n\n      this._ariaFocus();\n\n      this.attachEvent(\"onKeyPress\", this._onKeyPress);\n    },\n    _onKeyPress: function (code, e) {\n      var target = e.target,\n          role = target.getAttribute(\"role\");\n\n      if ((code === 13 || code === 32) && (role == \"button\" || role == \"log\") && !this._settings.disabled) {\n        triggerEvent(target, \"MouseEvent\", \"click\");\n        preventEvent(e);\n      }\n    },\n    minuteStep_setter: function (value) {\n      return Math.max(Math.min(value, 60), this.defaults.minuteStep);\n    },\n    type_setter: function (value) {\n      if (value == \"time\") {\n        this._zoom_in = true;\n        this._zoom_level = -1;\n      } else if (value == \"year\") {\n        this._fixed = true;\n      }\n\n      return value;\n    },\n    $setSize: function (x, y) {\n      if (base$1.api.$setSize.call(this, x, y)) {\n        //repaint calendar when size changed\n        this.render();\n      }\n    },\n    $getSize: function (dx, dy) {\n      var s = this._settings;\n\n      if (s.cellHeight && !s.type) {\n        var state = this._getDateBoundaries(s.date);\n\n        s.height = s.cellHeight * state._rows + s.headerHeight + (s.weekHeader ? $active.calendarWeekHeaderHeight : 0) + (s.timepicker || this._icons ? s.timepickerHeight : 0) + (this._content_padding + $active.borderWidth) * 2;\n      }\n\n      return base$1.api.$getSize.call(this, dx, dy);\n    },\n    moveSelection: function (mode, details, focus) {\n      if (this.config.master) return; //in daterange\n\n      var start = this.getSelectedDate(true);\n      var date = wDate.copy(start || this.getVisibleDate());\n\n      this._moveSelection(date, mode, focus);\n    },\n    _moveSelection: function (date, mode, focus) {\n      var css = this._zoom_logic[this._zoom_level]._keyshift(date, mode, this);\n\n      if (focus !== false) this._restore_focus(css);\n    },\n    _restore_focus: function (css, ind) {\n      var sel;\n\n      if (ind) {\n        sel = this._viewobj.querySelector(\".webix_cal_body\");\n        sel = sel.childNodes[ind.rind].childNodes[ind.cind + (this._settings.weekNumber ? 1 : 0)];\n      } else sel = this._viewobj.querySelector(\".\" + css + \"[tabindex='0']\");\n\n      if (sel) sel.focus();\n    },\n    _getDateBoundaries: function (date, reset) {\n      // addition information about rendering event:\n      // how many days from the previous month,\n      // next,\n      // number of weeks to display and so on\n      if (!this._set_date_bounds || reset) {\n        var month = date.getMonth();\n        var year = date.getFullYear();\n        var next = new Date(year, month + 1, 1);\n        var start = wDate.weekStart(new Date(year, month, 1));\n        var days = Math.round((next.valueOf() - start.valueOf()) / (60 * 1000 * 60 * 24));\n        var rows = this._settings.skipEmptyWeeks ? Math.ceil(days / 7) : 6;\n        this._set_date_bounds = {\n          _month: month,\n          _start: start,\n          _next: next,\n          _rows: rows\n        };\n      }\n\n      return this._set_date_bounds;\n    },\n    $skin: function () {\n      if ($active.calendar) {\n        if ($active.calendar.width) this.defaults.width = $active.calendar.width;\n        if ($active.calendar.height) this.defaults.height = $active.calendar.height;\n        if ($active.calendar.headerHeight) this.defaults.headerHeight = $active.calendar.headerHeight;\n        if ($active.calendar.timepickerHeight) this.defaults.timepickerHeight = $active.calendar.timepickerHeight;\n      }\n\n      this._content_padding = $active.layoutPadding.form;\n    },\n    _getColumnConfigSizes: function (date) {\n      var bounds = this._getDateBoundaries(date);\n\n      var s = this._settings;\n      var _columnsHeight = [];\n      var _columnsWidth = [];\n      var min = Infinity;\n      var containerWidth = this._content_width - (this._content_padding + $active.borderWidth) * 2;\n      var containerHeight = this._content_height - (s.monthHeader ? s.headerHeight : 0) - (s.weekHeader ? $active.calendarWeekHeaderHeight : 0) - (s.timepicker || this._icons ? s.timepickerHeight : 0) - (this._content_padding + $active.borderWidth) * 2;\n      var columnsNumber = s.weekNumber ? 8 : 7;\n\n      for (var i = 0; i < columnsNumber; i++) {\n        _columnsWidth[i] = Math.ceil(containerWidth / (columnsNumber - i));\n        containerWidth -= _columnsWidth[i];\n        min = Math.min(min, _columnsWidth[i]);\n      }\n\n      var rowsNumber = bounds._rows;\n\n      for (var k = 0; k < rowsNumber; k++) {\n        _columnsHeight[k] = Math.ceil(containerHeight / (rowsNumber - k));\n        containerHeight -= _columnsHeight[k];\n        min = Math.min(min, _columnsHeight[k]);\n      }\n\n      return [_columnsWidth, _columnsHeight, min];\n    },\n    icons_setter: function (value) {\n      if (!value) this._icons = null;else if (_typeof(value) == \"object\") this._icons = value;else this._icons = this._icons2;\n    },\n    _icons: [],\n    _icons2: [{\n      template: function () {\n        return \"<span role='button' tabindex='0' class='webix_cal_icon_today webix_cal_icon'>\" + i18n.calendar.today + \"</span>\";\n      },\n      on_click: {\n        \"webix_cal_icon_today\": function () {\n          var date = new Date();\n          if (!this._settings.timepicker) date = wDate.datePart(date);\n          this.setValue(date, \"user\");\n          this.callEvent(\"onTodaySet\", [this.getSelectedDate()]);\n        }\n      }\n    }, {\n      template: function () {\n        return \"<span role='button' tabindex='0' class='webix_cal_icon_clear webix_cal_icon'>\" + i18n.calendar.clear + \"</span>\";\n      },\n      on_click: {\n        \"webix_cal_icon_clear\": function () {\n          this.setValue(\"\", \"user\");\n          this.callEvent(\"onDateClear\", [this.getSelectedDate()]);\n        }\n      }\n    }],\n    refresh: function () {\n      this.render();\n    },\n    render: function () {\n      //reset zoom level\n      this._zoom_level = 0;\n      this._zoom_size = false;\n      var s = this._settings;\n      if (!this.isVisible(s.id)) return;\n      this._current_time = wDate.datePart(new Date());\n      this.callEvent(\"onBeforeRender\", []);\n      var date = this.getVisibleDate();\n\n      var bounds = this._getDateBoundaries(date, true);\n\n      var sizes = this._getColumnConfigSizes(date);\n\n      var cpad = this._content_padding + \"px\";\n      var width = sizes[0];\n      var height = sizes[1];\n      var html = \"\";\n\n      if (s.monthHeader) {\n        html += \"<div class='webix_cal_month' style='margin:0 \" + cpad + \"'><span role='log' aria-live='assertive' aria-atomic='true' class='webix_cal_month_name\" + (!s.monthSelect || !s.navigation ? \" webix_readonly'\" : \"' role='button' tabindex='0'\") + \">\" + s.calendarHeader(date) + \"</span>\";\n        if (s.navigation) html += \"<div role='button' tabindex='0' aria-label='\" + i18n.aria.navMonth[0] + \"' class='webix_cal_prev_button'></div><div role='button' tabindex='0' aria-label='\" + i18n.aria.navMonth[1] + \"' class='webix_cal_next_button'></div>\";\n        html += \"</div>\";\n      }\n\n      if (s.weekHeader) html += \"<div class='webix_cal_header' style='margin:0 \" + cpad + \"' aria-hidden='true'>\" + this._week_template(width) + \"</div>\";\n      html += \"<div class='webix_cal_body' role='grid' style='margin:0 \" + cpad + \"'>\" + this._body_template(width, height, bounds, sizes[2]) + \"</div>\";\n\n      if (s.timepicker || this._icons) {\n        html += \"<div class='webix_cal_footer' style='margin:0 \" + cpad + \"'>\";\n        if (s.timepicker) html += this._timepicker_template(date);\n        if (this._icons) html += this._icons_template();\n        html += \"</div>\";\n      }\n\n      this._contentobj.innerHTML = html;\n      this._contentobj.firstChild.style.marginTop = cpad;\n\n      if (s.type == \"time\") {\n        this._changeZoomLevel(-1, date);\n      } else if (s.type == \"month\") {\n        this._changeZoomLevel(1, date);\n      } else if (s.type == \"year\") {\n        this._changeZoomLevel(2, date);\n      }\n\n      this._fix_cover();\n\n      this.callEvent(\"onAfterRender\", []);\n    },\n    _icons_template: function (date) {\n      var html = \"<div class='webix_cal_icons'>\";\n      var icons = this._icons;\n\n      for (var i = 0; i < icons.length; i++) {\n        if (icons[i].template) {\n          var template$$1 = typeof icons[i].template == \"function\" ? icons[i].template : template$$1(icons[i].template);\n          html += template$$1.call(this, date);\n        }\n\n        if (icons[i].on_click) {\n          exports.extend(this.on_click, icons[i].on_click);\n        }\n      }\n\n      html += \"</div>\";\n      return html;\n    },\n    _timepicker_template: function (date) {\n      var timeFormat = this._settings.calendarTime || i18n.timeFormatStr;\n      var clock = this._settings.timeIcon;\n      var tpl = \"\";\n      if (!this._settings.master) tpl = \"<div role='button' tabindex='0' class='webix_cal_time\" + (this._icons ? \" webix_cal_time_icons\" : \"\") + \"'><span class='webix_icon \" + clock + \"'></span> \" + timeFormat(date) + \"</div>\";else {\n        //daterange needs two clocks\n        var range_date = copy($$(this._settings.master)._settings.value);\n        if (wDate.equal(range_date.end, date)) range_date.start = range_date.end;\n\n        for (var i in range_date) {\n          tpl += \"<div role='button' tabindex='0' class='webix_range_time_\" + i + \" webix_cal_time'><span class='webix_icon \" + clock + \"'></span> \" + timeFormat(range_date[i]) + \"</div>\";\n        }\n      }\n      return tpl;\n    },\n    _week_template: function (widths) {\n      var s = this._settings;\n      var week_template = \"\";\n      var correction = 0;\n\n      if (s.weekNumber) {\n        correction = 1;\n        week_template += \"<div class='webix_cal_week_header' style='width: \" + widths[0] + \"px;' >\" + (s.calendarWeekHeader || \"\") + \"</div>\";\n      }\n\n      var k = wDate.startOnMonday ? 1 : 0;\n\n      for (var i = 0; i < 7; i++) {\n        // 7 days total\n        var day_index = (k + i) % 7; // 0 - Sun, 6 - Sat as in Locale.date.day_short\n\n        var day = i18n.calendar.dayShort[day_index]; // 01, 02 .. 31\n\n        week_template += \"<div day='\" + day_index + \"' style='width: \" + widths[i + correction] + \"px;' >\" + day + \"</div>\";\n      }\n\n      return week_template;\n    },\n    blockDates_setter: function (value) {\n      return toFunctor(value, this.$scope);\n    },\n    _day_css: function (day, bounds) {\n      var css = \"\",\n          isOutside = false;\n      if (wDate.equal(day, this._current_time)) css += \" webix_cal_today\";\n      if (!this._checkDate(day)) css += \" webix_cal_day_disabled\";\n\n      if (day.getMonth() != bounds._month) {\n        isOutside = true;\n        css += \" webix_cal_outside\";\n      }\n\n      if (!isOutside && this._selectedDay(day)) css += \" webix_cal_select\";\n      if (this._settings.events) css += \" \" + (this._settings.events(day, isOutside) || \"\");\n      css += \" webix_cal_day\";\n      return css;\n    },\n    _body_template: function (widths, heights, bounds, sqSize) {\n      var s = this._settings;\n      var start = s.weekNumber ? 1 : 0;\n      var day = wDate.datePart(wDate.copy(bounds._start));\n      var weekNumber = wDate.getISOWeek(wDate.add(day, 2, \"day\", true));\n      var html = \"\",\n          focusable;\n\n      for (var y = 0; y < heights.length; y++) {\n        html += \"<div class='webix_cal_row' role='row' style='height:\" + heights[y] + \"px;line-height:\" + heights[y] + \"px'>\";\n\n        if (start) {\n          // recalculate week number for the first week of a year\n          if (!day.getMonth() && day.getDate() < 7) weekNumber = wDate.getISOWeek(wDate.add(day, 2, \"day\", true));\n          html += \"<div class='webix_cal_week_num' aria-hidden='true' style='width:\" + widths[0] + \"px'>\" + weekNumber + \"</div>\";\n        }\n\n        for (var x = start; x < widths.length; x++) {\n          var sel = this._selectedDay(day);\n\n          var css = this._day_css(day, bounds);\n\n          var d = s.dayTemplate.call(this, day);\n          var alabel = \"\";\n\n          if (_typeof(d) == \"object\") {\n            alabel = d.aria || alabel;\n            d = d.text;\n          } else alabel = wDate.dateToStr(i18n.aria.dateFormat)(day);\n\n          var isOutside = day.getMonth() != bounds._month;\n\n          var tabindex = sel && !isOutside ? \"0\" : \"-1\";\n          if (day.getDate() == 1 && !isOutside) tabindex = \"$webix_tabindex\";\n          if (tabindex == \"0\") focusable = true;\n          html += \"<div day='\" + x + \"' role='gridcell' \" + (isOutside ? \"aria-hidden='true'\" : \"\") + \" aria-label='\" + alabel + \"' tabindex='\" + tabindex + \"' aria-selected='\" + (sel && !isOutside ? \"true\" : \"false\") + \"' class='\" + css + \"' style='text-align:center; width:\" + widths[x] + \"px'><span aria-hidden='true' class='webix_cal_day_inner' style='display:inline-block; \" + this._getCalSizesString(sqSize, sqSize) + \"'>\" + d + \"</span></div>\";\n          day = wDate.add(day, 1, \"day\");\n          if (day.getHours()) day = wDate.datePart(day);\n        }\n\n        html += \"</div>\";\n        weekNumber++;\n      }\n\n      return html.replace(\"$webix_tabindex\", focusable || s.master ? \"-1\" : \"0\");\n    },\n    _changeDate: function (dir, step) {\n      if (!step) {\n        step = this._zoom_logic[this._zoom_level]._changeStep;\n      }\n\n      var now = this._settings.date;\n      var next = wDate.add(now, dir * step, \"month\", true);\n\n      this._changeDateInternal(now, next, dir);\n    },\n    _changeDateInternal: function (now, next, dir) {\n      if (this.callEvent(\"onBeforeMonthChange\", [now, next])) {\n        if (this._zoom_level) {\n          this._update_zoom_level(next);\n        } else {\n          this.showCalendar(next);\n\n          if (this._settings.monthHeader && this._settings.navigation) {\n            var css = \"webix_cal_\" + (dir > 0 ? \"next\" : \"prev\") + \"_button\";\n\n            this._restore_focus(css);\n          }\n        }\n\n        this.callEvent(\"onAfterMonthChange\", [next, now]);\n      }\n    },\n    _zoom_logic: {\n      \"-2\": {\n        _isBlocked: function (i) {\n          var config = this._settings,\n              date = config.date,\n              isBlocked = false;\n          var minHour = config.minTime ? config.minTime[0] : 0;\n          var maxHour = config.maxTime ? config.maxTime[0] + (config.maxTime[1] ? 1 : 0) : 24;\n          var minMinute = config.minTime && date.getHours() == minHour ? config.minTime[1] : 0;\n          var maxMinute = config.maxTime && config.maxTime[1] && date.getHours() == maxHour - 1 ? config.maxTime[1] : 60;\n\n          if (this._settings.blockTime) {\n            var d = wDate.copy(date);\n            d.setMinutes(i);\n            isBlocked = this._settings.blockTime(d);\n          }\n\n          return i < minMinute || i >= maxMinute || isBlocked;\n        },\n        _setContent: function (next, i) {\n          next.setMinutes(i);\n        },\n        _findActive: function (date, mode, calendar) {\n          if (!this._isBlocked.call(calendar, date.getMinutes())) return date;else {\n            var step = calendar._settings.minuteStep;\n            var newdate = wDate.add(date, mode == \"right\" ? step : -step, \"minute\", true);\n            if (date.getHours() === newdate.getHours()) return this._findActive(newdate, mode, calendar);\n          }\n        }\n      },\n      \"-1\": {\n        _isBlocked: function (i) {\n          var config = this._settings,\n              date = config.date;\n          var minHour = config.minTime ? config.minTime[0] : 0;\n          var maxHour = config.maxTime ? config.maxTime[0] + (config.maxTime[1] ? 1 : 0) : 24;\n          if (i < minHour || i >= maxHour) return true;\n\n          if (config.blockTime) {\n            var d = wDate.copy(date);\n            d.setHours(i);\n            var minMinute = config.minTime && i == minHour ? config.minTime[1] : 0;\n            var maxMinute = config.maxTime && config.maxTime[1] && i == maxHour - 1 ? config.maxTime[1] : 60;\n\n            for (var j = minMinute; j < maxMinute; j += config.minuteStep) {\n              d.setMinutes(j);\n              if (!config.blockTime(d)) return false;\n            }\n\n            return true;\n          }\n        },\n        _setContent: function (next, i) {\n          next.setHours(i);\n        },\n        _keyshift: function (date, mode, calendar) {\n          var newdate,\n              inc,\n              step = calendar._settings.minuteStep;\n\n          if (mode === \"bottom\" || mode === \"top\") {\n            date.setHours(mode === \"bottom\" ? 23 : 0);\n            date.setMinutes(mode === \"bottom\" ? 55 : 0);\n            date.setSeconds(0);\n            date.setMilliseconds(0);\n            newdate = date;\n          } else if (mode === \"left\" || mode === \"right\") {\n            //minutes\n            inc = mode === \"right\" ? step : -step;\n            if (mode === \"left\" && date.getMinutes() < step) inc = 60 - step;\n            if (mode === \"right\" && date.getMinutes() >= 60 - step) inc = step - 60;\n            inc -= date.getMinutes() % step;\n            newdate = calendar._zoom_logic[\"-2\"]._findActive(wDate.add(date, inc, \"minute\"), mode, calendar);\n          } else if (mode === \"up\" || mode === \"down\") {\n            //hours\n            inc = mode === \"down\" ? 1 : -1;\n            if (mode === \"down\" && date.getHours() === 23) inc = -23;\n            if (mode === \"up\" && date.getHours() === 0) inc = 23;\n            newdate = this._findActive(wDate.add(date, inc, \"hour\"), mode, calendar);\n          } else if (mode === false) newdate = this._findActive(date, mode, calendar);\n\n          if (newdate) {\n            calendar._update_zoom_level(newdate);\n\n            calendar.selectDate(newdate, false, false, \"user\");\n          }\n\n          return \"webix_cal_block\" + (mode === \"left\" || mode === \"right\" ? \"_min\" : \"\");\n        },\n        _findActive: function (date, mode, calendar) {\n          if (!this._isBlocked.call(calendar, date.getHours())) return date;else {\n            var newdate = wDate.add(date, mode == \"down\" ? 1 : -1, \"hour\", true);\n            if (date.getDate() === newdate.getDate()) return this._findActive(newdate, mode, calendar);\n          }\n        }\n      },\n      \"0\": {\n        //days\n        _changeStep: 1,\n        _keyshift: function (date, mode, calendar) {\n          var newdate = date;\n          if (mode === \"pgup\" || mode === \"pgdown\") newdate = wDate.add(date, mode === \"pgdown\" ? 1 : -1, \"month\");else if (mode === \"bottom\") newdate = new Date(date.getFullYear(), date.getMonth() + 1, 0);else if (mode === \"top\") newdate = new Date(date.setDate(1));else if (mode === \"left\" || mode === \"right\") newdate = wDate.add(date, mode === \"right\" ? 1 : -1, \"day\");else if (mode === \"up\" || mode === \"down\") newdate = wDate.add(date, mode === \"down\" ? 1 : -1, \"week\");\n          if (!calendar._checkDate(newdate)) newdate = calendar._findActive(date, mode);\n          if (newdate) calendar.selectDate(newdate, true, false, \"user\");\n          return \"webix_cal_day\";\n        }\n      },\n      \"1\": {\n        //months\n        _isBlocked: function (i) {\n          var date = this.getVisibleDate();\n          date.setMonth(i);\n\n          var blocked = this._settings.blockDates && this._settings.blockDates.call(this, date);\n\n          var min = this._settings.minDate,\n              max = this._settings.maxDate,\n              year = this._settings.date.getFullYear();\n\n          if (min && !blocked) {\n            var minYear = min.getFullYear();\n            blocked = year < minYear || year == minYear && min.getMonth() > i;\n          }\n\n          if (max && !blocked) {\n            var maxYear = max.getFullYear();\n            blocked = year > maxYear || year == maxYear && max.getMonth() < i;\n          }\n\n          return blocked;\n        },\n        _correctDate: function (date, calendar) {\n          date = wDate.monthStart(date);\n\n          if (date < calendar._settings.minDate) {\n            date = wDate.copy(calendar._settings.minDate);\n          } else if (date > calendar._settings.maxDate) {\n            date = wDate.copy(calendar._settings.maxDate);\n          }\n\n          return date;\n        },\n        _getTitle: function (date) {\n          return date.getFullYear();\n        },\n        _getContent: function (i) {\n          return i18n.calendar.monthShort[i];\n        },\n        _setContent: function (next, i) {\n          if (i != next.getMonth()) next.setDate(1);\n          next.setMonth(i);\n        },\n        _changeStep: 12,\n        _keyshift: function (date, mode, calendar) {\n          var newdate = date;\n          if (mode === \"pgup\" || mode === \"pgdown\") newdate = wDate.add(date, mode === \"pgdown\" ? 1 : -1, \"year\");else if (mode === \"bottom\") newdate = new Date(date.setMonth(11));else if (mode === \"top\") newdate = new Date(date.setMonth(0));else if (mode === \"left\" || mode === \"right\") newdate = wDate.add(date, mode === \"right\" ? 1 : -1, \"month\");else if (mode === \"up\" || mode === \"down\") newdate = wDate.add(date, mode === \"down\" ? 4 : -4, \"month\");\n          newdate = calendar._correctDate(newdate);\n\n          if (!calendar._checkDate(newdate)) {\n            newdate = calendar._findActive(date, mode);\n          }\n\n          if (newdate) {\n            calendar._update_zoom_level(newdate);\n\n            calendar.selectDate(newdate, false, false, \"user\");\n          }\n\n          return \"webix_cal_block\";\n        }\n      },\n      \"2\": {\n        //years\n        _isBlocked: function (i) {\n          i += this._zoom_start_date;\n          var date = this.getVisibleDate();\n          date.setFullYear(i);\n\n          var blocked = this._settings.blockDates && this._settings.blockDates.call(this, date);\n\n          var min = this._settings.minDate;\n          var max = this._settings.maxDate;\n          if (blocked || min && min.getFullYear() > i || max && max.getFullYear() < i) return true;\n          return false;\n        },\n        _correctDate: function (date, calendar) {\n          date = wDate.yearStart(date);\n\n          if (date < calendar._settings.minDate) {\n            date = wDate.copy(calendar._settings.minDate);\n          } else if (date > calendar._settings.maxDate) {\n            date = wDate.copy(calendar._settings.maxDate);\n          }\n\n          return date;\n        },\n        _getTitle: function (date, calendar) {\n          var start = date.getFullYear();\n          calendar._zoom_start_date = start = start - start % 10 - 1;\n          return start + \" - \" + (start + 10 + 1);\n        },\n        _getContent: function (i, calendar) {\n          return calendar._zoom_start_date + i;\n        },\n        _setContent: function (next, i, calendar) {\n          next.setFullYear(calendar._zoom_start_date + i);\n        },\n        _changeStep: 12 * 10,\n        _keyshift: function (date, mode, calendar) {\n          var newdate = date;\n          if (mode === \"pgup\" || mode === \"pgdown\") newdate = wDate.add(date, mode === \"pgdown\" ? 10 : -10, \"year\");else if (mode === \"bottom\") newdate = new Date(date.setYear(calendar._zoom_start_date + 10));else if (mode === \"top\") newdate = new Date(date.setYear(calendar._zoom_start_date));else if (mode === \"left\" || mode === \"right\") newdate = wDate.add(date, mode === \"right\" ? 1 : -1, \"year\");else if (mode === \"up\" || mode === \"down\") newdate = wDate.add(date, mode === \"down\" ? 4 : -4, \"year\");\n          newdate = calendar._correctDate(newdate);\n          if (!calendar._checkDate(newdate)) newdate = calendar._findActive(date, mode);\n\n          if (newdate) {\n            calendar._update_zoom_level(newdate);\n\n            calendar.selectDate(newdate, false, false, \"user\");\n          }\n\n          return \"webix_cal_block\";\n        }\n      }\n    },\n    _correctBlockedTime: function () {\n      var i, isDisabledHour, isDisabledMinutes;\n      isDisabledHour = this._zoom_logic[-1]._isBlocked.call(this, this._settings.date.getHours());\n\n      if (isDisabledHour) {\n        for (i = 0; i < 24; i++) {\n          if (!this._zoom_logic[-1]._isBlocked.call(this, i)) {\n            this._settings.date.setHours(i);\n\n            break;\n          }\n        }\n      }\n\n      isDisabledMinutes = this._zoom_logic[-2]._isBlocked.call(this, this._settings.date.getMinutes());\n\n      if (isDisabledMinutes) {\n        for (i = 0; i < 60; i += this._settings.minuteStep) {\n          if (!this._zoom_logic[-2]._isBlocked.call(this, i)) {\n            this._settings.date.setMinutes(i);\n\n            break;\n          }\n        }\n      }\n    },\n    _update_zoom_level: function (date) {\n      var config, css, height, i, index$$1, sections, selected, type, width, zlogic, temp, sqSize;\n      var html = \"\";\n      var cpad = this._content_padding + \"px\";\n      config = this._settings;\n      index$$1 = 2 - (config.weekHeader ? 0 : 1) - (config.monthHeader ? 0 : 1);\n      zlogic = this._zoom_logic[this._zoom_level];\n      sections = this._contentobj.childNodes;\n      if (date) this.define(\"date\", date);\n      type = config.type; //store width and height of draw area\n\n      if (!this._zoom_size) {\n        this._reserve_box_height = this._contentobj.offsetHeight - (config.monthHeader || this._zoom_in ? config.headerHeight : 0) - (this._content_padding + $active.borderWidth) * 2;\n        if (type != \"year\" && type != \"month\") this._reserve_box_height -= config.timepickerHeight;\n        this._reserve_box_width = sections[index$$1].offsetWidth;\n        this._zoom_size = 1;\n      } //main section\n\n\n      if (this._zoom_in) {\n        //hours and minutes\n        height = this._reserve_box_height / 6;\n        var timeColNum = 6;\n        var timeFormat = this._calendarTime || i18n.timeFormat;\n        var enLocale = timeFormat.match(/%([a,A])/);\n        if (enLocale) timeColNum++;\n        width = parseInt((this._reserve_box_width - 3) / timeColNum, 10);\n        sqSize = Math.min(width, height);\n        html += \"<div class='webix_time_header' style='margin:0 \" + cpad + \"'>\" + this._timeHeaderTemplate(width, enLocale) + \"</div>\";\n        html += \"<div  class='webix_cal_body' style='height:\" + this._reserve_box_height + \"px; margin:0 \" + cpad + \";'>\"; // check and change blocked selected time\n\n        this._correctBlockedTime();\n\n        html += \"<div role='grid' class='webix_hours'><div role='row'>\";\n        selected = config.date.getHours();\n        temp = wDate.copy(config.date);\n\n        for (i = 0; i < 24; i++) {\n          css = \"\";\n\n          if (enLocale) {\n            if (i % 4 === 0) {\n              var label = !i ? i18n.am[0] : i == 12 ? i18n.pm[0] : \"\";\n              html += \"<div class='webix_cal_block_empty\" + css + \"' style='\" + this._getCalSizesString(width, height) + \"clear:both;\" + \"'>\" + label + \"</div>\";\n            }\n          }\n\n          if (this._zoom_logic[-1]._isBlocked.call(this, i)) {\n            css += \" webix_cal_day_disabled\";\n          } else if (selected == i) css += \" webix_selected\";\n\n          temp.setHours(i);\n          html += \"<div aria-label='\" + wDate.dateToStr(i18n.aria.hourFormat)(temp) + \"' role='gridcell'\" + \" tabindex='\" + (selected == i ? \"0\" : \"-1\") + \"' aria-selected='\" + (selected == i ? \"true\" : \"false\") + \"' class='webix_cal_block\" + css + \"' data-value='\" + i + \"' style='\" + this._getCalSizesString(width, height) + (i % 4 === 0 && !enLocale ? \"clear:both;\" : \"\") + \"'><span style='display:inline-block; \" + this._getCalSizesString(sqSize, sqSize) + \"'>\" + wDate.toFixed(enLocale ? !i || i == 12 ? 12 : i % 12 : i) + \"</span></div>\";\n        }\n\n        html += \"</div></div>\";\n        html += \"<div role='grid' class='webix_minutes'><div role='row'>\";\n        selected = config.date.getMinutes();\n        temp = wDate.copy(config.date);\n\n        for (i = 0; i < 60; i += config.minuteStep) {\n          css = \"\";\n\n          if (this._zoom_logic[-2]._isBlocked.call(this, i)) {\n            css = \" webix_cal_day_disabled\";\n          } else if (selected == i) css = \" webix_selected\";\n\n          temp.setMinutes(i);\n          html += \"<div aria-label='\" + wDate.dateToStr(i18n.aria.minuteFormat)(temp) + \"' role='gridcell' tabindex='\" + (selected == i ? \"0\" : \"-1\") + \"' aria-selected='\" + (selected == i ? \"true\" : \"false\") + \"' class='webix_cal_block webix_cal_block_min\" + css + \"' data-value='\" + i + \"' style='\" + this._getCalSizesString(width, height) + (i / config.minuteStep % 2 === 0 ? \"clear:both;\" : \"\") + \"'><span style='display:inline-block; \" + this._getCalSizesString(sqSize, sqSize) + \"'>\" + wDate.toFixed(i) + \"</span></div>\";\n        }\n\n        html += \"</div></div>\";\n        html += \"</div>\";\n        html += \"<div class='webix_time_footer' style='margin:0 \" + cpad + \"'>\" + this._timeButtonsTemplate() + \"</div>\";\n        this._contentobj.innerHTML = html;\n        this._contentobj.firstChild.style.marginTop = cpad;\n      } else {\n        //years and months\n        //reset header\n        if (config.monthHeader) {\n          var header = sections[0].childNodes;\n\n          var title = zlogic._getTitle(config.date, this);\n\n          if (header[0].innerHTML != title) header[0].innerHTML = title;\n\n          if (config.navigation) {\n            var labels = i18n.aria[\"nav\" + (this._zoom_level == 1 ? \"Year\" : \"Decade\")];\n            header[1].setAttribute(\"aria-label\", labels[0]);\n            header[2].setAttribute(\"aria-label\", labels[1]);\n          }\n        } else //needed for \"year\" to set start value\n          zlogic._getTitle(config.date, this);\n\n        height = Math.floor(this._reserve_box_height / 3);\n        width = Math.floor(this._reserve_box_width / 4);\n        sqSize = Math.min(height, width);\n        selected = this._zoom_level === 1 ? config.date.getMonth() : config.date.getFullYear() - this._zoom_start_date;\n\n        for (i = 0; i < 12; i++) {\n          css = \"\";\n\n          if (zlogic._isBlocked.call(this, i)) {\n            css = \" webix_cal_day_disabled\";\n          } else if (selected == i) css = \" webix_selected\";\n\n          var format = i18n.aria[(this._zoom_level == 1 ? \"month\" : \"year\") + \"Format\"];\n          html += \"<div role='gridcell' aria-label='\" + wDate.dateToStr(format)(config.date) + \"' tabindex='\" + (css.indexOf(\"selected\") !== -1 ? \"0\" : \"-1\") + \"' aria-selected='\" + (css.indexOf(\"selected\") !== -1 ? \"true\" : \"false\") + \"' class='webix_cal_block\" + css + \"' data-value='\" + i + \"' style='\" + this._getCalSizesString(width, height) + \"'><span style='display:inline-block; \" + this._getCalSizesString(sqSize, sqSize) + \"'>\" + zlogic._getContent(i, this) + \"</span></div>\";\n        }\n\n        if (config.weekHeader) {\n          sections[index$$1 - 1].style.display = \"none\";\n          if (index$$1 === 1) sections[index$$1].style.marginTop = cpad;\n        }\n\n        sections[index$$1].innerHTML = \"<div role='row'>\" + html + \"</div>\";\n\n        if (type != \"year\" && type != \"month\") {\n          if (!sections[index$$1 + 1]) this._contentobj.innerHTML += \"<div class='webix_time_footer' style='margin:0 \" + cpad + \"'>\" + this._timeButtonsTemplate() + \"</div>\";else sections[index$$1 + 1].innerHTML = this._timeButtonsTemplate();\n        } else if (sections[index$$1 + 1]) {\n          sections[index$$1 + 1].style.display = \"none\";\n        }\n\n        sections[index$$1].style.height = this._reserve_box_height + \"px\";\n      }\n    },\n    _getCalSizesString: function (width, height) {\n      return \"width:\" + width + \"px; height:\" + height + \"px; line-height:\" + height + \"px;\";\n    },\n    _timeButtonsTemplate: function () {\n      return \"<input type='button' style='width:100%' class='webix_cal_done' value='\" + i18n.calendar.done + \"'>\";\n    },\n    _timeHeaderTemplate: function (width, enLocale) {\n      var w1 = width * (enLocale ? 5 : 4);\n      var w2 = width * 2;\n      return \"<div class='webix_cal_hours' style='width:\" + w1 + \"px'>\" + i18n.calendar.hours + \"</div><div class='webix_cal_minutes' style='width:\" + w2 + \"px'>\" + i18n.calendar.minutes + \"</div>\";\n    },\n    _changeZoomLevel: function (zoom, date) {\n      var oldzoom = this._zoom_level;\n\n      if (this.callEvent(\"onBeforeZoom\", [zoom, oldzoom])) {\n        this._zoom_level = zoom;\n        if (zoom) this._update_zoom_level(date);else this.showCalendar(date);\n        this.callEvent(\"onAfterZoom\", [zoom, oldzoom]);\n      }\n    },\n    _correctDate: function (date) {\n      if (this._zoom_logic[this._zoom_level]._correctDate && !this._checkDate(date)) date = this._zoom_logic[this._zoom_level]._correctDate(date, this);\n      return date;\n    },\n    _mode_selected: function (target, config) {\n      var next = this._locate_date(target);\n\n      var zoom = this._zoom_level - (this._fixed ? 0 : 1);\n      next = this._correctDate(next);\n\n      if (this._checkDate(next)) {\n        this._changeZoomLevel(zoom, next);\n\n        var type = this._settings.type;\n        if (type == \"month\" || type == \"year\") this._selectDate(next, false, config);\n      }\n    },\n    // selects date and redraw calendar\n    _selectDate: function (date, add, config) {\n      if (this.callEvent(\"onBeforeDateSelect\", [date])) {\n        this.selectDate(date, true, add, config);\n        this.callEvent(\"onAfterDateSelect\", [date]);\n      }\n    },\n    _locate_day: function (target, ind) {\n      var cind = index(target) - (this._settings.weekNumber ? 1 : 0);\n      var rind = index(target.parentNode);\n      if (ind) return {\n        cind: cind,\n        rind: rind\n      };\n      var date = wDate.add(this._getDateBoundaries()._start, cind + rind * 7, \"day\", true);\n\n      if (this._settings.timepicker) {\n        date.setHours(this._settings.date.getHours());\n        date.setMinutes(this._settings.date.getMinutes());\n      }\n\n      return date;\n    },\n    _locate_date: function (target) {\n      var value = target.getAttribute(\"data-value\") * 1;\n      var level = target.className.indexOf(\"webix_cal_block_min\") != -1 ? this._zoom_level - 1 : this._zoom_level;\n      var next = this.getVisibleDate();\n\n      this._zoom_logic[level]._setContent(next, value, this);\n\n      return next;\n    },\n    on_click: {\n      webix_cal_prev_button: function () {\n        this._changeDate(-1);\n      },\n      webix_cal_next_button: function () {\n        this._changeDate(1);\n      },\n      webix_cal_day_disabled: function () {\n        return false;\n      },\n      webix_cal_outside: function () {\n        if (!this._settings.navigation) return false;\n      },\n      webix_cal_day: function (e, id, target) {\n        var date = this._locate_day(target);\n\n        var ind = this._settings.multiselect ? this._locate_day(target, true) : null;\n        var add = this._settings.multiselect === \"touch\" || e.ctrlKey || e.metaKey;\n\n        this._selectDate(date, add, \"user\");\n\n        this._restore_focus(\"webix_cal_day\", ind);\n      },\n      webix_cal_time: function () {\n        if (this._zoom_logic[this._zoom_level - 1]) {\n          this._zoom_in = true;\n          var zoom = this._zoom_level - 1;\n\n          this._changeZoomLevel(zoom);\n        }\n      },\n      webix_range_time_start: function () {\n        $$(this._settings.master)._time_mode = \"start\";\n      },\n      webix_range_time_end: function () {\n        $$(this._settings.master)._time_mode = \"end\";\n      },\n      webix_cal_done: function () {\n        var date = this.getVisibleDate();\n\n        if (this._zoom_in) {\n          var start = this.getSelectedDate(true);\n\n          if (start) {\n            start.setHours(date.getHours());\n            start.setMinutes(date.getMinutes());\n            date = start;\n          }\n        }\n\n        date = this._correctDate(date);\n\n        this._selectDate(date, false, \"user\");\n      },\n      webix_cal_month_name: function () {\n        if (!this._settings.navigation) return;\n        this._zoom_in = false; //maximum zoom reached\n\n        if (this._zoom_level == 2 || !this._settings.monthSelect) return;\n        var zoom = Math.max(this._zoom_level, 0) + 1;\n\n        this._changeZoomLevel(zoom);\n      },\n      webix_cal_block: function (e, id, trg) {\n        if (this._zoom_in) {\n          if (trg.className.indexOf(\"webix_cal_day_disabled\") !== -1) return false;\n\n          var next = this._locate_date(trg);\n\n          this._update_zoom_level(next);\n\n          var css = \"webix_cal_block\";\n          if (trg.className.indexOf(\"webix_cal_block_min\") !== -1) css = \"webix_cal_block_min\";\n\n          this._restore_focus(css);\n        } else {\n          if (trg.className.indexOf(\"webix_cal_day_disabled\") == -1) this._mode_selected(trg, \"user\");\n        }\n      }\n    },\n    _string_to_date: function (date, format) {\n      if (!date) return wDate.datePart(new Date());\n\n      if (typeof date == \"string\") {\n        if (format) date = wDate.strToDate(format)(date);else date = i18n.parseFormatDate(date);\n      }\n\n      return date;\n    },\n    _checkDate: function (date) {\n      var blockedDate = this._settings.blockDates && this._settings.blockDates.call(this, date);\n\n      var minDate = this._settings.minDate;\n      var maxDate = this._settings.maxDate;\n      var outOfRange = minDate && date < minDate || maxDate && date >= wDate.add(maxDate, 1, \"day\", true);\n      return !blockedDate && !outOfRange;\n    },\n    _findActive: function (date, mode) {\n      var dir = mode === \"top\" || mode === \"left\" || mode === \"pgup\" || mode === \"up\" ? -1 : 1;\n      var newdate = wDate.add(date, dir, \"day\", true);\n      if (this._checkDate(newdate)) return newdate;else {\n        var compare;\n        if (this._zoom_level === 0) compare = date.getMonth() === newdate.getMonth();else if (this._zoom_level === 1) compare = date.getFullYear() === newdate.getFullYear();else if (this._zoom_level === 2) compare = newdate.getFullYear() > this._zoom_start_date && newdate.getFullYear() < this._zoom_start_date + 10;\n        if (compare) return this._findActive(newdate, mode);\n      }\n    },\n    showCalendar: function (date) {\n      this.define(\"date\", date);\n      this.render();\n      this.resize();\n    },\n    _selectedDay: function (day) {\n      return day && this._selected_days[day.valueOf()];\n    },\n    getSelectedDate: function (first) {\n      var result = [];\n      var keys = Object.keys(this._selected_days);\n      var length = first ? Math.min(1, keys.length) : keys.length;\n\n      for (var i = 0; i < length; i++) {\n        result.push(wDate.copy(this._selected_days[keys[i]]));\n      }\n\n      return this.config.multiselect && !first ? result : result[0] || null;\n    },\n    getVisibleDate: function () {\n      return wDate.copy(this._settings.date);\n    },\n    setValue: function (date, config) {\n      this.selectDate(date, true, false, config);\n    },\n    getValue: function (format) {\n      var date = this.getSelectedDate();\n      if (format) date = wDate.dateToStr(format)(date);\n      return date;\n    },\n    selectDate: function (date, show, add, config) {\n      if (!date || !add || !this.config.multiselect) this._selected_days = {};\n\n      if (date) {\n        if (!isArray(date)) date = [date];\n\n        for (var i = 0; i < date.length; i++) {\n          var days = this._string_to_date(date[i]);\n\n          var key = wDate.datePart(wDate.copy(days)).valueOf();\n          if (this._selected_days[key] && add) delete this._selected_days[key];else this._selected_days[key] = days;\n          if (!this.config.multiselect) break;\n        }\n\n        if (date.length && show) this.showCalendar(date[0]);\n      }\n\n      if (show !== false) this.render();\n      this.callEvent(\"onChange\", [date, config]);\n    },\n    locate: function () {\n      return null;\n    }\n  };\n  var view$s = exports.protoUI(api$s, KeysNavigation, MouseEvents, base$1.view, EventSystem);\n\n  var api$t = {\n    name: \"colorboard\",\n    defaults: {\n      template: function (obj) {\n        return \"<div class=\\\"webix_color_item\\\" style=\\\"background-color:\".concat(obj.val, \";\\\"></div>\");\n      },\n      palette: null,\n      height: 250,\n      width: 260,\n      cols: 11,\n      rows: 10,\n      minLightness: 0.15,\n      maxLightness: 1,\n      navigation: true,\n      grayScale: true,\n      type: \"material\" // \"classic\"\n\n    },\n    $init: function () {\n      _event(this._viewobj, \"click\", bind(function (e) {\n        // prevent selection the main item container\n        var node = e.target.parentNode;\n        var value = locate(node,\n        /*@attr*/\n        \"webix_val\"); // locate can return null in case of drag\n\n        if (value) {\n          var oldvalue = this._settings.value;\n          this.setValue(value, \"user\"); //value can be changed via setValue\n\n          value = this._settings.value;\n          this.callEvent(\"onItemClick\", [value, e]);\n          if (value != oldvalue) this.callEvent(\"onSelect\", [value]);\n        }\n      }, this));\n\n      this.$view.setAttribute(\"role\", \"grid\");\n\n      this._viewobj.setAttribute(\"aria-readonly\", \"true\");\n    },\n    _get_clear_palette: function () {\n      return [\"#F34336\", \"#FF9700\", \"#FFEA3B\", \"#4CB050\", \"#009788\", \"#00BCD4\", \"#2196F3\", \"#3F51B5\", \"#673BB7\", \"#9C28B1\", \"#EA1E63\"];\n    },\n    _set_item_focus: function () {\n      if (!this.getValue()) this.moveSelection(\"up\");\n    },\n    _findIndex: function (value) {\n      var pal = this._settings.palette;\n      value = (value || \"\").toUpperCase();\n\n      for (var r = 0, rows = pal.length; r < rows; r++) {\n        for (var c = 0, cols = pal[r].length; c < cols; c++) {\n          if (pal[r][c].toUpperCase() == value) {\n            return {\n              row: r,\n              col: c\n            };\n          }\n        }\n      }\n\n      return null;\n    },\n    $setSize: function (x, y) {\n      if (base$1.api.$setSize.call(this, x, y)) {\n        this.render();\n      }\n    },\n    getValue: function () {\n      return this._settings.value;\n    },\n    _getBox: function () {\n      return this._viewobj.firstChild;\n    },\n    $prepareValue: function (value) {\n      value = value ? value.toString(16) : \"\";\n      if (value && value.charAt(0) != \"#\" && /^[0-9a-fA-F]+$/.test(value)) value = \"#\" + value;\n      return value;\n    },\n    value_setter: function (value) {\n      return this.$prepareValue(value);\n    },\n    setValue: function (value, config) {\n      value = this.$prepareValue(value);\n      var oldvalue = this._settings.value;\n\n      if (oldvalue != value) {\n        this._settings.value = value;\n        this.$setValue(value);\n        this.callEvent(\"onChange\", [value, oldvalue, config]);\n      }\n    },\n    $setValue: function (value) {\n      if (this.isVisible(this._settings.id)) {\n        // clear previous\n        if (this._activeSelection) {\n          var oldCell = this._getCell(this._activeSelection);\n\n          this._setSelection(oldCell, false);\n        }\n\n        var ind = this._activeSelection = this._findIndex(value);\n\n        if (ind) {\n          var cell = this._getCell(ind);\n\n          this._setSelection(cell, true);\n        }\n      }\n    },\n    _getCell: function (ind) {\n      return this._viewobj.lastChild.childNodes[ind.row].childNodes[ind.col];\n    },\n    _setSelection: function (cell, state) {\n      if (state) {\n        cell.setAttribute(\"tabindex\", \"0\");\n        cell.setAttribute(\"aria-selected\", \"true\");\n        addCss(cell, \"webix_color_selected\");\n      } else {\n        cell.setAttribute(\"tabindex\", \"-1\");\n        cell.removeAttribute(\"aria-selected\");\n        removeCss(cell, \"webix_color_selected\");\n      }\n    },\n\n    /* handle colors */\n    _numToHex: function (n) {\n      return color.toHex(n, 2);\n    },\n    _rgbToHex: function (r, g, b) {\n      return \"#\" + this._numToHex(Math.floor(r)) + this._numToHex(Math.floor(g)) + this._numToHex(Math.floor(b));\n    },\n    _hslToRgb: function (h, s, l) {\n      var r, g, b;\n\n      if (!s) {\n        r = g = b = l; // achromatic\n      } else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = this._hue2rgb(p, q, h + 1 / 3);\n        g = this._hue2rgb(p, q, h);\n        b = this._hue2rgb(p, q, h - 1 / 3);\n      }\n\n      return {\n        r: r * 255,\n        g: g * 255,\n        b: b * 255\n      };\n    },\n    _hue2rgb: function (p, q, t) {\n      if (t < 0) t += 1;\n      if (t > 1) t -= 1;\n      if (t < 1 / 6) return p + (q - p) * 6 * t;else if (t <= 1 / 2) return q;else if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;else return p;\n    },\n    _lightenRgb: function (rgb, lt) {\n      /*\tcolor = color * alpha + background * (1 - alpha); */\n      var r = rgb[0] * lt + 255 * (1 - lt);\n      var g = rgb[1] * lt + 255 * (1 - lt);\n      var b = rgb[2] * lt + 255 * (1 - lt);\n      return {\n        r: r,\n        g: g,\n        b: b\n      };\n    },\n    _getGrayScale: function (colCount) {\n      var gray = [];\n      var val = 255,\n          step = val / colCount;\n\n      for (var i = 0; i < colCount; i++) {\n        val = Math.round(val > 0 ? val : 0);\n        gray.push(this._rgbToHex(val, val, val));\n        val -= step;\n      }\n\n      gray[gray.length - 1] = \"#000000\";\n      return gray;\n    },\n    _initPalette: function (config) {\n      /* default palette (material and custom) */\n      var clearColors = this._get_clear_palette();\n\n      config.cols = clearColors.length; // always use the same set\n\n      var colors = [];\n      var colorRows = config.rows - 1; // a row is reserved for clear colors\t\t\n\n      var lightStep = 1 / config.rows;\n      var colorRange = null;\n\n      if (this._settings.grayScale) {\n        var grayColors = this._getGrayScale(config.cols);\n\n        colors.push(grayColors.reverse()); // inverted order\n\n        lightStep = 1 / colorRows;\n        colorRows -= 1;\n      }\n\n      colors.push(clearColors);\n\n      for (var step = 0, lt = config.maxLightness; step < colorRows; step++) {\n        lt -= lightStep;\n        colorRange = [];\n\n        for (var col = 0; col < config.cols; col++) {\n          var clearRgb = color.toRgb(clearColors[col]);\n\n          var val = this._lightenRgb(clearRgb, lt);\n\n          colorRange.push(this._rgbToHex(val.r, val.g, val.b));\n        }\n\n        colors.push(colorRange);\n      }\n\n      this._settings.palette = colors;\n    },\n    _initOldPalette: function (config) {\n      /* old (classic) palette */\n      var colors = [];\n      var colorStep = 1 / config.cols;\n      var colorRows = config.rows;\n      var colorRange = null;\n\n      if (this._settings.grayScale) {\n        colors.push(this._getGrayScale(config.cols));\n        colorRows -= 1;\n      }\n\n      var lightStep = (config.maxLightness - config.minLightness) / colorRows;\n\n      for (var step = 0, lt = config.minLightness; step < colorRows; step++) {\n        colorRange = [];\n\n        for (var c = 0, col = 0; c < config.cols; c++) {\n          var val = this._hslToRgb(col, 1, lt);\n\n          colorRange.push(this._rgbToHex(val.r, val.g, val.b));\n          col += colorStep;\n        }\n\n        colors.push(colorRange);\n        lt += lightStep;\n      }\n\n      this._settings.palette = colors;\n    },\n    moveSelection: function (mode, details, focus) {\n      var value = this.getValue(),\n          ind,\n          cell;\n      if (value) ind = this._findIndex(value);\n      if (!ind) ind = {\n        row: 0,\n        col: 0\n      };\n\n      if (ind) {\n        if (mode == \"up\" || mode == \"down\") ind.row = ind.row + (mode == \"up\" ? -1 : 1);else if (mode == \"right\" || mode == \"left\") ind.col = ind.col + (mode == \"right\" ? 1 : -1);else if (mode == \"top\") ind.row = ind.col = 0;else if (mode == \"bottom\") {\n          ind.row = this._viewobj.lastChild.querySelectorAll(\".webix_color_row\").length - 1;\n          ind.col = this._viewobj.lastChild.childNodes[ind.row].childNodes.length - 1;\n        }\n        ind.row = Math.max(ind.row, 0);\n\n        if (ind.row >= 0) {\n          // check if this is a last row\n          var row = this._viewobj.lastChild.childNodes[ind.row];\n          if (row) cell = row.childNodes[ind.col];\n        }\n\n        if (cell) {\n          value = cell.getAttribute(\n          /*@attr*/\n          \"webix_val\");\n          var config = details && details.e instanceof KeyboardEvent ? \"user\" : \"auto\";\n          this.setValue(value, config);\n          this.callEvent(\"onSelect\", [this._settings.value]);\n\n          if (focus !== false) {\n            var sel = this._viewobj.querySelector(\"div[tabindex='0']\");\n\n            if (sel) sel.focus();\n          }\n        }\n      }\n    },\n    _renderRow: function (row, widths, height) {\n      var data = {\n        width: 0,\n        height: 0,\n        val: 0\n      };\n      var rowHtml = \"<div class=\\\"webix_color_row\\\" role=\\\"row\\\">\";\n\n      for (var cell = 0; cell < row.length; cell++) {\n        data.width = widths[cell];\n        data.height = height;\n        data.val = row[cell];\n        rowHtml += this._renderItem(data);\n      }\n\n      rowHtml += \"</div>\";\n      return rowHtml;\n    },\n    _renderItem: function (obj) {\n      var colorTemplate = template(this._settings.template || \"\");\n      return \"<div role=\\\"gridcell\\\" tabindex=\\\"-1\\\" aria-label=\\\"\".concat(obj.val, \"\\\" style=\\\"width:\").concat(obj.width, \"px;height:\").concat(obj.height, \"px;\\\" \",\n      /*@attr*/\n      \"webix_val\", \"=\\\"\").concat(obj.val, \"\\\">\").concat(colorTemplate(obj), \"</div>\");\n    },\n    render: function () {\n      if (!this.isVisible(this._settings.id)) return;\n      var type = this._settings.type;\n\n      if (!this._settings.palette) {\n        if (type === \"classic\") this._initOldPalette(this._settings);else this._initPalette(this._settings);\n      }\n\n      var palette = this._settings.palette;\n      this.callEvent(\"onBeforeRender\", []);\n      var padding = type === \"classic\" ? 0 : $active.colorPadding;\n      var single$$1 = _typeof(palette[0]) == \"object\";\n      var firstRow = single$$1 ? palette[0] : palette;\n      var deltaWidth = padding * 2 + padding * (firstRow.length - 1);\n      var deltaHeight = padding * 2 + padding * (single$$1 ? palette.length - 1 : 0);\n      var width = this.$width - deltaWidth,\n          height = this.$height - deltaHeight,\n          widths = [];\n      var html = \"<div class=\\\"webix_color_palette \".concat(\"webix_palette_\" + type, \"\\\" role=\\\"rowgroup\\\">\");\n\n      for (var i = 0; i < firstRow.length; i++) {\n        widths[i] = Math.floor(width / (firstRow.length - i));\n        width -= widths[i];\n      }\n\n      if (_typeof(palette[0]) == \"object\") {\n        for (var r = 0; r < palette.length; r++) {\n          var cellHeight = Math.floor(height / (palette.length - r));\n          height -= cellHeight;\n          var row = palette[r];\n          html += this._renderRow(row, widths, cellHeight);\n        }\n      } else html += this._renderRow(palette, widths, height);\n\n      html += \"</div>\";\n      this._viewobj.innerHTML = html;\n      if (this._settings.value) this.$setValue(this._settings.value);else this._viewobj.lastChild.childNodes[0].childNodes[0].setAttribute(\"tabindex\", \"0\");\n\n      this._fix_cover();\n\n      this.callEvent(\"onAfterRender\", []);\n    },\n    refresh: function () {\n      this.render();\n    }\n  };\n  var view$t = exports.protoUI(api$t, KeysNavigation, base$1.view, EventSystem);\n\n  var api$u = {\n    name: \"colorselect\",\n    defaults: {\n      width: 260,\n      height: 250,\n      value: \"#751FE0\"\n    },\n    $init: function () {\n      var _this = this;\n\n      this._hValue = this._sValue = this._vValue = 0;\n\n      _event(this.$view, \"keydown\", function (e) {\n        return _this._handle_move_keyboard(e);\n      });\n\n      this.attachEvent(\"onAfterRender\", function () {\n        var _this2 = this;\n\n        _event(this._colorBlock, env.mouse.down, function (e) {\n          return _this2._handle_dnd(e, \"mouse\");\n        });\n\n        _event(this._colorLine, env.mouse.down, function (e) {\n          return _this2._handle_dnd(e, \"mouse\", true);\n        });\n\n        if (env.touch) {\n          _event(this._colorBlock, env.touch.down, function (e) {\n            return _this2._handle_dnd(e, \"touch\");\n          });\n\n          _event(this._colorLine, env.touch.down, function (e) {\n            return _this2._handle_dnd(e, \"touch\", true);\n          });\n        }\n\n        _event(this._colorOutText, \"change\", function () {\n          return _this2.setValue(_this2._colorOutText.value, \"user\");\n        });\n\n        if (this._settings.button) _event(this._viewobj.querySelector(\".webix_button\"), \"click\", function () {\n          _this2.callEvent(\"onColorSelect\", [_this2.getValue()]);\n        });\n      });\n      this.attachEvent(\"onDestruct\", function () {\n        this._colorCircle = this._colorLineCircle = this._colorBlock = null;\n        this._colorLine = this._colorOutText = this._colorOutBlock = this._offset = null;\n      });\n    },\n    $skin: function () {\n      if ($name == \"compact\" || $name == \"mini\") this._inpHeight = 24;else this._inpHeight = 32;\n    },\n    $setSize: function (x, y) {\n      if (base$1.api.$setSize.call(this, x, y)) {\n        this.render();\n      }\n    },\n    getValue: function () {\n      return this._settings.value;\n    },\n    $prepareValue: function (value) {\n      value = value ? value.toString(16) : \"\";\n      if (value && value.charAt(0) != \"#\" && /^[0-9a-fA-F]+$/.test(value)) value = \"#\" + value;\n      return value;\n    },\n    value_setter: function (value) {\n      return this.$prepareValue(value);\n    },\n    setValue: function (value, config) {\n      value = this.$prepareValue(value);\n      var oldvalue = this._settings.value;\n\n      if (oldvalue != value) {\n        this._settings.value = value;\n        this.$setValue(value);\n        this.callEvent(\"onChange\", [value, oldvalue, config]);\n      }\n    },\n    $setValue: function (value) {\n      if (this.isVisible(this._settings.id)) {\n        var rgb = color.toRgb(value);\n\n        if (value !== this._current_value) {\n          //set by API\n          var hsv = color.rgbToHsv.apply(color, _toConsumableArray(rgb));\n          this._hValue = hsv[0];\n          this._sValue = hsv[1];\n          this._vValue = hsv[2];\n        }\n\n        var left = this._hValue * this._offset.width / 359;\n        this._colorLineCircle.style.left = left + \"px\";\n        var x = this._sValue * this._offset.width;\n        var y = Math.abs(this._offset.height * (this._vValue - 1));\n        this._colorCircle.style.left = Math.max(Math.min(x, this._offset.width), 0) + \"px\";\n        this._colorCircle.style.top = Math.max(Math.min(y, this._offset.height), 0) + \"px\";\n\n        this._colorCircle.setAttribute(\"aria-valuetext\", value);\n\n        this._colorLineCircle.setAttribute(\"aria-valuetext\", value);\n\n        this._setOutColors(rgb, value);\n\n        this._setBlockColors();\n      }\n    },\n    _setOutColors: function (rgb, hex) {\n      if (!rgb) rgb = color.hsvToRgb(this._hValue, this._sValue, this._vValue);\n      if (!hex) hex = \"#\" + color.rgbToHex(rgb);\n      var bgColor = \"rgb(\".concat(rgb[0], \", \").concat(rgb[1], \", \").concat(rgb[2], \")\");\n      this._colorCircle.style.backgroundColor = bgColor;\n      this._colorOutBlock.style.backgroundColor = bgColor;\n      this._colorOutText.value = hex.toUpperCase();\n      this._current_value = hex;\n    },\n    _setBlockColors: function () {\n      var rgb = color.hsvToRgb(this._hValue, 1, 1);\n      var rgbStr = \"rgb(\".concat(rgb[0], \", \").concat(rgb[1], \", \").concat(rgb[2], \")\");\n      this._colorLineCircle.style.backgroundColor = rgbStr;\n      this._colorBlock.style.backgroundColor = rgbStr;\n    },\n    // dragging to set value\n    _move_block: function (e) {\n      var pos$$1 = pos(e);\n      var x = pos$$1.x - this._offset.x;\n      var y = pos$$1.y - this._offset.y;\n      x = Math.max(Math.min(x, this._offset.width), 0);\n      y = Math.max(Math.min(y, this._offset.height), 0);\n      this._colorCircle.style.left = x + \"px\";\n      this._colorCircle.style.top = y + \"px\";\n      var pxX = this._offset.width / 100;\n      var pxY = this._offset.height / 100;\n      var s = Math.ceil(x / pxX) / 100;\n      var v = Math.ceil(Math.abs(y / pxY - 100)) / 100;\n      this._sValue = s;\n      this._vValue = v;\n\n      this._setOutColors();\n    },\n    _move_line: function (e) {\n      var pos$$1 = pos(e);\n      var x = pos$$1.x - this._offset.x;\n      x = Math.max(Math.min(x, this._offset.width), 0);\n      this._colorLineCircle.style.left = x + \"px\";\n      var h = Math.round(x * 359 / this._offset.width);\n      this._hValue = Math.max(Math.min(h, 359), 0);\n\n      this._setOutColors();\n\n      this._setBlockColors();\n    },\n    _handle_dnd: function (e, pointer, line) {\n      var _this3 = this;\n\n      this._offset = offset(this._colorBlock);\n\n      if (line) {\n        addCss(this._colorLine, \"webix_color_area_active\");\n\n        this._move_line(e);\n      } else {\n        addCss(this._colorBlock, \"webix_color_area_active\");\n\n        this._move_block(e);\n      }\n\n      var passive = pointer === \"touch\" ? {\n        passive: false\n      } : null;\n      this._handle_drag_events = [event$1(document.body, env[pointer].move, function (e) {\n        return _this3._handle_move_process(e, pointer, line);\n      }, passive), event$1(document, env[pointer].up, function () {\n        return _this3._handle_move_stop(line);\n      })];\n      addCss(document.body, \"webix_noselect\");\n    },\n    _handle_move_process: function (e, pointer, line) {\n      if (line) this._move_line(e);else this._move_block(e);\n      if (pointer === \"touch\") preventEvent(e);\n    },\n    _handle_move_stop: function (line) {\n      //detach event handlers\n      eventRemove(this._handle_drag_events[0]);\n      eventRemove(this._handle_drag_events[1]);\n      this._handle_drag_events = null;\n      this.setValue(this._current_value, \"user\");\n\n      if (line) {\n        removeCss(this._colorLine, \"webix_color_area_active\");\n\n        this._colorLineCircle.focus();\n      } else {\n        removeCss(this._colorBlock, \"webix_color_area_active\");\n\n        this._colorCircle.focus();\n      }\n\n      removeCss(document.body, \"webix_noselect\");\n    },\n    _move_block_value: function (val, inc) {\n      return Math.min(Math.max(val + inc / 100, 0), 1);\n    },\n    _move_line_value: function (val, inc) {\n      return Math.min(Math.max(val + inc, 0), 359);\n    },\n    _handle_move_keyboard: function (e) {\n      var code = e.which || e.keyCode;\n\n      if (code > 32 && code < 41) {\n        var match = /webix_color_(\\w*)circle/.exec(e.target.className);\n        if (!match) return;\n        preventEvent(e);\n\n        if (match[1].length) {\n          //line\n          if (code === 36) this._hValue = 0;else if (code === 35) this._hValue = 359;else {\n            var inc = code === 37 || code === 40 || code === 34 ? -1 : 1;\n            this._hValue = this._move_line_value(this._hValue, inc);\n          }\n\n          this._setBlockColors();\n        } else {\n          if (code === 36) {\n            this._sValue = 0;\n            this._vValue = 1;\n          } else if (code === 35) this._sValue = this._vValue = 1;else if (code === 39 || code === 37) {\n            var _inc = code === 39 ? 1 : -1;\n\n            this._sValue = this._move_block_value(this._sValue, _inc);\n          } else {\n            var _inc2 = code === 33 || code === 38 ? 1 : -1;\n\n            this._vValue = this._move_block_value(this._vValue, _inc2);\n          }\n        }\n\n        this._setOutColors(); //paint value, black colors may have a bigger step\n\n\n        if (this._settings.value == this._current_value) this.$setValue(this._current_value);else this.setValue(this._current_value, \"user\");\n      }\n    },\n    moveSelection: function (mode) {\n      if (mode == \"pgup\" || mode == \"pgdown\") {\n        //line\n        var inc = mode === \"pgup\" ? -1 : 1;\n        this._hValue = this._move_line_value(this._hValue, inc);\n\n        this._setBlockColors();\n      } else if (mode != \"top\" && mode !== \"bottom\") {\n        var _inc3 = mode == \"up\" || mode == \"right\" ? 1 : -1;\n\n        if (mode == \"down\" || mode == \"up\") this._vValue = this._move_block_value(this._vValue, _inc3);else this._sValue = this._move_block_value(this._sValue, _inc3);\n      }\n\n      this._setOutColors();\n\n      this.setValue(this._current_value, \"auto\");\n    },\n    render: function () {\n      if (!this.isVisible(this._settings.id)) return;\n      this.callEvent(\"onBeforeRender\", []);\n      var inpWidth = (this.$width - $active.dataPadding * 3) / 2; //24 paddings, 32 color line, 12 padding\n\n      var bHeight = this.$height - 24 - 32 - this._inpHeight - (this._settings.button ? this._inpHeight + 12 : 0);\n      var html = \"<div class=\\\"webix_color_area\\\">\";\n      html += \"\\n\\t\\t\\t<div \".concat(\n      /*@attr*/\n      \"webix_disable_drag\", \"=\\\"true\\\" class=\\\"webix_color_block\\\" style=\\\"height:\", bHeight, \"px;\\\">\\n\\t\\t\\t\\t<div class=\\\"webix_color_circle\\\" tabindex=\\\"0\\\" role=\\\"slider\\\"></div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div \",\n      /*@attr*/\n      \"webix_disable_drag\", \"=\\\"true\\\" class=\\\"webix_color_line\\\">\\n\\t\\t\\t\\t<div class=\\\"webix_color_line_circle\\\" tabindex=\\\"0\\\" role=\\\"slider\\\"></div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"webix_color_out\\\">\\n\\t\\t\\t\\t<div style=\\\"width:\").concat(inpWidth, \"px\\\" class=\\\"webix_color_out_block\\\"></div>\\n\\t\\t\\t\\t<input type=\\\"text\\\" style=\\\"width:\").concat(inpWidth, \"px\\\" class=\\\"webix_color_out_text\\\"></input>\\n\\t\\t\\t</div>\\n\\t\\t\");\n      if (this._settings.button) html += \"<div class='webix_secondary'><button class=\\\"webix_button\\\">\".concat(i18n.combo.select, \"</button></div>\");\n      html += \"</div>\";\n      this._viewobj.innerHTML = html;\n\n      this._collect_vars();\n\n      this.$setValue(this._settings.value);\n\n      this._fix_cover();\n\n      this.callEvent(\"onAfterRender\", []);\n    },\n    _collect_vars: function () {\n      this._colorCircle = this._viewobj.querySelector(\".webix_color_circle\");\n      this._colorLineCircle = this._viewobj.querySelector(\".webix_color_line_circle\");\n      this._colorBlock = this._viewobj.querySelector(\".webix_color_block\");\n      this._colorLine = this._viewobj.querySelector(\".webix_color_line\");\n      this._colorOutText = this._viewobj.querySelector(\".webix_color_out_text\");\n      this._colorOutBlock = this._viewobj.querySelector(\".webix_color_out_block\");\n      this._offset = offset(this._colorBlock);\n    },\n    refresh: function () {\n      this.render();\n    }\n  };\n  var view$u = exports.protoUI(api$u, base$1.view, EventSystem);\n\n  var api$v = {\n    name: \"button\",\n    touchable: true,\n    $skin: function () {\n      this.defaults.height = $active.buttonHeight || $active.inputHeight;\n    },\n    defaults: {\n      template: function (obj, common) {\n        var text = common.$renderInput(obj, common);\n        if (obj.badge || obj.badge === 0) text = text.replace(\"</button>\", \"<span class='webix_badge'>\" + obj.badge + \"</span></button>\");\n        return \"<div class='webix_el_box' style='width:\" + obj.awidth + \"px; height:\" + obj.aheight + \"px'>\" + text + \"</div>\";\n      },\n      label: \"\",\n      value: \"\",\n      borderless: true\n    },\n    $renderInput: function (obj) {\n      return \"<button type='button' \" + (obj.popup ? \"aria-haspopup='true'\" : \"\") + \" class='webix_button'>\" + (obj.label || obj.value) + \"</button>\";\n    },\n    $init: function (config) {\n      this._viewobj.className += \" webix_control webix_el_\" + (this.$cssName || this.name);\n      this._destroy_with_me = [];\n\n      this._set_default_css(config);\n\n      this.data = this._settings;\n      this._dataobj = this._viewobj;\n      this.$ready.push(function () {\n        this._calc_size(this.config);\n      });\n    },\n    hotkey_setter: function (key) {\n      var control = this;\n\n      this._addElementHotKey(key, function (view, ev) {\n        if (control.isVisible()) {\n          var elem = control.$view.firstChild;\n          triggerEvent(elem, \"MouseEvent\", \"click\");\n          preventEvent(ev);\n        }\n      });\n    },\n    _set_default_css: function (config) {\n      if (!config.css || !this._get_class(config.css) || this.defaults.css && !this._get_class(this.defaults.css)) {\n        this._viewobj.className += \" webix_secondary\";\n      }\n    },\n    _get_class: function (css) {\n      if (typeof css == \"string\") {\n        var classes = {\n          webix_danger: 1,\n          webix_transparent: 1,\n          webix_primary: 1\n        };\n\n        for (var i in classes) {\n          if (css.indexOf(i) !== -1) return true;\n        }\n      }\n\n      return false;\n    },\n    _addElementHotKey: function (key, func, view) {\n      var keyCode = UIManager.addHotKey(key, func, view);\n      this.attachEvent(\"onDestruct\", function () {\n        UIManager.removeHotKey(keyCode, func, view);\n      });\n    },\n    type_setter: function (value) {\n      if (this._types[value]) this.$renderInput = template(this._types[value]);\n      return value;\n    },\n    _set_inner_size: false,\n    _types: {\n      image: \"<button type='button' class='webix_button webix_img_btn' style='line-height:#cheight#px;'><img class='webix_image' style='max-width:#cheight#px; max-height:#cheight#px;' src = '#image#'>#label#</button>\",\n      imageTop: \"<button type='button' class='webix_button webix_img_btn_top'><img class='webix_image' style='max-width:#cheight#px; max-height:#cheight#px;' src = '#image#'><div class='webix_img_btn_text'>#label#</div></button>\",\n      icon: \"<button type='button' class='webix_button webix_img_btn' style='line-height:#cheight#px;'><span class='webix_icon_btn #icon#' style='max-width:#cheight#px;'></span>#label#</button>\",\n      iconTop: \"<button type='button' class='webix_button webix_img_btn_top' style='width:100%;text-align:center;'><span class='webix_icon #icon#'></span><div class='webix_img_btn_text'>#label#</div></button>\"\n    },\n    _findAllInputs: function () {\n      var result = [];\n      var tagNames = [\"input\", \"select\", \"textarea\", \"button\"];\n\n      for (var i = 0; i < tagNames.length; i++) {\n        var inputs = this.$view.getElementsByTagName(tagNames[i]);\n\n        for (var j = 0; j < inputs.length; j++) {\n          result.push(inputs[j]);\n        }\n      }\n\n      return result;\n    },\n    disable: function () {\n      var i,\n          node,\n          elem = this._getBox();\n\n      base.api.disable.apply(this, arguments);\n\n      if (elem && elem.className.indexOf(\" webix_disabled_box\") == -1) {\n        elem.className += \" webix_disabled_box\";\n\n        var inputs = this._findAllInputs();\n\n        for (i = 0; i < inputs.length; i++) {\n          inputs[i].setAttribute(\"disabled\", true);\n        } // richselect and based on it\n\n\n        node = this.getInputNode();\n\n        if (node && node.tagName.toLowerCase() == \"div\") {\n          this._disabledTabIndex = node.getAttribute(\"tabIndex\");\n          node.removeAttribute(\"tabIndex\");\n        }\n\n        if (this._settings.labelPosition == \"top\") {\n          var label = this._dataobj.firstChild;\n          if (label) label.className += \" webix_disabled_top_label\";\n        }\n      }\n    },\n    enable: function () {\n      base.api.enable.apply(this, arguments);\n\n      var node,\n          elem = this._getBox();\n\n      if (elem) {\n        elem.className = elem.className.replace(\" webix_disabled_box\", \"\");\n\n        var inputs = this._findAllInputs();\n\n        for (var i = 0; i < inputs.length; i++) {\n          inputs[i].removeAttribute(\"disabled\");\n        }\n\n        node = this.getInputNode();\n        if (node && !isUndefined(this._disabledTabIndex)) node.setAttribute(\"tabIndex\", this._disabledTabIndex);\n\n        if (this._settings.labelPosition == \"top\") {\n          var label = this._dataobj.firstChild;\n          if (label) label.className = label.className.replace(\" webix_disabled_top_label\", \"\");\n        }\n      }\n    },\n    $setSize: function (x, y) {\n      if (base$1.api.$setSize.call(this, x, y)) {\n        this.render();\n      }\n    },\n    setValue: function (value, config) {\n      value = this.$prepareValue(value);\n      var oldvalue = this._settings.value;\n\n      if (this.$compareValue(oldvalue, value)) {\n        //controls with post formating, we need to repaint value\n        if (this._rendered_input && this._pattern) {\n          value = this._pattern(value);\n          var input = this.getInputNode();\n          if (input && !isUndefined(input.value) && input.value != value) this.$setValue(value);\n        }\n\n        return;\n      }\n\n      this._settings.value = value;\n      if (this._rendered_input) this.$setValue(value);\n      this.callEvent(\"onChange\", [value, oldvalue, config]);\n    },\n    $compareValue: function (oldvalue, value) {\n      if (typeof value === \"number\") value = value.toString();\n      if (typeof oldvalue === \"number\") oldvalue = oldvalue.toString();\n      return oldvalue == value;\n    },\n    $prepareValue: function (value) {\n      return value === 0 ? \"0\" : (value || \"\").toString();\n    },\n    value_setter: function (value) {\n      return this.$prepareValue(value);\n    },\n    //visual part of setValue\n    $setValue: function (value) {\n      var node = this.getInputNode();\n\n      if (node && !this._types[this._settings.type]) {\n        value = this._settings.label || value;\n        if (node.tagName == \"BUTTON\") node.innerHTML = value;else node.value = value;\n      }\n    },\n    getValue: function () {\n      //if button was rendered - returning actual value\n      //otherwise - returning last set value\n      var value = this._rendered_input ? this.$getValue() : this._settings.value;\n      return typeof value == \"undefined\" ? \"\" : value;\n    },\n    $getValue: function () {\n      return this._settings.value || \"\";\n    },\n    focus: function () {\n      if (!UIManager.canFocus(this)) return false;\n      var input = this.getInputNode();\n      if (input && input.focus) input.focus();\n    },\n    blur: function () {\n      var input = this.getInputNode();\n      if (input && input.blur) input.blur();\n    },\n    //get input element\n    getInputNode: function () {\n      return this._dataobj.getElementsByTagName(\"input\")[0] || this._dataobj.getElementsByTagName(\"button\")[0];\n    },\n    //get top-level sub-container\n    _getBox: function () {\n      for (var i = 0; i < this._dataobj.childNodes.length; i++) {\n        if (this._dataobj.childNodes[i].className.indexOf(\"webix_el_box\") >= 0) return this._dataobj.childNodes[i];\n      }\n\n      return null;\n    },\n    _get_tooltip_data: function (t, e) {\n      var node = e.target;\n\n      var box = this._getBox();\n\n      var isTopLabel = this._settings.labelPosition == \"top\" && this._dataobj.firstChild.contains(node);\n\n      if (isTopLabel || box && box.contains(node)) return this._settings;\n      return null;\n    },\n    _sqrt_2: Math.sqrt(2),\n    _calc_size: function (config) {\n      config = config || this._settings;\n\n      if (config.autowidth) {\n        var width = getTextSize(config.value || config.label || \"\", \"webixbutton\").width + (config.badge || config.badge === 0 ? getTextSize(config.badge, \"webix_badge\").width * 2 - 32 : 0) + (config.type === \"icon\" ? 24 : 0) + (config.type === \"image\" ? config.height - $active.inputPadding : 0);\n        width = Math.max(config.minWidth || 0, width);\n        config.width = Math.min(config.maxWidth || Infinity, width);\n      }\n    },\n    _calck_input_size: function () {\n      //use width for both width and inputWidth settings in clever way\n      //in form, we can define width for some element smaller than for siblings\n      //it will use inputWidth to render the desired view\n      this._input_width = this._settings.inputWidth || (this._content_width - this._settings.width > 2 ? this._settings.width : 0) || this._content_width;\n      this._input_height = this._settings.inputHeight || this._inputHeight || 0;\n    },\n    resize: function () {\n      this._calc_size();\n\n      return base$1.api.resize.apply(this, arguments);\n    },\n    render: function () {\n      this._calck_input_size();\n\n      this._settings.awidth = this._input_width || this._content_width;\n      this._settings.aheight = this._input_height || this._content_height; //image button - image width\n\n      this._settings.bheight = this._settings.aheight + 2;\n      this._settings.cheight = this._settings.aheight - 2 * $active.inputPadding;\n      this._settings.dheight = this._settings.cheight - 2; // - borders\n\n      if (AtomRender.render.call(this)) {\n        this._rendered_input = true;\n        if (this._set_inner_size) this._set_inner_size();\n\n        if (this._settings.align) {\n          var handle = this._dataobj.firstChild;\n          if (this._settings.labelPosition == \"top\" && handle.nextSibling) handle = handle.nextSibling;\n\n          switch (this._settings.align) {\n            case \"right\":\n              handle.style.cssFloat = \"right\";\n              break;\n\n            case \"center\":\n              handle.style.display = \"inline-block\";\n              handle.parentNode.style.textAlign = \"center\";\n              break;\n\n            case \"middle\":\n              handle.style.marginTop = Math.round((this._content_height - this._input_height) / 2) + \"px\";\n              break;\n\n            case \"bottom\":\n              handle.style.marginTop = this._content_height - this._input_height + \"px\";\n              break;\n\n            case \"left\":\n              handle.style.cssFloat = \"left\";\n              break;\n\n            default:\n              assert(false, \"Unknown align mode: \" + this._settings.align);\n              break;\n          }\n        }\n\n        if (this.$render) this.$render(this.data);\n        if (this._settings.disabled) this.disable();\n\n        if (this._init_once) {\n          this._init_once(this.data);\n\n          this._init_once = 0;\n        }\n      }\n    },\n    refresh: function () {\n      this.render();\n    },\n    on_click: {\n      _handle_tab_click: function (ev) {\n        var id = locate(ev,\n        /*@attr*/\n        \"button_id\");\n        var opt = this.getOption(id);\n\n        if (opt && !opt.disabled && this.callEvent(\"onBeforeTabClick\", [id, ev])) {\n          this.setValue(id, \"user\");\n          this.focus();\n          this.callEvent(\"onAfterTabClick\", [id, ev]);\n        }\n      },\n      webix_all_segments: function (ev, button) {\n        this.on_click._handle_tab_click.call(this, ev, button);\n      },\n      webix_all_tabs: function (ev, button) {\n        this.on_click._handle_tab_click.call(this, ev, button);\n      },\n      webix_inp_counter_next: function () {\n        if (!this._settings.readonly) this.next(this._settings.step, \"user\");\n      },\n      webix_inp_counter_prev: function () {\n        if (!this._settings.readonly) this.prev(this._settings.step, \"user\");\n      },\n      webix_input_icon: function () {\n        this.getInputNode().focus();\n      },\n      webix_clear_icon: function () {\n        if (this.$allowsClear) this.setValue(\"\", \"user\");\n        return false;\n      },\n      webix_inp_checkbox_border: function (e) {\n        if (!this._settings.disabled && e.target.tagName != \"DIV\" && !this._settings.readonly) this.toggle(\"user\");\n      },\n      webix_inp_checkbox_label: function () {\n        if (!this._settings.readonly) this.toggle(\"user\");\n      },\n      webix_inp_radio_border: function (e) {\n        var id = locate(e,\n        /*@attr*/\n        \"radio_id\");\n        var opt = this.getOption(id);\n\n        if (opt && !opt.disabled) {\n          this.setValue(id, \"user\");\n          this.focus();\n        }\n      },\n      webix_tab_more_icon: function (ev, obj, node) {\n        var popup = this.getPopup();\n\n        if (!popup.isVisible()) {\n          popup.resize();\n          popup.show(node, null, true);\n        } else popup.hide();\n      },\n      webix_tab_close: function (e) {\n        var id = locate(e,\n        /*@attr*/\n        \"button_id\");\n        var opt = this.getOption(id);\n        if (opt && !opt.disabled && this.callEvent(\"onBeforeTabClose\", [id, e])) this.removeOption(id);\n        return false;\n      }\n    },\n    //method do not used by button, but  used by other child-views\n    _check_options: function (opts) {\n      assert(!!opts, this.name + \": options not defined\");\n      assert(isArray(opts), this.name + \": options must be an array\");\n\n      for (var i = 0; i < opts.length; i++) {\n        // asserts need to be removed in final version\t\t\t\n        assert(!opts[i].text, \"Please replace .text with .value in control config\");\n        assert(!opts[i].label, \"Please replace .label with .value in control config\");\n\n        if (typeof opts[i] == \"string\") {\n          opts[i] = {\n            id: opts[i],\n            value: opts[i]\n          };\n        } else {\n          if (isUndefined(opts[i].id)) opts[i].id = opts[i].value;\n          if (isUndefined(opts[i].value)) opts[i].value = opts[i].id;\n        }\n      }\n\n      return opts;\n    },\n    _get_div_placeholder: function (obj) {\n      var placeholder = obj ? obj.placeholder : this._settings.placeholder;\n      return placeholder ? \"<span class='webix_placeholder'>\" + placeholder + \"</span>\" : \"\";\n    }\n  };\n  var view$v = exports.protoUI(api$v, base$1.view, AutoTooltip, AtomRender, Settings, EventSystem);\n  var button$1 = {\n    api: api$v,\n    view: view$v\n  };\n\n  var api$w = {\n    name: \"label\",\n    defaults: {\n      template: \"<div class='webix_el_box' style='width:#awidth#px;height:#aheight#px;line-height:#cheight#px'>#label#</div>\"\n    },\n    $skin: function () {\n      button$1.api.$skin.call(this);\n      this.defaults.height = $active.inputHeight;\n    },\n    focus: function () {\n      return false;\n    },\n    _getBox: function () {\n      return this._dataobj.firstChild;\n    },\n    setHTML: function (html) {\n      this._settings.label = html;\n      this.refresh();\n    },\n    setValue: function (value) {\n      this._settings.label = value;\n      button$1.api.setValue.apply(this, arguments);\n    },\n    $setValue: function (value) {\n      this._dataobj.firstChild.innerHTML = value;\n    },\n    $render: function (config) {\n      if (config.align === \"right\") this._dataobj.firstChild.style.textAlign = \"right\";\n    },\n    _set_inner_size: false,\n    _set_default_css: function () {},\n    _calc_size: function (config) {\n      var css = \"webix_el_box webixlabel\" + (this.queryView(\"toolbar\", \"parent\") ? \" webixtoolbarlabel\" : \"\");\n      config = config || this._settings;\n      if (config.autowidth) config.width = getTextSize(config.label, css).width;\n    }\n  };\n  var view$w = exports.protoUI(api$w, button$1.view);\n\n  var nav_controls = {\n    9: \"tab\",\n    38: \"up\",\n    40: \"down\",\n    37: \"left\",\n    39: \"right\"\n  };\n  var TextPattern = {\n    $init: function (config) {\n      var pattern = this.defaults.pattern || config.pattern;\n      var format = this.defaults.format || config.format;\n      config.value = isUndefined(config.value) ? \"\" : config.value;\n\n      if (pattern || format && !this.format_setter) {\n        this.attachEvent(\"onKeyPress\", function (code, e) {\n          if (e.ctrlKey || e.altKey || this._settings.readonly || this._custom_format) return;\n          if (code > 105 && code < 112) //numpad operators\n            code -= 64;\n\n          if (nav_controls[code] && code !== 8 && code !== 46) {\n            //del && bsp\n            return;\n          }\n\n          this._on_key_pressed(e, code);\n\n          return false;\n        });\n        this.attachEvent(\"onAfterRender\", this._after_render);\n\n        this.getText = function () {\n          return this.getInputNode().value;\n        };\n\n        this.$prepareValue = function (value) {\n          return this._pattern(value, false);\n        };\n\n        this._pattern = function (value, mode) {\n          if (mode === false) return this._getRawValue(value);else return this._matchPattern(value);\n        };\n\n        if (format) {\n          if (_typeof(format) === \"object\") {\n            this._custom_format = format;\n          } else {\n            format = Number$1.getConfig(format);\n            this._custom_format = {\n              parse: function (value) {\n                return Number$1.parse(value, format);\n              },\n              edit: function (value) {\n                return Number$1.format(value, format);\n              }\n            };\n          }\n        }\n      } // initialize pattern before value_setter\n\n\n      if (pattern) {\n        this._settings.pattern = this.pattern_setter(pattern);\n        delete config.pattern;\n      }\n    },\n    pattern_setter: function (value) {\n      var pattern = patterns[value] || value;\n      if (typeof pattern == \"string\") pattern = {\n        mask: pattern\n      };\n      pattern.allow = pattern.allow || /[A-Za-z0-9]/g;\n\n      this._patternScheme(pattern);\n\n      return pattern;\n    },\n    _init_validation: function () {\n      this.config.validate = this.config.validate || bind(function () {\n        var value = this.getText();\n        var raw = value.replace(this._pattern_chars, \"\");\n        var matches = (value.toString().match(this._pattern_allows) || []).join(\"\");\n        return matches.length == raw.length && value.length == this._settings.pattern.mask.length;\n      }, this);\n    },\n    _after_render: function () {\n      var _this = this;\n\n      if (!this._custom_format) _event(this.getInputNode(), \"input\", function () {\n        var stamp = new Date().valueOf();\n\n        if (!this._property_stamp || stamp - this._property_stamp > 100) {\n          this._property_stamp = stamp;\n          this.$setValue(this.getText());\n        }\n      }, {\n        bind: this\n      });\n\n      _event(this.getInputNode(), \"blur\", function () {\n        return _this._applyChanges(\"user\");\n      });\n    },\n    _patternScheme: function (pattern) {\n      var mask = pattern.mask,\n          scheme = {},\n          chars = \"\",\n          count = 0;\n\n      for (var i = 0; i < mask.length; i++) {\n        if (mask[i] === \"#\") {\n          scheme[i] = count;\n          count++;\n        } else {\n          scheme[i] = false;\n          if (chars.indexOf(mask[i]) === -1) chars += \"\\\\\" + mask[i];\n        }\n      }\n\n      this._pattern_allows = pattern.allow;\n      this._pattern_chars = new RegExp(\"[\" + chars + \"]\", \"g\");\n      this._pattern_scheme = scheme;\n\n      this._init_validation();\n    },\n    _on_key_pressed: function (e, code) {\n      var node = this.getInputNode();\n      var value = node.value;\n      var pos$$1 = getSelectionRange(node);\n      var chr = \"\";\n\n      if (code == 8 || code == 46) {\n        if (pos$$1.start == pos$$1.end) {\n          if (code == 8) pos$$1.start--;else pos$$1.end++;\n        }\n      } else {\n        chr = String.fromCharCode(code);\n        var isCapsLock = e.getModifierState(\"CapsLock\");\n        if (!e.shiftKey && !isCapsLock || e.shiftKey && isCapsLock) chr = chr.toLowerCase();\n      }\n\n      value = value.substr(0, pos$$1.start) + chr + value.substr(pos$$1.end);\n      pos$$1 = this._getCaretPos(chr, value.length, pos$$1.start, code);\n      this._input_code = code;\n      this.$setValue(value);\n      setSelectionRange(node, pos$$1);\n    },\n    _getCaretPos: function (chr, len, pos$$1, code) {\n      if (chr && chr.match(this._pattern_allows) || code == 8 || code == 46) {\n        pos$$1 = chr ? pos$$1 + 1 : pos$$1;\n        pos$$1 = this._fixCaretPos(pos$$1, code);\n      } else if (len - 1 == pos$$1 && code !== 8 && code !== 46) {\n        var rest = this._settings.pattern.mask.indexOf(\"#\", pos$$1);\n\n        if (rest > 0) pos$$1 += rest;\n      }\n\n      return pos$$1;\n    },\n    _fixCaretPos: function (pos$$1, code) {\n      var prev = pos$$1 - (code !== 46) * 1;\n\n      if (this._pattern_scheme[prev] === false) {\n        pos$$1 = pos$$1 + (code == 8 ? -1 : 1);\n        return this._fixCaretPos(pos$$1, code);\n      }\n\n      if (this._pattern_scheme[pos$$1] === false && code !== 8) return this._fixCaretPos(pos$$1 + 1, code) - 1;\n      return pos$$1;\n    },\n    _getRawValue: function (value) {\n      if (this._custom_format) return this._custom_format.parse(value);\n      value = value || value === 0 ? value : \"\";\n      var matches = value.toString().match(this._pattern_allows) || [];\n      return matches.join(\"\").replace(this._pattern_chars, \"\");\n    },\n    _matchPattern: function (value) {\n      if (this._custom_format) return this._custom_format.edit(this._custom_format.parse(value));\n\n      var raw = this._getRawValue(value),\n          pattern = this._settings.pattern.mask,\n          mask = this._settings.pattern.mask,\n          scheme = this._pattern_scheme,\n          end = false,\n          index$$1 = 0,\n          rawIndex = 0,\n          rawLength = 0;\n\n      for (var i in scheme) {\n        if (scheme[i] !== false) {\n          if (!end) {\n            index$$1 = i * 1;\n            rawIndex = scheme[i];\n            var rchar = raw[rawIndex] || \"\";\n            var next = raw[rawIndex + 1];\n            pattern = (rchar ? pattern.substr(0, index$$1) : \"\") + rchar + (rchar && next ? pattern.substr(index$$1 + 1) : \"\");\n            if (!next) end = true;\n          }\n\n          rawLength++;\n        }\n      } //finalize value with subsequent mask chars \n\n\n      var icode = this._input_code;\n\n      if (icode && icode !== 8 || !icode && rawLength - 1 === rawIndex && pattern.length < mask.length) {\n        if (raw) {\n          var nind = index$$1 + 1;\n\n          if (mask.charAt(nind) !== \"#\" && pattern.length < mask.length) {\n            var lind = mask.indexOf(\"#\", nind);\n            if (lind < 0) lind = mask.length;\n            pattern += mask.substr(nind, lind - nind);\n          }\n        } else if (icode !== 46) {\n          pattern += mask.substr(0, mask.indexOf(\"#\"));\n        }\n      }\n\n      this._input_code = null;\n      return pattern;\n    }\n  };\n\n  var api$x = {\n    name: \"text\",\n    $allowsClear: true,\n    _init_onchange: function () {\n      var _this = this;\n\n      if (this.$allowsClear) {\n        var c = this._settings;\n        var node = this.getInputNode(); //attach onChange handler only for controls which do not manage blur on their own\n        //for example - combo\n\n        if (!this.$onBlur) _event(node, \"change\", function () {\n          return _this._applyChanges(\"user\");\n        });\n        if (c.suggest) $$(c.suggest).linkInput(this);\n\n        if (c.clear && !this.addSection) {\n          this._clear_icon = this.$view.querySelector(\".webix_input_icon:last-child\");\n          if (node.tagName == \"INPUT\" || node.tagName == \"SELECT\") _event(node, \"input\", function (e) {\n            return _this._toggleClearIcon(e.target.value);\n          });\n          var text = this.getText ? this.getText() : c.text || c.value;\n\n          this._toggleClearIcon(text);\n        }\n      }\n    },\n    _applyChanges: function (c) {\n      var value = this.getValue();\n      this.setValue(value, c);\n    },\n    _toggleClearIcon: function (value) {\n      var c = this._settings;\n      if (!c.clear || !this._clear_icon) return;\n\n      if (c.clear === \"hover\" || c.clear === \"replace\") {\n        var css = value ? \"webix_clear_icon \" + (c.clear === \"hover\" ? c.icon : \"wxi-close\") : c.icon;\n        this._clear_icon.className = \"webix_input_icon \" + css;\n      } else {\n        var state = value ? \"\" : \"hidden\";\n        if (this._clear_icon.style.visibility !== state) this._clear_icon.style.visibility = state;\n      }\n    },\n    $skin: function () {\n      button$1.api.$skin.call(this);\n      this.defaults.height = $active.inputHeight;\n      this.defaults.inputPadding = $active.inputPadding;\n      this._inputSpacing = $active.inputSpacing;\n      this._labelTopHeight = $active.labelTopHeight;\n    },\n    $init: function (config) {\n      if (config.labelPosition == \"top\" && isUndefined(config.height) && this.defaults.height) // textarea\n        config.height = this.defaults.height + (config.label ? this._labelTopHeight : 0); // used in clear_setter\n\n      if (!isUndefined(config.icon)) this._settings.icon = config.icon;\n      if (this.$onBlur) this.attachEvent(\"onBlur\", function () {\n        if (this._rendered_input) this.$onBlur();\n      });\n      this.attachEvent(\"onAfterRender\", this._init_onchange);\n      this.attachEvent(\"onDestruct\", function () {\n        this._clear_icon = null;\n      });\n    },\n    clear_setter: function (value) {\n      if (value) {\n        if (!this._settings.icon) value = true;\n        if (value !== \"hover\" && value !== \"replace\") value = !!value;\n      }\n\n      return value;\n    },\n    $renderIcon: function (c) {\n      var height = c.aheight - 2 * c.inputPadding;\n      var padding = (height - 18) / 2 - 1;\n      var right = this._inputSpacing / 2 - 24;\n      var html = \"\";\n\n      if (c.icon) {\n        right += 24;\n        html += \"<span style='right:\" + right + \"px;height:\" + (height - padding) + \"px;padding-top:\" + padding + \"px;' class='webix_input_icon \" + c.icon + \"'></span>\";\n      }\n\n      if (c.clear === true) {\n        right += 24;\n        html += \"<span style='right:\" + right + \"px;height:\" + (height - padding) + \"px;padding-top:\" + padding + \"px;' class='webix_input_icon webix_clear_icon webix_icon_transparent wxi-close'></span>\";\n      }\n\n      return html;\n    },\n    relatedView_setter: function (value) {\n      this.attachEvent(\"onChange\", function () {\n        var value = this.getValue();\n        var mode = this._settings.relatedAction;\n        var viewid = this._settings.relatedView;\n        var view = $$(viewid);\n\n        if (!view) {\n          var top = this.getTopParentView();\n          if (top && top.$$) view = top.$$(viewid);\n        }\n\n        assert(view, \"Invalid relatedView: \" + viewid);\n\n        if (mode == \"enable\") {\n          if (value) view.enable();else view.disable();\n        } else {\n          if (value) view.show();else view.hide();\n        }\n      });\n      return value;\n    },\n    validateEvent_setter: function (value) {\n      if (value == \"blur\") this.attachEvent(\"onBlur\", this.validate);\n      if (value == \"key\") this.attachEvent(\"onTimedKeyPress\", this.validate);\n      return value;\n    },\n    validate: function () {\n      var rule = this._settings.validate;\n      if (!rule && this._settings.required) rule = rules.isNotEmpty;\n      var form = this.getFormView();\n      var name = this._settings.name;\n      var value = this.getValue();\n      var data = {};\n      data[name] = value;\n      assert(form, \"Validation works only for fields in the form\");\n      assert(name, \"Validation works only for fields with name\");\n      if (rule && !form._validate(rule, value, data, name)) return false;\n      return true;\n    },\n    bottomLabel_setter: function (value) {\n      if (!this._settings.bottomPadding) this._settings.bottomPadding = 18;\n      return value;\n    },\n    _getInvalidText: function () {\n      var text = this._settings.invalidMessage;\n\n      if (typeof text == \"function\") {\n        text.call(this);\n      }\n\n      return text;\n    },\n    setBottomText: function (text, height) {\n      var config = this._settings;\n\n      if (!isUndefined(text)) {\n        if (config.bottomLabel == text) return;\n        config.bottomLabel = text;\n      }\n\n      var sel;\n      var input = this.getInputNode();\n\n      if (input && !isUndefined(input.value)) {\n        if (input == document.activeElement) sel = getSelectionRange(input); // save input value before rendering\n\n        this._applyChanges(\"auto\");\n      }\n\n      var message = (config.invalid ? config.invalidMessage : \"\") || config.bottomLabel;\n      if (!message && !config.bottomPadding) config.inputHeight = 0;\n\n      if (message && !config.bottomPadding) {\n        this._restorePadding = 1;\n        config.bottomPadding = config.bottomPadding || height || 18;\n        this.render();\n        this.adjust();\n        this.resize();\n      } else if (!message && this._restorePadding) {\n        config.bottomPadding = this._restorePadding = 0; //textarea\n\n        if (!config.height) this.render();\n        this.adjust();\n        this.resize();\n      } else this.render();\n\n      if (sel) setSelectionRange(this.getInputNode(), sel.start, sel.end);\n    },\n    $getSize: function () {\n      var sizes = base$1.api.$getSize.apply(this, arguments);\n      var heightInc = this.config.bottomPadding;\n\n      if (heightInc) {\n        sizes[2] += heightInc;\n        sizes[3] += heightInc;\n      }\n\n      return sizes;\n    },\n    $setSize: function (x, y) {\n      var config = this._settings;\n\n      if (base$1.api.$setSize.call(this, x, y)) {\n        if (!x || !y) return;\n\n        if (config.labelPosition == \"top\") {\n          config.labelWidth = 0; // textarea\n\n          if (!config.inputHeight) this._inputHeight = this._content_height - (config.label ? this._labelTopHeight : 0) - (this.config.bottomPadding || 0);\n        } else {\n          if (config.label) config.labelWidth = this._getLabelWidth(config.labelWidth, config.label);\n          if (config.bottomPadding) config.inputHeight = this._content_height - this.config.bottomPadding;\n        }\n\n        this.render();\n      }\n    },\n    _get_input_width: function (config) {\n      var width = (this._input_width || 0) - (config.label ? config.labelWidth : 0) - this._inputSpacing - (config.iconWidth || 0); //prevent js error in IE\n\n      return width < 0 ? 0 : width;\n    },\n    _render_div_block: function (obj, common) {\n      var id = \"x\" + uid();\n\n      var width = common._get_input_width(obj);\n\n      var inputAlign = obj.inputAlign || \"left\";\n      var height = obj.aheight - 2 * $active.inputPadding - 2 * $active.borderWidth;\n      var rightPadding = obj.clear === true ? \"padding-right:51px;\" : \"\";\n\n      var text = obj.text || obj.value || this._get_div_placeholder(obj);\n\n      var html = \"<div class='webix_inp_static' role='combobox' aria-label='\" + template.escape(obj.label) + \"' tabindex='0'\" + (obj.readonly ? \" aria-readonly='true'\" : \"\") + (obj.invalid ? \"aria-invalid='true'\" : \"\") + \" onclick='' style='line-height:\" + height + \"px;width:\" + width + \"px;text-align:\" + inputAlign + \";\" + rightPadding + \"'>\" + text + \"</div>\";\n      return common.$renderInput(obj, html, id);\n    },\n    _baseInputHTML: function (tag) {\n      var html = \"<\" + tag + (this._settings.placeholder ? \" placeholder='\" + template.escape(this._settings.placeholder) + \"' \" : \" \");\n      if (this._settings.readonly) html += \"readonly='true' aria-readonly=''\";\n      if (this._settings.required) html += \"aria-required='true'\";\n      if (this._settings.invalid) html += \"aria-invalid='true'\";\n      var attrs = this._settings.attributes;\n      if (attrs) for (var prop in attrs) {\n        html += prop + \"='\" + attrs[prop] + \"' \";\n      }\n      return html;\n    },\n    $renderLabel: function (config, id) {\n      var label = \"\";\n\n      if (config.label) {\n        var top = this._settings.labelPosition == \"top\";\n        var style = \"text-align:\".concat(config.labelAlign || \"left\", \"; line-height:\").concat(this._getLabelHeight(top), \"px; \");\n        if (top) style += \"display:block;\";else style += config.labelWidth ? \"width:\".concat(config.labelWidth, \"px;\") : \"display:none;\";\n        label = \"<label style='\" + style + \"' onclick='' for='\" + id + \"' class='webix_inp_\" + (top ? \"top_\" : \"\") + \"label \" + (config.required ? \"webix_required\" : \"\") + \"'>\" + (config.label || \"\") + \"</label>\";\n      }\n\n      return label;\n    },\n    _getLabelHeight: function (top) {\n      return top ? this._labelTopHeight - this._settings.inputPadding : this._settings.aheight - 2 * this._settings.inputPadding;\n    },\n    $renderInput: function (config, div_start, id) {\n      var inputAlign = config.inputAlign || \"left\";\n      var top = config.labelPosition == \"top\";\n\n      var inputWidth = this._get_input_width(config);\n\n      id = id || uid();\n      var label = this.$renderLabel(config, id);\n      var html = \"\";\n\n      if (div_start) {\n        html += div_start;\n      } else {\n        var value = template.escape(config.text || this._pattern(config.value));\n        var rightPadding = (config.icon || config.clear ? 27 : 0) + (config.icon && config.clear === true ? 24 : 0);\n        rightPadding = rightPadding && !this.addSection ? \"padding-right:\" + rightPadding + \"px;\" : \"\";\n        html += this._baseInputHTML(\"input\") + \"id='\" + id + \"' type='\" + (config.type || this.name) + \"'\" + (config.editable ? \" role='combobox'\" : \"\") + \" value='\" + value + \"' style='width:\" + inputWidth + \"px;text-align:\" + inputAlign + \";\" + rightPadding + \"'\";\n        var attrs = config.attributes;\n        if (attrs) for (var prop in attrs) {\n          html += \" \" + prop + \"='\" + attrs[prop] + \"'\";\n        }\n        html += \" />\";\n      }\n\n      html += this.$renderIcon ? this.$renderIcon(config) : \"\";\n      var result = \"\"; //label position, top or left\n\n      if (top) result = label + \"<div class='webix_el_box' style='width:\" + config.awidth + \"px; height:\" + config.aheight + \"px'>\" + html + \"</div>\";else result = \"<div class='webix_el_box' style='width:\" + config.awidth + \"px; height:\" + config.aheight + \"px'>\" + label + html + \"</div>\"; //bottom message width\n\n      var padding = config.awidth - inputWidth - $active.inputPadding * 2; //bottom message text\n\n      var message = (config.invalid ? config.invalidMessage : \"\") || config.bottomLabel;\n      if (message) result += \"<div class='webix_inp_bottom_label'\" + (config.invalid ? \"role='alert' aria-relevant='all'\" : \"\") + \" style='width:\" + (inputWidth || config.awidth) + \"px;margin-left:\" + Math.max(padding, $active.inputPadding) + \"px;'>\" + message + \"</div>\";\n      return result;\n    },\n    defaults: {\n      template: function (obj, common) {\n        return common.$renderInput(obj);\n      },\n      label: \"\",\n      labelWidth: 80\n    },\n    _getLabelWidth: function (width, label) {\n      if (width == \"auto\") width = getTextSize(label, \"webix_inp_label\").width;\n      return width ? Math.max(width, $active.dataPadding) : 0;\n    },\n    type_setter: function (value) {\n      return value;\n    },\n    _set_inner_size: false,\n    _set_default_css: function () {},\n    _pattern: function (value) {\n      return value;\n    },\n    $setValue: function (value) {\n      value = this._pattern(value);\n      this.getInputNode().value = value;\n\n      this._toggleClearIcon(value);\n    },\n    $getValue: function () {\n      return this._pattern(this.getInputNode().value, false);\n    },\n    setValueHere: function (v, data, details) {\n      if (details && details.symbol) {\n        var s = details.symbol;\n        var value = this.getValue();\n        var last = value.substring(details.pos);\n        value = value.substring(0, details.pos);\n        value = value.substring(0, value.lastIndexOf(s) + s.length) + v;\n        this.setValue(value + last, details.config);\n        setSelectionRange(this.getInputNode(), value.length);\n      } else this.setValue(v, details && details.config);\n    },\n    suggest_setter: function (value) {\n      var _this2 = this;\n\n      if (value) {\n        assert(value !== true, \"suggest options can't be set as true, data need to be provided instead\");\n\n        if (typeof value == \"string\") {\n          var attempt = $$(value);\n          if (attempt) return $$(value)._settings.id;\n          value = {\n            body: {\n              url: value,\n              dataFeed: value\n            }\n          };\n        } else if (value.getItem) value = {\n          body: {\n            data: value\n          }\n        };else if (isArray(value)) value = {\n          body: {\n            data: this._check_options(value)\n          }\n        };else if (!value.body) value.body = {};\n\n        exports.extend(value, {\n          view: \"suggest\"\n        });\n\n        var _view = ui(value);\n\n        this._destroy_with_me.push(_view);\n\n        this.$ready.push(function () {\n          return _view._settings.master = _this2._settings.id;\n        });\n        return _view._settings.id;\n      }\n\n      return false;\n    }\n  };\n  var view$x = exports.protoUI(api$x, TextPattern, button$1.view);\n  var text = {\n    api: api$x,\n    view: view$x\n  };\n\n  var DataCollection = exports.proto({\n    name: \"DataCollection\",\n    isVisible: function () {\n      if (!this.data.order.length && !this.data._filter_order && !this._settings.dataFeed) return false;\n      return true;\n    },\n    $init: function (config) {\n      this.data.provideApi(this, true);\n      var id = config && config.id ? config.id : uid();\n      this._settings.id = id;\n      ui.views[id] = this;\n      this.data.attachEvent(\"onStoreLoad\", bind(function () {\n        this.callEvent(\"onBindRequest\", []);\n      }, this));\n    },\n    refresh: function () {\n      this.callEvent(\"onBindRequest\", []);\n    }\n  }, DataMove, CollectionBind, BindSource, ValidateCollection, DataLoader, MapCollection, EventSystem, BaseBind, Destruction, Settings);\n  define(\"DataCollection\", DataCollection);\n\n  var api$y = {\n    name: \"select\",\n    defaults: {\n      template: function (obj, common) {\n        var id = \"x\" + uid();\n        var html = common._baseInputHTML(\"select\") + \"id='\" + id + \"' style='width:\" + common._get_input_width(obj) + \"px;'>\";\n        var optview = $$(obj.options);\n\n        if (optview && optview.data && optview.data.each) {\n          optview.data.each(function (option) {\n            html += \"<option\" + (option.id == obj.value ? \" selected='true'\" : \"\") + \" value='\" + option.id + \"'>\" + option.value + \"</option>\";\n          });\n        } else {\n          var options = common._check_options(obj.options);\n\n          for (var i = 0; i < options.length; i++) {\n            html += \"<option\" + (options[i].id == obj.value ? \" selected='true'\" : \"\") + \" value='\" + options[i].id + \"'>\" + options[i].value + \"</option>\";\n          }\n        }\n\n        html += \"</select>\";\n        return common.$renderInput(obj, html, id);\n      }\n    },\n    options_setter: function (value) {\n      if (value) {\n        if (typeof value == \"string\") {\n          var collection = new DataCollection({\n            url: value\n          });\n          collection.data.attachEvent(\"onStoreLoad\", bind(this.refresh, this));\n          return collection;\n        } else return value;\n      }\n    },\n    $renderIcon: function () {\n      return \"\";\n    },\n    //get input element\n    getInputNode: function () {\n      return this._dataobj.getElementsByTagName(\"select\")[0];\n    }\n  };\n  var view$y = exports.protoUI(api$y, text.view);\n\n  var api$z = {\n    name: \"checkbox\",\n    defaults: {\n      checkValue: 1,\n      uncheckValue: 0,\n      template: function (config, common) {\n        var id = \"x\" + uid();\n        var rightlabel = \"\";\n\n        if (config.labelRight) {\n          rightlabel = \"<label class='webix_label_right'>\" + config.labelRight + \"</label>\"; //user clearly attempts to hide the label, help him\n\n          if (config.labelWidth) config.label = config.label || \"&nbsp;\";\n        }\n\n        var checked = config.checkValue == config.value;\n        var margin = Math.floor((common._settings.aheight - 16) / 2);\n        var ch = common._baseInputHTML(\"input\") + \"style='margin-top:\" + margin + \"px;\" + (config.customCheckbox ? \"display:none\" : \"\") + \"' id='\" + id + \"' type='checkbox' \" + (checked ? \"checked='1'\" : \"\") + (config.labelRight ? \" aria-label='\" + template.escape(config.labelRight) + \"'\" : \"\") + \"/>\";\n        var className = \"webix_inp_checkbox_border webix_el_group webix_checkbox_\" + (checked ? \"1\" : \"0\");\n        var customCheckbox = config.customCheckbox || \"\";\n\n        if (customCheckbox) {\n          customCheckbox = customCheckbox.replace(/(aria-checked=')\\w*(?=')/, \"$1\" + (config.value == config.checkValue ? \"true\" : \"false\"));\n          customCheckbox = customCheckbox.replace(/(aria-label=')\\w*(?=')/, \"$1\" + template.escape(config.labelRight || config.label));\n          customCheckbox = customCheckbox.replace(/(aria-invalid=')\\w*(?=')/, \"$1\" + (config.invalid ? \"true\" : \"false\"));\n        }\n\n        var html = \"<div style='line-height:\" + common._settings.cheight + \"px' class='\" + className + \"'>\" + ch + customCheckbox + rightlabel + \"</div>\";\n        return common.$renderInput(config, html, id);\n      }\n    },\n    customCheckbox_setter: function (value) {\n      if (value === true && $active.customCheckbox) {\n        value = \"<a role='presentation' onclick='javascript:void(0)'><button role='checkbox' aria-checked='false' aria-label='' type='button' aria-invalid='' class='webix_custom_checkbox'></button></a>\";\n      }\n\n      return value;\n    },\n    blur: function () {\n      var input = this.getInputNode();\n      if (input) input.blur();\n    },\n    $prepareValue: function (value) {\n      return value;\n    },\n    _init_onchange: function () {},\n    $setValue: function (value) {\n      var isChecked = value == this._settings.checkValue;\n      var input = this.$view.getElementsByTagName(\"input\")[0];\n      var parentNode = input ? input.parentNode : null;\n\n      if (parentNode && this._settings.customCheckbox) {\n        var button = parentNode.getElementsByTagName(\"BUTTON\");\n        if (button[0]) button[0].setAttribute(\"aria-checked\", isChecked ? \"true\" : \"false\");\n      }\n\n      if (parentNode) {\n        parentNode.className = parentNode.className.replace(/(webix_checkbox_)\\d/, \"$1\" + (isChecked ? 1 : 0));\n      }\n\n      input.checked = isChecked;\n    },\n    toggle: function (config) {\n      var c = this._settings;\n      var value = this.getValue() != c.checkValue ? c.checkValue : c.uncheckValue;\n      this.setValue(value, config);\n    },\n    getValue: function () {\n      var c = this._settings;\n      return c.value == c.checkValue ? c.checkValue : c.uncheckValue;\n    },\n    getInputNode: function () {\n      return this.$view.getElementsByTagName(this._settings.customCheckbox ? \"button\" : \"input\")[0];\n    },\n    $skin: function () {\n      text.api.$skin.call(this);\n      this.defaults.customCheckbox = !!$active.customCheckbox;\n    }\n  };\n  var view$z = exports.protoUI(api$z, text.view);\n  var checkbox = {\n    api: api$z,\n    view: view$z\n  };\n\n  var api$A = {\n    name: \"radio\",\n    defaults: {\n      template: function (config, common) {\n        common._check_options(config.options);\n\n        var options = common._filterOptions(config.options);\n\n        var active = common._getFirstActive();\n\n        var id, eachid, isChecked, isDisabled, label, tooltip, customRadio, optlabel, rd, input, focusable;\n        var html = [];\n\n        for (var i = 0; i < options.length; i++) {\n          eachid = \"x\" + uid();\n          id = id || eachid;\n          if (i && (options[i].newline || config.vertical)) html.push(\"<div class='webix_line_break'></div>\");\n          isChecked = options[i].id == config.value;\n          focusable = isChecked || !config.value && options[i].id === active;\n          isDisabled = !!options[i].disabled;\n          label = options[i].value || \"\";\n          tooltip = config.tooltip ? \" webix_t_id='\" + options[i].id + \"'\" : \"\";\n          customRadio = config.customRadio || \"\";\n\n          if (customRadio) {\n            optlabel = (i === 0 ? config.label + \" \" : \"\") + label;\n            customRadio = customRadio.replace(/(aria-label=')\\w*(?=')/, \"$1\" + template.escape(optlabel));\n            customRadio = customRadio.replace(/(aria-checked=')\\w*(?=')/, \"$1\" + (isChecked ? \"true\" : \"false\"));\n            customRadio = customRadio.replace(/(tabindex=')\\w*(?=')/, \"$1\" + (!isDisabled && focusable ? \"0\" : \"-1\"));\n            customRadio = customRadio.replace(/(aria-invalid=')\\w*(?=')/, \"$1\" + (config.invalid ? \"true\" : \"false\"));\n            customRadio = customRadio.replace(/(button_id=')\\w*(?=')/, \"$1\" + options[i].id);\n            if (isDisabled) customRadio = customRadio.replace(\"role='radio'\", \"role='radio' webix_disabled='true'\");\n          }\n\n          rd = common._baseInputHTML(\"input\") + \" name='\" + (config.name || config.id) + \"' type='radio' \" + (isChecked ? \"checked='1'\" : \"\") + \"tabindex=\" + (!isDisabled && focusable ? \"0\" : \"-1\") + \" value='\" + options[i].id + \"' id='\" + eachid + \"'\" + (isDisabled ? \" disabled='true'\" : \"\") + \" style='\" + (customRadio ? \"display:none\" : \"\") + \"' />\";\n          input = \"<div \" +\n          /*@attr*/\n          \"radio_id\" + \"='\" + options[i].id + \"' class='webix_inp_radio_border webix_radio_\" + (isChecked ? \"1\" : \"0\") + \"' role='presentation'>\" + rd + customRadio + \"</div>\";\n          if (label) label = \"<label for='\" + eachid + \"' class='webix_label_right'>\" + label + \"</label>\";\n          html.push(\"<div class='webix_radio_option\" + (isDisabled ? \" webix_disabled\" : \"\") + \"' role='presentation'\" + tooltip + \">\" + input + label + \"</div>\");\n        }\n\n        html = \"<div class='webix_el_group' role='radiogroup' style='margin-left:\" + (config.label ? config.labelWidth : 0) + \"px;'>\" + html.join(\"\") + \"</div>\";\n        return common.$renderInput(config, html, id);\n      }\n    },\n    refresh: function () {\n      this.render();\n      if (this._last_size && this.$getSize(0, 0)[2] != this._last_size[1]) this.resize();\n    },\n    $getSize: function (dx, dy) {\n      var size = button$1.api.$getSize.call(this, dx, dy);\n\n      var options = this._filterOptions(this._settings.options);\n\n      if (options) {\n        var count = this._settings.vertical ? 0 : 1;\n\n        for (var i = 0; i < options.length; i++) {\n          if (this._settings.vertical || options[i].newline) count++;\n        }\n\n        size[3] = size[2] = Math.max(size[2], (this._settings.optionHeight || 25) * count + this._settings.inputPadding * 2 + (this._settings.labelPosition == \"top\" ? this._labelTopHeight : 0));\n      }\n\n      var heightInc = this.config.bottomPadding;\n\n      if (heightInc) {\n        size[2] += heightInc;\n        size[3] += heightInc;\n      }\n\n      return size;\n    },\n    _getInputNode: function () {\n      return this._dataobj.getElementsByTagName(this._settings.customRadio ? \"button\" : \"input\");\n    },\n    $setValue: function (value) {\n      var inp = this._dataobj.getElementsByTagName(\"input\");\n\n      var active = this._getFirstActive();\n\n      var id, option, focusable, parentNode, button;\n\n      for (var i = 0; i < inp.length; i++) {\n        id = inp[i].parentNode.getAttribute(\n        /*@attr*/\n        \"radio_id\");\n        option = this.getOption(id);\n        inp[i].checked = id == value;\n        focusable = option && !option.disabled && (inp[i].checked || !value && option.id == active);\n        inp[i].setAttribute(\"tabindex\", focusable ? \"0\" : \"-1\");\n        parentNode = inp[i] ? inp[i].parentNode : null;\n\n        if (parentNode) {\n          parentNode.className = parentNode.className.replace(/(webix_radio_)\\d/, \"$1\" + (inp[i].checked ? 1 : 0));\n\n          if (this._settings.customRadio) {\n            button = parentNode.getElementsByTagName(\"BUTTON\");\n\n            if (button[0]) {\n              button[0].setAttribute(\"aria-checked\", inp[i].checked ? \"true\" : \"false\");\n              button[0].setAttribute(\"tabindex\", focusable ? \"0\" : \"-1\");\n            }\n          }\n        }\n      }\n    },\n    getValue: function () {\n      return this._settings.value;\n    },\n    focus: function () {\n      return this._focus();\n    },\n    blur: function () {\n      this._blur();\n    },\n    customRadio_setter: function (value) {\n      if (value === true && $active.customRadio) value = \"<a role='presentation' onclick='javascript:void(0)'><button type='button' class='webix_custom_radio' \" +\n      /*@attr*/\n      \"button_id='' role='radio' aria-checked='false' aria-label='' aria-invalid='' tabindex=''></button></a>\";\n      return value;\n    },\n    $skin: function () {\n      text.api.$skin.call(this);\n      this.defaults.customRadio = !!$active.customRadio;\n      if ($active.optionHeight) this.defaults.optionHeight = $active.optionHeight;\n    }\n  };\n  var view$A = exports.protoUI(api$A, text.view, HTMLOptions);\n\n  var api$B = {\n    name: \"datepicker\",\n    _editable: true,\n    $init: function (config) {\n      // value_setter handling\n      if (config.multiselect) {\n        this._settings.multiselect = config.multiselect;\n      }\n\n      if (config.type) {\n        this._settings.type = config.type;\n      }\n\n      this.$ready.push(this._init_popup);\n    },\n    defaults: {\n      template: function (obj, common) {\n        if (common._settings.type == \"time\") {\n          common._settings.icon = common._settings.timeIcon;\n        } //temporary remove obj.type [[DIRTY]]\n\n\n        var t = obj.type;\n        obj.type = \"\";\n        var res = obj.editable ? common.$renderInput(obj) : common._render_div_block(obj, common);\n        obj.type = t;\n        return res;\n      },\n      stringResult: false,\n      timepicker: false,\n      icon: \"wxi-calendar\",\n      icons: true,\n      timeIcon: \"wxi-clock\",\n      separator: \", \"\n    },\n    $onBlur: function () {\n      var text$$1 = this.getText();\n      if (this._settings.text == text$$1) return;\n      var value = this._settings.editable ? this.getValue() : this.getPopup().getValue();\n      this.setValue(value || \"\", \"user\");\n    },\n    $skin: function () {\n      text.api.$skin.call(this);\n      this.defaults.inputPadding = $active.inputPadding;\n      this.defaults.point = !$active.popupNoPoint;\n    },\n    getPopup: function () {\n      return $$(this._settings.popup);\n    },\n    _init_popup: function () {\n      var obj = this._settings;\n      if (obj.suggest) obj.popup = obj.suggest;else if (!obj.popup) {\n        var timepicker = this._settings.timepicker;\n        obj.popup = obj.suggest = this.suggest_setter({\n          type: \"calendar\",\n          point: this._settings.point === false ? false : true,\n          padding: 0,\n          body: {\n            height: 240 + (timepicker || this._settings.icons ? 30 : 0),\n            width: 250,\n            multiselect: this._settings.multiselect,\n            timepicker: timepicker,\n            type: this._settings.type,\n            icons: this._settings.icons,\n            timeIcon: this._settings.timeIcon\n          }\n        });\n      }\n\n      this._init_once = function () {};\n    },\n    $render: function (obj) {\n      this.$setValue(obj.value);\n    },\n    $prepareValue: function (value) {\n      if (this._settings.multiselect) {\n        if (typeof value === \"string\") value = value.split(this._settings.separator);else if (value instanceof Date) value = [value];else if (!value) value = [];\n\n        for (var i = 0; i < value.length; i++) {\n          value[i] = this._prepareSingleValue(value[i]);\n        }\n\n        return value;\n      } else return this._prepareSingleValue(value);\n    },\n    _prepareSingleValue: function (value) {\n      var type = this._settings.type;\n      var timeMode = type == \"time\"; //setValue(\"1980-12-25\")\n\n      if (!isNaN(parseFloat(value))) value = \"\" + value;\n\n      if (typeof value == \"string\" && value) {\n        var formatDate = null;\n        if ((type == \"month\" || type == \"year\") && this._formatDate) formatDate = this._formatDate;else formatDate = timeMode ? i18n.parseTimeFormatDate : i18n.parseFormatDate;\n        value = formatDate(value);\n      }\n\n      if (value) {\n        //time mode\n        if (timeMode) {\n          //setValue([16,24])\n          if (isArray(value)) {\n            var time = new Date();\n            time.setHours(value[0]);\n            time.setMinutes(value[1]);\n            value = time;\n          }\n        } //setValue(invalid date)\n\n\n        if (isNaN(value.getTime())) value = \"\";\n      }\n\n      return value;\n    },\n    _get_visible_text: function (value) {\n      var _this = this;\n\n      if (this._settings.multiselect) return [].concat(value).map(function (a) {\n        return _this._get_visible_text_single(a);\n      }).join(this.config.separator);else return this._get_visible_text_single(value);\n    },\n    _get_visible_text_single: function (value) {\n      var formatStr = this._formatStr;\n\n      if (!formatStr) {\n        if (this._settings.type == \"time\") formatStr = i18n.timeFormatStr;else if (this.config.timepicker) formatStr = i18n.fullDateFormatStr;else formatStr = i18n.dateFormatStr;\n      }\n\n      return formatStr(value);\n    },\n    _set_visible_text: function () {\n      var node = this.getInputNode();\n      if (isUndefined(node.value)) node.innerHTML = this._settings.text || this._get_div_placeholder();else node.value = this._settings.text || \"\";\n    },\n    $compareValue: function (oldvalue, value) {\n      if (!oldvalue && !value) return true;\n      return wDate.equal(oldvalue, value);\n    },\n    $setValue: function (value) {\n      this._settings.text = value ? this._get_visible_text(value) : \"\";\n\n      this._set_visible_text();\n\n      this._toggleClearIcon(this._settings.text);\n    },\n    format_setter: function (value) {\n      if (value) {\n        if (typeof value === \"function\") this._formatStr = value;else {\n          this._formatStr = wDate.dateToStr(value);\n          this._formatDate = wDate.strToDate(value);\n        }\n      } else this._formatStr = this._formatDate = null;\n\n      return value;\n    },\n    getInputNode: function () {\n      return this._settings.editable ? this._dataobj.getElementsByTagName(\"input\")[0] : this._dataobj.getElementsByTagName(\"DIV\")[1];\n    },\n    getValue: function () {\n      var _this2 = this;\n\n      if (this._settings.multiselect) {\n        var value = this._settings.value;\n        if (!value) return [];\n        var result = [].concat(value).map(function (a) {\n          return _this2._get_value_single(a);\n        });\n        if (this._settings.stringResult) return result.join(this._settings.separator);\n        return result;\n      }\n\n      return this._get_value_single(this._settings.value);\n    },\n    _get_value_single: function (value) {\n      var type = this._settings.type;\n      var timeMode = type == \"time\"; //input was not rendered, we need to parse value from setValue method\n\n      if (!this._rendered_input) value = this.$prepareValue(value) || null; //rendere and in edit mode\n      else if (this._settings.editable) {\n          var formatDate = this._formatDate;\n\n          if (!formatDate) {\n            if (timeMode) formatDate = i18n.timeFormatDate;else if (this.config.timepicker) formatDate = i18n.fullDateFormatDate;else formatDate = i18n.dateFormatDate;\n          }\n\n          var time = formatDate(this.getInputNode().value);\n\n          if (timeMode && value != \"\") {\n            value.setHours(time.getHours());\n            value.setMinutes(time.getMinutes());\n            value.setSeconds(time.getSeconds());\n            value.setMilliseconds(time.getMilliseconds());\n          } else value = time;\n        } //return string from getValue\n\n      if (this._settings.stringResult) {\n        var formatStr = i18n.parseFormatStr;\n        if (timeMode) formatStr = i18n.parseTimeFormatStr;\n\n        if (this._formatStr && (type == \"month\" || type == \"year\")) {\n          formatStr = this._formatStr;\n        }\n\n        if (this._settings.multiselect) return [].concat(value).map(function (a) {\n          return a ? formatStr(a) : \"\";\n        });\n        return value ? formatStr(value) : \"\";\n      }\n\n      return value || null;\n    },\n    getText: function () {\n      var node = this.getInputNode();\n      if (!node) return \"\";\n\n      if (isUndefined(node.value)) {\n        if (node.firstChild && node.firstChild.className === \"webix_placeholder\") return \"\";\n        return node.innerHTML;\n      }\n\n      return node.value;\n    }\n  };\n  var view$B = exports.protoUI(api$B, text.view);\n  var datepicker = {\n    api: api$B,\n    view: view$B\n  };\n\n  var api$C = {\n    name: \"colorpicker\",\n    $init: function () {\n      this.$ready.push(this._init_popup);\n    },\n    defaults: {\n      icon: true\n    },\n    _init_popup: function () {\n      var obj = this._settings;\n      if (obj.suggest) obj.popup = obj.suggest;else if (!obj.popup) obj.popup = obj.suggest = this.suggest_setter({\n        type: \"colorboard\"\n      });\n\n      this._init_once = function () {};\n    },\n    clear_setter: function (value) {\n      return !!value;\n    },\n    getValue: function () {\n      if (this._rendered_input && this._settings.editable) return this.getInputNode().value;else return this._settings.value;\n    },\n    $prepareValue: function (value) {\n      value = value ? value.toString(16) : \"\";\n      if (value && value.charAt(0) != \"#\" && /^[0-9a-fA-F]+$/.test(value)) value = \"#\" + value;\n      return value;\n    },\n    _getColorNode: function () {\n      return this.$view.getElementsByTagName(\"DIV\")[this._settings.editable ? 1 : 2];\n    },\n    _get_visible_text: function (value) {\n      return value;\n    },\n    $compareValue: function (oldvalue, value) {\n      return oldvalue == value;\n    },\n    $setValue: function (value) {\n      this._getColorNode().style.backgroundColor = value;\n      this._settings.text = value;\n\n      this._toggleClearIcon(value);\n\n      var node = this.getInputNode();\n      if (isUndefined(node.value)) node.innerHTML = value;else node.value = value;\n    },\n    $renderIcon: function (c) {\n      var right = this._inputSpacing / 2 + 5;\n      var html = \"<div class='webix_input_icon' style='top:\" + (c.inputPadding + 4) + \"px;right:\" + right + \"px;background-color:\" + c.value + \";'></div>\";\n\n      if (c.clear) {\n        var height = c.aheight - 2 * c.inputPadding;\n        var padding = (height - 18) / 2 - 1;\n        right += 24;\n        html += \"<span style='right:\" + right + \"px;height:\" + (height - padding) + \"px;padding-top:\" + padding + \"px;' class='webix_input_icon webix_clear_icon wxi-close'></span>\";\n      }\n\n      return html;\n    }\n  };\n  var view$C = exports.protoUI(api$C, datepicker.view);\n\n  var api$D = {\n    name: \"richselect\",\n    defaults: {\n      template: function (obj, common) {\n        return common._render_div_block(obj, common);\n      },\n      popupWidth: 200,\n      icon: \"wxi-menu-down\"\n    },\n    $onBlur: function () {\n      var text$$1 = this.getText();\n      if (this._settings.text == text$$1 || isUndefined(this._settings.text) && !text$$1) return;\n      var suggest = this.getPopup(); //handle clicks on suggest items\n\n      if (suggest.$view.contains(document.activeElement)) return;\n      var newValues = this.config.newValues;\n      var nodeValue = this.getInputNode().value;\n      var list = this.getList();\n      var value;\n\n      if (newValues) {\n        value = list.find(function (obj) {\n          return suggest.getItemText(obj.id) == nodeValue;\n        }, true);\n        if (value) value = value.id;else if (nodeValue) value = list.add({\n          value: nodeValue\n        });\n      } else value = suggest.getSuggestion(nodeValue);\n\n      var oldvalue = this.getValue(); //non-empty value that differs from old value and matches filtering rule\n\n      if (value && value != oldvalue && !(nodeValue === \"\" && suggest.getItemText(value) !== \"\")) this.setValue(value, \"user\");else if (nodeValue === \"\") this.setValue(\"\", \"user\");else if (this._revertValue) this._revertValue();\n    },\n    suggest_setter: function (value) {\n      return this.options_setter(value);\n    },\n    options_setter: function (value) {\n      value = this._suggest_config ? this._suggest_config(value) : value;\n      var suggest = this._settings.popup = this._settings.suggest = text.api.suggest_setter.call(this, value);\n      var list = $$(suggest).getList();\n      if (list) list.attachEvent(\"onAfterLoad\", bind(this._reset_value, this));\n      return suggest;\n    },\n    getList: function () {\n      var suggest = $$(this._settings.suggest);\n      assert(suggest, \"Input doesn't have a list\");\n      return suggest.getList();\n    },\n    _reset_value: function () {\n      // multiselect requires value as an array\n      var value = this._settings.value || [];\n      if (value.length && !this.getPopup().isVisible() && this.getInputNode() && !(this._settings.text || this.getText())) this.$setValue(value);\n    },\n    $skin: function () {\n      text.api.$skin.call(this);\n      this.defaults.inputPadding = $active.inputPadding;\n    },\n    $render: function (obj) {\n      this.$setValue(obj.value);\n    },\n    getInputNode: function () {\n      return this._dataobj.getElementsByTagName(\"DIV\")[1];\n    },\n    getPopup: function () {\n      return $$(this._settings.popup);\n    },\n    getText: function () {\n      var value = this._settings.value,\n          node = this.getInputNode();\n      if (!node) return value ? this.getPopup().getItemText(value) : \"\";\n\n      if (isUndefined(node.value)) {\n        if (node.firstChild && node.firstChild.className === \"webix_placeholder\") return \"\";\n        return node.innerHTML;\n      }\n\n      return node.value;\n    },\n    $prepareValue: function (value) {\n      if (value && value.id) return value; //don't convert new items\n\n      return text.api.$prepareValue.call(this, value);\n    },\n    $setValue: function (value) {\n      var text$$1 = value;\n      var popup = this.getPopup();\n      if (popup) text$$1 = popup.getItemText(value);\n\n      if (value && value.id) {\n        //add new value\n        var list = popup.getList();\n        var exists = list.exists(value.id); // add new item only when item with such id doesn't exists yet\n\n        if (!exists) list.add(value);\n        text$$1 = popup.getItemText(value.id); // in case of dynamic list, we can't add extra items\n        // to not interfere with dynamic loading\n\n        if (list._settings.dynamic && !exists) list.remove(value.id);\n        this._settings.value = this.$prepareValue(value.id);\n      }\n\n      var node = this.getInputNode();\n      if (isUndefined(node.value)) node.innerHTML = text$$1 || this._get_div_placeholder();else node.value = text$$1 = text$$1.replace(/<[^>]*>/g, \"\");\n      this._settings.text = text$$1;\n\n      this._toggleClearIcon(text$$1);\n    },\n    getValue: function () {\n      return this._settings.value || \"\";\n    },\n    _ignoreLabelClick: function (ev) {\n      if (ev.type) {\n        this.focus();\n        preventEvent(ev);\n      }\n    }\n  };\n  var view$D = exports.protoUI(api$D, text.view);\n  var richselect = {\n    api: api$D,\n    view: view$D\n  };\n\n  var api$E = {\n    name: \"combo\",\n    getInputNode: function () {\n      return this._dataobj.getElementsByTagName(\"input\")[0];\n    },\n    _init_onchange: function () {\n      var _this = this;\n\n      _event(this.getInputNode(), \"keydown\", function (e) {\n        if (e.keyCode == 13) richselect.api._onBlur.apply(_this, []);\n      });\n\n      richselect.api._init_onchange.apply(this, arguments);\n    },\n    _revertValue: function () {\n      var value = this.getValue();\n      this.$setValue(isUndefined(value) ? \"\" : value);\n    },\n    _applyChanges: function (c) {\n      var input = this.getInputNode(),\n          value = \"\",\n          suggest = this.getPopup();\n\n      if (input.value) {\n        value = this._settings.value;\n        if (suggest.getItemText(value) != this.getText()) value = suggest.getSuggestion() || value;\n      }\n\n      if (value != this._settings.value) this.setValue(value, c);else this.$setValue(value);\n    },\n    defaults: {\n      template: function (config, common) {\n        return common.$renderInput(config).replace(/(<input)\\s*(?=\\w)/, \"$1\" + \" role='combobox'\");\n      },\n      icon: \"wxi-menu-down\"\n    },\n    on_click: {\n      webix_clear_icon: function () {\n        if (this.$allowsClear) this.setValue(\"\", \"user\");\n        return false;\n      },\n      \"webix_inp_label\": function (e) {\n        this._ignoreLabelClick(e);\n      },\n      \"webix_inp_top_label\": function (e) {\n        this._ignoreLabelClick(e);\n      }\n    }\n  };\n  var view$E = exports.protoUI(api$E, richselect.view);\n\n  var api$F = {\n    name: \"counter\",\n    defaults: {\n      template: function (config, common) {\n        var value = config.value;\n        var id = \"x\" + uid();\n        var html = \"<div role='spinbutton' aria-label='\" + template.escape(config.label) + \"' aria-valuemin='\" + config.min + \"' aria-valuemax='\" + config.max + \"' aria-valuenow='\" + config.value + \"' class='webix_el_group' style='width:\" + common._get_input_width(config) + \"px'>\";\n        html += \"<button type='button' class='webix_inp_counter_prev' tabindex='-1' aria-label='\" + i18n.aria.decreaseValue + \"'>-</button>\";\n        html += common._baseInputHTML(\"input\") + \" id='\" + id + \"' type='text' class='webix_inp_counter_value' aria-live='assertive'\" + \" value='\" + value + \"'></input>\";\n        html += \"<button type='button' class='webix_inp_counter_next' tabindex='-1' aria-label='\" + i18n.aria.increaseValue + \"'>+</button></div>\";\n        return common.$renderInput(config, html, id);\n      },\n      min: 0,\n      max: Infinity,\n      value: 0,\n      step: 1\n    },\n    $init: function () {\n      _event(this.$view, \"keydown\", this._keyshift, {\n        bind: this\n      });\n    },\n    _keyshift: function (e) {\n      if (this._settings.readonly) return;\n      var code = e.which || e.keyCode,\n          c = this._settings;\n      var value = this.getValue();\n\n      if (code > 32 && code < 41) {\n        if (code === 36) value = c.min;else if (code === 35) value = c.max === Infinity ? 1000000 : c.max;else if (code === 33) this.next(c.step, \"user\");else if (code === 34) this.prev(c.step, \"user\");else value = value + (code === 37 || code === 40 ? -1 : 1);\n        if (code > 34 && value >= c.min && value <= c.max) this.setValue(value, \"user\");\n      }\n    },\n    $setValue: function (value) {\n      this.getInputNode().value = value;\n    },\n    $prepareValue: function (value) {\n      value = parseFloat(value);\n      var min = this._settings.min;\n      var max = this._settings.max;\n      if (isNaN(value)) value = isFinite(min) ? min : 0;\n      return Math.min(Math.max(value, min), max);\n    },\n    getInputNode: function () {\n      return this._dataobj.getElementsByTagName(\"input\")[0];\n    },\n    getValue: function () {\n      return button$1.api.getValue.apply(this, arguments) * 1;\n    },\n    next: function (step, config) {\n      step = 1 * (step || this._settings.step);\n      this.shift(step, config);\n    },\n    prev: function (step, config) {\n      step = -1 * (step || this._settings.step);\n      this.shift(step, config);\n    },\n    shift: function (step, config) {\n      //round values to fix math precision issue in JS\n      var new_value = Math.round((this.getValue() + step) * 100000) / 100000;\n      this.setValue(new_value, config);\n    }\n  };\n  var view$F = exports.protoUI(api$F, text.view);\n\n  var api$G = {\n    name: \"icon\",\n    $skin: function () {\n      button$1.api.$skin.call(this);\n      this.defaults.height = $active.inputHeight;\n      this.defaults.width = $active.inputHeight;\n    },\n    defaults: {\n      template: function (obj, view) {\n        var min = Math.min(obj.awidth, obj.aheight);\n        var top = Math.round((view._content_height - obj.aheight) / 2);\n        var inner = \"<button type='button' style='height:\" + min + \"px;width:\" + min + \"px;' class='webix_icon_button'>\" + \"<span class='webix_icon \" + obj.icon + \"'></span></button>\";\n        var lineHeight = obj.aheight != min ? obj.aheight : 0;\n        return \"<div class='webix_el_box' style='width:\" + obj.awidth + \"px;height:\" + obj.aheight + \"px;line-height:\" + lineHeight + \"px;margin-top:\" + top + \"px'>\" + inner + (obj.badge || obj.badge === 0 ? \"<span class='webix_badge'>\" + obj.badge + \"</span>\" : \"\") + \"</div>\";\n      }\n    },\n    _set_inner_size: false,\n    _set_default_css: function () {},\n    $setValue: function () {}\n  };\n  var view$G = exports.protoUI(api$G, button$1.view);\n\n  var api$H = {\n    name: \"search\",\n    on_click: {\n      webix_clear_icon: function () {\n        if (this.$allowsClear) this.setValue(\"\", \"user\");\n        return false;\n      },\n      \"webix_input_icon\": function (e) {\n        this.getInputNode().focus();\n        if (this.config.clear !== \"hover\" && e.target && e.target.className.indexOf(this.config.icon) !== -1) this.callEvent(\"onSearchIconClick\", [e]);\n      }\n    },\n    defaults: {\n      type: \"text\",\n      icon: \"wxi-search\"\n    }\n  };\n  var view$H = exports.protoUI(api$H, text.view);\n\n  var api$I = {\n    name: \"segmented\",\n    $allowsClear: false,\n    $init: function () {\n      this.attachEvent(\"onChange\", function (value) {\n        if (this._settings.multiview) this._show_view(value);\n      });\n      this.attachEvent(\"onAfterRender\", once(function () {\n        if (this._settings.multiview && this._settings.value) this._show_view(this._settings.value);\n      }));\n    },\n    _show_view: function (value) {\n      var top = this.getTopParentView();\n      var view = null; //get from local isolate\n\n      if (top && top.$$) view = top.$$(value); //or check globally\n\n      if (!view) view = $$(value);\n      if (view && view.show) view.show();\n    },\n    defaults: {\n      template: function (obj, common) {\n        common._check_options(obj.options);\n\n        var options = common._filterOptions(obj.options);\n\n        var width = common._get_input_width(obj);\n\n        var borders = $name == \"contrast\" ? 0 : options.length - 1;\n        var optionWidth = obj.optionWidth || Math.floor((width - borders) / options.length);\n        var html = \"<div style='width:\" + width + \"px' class='webix_all_segments' role='tablist' aria-label='\" + template.escape(obj.label) + \"'>\";\n        var tooltip, isDisabled;\n        if (!obj.value) obj.value = common._getFirstActive(true);\n\n        for (var i = 0; i < options.length; i++) {\n          isDisabled = !!options[i].disabled;\n          tooltip = obj.tooltip ? \" webix_t_id='\" + options[i].id + \"'\" : \"\";\n          html += \"<button type='button' style='width:\" + (options[i].width || optionWidth) + \"px' role='tab' aria-selected='\" + (obj.value == options[i].id ? \"true\" : \"false\") + \"' tabindex='\" + (!isDisabled && obj.value == options[i].id ? \"0\" : \"-1\") + \"' class='\" + \"webix_segment_\" + (i == options.length - 1 ? \"N\" : i > 0 ? 1 : 0) + (obj.value == options[i].id ? \" webix_selected\" : \"\") + (isDisabled ? \" webix_disabled\" : \"\") + \"' \" + (isDisabled ? \"webix_disabled='true' \" : \"\") +\n          /*@attr*/\n          \"button_id='\" + options[i].id + \"'\" + tooltip + \">\" + options[i].value + \"</button>\";\n        }\n\n        return common.$renderInput(obj, html + \"</div>\", uid());\n      }\n    },\n    _getInputNode: function () {\n      return this.$view.getElementsByTagName(\"BUTTON\");\n    },\n    focus: function () {\n      return this._focus();\n    },\n    blur: function () {\n      this._blur();\n    },\n    $setValue: function (value) {\n      //refresh tabbar if the option is in the popup list\n      var popup = this.config.tabbarPopup;\n      if (popup && $$(popup) && $$(popup).getBody().exists(value)) return this.refresh();\n\n      var inputs = this._getInputNode();\n\n      var id, option;\n\n      for (var i = 0; i < inputs.length; i++) {\n        id = inputs[i].getAttribute(\n        /*@attr*/\n        \"button_id\");\n        option = this.getOption(id);\n        inputs[i].setAttribute(\"aria-selected\", value == id ? \"true\" : \"false\");\n        inputs[i].setAttribute(\"tabindex\", option && !option.disabled && value == id ? \"0\" : \"-1\");\n        if (value == id) addCss(inputs[i], \"webix_selected\");else removeCss(inputs[i], \"webix_selected\");\n      }\n    },\n    $getValue: function () {\n      return this._settings.value || \"\";\n    },\n    getValue: function () {\n      return this._settings.value;\n    },\n    getInputNode: function () {\n      return null;\n    },\n    _set_inner_size: false\n  };\n  var view$I = exports.protoUI(api$I, text.view, HTMLOptions);\n  var segmented = {\n    api: api$I,\n    view: view$I\n  };\n\n  var autoheight = {\n    $init: function () {\n      this.$ready.push(function () {\n        var _this = this;\n\n        if (this._settings.autoheight) {\n          addCss(this.$view, \"webix_noscroll\");\n          if (!this._settings.maxHeight) this._settings.maxHeight = 100;\n\n          _event(this.$view, \"input\", function () {\n            _this._sizeToContent(true);\n          }, {\n            capture: true\n          });\n\n          this.attachEvent(\"onAfterRender\", function () {\n            _this._sizeToContent();\n          });\n        }\n      });\n    },\n    _sizeToContent: function (focus) {\n      var _this2 = this;\n\n      if (this._skipSizing) return this._skipSizing = false;\n      var txt = this.getInputNode();\n\n      var height = this._getTextHeight(txt.value, txt.offsetWidth);\n\n      var padding = 2 * $active.inputPadding + 2 * $active.borderWidth;\n      height = Math.max(height + padding, this._settings.minHeight);\n\n      if (height > this._settings.maxHeight) {\n        removeCss(this.$view, \"webix_noscroll\");\n        height = this._settings.maxHeight;\n      } else addCss(this.$view, \"webix_noscroll\", true);\n\n      var topView = this.getTopParentView();\n      clearTimeout(topView._template_resize_timer);\n      topView._template_resize_timer = delay(function () {\n        if (_this2.config.height != height) {\n          _this2.config.height = height;\n          var caretPos = txt.selectionEnd;\n          _this2._skipSizing = true;\n          var value = text.api.getValue.call(_this2);\n\n          _this2.resize();\n\n          _this2.callEvent(\"onInputResize\", []);\n\n          if (focus) {\n            txt = _this2.getInputNode(); // needed to restore \"\\n\" value after resize\n\n            text.api.$setValue.call(_this2, value);\n            txt.setSelectionRange(caretPos, caretPos);\n            txt.focus();\n          }\n        }\n      });\n    },\n    _getTextHeight: function (value, width) {\n      var d = create(\"textarea\", {\n        \"class\": \"webix_textarea_measure\",\n        rows: \"1\"\n      }, \"\");\n      d.style.cssText = \"height:auto;visibility:hidden; position:absolute; top:0px; left:0px; width:\" + width + \"px;\";\n      document.body.appendChild(d);\n      d.value = value;\n      var height = d.scrollHeight;\n      remove(d);\n      return height;\n    },\n    $setValue: function (value) {\n      text.api.$setValue.call(this, value);\n      if (this._settings.autoheight) this._sizeToContent();\n    }\n  };\n  var api$J = {\n    name: \"textarea\",\n    defaults: {\n      template: function (obj, common) {\n        var name = obj.name || obj.id;\n        var id = \"x\" + uid();\n        var html = common._baseInputHTML(\"textarea\") + \"style='width:\" + common._get_input_width(obj) + \"px;'\";\n        html += \" id='\" + id + \"' name='\" + name + \"' class='webix_inp_textarea'>\" + common._pattern(obj.value) + \"</textarea>\";\n        return common.$renderInput(obj, html, id);\n      },\n      minHeight: 60\n    },\n    $skin: function () {\n      text.api.$skin.call(this);\n      this.defaults.height = 0;\n    },\n    _skipSubmit: true,\n    _getLabelHeight: function (top) {\n      return top ? this._labelTopHeight - this._settings.inputPadding : \"\";\n    },\n    $renderIcon: function () {\n      return \"\";\n    },\n    //get input element\n    getInputNode: function () {\n      return this._dataobj.getElementsByTagName(\"textarea\")[0];\n    }\n  };\n  var view$J = exports.protoUI(api$J, autoheight, text.view);\n  var textarea = {\n    api: api$J,\n    view: view$J,\n    autoheight: autoheight\n  };\n\n  var api$K = {\n    name: \"toggle\",\n    $allowsClear: true,\n    $init: function () {\n      this.attachEvent(\"onItemClick\", function () {\n        this.toggle(\"user\");\n      });\n    },\n    $renderInput: function (obj) {\n      return \"<button type='button' \" + (obj.popup ? \"aria-haspopup='true'\" : \"\") + \" class='webix_button'>\" + obj.label + \"</button>\";\n    },\n    $setValue: function (value) {\n      var input = this.getInputNode();\n      var obj = this._settings;\n      var isPressed = value && value != \"0\";\n      var text = (isPressed ? obj.onLabel : obj.offLabel) || obj.label;\n      var children = input.children; //icon or image button\n\n      if (this._types[obj.type]) {\n        var icon = children[0];\n        if (icon.nodeName == \"SPAN\" && obj.onIcon && obj.offIcon && obj.onIcon != obj.offIcon) icon.className = icon.className.replace(isPressed ? obj.offIcon : obj.onIcon, isPressed ? obj.onIcon : obj.offIcon);\n        if (obj.type == \"imageTop\" || obj.type == \"iconTop\") children[1].innerHTML = text;else {\n          input.innerHTML = text;\n          input.insertBefore(icon, input.firstChild);\n        }\n      } else input.innerHTML = text;\n\n      input.setAttribute(\"aria-pressed\", isPressed ? \"true\" : \"false\");\n      var changeCss = isPressed ? addCss : removeCss;\n      changeCss(input.parentNode, \"webix_pressed\");\n    },\n    toggle: function (config) {\n      this.setValue(!this.getValue(), config);\n    },\n    getValue: function () {\n      var value = this._settings.value;\n      return !value || value == \"0\" ? 0 : 1;\n    },\n    defaults: {\n      template: function (obj, common) {\n        var isPressed = obj.value && obj.value != \"0\";\n        var css = isPressed ? \" webix_pressed\" : \"\";\n        obj.label = (isPressed ? obj.onLabel : obj.offLabel) || obj.label;\n        obj.icon = (isPressed ? obj.onIcon : obj.offIcon) || obj.icon;\n        var html = \"<div class='webix_el_box\" + css + \"' style='width:\" + obj.awidth + \"px; height:\" + obj.aheight + \"px'>\" + common.$renderInput(obj, common) + \"</div>\";\n        html = html.replace(/(button)\\s*(?=\\w)/, \"$1\" + (\" aria-pressed='\" + (isPressed ? \"true\" : \"false\") + \"' \"));\n        if (obj.badge || obj.badge === 0) html = html.replace(/<\\/div>$/, \"<span class='webix_badge'>\" + obj.badge + \"</span></div>\");\n        return html;\n      }\n    },\n    _set_inner_size: false\n  };\n  var view$K = exports.protoUI(api$K, button$1.view);\n\n  var api$L = {\n    name: \"multitext\",\n    $cssName: \"text\",\n    defaults: {\n      icon: \"wxi-plus-circle\",\n      iconWidth: 25,\n      separator: \", \"\n    },\n    getValueHere: function () {\n      return text.api.getValue.call(this);\n    },\n    setValueHere: function (value) {\n      return text.api.$setValue.call(this, value);\n    },\n    getValue: function () {\n      if (this.config.mode == \"extra\") return this.getValueHere();\n      if (this._full_value) return this._full_value;\n      var values = [this.getValueHere(this)];\n\n      for (var i = 0; i < this._subs.length; i++) {\n        var seg = $$(this._subs[i]).getValueHere();\n        if (seg) values.push(seg);\n      }\n\n      return values.join(this.config.separator);\n    },\n    $setValue: function (value) {\n      value = value || \"\";\n      if (this.config.mode == \"extra\") return this.setValueHere(value);\n      this._full_value = value;\n      var parts = value.split(this.config.separator);\n\n      if (parts.length == this._subs.length + 1) {\n        this.setValueHere(parts[0]);\n\n        for (var i = 0; i < this._subs.length; i++) {\n          $$(this._subs[i]).setValueHere(parts[i + 1]);\n        }\n\n        this._full_value = \"\";\n        return;\n      }\n\n      this.removeSection();\n      this.setValueHere.call(this, parts[0]);\n\n      for (var _i = 1; _i < parts.length; _i++) {\n        this.addSection(parts[_i]);\n      }\n\n      this._full_value = \"\";\n    },\n    $renderIcon: function (c) {\n      if (c.icon) {\n        var height = c.aheight - 2 * c.inputPadding;\n        var padding = (height - 18) / 2 - 1;\n        var aria = \"role='button' tabindex='0' aria-label='\" + i18n.aria[\"multitext\" + (c.mode || \"\") + \"Section\"] + \"'\";\n        return \"<span style='right:0;height:\" + (height - padding) + \"px;padding-top:\" + padding + \"px;' class='webix_input_icon webix_multitext_icon \" + c.icon + \"' \" + aria + \"></span>\";\n      }\n\n      return \"\";\n    },\n    _subOnChange: function (v, o, config) {\n      var parent = this.config.master ? $$(this.config.master) : this;\n      var value = parent.getValue();\n      var oldvalue = parent._settings.value;\n\n      if (value != oldvalue) {\n        parent._settings.value = value;\n        parent.callEvent(\"onChange\", [value, oldvalue, config]);\n      }\n    },\n    addSection: function (text$$1) {\n      var config = this.config,\n          newConfig = {\n        labelWidth: config.labelWidth,\n        inputWidth: config.inputWidth,\n        width: config.width,\n        label: config.label ? \"&nbsp;\" : \"\",\n        view: this.name,\n        mode: \"extra\",\n        value: text$$1 || \"\",\n        icon: \"wxi-minus-circle\",\n        tooltip: config.tooltip,\n        suggest: config.suggest || null,\n        master: config.id\n      };\n      exports.extend(newConfig, config.subConfig || {}, true);\n      var newone = this.getParentView().addView(newConfig);\n      $$(newone).attachEvent(\"onChange\", this._subOnChange);\n\n      this._subs.push(newone);\n\n      this.callEvent(\"onSectionAdd\", [newone, this._subs.length]);\n      return newone;\n    },\n    removeSection: function (id) {\n      var parent = this.config.master ? $$(this.config.master) : this;\n\n      for (var i = parent._subs.length - 1; i >= 0; i--) {\n        var section = parent._subs[i];\n\n        if (!id || section == id) {\n          parent._subs.removeAt(i);\n\n          this.getParentView().removeView(section);\n          parent.callEvent(\"onSectionRemove\", [section, i + 1]);\n        }\n      }\n    },\n    on_click: {\n      \"webix_input_icon\": function () {\n        if (this.config.mode == \"extra\") {\n          var parent = this.getParentView();\n          this.removeSection(this.config.id);\n          var childs = parent.getChildViews();\n          childs[childs.length - 1].focus();\n\n          this._subOnChange(null, null, \"user\");\n        } else $$(this.addSection()).focus();\n\n        return false;\n      }\n    },\n    $init: function () {\n      this._subs = _to_array([]);\n      this.attachEvent(\"onKeyPress\", this._onKeyPress);\n    },\n    $render: function (obj) {\n      this.$setValue(obj.value);\n    }\n  };\n  var view$L = exports.protoUI(api$L, text.view);\n\n  exports.protoUI({\n    name: \"multiselect\",\n    defaults: {\n      template: \"GPL version doesn't support multiselect <br> You need Webix PRO\"\n    }\n  }, template$1.view);\n\n  exports.protoUI({\n    name: \"multicombo\",\n    defaults: {\n      template: \"GPL version doesn't support multicombo <br> You need Webix PRO\"\n    }\n  }, template$1.view);\n\n  var api$M = {\n    name: \"slider\",\n    defaults: {\n      min: 0,\n      max: 100,\n      value: 50,\n      step: 1,\n      title: false,\n      moveTitle: true,\n      template: function (obj, common) {\n        var id = common._handle_id = \"x\" + uid();\n        var html = \"\";\n        var title = \"<div class='webix_slider_title\" + (obj.moveTitle ? \" webix_slider_move\" : \"\") + \"'\" + (!obj.moveTitle && obj.vertical ? \" style='line-height:\" + (obj.aheight - obj.inputPadding * 2) + \"px;'\" : \"\") + \">&nbsp;</div>\";\n        var left = \"<div class='webix_slider_left'>&nbsp;</div>\";\n        var right = \"<div class='webix_slider_right'></div>\";\n        var handle = \"<div class='webix_slider_handle' \" +\n        /*@attr*/\n        \"webix_disable_drag\" + \"='true' role='slider' aria-label='\" + obj.label + (obj.title ? \" \" + obj.title(obj) : \"\") + \"' aria-valuemax='\" + obj.max + \"' aria-valuemin='\" + obj.min + \"' aria-valuenow='\" + obj.value + \"' tabindex='0' id='\" + id + \"'>&nbsp;</div>\";\n        if (obj.vertical) html = \"<div class='webix_slider_box'>\" + right + left + handle + \"</div>\" + title;else html = title + \"<div class='webix_slider_box'>\" + left + right + handle + \"</div>\";\n        return common.$renderInput(obj, html, id);\n      }\n    },\n    type_setter: function (type) {\n      this._viewobj.className += \" webix_slider_\" + type;\n    },\n    title_setter: function (value) {\n      if (typeof value == \"string\") return template(value);\n      return value;\n    },\n    _get_slider_handle: function () {\n      return this.$view.querySelector(\".webix_slider_handle\");\n    },\n    _set_inner_size: function () {\n      var handle = this._get_slider_handle();\n\n      var config = this._settings;\n\n      if (handle) {\n        //view is rendered for sure\n        var size = config.vertical ? this._content_height : this._get_input_width(config); //width or height\n\n        var value = config.value % config.step ? Math.round(config.value / config.step) * config.step : config.value;\n        var max = config.max - config.min;\n        value = this._safeValue(value);\n        value = config.vertical ? max - (value - config.min) : value - config.min; //top or left\n\n        var corner1 = Math.ceil((size - 2 * this._sliderPadding) * value / max); //bottom or right\n\n        var corner2 = size - 2 * this._sliderPadding - corner1;\n        var cornerStr = config.vertical ? \"top\" : \"left\";\n        var sizeStr = config.vertical ? \"height\" : \"width\";\n        handle.style[cornerStr] = this._sliderPadding + corner1 - this._sliderHandleWidth / 2 + \"px\";\n        handle.parentNode.style[sizeStr] = size + \"px\"; //1px border\n\n        corner2 = this._safeValue(corner2, 2 * this._sliderBorder, size - this._sliderPadding * 2 - 2 * this._sliderBorder);\n        corner1 = this._safeValue(corner1, 2 * this._sliderBorder, size - this._sliderPadding * 2 - 2 * this._sliderBorder); //width for left/top and right/bottom bars\n\n        var part = handle.previousSibling;\n        part.style[sizeStr] = corner2 + \"px\";\n        var last = part.previousSibling;\n        last.style[sizeStr] = corner1 + \"px\";\n\n        this._set_title(handle, corner1, corner2, cornerStr);\n      }\n    },\n    _set_title: function (handle, corner1, corner2, cornerStr) {\n      var config = this._settings;\n\n      if (this._settings.title) {\n        var title = handle.parentNode[config.vertical ? \"nextSibling\" : \"previousSibling\"];\n        title.innerHTML = this._settings.title(this._settings, this);\n\n        if (this._settings.moveTitle) {\n          var pos$$1 = 0;\n          if (config.vertical) pos$$1 = corner1 + 2 * this._sliderBorder - this._sliderHandleWidth / 2;else {\n            var half = title.clientWidth / 2;\n            var pos1 = half > corner1 ? half - corner1 - 2 * this._sliderBorder : 0; //left/top text is to large\n\n            var pos2 = half > corner2 ? half - corner2 - 2 * this._sliderBorder - this._sliderHandleWidth / 2 : 0; //right/bottom text is too large\n\n            pos$$1 = this._sliderPadding + corner1 - half + pos1 - pos2;\n          }\n          title.style[cornerStr] = pos$$1 + \"px\";\n        }\n      }\n    },\n    _set_value_now: function () {\n      this._get_slider_handle().setAttribute(\"aria-valuenow\", this._settings.value);\n    },\n    _safeValue: function (value, min, max) {\n      min = min ? min : this._settings.min;\n      max = max ? max : this._settings.max;\n      return Math.min(Math.max(value, min), max);\n    },\n    refresh: function () {\n      var handle = this._get_slider_handle();\n\n      if (handle) {\n        this._set_value_now();\n\n        if (this._settings.title) handle.setAttribute(\"aria-label\", this._settings.label + \" \" + this._settings.title(this._settings, this));\n\n        this._set_inner_size();\n      }\n    },\n    $setValue: function () {\n      this.refresh();\n    },\n    $getValue: function () {\n      return this._settings.value;\n    },\n    $prepareValue: function (value) {\n      value = parseFloat(value);\n      if (isNaN(value)) value = this._settings.min;\n      return this._safeValue(value);\n    },\n    $init: function (config) {\n      var _this = this;\n\n      _event(this._viewobj, env.mouse.down, function (e) {\n        return _this._on_mouse_down_start(e, \"mouse\");\n      });\n\n      if (env.touch) _event(this._viewobj, env.touch.down, function (e) {\n        return _this._on_mouse_down_start(e, \"touch\");\n      });\n\n      _event(this.$view, \"keydown\", bind(this._handle_move_keyboard, this));\n\n      if (config.vertical) {\n        config.height = config.height || $active.vSliderHeight;\n        this._viewobj.className += \" webix_slider_vertical\";\n        this._sliderPadding = $active.vSliderPadding;\n      }\n    },\n    $skin: function () {\n      text.api.$skin.call(this);\n      this._sliderHandleWidth = $active.sliderHandleWidth; //8 - width of handle / 2\n\n      this._sliderPadding = $active.sliderPadding; //10 - padding of webix_slider_box ( 20 = 10*2 )\n\n      this._sliderBorder = $active.sliderBorder; //1px border\n    },\n    _handle_move_keyboard: function (e) {\n      var code = e.which || e.keyCode,\n          c = this._settings,\n          value = c.value;\n\n      if (code > 32 && code < 41) {\n        preventEvent(e);\n        var trg = e.target;\n        var match = /webix_slider_handle_(\\d)/.exec(trg.className);\n        this._activeIndex = match ? parseInt(match[1], 10) : -1;\n        if (match) value = c.value[this._activeIndex];\n        value = value < c.min ? c.min : value > c.max ? c.max : value;\n        if (code === 36) value = c.min;else if (code === 35) value = c.max;else {\n          var inc = code === 37 || code === 40 || code === 34 ? -1 : 1;\n          if (code === 33 || code === 34 || c.step > 1) inc = inc * c.step;\n          value = value * 1 + inc;\n        }\n\n        if (match) {\n          var other = c.value[this._activeIndex ? 0 : 1];\n          value = this._activeIndex && value <= other || !this._activeIndex && value >= other ? other : value;\n        }\n\n        if (value >= c.min && value <= c.max) {\n          if (match) {\n            var temp = [];\n\n            for (var i = 0; i < c.value.length; i++) {\n              temp[i] = i === this._activeIndex ? value : c.value[i];\n            }\n\n            value = temp;\n          }\n\n          this.setValue(value, \"user\");\n          this._activeIndex = -1;\n        }\n      }\n    },\n    _on_mouse_down_start: function (e, pointer) {\n      var _this2 = this;\n\n      var trg = e.target;\n      if (this._mouse_down_process) this._mouse_down_process(e);\n      var value = this._settings.value;\n      if (isArray(value)) value = copy(value);\n      this._start_value = value;\n      if (trg.className.indexOf(\"webix_slider\") !== -1) this._settings.value = this._get_value_from_event(e);\n      var passive = pointer === \"touch\" ? {\n        passive: false\n      } : null;\n      this._handle_drag_events = [event$1(document.body, env[pointer].move, function (e) {\n        return _this2._handle_move_process(e, pointer);\n      }, passive), event$1(document, env[pointer].up, function () {\n        return _this2._handle_move_stop();\n      })];\n      addCss(document.body, \"webix_noselect\");\n    },\n    _handle_move_stop: function () {\n      //detach event handlers\n      eventRemove(this._handle_drag_events[0]);\n      eventRemove(this._handle_drag_events[1]);\n      this._handle_drag_events = null;\n      var value = this._settings.value;\n      if (isArray(value)) value = copy(value);\n      this._settings.value = this._start_value;\n      this.setValue(value, \"user\");\n\n      this._get_slider_handle(this._activeIndex).focus();\n\n      this._activeIndex = -1;\n      removeCss(document.body, \"webix_noselect\");\n    },\n    _handle_move_process: function (e, pointer) {\n      this._settings.value = this._get_value_from_event(e);\n      this.refresh();\n      this.callEvent(\"onSliderDrag\", []);\n      if (pointer === \"touch\") preventEvent(e);\n    },\n    _get_value_from_event: function (e) {\n      var ax = this._settings.vertical ? \"y\" : \"x\";\n      var pos$$1 = pos(e)[ax];\n      return this._get_value_from_pos(pos$$1);\n    },\n    _get_value_from_pos: function (pos$$1) {\n      var config = this._settings;\n      var max = config.max - config.min;\n      var ax = config.vertical ? \"y\" : \"x\"; //top or left depending on slider type\n\n      var corner = offset(this._get_slider_handle().parentNode)[ax] + this._sliderPadding; //height or width depending on slider type\n\n\n      var size = (config.vertical ? this._content_height : this._get_input_width(config)) - 2 * this._sliderPadding;\n      var newvalue = size ? (pos$$1 - corner) * max / size : 0;\n      if (config.vertical) newvalue = max - newvalue;\n      newvalue = Math.round((newvalue + 1 * config.min) / config.step) * config.step;\n      return this._safeValue(newvalue);\n    },\n    _init_onchange: function () {} //need not ui.text logic\n\n  };\n  var view$M = exports.protoUI(api$M, text.view);\n\n  exports.protoUI({\n    name: \"rangeslider\",\n    defaults: {\n      template: \"GPL version doesn't support rangeslider <br> You need Webix PRO\"\n    }\n  }, template$1.view);\n\n  var api$N = {\n    name: \"switch\",\n    defaults: {\n      template: function (config, common) {\n        common._calck_switch_size();\n\n        var id = config.name || \"x\" + uid();\n        var rightlabel = \"\";\n\n        if (config.labelRight) {\n          rightlabel = \"<label class='webix_label_right'>\" + config.labelRight + \"</label>\";\n          if (config.labelWidth) config.label = config.label || \"&nbsp;\";\n        }\n\n        var checked = config.checkValue == config.value;\n        var aria = \"aria-label=\\\"\" + (config.label || config.labelRight || \"\") + \"\\\" role=\\\"checkbox\\\" tabindex=\\\"0\\\" aria-checked=\\\"\" + (checked ? \"true\" : \"false\") + \"\\\" \" + (config.readonly ? \"aria-readonly='true'\" : \"\") + \"\\\"\";\n        var html = \"<div class=\\\"webix_switch_box \" + (checked ? \" webix_switch_on\" : \"\") + \"\\\" style=\\\"width:\" + common._switchWidth + \"px\\\">\" + \"<span class=\\\"webix_switch_text\\\">\" + ((checked ? config.onLabel : config.offLabel) || \"\") + \"</span>\" + \"<button class=\\\"webix_switch_handle\\\" \" + aria + \" style=\\\"left:\" + (checked ? common._switchWidth - common._switchHeight : 0) + \"px;\\\">\" + \"<input  id=\\\"\" + id + \"\\\" class=\\\"webix_switch_toggle\\\" type=\\\"checkbox\\\" \" + (checked ? \"checked\" : \"\") + \"></button>\" + \"</div>\" + rightlabel;\n        return common.$renderInput(config, html, id);\n      }\n    },\n    $skin: function () {\n      checkbox.api.$skin.call(this);\n      this._switchHeight = $active.switchHeight;\n      this._switchWidth = $active.switchWidth;\n    },\n    $setValue: function (value) {\n      var config = this._settings;\n      var checked = value == config.checkValue;\n      var box = this.$view.querySelector(\".webix_switch_box\");\n\n      if (box) {\n        var handle = box.childNodes[1];\n        var text = (checked ? config.onLabel : config.offLabel) || \"\";\n        if (checked) addCss(box, \"webix_switch_on\");else removeCss(box, \"webix_switch_on\");\n        handle.style.left = (checked ? this._switchWidth - this._switchHeight : 0) + \"px\";\n        handle.firstChild.checked = checked;\n        handle.setAttribute(\"aria-checked\", checked ? \"true\" : \"false\");\n\n        if (text) {\n          box.childNodes[0].innerHTML = text;\n        }\n      }\n    },\n    _calck_switch_size: function () {\n      var config = this._settings;\n\n      if (config.onLabel || config.offLabel) {\n        var onWidth = config.onLabel ? getTextSize(config.onLabel, \"webix_switch_text\").width : 0;\n        var offWidth = config.onLabel ? getTextSize(config.offLabel, \"webix_switch_text\").width : 0;\n        this._switchWidth = Math.max(onWidth, offWidth) + this._switchHeight;\n      }\n    },\n    on_click: {\n      \"webix_switch_box\": function () {\n        if (!this._settings.readonly) this.toggle(\"user\");\n      },\n      \"webix_label_right\": function () {\n        if (!this._settings.readonly) this.toggle(\"user\");\n      }\n    }\n  };\n  var view$N = exports.protoUI(api$N, checkbox.view);\n\n  var api$O = {\n    name: \"tabbar\",\n    $init: function () {\n      this.attachEvent(\"onKeyPress\", this._onKeyPress);\n    },\n    $skin: function () {\n      var skin = $active;\n      var defaults = this.defaults;\n      defaults.topOffset = skin.tabTopOffset || 0;\n      defaults.tabOffset = typeof skin.tabOffset != \"undefined\" ? skin.tabOffset : 10;\n      defaults.bottomOffset = skin.tabBottomOffset || 0;\n      defaults.height = skin.tabbarHeight;\n      defaults.tabMargin = skin.tabMargin;\n      defaults.inputPadding = skin.inputPadding;\n      defaults.tabMinWidth = skin.tabMinWidth || 100;\n      defaults.tabMoreWidth = skin.tabMoreWidth || 40;\n      defaults.borderless = !skin.tabBorder;\n    },\n    _getTabbarSizes: function () {\n      var config = this._settings,\n          i,\n          len,\n          tabs = this._filterOptions(config.options),\n          totalWidth = this._input_width - config.tabOffset * 2,\n          limitWidth = config.optionWidth || config.tabMinWidth;\n\n      len = tabs.length;\n\n      if (config.tabMinWidth && totalWidth / len < limitWidth) {\n        return {\n          max: parseInt(totalWidth / limitWidth, 10) || 1\n        };\n      }\n\n      if (!config.optionWidth) {\n        for (i = 0; i < len; i++) {\n          if (tabs[i].width) {\n            totalWidth -= tabs[i].width + (!i && !config.type ? config.tabMargin : 0);\n            len--;\n          }\n        }\n      }\n\n      return {\n        width: len ? totalWidth / len : config.tabMinWidth\n      };\n    },\n    _init_popup: function () {\n      var _this = this;\n\n      var obj = this._settings; // if tabbar popup is set as plain object with config\n\n      if (!obj.tabbarPopup || !$$(obj.tabbarPopup)) {\n        var popupConfig = exports.extend({\n          view: \"popup\",\n          autofocus: false,\n          width: 200\n        }, obj.tabbarPopup || {});\n        var body = exports.extend({\n          view: \"list\",\n          borderless: true,\n          select: true,\n          autoheight: true,\n          yCount: 7,\n          template: template(\"#value#\")\n        }, obj.tabbarPopup ? obj.tabbarPopup.body || {} : {}, true);\n        body.css = \"webix_tab_list \".concat(body.css || \"\");\n        popupConfig.body = body;\n\n        var _view = ui(popupConfig);\n\n        var list = _view.getBody();\n\n        _view.attachEvent(\"onShow\", function () {\n          list.unselect();\n          UIManager.setFocus(list);\n          var node = list.getItemNode(list.getFirstId());\n          if (node) node.focus();\n        });\n\n        list.attachEvent(\"onItemClick\", function (id) {\n          return _this._popupInnerClick(id);\n        });\n        list.attachEvent(\"onEnter\", function () {\n          return _this._popupInnerClick();\n        });\n        obj.tabbarPopup = _view._settings.id;\n\n        this._destroy_with_me.push(_view);\n      }\n\n      this._init_popup = function () {};\n    },\n    _popupInnerClick: function (id) {\n      var popup = $$(this._settings.tabbarPopup);\n      id = id || popup.getBody().getSelectedId();\n\n      if (id && this.callEvent(\"onBeforeTabClick\", [id])) {\n        this.setValue(id, \"user\");\n        popup.hide();\n        this.callEvent(\"onAfterTabClick\", [id]);\n        this.refresh();\n        this.focus();\n      }\n\n      return false;\n    },\n    getPopup: function () {\n      this._init_popup();\n\n      return $$(this._settings.tabbarPopup);\n    },\n    moreTemplate_setter: template,\n    defaults: {\n      moreTemplate: \"<span class=\\\"webix_icon wxi-dots\\\"></span>\",\n      template: function (obj, common) {\n        common._check_options(obj.options);\n\n        var tabs = common._filterOptions(obj.options);\n\n        var contentWidth, html, leafWidth, resultHTML, style, sum, verticalOffset, width;\n\n        if (!tabs.length) {\n          html = \"<div class='webix_tab_filler' style='width:\" + common._input_width + \"px; border-right:0px;'></div>\";\n        } else {\n          if (!obj.value) obj.value = common._getFirstActive(true);\n          html = \"\";\n          if (obj.tabOffset) html += \"<div class='webix_tab_filler' style='width:\" + obj.tabOffset + \"px;'>&nbsp;</div>\";\n          contentWidth = common._input_width - obj.tabOffset * 2 - (!obj.type ? obj.tabMargin * (tabs.length - 1) : 0);\n          verticalOffset = obj.topOffset + obj.bottomOffset;\n\n          var sizes = common._getTabbarSizes();\n\n          if (sizes.max && sizes.max < tabs.length) {\n            //we need popup\n            var popup = common.getPopup();\n            popup.hide();\n            var body = popup.getBody() || null;\n\n            if (body) {\n              if (sizes.max) {\n                for (var i = 0, found = false; i < tabs.length && !found; i++) {\n                  if (tabs[i].id == obj.value) {\n                    found = true;\n\n                    if (i + 1 > sizes.max) {\n                      var selectedTab = tabs.splice(i, 1);\n                      var displayTabs = tabs.splice(0, sizes.max - 1).concat(selectedTab);\n                      tabs = displayTabs.concat(tabs);\n                    }\n                  }\n                }\n\n                body.clearAll();\n                body.parse(tabs.slice(sizes.max));\n              } else {\n                body.clearAll();\n              }\n            }\n          } else if (common._settings.tabbarPopup) {\n            var _popup = $$(common._settings.tabbarPopup);\n\n            if (_popup) _popup.hide();\n          }\n\n          sum = obj.tabOffset;\n\n          for (var _i = 0, lastTab = false; _i < tabs.length && !lastTab; _i++) {\n            // tab width\n            if (sizes && sizes.max) {\n              if (sizes.max == _i + 1) {\n                lastTab = true;\n              }\n\n              contentWidth = common._input_width - obj.tabOffset * 2 - (!obj.type && sizes.max > 1 ? obj.tabMargin * (sizes.max - 1) : 0);\n              width = (contentWidth - obj.tabMoreWidth) / sizes.max;\n            } else width = sizes.width;\n\n            width = tabs[_i].width || obj.optionWidth || width;\n            sum += width + (_i && !obj.type ? obj.tabMargin : 0);\n            if (obj.tabMargin > 0 && _i && !obj.type) html += \"<div class='webix_tab_filler' style='width:\" + obj.tabMargin + \"px;'></div>\"; // tab innerHTML\n\n            html += common._getTabHTML(tabs[_i], width);\n\n            if (lastTab) {\n              html += \"<div role=\\\"button\\\" tabindex=\\\"0\\\" aria-label=\\\"\" + i18n.aria.showTabs + \"\\\" class=\\\"webix_tab_more_icon\\\" style=\\\"width:\" + obj.tabMoreWidth + \"px;\\\">\" + obj.moreTemplate(obj, common) + \"</div>\";\n              sum += obj.tabMoreWidth;\n            }\n          }\n\n          leafWidth = common._content_width - sum;\n          if (leafWidth > 0 && !obj.type) html += \"<div class='webix_tab_filler' style='width:\" + leafWidth + \"px;'>&nbsp;</div>\";\n        }\n\n        resultHTML = \"\"; // consider top and bottom offset in tabs height (top tabbar)\n\n        style = verticalOffset && !obj.type ? \"height:\" + (common._content_height - verticalOffset) + \"px\" : \"\"; //space above tabs (top tabbar)\n\n        if (obj.topOffset && !obj.type) resultHTML += \"<div class='webix_before_all_tabs' style='width:100%;height:\" + obj.topOffset + \"px'></div>\"; // tabs html\n\n        resultHTML += \"<div style='\" + style + \"' role='tablist' class='webix_all_tabs \" + (obj.type ? \"webixtype_\" + obj.type : \"\") + \"'>\" + html + \"</div>\"; //space below to tabs (top tabbar)\n\n        if (obj.bottomOffset && !obj.type) resultHTML += \"<div class='webix_after_all_tabs' style='width:100%;height:\" + obj.bottomOffset + \"px'></div>\";\n        return resultHTML;\n      }\n    },\n    _getInputNode: function () {\n      return this.$view.querySelectorAll(\".webix_item_tab\");\n    },\n    _getTabHTML: function (tab, width) {\n      var html,\n          className = \"\",\n          tooltip = \"\",\n          isDisabled = !!tab.disabled,\n          config = this.config;\n      if (tab.id == config.value) className += \" webix_selected\";\n      if (isDisabled) className += \" webix_disabled\";\n      if (tab.css) className += \" \" + tab.css;\n      if (config.tooltip) tooltip = \" webix_t_id='\" + tab.id + \"'\";\n      width = tab.width || width;\n      html = \"<div class=\\\"webix_item_tab\" + className + \"\\\" \" +\n      /*@attr*/\n      \"button_id=\\\"\" + tab.id + \"\\\" role=\\\"tab\\\" \" + \"aria-selected=\\\"\" + (tab.id == config.value ? \"true\" : \"false\") + \"\\\" tabindex=\\\"\" + (!isDisabled && tab.id == config.value ? \"0\" : \"-1\") + \"\\\" style=\\\"width:\" + width + \"px;\\\"\" + (isDisabled ? \" webix_disabled=\\\"true\\\"\" : \"\") + tooltip + \">\"; // a tab title\n\n      if (this._tabTemplate) {\n        var calcHeight = this._content_height - config.inputPadding * 2 - 2;\n        var height = this._content_height - 2;\n        var temp = exports.extend({\n          cheight: calcHeight,\n          aheight: height\n        }, tab);\n        html += this._tabTemplate(temp);\n      } else {\n        var icon = tab.icon ? \"<span class='webix_icon \" + tab.icon + \"'></span> \" : \"\";\n        html += icon + tab.value;\n      }\n\n      if (!isDisabled && (tab.close || config.close)) html += \"<span role='button' tabindex='0' aria-label='\" + i18n.aria.closeTab + \"' class='webix_tab_close webix_icon wxi-close'></span>\";\n      html += \"</div>\";\n      return html;\n    },\n    _getBox: function () {\n      return this._dataobj.firstChild;\n    },\n    _types: {\n      image: \"<div class='webix_img_btn_top' style='height:#cheight#px;background-image:url(#image#);'><div class='webix_img_btn_text'>#value#</div></div>\",\n      icon: \"<div class='webix_img_btn' style='line-height:#cheight#px;height:#cheight#px;'><span class='webix_icon_btn #icon#' style='max-width:#cheight#px;max-height:#cheight#px;'></span>#value#</div>\",\n      iconTop: \"<div class='webix_img_btn_top' style='height:#cheight#px;width:100%;top:0px;text-align:center;'><span class='webix_icon #icon#'></span><div class='webix_img_btn_text'>#value#</div></div>\"\n    },\n    type_setter: function (value) {\n      this._settings.tabOffset = 0;\n      if (this._types[value]) this._tabTemplate = template(this._types[value]);\n      return value;\n    }\n  };\n  var view$O = exports.protoUI(api$O, segmented.view);\n\n  var api$P = {\n    name: \"richtext\",\n    defaults: {\n      label: \"\",\n      labelWidth: 80,\n      labelPosition: \"left\"\n    },\n    $init: function () {\n      this._viewobj.className += \" webix_richtext\";\n      this.$ready.unshift(this._setLayout);\n    },\n    $skin: function () {\n      layout.api.$skin.call(this);\n      this.defaults.paddingX = $active.inputSpacing / 2;\n      this.defaults.paddingY = $active.inputPadding;\n    },\n    getInputNode: function () {\n      return this.$view.querySelector(\".webix_richtext_editor\");\n    },\n    _button: function (name) {\n      return {\n        view: \"toggle\",\n        type: \"icon\",\n        icon: \"wxi-\" + name,\n        name: name,\n        id: name,\n        label: i18n.richtext[name],\n        autowidth: true,\n        action: name,\n        click: this._add_data\n      };\n    },\n    _setLayout: function () {\n      var top = this;\n      var editField = {\n        view: \"template\",\n        css: \"webix_richtext_container\",\n        borderless: true,\n        template: \"<div class='webix_richtext_editor' contenteditable='true'>\" + this.getValue() + \"</div>\",\n        on: {\n          onAfterRender: function () {\n            top._rendered_input = true;\n            top.refresh();\n\n            _event(top.getInputNode(), \"blur\", function () {\n              top._updateValue(this.innerHTML, \"user\");\n            });\n\n            _event(top.getInputNode(), \"keyup\", function () {\n              top._getselection(\"auto\");\n            });\n          }\n        },\n        onClick: {\n          webix_richtext_editor: function () {\n            top._getselection(\"auto\");\n          }\n        }\n      };\n      var controls = [this._button(\"underline\"), this._button(\"bold\"), this._button(\"italic\"), {}];\n      var editorToolbar = {\n        view: \"toolbar\",\n        id: \"toolbar\",\n        elements: controls\n      };\n      var rows = [editorToolbar, editField];\n      var config = this.config;\n\n      if (config.labelPosition == \"top\") {\n        editorToolbar.elements = controls.concat([{\n          view: \"label\",\n          label: config.label,\n          align: \"right\"\n        }, {\n          width: 4\n        }]);\n        this.rows_setter(rows);\n      } else {\n        config.labelWidth = config.label ? this._getLabelWidth(config.labelWidth, config.label) : 0;\n\n        if (config.labelWidth) {\n          config.margin = 0;\n          this.cols_setter([{\n            template: config.label,\n            css: \"webix_richtext_inp_label\" + (config.required ? \" webix_required\" : \"\"),\n            borderless: true,\n            width: config.labelWidth\n          }, {\n            rows: rows\n          }]);\n        } else this.rows_setter(rows);\n      }\n    },\n    _getLabelWidth: function (width, label) {\n      if (width == \"auto\") width = getTextSize(label, \"webix_inp_label\").width;\n      return width ? Math.max(width, $active.dataPadding) : 0;\n    },\n    _getselection: function (config) {\n      var top = this;\n      var bar = top.$$(\"toolbar\");\n      var sel;\n      bar.setValues({\n        italic: false,\n        underline: false,\n        bold: false\n      }, false, config);\n\n      if (window.getSelection) {\n        sel = window.getSelection();\n      } else {\n        sel = document.selection.createRange();\n      }\n\n      for (var i = 0; i < sel.rangeCount; ++i) {\n        if (top.$view.contains(this.getInputNode())) {\n          if (document.queryCommandState(\"bold\")) {\n            top.$$(\"bold\").setValue(true, config);\n          }\n\n          if (document.queryCommandState(\"underline\")) {\n            top.$$(\"underline\").setValue(true, config);\n          }\n\n          if (document.queryCommandState(\"italic\")) {\n            top.$$(\"italic\").setValue(true, config);\n          }\n        }\n      }\n    },\n    refresh: function () {\n      if (this._rendered_input) this.getInputNode().innerHTML = this._settings.value;\n    },\n    _execCommandOnElement: function (commandName) {\n      var sel, selText;\n      sel = window.getSelection();\n      selText = sel.toString().length;\n      var input = this.getInputNode();\n      if (!input.contains(sel.anchorNode) || !input.contains(sel.focusNode)) return;\n\n      if (selText > 0) {\n        for (var i = 0; i < sel.rangeCount; ++i) {\n          var range = sel.getRangeAt(i);\n\n          if (!sel.isCollapsed) {\n            document.execCommand(commandName, false, \"\");\n          } else {\n            var textValue = sel.focusNode.textContent;\n            var focusEl = sel.focusNode;\n            var focustext = sel.anchorOffset;\n            var wordBegining = textValue.substring(0, focustext).match(/[A-Za-z]*$/)[0];\n            var wordEnd = textValue.substring(focustext).match(/^[A-Za-z]*/)[0];\n            var startWord = focustext - wordBegining.length;\n            var endWord = focustext + wordEnd.length;\n            range.setStart(focusEl, startWord);\n            range.setEnd(focusEl, endWord);\n            sel.removeAllRanges();\n            sel.addRange(range);\n            document.execCommand(commandName, false, \"\");\n          }\n        }\n      }\n    },\n    _add_data: function () {\n      var top = this.getTopParentView();\n\n      top._execCommandOnElement(this.config.action);\n    },\n    focus: function () {\n      if (!UIManager.canFocus(this)) return false;\n      var editableElement = this.getInputNode();\n      editableElement.focus();\n    },\n    _updateValue: function (value, config) {\n      value = this.$prepareValue(value);\n      var oldvalue = this._settings.value;\n\n      if (oldvalue != value) {\n        this._settings.value = value;\n        this.callEvent(\"onChange\", [value, oldvalue, config]);\n      }\n    },\n    setValue: function (value, config) {\n      this._updateValue(value, config);\n\n      this.refresh();\n    },\n    $prepareValue: function (value) {\n      return value === 0 ? \"0\" : (value || \"\").toString();\n    },\n    value_setter: function (value) {\n      return this.$prepareValue(value);\n    },\n    getValue: function () {\n      var input = this.getInputNode();\n      if (input) return input.innerHTML;\n      return this._settings.value;\n    }\n  };\n  var view$P = exports.protoUI(api$P, IdSpace, layout.view);\n\n  var api$Q = {\n    name: \"proto\",\n    $init: function () {\n      this.data.provideApi(this, true);\n      this._dataobj = this._dataobj || this._contentobj; //render self , each time when data is updated\n\n      this.data.attachEvent(\"onStoreUpdated\", bind(function () {\n        this.render.apply(this, arguments);\n      }, this));\n    },\n    $setSize: function () {\n      if (base$1.api.$setSize.apply(this, arguments)) this.render();\n    },\n    _id:\n    /*@attr*/\n    \"webix_item\",\n    on_mouse_move: {},\n    type: {}\n  };\n  var view$Q = exports.protoUI(api$Q, PagingAbility, DataMarks, AutoTooltip, ValidateCollection, RenderStack, DataLoader, base$1.view, EventSystem, Settings);\n  var proto = {\n    api: api$Q,\n    view: view$Q\n  };\n\n  var api$R = {\n    name: \"list\",\n    _listClassName: \"webix_list\",\n    _itemClassName: \"webix_list_item\",\n    $init: function (config) {\n      var _this = this;\n\n      addCss(this._viewobj, this._listClassName + ((config.layout || this.defaults.layout) == \"x\" ? \"-x\" : \"\"));\n      this.data.provideApi(this, true);\n      this.data.attachEvent(\"onStoreUpdated\", function (id, obj, mode) {\n        if (!id || mode === \"add\" || mode === \"delete\") _this._auto_resize();\n      });\n      this.data.attachEvent(\"onSyncApply\", function () {\n        return _this._auto_resize();\n      });\n\n      this._viewobj.setAttribute(\"role\", \"listbox\");\n    },\n    dynamic_setter: function (value) {\n      if (value) exports.extend(this, VRenderStack, true);\n      return value;\n    },\n    $dragHTML: function (obj, e, context) {\n      var html;\n\n      if (this._settings.layout == \"y\" && this.type.width == \"auto\") {\n        this.type.width = this._content_width;\n        html = this._toHTML(obj);\n        this.type.width = \"auto\";\n      } else html = this._toHTML(obj);\n\n      if (isArray(context.source) && context.source.length > 1) html = this._toMultipleHTML(html, context.source.length);\n      return html;\n    },\n    defaults: {\n      select: false,\n      scroll: true,\n      layout: \"y\",\n      navigation: true,\n      datafetch: 50\n    },\n    _id:\n    /*@attr*/\n    \"webix_l_id\",\n    on_click: {\n      webix_list_item: function (e, id) {\n        if (this._settings.select) {\n          this._no_animation = true;\n          if (this._settings.select == \"multiselect\" || this._settings.multiselect) this.select(id, false, e.ctrlKey || e.metaKey || this._settings.multiselect == \"touch\", e.shiftKey); //multiselection\n          else this.select(id);\n          this._no_animation = false;\n        }\n      }\n    },\n    on_dblclick: {},\n    getVisibleCount: function () {\n      return Math.floor(this._content_height / this._one_height());\n    },\n    _auto_resize: function () {\n      var c = this._settings;\n      if (c.autoheight || c.autowidth) return this.resize();\n\n      if (c.layout == \"y\") {\n        if (c.yCount) this._auto_height_calc(c.yCount);\n      } else {\n        if (c.xCount) this._auto_width_calc(c.xCount);\n      }\n    },\n    _auto_height_calc: function (count) {\n      var value = this.data.$pagesize || this.count();\n\n      this._onoff_scroll(count && count < value, \"y\");\n\n      if (this._settings.autoheight && value < (count || Infinity)) count = value;\n      var height = this._one_height() * count + (this.type.margin || 0); //unitlist\n\n      if (this.getUnits) height += this.getUnits().length * this.type.headerHeight;\n      return Math.max(height, this._settings.minHeight || 0);\n    },\n    _one_height: function () {\n      return this.type.height + (this.type.margin || 0);\n    },\n    _auto_width_calc: function (count) {\n      var value = this.data.$pagesize || this.count();\n\n      this._onoff_scroll(count && count < value, \"x\");\n\n      if (this._settings.autowidth && value < (count || Infinity)) count = value;\n      return this.type.width * count;\n    },\n    $getSize: function (dx, dy) {\n      if (this._settings.layout == \"y\") {\n        if (this.type.width != \"auto\") this._settings.width = this.type.width + (this._scroll_y ? env.scrollSize : 0);\n        if (this._settings.yCount || this._settings.autoheight) this._settings.height = this._auto_height_calc(this._settings.yCount) || 1;\n      } else {\n        if (this.type.height != \"auto\") this._settings.height = this._one_height() + (this._scroll_x ? env.scrollSize : 0);\n        if (this._settings.xCount || this._settings.autowidth) this._settings.width = this._auto_width_calc(this._settings.xCount) || 1;\n      }\n\n      return base$1.api.$getSize.call(this, dx, dy);\n    },\n    $setSize: function () {\n      base$1.api.$setSize.apply(this, arguments);\n    },\n    type: {\n      css: \"\",\n      widthSize: function (obj, common) {\n        return common.width + (common.width > -1 ? \"px\" : \"\");\n      },\n      heightSize: function (obj, common) {\n        return common.height + (common.height > -1 ? \"px\" : \"\");\n      },\n      classname: function (obj, common, marks) {\n        var css = \"webix_list_item\";\n        if (common.css) css += \" \" + common.css;\n        if (obj.disabled) css += \" webix_disabled\";\n\n        if (obj.$css) {\n          if (_typeof(obj.$css) == \"object\") obj.$css = createCss(obj.$css);\n          css += \" \" + obj.$css;\n        }\n\n        if (marks && marks.$css) css += \" \" + marks.$css;\n        return css;\n      },\n      aria: function (obj, common, marks) {\n        return \"role=\\\"option\\\"\" + (marks && marks.webix_selected ? \" aria-selected=\\\"true\\\" tabindex=\\\"0\\\"\" : \" tabindex=\\\"-1\\\"\") + (obj.$count && obj.$template ? \"aria-expanded=\\\"true\\\"\" : \"\") + (obj.disabled ? \" aria-disabled=\\\"true\\\" webix_disabled=\\\"true\\\"\" : \"\");\n      },\n      template: function (obj) {\n        return (obj.icon ? \"<span class='webix_list_icon webix_icon \" + obj.icon + \"'></span>\" : \"\") + obj.value + (obj.badge || obj.badge === 0 ? \"<div class='webix_badge'>\" + obj.badge + \"</div>\" : \"\");\n      },\n      width: \"auto\",\n      templateStart: template(\"<div \" +\n      /*@attr*/\n      \"webix_l_id\" + \"=\\\"#id#\\\" class=\\\"{common.classname()}\\\" style=\\\"width:{common.widthSize()}; height:{common.heightSize()}; overflow:hidden;\\\" {common.aria()}>\"),\n      templateEnd: template(\"</div>\")\n    },\n    $skin: function () {\n      this.type.height = $active.listItemHeight;\n    },\n    disableItem: function (id) {\n      this._set_item_disabled(id, true);\n    },\n    enableItem: function (id) {\n      this._set_item_disabled(id, false);\n    },\n    _set_item_disabled: function (id, state) {\n      var item = this.getItem(id);\n\n      if (item) {\n        item.disabled = state;\n        this.refresh(id);\n      }\n    },\n    isItemEnabled: function (id) {\n      var item = this.getItem(id);\n      return item && !item.disabled;\n    },\n    _skip_item: function (id, prev, dir) {\n      if (!this.isItemEnabled(id)) {\n        id = this.getNextId(id, dir) || null;\n        return id && id != prev ? this._skip_item(id, prev, dir) : prev;\n      }\n\n      return id;\n    }\n  };\n  var view$R = exports.protoUI(api$R, CustomPrint, KeysNavigation, DataMove, DragItem, MouseEvents, SelectionModel, Scrollable, proto.view, CopyPaste);\n  var list = {\n    api: api$R,\n    view: view$R\n  };\n\n  /*\n  \tUI:Uploader\n  */\n  // #include ui/view.js\n  // #include ui/list.js\n\n  type(list.view, {\n    name: \"uploader\",\n    template: \"{common.removeIcon()}{common.percent()}<div style='float:right'>#sizetext#</div>{common.fileName()}\",\n    percent: function (obj) {\n      if (obj.status == \"transfer\") return \"<div style='width:60px; text-align:center; float:right'>\" + obj.percent + \"%</div>\";\n      return \"<div class='webix_upload_\" + obj.status + \"'><span class='\" + (obj.status == \"error\" ? \"error_icon\" : \"webix_icon wxi-check\") + \"'></span></div>\";\n    },\n    removeIcon: function () {\n      return \"<div class='webix_remove_upload'><span class='cancel_icon'></span></div>\";\n    },\n    fileName: function (obj) {\n      return \"<div style='text-overflow:ellipsis; white-space:nowrap; overflow:hidden; padding-right:8px;'>\" + obj.name + \"</div>\";\n    },\n    on_click: {\n      \"webix_remove_upload\": function (ev, id) {\n        $$(this.config.uploader).files.remove(id);\n      }\n    }\n  });\n  var api$S = {\n    name: \"uploader\",\n    defaults: {\n      autosend: true,\n      multiple: true,\n      inputName: \"upload\"\n    },\n    $cssName: \"button webix_uploader\",\n    $allowsClear: true,\n    on_click: {\n      //don't fire extra onItemClick events, visible button will do it\n      \"webix_hidden_upload\": function () {\n        return false;\n      }\n    },\n    //will be redefined by upload driver\n    send: function () {},\n    fileDialog: function () {},\n    stopUpload: function () {},\n    $skin: function () {\n      button$1.api.$skin.call(this);\n      if ($name == \"material\" || $name == \"mini\") this.defaults.css = \"webix_primary\";\n    },\n    $init: function () {\n      this.files = new DataCollection();\n      this._destroy_with_me = [this.files];\n      exports.extend(this, UploadDriver, true);\n    },\n    $setSize: function (x, y) {\n      if (base$1.api.$setSize.call(this, x, y)) {\n        this.render();\n      }\n    },\n    apiOnly_setter: function (value) {\n      delay(this.render, this);\n      return this.$apiOnly = value;\n    },\n    _add_files: function (files) {\n      for (var i = 0; i < files.length; i++) {\n        this.addFile(files[i]);\n      }\n    },\n    link_setter: function (value) {\n      if (value) delay(function () {\n        var view = $$(this._settings.link);\n\n        if (!view) {\n          var top = this.getTopParentView();\n          if (top.$$) view = top.$$(this._settings.link);\n        }\n\n        if (view.sync && view.filter) view.sync(this.files);else if (view.setValues) this.files.data.attachEvent(\"onStoreUpdated\", function () {\n          view.setValues(this, false, \"auto\");\n        });\n        view._settings.uploader = this._settings.id;\n      }, this);\n      return value;\n    },\n    addFile: function (name, size, type$$1, extra) {\n      var file = null;\n\n      if (_typeof(name) == \"object\") {\n        file = name;\n        name = file.name;\n        size = file.size;\n      }\n\n      var format = this._format_size(size);\n\n      type$$1 = type$$1 || name.split(\".\").pop();\n      var file_struct = {\n        file: file,\n        name: name,\n        id: uid(),\n        size: size,\n        sizetext: format,\n        type: type$$1,\n        context: this._last_file_context,\n        status: \"client\"\n      };\n      if (file && file.webkitRelativePath) file_struct.name = file.webkitRelativePath;\n      if (extra) exports.extend(file_struct, extra, true);\n\n      if (this.callEvent(\"onBeforeFileAdd\", [file_struct])) {\n        if (!this._settings.multiple) this.files.clearAll();\n        var id = this.files.add(file_struct);\n        this.callEvent(\"onAfterFileAdd\", [file_struct]);\n        if (id && this._settings.autosend) this.send(id);\n      }\n\n      return file_struct;\n    },\n    _get_active_url: function (item) {\n      var url = this._settings.upload;\n      var urldata = exports.extend(item.urlData || {}, this._settings.urlData || {});\n\n      if (url && urldata) {\n        var subline = [];\n\n        for (var key in urldata) {\n          subline.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(urldata[key]));\n        }\n\n        if (subline.length) url += (url.indexOf(\"?\") == -1 ? \"?\" : \"&\") + subline.join(\"&\");\n      }\n\n      return url;\n    },\n    addDropZone: function (id, hover_text) {\n      var node = toNode(id);\n      var extra_css = \"\";\n      if (hover_text) extra_css = \" \" + createCss({\n        content: \"\\\"\" + hover_text + \"\\\"\"\n      }, \":before\");\n      var fullcss = \"webix_drop_file\" + extra_css;\n      var timer = null; //web\n\n      _event(node, \"dragover\", preventEvent);\n\n      _event(node, \"dragover\", function () {\n        addCss(node, fullcss, true);\n\n        if (timer) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      });\n\n      _event(node, \"dragleave\", function () {\n        //when moving over html child elements\n        //browser will issue dragleave and dragover events\n        //ignore first one\n        timer = setTimeout(function () {\n          removeCss(node, fullcss);\n        }, 150);\n      });\n\n      _event(node, \"drop\", bind(function (e) {\n        removeCss(node, fullcss);\n        this.$drop(e);\n        return preventEvent(e);\n      }, this));\n    },\n    _format_size: function (size) {\n      var index$$1 = 0;\n\n      while (size > 1024) {\n        index$$1++;\n        size = size / 1024;\n      }\n\n      return Math.round(size * 100) / 100 + \" \" + i18n.fileSize[index$$1];\n    },\n    _complete: function (id, response) {\n      var item = this.files.getItem(id);\n      exports.extend(item, response, true);\n      item.status = \"server\";\n      item.progress = 100;\n      this.callEvent(\"onFileUpload\", [item, response]);\n      this.callEvent(\"onChange\", []);\n      this.files.updateItem(id);\n      if (this.isUploaded()) this._upload_complete(response);\n    },\n    _upload_complete: function (response) {\n      this.callEvent(\"onUploadComplete\", [response]);\n\n      if (this._last_assigned_upload_callback) {\n        this._last_assigned_upload_callback.call(this, response);\n\n        this._last_assigned_upload_callback = 0;\n      }\n    },\n    isUploaded: function () {\n      var order = this.files.data.order;\n\n      for (var i = 0; i < order.length; i++) {\n        if (this.files.getItem(order[i]).status != \"server\") return false;\n      }\n\n      return true;\n    },\n    $onUploadComplete: function () {},\n    $updateProgress: function (id, percent) {\n      var item = this.files.getItem(id);\n      item.percent = Math.round(percent);\n      this.files.updateItem(id);\n    },\n    setValue: function (value) {\n      if (typeof value == \"string\" && value) value = {\n        value: value,\n        status: \"server\"\n      };\n      this.files.clearAll();\n      if (value) this.files.parse(value);\n      this.callEvent(\"onChange\", []);\n    },\n    getValue: function () {\n      var data = [];\n      this.files.data.each(function (obj) {\n        if (obj.status == \"server\") data.push(obj.value || obj.name);\n      });\n      return data.join(\",\");\n    }\n  };\n  var view$S = exports.protoUI(api$S, button$1.view);\n\n  var api$T = {\n    name: \"texthighlight\",\n    defaults: {\n      template: function (obj, common) {\n        var name = obj.name || obj.id;\n        var id = \"x\" + uid();\n\n        var width = common._get_input_width(obj);\n\n        var html = \"<div class=\\\"webix_text_highlight\\\" style=\\\"width:\".concat(width, \"px;\\\"><div class=\\\"webix_text_highlight_value\\\"\"); // iOS adds 3px of (unremovable) padding to the left and right of a textarea\n\n        if (obj.type == \"textarea\" && env.isIOS) html += \" style=\\\"margin-left:\".concat($active.dataPadding + 3, \"px; margin-right:\").concat($active.dataPadding + 3, \"px;\\\"\");\n        html += \"></div></div>\";\n\n        if (obj.type == \"textarea\") {\n          html += \"\".concat(common._baseInputHTML(\"textarea\"), \" style=\\\"width:\").concat(width, \"px;\\\" id=\\\"\").concat(id, \"\\\" name=\\\"\").concat(name, \"\\\" class=\\\"webix_inp_textarea\\\">\").concat(common._pattern(obj.value), \"</textarea>\");\n          return common.$renderInput(obj, html, id);\n        } else return html + common.$renderInput(obj);\n      },\n      highlight: function (text$$1) {\n        return template.escape(text$$1);\n      },\n      type: \"text\"\n    },\n    $init: function (config) {\n      var _this = this;\n\n      var type = config.type || this.defaults.type;\n      this._viewobj.className += \" webix_el_\" + type;\n\n      if (type == \"textarea\") {\n        delete config.clear;\n        config.height = config.height || 0;\n        config.minHeight = config.minHeight || 60;\n        this._skipSubmit = true;\n      } else {\n        //input hasn't scroll event\n        this.scrollEv = event$1(document, \"selectionchange\", function () {\n          if (_this.$view.contains(document.getSelection().focusNode)) _this._syncText();\n        });\n        this.attachEvent(\"onDestruct\", function () {\n          eventRemove(_this.scrollEv);\n        });\n      } //setValue\n\n\n      this.attachEvent(\"onChange\", function () {\n        return _this._syncText();\n      });\n      this.attachEvent(\"onAfterRender\", function () {\n        _this._updatePos();\n\n        var evs = [\"scroll\", \"focus\", \"blur\", \"paste\", \"cut\", \"keyup\", \"input\"];\n        evs.forEach(function (ev) {\n          return _event(_this.getInputNode(), ev, function () {\n            return _this._syncText();\n          });\n        });\n\n        _this._handleInput(true);\n      });\n    },\n    $setSize: function () {\n      text.api.$setSize.apply(this, arguments);\n\n      this._updatePos();\n    },\n    $renderIcon: function (c) {\n      if (c.type == \"text\") return text.api.$renderIcon.apply(this, arguments);\n      return \"\";\n    },\n    _getLabelHeight: function (top) {\n      if (this._settings.type == \"textarea\") return top ? this._labelTopHeight - this._settings.inputPadding : \"\";\n      return text.api._getLabelHeight.apply(this, arguments);\n    },\n    getInputNode: function () {\n      return this._dataobj.querySelector(this._settings.type == \"text\" ? \"input\" : \"textarea\");\n    },\n    _getHighlightNode: function () {\n      return this._dataobj.querySelector(\".webix_text_highlight\");\n    },\n    _handleInput: function (init) {\n      var highlight = this._getHighlightNode().firstElementChild;\n\n      var text$$1 = this.getValue();\n\n      if (init || text$$1 != (this._lastText || \"\")) {\n        this._lastText = text$$1; //add &nbsp; at the end because div ignores last empty line + it gives better positioning\n\n        highlight.innerHTML = this._settings.highlight.apply(this, [text$$1]) + \"&nbsp;\";\n      }\n    },\n    _handleScroll: function () {\n      var highlight = this._getHighlightNode();\n\n      if (this._settings.type == \"text\") highlight = highlight.firstElementChild;\n      var text$$1 = this.getInputNode();\n      highlight.scrollTop = text$$1.scrollTop;\n      highlight.scrollLeft = text$$1.scrollLeft;\n    },\n    _updatePos: function () {\n      if (this._rendered_input && this.isVisible()) {\n        var input = this.getInputNode();\n\n        var highlightStyles = this._getHighlightNode().style;\n\n        highlightStyles.left = input.offsetLeft + \"px\";\n        highlightStyles.top = input.offsetTop + \"px\";\n        highlightStyles.height = input.getBoundingClientRect().height + \"px\";\n      }\n    },\n    _syncText: function () {\n      delay(function () {\n        if (this.$destructed) return;\n\n        this._handleInput();\n\n        this._handleScroll();\n      }, this);\n    }\n  };\n  var view$T = exports.protoUI(api$T, textarea.autoheight, text.view);\n\n  var api$U = {\n    name: \"timeboard\",\n    defaults: {\n      width: 260,\n      hours: true,\n      seconds: false,\n      twelve: /%([a,A])/.test(i18n.timeFormat)\n    },\n    $skin: function () {\n      layout.api.$skin.call(this);\n      this.defaults.margin = $active.layoutMargin.form;\n      this.defaults.padding = $active.layoutPadding.space;\n    },\n    $init: function (config) {\n      var _this = this;\n\n      this.$view.className += \" webix_timeboard\";\n      var rows = [];\n      var twelve = !isUndefined(config.twelve) ? config.twelve : this.defaults.twelve;\n      var hours = !isUndefined(config.hours) ? config.hours : this.defaults.hours;\n      var seconds = config.seconds || this.defaults.seconds;\n\n      if (isUndefined(config.height)) {\n        var nrows = 1 + hours * 1 + 1 + seconds * 1 + !!config.button * 1;\n        config.height = $active.inputHeight * nrows + (config.margin || this.defaults.margin) * (nrows - 1) + (config.padding || this.defaults.padding) * 2;\n      }\n\n      rows.push(this._getClock(hours, seconds, twelve));\n      rows.push.apply(rows, _toConsumableArray(this._getSliders(hours, seconds, twelve)));\n      if (config.button) rows.push(this._getDoneButton());\n      config.rows = [{\n        view: \"form\",\n        elements: rows,\n        padding: 0,\n        borderless: true,\n        on: {\n          onChange: function (v, o, c) {\n            return _this._recollectValues(c);\n          }\n        }\n      }];\n      this.$ready.push(function () {\n        this._form = this.queryView(\"form\");\n        var value = this._settings.value;\n        if (value) this.setValue(value, \"auto\");\n      });\n    },\n    // accepts strings and Dates\n    setValue: function (value, config) {\n      value = this.$prepareValue(value);\n      var oldvalue = this._settings.value;\n\n      if (!wDate.equal(value, oldvalue)) {\n        this._settings.value = value;\n        this.$setValue(value);\n        this.callEvent(\"onChange\", [value, oldvalue, config]);\n      }\n    },\n    $prepareValue: function (value) {\n      if (typeof value === \"string\") value = i18n.parseTimeFormatDate(value);\n      return value || wDate.datePart(new Date());\n    },\n    $setValue: function (value) {\n      var obj = {};\n      obj.minutes = obj.sminutes = value.getMinutes();\n      if (this._settings.hours) obj.shours = obj.hours = value.getHours();\n      if (this._settings.seconds) obj.sseconds = obj.seconds = value.getSeconds();\n\n      if (this._settings.twelve) {\n        if (!isUndefined(obj.hours)) {\n          obj.day_part = obj.hours > 11 ? i18n.pm[1] : i18n.am[1];\n          obj.hours = !obj.hours || obj.hours == 12 ? 12 : obj.hours % 12;\n          obj.shours = obj.hours == 12 ? 0 : obj.hours;\n        }\n      }\n\n      this._form.setValues(obj, false, \"auto\");\n    },\n    _recollectValues: function (config) {\n      var values = this.$getValue();\n      var date = this._settings.value ? wDate.copy(this._settings.value) : new Date();\n      date.setHours(values.hours || 0);\n      date.setMinutes(values.minutes);\n      if (this._settings.seconds) date.setSeconds(values.seconds);\n      this.setValue(date, config);\n    },\n    $getValue: function () {\n      var values = this._form.getValues();\n\n      if (this._settings.twelve && this._settings.hours) {\n        if (values.day_part == i18n.pm[1] && values.hours < 12) values.hours = (values.hours * 1 + 12).toString();else if (values.day_part == i18n.am[1] && values.hours == 12) values.hours = 0;\n      }\n\n      return values;\n    },\n    getValue: function () {\n      if (this._settings.stringResult) {\n        var values = this.$getValue();\n        var res = [];\n        if (values.hours) res.push(values.hours);\n        if (values.minutes) res.push(values.minutes);\n        if (values.seconds) res.push(values.seconds);\n        return res.join(\":\");\n      } else return this._settings.value;\n    },\n    _getClock: function (hours, seconds, twelve) {\n      var inputs = [{}, this._getText(\"minutes\"), {}];\n      var separator = {\n        css: \"webix_colon_template\",\n        template: \":\",\n        borderless: true,\n        width: 16\n      };\n      if (hours) inputs.splice(1, 0, this._getText(\"hours\", twelve), copy(separator));\n      if (seconds) inputs.splice(-1, 0, copy(separator), this._getText(\"seconds\"));\n\n      if (twelve && hours) {\n        var am = i18n.am[1];\n        var pm = i18n.pm[1];\n        var control = {\n          view: \"label\",\n          name: \"day_part\",\n          css: \"webix_day_part\",\n          template: \"<div tabindex='0' role='button' class='webix_el_box' style='width:#awidth#px;height:#aheight#px;line-height:#cheight#px'>#label#</div>\",\n          inputWidth: 30,\n          on: {\n            onItemClick: function () {\n              this.setValue(this.getValue() == am ? pm : am, \"user\");\n            },\n            onKeyPress: function (code, e) {\n              this._onKeyPress(code, e);\n            }\n          }\n        };\n        inputs.splice(-1, 1, control);\n      }\n\n      return {\n        type: \"clean\",\n        cols: inputs\n      };\n    },\n    _getText: function (name, twelve) {\n      var _this2 = this;\n\n      var max = name === \"hours\" ? twelve ? 11 : 23 : 59;\n      return {\n        view: \"text\",\n        width: getTextSize(\"00\").width + 2 * $active.dataPadding + 2 * $active.inputPadding,\n        name: name,\n        format: {\n          parse: function (a) {\n            if (a == 12 && name === \"hours\" && twelve) a = \"00\";\n            return a.length > 1 ? a.replace(/^0/, \"\") : a || 0;\n          },\n          edit: function (a) {\n            if (a <= 0 && name === \"hours\" && twelve) a = 12;else if (a < 0) a = 0;else if (a > max) a = max;\n            return (a + \"\").length === 1 ? \"0\" + a : a + \"\" || \"00\";\n          }\n        },\n        on: {\n          onChange: function (nv) {\n            var v = (twelve && name === \"hours\" && (!nv || nv == 12) ? 0 : nv) * 1;\n\n            _this2._form.elements[\"s\" + name].setValue(v, \"auto\");\n          }\n        }\n      };\n    },\n    _getSliders: function (hours, seconds, twelve) {\n      var sliders = [this._getSlider(\"minutes\", i18n.calendar.minutes, 59)];\n\n      if (hours) {\n        sliders.unshift(this._getSlider(\"hours\", i18n.calendar.hours, twelve ? 11 : 23));\n      }\n\n      if (seconds) sliders.push(this._getSlider(\"seconds\", i18n.timeboard.seconds, 59, twelve));\n      return sliders;\n    },\n    _getSlider: function (name, title, max, twelve) {\n      var _this3 = this;\n\n      var enLocale = name === \"hours\" && twelve;\n      var config = {\n        view: \"slider\",\n        name: \"s\" + name,\n        title: title,\n        moveTitle: false,\n        min: 0,\n        max: max,\n        on: {\n          onChange: function (nv) {\n            _this3._form.elements[name].setValue((enLocale ? !nv || nv == 12 ? 12 : nv % 12 : nv) + \"\", \"auto\");\n          },\n          onSliderDrag: function () {\n            var nv = this.getValue();\n            var form = this.getFormView();\n            form.blockEvent();\n            form.elements[name].setValue((enLocale ? !nv || nv == 12 ? 12 : nv % 12 : nv) + \"\", \"auto\");\n            form.unblockEvent();\n          }\n        }\n      };\n      return config;\n    },\n    _getDoneButton: function () {\n      var _this4 = this;\n\n      return {\n        view: \"button\",\n        value: i18n.calendar.done,\n        css: \"webix_primary\",\n        click: function () {\n          _this4.callEvent(\"onTimeSelect\", [_this4._settings.value]);\n        }\n      };\n    }\n  };\n  var view$U = exports.protoUI(api$U, layout.view);\n\n  var api$V = {\n    name: \"suggest\",\n    defaults: {\n      autofocus: false,\n      type: \"list\",\n      keyPressTimeout: 1,\n      body: {\n        yCount: 10,\n        autoheight: true,\n        body: true,\n        select: true,\n        borderless: true,\n        navigation: true\n      },\n      filter: function (item, value) {\n        if (item.value.toString().toLowerCase().indexOf(value.toLowerCase()) === 0) return true;\n        return false;\n      }\n    },\n    template_setter: template,\n    filter_setter: function (value) {\n      return toFunctor(value, this.$scope);\n    },\n    _show_on_key_press: true,\n    $init: function (obj) {\n      var temp = {};\n      exports.extend(temp, copy(this.defaults.body));\n      temp.view = obj.type || this.defaults.type;\n\n      var etemp = this._get_extendable_cell(temp);\n\n      if (obj.body) exports.extend(etemp, obj.body, true);\n      if (obj.data) etemp.data = obj.data;\n      if (obj.url) etemp.url = obj.url;\n      if (obj.datatype) etemp.datatype = obj.datatype;\n      if (obj.id) temp.id = temp.id || obj.id + \"_\" + temp.view;\n      obj.body = temp;\n      this.$ready.push(this._set_on_popup_click);\n      this.attachEvent(\"onShow\", function () {\n        if (this._settings.master) {\n          var master = $$(this._settings.master);\n\n          if (master) {\n            var node = master._getInputDiv ? master._getInputDiv() : master.getInputNode();\n            node.setAttribute(\"aria-expanded\", \"true\");\n          } // execute only if there is a master view\n\n\n          this._show_selection();\n        }\n      });\n      this.attachEvent(\"onHide\", function () {\n        if (this._settings.master) {\n          var master = $$(this._settings.master);\n\n          if (master) {\n            var node = master._getInputDiv ? master._getInputDiv() : master.getInputNode();\n            node.setAttribute(\"aria-expanded\", \"false\");\n          }\n        }\n      });\n      this._old_text = {};\n    },\n    _get_extendable_cell: function (obj) {\n      return obj;\n    },\n    _get_details: function (config) {\n      return isUndefined(config) ? null : {\n        config: config\n      };\n    },\n    _set_input_value: function (text) {\n      this._last_input_target.value = text;\n    },\n    _preselectMasterOption: function (data) {\n      var text = data.id ? this.getItemText(data.id) : data.text || data.value;\n      var node;\n\n      if (this._settings.master) {\n        var master = $$(this._settings.master);\n        node = master.getInputNode();\n\n        if (node) {\n          // restore last text to allow 'master' view to save new value on blur\n          var prev_text = master._settings.text;\n          if (master.options_setter) master.$setValue(data.$empty ? \"\" : data.id);else if (master.$setValueHere) master.$setValueHere(text, data, this._get_details());else master.$setValue(text);\n          master._settings.text = prev_text;\n        }\n      } else if (this._last_input_target) this._set_input_value(text);\n\n      node = node || this._last_input_target;\n      if (node) node.focus();\n    },\n    setMasterValue: function (data, refresh, config) {\n      var text = data.id ? this.getItemText(data.id) : data.text || data.value;\n\n      if (this._settings.master) {\n        var master = $$(this._settings.master);\n        if (refresh && data.id) master.refresh();else if (master.options_setter) master.setValue(data.$empty ? \"\" : data.id, config);else if (master.setValueHere) master.setValueHere(text, data, this._get_details(config));else master.setValue(text, config);\n      } else if (this._last_input_target) this._set_input_value(text);\n\n      if (!refresh) {\n        this.hide();\n        if (this._last_input_target) this._last_input_target.focus();\n      }\n\n      this.callEvent(\"onValueSuggest\", [data, text]);\n    },\n    getMasterValue: function () {\n      if (this._settings.master) return $$(this._settings.master).getValue();\n      return null;\n    },\n    getItemId: function (text) {\n      var list = this.getList();\n\n      for (var key in list.data.pull) {\n        var obj = list.getItem(key);\n        if (this._settings.filter.call(this, obj, text)) return obj.id;\n      }\n    },\n    getItemText: function (id) {\n      var item = this.getList().getItem(id);\n      if (!item) return this._old_text[id] || \"\";\n      if (this._settings.template) return this._settings.template.call(this, item, this.type);\n      if (this._settings.textValue) return \"\" + item[this._settings.textValue] + \"\";\n      var type = this.getList().type;\n      var text = type.template.call(type, item, type);\n      return this._old_text[id] = text;\n    },\n    getSuggestion: function (text) {\n      var id,\n          list = this.getList(),\n          order = list.data.order;\n      if (list.getSelectedId) id = list.getSelectedId();\n\n      if (text && order.length && (!id || order.find(id) < 0)) {\n        id = order[0]; //ensure that option really does match client-side filtering rules\n\n        if (!list.config.dataFeed && !this.config.filter.call(this, list.data.pull[id], text)) return null;\n      } //complex id in datatable\n\n\n      if (id) {\n        if (_typeof(id) == \"object\") id = id + \"\";\n        if (list.getItem(id).$empty) return null;\n      }\n\n      return id;\n    },\n    getList: function () {\n      return this._body_cell;\n    },\n    _set_on_popup_click: function () {\n      var list = this.getList();\n      var type = this._settings.type;\n\n      if (list.count) {\n        list.attachEvent(\"onItemClick\", bind(function (item) {\n          this.setMasterValue(list.getItem(item), false, \"user\");\n        }, this));\n        list.data.attachEvent(\"onStoreUpdated\", bind(function (id, obj, mode) {\n          if (mode == \"delete\" && id == this.getMasterValue()) this.setMasterValue({\n            id: \"\",\n            text: \"\"\n          }, true, \"auto\");else if (mode == \"update\" && id == this.getMasterValue()) {\n            this.setMasterValue(obj, true, \"auto\");\n          }\n        }, this));\n        list.data.attachEvent(\"onAfterFilter\", bind(this._suggest_after_filter, this));\n        list.data.attachEvent(\"onStoreLoad\", bind(this._suggest_after_filter, this));\n        if (isUndefined(this._settings.fitMaster)) this._settings.fitMaster = true;\n      } else if (type == \"calendar\") {\n        list.attachEvent(\"onAfterDateSelect\", function () {\n          this.getParentView().setMasterValue({\n            value: list.getSelectedDate()\n          }, list.config.multiselect, \"user\");\n        });\n        list.attachEvent(\"onTodaySet\", function (date) {\n          this.getParentView().setMasterValue({\n            value: date\n          }, false, \"user\");\n        });\n        list.attachEvent(\"onDateClear\", function (date) {\n          this.getParentView().setMasterValue({\n            value: date\n          }, false, \"user\");\n        });\n      } else if (type == \"colorboard\") {\n        list.attachEvent(\"onItemClick\", function (value) {\n          this.getParentView().setMasterValue({\n            value: value\n          }, false, \"user\");\n        });\n      } else if (type == \"timeboard\") {\n        list.attachEvent(\"onTimeSelect\", function (value) {\n          this.getParentView().setMasterValue({\n            value: value\n          }, false, \"user\");\n        });\n      } else if (type == \"colorselect\") {\n        list.attachEvent(\"onColorSelect\", function (value) {\n          this.getParentView().setMasterValue({\n            value: value\n          }, false, \"user\");\n        });\n      }\n    },\n    input_setter: function (value) {\n      this.linkInput(value);\n      return 0;\n    },\n    linkInput: function (input) {\n      var node;\n\n      if (input.getInputNode) {\n        node = input.getInputNode();\n        node.webix_master_id = input._settings.id;\n        input.attachEvent(\"onInputResize\", bind(this._resetPosition, this));\n      } else node = toNode(input);\n\n      _event(node, \"keydown\", function (e) {\n        if ((node != document.body || this.isVisible()) && (input.config ? !input.config.readonly : !node.getAttribute(\"readonly\"))) this._suggestions(e);\n      }, {\n        bind: this\n      });\n\n      if (input._getInputDiv) node = input._getInputDiv();\n      node.setAttribute(\"aria-autocomplete\", \"list\");\n      node.setAttribute(\"aria-expanded\", \"false\");\n\n      if (node.tagName === \"DIV\") {\n        node.setAttribute(\"aria-live\", \"assertive\");\n        node.setAttribute(\"aria-atomic\", \"true\");\n      }\n\n      this._non_ui_mode = true;\n    },\n    _suggestions: function (e) {\n      //should be before tab and arrows handlers: IME can call keydown twice\n      if (this._last_delay) this._last_delay = clearTimeout(this._last_delay);\n      var list = this.getList();\n      var trg = e.target;\n      if (trg == document.body && !this.isVisible() || trg.className == \"webix_clipbuffer\") return;\n      this._last_input_target = trg;\n      this._settings.master = trg.webix_master_id;\n      var code = e.which || e.keyCode; //shift and ctrl\n\n      if (code == 16 || code == 17) return; // tab - hide popup and do nothing\n\n      if (code == 9) return this._tab_key(e, list); // escape - hide popup\n\n      if (code == 27) return this._escape_key(e, list); // enter\n\n      if (code == 13) return this.$enterKey(e, list); // up/down/right/left are used for navigation\n\n      if (this._navigate(e) && this.isVisible()) {\n        preventEvent(e);\n        return false;\n      }\n\n      var contentEditable = trg.getAttribute(\"contentEditable\") == \"true\" || trg.getAttribute(\"contentEditable\") == \"\";\n      if (isUndefined(trg.value) && !contentEditable) return;\n      this._last_delay = delay(function () {\n        //focus moved to the different control, suggest is not necessary\n        if (!this._non_ui_mode && UIManager.getFocus() != $$(this._settings.master)) return;\n        this._resolve_popup = true; //spreadsheet use contentEditable div for cell highlighting\n\n        var val = contentEditable ? trg.innerText : trg.value;\n        if (this._before_filtering) this._before_filtering(); // used to prevent showing popup when it was initialized\n\n        if (list.config.dataFeed) list.filter(\"value\", val);else if (list.filter) {\n          list.filter(bind(function (item) {\n            return this._settings.filter.call(this, item, val);\n          }, this));\n        }\n      }, this, [], this._settings.keyPressTimeout);\n    },\n    _suggest_after_filter: function () {\n      if (!this._resolve_popup) return true;\n      this._resolve_popup = false;\n      var list = this.getList(); // filtering is complete\n      // if there are as min 1 variant it must be shown, hidden otherwise\n\n      if (list.count() > 0) {\n        this.adjust();\n        if (!this.isVisible()) this._dont_unfilter = true;\n        this.show(this._last_input_target, null, true);\n        this._dont_unfilter = false;\n      } else {\n        this.hide();\n        this._last_input_target = null;\n      }\n    },\n    show: function (node) {\n      var input = node && (node.tagName == \"INPUT\" || node.tagName == \"TEXTAREA\") ? node : null;\n\n      if (!this.isVisible() || input && input != this._last_input_target) {\n        var list = this.getList();\n\n        if (list.filter && !this._dont_unfilter) {\n          list.filter(\"\");\n        }\n\n        if (this.$customWidth) {\n          this.$customWidth(node);\n        } else if (node && node.tagName && this._settings.fitMaster) {\n          this._settings.width = node.offsetWidth - 2; //2 - borders\n        }\n\n        if (list._zoom_level) list.render();\n        this.adjust(); // needed to return focus\n\n        if (input) this._last_input_target = input;\n      }\n\n      popup.api.show.apply(this, arguments);\n    },\n    _show_selection: function () {\n      var list = this.getList();\n      var value = this.getMasterValue();\n\n      if (list.select && list.showItem) {\n        if (value && list.exists && list.exists(value)) {\n          list.select(value);\n          list.showItem(value);\n        } else {\n          list.unselect();\n          list.showItem(list.getFirstId());\n        }\n      } else if (list.setValue) {\n        if (this._settings.master) value = $$(this._settings.master).$prepareValue(value);\n        list.setValue(value, \"auto\");\n      }\n    },\n    $enterKey: function (e, list) {\n      var visible = this.isVisible();\n      var value;\n      var master;\n      if (this._settings.master) master = $$(this._settings.master);\n      if (master && master._editable && master._settings.editable) master._applyChanges(\"user\");else if (visible) {\n        if (list.count) {\n          value = list.getSelectedId(false, true);\n          if (list.count() == 1 && list.getFirstId() != value) value = list.getFirstId();\n          if (value) value = list.getItem(value);\n        } else {\n          if (list.getSelectedDate) value = list.getSelectedDate();else if (list.getValue) value = list.getValue();\n          if (value) value = {\n            value: value\n          };\n        }\n\n        if (value) this.setMasterValue(value, false, \"user\");\n      }\n      if (visible) this.hide();else if (this._show_on_key_press) this.show(this._last_input_target);\n    },\n    _escape_key: function () {\n      return this.hide();\n    },\n    _tab_key: function () {\n      return this.hide();\n    },\n\n    /*! suggestions navigation: up/down buttons move selection\n     *\t@param e\n     *\t\tevent object\n     **/\n    _navigate: function (e) {\n      var list = this.getList();\n      var code = e.which || e.keyCode;\n      var data;\n\n      if (list.moveSelection && code < 41 && code > 32 && !e.ctrlKey && !e.metaKey && !e.shiftKey && !e.altKey) {\n        // down and up arrows\n        if (code === 40 || code === 38) {\n          if (this._show_on_key_press && !this.isVisible()) this.show(this._last_input_target);\n          var dir = code === 38 ? \"up\" : \"down\";\n          list.moveSelection(dir, false, false);\n        } // other arrows\n        else {\n            if (list.count || !list.count && !list.isVisible()) return false;\n\n            var _dir;\n\n            if (code == 33) _dir = \"pgup\";\n            if (code == 34) _dir = \"pgdown\";\n            if (code == 35) _dir = \"bottom\";\n            if (code == 36) _dir = \"top\";\n            if (code == 37) _dir = \"left\";\n            if (code == 39) _dir = \"right\";\n            list.moveSelection(_dir, false, false);\n          }\n\n        if (list.count) data = list.getSelectedItem(false);else {\n          if (list.getSelectedDate) data = list.getSelectedDate();else if (list.getValue) data = list.getValue();\n          if (data) data = {\n            value: data\n          };\n        }\n        if (data && this.isVisible()) this._preselectMasterOption(data);\n        return true;\n      }\n\n      return false;\n    },\n    getValue: function () {\n      var list = this.getList();\n      var value = (list.getValue ? list.getValue() : list.getSelectedId()) || \"\";\n      value = value.id || value; // check empty\n\n      if (list.getItem) {\n        var item = list.getItem(value);\n        if (item && item.$empty) return \"\";\n      }\n\n      return value;\n    },\n    setValue: function (value) {\n      var list = this.getList();\n\n      if (value) {\n        if (list.exists(value)) {\n          list.select(value);\n          list.showItem(value);\n        }\n      } else {\n        list.unselect();\n        list.showItem(list.getFirstId());\n      }\n    },\n    _resetPosition: function () {\n      if (!this._settings.hidden && this._settings.master) {\n        var master = $$(this._settings.master);\n        if (master) this.show(master.$view);\n      }\n    }\n  };\n  var view$V = exports.protoUI(api$V, popup.view);\n  var suggest = {\n    api: api$V,\n    view: view$V\n  };\n\n  exports.protoUI({\n    name: \"multisuggest\",\n    defaults: {\n      template: \"GPL version doesn't support multisuggest <br> You need Webix PRO\"\n    }\n  }, template$1.view);\n\n  exports.protoUI({\n    name: \"checksuggest\",\n    defaults: {\n      template: \"GPL version doesn't support checksuggest <br> You need Webix PRO\"\n    }\n  }, template$1.view);\n\n  exports.protoUI({\n    name: \"datasuggest\",\n    defaults: {\n      template: \"GPL version doesn't support datasuggest <br> You need Webix PRO\"\n    }\n  }, template$1.view);\n\n  exports.protoUI({\n    name: \"gridsuggest\",\n    defaults: {\n      template: \"GPL version doesn't support gridsuggest <br> You need Webix PRO\"\n    }\n  }, template$1.view);\n\n  var api$W = {\n    name: \"mentionsuggest\",\n    defaults: {\n      symbol: \"@\",\n      filter: function (data, value) {\n        var s = this._settings.symbol;\n        value = value.substring(0, this._last_cursor_pos);\n        if (value.indexOf(s) === -1) return false;else {\n          value = value.substring(value.lastIndexOf(s) + s.length);\n\n          if (value.length) {\n            var text = data.id ? this.getItemText(data.id) : data.text || data.value;\n            return text.toString().toLowerCase().indexOf(value.toLowerCase()) !== -1;\n          }\n\n          return false;\n        }\n      }\n    },\n    $init: function () {\n      this.attachEvent(\"onValueSuggest\", this._before_filtering);\n    },\n    $enterKey: function (e) {\n      if (this.isVisible()) {\n        preventEvent(e);\n        var master;\n        if (this._settings.master) master = $$(this._settings.master);\n        if (master && master.callEvent) master.callEvent(\"onEnter\");\n      }\n\n      return suggest.api.$enterKey.apply(this, arguments);\n    },\n    _before_filtering: function () {\n      if (this._last_input_target) this._last_cursor_pos = getSelectionRange(this._last_input_target).start;\n    },\n    _get_details: function (config) {\n      return {\n        pos: this._last_cursor_pos,\n        symbol: this._settings.symbol,\n        config: config\n      };\n    },\n    _preselectMasterOption: function () {},\n    _set_input_value: function (text) {\n      var s = this._settings.symbol;\n      var value = this._last_input_target.value;\n      var last = value.substring(this._last_cursor_pos);\n      value = value.substring(0, this._last_cursor_pos);\n      value = value.substring(0, value.lastIndexOf(s) + s.length) + text;\n      this._last_input_target.value = value + last;\n      setSelectionRange(this._last_input_target, value.length);\n    },\n    _show_on_key_press: false\n  };\n  var view$W = exports.protoUI(api$W, suggest.view);\n\n  exports.protoUI({\n    name: \"daterange\",\n    defaults: {\n      template: \"GPL version doesn't support daterange <br> You need Webix PRO\"\n    }\n  }, template$1.view);\n\n  var api$X = {\n    name: \"daterangesuggest\",\n    defaults: {\n      type: \"daterange\",\n      body: {\n        view: \"daterange\",\n        icons: true,\n        button: true,\n        borderless: true\n      }\n    },\n    getValue: function () {\n      return this.getRange().getValue();\n    },\n    setValue: function (value, config) {\n      this.getRange().setValue(copy(value), config);\n    },\n    getRange: function () {\n      return this.getBody();\n    },\n    getButton: function () {\n      return this.getBody().getChildViews()[1].getChildViews()[1];\n    },\n    _setValue: function (value) {\n      var master = $$(this._settings.master);\n      if (master) master.setValue(value, \"user\");\n    },\n    _set_on_popup_click: function () {\n      var range = this.getRange();\n      range.attachEvent(\"onAfterDateSelect\", bind(function (value) {\n        this._setValue(value);\n      }, this));\n      range.attachEvent(\"onDateClear\", bind(function (value) {\n        this._setValue(value);\n      }, this));\n      range.attachEvent(\"onTodaySet\", bind(function (value) {\n        this._setValue(value);\n      }, this));\n    }\n  };\n  var view$X = exports.protoUI(api$X, suggest.view);\n\n  exports.protoUI({\n    name: \"daterangepicker\",\n    defaults: {\n      template: \"GPL version doesn't support daterangepicker <br> You need Webix PRO\"\n    }\n  }, template$1.view);\n\n  exports.protoUI({\n    name: \"excelbar\",\n    defaults: {\n      template: \"GPL version doesn't support excelbar <br> You need Webix PRO\"\n    }\n  }, template$1.view);\n\n  exports.protoUI({\n    name: \"excelviewer\",\n    defaults: {\n      template: \"GPL version doesn't support excelviewer <br> You need Webix PRO\"\n    }\n  }, template$1.view);\n\n  exports.protoUI({\n    name: \"pdfbar\",\n    defaults: {\n      template: \"GPL version doesn't support pdfbar <br> You need Webix PRO\"\n    }\n  }, template$1.view);\n\n  exports.protoUI({\n    name: \"pdfviewer\",\n    defaults: {\n      template: \"GPL version doesn't support pdfviewer <br> You need Webix PRO\"\n    }\n  }, template$1.view);\n\n  /*\n  \tUI:Video\n  */\n  // #include ui/view.js\n\n  var api$Y = {\n    name: \"video\",\n    $init: function (config) {\n      if (!config.id) config.id = uid();\n      this.$ready.push(this._init_video);\n    },\n    _init_video: function () {\n      var c = this._settings;\n      this._contentobj = create(\"video\", {\n        \"class\": \"webix_view_video\",\n        \"style\": \"width:100%;height:100%;\",\n        \"autobuffer\": \"autobuffer\"\n      }, \"\");\n      if (c.poster) this._contentobj.poster = c.poster;\n\n      if (c.src) {\n        if (_typeof(c.src) != \"object\") c.src = [c.src];\n\n        for (var i = 0; i < c.src.length; i++) {\n          this._contentobj.innerHTML += \" <source src=\\\"\" + c.src[i] + \"\\\">\";\n        }\n      }\n\n      if (c.controls) this._contentobj.controls = true;\n      if (c.autoplay) this._contentobj.autoplay = true;\n\n      this._viewobj.appendChild(this._contentobj);\n    },\n    getVideo: function () {\n      return this._contentobj;\n    },\n    defaults: {\n      src: \"\",\n      controls: true\n    }\n  };\n  var view$Y = exports.protoUI(api$Y, base$1.view);\n\n  exports.protoUI({\n    name: \"gage\",\n    defaults: {\n      template: \"GPL version doesn't support gage <br> You need Webix PRO\"\n    }\n  }, template$1.view);\n\n  exports.protoUI({\n    name: \"barcode\",\n    defaults: {\n      template: \"GPL version doesn't support barcode <br> You need Webix PRO\"\n    }\n  }, template$1.view);\n\n  exports.protoUI({\n    name: \"bulletgraph\",\n    defaults: {\n      template: \"GPL version doesn't support bulletgraph <br> You need Webix PRO\"\n    }\n  }, template$1.view);\n\n  var google, script;\n  var api$Z = {\n    name: \"geochart\",\n    defaults: {\n      chart: {\n        displayMode: \"auto\",\n        region: \"world\",\n        resolution: \"countries\"\n      }\n    },\n    $init: function (config) {\n      this.$view.innerHTML = \"<div class='webix_map_content' style='width:100%;height:100%'></div>\";\n      this._contentobj = this.$view.firstChild;\n      this._waitMap = Deferred.defer();\n      config.chart = exports.extend(config.chart || {}, this.defaults.chart);\n      this.data.provideApi(this, true);\n      this.$ready.push(this.render);\n      this.data.attachEvent(\"onClearAll\", bind(this._refreshColumns, this));\n      this.data.attachEvent(\"onStoreUpdated\", bind(this._drawData, this));\n    },\n    getMap: function (waitMap) {\n      return waitMap ? this._waitMap : this._map;\n    },\n    _getCallBack: function (prev) {\n      return bind(function () {\n        if (typeof prev === \"function\") prev();\n        google = google || window.google;\n\n        this._initMap();\n      }, this);\n    },\n    render: function () {\n      if (typeof window.google == \"undefined\" || typeof window.google.charts == \"undefined\") {\n        if (!script) {\n          script = document.createElement(\"script\");\n          script.type = \"text/javascript\";\n          script.src = \"//www.gstatic.com/charts/loader.js\";\n          document.getElementsByTagName(\"head\")[0].appendChild(script);\n        }\n\n        script.onload = this._getCallBack(script.onload);\n      } else //there's a custom link to google api in document head\n        this._getCallBack()();\n    },\n    _initMap: function () {\n      if (!google.visualization || !google.visualization.GeoChart) {\n        google.charts.load(\"current\", {\n          \"packages\": [\"geochart\"],\n          \"mapsApiKey\": this._settings.key\n        });\n        google.charts.setOnLoadCallback(bind(function () {\n          this._initMap();\n        }, this));\n      } else {\n        this._map = new google.visualization.GeoChart(this._contentobj);\n\n        this._mapEvents();\n\n        this._waitMap.resolve(this._map);\n      }\n    },\n    $onLoad: function (obj) {\n      if (!this._map) {\n        this._waitMap.then(bind(function () {\n          this.parse(obj, this._settings.datatype);\n        }, this));\n\n        return true;\n      }\n\n      return false;\n    },\n    _drawData: function () {\n      if (!this._map) {\n        if (!this._map) this._waitMap.then(bind(this._drawData, this));\n        return;\n      }\n\n      var columns = this._columns && this._columns.length ? this._columns : this._defineColumns();\n      var data = [];\n      this.data.each(function (obj) {\n        var line = [];\n\n        for (var c = 0; c < columns.length; c++) {\n          var value = obj[columns[c].label];\n          if (columns[c].type == \"number\") value = value * 1;else if (columns[c].role == \"tooltip\") value = this._settings.tooltip(obj);\n          line.push(value);\n        }\n\n        data.push(line);\n      }, this);\n\n      if (columns.length) {\n        var table = new google.visualization.DataTable();\n\n        for (var i = 0; i < columns.length; i++) {\n          table.addColumn(columns[i]);\n        }\n\n        table.addRows(data);\n        var view = new google.visualization.DataView(table);\n\n        this._map.draw(view, this._settings.chart);\n      } else //draw clean chart\n        this._map.draw(google.visualization.arrayToDataTable([[\"\", \"\"]]), {});\n    },\n    setDisplayMode: function (value) {\n      this._settings.chart.displayMode = value;\n      this.refresh();\n    },\n    setRegion: function (value) {\n      this._settings.chart.region = value;\n      this.refresh();\n    },\n    refresh: function () {\n      this._map.clearChart();\n\n      this._drawData();\n    },\n    tooltip_setter: function (value) {\n      var tooltip = this._settings.chart.tooltip;\n      this._settings.chart.tooltip = exports.extend(tooltip || {}, {\n        isHtml: true\n      });\n      return template(value);\n    },\n    $setSize: function (w, h) {\n      if (base$1.api.$setSize.apply(this, arguments) && this._map) {\n        exports.extend(this._settings, {\n          width: w,\n          height: h\n        });\n        this.refresh();\n      }\n    },\n    _refreshColumns: function () {\n      this._columns = null;\n\n      this._drawData();\n    },\n    _getColumnType: function (item, key) {\n      if (!item || isUndefined(item[key])) return \"string\";\n\n      var type = _typeof(item[key]);\n\n      if (type == \"string\" && !isNaN(item[key] * 1)) type = \"number\";\n      return type;\n    },\n    _defineColumns: function () {\n      var columns = this._settings.columns || [];\n      var item = this.data.pull[this.data.order[0]]; //auto columns\n\n      if (!columns.length && item) {\n        for (var key in item) {\n          if (key !== \"id\") columns.push(key);\n        }\n      } //[\"title\", \"area\"]\n\n\n      for (var i = 0; i < columns.length; i++) {\n        if (_typeof(columns[i]) !== \"object\") {\n          columns[i] = {\n            type: this._getColumnType(item, columns[i]),\n            label: columns[i]\n          };\n        }\n      }\n\n      if (this._settings.tooltip) columns.push({\n        type: \"string\",\n        role: \"tooltip\",\n        p: {\n          \"html\": true\n        }\n      });\n      this._columns = columns;\n      return columns;\n    },\n    _mapEvents: function () {\n      google.visualization.events.addListener(this._map, \"error\", bind(function () {\n        this.callEvent(\"onMapError\", arguments);\n      }, this));\n      google.visualization.events.addListener(this._map, \"ready\", bind(function () {\n        this.callEvent(\"onMapReady\", arguments);\n      }, this));\n      google.visualization.events.addListener(this._map, \"regionClick\", bind(function () {\n        this.callEvent(\"onRegionClick\", arguments);\n      }, this));\n      google.visualization.events.addListener(this._map, \"select\", bind(function () {\n        var selnow = this._map.getSelection()[0];\n\n        var sel = selnow || this._selprev;\n\n        if (sel) {\n          var id = this.data.order[sel.row];\n          this._selprev = sel;\n          this.callEvent(\"onItemClick\", [id, !!selnow]);\n        }\n      }, this));\n    }\n  };\n  var view$Z = exports.protoUI(api$Z, DataLoader, EventSystem, base$1.view);\n\n  var google$1, script$1;\n  var api$_ = {\n    name: \"google-map\",\n    $init: function () {\n      this.$view.innerHTML = \"<div class='webix_map_content' style='width:100%;height:100%'></div>\";\n      this._contentobj = this.$view.firstChild;\n      this._waitMap = Deferred.defer();\n      this.data.provideApi(this, true);\n      this.$ready.push(this.render);\n    },\n    getMap: function (waitMap) {\n      return waitMap ? this._waitMap : this._map;\n    },\n    _getCallBack: function (prev) {\n      return bind(function () {\n        if (typeof prev === \"function\") prev();\n        google$1 = google$1 || window.google;\n\n        this._initMap.call(this);\n      }, this);\n    },\n    render: function () {\n      if (typeof window.google == \"undefined\" || typeof window.google.maps == \"undefined\") {\n        if (!script$1) {\n          script$1 = document.createElement(\"script\");\n          script$1.type = \"text/javascript\";\n          var config = this._settings;\n          var src = config.src || \"//maps.google.com/maps/api/js\";\n          src += src.indexOf(\"?\") === -1 ? \"?\" : \"&\";\n          if (config.key) src += \"&key=\" + config.key;\n          if (config.libraries) src += \"&libraries=\" + config.libraries;\n          script$1.src = src;\n          document.getElementsByTagName(\"head\")[0].appendChild(script$1);\n        }\n\n        script$1.onload = this._getCallBack(script$1.onload);\n      } else //there's a custom link to google api in document head\n        this._getCallBack()();\n    },\n    _initMap: function () {\n      var c = this.config;\n\n      if (this.isVisible(c.id)) {\n        this._map = new google$1.maps.Map(this._contentobj, {\n          zoom: c.zoom,\n          center: new google$1.maps.LatLng(c.center[0], c.center[1]),\n          mapTypeId: google$1.maps.MapTypeId[c.mapType]\n        });\n\n        this._waitMap.resolve(this._map);\n\n        this._contentobj.firstChild.setAttribute(\n        /*@attr*/\n        \"webix_disable_drag\", \"true\");\n      }\n    },\n    center_setter: function (config) {\n      if (this._map) this._map.setCenter(new google$1.maps.LatLng(config[0], config[1]));\n      return config;\n    },\n    mapType_setter: function (config) {\n      /*ROADMAP,SATELLITE,HYBRID,TERRAIN*/\n      if (this._map) this._map.setMapTypeId(google$1.maps.MapTypeId[config]);\n      return config;\n    },\n    zoom_setter: function (config) {\n      if (this._map) this._map.setZoom(config);\n      return config;\n    },\n    layerType_setter: function (config) {\n      if (config == \"heatmap\") this.config.libraries = \"visualization\";\n\n      if (this._layerApi[config]) {\n        exports.extend(this, this._layerApi[config], true);\n        this.data.attachEvent(\"onStoreUpdated\", bind(function () {\n          this._waitMap.then(bind(function () {\n            this.drawData.call(this, arguments);\n          }, this));\n        }, this));\n      }\n\n      return config;\n    },\n    defaults: {\n      zoom: 5,\n      center: [39.5, -98.5],\n      mapType: \"ROADMAP\",\n      layerType: \"marker\"\n    },\n    $setSize: function () {\n      base$1.api.$setSize.apply(this, arguments);\n      if (this._map) google$1.maps.event.trigger(this._map, \"resize\");\n    },\n    $onLoad: function (data) {\n      if (!this._map) {\n        this._waitMap.then(bind(function () {\n          this.parse(data);\n        }, this));\n\n        return true;\n      }\n\n      return false;\n    },\n    _layerApi: {\n      marker: {\n        drawData: function (id, item, operation) {\n          switch (operation) {\n            case \"add\":\n              item.$marker = this._getItemConfig(item);\n              break;\n\n            case \"update\":\n              item.$marker = this._getItemConfig(item);\n              break;\n\n            case \"delete\":\n              item.$marker.setMap(null);\n              break;\n\n            default:\n              this.data.each(function (item) {\n                item.$marker = this._getItemConfig(item);\n              }, this);\n              break;\n          }\n        },\n        clearAll: function (soft) {\n          this.data.each(function (obj) {\n            obj.$marker.setMap(null);\n          });\n          this.data.clearAll(soft);\n        },\n        showItem: function (id) {\n          var item = this.getItem(id);\n\n          this._map.setCenter(new google$1.maps.LatLng(item.lat, item.lng));\n        },\n        _getItemConfig: function (item) {\n          var obj = {};\n\n          for (var i in item) {\n            obj[i] = item[i];\n          }\n\n          obj.position = new google$1.maps.LatLng(item.lat, item.lng);\n          obj.map = item.hidden ? null : this._map;\n          var marker = item.$marker;\n\n          if (!marker) {\n            marker = new google$1.maps.Marker(obj);\n\n            this._events(marker);\n          } else {\n            item.$marker.setMap(obj.map);\n          }\n\n          this.callEvent(\"onItemRender\", [item]);\n          return marker;\n        },\n        _events: function (marker) {\n          var map = this;\n          marker.addListener(\"click\", function () {\n            map.callEvent(\"onItemClick\", [this.id, this]);\n          });\n\n          if (marker.getDraggable()) {\n            marker.addListener(\"dragend\", function () {\n              map._onDrag(this, true);\n            });\n            marker.addListener(\"drag\", function () {\n              map._onDrag(this);\n            });\n          }\n        },\n        _onDrag: function (marker, end) {\n          var item = this.getItem(marker.id);\n          var pos = marker.getPosition();\n          var ev = end ? \"onAfterDrop\" : \"onDrag\";\n          item.lat = pos.lat();\n          item.lng = pos.lng();\n          this.callEvent(ev, [item.id, item]);\n        }\n      },\n      heatmap: {\n        heatmapConfig_setter: function (value) {\n          value = value || {};\n          return value;\n        },\n        drawData: function () {\n          if (this._heatmap) {\n            this._heatmap.setMap(null);\n\n            this._heatmap = null;\n          }\n\n          var hdata = [];\n          this.data.each(function (item) {\n            hdata.push(this._getConfig(item));\n          }, this);\n\n          if (hdata.length) {\n            var data = exports.extend(this.config.heatmapConfig, {\n              data: hdata,\n              map: this._map\n            }, true);\n            this._heatmap = new google$1.maps.visualization.HeatmapLayer(data);\n            this.callEvent(\"onHeatMapRender\", [this._heatmap]);\n          }\n        },\n        getHeatmap: function () {\n          return this._heatmap;\n        },\n        _getConfig: function (item) {\n          var obj = {};\n\n          for (var i in item) {\n            obj[i] = item[i];\n          }\n\n          obj.location = new google$1.maps.LatLng(item.lat, item.lng);\n          return obj;\n        }\n      }\n    }\n  };\n  var view$_ = exports.protoUI(api$_, DataLoader, EventSystem, base$1.view);\n\n  var Pie$1 = {\n    $render_pie: function (ctx, data, x, y, sIndex, map) {\n      this._renderPie(ctx, data, x, y, 1, map, sIndex);\n    },\n\n    /**\n     *   renders a pie chart\n     *   @param: ctx - canvas object\n     *   @param: data - object those need to be displayed\n     *   @param: x - the width of the container\n     *   @param: y - the height of the container\n     *   @param: ky - value from 0 to 1 that defines an angle of inclination (0<ky<1 - 3D chart)\n     */\n    _renderPie: function (ctx, data, point0, point1, ky, map, sIndex) {\n      if (!data.length) return;\n\n      var coord = this._getPieParameters(point0, point1);\n      /*pie radius*/\n\n\n      var radius = this._settings.radius ? this._settings.radius : coord.radius;\n      if (radius < 0) return;\n      /*real values*/\n\n      var values = this._getValues(data);\n\n      var totalValue = this._getTotalValue(values);\n      /*weighed values (the ratio of object value to total value)*/\n\n\n      var ratios = this._getRatios(values, totalValue);\n      /*pie center*/\n\n\n      var x0 = this._settings.x ? this._settings.x : coord.x;\n      var y0 = this._settings.y ? this._settings.y : coord.y;\n      /*adds shadow to the 2D pie*/\n\n      if (ky == 1 && this._settings.shadow) this._addShadow(ctx, x0, y0, radius);\n      /*changes vertical position of the center according to 3Dpie cant*/\n\n      y0 = y0 / ky;\n      /*the angle defines the 1st edge of the sector*/\n\n      var alpha0 = -Math.PI / 2;\n      var angles = [];\n      /*changes Canvas vertical scale*/\n\n      ctx.scale(1, ky);\n      /*adds radial gradient to a pie*/\n\n      if (this._settings.gradient) {\n        var x1 = ky != 1 ? x0 + radius / 3 : x0;\n        var y1 = ky != 1 ? y0 + radius / 3 : y0;\n\n        this._showRadialGradient(ctx, x0, y0, radius, x1, y1);\n      }\n\n      for (var i = 0; i < data.length; i++) {\n        if (!values[i]) continue;\n        /*drawing sector*/\n        //ctx.lineWidth = 2;\n\n        ctx.strokeStyle = this._settings.lineColor.call(this, data[i]);\n        ctx.beginPath();\n        ctx.moveTo(x0, y0);\n        angles.push(alpha0);\n        /*the angle defines the 2nd edge of the sector*/\n\n        var alpha1 = -Math.PI / 2 + ratios[i] - 0.0001;\n        ctx.arc(x0, y0, radius, alpha0, alpha1, false);\n        ctx.lineTo(x0, y0);\n\n        var color = this._settings.color.call(this, data[i]);\n\n        ctx.fillStyle = color;\n        ctx.fill();\n        /*text that needs being displayed inside the sector*/\n\n        if (this._settings.pieInnerText) this._drawSectorLabel(x0, y0, 5 * radius / 6, alpha0, alpha1, ky, this._settings.pieInnerText(data[i], totalValue), true);\n        /*label outside the sector*/\n\n        if (this._settings.label) this._drawSectorLabel(x0, y0, radius + this._settings.labelOffset, alpha0, alpha1, ky, this._settings.label(data[i]));\n        /*drawing lower part for 3D pie*/\n\n        if (ky != 1) {\n          this._createLowerSector(ctx, x0, y0, alpha0, alpha1, radius, true);\n\n          ctx.fillStyle = \"#000000\";\n          ctx.globalAlpha = 0.2;\n\n          this._createLowerSector(ctx, x0, y0, alpha0, alpha1, radius, false);\n\n          ctx.globalAlpha = 1;\n          ctx.fillStyle = color;\n        }\n        /*creats map area (needed for events)*/\n\n\n        map.addSector(data[i].id, alpha0, alpha1, x0 - point0.x, y0 - point0.y / ky, radius, ky, sIndex);\n        alpha0 = alpha1;\n      }\n      /*renders radius lines and labels*/\n\n\n      ctx.globalAlpha = 0.8;\n      var p;\n\n      for (i = 0; i < angles.length; i++) {\n        p = this._getPositionByAngle(angles[i], x0, y0, radius);\n\n        this._drawLine(ctx, x0, y0, p.x, p.y, this._settings.lineColor.call(this, data[i]), 2);\n      }\n\n      ctx.globalAlpha = 1;\n\n      if (ky == 1 && this._settings.border) {\n        ctx.lineWidth = this._settings.borderWidth || 2;\n        ctx.strokeStyle = this._settings.borderColor ? this._settings.borderColor.call(this) : \"#ffffff\";\n        ctx.beginPath();\n        ctx.arc(x0, y0, radius + 1, 0, 2 * Math.PI, false);\n        ctx.stroke();\n      }\n\n      ctx.scale(1, 1 / ky);\n    },\n\n    /**\n     *   returns list of values\n     *   @param: data array\n     */\n    _getValues: function (data) {\n      var v = [];\n\n      for (var i = 0; i < data.length; i++) {\n        v.push(Math.abs(parseFloat(this._settings.value(data[i])) || 0));\n      }\n\n      return v;\n    },\n\n    /**\n     *   returns total value\n     *   @param: the array of values\n     */\n    _getTotalValue: function (values) {\n      var t = 0;\n\n      for (var i = 0; i < values.length; i++) {\n        t += values[i];\n      }\n\n      return t;\n    },\n\n    /**\n     *   gets angles for all values\n     *   @param: the array of values\n     *   @param: total value (optional)\n     */\n    _getRatios: function (values, totalValue) {\n      var value;\n      var ratios = [];\n      var prevSum = 0;\n      totalValue = totalValue || this._getTotalValue(values);\n\n      for (var i = 0; i < values.length; i++) {\n        value = values[i];\n        ratios[i] = Math.PI * 2 * (totalValue ? (value + prevSum) / totalValue : 1 / values.length);\n        prevSum += value;\n      }\n\n      return ratios;\n    },\n\n    /**\n     *   returns calculated pie parameters: center position and radius\n     *   @param: x - the width of a container\n     *   @param: y - the height of a container\n     */\n    _getPieParameters: function (point0, point1) {\n      /*var offsetX = 0;\n       var offsetY = 0;\n       if(this._settings.legend &&this._settings.legend.layout!=\"x\")\n       offsetX = this._settings.legend.width*(this._settings.legend.align==\"right\"?-1:1);\n       var x0 = (x + offsetX)/2;\n       if(this._settings.legend &&this._settings.legend.layout==\"x\")\n       offsetY = this._settings.legend.height*(this._settings.legend.valign==\"bottom\"?-1:1);\n       var y0 = (y+offsetY)/2;*/\n      var width = point1.x - point0.x;\n      var height = point1.y - point0.y;\n      var x0 = point0.x + width / 2;\n      var y0 = point0.y + height / 2;\n      var radius = Math.min(width / 2, height / 2);\n      return {\n        \"x\": x0,\n        \"y\": y0,\n        \"radius\": radius\n      };\n    },\n\n    /**\n     *   creates lower part of sector in 3Dpie\n     *   @param: ctx - canvas object\n     *   @param: x0 - the horizontal position of the pie center\n     *   @param: y0 - the vertical position of the pie center\n     *   @param: a0 - the angle that defines the first edge of a sector\n     *   @param: a1 - the angle that defines the second edge of a sector\n     *   @param: R - pie radius\n     *   @param: line (boolean) - if the sector needs a border\n     */\n    _createLowerSector: function (ctx, x0, y0, a1, a2, R, line) {\n      ctx.lineWidth = 1;\n      /*checks if the lower sector needs being displayed*/\n\n      if (!(a1 <= 0 && a2 >= 0 || a1 >= 0 && a2 <= Math.PI || Math.abs(a1 - Math.PI) > 0.003 && a1 <= Math.PI && a2 >= Math.PI)) return;\n\n      if (a1 <= 0 && a2 >= 0) {\n        a1 = 0;\n        line = false;\n\n        this._drawSectorLine(ctx, x0, y0, R, a1, a2);\n      }\n\n      if (a1 <= Math.PI && a2 >= Math.PI) {\n        a2 = Math.PI;\n        line = false;\n\n        this._drawSectorLine(ctx, x0, y0, R, a1, a2);\n      }\n      /*the height of 3D pie*/\n\n\n      var offset = (this._settings.pieHeight || Math.floor(R / 4)) / this._settings.cant;\n\n      ctx.beginPath();\n      ctx.arc(x0, y0, R, a1, a2, false);\n      ctx.lineTo(x0 + R * Math.cos(a2), y0 + R * Math.sin(a2) + offset);\n      ctx.arc(x0, y0 + offset, R, a2, a1, true);\n      ctx.lineTo(x0 + R * Math.cos(a1), y0 + R * Math.sin(a1));\n      ctx.fill();\n      if (line) ctx.stroke();\n    },\n\n    /**\n     *   draws a serctor arc\n     */\n    _drawSectorLine: function (ctx, x0, y0, R, a1, a2) {\n      ctx.beginPath();\n      ctx.arc(x0, y0, R, a1, a2, false);\n      ctx.stroke();\n    },\n\n    /**\n     *   adds a shadow to pie\n     *   @param: ctx - canvas object\n     *   @param: x - the horizontal position of the pie center\n     *   @param: y - the vertical position of the pie center\n     *   @param: R - pie radius\n     */\n    _addShadow: function (ctx, x, y, R) {\n      ctx.globalAlpha = 0.5;\n      var shadows = [\"#c4c4c4\", \"#c6c6c6\", \"#cacaca\", \"#dcdcdc\", \"#dddddd\", \"#e0e0e0\", \"#eeeeee\", \"#f5f5f5\", \"#f8f8f8\"];\n\n      for (var i = shadows.length - 1; i > -1; i--) {\n        ctx.beginPath();\n        ctx.fillStyle = shadows[i];\n        ctx.arc(x + 1, y + 1, R + i, 0, Math.PI * 2, true);\n        ctx.fill();\n      }\n\n      ctx.globalAlpha = 1;\n    },\n\n    /**\n     *   returns a gray gradient\n     *   @param: gradient - gradient object\n     */\n    _getGrayGradient: function (gradient) {\n      gradient.addColorStop(0.0, \"#ffffff\");\n      gradient.addColorStop(0.7, \"#7a7a7a\");\n      gradient.addColorStop(1.0, \"#000000\");\n      return gradient;\n    },\n\n    /**\n     *   adds gray radial gradient\n     *   @param: ctx - canvas object\n     *   @param: x - the horizontal position of the pie center\n     *   @param: y - the vertical position of the pie center\n     *   @param: radius - pie radius\n     *   @param: x0 - the horizontal position of a gradient center\n     *   @param: y0 - the vertical position of a gradient center\n     */\n    _showRadialGradient: function (ctx, x, y, radius, x0, y0) {\n      //ctx.globalAlpha = 0.3;\n      ctx.beginPath();\n      var gradient;\n\n      if (typeof this._settings.gradient != \"function\") {\n        gradient = ctx.createRadialGradient(x0, y0, radius / 4, x, y, radius);\n        gradient = this._getGrayGradient(gradient);\n      } else gradient = this._settings.gradient(gradient);\n\n      ctx.fillStyle = gradient;\n      ctx.arc(x, y, radius, 0, Math.PI * 2, true);\n      ctx.fill(); //ctx.globalAlpha = 1;\n\n      ctx.globalAlpha = 0.7;\n    },\n\n    /**\n     *   returns the calculates pie parameters: center position and radius\n     *   @param: ctx - canvas object\n     *   @param: x0 - the horizontal position of the pie center\n     *   @param: y0 - the vertical position of the pie center\n     *   @param: R - pie radius\n     *   @param: alpha1 - the angle that defines the 1st edge of a sector\n     *   @param: alpha2 - the angle that defines the 2nd edge of a sector\n     *   @param: ky - the value that defines an angle of inclination\n     *   @param: text - label text\n     *   @param: in_width (boolean) - if label needs being displayed inside a pie\n     */\n    _drawSectorLabel: function (x0, y0, R, alpha1, alpha2, ky, text, in_width) {\n      var t = this.canvases[0].renderText(0, 0, text, 0, 1);\n      if (!t) return; //get existing width of text\n\n      var labelWidth = t.scrollWidth;\n      t.style.width = labelWidth + \"px\"; //adjust text label to fit all text\n\n      if (labelWidth > x0) labelWidth = x0; //the text can't be greater than half of view\n      //calculate expected correction based on default font metrics\n\n      var width = alpha2 - alpha1 < 0.2 ? 4 : 8;\n      if (in_width) width = labelWidth / 1.8;\n      var alpha = alpha1 + (alpha2 - alpha1) / 2; //position and its correction\n\n      R = R - (width - 8) / 2;\n      var corr_x = -width;\n      var corr_y = -8;\n      var align = \"right\"; //for items in left upper and lower sector\n\n      if (alpha >= Math.PI / 2 && alpha < Math.PI || alpha <= 3 * Math.PI / 2 && alpha >= Math.PI) {\n        corr_x = -labelWidth - corr_x + 1;\n        /*correction for label width*/\n\n        align = \"left\";\n      }\n      /*\n         calculate position of text\n         basically get point at center of pie sector\n      */\n\n\n      var offset = 0;\n      if (!in_width && ky < 1 && alpha > 0 && alpha < Math.PI) offset = (this._settings.height || Math.floor(R / 4)) / ky;\n      var y = (y0 + Math.floor((R + offset) * Math.sin(alpha))) * ky + corr_y;\n      var x = x0 + Math.floor((R + width / 2) * Math.cos(alpha)) + corr_x;\n      /*\n         if pie sector starts in left of right part pie,\n         related text\tmust be placed to the left of to the right of pie as well\n      */\n\n      var left_end = alpha2 < Math.PI / 2 + 0.01;\n      var left_start = alpha1 < Math.PI / 2;\n\n      if (left_start && left_end) {\n        x = Math.max(x, x0 + 3); //right part of pie\n\n        /*if(alpha2-alpha1<0.2)\n        \tx = x0;*/\n      } else if (!left_start && !left_end) x = Math.min(x, x0 - labelWidth); //left part of pie\n      else if (!in_width && (alpha >= Math.PI / 2 && alpha < Math.PI || alpha <= 3 * Math.PI / 2 && alpha >= Math.PI)) {\n          x += labelWidth / 3;\n        } //we need to set position of text manually, based on above calculations\n\n\n      t.style.top = y + \"px\";\n      t.style.left = x + \"px\";\n      t.style.width = labelWidth + \"px\";\n      t.style.textAlign = align;\n      t.style.whiteSpace = \"nowrap\";\n    },\n    $render_pie3D: function (ctx, data, x, y, sIndex, map) {\n      this._renderPie(ctx, data, x, y, this._settings.cant, map);\n    },\n    $render_donut: function (ctx, data, point0, point1, sIndex, map) {\n      if (!data.length) return;\n\n      this._renderPie(ctx, data, point0, point1, 1, map, sIndex);\n\n      var config = this._settings;\n\n      var coord = this._getPieParameters(point0, point1);\n\n      var pieRadius = config.radius ? config.radius : coord.radius;\n      if (pieRadius <= 0) return;\n      var innerRadius = config.innerRadius && config.innerRadius < pieRadius ? config.innerRadius : pieRadius / 3;\n      var x0 = config.x ? config.x : coord.x;\n      var y0 = config.y ? config.y : coord.y;\n      ctx.fillStyle = $active.backColor;\n      ctx.beginPath();\n      ctx.arc(x0, y0, innerRadius, 0, Math.PI * 2, true);\n      ctx.fill();\n\n      if (this._settings.donutInnerText) {\n        var values = this._getValues(data);\n\n        var totalValue = this._getTotalValue(values);\n\n        var padding = $active.dataPadding;\n        var width = innerRadius * 2 - padding * 2;\n        var centerText = this.canvases[0].renderText(x0 - innerRadius + padding, y0 - innerRadius + padding, \"<div class=\\\"webix_donut_center_text\\\">\".concat(this._settings.donutInnerText(data, totalValue), \"</div>\"), \"webix_donut_center_text_box\", width);\n        centerText.style.height = centerText.style.lineHeight = width + \"px\";\n      }\n    }\n  };\n\n  var BarChart = {\n    /**\n    *   renders a bar chart\n    *   @param: ctx - canvas object\n    *   @param: data - object those need to be displayed\n    *   @param: x - the width of the container\n    *   @param: y - the height of the container\n    *   @param: sIndex - index of drawing chart\n    */\n    $render_bar: function (ctx, data, point0, point1, sIndex, map) {\n      var barWidth,\n          cellWidth,\n          i,\n          limits,\n          maxValue,\n          minValue,\n          relValue,\n          valueFactor,\n          relativeValues,\n          startValue,\n          unit,\n          xax,\n          yax,\n          totalHeight = point1.y - point0.y;\n      yax = !!this._settings.yAxis;\n      xax = !!this._settings.xAxis;\n      limits = this._getLimits();\n      maxValue = limits.max;\n      minValue = limits.min;\n      /*an available width for one bar*/\n\n      cellWidth = (point1.x - point0.x) / data.length;\n      /*draws x and y scales*/\n\n      if (!sIndex && !(this._settings.origin != \"auto\" && !yax)) {\n        this._drawScales(data, point0, point1, minValue, maxValue, cellWidth);\n      }\n      /*necessary for automatic scale*/\n\n\n      if (yax) {\n        maxValue = parseFloat(this._settings.yAxis.end);\n        minValue = parseFloat(this._settings.yAxis.start);\n      }\n      /*unit calculation (bar_height = value*unit)*/\n\n\n      relativeValues = this._getRelativeValue(minValue, maxValue);\n      relValue = relativeValues[0];\n      valueFactor = relativeValues[1];\n      unit = relValue ? totalHeight / relValue : relValue;\n\n      if (!yax && !(this._settings.origin != \"auto\" && xax)) {\n        /*defines start value for better representation of small values*/\n        startValue = 10;\n        unit = relValue ? (totalHeight - startValue) / relValue : startValue;\n      }\n      /*if yAxis isn't set, but with custom origin */\n\n\n      if (!sIndex && this._settings.origin != \"auto\" && !yax && this._settings.origin > minValue) {\n        this._drawXAxis(ctx, data, point0, point1, cellWidth, point1.y - unit * (this._settings.origin - minValue));\n      }\n      /*a real bar width */\n\n\n      barWidth = parseInt(this._settings.barWidth, 10);\n      var seriesNumber = 0;\n      var seriesIndex = 0;\n\n      for (i = 0; i < this._series.length; i++) {\n        if (i == sIndex) {\n          seriesIndex = seriesNumber;\n        }\n\n        if (this._series[i].type == \"bar\") seriesNumber++;\n      }\n\n      if (this._series && barWidth * seriesNumber + 4 > cellWidth) barWidth = parseInt(cellWidth / seriesNumber - 4, 10);\n      /*the half of distance between bars*/\n\n      var barOffset = (cellWidth - barWidth * seriesNumber) / 2;\n      /*the radius of rounding in the top part of each bar*/\n\n      var radius = typeof this._settings.radius != \"undefined\" ? parseInt(this._settings.radius, 10) : Math.round(barWidth / 5);\n      var inner_gradient = false;\n      var gradient = this._settings.gradient;\n\n      if (gradient && typeof gradient != \"function\") {\n        inner_gradient = gradient;\n        gradient = false;\n      } else if (gradient) {\n        gradient = ctx.createLinearGradient(0, point1.y, 0, point0.y);\n\n        this._settings.gradient(gradient);\n      }\n      /*draws a black line if the horizontal scale isn't defined*/\n\n\n      if (!xax) {\n        this._drawLine(ctx, point0.x, point1.y + 0.5, point1.x, point1.y + 0.5, \"#edeff0\", 1); //hardcoded color!\n\n      }\n\n      for (i = 0; i < data.length; i++) {\n        var value = parseFloat(this._settings.value(data[i]) || 0);\n        if (this._logScaleCalc) value = this._log10(value);\n        if (!value || isNaN(value)) continue;\n        if (value > maxValue) value = maxValue;\n        value -= minValue;\n        value *= valueFactor;\n        /*start point (bottom left)*/\n\n        var x0 = point0.x + barOffset + i * cellWidth + (barWidth + 1) * seriesIndex;\n        var y0 = point1.y;\n\n        var color$$1 = gradient || this._settings.color.call(this, data[i]);\n\n        var border = this._settings.border ? 1 : 0;\n\n        var label = this._settings.label(data[i]);\n        /*takes start value into consideration */\n\n\n        if (!yax && !(this._settings.origin != \"auto\" && xax)) value += startValue / unit;\n        /* don't draw borders and labels for not painted values (on y-Axis or lower) */\n        else if (value == this._settings.origin || this._settings.origin == \"auto\" && this._settings.value(data[i]) == minValue) {\n            border = 0;\n            label = \"\";\n          } else if (value < 0 || this._settings.yAxis && value === 0 && !(this._settings.origin != \"auto\" && this._settings.origin > minValue)) {\n            value = border = 0;\n            label = \"\";\n          }\n        /*drawing bar body*/\n\n        ctx.globalAlpha = this._settings.alpha.call(this, data[i]);\n\n        var points = this._drawBar(ctx, point0, x0, y0, barWidth, minValue, radius, unit, value, color$$1, gradient, inner_gradient, border);\n\n        if (inner_gradient) {\n          this._drawBarGradient(ctx, x0, y0, barWidth, minValue, radius, unit, value, color$$1, inner_gradient, border);\n        }\n        /*drawing the gradient border of a bar*/\n\n\n        if (border) this._drawBarBorder(ctx, x0, y0, barWidth, minValue, radius, unit, value, color$$1);\n        ctx.globalAlpha = 1;\n        /*sets a bar label*/\n\n        if (points[0] != x0) this.canvases[sIndex].renderTextAt(false, true, x0 + Math.floor(barWidth / 2), points[1], label);else this.canvases[sIndex].renderTextAt(true, true, x0 + Math.floor(barWidth / 2), points[3], label);\n        /*defines a map area for a bar*/\n\n        map.addRect(data[i].id, [x0 - point0.x, points[3] - point0.y, points[2] - point0.x, points[1] - point0.y], sIndex); //this._addMapRect(map,data[i].id,[{x:x0,y:points[3]},{x:points[2],y:points[1]}],point0,sIndex);\n      }\n    },\n    _correctBarParams: function (ctx, x, y, value, unit, barWidth, minValue) {\n      var axisStart = y;\n\n      if (this._settings.origin != \"auto\" && this._settings.origin > minValue) {\n        y -= (this._settings.origin - minValue) * unit;\n        axisStart = y;\n        value = value - (this._settings.origin - minValue);\n\n        if (value < 0) {\n          value *= -1;\n          ctx.translate(x + barWidth, y);\n          ctx.rotate(Math.PI);\n          x = 0;\n          y = 0;\n        }\n\n        y -= 0.5;\n      }\n\n      return {\n        value: value,\n        x0: x,\n        y0: y,\n        start: axisStart\n      };\n    },\n    _drawBar: function (ctx, point0, x0, y0, barWidth, minValue, radius, unit, value, color$$1, gradient, inner_gradient, border) {\n      ctx.save();\n      ctx.fillStyle = color$$1;\n\n      var p = this._correctBarParams(ctx, x0, y0, value, unit, barWidth, minValue);\n\n      var points = this._setBarPoints(ctx, p.x0, p.y0, barWidth, radius, unit, p.value, border);\n\n      if (gradient && !inner_gradient) ctx.lineTo(p.x0 + border, point0.y); //fix gradient sphreading\n\n      ctx.fill();\n      ctx.restore();\n      var x1 = p.x0;\n      var x2 = p.x0 != x0 ? x0 + points[0] : points[0];\n      var y1 = p.x0 != x0 ? p.start - points[1] - p.y0 : p.y0;\n      var y2 = p.x0 != x0 ? p.start - p.y0 : points[1];\n      return [x1, y1, x2, y2];\n    },\n    _setBorderStyles: function (ctx, rawColor) {\n      var hsv, rgb;\n      rgb = color.toRgb(rawColor);\n      hsv = color.rgbToHsv(rgb[0], rgb[1], rgb[2]);\n      hsv[2] /= 1.4;\n      var rgbColor = \"rgb(\" + color.hsvToRgb(hsv[0], hsv[1], hsv[2]) + \")\";\n      ctx.strokeStyle = rgbColor;\n      if (ctx.globalAlpha == 1) ctx.globalAlpha = 0.9;\n    },\n    _drawBarBorder: function (ctx, x0, y0, barWidth, minValue, radius, unit, value, color$$1) {\n      var p;\n      ctx.save();\n      p = this._correctBarParams(ctx, x0, y0, value, unit, barWidth, minValue);\n\n      this._setBorderStyles(ctx, color$$1);\n\n      this._setBarPoints(ctx, p.x0, p.y0, barWidth, radius, unit, p.value, ctx.lineWidth / 2, 1);\n\n      ctx.stroke();\n      /*ctx.fillStyle = color;\n       this._setBarPoints(ctx,p.x0,p.y0,barWidth,radius,unit,p.value,0);\n       ctx.lineTo(p.x0,0);\n       ctx.fill()\n      \t\t ctx.fillStyle = \"#000000\";\n       ctx.globalAlpha = 0.37;\n      \t this._setBarPoints(ctx,p.x0,p.y0,barWidth,radius,unit,p.value,0);\n       ctx.fill()\n       */\n\n      ctx.restore();\n    },\n    _drawBarGradient: function (ctx, x0, y0, barWidth, minValue, radius, unit, value, color$$1, inner_gradient, border) {\n      ctx.save();\n\n      var p = this._correctBarParams(ctx, x0, y0, value, unit, barWidth, minValue);\n\n      var gradParam = this._setBarGradient(ctx, p.x0, p.y0, p.x0 + barWidth, p.y0 - unit * p.value + 2, inner_gradient, color$$1, \"y\");\n\n      ctx.fillStyle = gradParam.gradient;\n\n      this._setBarPoints(ctx, p.x0 + gradParam.offset, p.y0, barWidth - gradParam.offset * 2, radius, unit, p.value, gradParam.offset + border);\n\n      ctx.fill();\n      ctx.restore();\n    },\n\n    /**\n     *   sets points for bar and returns the position of the bottom right point\n     *   @param: ctx - canvas object\n     *   @param: x0 - the x position of start point\n     *   @param: y0 - the y position of start point\n     *   @param: barWidth - bar width\n     *   @param: radius - the rounding radius of the top\n     *   @param: unit - the value defines the correspondence between item value and bar height\n     *   @param: value - item value\n     *   @param: offset - the offset from expected bar edge (necessary for drawing border)\n     */\n    _setBarPoints: function (ctx, x0, y0, barWidth, radius, unit, value, offset, skipBottom) {\n      /*correction for displaing small values (when rounding radius is bigger than bar height)*/\n      ctx.beginPath(); //y0 = 0.5;\n\n      var angle_corr = 0;\n\n      if (radius > unit * value) {\n        var cosA = (radius - unit * value) / radius;\n        if (cosA <= 1 && cosA >= -1) angle_corr = -Math.acos(cosA) + Math.PI / 2;\n      }\n      /*start*/\n\n\n      ctx.moveTo(x0 + offset, y0);\n      /*start of left rounding*/\n\n      var y1 = y0 - Math.floor(unit * value) + radius + (radius ? 0 : offset);\n      if (radius < unit * value) ctx.lineTo(x0 + offset, y1);\n      /*left rounding*/\n\n      var x2 = x0 + radius;\n      if (radius && radius > 0) ctx.arc(x2, y1, Math.max(radius - offset, 0), -Math.PI + angle_corr, -Math.PI / 2, false);\n      /*start of right rounding*/\n\n      var x3 = x0 + barWidth - radius - offset;\n      var y3 = y1 - radius + (radius ? offset : 0);\n      ctx.lineTo(x3, y3);\n      /*right rounding*/\n\n      if (radius && radius > 0) ctx.arc(x3 + offset, y1, Math.max(radius - offset, 0), -Math.PI / 2, 0 - angle_corr, false);\n      /*bottom right point*/\n\n      var x5 = x0 + barWidth - offset;\n      ctx.lineTo(x5, y0);\n      /*line to the start point*/\n\n      if (!skipBottom) {\n        ctx.lineTo(x0 + offset, y0);\n      } //\tctx.lineTo(x0,0); //IE fix!\n\n\n      return [x5, y3];\n    }\n  };\n\n  var LineChart = {\n    /**\n    *   renders a graphic\n    *   @param: ctx - canvas object\n    *   @param: data - object those need to be displayed\n    *   @param: width - the width of the container\n    *   @param: height - the height of the container\n    *   @param: sIndex - index of drawing chart\n    */\n    $render_line: function (ctx, data, point0, point1, sIndex, map) {\n      var config, i, items, params, x0, x1, x2, y1, y2, y0, res1, res2;\n      params = this._calculateLineParams(ctx, data, point0, point1, sIndex);\n      config = this._settings;\n\n      if (data.length) {\n        x0 = config.offset ? point0.x + params.cellWidth * 0.5 : point0.x; //finds items with data (excludes scale units)\n\n        items = [];\n\n        for (i = 0; i < data.length; i++) {\n          res2 = this._getPointY(data[i], point0, point1, params);\n\n          if (res2 || res2 == \"0\") {\n            x2 = !i ? x0 : params.cellWidth * i - 0.5 + x0;\n            y2 = _typeof(res2) == \"object\" ? res2.y0 : res2;\n\n            if (i && this._settings.fixOverflow) {\n              res1 = this._getPointY(data[i - 1], point0, point1, params);\n\n              if (res1.out && res1.out == res2.out) {\n                continue;\n              }\n\n              x1 = params.cellWidth * (i - 1) - 0.5 + x0;\n              y1 = _typeof(res1) == \"object\" ? res1.y0 : res1;\n\n              if (res1.out) {\n                y0 = res1.out == \"min\" ? point1.y : point0.y;\n                items.push({\n                  x: this._calcOverflowX(x1, x2, y1, y2, y0),\n                  y: y0\n                });\n              }\n\n              if (res2.out) {\n                y0 = res2.out == \"min\" ? point1.y : point0.y;\n                items.push({\n                  x: this._calcOverflowX(x1, x2, y1, y2, y0),\n                  y: y0\n                });\n              }\n            }\n\n            if (!res2.out) items.push({\n              x: x2,\n              y: res2,\n              index: i\n            });\n          }\n        }\n\n        this._mapStart = point0;\n\n        for (i = 1; i <= items.length; i++) {\n          //line start position\n          x1 = items[i - 1].x;\n          y1 = items[i - 1].y;\n\n          if (i < items.length) {\n            //line end position\n            x2 = items[i].x;\n            y2 = items[i].y; //line\n\n            this._drawLine(ctx, x1, y1, x2, y2, config.line.color.call(this, data[i - 1]), config.line.width); //line shadow\n\n\n            if (config.line && config.line.shadow) {\n              ctx.globalAlpha = 0.3;\n\n              this._drawLine(ctx, x1 + 2, y1 + config.line.width + 8, x2 + 2, y2 + config.line.width + 8, \"#eeeeee\", config.line.width + 3);\n\n              ctx.globalAlpha = 1;\n            }\n          } //item\n\n\n          if (typeof items[i - 1].index != \"undefined\") {\n            this._drawItem(ctx, x1, y1, data[items[i - 1].index], config.label(data[items[i - 1].index]), sIndex, map, point0);\n          }\n        }\n      }\n    },\n    _calcOverflowX: function (x1, x2, y1, y2, y) {\n      return x1 + (y - y1) * (x2 - x1) / (y2 - y1);\n    },\n\n    /**\n    *   draws an item and its label\n    *   @param: ctx - canvas object\n    *   @param: x0 - the x position of a circle\n    *   @param: y0 - the y position of a circle\n    *   @param: obj - data object\n    *   @param: label - (boolean) defines wherether label needs being drawn\n    */\n    _drawItem: function (ctx, x0, y0, obj, label, sIndex, map) {\n      var config = this._settings.item;\n      var R = parseInt(config.radius.call(this, obj), 10) || 0;\n      var mapStart = this._mapStart;\n      var item = config.type.call(this, obj);\n\n      if (R) {\n        ctx.save();\n\n        if (config.shadow) {\n          ctx.lineWidth = 1;\n          ctx.strokeStyle = \"#bdbdbd\";\n          ctx.fillStyle = \"#bdbdbd\";\n          var alphas = [0.1, 0.2, 0.3];\n\n          for (var i = alphas.length - 1; i >= 0; i--) {\n            ctx.globalAlpha = alphas[i];\n            ctx.strokeStyle = \"#d0d0d0\";\n            ctx.beginPath();\n\n            this._strokeChartItem(ctx, x0, y0 + 2 * R / 3, R + i + 1, item);\n\n            ctx.stroke();\n          }\n\n          ctx.beginPath();\n          ctx.globalAlpha = 0.3;\n          ctx.fillStyle = \"#bdbdbd\";\n\n          this._strokeChartItem(ctx, x0, y0 + 2 * R / 3, R + 1, item);\n\n          ctx.fill();\n        }\n\n        ctx.restore();\n        ctx.lineWidth = config.borderWidth;\n        ctx.fillStyle = config.color.call(this, obj);\n        ctx.strokeStyle = config.borderColor.call(this, obj);\n        ctx.globalAlpha = config.alpha.call(this, obj);\n        ctx.beginPath();\n\n        this._strokeChartItem(ctx, x0, y0, R + 1, item);\n\n        ctx.fill();\n        ctx.stroke();\n        ctx.globalAlpha = 1;\n      }\n      /*item label*/\n\n\n      if (label) {\n        this.canvases[sIndex].renderTextAt(false, true, x0, y0 - R - this._settings.labelOffset, this._settings.label.call(this, obj));\n      }\n\n      if (map) {\n        var areaPos = this._settings.eventRadius || R + 1; //this._addMapRect(map,obj.id,[{x:x0-areaPos,y:y0-areaPos},{x0+areaPos,y:y0+areaPos}],point0,sIndex);\n\n        map.addRect(obj.id, [x0 - areaPos - mapStart.x, y0 - areaPos - mapStart.y, x0 + areaPos - mapStart.x, y0 + areaPos - mapStart.y], sIndex);\n      }\n    },\n    _strokeChartItem: function (ctx, x0, y0, R, type) {\n      var p = [];\n\n      if (type && (type == \"square\" || type == \"s\")) {\n        R *= Math.sqrt(2) / 2;\n        p = [[x0 - R - ctx.lineWidth / 2, y0 - R], [x0 + R, y0 - R], [x0 + R, y0 + R], [x0 - R, y0 + R], [x0 - R, y0 - R]];\n      } else if (type && (type == \"diamond\" || type == \"d\")) {\n        var corr = ctx.lineWidth > 1 ? ctx.lineWidth * Math.sqrt(2) / 4 : 0;\n        p = [[x0, y0 - R], [x0 + R, y0], [x0, y0 + R], [x0 - R, y0], [x0 + corr, y0 - R - corr]];\n      } else if (type && (type == \"triangle\" || type == \"t\")) {\n        p = [[x0, y0 - R], [x0 + Math.sqrt(3) * R / 2, y0 + R / 2], [x0 - Math.sqrt(3) * R / 2, y0 + R / 2], [x0, y0 - R]];\n      } else p = [[x0, y0, R, 0, Math.PI * 2, true]];\n\n      this._path(ctx, p);\n    },\n\n    /**\n    *   gets the vertical position of the item\n    *   @param: data - data object\n    *   @param: y0 - the y position of chart start\n    *   @param: y1 - the y position of chart end\n    *   @param: params - the object with elements: minValue, maxValue, unit, valueFactor (the value multiple of 10)\n    */\n    _getPointY: function (data, point0, point1, params) {\n      var minValue = params.minValue;\n      var maxValue = params.maxValue;\n      var unit = params.unit;\n      var valueFactor = params.valueFactor;\n      /*the real value of an object*/\n\n      var value = this._settings.value(data);\n\n      if (this._logScaleCalc) {\n        value = this._log10(value);\n      }\n      /*a relative value*/\n\n\n      var v = (parseFloat(value || 0) - minValue) * valueFactor;\n      if (!this._settings.yAxis) v += params.startValue / unit;\n      /*a vertical coordinate*/\n\n      var y = point1.y - unit * v;\n      /*the limit of the max and min values*/\n\n      if (this._settings.fixOverflow && (this._settings.type == \"line\" || this._settings.type == \"area\")) {\n        if (value > maxValue) y = {\n          y: point0.y,\n          y0: y,\n          out: \"max\"\n        };else if (v < 0 || value < minValue) y = {\n          y: point1.y,\n          y0: y,\n          out: \"min\"\n        };\n      } else {\n        if (value > maxValue) y = point0.y;\n        if (v < 0 || value < minValue) y = point1.y;\n      }\n\n      return y;\n    },\n    _calculateLineParams: function (ctx, data, point0, point1, sIndex) {\n      var params = {};\n      /*maxValue - minValue*/\n\n      var relValue;\n      /*available height*/\n\n      params.totalHeight = point1.y - point0.y;\n      /*a space available for a single item*/\n      //params.cellWidth = Math.round((point1.x-point0.x)/((!this._settings.offset&&this._settings.yAxis)?(data.length-1):data.length));\n\n      if (this._settings.cellWidth) params.cellWidth = Math.min(point1.x - point0.x, this._settings.cellWidth);else params.cellWidth = (point1.x - point0.x) / (!this._settings.offset ? data.length - 1 : data.length);\n      /*scales*/\n\n      var yax = !!this._settings.yAxis;\n      var limits = this._settings.type.indexOf(\"stacked\") != -1 ? this._getStackedLimits(data) : this._getLimits();\n      params.maxValue = limits.max;\n      params.minValue = limits.min;\n      /*draws x and y scales*/\n\n      if (!sIndex) this._drawScales(data, point0, point1, params.minValue, params.maxValue, params.cellWidth);\n      /*necessary for automatic scale*/\n\n      if (yax) {\n        params.maxValue = parseFloat(this._settings.yAxis.end);\n        params.minValue = parseFloat(this._settings.yAxis.start);\n      }\n      /*unit calculation (y_position = value*unit)*/\n\n\n      var relativeValues = this._getRelativeValue(params.minValue, params.maxValue);\n\n      relValue = relativeValues[0];\n      params.valueFactor = relativeValues[1];\n      params.unit = relValue ? params.totalHeight / relValue : 10;\n      params.startValue = 0;\n\n      if (!yax) {\n        /*defines start value for better representation of small values*/\n        params.startValue = 10;\n        if (params.unit != params.totalHeight) params.unit = relValue ? (params.totalHeight - params.startValue) / relValue : 10;\n      }\n\n      return params;\n    }\n  };\n\n  var BarHChart = {\n    /**\n    *   renders a bar chart\n    *   @param: ctx - canvas object\n    *   @param: data - object those need to be displayed\n    *   @param: x - the width of the container\n    *   @param: y - the height of the container\n    *   @param: sIndex - index of drawing chart\n    */\n    $render_barH: function (ctx, data, point0, point1, sIndex, map) {\n      var barOffset, barWidth, cellWidth, color, gradient, i, limits, maxValue, minValue, innerGradient, valueFactor, relValue, radius, relativeValues, startValue, totalWidth, value, unit, x0, y0, xax;\n      /*an available width for one bar*/\n\n      cellWidth = (point1.y - point0.y) / data.length;\n      limits = this._getLimits(\"h\");\n      maxValue = limits.max;\n      minValue = limits.min;\n      totalWidth = point1.x - point0.x;\n      xax = !!this._settings.xAxis;\n      /*draws x and y scales*/\n\n      if (!sIndex) this._drawHScales(ctx, data, point0, point1, minValue, maxValue, cellWidth);\n      /*necessary for automatic scale*/\n\n      if (xax) {\n        maxValue = parseFloat(this._settings.xAxis.end);\n        minValue = parseFloat(this._settings.xAxis.start);\n      }\n      /*unit calculation (bar_height = value*unit)*/\n\n\n      relativeValues = this._getRelativeValue(minValue, maxValue);\n      relValue = relativeValues[0];\n      valueFactor = relativeValues[1];\n      unit = relValue ? totalWidth / relValue : 10;\n\n      if (!xax) {\n        /*defines start value for better representation of small values*/\n        startValue = 10;\n        unit = relValue ? (totalWidth - startValue) / relValue : 10;\n      }\n      /*a real bar width */\n\n\n      barWidth = parseInt(this._settings.barWidth, 10);\n      if (barWidth * this._series.length + 4 > cellWidth) barWidth = cellWidth / this._series.length - 4;\n      /*the half of distance between bars*/\n\n      barOffset = Math.floor((cellWidth - barWidth * this._series.length) / 2);\n      /*the radius of rounding in the top part of each bar*/\n\n      radius = typeof this._settings.radius != \"undefined\" ? parseInt(this._settings.radius, 10) : Math.round(barWidth / 5);\n      innerGradient = false;\n      gradient = this._settings.gradient;\n\n      if (gradient && typeof gradient != \"function\") {\n        innerGradient = gradient;\n        gradient = false;\n      } else if (gradient) {\n        gradient = ctx.createLinearGradient(point0.x, point0.y, point1.x, point0.y);\n\n        this._settings.gradient(gradient);\n      }\n      /*draws a black line if the horizontal scale isn't defined*/\n\n\n      if (!xax) {\n        this._drawLine(ctx, point0.x - 0.5, point0.y, point0.x - 0.5, point1.y, \"#edeff0\", 1); //hardcoded color!\n\n      }\n\n      for (i = 0; i < data.length; i++) {\n        value = parseFloat(this._settings.value(data[i] || 0));\n        if (this._logScaleCalc) value = this._log10(value);\n        if (!value || isNaN(value)) continue;\n        if (value > maxValue) value = maxValue;\n        value -= minValue;\n        value *= valueFactor;\n        /*start point (bottom left)*/\n\n        x0 = point0.x;\n        y0 = point0.y + barOffset + i * cellWidth + (barWidth + 1) * sIndex;\n\n        if (value < 0 && this._settings.origin == \"auto\" || this._settings.xAxis && value === 0 && !(this._settings.origin != \"auto\" && this._settings.origin > minValue)) {\n          this.canvases[sIndex].renderTextAt(\"middle\", \"right\", x0 + 10, y0 + barWidth / 2 + barOffset, this._settings.label(data[i]));\n          continue;\n        }\n\n        if (value < 0 && this._settings.origin != \"auto\" && this._settings.origin > minValue) {\n          value = 0;\n        }\n        /*takes start value into consideration*/\n\n\n        if (!xax) value += startValue / unit;\n        color = gradient || this._settings.color.call(this, data[i]);\n        /*drawing the gradient border of a bar*/\n\n        if (this._settings.border) {\n          this._drawBarHBorder(ctx, x0, y0, barWidth, minValue, radius, unit, value, color);\n        }\n        /*drawing bar body*/\n\n\n        ctx.globalAlpha = this._settings.alpha.call(this, data[i]);\n\n        var points = this._drawBarH(ctx, point1, x0, y0, barWidth, minValue, radius, unit, value, color, gradient, innerGradient);\n\n        if (innerGradient) {\n          this._drawBarHGradient(ctx, x0, y0, barWidth, minValue, radius, unit, value, color, innerGradient);\n        }\n\n        ctx.globalAlpha = 1;\n        /*sets a bar label and map area*/\n\n        if (points[3] == y0) {\n          this.canvases[sIndex].renderTextAt(\"middle\", \"left\", points[0] - 5, points[3] + Math.floor(barWidth / 2), this._settings.label(data[i]));\n          map.addRect(data[i].id, [points[0] - point0.x, points[3] - point0.y, points[2] - point0.x, points[3] + barWidth - point0.y], sIndex);\n        } else {\n          this.canvases[sIndex].renderTextAt(\"middle\", false, points[2] + 5, points[1] + Math.floor(barWidth / 2), this._settings.label(data[i]));\n          map.addRect(data[i].id, [points[0] - point0.x, y0 - point0.y, points[2] - point0.x, points[3] - point0.y], sIndex);\n        }\n      }\n    },\n\n    /**\n     *   sets points for bar and returns the position of the bottom right point\n     *   @param: ctx - canvas object\n     *   @param: x0 - the x position of start point\n     *   @param: y0 - the y position of start point\n     *   @param: barWidth - bar width\n     *   @param: radius - the rounding radius of the top\n     *   @param: unit - the value defines the correspondence between item value and bar height\n     *   @param: value - item value\n     *   @param: offset - the offset from expected bar edge (necessary for drawing border)\n     */\n    _setBarHPoints: function (ctx, x0, y0, barWidth, radius, unit, value, offset, skipLeft) {\n      /*correction for displaing small values (when rounding radius is bigger than bar height)*/\n      var angle_corr = 0;\n\n      if (radius > unit * value) {\n        var sinA = (radius - unit * value) / radius;\n        angle_corr = -Math.asin(sinA) + Math.PI / 2;\n      }\n      /*start*/\n\n\n      ctx.moveTo(x0, y0 + offset);\n      /*start of left rounding*/\n\n      var x1 = x0 + unit * value - radius - (radius ? 0 : offset);\n      x1 = Math.max(x0, x1);\n      if (radius < unit * value) ctx.lineTo(x1, y0 + offset);\n      /*left rounding*/\n\n      var y2 = y0 + radius;\n      if (radius && radius > 0) ctx.arc(x1, y2, radius - offset, -Math.PI / 2 + angle_corr, 0, false);\n      /*start of right rounding*/\n\n      var y3 = y0 + barWidth - radius - (radius ? 0 : offset);\n      var x3 = x1 + radius - (radius ? offset : 0);\n      ctx.lineTo(x3, y3);\n      /*right rounding*/\n\n      if (radius && radius > 0) ctx.arc(x1, y3, radius - offset, 0, Math.PI / 2 - angle_corr, false);\n      /*bottom right point*/\n\n      var y5 = y0 + barWidth - offset;\n      ctx.lineTo(x0, y5);\n      /*line to the start point*/\n\n      if (!skipLeft) {\n        ctx.lineTo(x0, y0 + offset);\n      } //\tctx.lineTo(x0,0); //IE fix!\n\n\n      return [x3, y5];\n    },\n    _drawHScales: function (ctx, data, point0, point1, start, end, cellWidth) {\n      var x = 0;\n\n      if (this._settings.xAxis) {\n        if (!this.canvases[\"x\"]) this.canvases[\"x\"] = this._createCanvas(\"axis_x\");\n        x = this._drawHXAxis(this.canvases[\"x\"].getCanvas(), data, point0, point1, start, end);\n      }\n\n      if (this._settings.yAxis) {\n        if (!this.canvases[\"y\"]) this.canvases[\"y\"] = this._createCanvas(\"axis_y\");\n\n        this._drawHYAxis(this.canvases[\"y\"].getCanvas(), data, point0, point1, cellWidth, x);\n      }\n    },\n    _drawHYAxis: function (ctx, data, point0, point1, cellWidth, yAxisX) {\n      if (!this._settings.yAxis) return;\n      var unitPos;\n      var x0 = parseInt(yAxisX ? yAxisX : point0.x, 10) - 0.5;\n      var y0 = point1.y + 0.5;\n      var y1 = point0.y;\n\n      this._drawLine(ctx, x0, y0, x0, y1, this._settings.yAxis.color, 1);\n\n      for (var i = 0; i < data.length; i++) {\n        /*scale labels*/\n        var right = this._settings.origin != \"auto\" && this._settings.type == \"barH\" && parseFloat(this._settings.value(data[i])) < this._settings.origin;\n\n        unitPos = y1 + cellWidth / 2 + i * cellWidth;\n        this.canvases[\"y\"].renderTextAt(\"middle\", right ? false : \"left\", right ? x0 + 5 : x0 - 5, unitPos, this._settings.yAxis.template(data[i]), \"webix_axis_item_y\", right ? 0 : x0 - 10);\n        if (this._settings.yAxis.lines.call(this, data[i])) this._drawLine(ctx, point0.x, unitPos, point1.x, unitPos, this._settings.yAxis.lineColor.call(this, data[i]), 1);\n      }\n\n      if (this._settings.yAxis.lines.call(this, {})) this._drawLine(ctx, point0.x + 0.5, y1 + 0.5, point1.x, y1 + 0.5, this._settings.yAxis.lineColor.call(this, {}), 1);\n\n      this._setYAxisTitle(point0, point1);\n    },\n    _drawHXAxis: function (ctx, data, point0, point1, start, end) {\n      var step;\n      var scaleParam = {};\n      var axis = this._settings.xAxis;\n      if (!axis) return;\n      var y0 = point1.y + 0.5;\n      var x0 = point0.x - 0.5;\n      var x1 = point1.x - 0.5;\n      var yAxisStart = point0.x;\n\n      this._drawLine(ctx, x0, y0, x1, y0, axis.color, 1);\n\n      if (axis.step) step = parseFloat(axis.step);\n\n      if (typeof this._configXAxis.step == \"undefined\" || typeof this._configXAxis.start == \"undefined\" || typeof this._configXAxis.end == \"undefined\") {\n        scaleParam = this._calculateScale(start, end);\n        start = scaleParam.start;\n        end = scaleParam.end;\n        step = scaleParam.step;\n        this._settings.xAxis.end = end;\n        this._settings.xAxis.start = start;\n        this._settings.xAxis.step = step;\n      }\n\n      if (step === 0) return;\n      var stepHeight = (x1 - x0) * step / (end - start);\n      var c = 0;\n\n      for (var i = start; i <= end; i += step) {\n        var value = this._logScaleCalc ? Math.pow(10, i) : i;\n        if (scaleParam.fixNum) value = parseFloat(value).toFixed(scaleParam.fixNum);\n        var xi = Math.floor(x0 + c * stepHeight) + 0.5;\n        /*canvas line fix*/\n\n        if (!(i == start && this._settings.origin == \"auto\") && axis.lines.call(this, i)) this._drawLine(ctx, xi, y0, xi, point0.y, this._settings.xAxis.lineColor.call(this, i), 1);\n        if (i == this._settings.origin) yAxisStart = xi + 1;\n        /*correction for JS float calculation*/\n\n        if (step < 1 && !this._logScaleCalc) {\n          var power = Math.min(Math.floor(this._log10(step)), start <= 0 ? 0 : Math.floor(this._log10(start)));\n          var corr = Math.pow(10, -power);\n          value = Math.round(value * corr) / corr;\n          i = value;\n        }\n\n        this.canvases[\"x\"].renderTextAt(false, true, xi, y0 + 2, axis.template(value.toString()), \"webix_axis_item_x\");\n        c++;\n      }\n\n      this.canvases[\"x\"].renderTextAt(true, false, x0, point1.y + this._settings.padding.bottom - 3, this._settings.xAxis.title, \"webix_axis_title_x\", point1.x - point0.x);\n      return yAxisStart;\n    },\n    _correctBarHParams: function (ctx, x, y, value, unit, barWidth, minValue) {\n      var yax = this._settings.yAxis;\n      var axisStart = x;\n\n      if (!!yax && this._settings.origin != \"auto\" && this._settings.origin > minValue) {\n        x += (this._settings.origin - minValue) * unit;\n        axisStart = x;\n        value = value - (this._settings.origin - minValue);\n\n        if (value < 0) {\n          value *= -1;\n          ctx.translate(x, y + barWidth);\n          ctx.rotate(Math.PI);\n          x = 0.5;\n          y = 0;\n        }\n\n        x += 0.5;\n      }\n\n      return {\n        value: value,\n        x0: x,\n        y0: y,\n        start: axisStart\n      };\n    },\n    _drawBarH: function (ctx, point1, x0, y0, barWidth, minValue, radius, unit, value, color, gradient, inner_gradient) {\n      ctx.save();\n\n      var p = this._correctBarHParams(ctx, x0, y0, value, unit, barWidth, minValue);\n\n      ctx.fillStyle = color;\n      ctx.beginPath();\n\n      var points = this._setBarHPoints(ctx, p.x0, p.y0, barWidth, radius, unit, p.value, this._settings.border ? 1 : 0);\n\n      if (gradient && !inner_gradient) ctx.lineTo(point1.x, p.y0 + (this._settings.border ? 1 : 0)); //fix gradient sphreading\n\n      ctx.fill();\n      ctx.restore();\n      var y1 = p.y0;\n      var y2 = p.y0 != y0 ? y0 : points[1];\n      var x1 = p.y0 != y0 ? p.start - points[0] : p.start;\n      var x2 = p.y0 != y0 ? p.start : points[0];\n      return [x1, y1, x2, y2];\n    },\n    _drawBarHBorder: function (ctx, x0, y0, barWidth, minValue, radius, unit, value, color) {\n      ctx.save();\n\n      var p = this._correctBarHParams(ctx, x0, y0, value, unit, barWidth, minValue);\n\n      ctx.beginPath();\n\n      this._setBorderStyles(ctx, color);\n\n      ctx.globalAlpha = 0.9;\n\n      this._setBarHPoints(ctx, p.x0, p.y0, barWidth, radius, unit, p.value, ctx.lineWidth / 2, 1);\n\n      ctx.stroke();\n      ctx.restore();\n    },\n    _drawBarHGradient: function (ctx, x0, y0, barWidth, minValue, radius, unit, value, color, inner_gradient) {\n      ctx.save();\n\n      var p = this._correctBarHParams(ctx, x0, y0, value, unit, barWidth, minValue);\n\n      var gradParam = this._setBarGradient(ctx, p.x0, p.y0 + barWidth, p.x0 + unit * p.value, p.y0, inner_gradient, color, \"x\");\n\n      ctx.fillStyle = gradParam.gradient;\n      ctx.beginPath();\n\n      this._setBarHPoints(ctx, p.x0, p.y0 + gradParam.offset, barWidth - gradParam.offset * 2, radius, unit, p.value, gradParam.offset);\n\n      ctx.fill();\n      ctx.globalAlpha = 1;\n      ctx.restore();\n    }\n  };\n\n  var StackedBarChart = {\n    /**\n    *   renders a bar chart\n    *   @param: ctx - canvas object\n    *   @param: data - object those need to be displayed\n    *   @param: x - the width of the container\n    *   @param: y - the height of the container\n    *   @param: sIndex - index of drawing chart\n    */\n    $render_stackedBar: function (ctx, data, point0, point1, sIndex, map) {\n      var maxValue, minValue, xAxisY, x0, y0;\n      /*necessary if maxValue - minValue < 0*/\n\n      var valueFactor;\n      /*maxValue - minValue*/\n\n      var relValue;\n      var config = this._settings;\n      var total_height = point1.y - point0.y;\n      var yax = !!config.yAxis;\n      var xax = !!config.xAxis;\n\n      var limits = this._getStackedLimits(data);\n\n      var origin = config.origin === 0;\n      maxValue = limits.max;\n      minValue = limits.min;\n      /*an available width for one bar*/\n\n      var cellWidth = Math.floor((point1.x - point0.x) / data.length);\n      /*draws x and y scales*/\n\n      if (!sIndex) {\n        xAxisY = this._drawScales(data, point0, point1, minValue, maxValue, cellWidth);\n      }\n      /*necessary for automatic scale*/\n\n\n      if (yax) {\n        maxValue = parseFloat(config.yAxis.end);\n        minValue = parseFloat(config.yAxis.start);\n      }\n      /*unit calculation (bar_height = value*unit)*/\n\n\n      var relativeValues = this._getRelativeValue(minValue, maxValue);\n\n      relValue = relativeValues[0];\n      valueFactor = relativeValues[1];\n      var unit = relValue ? total_height / relValue : 10;\n      /*a real bar width */\n\n      var barWidth = parseInt(config.barWidth, 10);\n      if (barWidth + 4 > cellWidth) barWidth = cellWidth - 4;\n      /*the half of distance between bars*/\n\n      var barOffset = Math.floor((cellWidth - barWidth) / 2);\n      var inner_gradient = config.gradient ? config.gradient : false;\n      /*draws a black line if the horizontal scale isn't defined*/\n\n      if (!xax) {\n        //scaleY = y-bottomPadding;\n        this._drawLine(ctx, point0.x, point1.y + 0.5, point1.x, point1.y + 0.5, \"#edeff0\", 1); //hardcoded color!\n\n      }\n\n      for (var i = 0; i < data.length; i++) {\n        var value = parseFloat(config.value(data[i] || 0));\n        if (this._logScaleCalc) value = this._log10(value);\n        /*start point (bottom left)*/\n\n        x0 = point0.x + barOffset + i * cellWidth;\n        var negValue = origin && value < 0;\n\n        if (!sIndex) {\n          y0 = xAxisY - 1;\n          data[i].$startY = y0;\n\n          if (origin) {\n            if (negValue) y0 = xAxisY + 1;\n            data[i].$startYN = xAxisY + 1;\n          }\n        } else {\n          y0 = negValue ? data[i].$startYN : data[i].$startY;\n        }\n\n        if (!value || isNaN(value)) continue;\n        /*adjusts the first tab to the scale*/\n\n        if (!sIndex && !origin) value -= minValue;\n        value *= valueFactor;\n        var border = config.border;\n        var label = config.label(data[i]);\n        /*the max height limit*/\n\n        if (y0 < point0.y + 1) continue;\n\n        var color = this._settings.color.call(this, data[i]);\n\n        var firstSector = Math.abs(y0 - (origin ? point1.y + minValue * unit : point1.y)) < 3;\n        /*drawing bar body*/\n\n        ctx.globalAlpha = config.alpha.call(this, data[i]);\n        ctx.fillStyle = ctx.strokeStyle = config.color.call(this, data[i]);\n        ctx.beginPath();\n        var y1 = y0 - unit * value + (firstSector ? negValue ? -1 : 1 : 0);\n\n        if (Math.floor(y1) > point1.y) {\n          y1 = point1.y;\n          if (label != \"\" && y1 - y0 < getTextSize(\"<div class=\\\"webix_canvas_text\\\">\".concat(label, \"</div>\"), this.$view.className).height) label = \"\";\n        }\n\n        var points = this._setStakedBarPoints(ctx, x0 - (border ? 0.5 : 0), y0, barWidth + (border ? 0.5 : 0), y1, 0, point0.y);\n\n        ctx.fill();\n        ctx.stroke();\n        /*gradient*/\n\n        if (inner_gradient) {\n          ctx.save();\n\n          var gradParam = this._setBarGradient(ctx, x0, y0, x0 + barWidth, points[1], inner_gradient, color, \"y\");\n\n          ctx.fillStyle = gradParam.gradient;\n          ctx.beginPath();\n          points = this._setStakedBarPoints(ctx, x0 + gradParam.offset, y0, barWidth - gradParam.offset * 2, y1, border ? 1 : 0, point0.y);\n          ctx.fill();\n          ctx.restore();\n        }\n        /*drawing the gradient border of a bar*/\n\n\n        if (border) {\n          ctx.save();\n          if (typeof border == \"string\") ctx.strokeStyle = border;else this._setBorderStyles(ctx, color);\n          ctx.beginPath();\n\n          this._setStakedBarPoints(ctx, x0 - 0.5, parseInt(y0, 10) + 0.5, barWidth + 1, parseInt(y1, 10) + 0.5, 0, point0.y, firstSector);\n\n          ctx.stroke();\n          ctx.restore();\n        }\n\n        ctx.globalAlpha = 1;\n        /*sets a bar label*/\n\n        this.canvases[sIndex].renderTextAt(false, true, x0 + Math.floor(barWidth / 2), points[1] + (y0 - points[1]) / 2 - 7, label);\n        /*defines a map area for a bar*/\n\n        map.addRect(data[i].id, [x0 - point0.x, points[1] - point0.y, points[0] - point0.x, data[i][negValue ? \"$startYN\" : \"$startY\"] - point0.y], sIndex);\n        /*the start position for the next series*/\n\n        data[i][negValue ? \"$startYN\" : \"$startY\"] = points[1];\n      }\n    },\n\n    /**\n     *   sets points for bar and returns the position of the bottom right point\n     *   @param: ctx - canvas object\n     *   @param: x0 - the x position of start point\n     *   @param: y0 - the y position of start point\n     *   @param: barWidth - bar width\n     *   @param: radius - the rounding radius of the top\n     *   @param: unit - the value defines the correspondence between item value and bar height\n     *   @param: value - item value\n     *   @param: offset - the offset from expected bar edge (necessary for drawing border)\n     *   @param: minY - the minimum y position for the bars ()\n     */\n    _setStakedBarPoints: function (ctx, x0, y0, barWidth, y1, offset$$1, minY, skipBottom) {\n      /*start*/\n      ctx.moveTo(x0, y0);\n      /*maximum height limit*/\n\n      if (y1 < minY) y1 = minY;\n      ctx.lineTo(x0, y1);\n      var x3 = x0 + barWidth;\n      var y3 = y1;\n      ctx.lineTo(x3, y3);\n      /*right rounding*/\n\n      /*bottom right point*/\n\n      var x5 = x0 + barWidth;\n      ctx.lineTo(x5, y0);\n      /*line to the start point*/\n\n      if (!skipBottom) {\n        ctx.lineTo(x0, y0);\n      } //\tctx.lineTo(x0,0); //IE fix!\n\n\n      return [x5, y3];\n    }\n  };\n\n  var StackedBarHChart = {\n    /**\n    \t*   renders a bar chart\n    \t*   @param: ctx - canvas object\n    \t*   @param: data - object those need to be displayed\n    \t*   @param: x - the width of the container\n    \t*   @param: y - the height of the container\n    \t*   @param: sIndex - index of drawing chart\n    \t*   @param: map - map object\n    \t*/\n    $render_stackedBarH: function (ctx, data, point0, point1, sIndex, map) {\n      var maxValue, minValue;\n      /*necessary if maxValue - minValue < 0*/\n\n      var valueFactor;\n      /*maxValue - minValue*/\n\n      var relValue;\n      var total_width = point1.x - point0.x;\n      var yax = !!this._settings.yAxis;\n\n      var limits = this._getStackedLimits(data);\n\n      maxValue = limits.max;\n      minValue = limits.min;\n      /*an available width for one bar*/\n\n      var cellWidth = Math.floor((point1.y - point0.y) / data.length);\n      /*draws x and y scales*/\n\n      if (!sIndex) this._drawHScales(ctx, data, point0, point1, minValue, maxValue, cellWidth);\n      /*necessary for automatic scale*/\n\n      if (yax) {\n        maxValue = parseFloat(this._settings.xAxis.end);\n        minValue = parseFloat(this._settings.xAxis.start);\n      }\n      /*unit calculation (bar_height = value*unit)*/\n\n\n      var relativeValues = this._getRelativeValue(minValue, maxValue);\n\n      relValue = relativeValues[0];\n      valueFactor = relativeValues[1];\n      var unit = relValue ? total_width / relValue : 10;\n      var startValue = 0;\n\n      if (!yax) {\n        /*defines start value for better representation of small values*/\n        startValue = 10;\n        unit = relValue ? (total_width - startValue) / relValue : 10;\n      }\n      /*a real bar width */\n\n\n      var barWidth = parseInt(this._settings.barWidth, 10);\n      if (barWidth + 4 > cellWidth) barWidth = cellWidth - 4;\n      /*the half of distance between bars*/\n\n      var barOffset = (cellWidth - barWidth) / 2;\n      /*the radius of rounding in the top part of each bar*/\n\n      var radius = 0;\n      var inner_gradient = false;\n      var gradient = this._settings.gradient;\n\n      if (gradient) {\n        inner_gradient = true;\n      }\n      /*draws a black line if the horizontal scale isn't defined*/\n\n\n      if (!yax) {\n        this._drawLine(ctx, point0.x - 0.5, point0.y, point0.x - 0.5, point1.y, \"#edeff0\", 1); //hardcoded color!\n\n      }\n\n      var seriesNumber = 0;\n      var seriesIndex = 0;\n\n      for (i = 0; i < this._series.length; i++) {\n        if (i == sIndex) {\n          seriesIndex = seriesNumber;\n        }\n\n        if (this._series[i].type == \"stackedBarH\") seriesNumber++;\n      }\n\n      for (var i = 0; i < data.length; i++) {\n        if (!seriesIndex) data[i].$startX = point0.x;\n        var value = Math.abs(parseFloat(this._settings.value(data[i] || 0)));\n        if (value > maxValue) value = maxValue;\n        value -= minValue;\n        value *= valueFactor;\n        /*start point (bottom left)*/\n\n        var x0 = point0.x;\n        var y0 = point0.y + barOffset + i * cellWidth;\n        if (!seriesIndex) data[i].$startX = x0;else x0 = data[i].$startX;\n        if (!value || isNaN(value)) continue;\n        /*takes start value into consideration*/\n\n        if (!yax) value += startValue / unit;\n\n        var color = this._settings.color.call(this, data[i]);\n        /*drawing bar body*/\n\n\n        ctx.globalAlpha = this._settings.alpha.call(this, data[i]);\n        ctx.fillStyle = this._settings.color.call(this, data[i]);\n        ctx.beginPath();\n\n        var points = this._setBarHPoints(ctx, x0, y0, barWidth, radius, unit, value, 0);\n\n        if (gradient && !inner_gradient) ctx.lineTo(point0.x + total_width, y0 + (this._settings.border ? 1 : 0)); //fix gradient sphreading\n\n        ctx.fill();\n\n        if (inner_gradient) {\n          var gradParam = this._setBarGradient(ctx, x0, y0 + barWidth, x0, y0, inner_gradient, color, \"x\");\n\n          ctx.fillStyle = gradParam.gradient;\n          ctx.beginPath();\n          points = this._setBarHPoints(ctx, x0, y0, barWidth, radius, unit, value, 0);\n          ctx.fill();\n        }\n        /*drawing the gradient border of a bar*/\n\n\n        if (this._settings.border) {\n          this._drawBarHBorder(ctx, x0, y0, barWidth, minValue, radius, unit, value, color);\n        }\n\n        ctx.globalAlpha = 1;\n        /*sets a bar label*/\n\n        this.canvases[sIndex].renderTextAt(\"middle\", true, data[i].$startX + (points[0] - data[i].$startX) / 2 - 1, y0 + (points[1] - y0) / 2, this._settings.label(data[i]));\n        /*defines a map area for a bar*/\n\n        map.addRect(data[i].id, [data[i].$startX - point0.x, y0 - point0.y, points[0] - point0.x, points[1] - point0.y], sIndex);\n        /*the start position for the next series*/\n\n        data[i].$startX = points[0];\n      }\n    }\n  };\n\n  var Spline$1 = {\n    /**\n    *   renders a spline chart\n    *   @param: ctx - canvas object\n    *   @param: data - object those need to be displayed\n    *   @param: width - the width of the container\n    *   @param: height - the height of the container\n    *   @param: sIndex - index of drawing chart\n    */\n    $render_spline: function (ctx, data, point0, point1, sIndex, map) {\n      var config, i, items, j, params, sparam, x, x0, x1, x2, y, y1, y2;\n      params = this._calculateLineParams(ctx, data, point0, point1, sIndex);\n      config = this._settings;\n      this._mapStart = point0;\n      /*array of all points*/\n\n      items = [];\n      /*drawing all items*/\n\n      if (data.length) {\n        /*getting all points*/\n        x0 = config.offset ? point0.x + params.cellWidth * 0.5 : point0.x;\n\n        for (i = 0; i < data.length; i++) {\n          y = this._getPointY(data[i], point0, point1, params);\n\n          if (y || y == \"0\") {\n            x = !i ? x0 : params.cellWidth * i - 0.5 + x0;\n            items.push({\n              x: x,\n              y: y,\n              v: this._settings.value(data[i]),\n              index: i\n            });\n          }\n        }\n\n        sparam = this._getSplineParameters(items);\n\n        for (i = 0; i < items.length; i++) {\n          x1 = items[i].x;\n          y1 = items[i].y;\n\n          if (i < items.length - 1) {\n            x2 = items[i + 1].x;\n            y2 = items[i + 1].y;\n\n            for (j = x1; j < x2; j++) {\n              var sY1 = this._getSplineYPoint(j, x1, i, sparam.a, sparam.b, sparam.c, sparam.d);\n\n              if (sY1 < point0.y) sY1 = point0.y;\n              if (sY1 > point1.y) sY1 = point1.y;\n\n              var sY2 = this._getSplineYPoint(j + 1, x1, i, sparam.a, sparam.b, sparam.c, sparam.d);\n\n              if (sY2 < point0.y) sY2 = point0.y;\n              if (sY2 > point1.y) sY2 = point1.y;\n\n              this._drawLine(ctx, j, sY1, j + 1, sY2, config.line.color(data[i]), config.line.width);\n            }\n\n            this._drawLine(ctx, x2 - 1, this._getSplineYPoint(j, x1, i, sparam.a, sparam.b, sparam.c, sparam.d), x2, y2, config.line.color(data[i]), config.line.width);\n          }\n\n          this._drawItem(ctx, x1, y1, data[items[i].index], config.label(data[items[i].index]), sIndex, map);\n        }\n      }\n    },\n\n    /*gets spline parameter*/\n    _getSplineParameters: function (points) {\n      var a,\n          b,\n          c,\n          d,\n          i,\n          s,\n          u,\n          v,\n          h = [],\n          m = [],\n          n = points.length;\n\n      for (i = 0; i < n - 1; i++) {\n        h[i] = points[i + 1].x - points[i].x;\n        m[i] = (points[i + 1].y - points[i].y) / h[i];\n      }\n\n      u = [];\n      v = [];\n      u[0] = 0;\n      u[1] = 2 * (h[0] + h[1]);\n      v[0] = 0;\n      v[1] = 6 * (m[1] - m[0]);\n\n      for (i = 2; i < n - 1; i++) {\n        u[i] = 2 * (h[i - 1] + h[i]) - h[i - 1] * h[i - 1] / u[i - 1];\n        v[i] = 6 * (m[i] - m[i - 1]) - h[i - 1] * v[i - 1] / u[i - 1];\n      }\n\n      s = [];\n      s[n - 1] = s[0] = 0;\n\n      for (i = n - 2; i >= 1; i--) {\n        s[i] = (v[i] - h[i] * s[i + 1]) / u[i];\n      }\n\n      a = [];\n      b = [];\n      c = [];\n      d = [];\n\n      for (i = 0; i < n - 1; i++) {\n        a[i] = points[i].y;\n        b[i] = -h[i] * s[i + 1] / 6 - h[i] * s[i] / 3 + (points[i + 1].y - points[i].y) / h[i];\n        c[i] = s[i] / 2;\n        d[i] = (s[i + 1] - s[i]) / (6 * h[i]);\n      }\n\n      for (i = 0; i < points.length - 1; i++) {\n        if (points[i].v === 0 && points[i + 1].v === 0) {\n          a[i] = points[i].y;\n          d[i] = c[i] = b[i] = 0;\n        }\n      }\n\n      return {\n        a: a,\n        b: b,\n        c: c,\n        d: d\n      };\n    },\n\n    /*returns the y position of the spline point */\n    _getSplineYPoint: function (x, xi, i, a, b, c, d) {\n      return a[i] + (x - xi) * (b[i] + (x - xi) * (c[i] + (x - xi) * d[i]));\n    }\n  };\n\n  var AreaChart = {\n    /**\n    *   renders an area chart\n    *   @param: ctx - canvas object\n    *   @param: data - object those need to be displayed\n    *   @param: width - the width of the container\n    *   @param: height - the height of the container\n    *   @param: sIndex - index of drawing chart\n    */\n    $render_area: function (ctx, data, point0, point1, sIndex, map) {\n      var align, config, i, mapRect, obj, params, path, res1, res2, x0, x1, y1, x2, y2, y0;\n      params = this._calculateLineParams(ctx, data, point0, point1, sIndex);\n      config = this._settings; //the size of map area\n\n      mapRect = config.eventRadius || Math.floor(params.cellWidth / 2);\n\n      if (data.length) {\n        // area points\n        path = []; //the x position of the first item\n\n        x0 = !config.offset ? point0.x : point0.x + params.cellWidth * 0.5;\n        /*\n         iterates over all data items:\n         calculates [x,y] for area path, adds rect to chart map and renders labels\n         */\n\n        for (i = 0; i < data.length; i++) {\n          obj = data[i];\n          res2 = this._getPointY(obj, point0, point1, params);\n          x2 = x0 + params.cellWidth * i;\n\n          if (res2) {\n            y2 = _typeof(res2) == \"object\" ? res2.y0 : res2;\n\n            if (i && this._settings.fixOverflow) {\n              res1 = this._getPointY(data[i - 1], point0, point1, params);\n\n              if (res1.out && res1.out == res2.out) {\n                continue;\n              }\n\n              x1 = params.cellWidth * (i - 1) - 0.5 + x0;\n              y1 = _typeof(res1) == \"object\" ? res1.y0 : res1;\n\n              if (res1.out) {\n                y0 = res1.out == \"min\" ? point1.y : point0.y;\n                path.push([this._calcOverflowX(x1, x2, y1, y2, y0), y0]);\n              }\n\n              if (res2.out) {\n                y0 = res2.out == \"min\" ? point1.y : point0.y;\n                path.push([this._calcOverflowX(x1, x2, y1, y2, y0), y0]);\n                if (i == data.length - 1 && y0 == point0.y) path.push([x2, point0.y]);\n              }\n            }\n\n            if (!res2.out) {\n              path.push([x2, y2]); //map\n\n              map.addRect(obj.id, [x2 - mapRect - point0.x, y2 - mapRect - point0.y, x2 + mapRect - point0.x, y2 + mapRect - point0.y], sIndex);\n            } //labels\n\n\n            if (!config.yAxis) {\n              align = !config.offset && i == data.length - 1 ? \"left\" : \"center\";\n              this.canvases[sIndex].renderTextAt(false, align, x2, y2 - config.labelOffset, config.label(obj));\n            }\n          }\n        }\n\n        if (path.length) {\n          path.push([x2, point1.y]);\n          path.push([path[0][0], point1.y]);\n        } //filling area\n\n\n        ctx.globalAlpha = this._settings.alpha.call(this, data[0]);\n        ctx.fillStyle = this._settings.color.call(this, data[0]);\n        ctx.beginPath();\n\n        this._path(ctx, path);\n\n        ctx.fill();\n        ctx.lineWidth = 1;\n        ctx.globalAlpha = 1; //border\n\n        if (config.border) {\n          ctx.lineWidth = config.borderWidth || 1;\n          if (config.borderColor) ctx.strokeStyle = config.borderColor.call(this, data[0]);else this._setBorderStyles(ctx, ctx.fillStyle);\n          ctx.beginPath();\n\n          this._path(ctx, path);\n\n          ctx.stroke();\n        }\n      }\n    },\n\n    /**\n    *   renders an area chart\n    *   @param: ctx - canvas object\n    *   @param: data - object those need to be displayed\n    *   @param: width - the width of the container\n    *   @param: height - the height of the container\n    *   @param: sIndex - index of drawing chart\n    */\n    $render_stackedArea: function (ctx, data, point0, point1, sIndex, map) {\n      var a0, a1, align, config, i, j, lastItem, mapRect, obj, params, path, x, y, yPos;\n      params = this._calculateLineParams(ctx, data, point0, point1, sIndex);\n      config = this._settings;\n      /*the value that defines the map area position*/\n\n      mapRect = config.eventRadius || Math.floor(params.cellWidth / 2);\n      /*drawing all items*/\n\n      if (data.length) {\n        // area points\n        path = []; // y item positions\n\n        yPos = []; //the x position of the first item\n\n        x = !config.offset ? point0.x : point0.x + params.cellWidth * 0.5;\n\n        var setOffset = function (i, y) {\n          return sIndex ? data[i].$startY ? y - point1.y + data[i].$startY : 0 : y;\n        };\n\n        var solveEquation = function (x, p0, p1) {\n          var k = (p1.y - p0.y) / (p1.x - p0.x);\n          return k * x + p0.y - k * p0.x;\n        };\n        /*\n         iterates over all data items:\n         calculates [x,y] for area path, adds rect to chart map and renders labels\n         */\n\n\n        for (i = 0; i < data.length; i++) {\n          obj = data[i];\n\n          if (!i) {\n            y = setOffset(i, point1.y);\n            path.push([x, y]);\n          } else {\n            x += params.cellWidth;\n          }\n\n          y = setOffset(i, this._getPointY(obj, point0, point1, params));\n          yPos.push(isNaN(y) && !i ? data[i].$startY || point1.y : y);\n\n          if (y) {\n            path.push([x, y]); //map\n\n            map.addRect(obj.id, [x - mapRect - point0.x, y - mapRect - point0.y, x + mapRect - point0.x, y + mapRect - point0.y], sIndex); //labels\n\n            if (!config.yAxis) {\n              align = !config.offset && lastItem ? \"left\" : \"center\";\n              this.canvases[sIndex].renderTextAt(false, align, x, y - config.labelOffset, config.label(obj));\n            }\n          }\n        } // bottom right point\n\n\n        path.push([x, setOffset(i - 1, point1.y)]); // lower border from the end to start\n\n        if (sIndex) {\n          for (i = data.length - 2; i > 0; i--) {\n            x -= params.cellWidth;\n            y = data[i].$startY;\n            if (y) path.push([x, y]);\n          }\n        } // go to start point\n\n\n        path.push([path[0][0], path[0][1]]); // filling path\n\n        ctx.globalAlpha = this._settings.alpha.call(this, data[0]);\n        ctx.fillStyle = this._settings.color.call(this, data[0]);\n        ctx.beginPath();\n\n        this._path(ctx, path);\n\n        ctx.fill(); // set y positions of the next series\n\n        for (i = 0; i < data.length; i++) {\n          y = yPos[i];\n\n          if (!y) {\n            if (i == data.length - 1) {\n              y = data[i].$startY;\n            }\n\n            for (j = i + 1; j < data.length; j++) {\n              if (yPos[j]) {\n                a0 = {\n                  x: point0.x,\n                  y: yPos[0]\n                };\n                a1 = {\n                  x: point0.x + params.cellWidth * j,\n                  y: yPos[j]\n                };\n                y = solveEquation(point0.x + params.cellWidth * i, a0, a1);\n                break;\n              }\n            }\n          }\n\n          data[i].$startY = y;\n        }\n      }\n    }\n  };\n\n  var Radar = {\n    $render_radar: function (ctx, data, x, y, sIndex, map) {\n      this._renderRadarChart(ctx, data, x, y, sIndex, map);\n    },\n\n    /**\n    *   renders a pie chart\n    *   @param: ctx - canvas object\n    *   @param: data - object those need to be displayed\n    *   @param: x - the width of the container\n    *   @param: y - the height of the container\n    *   @param: ky - value from 0 to 1 that defines an angle of inclination (0<ky<1 - 3D chart)\n    */\n    _renderRadarChart: function (ctx, data, point0, point1, sIndex, map) {\n      if (!data.length) return;\n\n      var coord = this._getPieParameters(point0, point1);\n      /*scale radius*/\n\n\n      var radius = this._settings.radius ? this._settings.radius : coord.radius;\n      /*scale center*/\n\n      var x0 = this._settings.x ? this._settings.x : coord.x;\n      var y0 = this._settings.y ? this._settings.y : coord.y;\n      /*angles for each unit*/\n\n      var ratioUnits = [];\n\n      for (var i = 0; i < data.length; i++) {\n        ratioUnits.push(1);\n      }\n\n      var ratios = this._getRatios(ratioUnits, data.length);\n\n      this._mapStart = point0;\n      if (!sIndex) this._drawRadarAxises(ratios, x0, y0, radius, data);\n\n      this._drawRadarData(ctx, ratios, x0, y0, radius, data, sIndex, map);\n    },\n    _drawRadarData: function (ctx, ratios, x, y, radius, data, sIndex, map) {\n      var alpha0, alpha1, config, i, min, max, pos0, pos1, posArr, r0, r1, relValue, startAlpha, value, value0, value1, valueFactor, unit, unitArr;\n      config = this._settings;\n      /*unit calculation (item_radius_pos = value*unit)*/\n\n      min = config.yAxis.start;\n      max = config.yAxis.end;\n      unitArr = this._getRelativeValue(min, max);\n      relValue = unitArr[0];\n      unit = relValue ? radius / relValue : radius / 2;\n      valueFactor = unitArr[1];\n      startAlpha = -Math.PI / 2;\n      alpha0 = alpha1 = startAlpha;\n      posArr = [];\n      pos1 = 0;\n\n      for (i = 0; i < data.length; i++) {\n        if (!value1) {\n          value = config.value(data[i]);\n          if (this._logScaleCalc) value = this._log10(value);\n          /*a relative value*/\n\n          value0 = (parseFloat(value || 0) - min) * valueFactor;\n        } else value0 = value1;\n\n        r0 = Math.floor(unit * value0);\n        value = config.value(i != data.length - 1 ? data[i + 1] : data[0]);\n        if (this._logScaleCalc) value = this._log10(value);\n        value1 = (parseFloat(value || 0) - min) * valueFactor;\n        r1 = Math.floor(unit * value1);\n        alpha0 = alpha1;\n        alpha1 = i != data.length - 1 ? startAlpha + ratios[i] - 0.0001 : startAlpha;\n        pos0 = pos1 || this._getPositionByAngle(alpha0, x, y, r0);\n        pos1 = this._getPositionByAngle(alpha1, x, y, r1);\n        /*creates map area*/\n\n        /*areaWidth  = (config.eventRadius||(parseInt(config.item.radius.call(this,data[i]),10)+config.item.borderWidth));\n         map.addRect(data[i].id,[pos0.x-areaWidth,pos0.y-areaWidth,pos0.x+areaWidth,pos0.y+areaWidth],sIndex);*/\n        //this._drawLine(ctx,pos0.x,pos0.y,pos1.x,pos1.y,config.line.color.call(this,data[i]),config.line.width)\n\n        posArr.push(pos0);\n      }\n\n      if (config.fill) this._fillRadarChart(ctx, posArr, data);\n      if (!config.disableLines && data.length > 2) this._strokeRadarChart(ctx, posArr, data);\n      if (!config.disableItems || data.length < 3) this._drawRadarItemMarkers(ctx, posArr, data, sIndex, map);\n      posArr = null;\n    },\n    _drawRadarItemMarkers: function (ctx, points, data, sIndex, map) {\n      for (var i = 0; i < points.length; i++) {\n        this._drawItem(ctx, points[i].x, points[i].y, data[i], this._settings.label.call(this, data), sIndex, map);\n      }\n    },\n    _fillRadarChart: function (ctx, points, data) {\n      var pos0, pos1;\n      ctx.globalAlpha = this._settings.alpha.call(this, {});\n      ctx.beginPath();\n\n      for (var i = 0; i < points.length; i++) {\n        ctx.fillStyle = this._settings.fill.call(this, data[i]);\n        pos0 = points[i];\n        pos1 = points[i + 1] || points[0];\n\n        if (!i) {\n          ctx.moveTo(pos0.x, pos0.y);\n        }\n\n        ctx.lineTo(pos1.x, pos1.y);\n      }\n\n      ctx.fill();\n      ctx.globalAlpha = 1;\n    },\n    _strokeRadarChart: function (ctx, points, data) {\n      var pos0, pos1;\n\n      for (var i = 0; i < points.length; i++) {\n        pos0 = points[i];\n        pos1 = points[i + 1] || points[0];\n\n        this._drawLine(ctx, pos0.x, pos0.y, pos1.x, pos1.y, this._settings.line.color.call(this, data[i]), this._settings.line.width);\n      }\n    },\n    _drawRadarAxises: function (ratios, x, y, radius, data) {\n      var configY = this._settings.yAxis;\n      var configX = this._settings.xAxis;\n      var start = configY.start;\n      var end = configY.end;\n      var step = configY.step;\n      var scaleParam = {};\n      var config = this._configYAxis;\n\n      if (typeof config.step == \"undefined\" || typeof config.start == \"undefined\" || typeof config.end == \"undefined\") {\n        var limits = this._getLimits();\n\n        scaleParam = this._calculateScale(limits.min, limits.max);\n        start = scaleParam.start;\n        end = scaleParam.end;\n        step = scaleParam.step;\n        configY.end = end;\n        configY.start = start;\n      }\n\n      var units = [];\n      var i, j, p;\n      var c = 0;\n      var stepHeight = radius * step / (end - start);\n      /*correction for small step*/\n\n      var power, corr;\n\n      if (step < 1) {\n        power = Math.min(this._log10(step), start <= 0 ? 0 : this._log10(start));\n        corr = Math.pow(10, -power);\n      }\n\n      var angles = [];\n      if (!this.canvases[\"scale\"]) this.canvases[\"scale\"] = this._createCanvas(\"radar_scale\");\n      var ctx = this.canvases[\"scale\"].getCanvas();\n\n      for (i = end; i >= start; i -= step) {\n        var value = this._logScaleCalc ? Math.pow(10, i) : i;\n        if (scaleParam.fixNum) value = parseFloat(i).toFixed(scaleParam.fixNum);\n        units.push(Math.floor(c * stepHeight) + 0.5);\n\n        if (corr && !this._logScaleCalc) {\n          value = Math.round(value * corr) / corr;\n          i = value;\n        }\n\n        var unitY = y - radius + units[units.length - 1];\n        this.canvases[\"scale\"].renderTextAt(\"middle\", \"left\", x, unitY, configY.template(value.toString()), \"webix_axis_item_y webix_radar\");\n        var startAlpha = -Math.PI / 2;\n        /*possibly need  to moved in config*/\n\n        var alpha0 = startAlpha;\n        var alpha1;\n\n        for (j = 0; j < ratios.length; j++) {\n          if (!c) angles.push(alpha0);\n          alpha1 = startAlpha + ratios[j] - 0.0001;\n\n          this._drawScaleSector(ctx, ratios.length > 2 ? config.lineShape || \"line\" : \"arc\", x, y, radius - units[units.length - 1], alpha0, alpha1, i, j, data[i]);\n\n          alpha0 = alpha1;\n        }\n\n        c++;\n      }\n      /*renders radius lines and labels*/\n\n\n      for (i = 0; i < angles.length; i++) {\n        p = this._getPositionByAngle(angles[i], x, y, radius);\n\n        if (configX) {\n          if (configX.lines.call(this, data[i], i)) this._drawLine(ctx, x, y, p.x, p.y, configX.lineColor.call(this, data[i]), 1);\n\n          this._drawRadarScaleLabel(ctx, x, y, radius, angles[i], configX.template.call(this, data[i]));\n        }\n      }\n    },\n    _drawScaleSector: function (ctx, shape, x, y, radius, a1, a2, i, j) {\n      var pos1, pos2;\n      if (radius < 0) return false;\n      pos1 = this._getPositionByAngle(a1, x, y, radius);\n      pos2 = this._getPositionByAngle(a2, x, y, radius);\n      var configY = this._settings.yAxis;\n\n      if (configY.bg) {\n        ctx.beginPath();\n        ctx.moveTo(x, y);\n        if (shape == \"arc\") ctx.arc(x, y, radius, a1, a2, false);else {\n          ctx.lineTo(pos1.x, pos1.y);\n          ctx.lineTo(pos2.x, pos2.y);\n        }\n        ctx.fillStyle = configY.bg(i, j);\n        ctx.moveTo(x, y);\n        ctx.fill();\n        ctx.closePath();\n      }\n\n      if (configY.lines.call(this, i)) {\n        ctx.lineWidth = 1;\n        ctx.beginPath();\n        if (shape == \"arc\") ctx.arc(x, y, radius, a1, a2, false);else {\n          ctx.moveTo(pos1.x, pos1.y);\n          ctx.lineTo(pos2.x, pos2.y);\n        }\n        ctx.strokeStyle = configY.lineColor.call(this, i);\n        ctx.stroke();\n      }\n    },\n    _drawRadarScaleLabel: function (ctx, x, y, r, a, text) {\n      if (!text) return false;\n      var t = this.canvases[\"scale\"].renderText(0, 0, text, \"webix_axis_radar_title\", 1);\n      var width = t.scrollWidth;\n      var height = t.offsetHeight;\n      var delta = 0.001;\n\n      var pos = this._getPositionByAngle(a, x, y, r + 5);\n\n      var corr_x = 0,\n          corr_y = 0;\n\n      if (a < 0 || a > Math.PI) {\n        corr_y = -height;\n      }\n\n      if (a > Math.PI / 2) {\n        corr_x = -width;\n      }\n\n      if (Math.abs(a + Math.PI / 2) < delta || Math.abs(a - Math.PI / 2) < delta) {\n        corr_x = -width / 2;\n      } else if (Math.abs(a) < delta || Math.abs(a - Math.PI) < delta) {\n        corr_y = -height / 2;\n      }\n\n      t.style.top = pos.y + corr_y + \"px\";\n      t.style.left = pos.x + corr_x + \"px\";\n      t.style.width = width + \"px\";\n      t.style.whiteSpace = \"nowrap\";\n    }\n  };\n\n  var Scatter = {\n    /**\n    *   renders a graphic\n    *   @param: ctx - canvas object\n    *   @param: data - object those need to be displayed\n    *   @param: point0  - top left point of a chart\n    *   @param: point1  - right bottom point of a chart\n    *   @param: sIndex - index of drawing chart\n       *   @param: map - map object\n    */\n    $render_scatter: function (ctx, data, point0, point1, sIndex, map) {\n      if (!this._settings.xValue) return;\n      var config = this._settings;\n      var lines = !(config.disableLines || typeof config.disableLines == \"undefined\");\n      /*max in min values*/\n\n      var limitsY = this._getLimits();\n\n      var limitsX = this._getLimits(\"h\", \"xValue\");\n      /*render scale*/\n\n\n      if (!sIndex) {\n        if (!this.canvases[\"x\"]) this.canvases[\"x\"] = this._createCanvas(\"axis_x\");\n        if (!this.canvases[\"y\"]) this.canvases[\"y\"] = this._createCanvas(\"axis_y\");\n\n        this._drawYAxis(this.canvases[\"y\"].getCanvas(), data, point0, point1, limitsY.min, limitsY.max);\n\n        this._drawHXAxis(this.canvases[\"x\"].getCanvas(), data, point0, point1, limitsX.min, limitsX.max);\n      }\n\n      limitsY = {\n        min: config.yAxis.start,\n        max: config.yAxis.end\n      };\n      limitsX = {\n        min: config.xAxis.start,\n        max: config.xAxis.end\n      };\n\n      var params = this._getScatterParams(ctx, data, point0, point1, limitsX, limitsY);\n\n      this._mapStart = point0;\n      var items = [];\n\n      for (var i = 0; i < data.length; i++) {\n        var x = this._calculateScatterItemPosition(params, point1, point0, limitsX, data[i], \"X\");\n\n        var y = this._calculateScatterItemPosition(params, point0, point1, limitsY, data[i], \"Y\");\n\n        if (isNaN(x) || isNaN(y)) continue;\n        items.push({\n          x: x,\n          y: y,\n          index: i\n        });\n      }\n\n      var x1, y1, x2, y2, di;\n\n      for (var _i = 0; _i < items.length; _i++) {\n        di = items[_i].index;\n\n        if (lines) {\n          var color = config.line.color.call(this, data[di]); //line start position\n\n          x1 = items[_i].x;\n          y1 = items[_i].y;\n\n          if (_i == items.length - 1) {\n            //connecting last and first items\n            if (config.shape && items.length > 2) {\n              this._drawLine(ctx, x2, y2, items[0].x, items[0].y, color, config.line.width); //render shape on top of the line\n\n\n              if (!config.disableItems) this._drawScatterItem(ctx, map, items[0], data[0], sIndex);\n              if (config.fill) this._fillScatterChart(ctx, items, data);\n            }\n          } else {\n            // line between two points\n            x2 = items[_i + 1].x;\n            y2 = items[_i + 1].y;\n\n            this._drawLine(ctx, x1, y1, x2, y2, color, config.line.width);\n          }\n        } //item\n\n\n        if (!config.disableItems && items[_i]) {\n          this._drawScatterItem(ctx, map, items[_i], data[di], sIndex);\n        }\n      }\n    },\n    _fillScatterChart: function (ctx, points, data) {\n      var pos0, pos1;\n      ctx.globalAlpha = this._settings.alpha.call(this, {});\n      ctx.beginPath();\n\n      for (var i = 0; i < points.length; i++) {\n        ctx.fillStyle = this._settings.fill.call(this, data[i]);\n        pos0 = points[i];\n        pos1 = points[i + 1] || points[0];\n\n        if (!i) {\n          ctx.moveTo(pos0.x, pos0.y);\n        }\n\n        ctx.lineTo(pos1.x, pos1.y);\n      }\n\n      ctx.fill();\n      ctx.globalAlpha = 1;\n    },\n    _getScatterParams: function (ctx, data, point0, point1, limitsX, limitsY) {\n      var params = {};\n      /*available space*/\n\n      params.totalHeight = point1.y - point0.y;\n      /*available width*/\n\n      params.totalWidth = point1.x - point0.x;\n      /*unit calculation (y_position = value*unit)*/\n\n      this._calcScatterUnit(params, limitsX.min, limitsX.max, params.totalWidth, \"X\");\n\n      this._calcScatterUnit(params, limitsY.min, limitsY.max, params.totalHeight, \"Y\");\n\n      return params;\n    },\n    _drawScatterItem: function (ctx, map, item, obj, sIndex) {\n      this._drawItem(ctx, item.x, item.y, obj, this._settings.label.call(this, obj), sIndex, map);\n    },\n    _calculateScatterItemPosition: function (params, point0, point1, limits, obj, axis) {\n      /*the real value of an object*/\n      var value = this._settings[axis == \"X\" ? \"xValue\" : \"value\"].call(this, obj);\n      /*a relative value*/\n\n\n      var valueFactor = params[\"valueFactor\" + axis];\n      var v = (parseFloat(value || 0) - limits.min) * valueFactor;\n      /*a vertical coordinate*/\n\n      var unit = params[\"unit\" + axis];\n      var pos = point1[axis.toLowerCase()] - (axis == \"X\" ? -1 : 1) * Math.floor(unit * v);\n      /*the limit of the minimum value is  the minimum visible value*/\n\n      if (v < 0) pos = point1[axis.toLowerCase()];\n      /*the limit of the maximum value*/\n\n      if (value > limits.max) pos = point0[axis.toLowerCase()];\n      /*the limit of the minimum value*/\n\n      if (value < limits.min) pos = point1[axis.toLowerCase()];\n      return pos;\n    },\n    _calcScatterUnit: function (p, min, max, size, axis) {\n      var relativeValues = this._getRelativeValue(min, max);\n\n      axis = axis || \"\";\n      p[\"relValue\" + axis] = relativeValues[0];\n      p[\"valueFactor\" + axis] = relativeValues[1];\n      p[\"unit\" + axis] = p[\"relValue\" + axis] ? size / p[\"relValue\" + axis] : 10;\n    }\n  };\n\n  var Presets = {\n    presets: {\n      \"simple\": {\n        item: {\n          borderColor: \"#ffffff\",\n          color: \"#2b7100\",\n          shadow: false,\n          borderWidth: 2\n        },\n        line: {\n          color: \"#8ecf03\",\n          width: 2\n        }\n      },\n      \"plot\": {\n        color: \"#8664C6\",\n        item: {\n          borderColor: \"#8664C6\",\n          borderWidth: 1,\n          color: \"#ffffff\",\n          type: \"r\",\n          shadow: false\n        },\n        line: {\n          color: \"#8664C6\",\n          width: 2\n        }\n      },\n      \"diamond\": {\n        color: \"#FF5C4C\",\n        item: {\n          borderColor: \"#FF5C4C\",\n          color: \"#FF5C4C\",\n          type: \"d\",\n          radius: 3,\n          shadow: true\n        },\n        line: {\n          color: \"#FF5C4C\",\n          width: 2\n        }\n      },\n      \"point\": {\n        color: \"#1ca1c1\",\n        disableLines: true,\n        fill: false,\n        disableItems: false,\n        item: {\n          color: \"#1ca1c1\",\n          borderColor: \"#1ca1c1\",\n          radius: 2,\n          borderWidth: 2,\n          type: \"r\"\n        },\n        alpha: 1\n      },\n      \"line\": {\n        line: {\n          color: \"#1ca1c1\",\n          width: 2\n        },\n        item: {\n          color: \"#ffffff\",\n          borderColor: \"#1ca1c1\",\n          radius: 2,\n          borderWidth: 2,\n          type: \"d\"\n        },\n        fill: false,\n        disableItems: false,\n        disableLines: false,\n        alpha: 1\n      },\n      \"area\": {\n        fill: \"#1ca1c1\",\n        line: {\n          color: \"#1ca1c1\",\n          width: 1\n        },\n        disableItems: true,\n        alpha: 0.2,\n        disableLines: false\n      },\n      \"round\": {\n        item: {\n          radius: 3,\n          borderColor: \"#1ca1c1\",\n          borderWidth: 1,\n          color: \"#1ca1c1\",\n          type: \"r\",\n          shadow: false,\n          alpha: 0.6\n        }\n      },\n      \"square\": {\n        item: {\n          radius: 3,\n          borderColor: \"#00a497\",\n          borderWidth: 2,\n          color: \"#ffffff\",\n          type: \"s\",\n          shadow: false,\n          alpha: 1\n        },\n        line: {\n          color: \"#00a497\"\n        }\n      },\n\n      /*bar*/\n      \"column\": {\n        color: \"RAINBOW\",\n        gradient: false,\n        barWidth: 45,\n        radius: 0,\n        alpha: 1,\n        border: true\n      },\n      \"stick\": {\n        barWidth: 5,\n        gradient: false,\n        color: \"#1ca1c1\",\n        radius: 2,\n        alpha: 1,\n        border: false\n      },\n      \"alpha\": {\n        color: \"#b9a8f9\",\n        barWidth: 70,\n        gradient: \"falling\",\n        radius: 0,\n        alpha: 0.5,\n        border: true\n      }\n    }\n  };\n\n  var SplineArea$1 = {\n    /**\n     *   renders an splineArea chart\n     *   @param: ctx - canvas object\n     *   @param: data - object those need to be displayed\n     *   @param: width - the width of the container\n     *   @param: height - the height of the container\n     *   @param: sIndex - index of drawing chart\n     */\n    $render_splineArea: function (ctx, data, point0, point1, sIndex, map) {\n      var color,\n          i,\n          items,\n          j,\n          mapRect,\n          params,\n          sParams,\n          x,\n          x0,\n          x1,\n          x2,\n          y,\n          y2,\n          config = this._settings,\n          path = [];\n      params = this._calculateLineParams(ctx, data, point0, point1, sIndex);\n      mapRect = config.eventRadius || Math.floor(params.cellWidth / 2);\n      /*array of all points*/\n\n      items = [];\n\n      if (data.length) {\n        /*getting all points*/\n        x0 = point0.x;\n\n        for (i = 0; i < data.length; i++) {\n          y = this._getPointY(data[i], point0, point1, params);\n\n          if (y || y == \"0\") {\n            x = !i ? x0 : params.cellWidth * i - 0.5 + x0;\n            items.push({\n              x: x,\n              y: y,\n              index: i\n            });\n            map.addRect(data[i].id, [x - mapRect - point0.x, y - mapRect - point0.y, x + mapRect - point0.x, y + mapRect - point0.y], sIndex);\n          }\n        }\n\n        sParams = this._getSplineParameters(items);\n\n        for (i = 0; i < items.length; i++) {\n          x1 = items[i].x;\n\n          if (i < items.length - 1) {\n            x2 = items[i + 1].x;\n            y2 = items[i + 1].y;\n\n            for (j = x1; j < x2; j++) {\n              var sY1 = this._getSplineYPoint(j, x1, i, sParams.a, sParams.b, sParams.c, sParams.d);\n\n              if (sY1 < point0.y) sY1 = point0.y;\n              if (sY1 > point1.y) sY1 = point1.y;\n\n              var sY2 = this._getSplineYPoint(j + 1, x1, i, sParams.a, sParams.b, sParams.c, sParams.d);\n\n              if (sY2 < point0.y) sY2 = point0.y;\n              if (sY2 > point1.y) sY2 = point1.y;\n              path.push([j, sY1]);\n              path.push([j + 1, sY2]);\n            }\n\n            path.push([x2, y2]);\n          }\n        }\n\n        color = this._settings.color.call(this, data[0]);\n\n        if (path.length) {\n          path.push([x2, point1.y]);\n          path.push([path[0][0], point1.y]);\n        } //filling area\n\n\n        ctx.globalAlpha = this._settings.alpha.call(this, data[0]);\n        ctx.fillStyle = color;\n        ctx.beginPath();\n\n        this._path(ctx, path);\n\n        ctx.fill();\n        ctx.lineWidth = 1;\n        ctx.globalAlpha = 1; // draw line\n\n        if (config.border) {\n          ctx.lineWidth = config.borderWidth || 1;\n          if (config.borderColor) ctx.strokeStyle = config.borderColor.call(this, data[0]);else this._setBorderStyles(ctx, color);\n          ctx.beginPath();\n          path.splice(path.length - 3);\n\n          this._path(ctx, path);\n\n          ctx.stroke();\n        }\n      }\n    }\n  };\n\n  var animateDuration = 400,\n      cellWidth = 30;\n  var DynamicChart = {\n    dynamic_setter: function (value) {\n      if (value) init(this);\n      return value;\n    }\n  };\n  /**\n   * Sets event handlers and properties for a stock chart\n   * @param {object} chart - chart view\n   */\n\n  function init(chart) {\n    if (chart._stockRenderHandler) return;\n    var config = chart._settings;\n    if (!config.cellWidth) config.cellWidth = cellWidth;\n    if (!config.animateDuration) config.animateDuration = animateDuration;\n    config.offset = false;\n    chart._stockRenderHandler = chart.attachEvent(\"onBeforeRender\", function (data, type) {\n      var bounds = chart._getChartBounds(chart._content_width, chart._content_height);\n\n      resizeStockCanvases(chart);\n      filterStockData(data, bounds.start, bounds.end, config.cellWidth);\n      if (type == \"add\") startAnimation(chart);\n    });\n    chart._stockXAxisHandler = chart.attachEvent(\"onBeforeXAxis\", function (ctx, data, point0, point1, cellWidth, y) {\n      drawXAxis(chart, ctx, data, point0, point1, cellWidth, y);\n      return false;\n    });\n  }\n  /**\n   * Starts stock animation\n   * @param {object} chart - chart view\n   */\n\n\n  function startAnimation(chart) {\n    var cellWidth = chart._settings.cellWidth;\n\n    if (chart._stockAnimationOffset != cellWidth) {\n      chart._stockAnimationOffset = cellWidth;\n      chart.render();\n    }\n\n    chart._stockAnimationOffset = 0;\n    chart._stockAnimationStart = null;\n    if (window.requestAnimationFrame && !document.hidden) window.requestAnimationFrame(function (t) {\n      animate$2(chart, t);\n    });\n    if (!chart._stockAnimateHandler) chart._stockAnimateHandler = chart.attachEvent(\"onAfterRender\", function (data) {\n      applyStockOffset(chart, data);\n    });\n  }\n  /**\n   * Animates a chart\n   * @param {object} chart - chart view\n   * @param {number} timestamp - timestamp\n   */\n\n\n  function animate$2(chart, timestamp) {\n    var progress,\n        duration = chart._settings.animateDuration,\n        cellWidth = chart._settings.cellWidth;\n\n    if (cellWidth && chart.count() > 1) {\n      if (!chart._stockAnimationStart) chart._stockAnimationStart = timestamp;\n      progress = timestamp - chart._stockAnimationStart;\n      chart._stockAnimationOffset = Math.min(Math.max(progress / duration * cellWidth, 1), cellWidth);\n      chart.render();\n      if (progress < duration) window.requestAnimationFrame(function (t) {\n        animate$2(chart, t);\n      });\n    }\n  }\n  /**\n   * Applies animation offset to \"series\" and \"x-axis\" canvases\n   * @param {object} chart - chart view\n   * @param {object} data - data array\n   */\n\n\n  function applyStockOffset(chart, data) {\n    var count = chart.count(),\n        bounds = chart._getChartBounds(chart._content_width, chart._content_height),\n        cellWidth = chart._settings.cellWidth,\n        offset$$1 = chart._stockAnimationOffset || 0,\n        isScroll = data.length < count || (data.length - 1) * cellWidth > bounds.end.x - bounds.start.x;\n\n    function setCanvasOffset(canvas, x0, x1, skipRight) {\n      var ctx = canvas.getCanvas(),\n          elem = canvas._canvas,\n          labels = canvas._canvas_labels,\n          series = canvas._canvas_series; // if we need to display less values than they are\n\n      if (offset$$1 && (data.length < count || (data.length - 1) * cellWidth > x1 - x0)) {\n        // move canvas to the left\n        elem.style.left = -offset$$1 + \"px\";\n\n        if (data.length > 1) {\n          setLabelsOffset(labels, offset$$1, series); // clear out of the scale parts\n\n          ctx.clearRect(0, 0, x0 + offset$$1, elem.offsetHeight);\n          ctx.clearRect(x1 + offset$$1, 0, elem.offsetWidth, elem.offsetHeight);\n        }\n      } // animation for the right part (added item)\n      else {\n          elem.style.left = \"0px\";\n          if (!skipRight && offset$$1 != cellWidth) ctx.clearRect(x0 + (data.length - 1) * cellWidth - cellWidth + offset$$1, 0, elem.offsetWidth, elem.offsetHeight);\n        } // show label for the last label after finishing animation\n\n\n      if (labels.length > 1 && offset$$1 && offset$$1 != cellWidth) {\n        var last = labels.length - 1;\n        if (isAxisTitle(series, labels[last])) last -= 1;\n        labels[last].style.display = \"none\";\n      }\n    }\n\n    eachStockCanvas(chart, function (name, canvas) {\n      setCanvasOffset(canvas, bounds.start.x, bounds.end.x, name == \"x\");\n    });\n    setHtmlMapSizes(chart, bounds, isScroll ? offset$$1 : 0);\n  }\n\n  function isAxisTitle(series, label) {\n    return series === \"axis_x\" && label.className.indexOf(\"webix_axis_title_x\") !== -1;\n  }\n\n  function setLabelsOffset(labels, offset$$1, series) {\n    if (labels.length) {\n      remove(labels[0]);\n\n      for (var i = 1; i < labels.length; i++) {\n        //don't move axis title\n        if (isAxisTitle(series, labels[i])) continue;\n        labels[i].style.left = labels[i].offsetLeft - offset$$1 + \"px\";\n      }\n    }\n  }\n  /**\n   * Gets visible chart data\n   * @param {object} data - an array with all chart data\n   * @param {object} point0 - a top left point of a plot\n   * @param {object} point1 - a bottom right point of a plot\n   * @param {number} cellWidth - a unit width\n   */\n\n\n  function filterStockData(data, point0, point1, cellWidth) {\n    if (cellWidth && data.length) {\n      var limit = Math.ceil((point1.x - point0.x) / cellWidth);\n      if (data.length > limit + 1) data.splice(0, data.length - limit - 1);\n    }\n  }\n  /**\n   * Calls a function for \"series\" and \"x-axis\" canvases\n   * @param {object} chart - chart view\n   * @param {function} func - function to call\n   */\n\n\n  function eachStockCanvas(chart, func) {\n    if (chart.canvases) {\n      for (var i = 0; i < chart._series.length; i++) {\n        if (chart.canvases[i]) func(i, chart.canvases[i]);\n      }\n\n      if (chart.canvases[\"x\"]) func(\"x\", chart.canvases[\"x\"]);\n    }\n  }\n  /**\n   * Set sizes for animated canvases\n   * @param {object} chart - chart view\n   */\n\n\n  function resizeStockCanvases(chart) {\n    eachStockCanvas(chart, function (name, canvas) {\n      canvas._resizeCanvas(chart._content_width + 2 * chart._settings.cellWidth, chart._content_height);\n    });\n  }\n  /**\n   * Set sizes for an html map of a chart\n   * @param {object} chart - a chart view\n   * @param {object} bounds - start and end points of a plot\n   * @param {number} offset - an offset to apply\n   */\n\n\n  function setHtmlMapSizes(chart, bounds, offset$$1) {\n    chart._contentobj._htmlmap.style.left = bounds.start.x - offset$$1 + \"px\";\n    chart._contentobj._htmlmap.style.width = bounds.end.x - bounds.start.x + offset$$1 + \"px\";\n  }\n  /**\n   * Renders lines and labels of an x-axis\n   * @param {object} chart - a chart view\n   * @param {object} ctx - a canvas Context\n   * @param {object} data - a data array\n   * @param {object} point0 - a top left point of a plot\n   * @param {object} point1 - a bottom right point of a plot\n   * @param {number} cellWidth - a width of a unit\n   * @param {number} y - the vertical position of an \"x-axis\" line\n   */\n\n\n  function drawXAxis(chart, ctx, data, point0, point1, cellWidth, y) {\n    var center,\n        i,\n        isScroll,\n        unitPos,\n        config = chart._settings,\n        x0 = point0.x - 0.5,\n        y0 = parseInt(y ? y : point1.y, 10) + 0.5,\n        x1 = point1.x;\n    if (!config.dynamic) return false;\n    isScroll = (data.length - 1) * cellWidth > x1 - x0 || data.length < chart.count();\n\n    for (i = 0; i < data.length; i++) {\n      unitPos = x0 + i * cellWidth;\n      center = isScroll ? i > 1 : !!i;\n      unitPos = Math.ceil(unitPos) - 0.5; //scale labels\n\n      chart._drawXAxisLabel(unitPos, y0, data[i], center); //draws a vertical line for the horizontal scale\n\n\n      if (i && config.xAxis.lines.call(chart, data[i])) chart._drawXAxisLine(ctx, unitPos, point1.y, point0.y, data[i]);\n    }\n\n    chart.canvases[\"x\"].renderTextAt(true, false, x0, point1.y + config.padding.bottom - 3, config.xAxis.title, \"webix_axis_title_x\", point1.x - point0.x);\n\n    chart._drawLine(ctx, x0, y0, x1 + (isScroll ? chart._stockAnimationOffset : 0), y0, config.xAxis.color, 1);\n  }\n\n  var api$10 = {\n    name: \"chart\",\n    $init: function (config) {\n      this._series = [this._settings];\n      this._legend_labels = [];\n      this._contentobj.className += \" webix_chart\";\n      this.$ready.push(this._after_init_call);\n      /*preset*/\n\n      if (config.preset) {\n        this._definePreset(config);\n      } // move series to end of configuration properties hash\n      // so it will be parsed after other settings\n\n\n      if (config.series) {\n        var series = config.series;\n        delete config.series;\n        config.series = series;\n      }\n\n      this.data.provideApi(this, true);\n    },\n    _after_init_call: function () {\n      this.data.attachEvent(\"onStoreUpdated\", bind(function () {\n        this.render.apply(this, arguments);\n      }, this));\n    },\n    defaults: {\n      ariaLabel: \"chart\",\n      color: \"default\",\n      alpha: \"1\",\n      radius: 0,\n      label: false,\n      value: \"{obj.value}\",\n      padding: {},\n      type: \"pie\",\n      lineColor: \"#ffffff\",\n      cant: 0.5,\n      barWidth: 30,\n      line: {\n        width: 2,\n        color: \"#1ca1c1\"\n      },\n      item: {\n        radius: 3,\n        borderColor: \"#1ca1c1\",\n        borderWidth: 2,\n        color: \"#ffffff\",\n        alpha: 1,\n        type: \"r\",\n        shadow: false\n      },\n      shadow: false,\n      gradient: false,\n      border: false,\n      labelOffset: 20,\n      origin: \"auto\",\n      scale: \"linear\"\n    },\n    _id:\n    /*@attr*/\n    \"webix_area_id\",\n    on_click: {\n      webix_chart_legend_item: function (e, id, obj) {\n        var series = obj.getAttribute(\n        /*@attr*/\n        \"series_id\");\n\n        if (this.callEvent(\"onLegendClick\", [e, series, obj])) {\n          if (typeof series != \"undefined\" && this._series.length > 1) {\n            var config = this._settings;\n            var values = config.legend.values;\n            var toggle = values && values[series].toggle || config.legend.toggle; // hide action\n\n            if (toggle) {\n              if (obj.className.indexOf(\"hidden\") != -1) {\n                this.showSeries(series);\n              } else {\n                this.hideSeries(series);\n              }\n            }\n          }\n        }\n      }\n    },\n    on_dblclick: {},\n    on_mouse_move: {},\n    locate: function (e) {\n      return locate(e, this._id);\n    },\n    $setSize: function (x, y) {\n      var res = base$1.api.$setSize.call(this, x, y);\n\n      if (res) {\n        for (var c in this.canvases) {\n          this.canvases[c]._resizeCanvas(this._content_width, this._content_height);\n        }\n\n        this.render();\n      }\n\n      return res;\n    },\n    type_setter: function (val) {\n      assert(this[\"$render_\" + val], \"Chart type is not supported, or extension is not loaded: \" + val);\n\n      if (typeof this._settings.offset == \"undefined\") {\n        this._settings.offset = !(val.toLowerCase().indexOf(\"area\") != -1);\n      }\n\n      if (val == \"radar\" && !this._settings.yAxis) this.define(\"yAxis\", {});\n\n      if (val == \"scatter\") {\n        if (!this._settings.yAxis) this.define(\"yAxis\", {});\n        if (!this._settings.xAxis) this.define(\"xAxis\", {});\n      }\n\n      return val;\n    },\n    destructor: function () {\n      this.removeAllSeries();\n      Destruction.destructor.apply(this, arguments);\n    },\n    removeAllSeries: function () {\n      this.clearCanvas();\n\n      if (this._legendObj) {\n        this._legendObj.innerHTML = \"\";\n\n        this._legendObj.parentNode.removeChild(this._legendObj);\n\n        this._legendObj = null;\n      }\n\n      if (this.canvases) {\n        this.canvases = {};\n      }\n\n      this._contentobj.innerHTML = \"\";\n      this._series = [];\n    },\n    clearCanvas: function () {\n      if (this.canvases && _typeof(this.canvases) == \"object\") for (var c in this.canvases) {\n        this.canvases[c].clearCanvas();\n      }\n    },\n    render: function (id, changes, type) {\n      var bounds, data, map, temp;\n      if (!this.isVisible(this._settings.id)) return;\n      data = this._getChartData();\n      if (!this.callEvent(\"onBeforeRender\", [data, type])) return;\n\n      if (this.canvases && _typeof(this.canvases) == \"object\") {\n        for (var i in this.canvases) {\n          this.canvases[i].clearCanvas();\n        }\n      } else this.canvases = {};\n\n      if (this._settings.legend) {\n        if (!this.canvases[\"legend\"]) this.canvases[\"legend\"] = this._createCanvas(\"legend\");\n\n        this._drawLegend(this.data.getRange(), this._content_width, this._content_height);\n      }\n\n      this._map = map = new HtmlMap(this._id);\n      temp = this._settings;\n      bounds = this._getChartBounds(this._content_width, this._content_height);\n\n      if (this._series) {\n        for (var _i = 0; _i < this._series.length; _i++) {\n          this._settings = this._series[_i];\n          if (!this.canvases[_i]) this.canvases[_i] = this._createCanvas(this.name + \" \" + _i, \"z-index:\" + (2 + _i), null, _i, this._settings.ariaLabel);\n\n          this[\"$render_\" + this._settings.type](this.canvases[_i].getCanvas(), data, bounds.start, bounds.end, _i, map);\n        }\n      }\n\n      map.render(this._contentobj);\n      this._contentobj.lastChild.style.zIndex = 80;\n\n      this._applyBounds(this._contentobj.lastChild, bounds);\n\n      this.callEvent(\"onAfterRender\", [data]);\n      this._settings = temp; // hide hidden series\n\n      if (this._settings.legend && this._settings.legend.values) {\n        var series = this._settings.legend.values;\n\n        for (var _i2 = 0; _i2 < series.length; _i2++) {\n          if (series[_i2].$hidden) this.hideSeries(_i2);\n        }\n      }\n    },\n    _applyBounds: function (elem, bounds) {\n      var style = {};\n      style.left = bounds.start.x;\n      style.top = bounds.start.y;\n      style.width = bounds.end.x - bounds.start.x;\n      style.height = bounds.end.y - bounds.start.y;\n\n      for (var prop in style) {\n        elem.style[prop] = style[prop] + \"px\";\n      }\n    },\n    _getChartData: function () {\n      var axis, axisConfig, config, data, i, newData, start, units, value, valuesHash;\n      data = this.data.getRange();\n      axis = this._settings.type.toLowerCase().indexOf(\"barh\") != -1 ? \"yAxis\" : \"xAxis\";\n      axisConfig = this._settings[axis];\n\n      if (axisConfig && axisConfig.units && _typeof(axisConfig.units) == \"object\") {\n        config = axisConfig.units;\n        units = [];\n\n        if (typeof config.start != \"undefined\" && typeof config.end != \"undefined\" && typeof config.next != \"undefined\") {\n          start = config.start;\n\n          while (start <= config.end) {\n            units.push(start);\n            start = config.next.call(this, start);\n          }\n        } else if (Object.prototype.toString.call(config) === \"[object Array]\") {\n          units = config;\n        }\n\n        newData = [];\n\n        if (units.length) {\n          value = axisConfig.value;\n          valuesHash = {};\n\n          for (i = 0; i < data.length; i++) {\n            valuesHash[value(data[i])] = i;\n          }\n\n          for (i = 0; i < units.length; i++) {\n            if (typeof valuesHash[units[i]] != \"undefined\") {\n              data[valuesHash[units[i]]].$unit = units[i];\n              newData.push(data[valuesHash[units[i]]]);\n            } else {\n              newData.push({\n                $unit: units[i]\n              });\n            }\n          }\n        }\n\n        return newData;\n      }\n\n      return data;\n    },\n    series_setter: function (config) {\n      if (!config || _typeof(config) != \"object\") {\n        assert(config, \"Chart :: Series must be an array or object\");\n      } else {\n        this._parseSettings(!config.length ? config : config[0]);\n\n        this._series = [this._settings];\n\n        for (var i = 1; i < config.length; i++) {\n          this.addSeries(config[i]);\n        }\n      }\n\n      return config;\n    },\n    value_setter: template,\n    xValue_setter: template,\n    yValue_setter: function (config) {\n      this.define(\"value\", config);\n    },\n    alpha_setter: template,\n    label_setter: template,\n    lineColor_setter: template,\n    borderColor_setter: template,\n    pieInnerText_setter: template,\n    donutInnerText_setter: template,\n    gradient_setter: function (config) {\n      if (typeof config != \"function\" && config && config === true) config = \"light\";\n      return config;\n    },\n    colormap: {\n      \"RAINBOW\": function (obj) {\n        var pos$$1 = Math.floor(this.getIndexById(obj.id) / this.count() * 1536);\n        if (pos$$1 == 1536) pos$$1 -= 1;\n        return this._rainbow[Math.floor(pos$$1 / 256)](pos$$1 % 256);\n      },\n      \"default\": function (obj) {\n        var count = this.count();\n        var colorsCount = this._defColors.length;\n        var i = this.getIndexById(obj.id);\n\n        if (colorsCount > count) {\n          if (i) {\n            if (i < colorsCount - count) i = this._defColorsCursor + 2;else i = this._defColorsCursor + 1;\n          }\n\n          this._defColorsCursor = i;\n        } else i = i % colorsCount;\n\n        return this._defColors[i];\n      }\n    },\n    color_setter: function (value) {\n      return this.colormap[value] || template(value);\n    },\n    fill_setter: function (value) {\n      return !value || value == \"0\" ? false : template(value);\n    },\n    _definePreset: function (obj) {\n      this.define(\"preset\", obj.preset);\n      delete obj.preset;\n    },\n    preset_setter: function (value) {\n      var a, b, preset;\n      this.defaults = exports.extend({}, this.defaults);\n      preset = this.presets[value];\n\n      if (_typeof(preset) == \"object\") {\n        for (a in preset) {\n          if (_typeof(preset[a]) == \"object\") {\n            if (!this.defaults[a] || _typeof(this.defaults[a]) != \"object\") {\n              this.defaults[a] = exports.extend({}, preset[a]);\n            } else {\n              this.defaults[a] = exports.extend({}, this.defaults[a]);\n\n              for (b in preset[a]) {\n                this.defaults[a][b] = preset[a][b];\n              }\n            }\n          } else {\n            this.defaults[a] = preset[a];\n          }\n        }\n\n        return value;\n      }\n\n      return false;\n    },\n    legend_setter: function (config) {\n      if (!config) {\n        if (this._legendObj) {\n          this._legendObj.innerHTML = \"\";\n          this._legendObj = null;\n        }\n\n        return false;\n      }\n\n      if (_typeof(config) != \"object\") //allow to use template string instead of object\n        config = {\n          template: config\n        };\n\n      this._mergeSettings(config, {\n        width: 150,\n        height: 18,\n        layout: \"y\",\n        align: \"left\",\n        valign: \"bottom\",\n        template: \"\",\n        toggle: this._settings.type.toLowerCase().indexOf(\"stacked\") != -1 ? \"\" : \"hide\",\n        marker: {\n          type: \"square\",\n          width: 15,\n          height: 15,\n          radius: 3\n        },\n        margin: 4,\n        padding: 3\n      });\n\n      config.template = template(config.template);\n      return config;\n    },\n    item_setter: function (config) {\n      if (_typeof(config) != \"object\") config = {\n        color: config,\n        borderColor: config\n      };\n\n      this._mergeSettings(config, exports.extend({}, this.defaults.item));\n\n      var settings = [\"alpha\", \"borderColor\", \"color\", \"radius\", \"type\"];\n\n      this._converToTemplate(settings, config);\n\n      return config;\n    },\n    line_setter: function (config) {\n      if (_typeof(config) != \"object\") config = {\n        color: config\n      };\n      config = exports.extend(config, this.defaults.line);\n      config.color = template(config.color);\n      return config;\n    },\n    padding_setter: function (config) {\n      if (_typeof(config) != \"object\") config = {\n        left: config,\n        right: config,\n        top: config,\n        bottom: config\n      };\n\n      this._mergeSettings(config, {\n        left: 50,\n        right: 20,\n        top: 35,\n        bottom: 40\n      });\n\n      return config;\n    },\n    xAxis_setter: function (config) {\n      if (!config) return false;\n      if (_typeof(config) != \"object\") config = {\n        template: config\n      };\n\n      this._mergeSettings(config, {\n        title: \"\",\n        color: \"#edeff0\",\n        lineColor: \"#edeff0\",\n        template: \"{obj}\",\n        lines: true\n      });\n\n      var templates = [\"lineColor\", \"template\", \"lines\"];\n\n      this._converToTemplate(templates, config);\n\n      this._configXAxis = exports.extend({}, config);\n      return config;\n    },\n    yAxis_setter: function (config) {\n      this._mergeSettings(config, {\n        title: \"\",\n        color: \"#edeff0\",\n        lineColor: \"#edeff0\",\n        template: \"{obj}\",\n        lines: true,\n        bg: $active.backColor\n      });\n\n      var templates = [\"lineColor\", \"template\", \"lines\", \"bg\"];\n\n      this._converToTemplate(templates, config);\n\n      this._configYAxis = exports.extend({}, config);\n      return config;\n    },\n    _converToTemplate: function (arr, config) {\n      for (var i = 0; i < arr.length; i++) {\n        config[arr[i]] = template(config[arr[i]]);\n      }\n    },\n    _createCanvas: function (name, style, container, index$$1, title) {\n      var params = {\n        container: container || this._contentobj,\n        name: name,\n        title: isUndefined(title) ? name : title || \"\",\n        series: index$$1,\n        style: style || \"\",\n        width: this._content_width,\n        height: this._content_height\n      };\n      return new Canvas(params);\n    },\n    _drawScales: function (data, point0, point1, start, end, cellWidth) {\n      var ctx,\n          y = 0;\n\n      if (this._settings.yAxis) {\n        if (!this.canvases[\"y\"]) this.canvases[\"y\"] = this._createCanvas(\"axis_y\");\n        y = this._drawYAxis(this.canvases[\"y\"].getCanvas(), data, point0, point1, start, end);\n      }\n\n      if (this._settings.xAxis) {\n        if (!this.canvases[\"x\"]) this.canvases[\"x\"] = this._createCanvas(\"axis_x\");\n        ctx = this.canvases[\"x\"].getCanvas();\n        if (this.callEvent(\"onBeforeXAxis\", [ctx, data, point0, point1, cellWidth, y])) this._drawXAxis(ctx, data, point0, point1, cellWidth, y);\n      }\n\n      return y;\n    },\n    _drawXAxis: function (ctx, data, point0, point1, cellWidth, y) {\n      var i,\n          unitPos,\n          config = this._settings,\n          x0 = point0.x - 0.5,\n          y0 = parseInt(y ? y : point1.y, 10) + 0.5,\n          x1 = point1.x,\n          center = true,\n          labelY = config.type == \"stackedBar\" ? point1.y + 0.5 : y0;\n\n      for (i = 0; i < data.length; i++) {\n        if (config.offset === true) unitPos = x0 + cellWidth / 2 + i * cellWidth;else {\n          unitPos = i == data.length - 1 && !config.cellWidth ? point1.x : x0 + i * cellWidth;\n          center = !!i;\n        }\n        unitPos = Math.ceil(unitPos) - 0.5;\n        /*scale labels*/\n\n        var top = config.origin != \"auto\" && config.type == \"bar\" && parseFloat(config.value(data[i])) < config.origin;\n\n        this._drawXAxisLabel(unitPos, labelY, data[i], center, top);\n        /*draws a vertical line for the horizontal scale*/\n\n\n        if ((config.offset || i || config.cellWidth) && config.xAxis.lines.call(this, data[i])) this._drawXAxisLine(ctx, unitPos, point1.y, point0.y, data[i]);\n      }\n\n      this.canvases[\"x\"].renderTextAt(true, false, x0, point1.y + config.padding.bottom - 3, config.xAxis.title, \"webix_axis_title_x\", point1.x - point0.x);\n\n      this._drawLine(ctx, x0, y0, x1, y0, config.xAxis.color, 1);\n      /*the right border in lines in scale are enabled*/\n\n\n      if (!config.xAxis.lines.call(this, {}) || !config.offset) return;\n\n      this._drawLine(ctx, x1 + 0.5, point1.y, x1 + 0.5, point0.y + 0.5, config.xAxis.lineColor.call(this, {}), 1);\n    },\n    _drawYAxis: function (ctx, data, point0, point1, start, end) {\n      var step;\n      var scaleParam = {};\n      if (!this._settings.yAxis) return;\n      var x0 = point0.x - 0.5;\n      var y0 = point1.y;\n      var y1 = point0.y;\n      var lineX = point1.y + 0.5; //this._drawLine(ctx,x0,y0,x0,y1,this._settings.yAxis.color,1);\n\n      if (this._settings.yAxis.step) step = parseFloat(this._settings.yAxis.step);\n\n      if (typeof this._configYAxis.step == \"undefined\" || typeof this._configYAxis.start == \"undefined\" || typeof this._configYAxis.end == \"undefined\") {\n        scaleParam = this._calculateScale(start, end);\n        start = scaleParam.start;\n        end = scaleParam.end;\n        step = scaleParam.step;\n        this._settings.yAxis.end = end;\n        this._settings.yAxis.start = start;\n      } else if (this.config.scale == \"logarithmic\") this._logScaleCalc = true;\n\n      this._setYAxisTitle(point0, point1);\n\n      if (step === 0) return;\n\n      if (end == start) {\n        return y0;\n      }\n\n      var stepHeight = (y0 - y1) * step / (end - start);\n      var c = 0;\n      var origin = this._settings.origin;\n\n      for (var i = start; i <= end; i += step) {\n        var value = this._logScaleCalc ? Math.pow(10, i) : i;\n        if (scaleParam.fixNum) value = parseFloat(value).toFixed(scaleParam.fixNum);\n        var yi = Math.floor(y0 - c * stepHeight) + 0.5;\n        /*canvas line fix*/\n\n        if (!(i == start && origin == \"auto\") && this._settings.yAxis.lines.call(this, i)) this._drawLine(ctx, x0, yi, point1.x, yi, this._settings.yAxis.lineColor.call(this, i), 1);\n        if (origin != \"auto\" && i <= origin && i + step > origin) lineX = yi - stepHeight * (origin - value) / step;\n        /*correction for JS float calculation*/\n\n        if (step < 1 && !this._logScaleCalc) {\n          var power = Math.min(Math.floor(this._log10(step)), start <= 0 ? 0 : Math.floor(this._log10(start)));\n          var corr = Math.pow(10, -power);\n          value = Math.round(value * corr) / corr;\n          i = value;\n        }\n\n        this.canvases[\"y\"].renderText(0, yi - 5, this._settings.yAxis.template(value.toString()), \"webix_axis_item_y\", point0.x - 5);\n        c++;\n      }\n\n      this._drawLine(ctx, x0, y0 + 1, x0, y1, this._settings.yAxis.color, 1);\n\n      return lineX;\n    },\n    _setYAxisTitle: function (point0, point1) {\n      var className = \"webix_axis_title_y\";\n      var text = this.canvases[\"y\"].renderTextAt(\"middle\", false, 0, parseInt((point1.y - point0.y) / 2 + point0.y, 10), this._settings.yAxis.title, className);\n      if (text) text.style.left = (text.offsetHeight - text.offsetWidth) / 2 + \"px\";\n    },\n    _calculateLogScale: function (nmin, nmax) {\n      var startPower = Math.floor(this._log10(nmin));\n      var endPower = Math.ceil(this._log10(nmax));\n      return {\n        start: startPower,\n        step: 1,\n        end: endPower\n      };\n    },\n    _normStep: function (step) {\n      var power = Math.floor(this._log10(step));\n      var calculStep = Math.pow(10, power);\n      var stepVal = step / calculStep;\n      stepVal = stepVal > 5 ? 10 : 5;\n      return parseInt(stepVal, 10) * calculStep;\n    },\n    _calculateScale: function (nmin, nmax) {\n      this._logScaleCalc = false;\n\n      if (this._settings.scale == \"logarithmic\") {\n        var logMin = Math.floor(this._log10(nmin));\n        var logMax = Math.ceil(this._log10(nmax));\n\n        if (nmin > 0 && nmax > 0 && logMax - logMin > 1) {\n          this._logScaleCalc = true;\n          return this._calculateLogScale(nmin, nmax);\n        }\n      }\n\n      if (this._settings.origin != \"auto\" && this._settings.origin < nmin) nmin = this._settings.origin;\n      var start, end;\n\n      var step = this._normStep((nmax - nmin) / 8 || 1);\n\n      var power = Math.floor(this._log10(step));\n      if (step > Math.abs(nmin)) start = nmin < 0 ? -step : 0;else {\n        var absNmin = Math.abs(nmin);\n        var powerStart = Math.floor(this._log10(absNmin));\n        var nminVal = absNmin / Math.pow(10, powerStart);\n        if (powerStart != 0 || step >= 0.1) start = Math.ceil(nminVal * 10) / 10 * Math.pow(10, powerStart) - step;else start = absNmin;\n\n        if (absNmin > 1 && step > 0.1) {\n          start = Math.ceil(start);\n        }\n\n        while (nmin < 0 ? start <= nmin : start >= nmin) {\n          start -= step;\n        }\n\n        if (nmin < 0) start = -start - 2 * step;\n        start = start - start % step;\n        start = parseFloat((start * 1.0).toFixed(Math.abs(power)));\n      }\n      if (nmax - start > 10) step = this._normStep((nmax - start) / 8 || 1);\n      end = start;\n      if (nmax == 0 && nmax == nmin) nmax = step;\n\n      while (end < nmax) {\n        end += step;\n        end = parseFloat((end * 1.0).toFixed(Math.abs(power)));\n      }\n\n      return {\n        start: start,\n        end: end,\n        step: step,\n        fixNum: power < 0 ? Math.abs(power) : 0\n      };\n    },\n    _getLimits: function (orientation, value) {\n      var data = this.data._obj_array();\n\n      var maxValue, minValue;\n      var axis = arguments.length && orientation == \"h\" ? this._configXAxis : this._configYAxis;\n      value = value || \"value\";\n\n      if (axis && typeof axis.end != \"undefined\" && typeof axis.start != \"undefined\" && axis.step) {\n        maxValue = parseFloat(axis.end);\n        minValue = parseFloat(axis.start);\n      } else {\n        maxValue = GroupMethods.max(this._series[0][value], data);\n        minValue = axis && typeof axis.start != \"undefined\" ? parseFloat(axis.start) : GroupMethods.min(this._series[0][value], data);\n        if (this._series.length > 1) for (var i = 1; i < this._series.length; i++) {\n          var maxI = GroupMethods.max(this._series[i][value], data);\n          var minI = GroupMethods.min(this._series[i][value], data);\n          if (maxI > maxValue) maxValue = maxI;\n          if (minI < minValue) minValue = minI;\n        }\n      }\n\n      return {\n        max: maxValue,\n        min: minValue\n      };\n    },\n    _log10: function (n) {\n      var method_name = \"log\";\n      return Math[method_name](n) / Math.LN10;\n    },\n    _drawXAxisLabel: function (x, y, obj, center, top) {\n      if (!this._settings.xAxis) return;\n      var elem = this.canvases[\"x\"].renderTextAt(top, center, x, y - (top ? 2 : 0), this._settings.xAxis.template(obj));\n      if (elem) elem.className += \" webix_axis_item_x\";\n    },\n    _drawXAxisLine: function (ctx, x, y1, y2, obj) {\n      if (!this._settings.xAxis || !this._settings.xAxis.lines) return;\n\n      this._drawLine(ctx, x, y1, x, y2, this._settings.xAxis.lineColor.call(this, obj), 1);\n    },\n    _drawLine: function (ctx, x1, y1, x2, y2, color$$1, width) {\n      ctx.strokeStyle = color$$1;\n      ctx.lineWidth = width;\n      ctx.beginPath();\n      ctx.moveTo(x1, y1);\n      ctx.lineTo(x2, y2);\n      ctx.stroke();\n      ctx.lineWidth = 1;\n    },\n    _getRelativeValue: function (minValue, maxValue) {\n      var relValue;\n      var valueFactor = 1;\n\n      if (maxValue != minValue) {\n        relValue = maxValue - minValue;\n      } else relValue = minValue;\n\n      return [relValue, valueFactor];\n    },\n    _rainbow: [function (pos$$1) {\n      return \"#FF\" + color.toHex(pos$$1 / 2, 2) + \"00\";\n    }, function (pos$$1) {\n      return \"#FF\" + color.toHex(pos$$1 / 2 + 128, 2) + \"00\";\n    }, function (pos$$1) {\n      return \"#\" + color.toHex(255 - pos$$1, 2) + \"FF00\";\n    }, function (pos$$1) {\n      return \"#00FF\" + color.toHex(pos$$1, 2);\n    }, function (pos$$1) {\n      return \"#00\" + color.toHex(255 - pos$$1, 2) + \"FF\";\n    }, function (pos$$1) {\n      return \"#\" + color.toHex(pos$$1, 2) + \"00FF\";\n    }],\n    _defColors: [\"#f55b50\", \"#ff6d3f\", \"#ffa521\", \"#ffc927\", \"#ffee54\", \"#d3e153\", \"#9acb61\", \"#63b967\", \"#21a497\", \"#21c5da\", \"#3ea4f5\", \"#5868bf\", \"#7b53c0\", \"#a943ba\", \"#ec3b77\", \"#9eb0b8\"],\n    _defColorsCursor: 0,\n\n    /**\n    *   adds series to the chart (value and color properties)\n    *   @param: obj - obj with configuration properties\n    */\n    addSeries: function (obj) {\n      var temp = this._settings;\n      this._settings = exports.extend({}, temp);\n\n      this._parseSettings(obj);\n\n      this._series.push(this._settings);\n\n      this._settings = temp;\n    },\n    $tooltipIn: function (t) {\n      return t;\n    },\n    _get_tooltip_data: function (t, e) {\n      var id = this.locate(e);\n      if (!id) return null;\n\n      var active = this._getActiveSeries(e);\n\n      var def = exports.extend({\n        dx: 20,\n        dy: 0,\n        template: \"{obj.value}\",\n        css: \"\"\n      }, this._series[active].tooltip || {\n        template: \"\"\n      }, true);\n\n      TooltipControl._tooltip.define(def);\n\n      return this.getItem(id);\n    },\n    _getActiveSeries: function (e) {\n      var a, areas, i, offset$$1, pos$$1, selection, x, y;\n      areas = this._map._areas;\n      offset$$1 = offset(this._contentobj._htmlmap);\n      pos$$1 = pos(e);\n      x = pos$$1.x - offset$$1.x;\n      y = pos$$1.y - offset$$1.y;\n\n      for (i = 0; i < areas.length; i++) {\n        a = areas[i].points;\n\n        if (x <= a[2] && x >= a[0] && y <= a[3] && y >= a[1]) {\n          if (selection) {\n            if (areas[i].index > selection.index) selection = areas[i];\n          } else selection = areas[i];\n        }\n      }\n\n      return selection ? selection.index : 0;\n    },\n    hideSeries: function (series) {\n      this.canvases[series].hideCanvas();\n      var legend = this._settings.legend;\n\n      if (legend && legend.values && legend.values[series]) {\n        legend.values[series].$hidden = true;\n\n        this._drawLegend();\n      }\n\n      this._map.hide(this._contentobj, series, true);\n    },\n    showSeries: function (series) {\n      this.canvases[series].showCanvas();\n      var legend = this._settings.legend;\n\n      if (legend && legend.values && legend.values[series]) {\n        delete legend.values[series].$hidden;\n\n        this._drawLegend();\n      }\n\n      this._map.hide(this._contentobj, series, false);\n    },\n\n    /**\n    *   renders legend block\n    *   @param: ctx - canvas object\n    *   @param: data - object those need to be displayed\n    *   @param: width - the width of the container\n    *   @param: height - the height of the container\n    */\n    _drawLegend: function (data, width) {\n      /*position of the legend block*/\n      var i,\n          legend,\n          legendContainer,\n          legendHeight,\n          legendItems,\n          legendWidth,\n          style,\n          x = 0,\n          y = 0,\n          ctx,\n          itemColor,\n          disabled,\n          item;\n      data = data || [];\n      width = width || this._content_width;\n      ctx = this.canvases[\"legend\"].getCanvas();\n      /*legend config*/\n\n      legend = this._settings.legend;\n      /*the legend sizes*/\n\n      style = this._settings.legend.layout != \"x\" ? \"width:\" + legend.width + \"px\" : \"\";\n      /*creation of legend container*/\n\n      if (this._legendObj) {\n        this._legendObj.innerHTML = \"\";\n\n        this._legendObj.parentNode.removeChild(this._legendObj);\n      }\n\n      this.canvases[\"legend\"].clearCanvas(true);\n      legendContainer = create(\"DIV\", {\n        \"class\": \"webix_chart_legend\",\n        \"style\": \"left:\" + x + \"px; top:\" + y + \"px;\" + style\n      }, \"\");\n\n      if (legend.padding) {\n        legendContainer.style.padding = legend.padding + \"px\";\n      }\n\n      this._legendObj = legendContainer;\n\n      this._contentobj.appendChild(legendContainer);\n      /*rendering legend text items*/\n\n\n      legendItems = [];\n      if (!legend.values) for (i = 0; i < data.length; i++) {\n        legendItems.push(this._drawLegendText(legendContainer, legend.template(data[i]), data[i].id));\n      } else for (i = 0; i < legend.values.length; i++) {\n        legendItems.push(this._drawLegendText(legendContainer, legend.values[i].text, typeof legend.values[i].id != \"undefined\" ? _typeof(legend.values[i].id) : i, legend.values[i].$hidden));\n      }\n      var rendered = document.body.contains(this._contentobj);\n      var parentNode, d; // inside window\n\n      if (!rendered) {\n        d = create(\"DIV\", {\n          \"style\": \"visibility:hidden; position:absolute; top:0px; left:0px;\"\n        }, \"\");\n        parentNode = this._contentobj.parentNode;\n        document.body.appendChild(d);\n        d.appendChild(this._contentobj);\n      }\n\n      legendWidth = legendContainer.offsetWidth;\n      legendHeight = legendContainer.offsetHeight;\n      /*this._settings.legend.width = legendWidth;\n      this._settings.legend.height = legendHeight;*/\n\n      /*setting legend position*/\n\n      if (legendWidth < width) {\n        if (legend.layout == \"x\" && legend.align == \"center\") {\n          x = (width - legendWidth) / 2;\n        }\n\n        if (legend.align == \"right\") {\n          x = width - legendWidth;\n        }\n\n        if (legend.margin && legend.align != \"center\") {\n          x += (legend.align == \"left\" ? 1 : -1) * legend.margin;\n        }\n      }\n\n      if (legendHeight < this._content_height) {\n        if (legend.valign == \"middle\" && legend.align != \"center\" && legend.layout != \"x\") y = (this._content_height - legendHeight) / 2;else if (legend.valign == \"bottom\") y = this._content_height - legendHeight;\n\n        if (legend.margin && legend.valign != \"middle\") {\n          y += (legend.valign == \"top\" ? 1 : -1) * legend.margin;\n        }\n      }\n\n      legendContainer.style.left = x + \"px\";\n      legendContainer.style.top = y + \"px\";\n      /*drawing colorful markers*/\n\n      ctx.save();\n\n      for (i = 0; i < legendItems.length; i++) {\n        item = legendItems[i];\n\n        if (legend.values && legend.values[i].$hidden) {\n          disabled = true;\n          itemColor = legend.values[i].disableColor ? legend.values[i].disableColor : \"#edeff0\";\n        } else {\n          disabled = false;\n          itemColor = legend.values ? legend.values[i].color : this._settings.color.call(this, data[i]);\n        }\n\n        this._drawLegendMarker(ctx, item.offsetLeft + x, item.offsetTop + y, itemColor, item.offsetHeight, disabled, i);\n      }\n\n      ctx.restore();\n\n      if (!rendered) {\n        parentNode.appendChild(this._contentobj);\n        remove(d);\n      }\n\n      legendItems = null;\n    },\n\n    /**\n    *   appends legend item to legend block\n    *   @param: ctx - canvas object\n    *   @param: obj - data object that needs being represented\n    */\n    _drawLegendText: function (cont, value, series, disabled) {\n      var style = \"\";\n      if (this._settings.legend.layout == \"x\") style = \"float:left;\";\n      /*the text of the legend item*/\n\n      var text = create(\"DIV\", {\n        \"style\": style + \"padding-left:\" + (10 + this._settings.legend.marker.width) + \"px\",\n        \"class\": \"webix_chart_legend_item\" + (disabled ? \" hidden\" : \"\"),\n        \"role\": \"button\",\n        \"tabindex\": \"0\",\n        \"aria-label\": i18n.aria[(disabled ? \"show\" : \"hide\") + \"Chart\"] + \" \" + value\n      }, value);\n      if (arguments.length > 2) text.setAttribute(\n      /*@attr*/\n      \"series_id\", series);\n      cont.appendChild(text);\n      return text;\n    },\n\n    /**\n    *   draw legend colorful marder\n    *   @param: ctx - canvas object\n    *   @param: x - the horizontal position of the marker\n    *   @param: y - the vertical position of the marker\n    *   @param: obj - data object which color needs being used\n    */\n    _drawLegendMarker: function (ctx, x, y, color$$1, height, disabled, i) {\n      var p = [];\n      var marker = this._settings.legend.marker;\n      var values = this._settings.legend.values;\n      var type = values && values[i].markerType ? values[i].markerType : marker.type;\n\n      if (color$$1) {\n        ctx.strokeStyle = ctx.fillStyle = color$$1;\n      }\n\n      if (type == \"round\" || !marker.radius) {\n        ctx.beginPath();\n        var r = marker.height / 2;\n        ctx.arc(x + r + 5, y + height / 2, r, 0, 2 * Math.PI);\n        ctx.fill();\n      } else if (type == \"item\") {\n        /*copy of line*/\n        if (this._settings.line && this._settings.type != \"scatter\" && !this._settings.disableLines) {\n          ctx.beginPath();\n          ctx.lineWidth = this._series[i].line.width;\n          ctx.strokeStyle = disabled ? color$$1 : this._series[i].line.color.call(this, {});\n          var x0 = x + 5;\n          var y0 = y + height / 2;\n          ctx.moveTo(x0, y0);\n          var x1 = x0 + marker.width;\n          ctx.lineTo(x1, y0);\n          ctx.stroke();\n        }\n        /*item copy*/\n\n\n        var config = this._series[i].item;\n        var radius = parseInt(config.radius.call(this, {}), 10) || 0;\n        var markerType = config.type.call(this, {});\n\n        if (radius) {\n          ctx.beginPath();\n\n          if (disabled) {\n            ctx.lineWidth = config.borderWidth;\n            ctx.strokeStyle = color$$1;\n            ctx.fillStyle = color$$1;\n          } else {\n            ctx.lineWidth = config.borderWidth;\n            ctx.fillStyle = config.color.call(this, {});\n            ctx.strokeStyle = config.borderColor.call(this, {});\n            ctx.globalAlpha = config.alpha.call(this, {});\n          }\n\n          ctx.beginPath();\n          x += marker.width / 2 + 5;\n          y += height / 2;\n\n          this._strokeChartItem(ctx, x, y, radius + 1, markerType);\n\n          ctx.fill();\n          ctx.stroke();\n        }\n\n        ctx.globalAlpha = 1;\n      } else {\n        ctx.beginPath();\n        ctx.lineWidth = 1;\n        x += 5;\n        y += height / 2 - marker.height / 2;\n        p = [[x + marker.radius, y + marker.radius, marker.radius, Math.PI, 3 * Math.PI / 2, false], [x + marker.width - marker.radius, y], [x + marker.width - marker.radius, y + marker.radius, marker.radius, -Math.PI / 2, 0, false], [x + marker.width, y + marker.height - marker.radius], [x + marker.width - marker.radius, y + marker.height - marker.radius, marker.radius, 0, Math.PI / 2, false], [x + marker.radius, y + marker.height], [x + marker.radius, y + marker.height - marker.radius, marker.radius, Math.PI / 2, Math.PI, false], [x, y + marker.radius]];\n\n        this._path(ctx, p);\n\n        ctx.stroke();\n        ctx.fill();\n      }\n    },\n\n    /**\n    *   gets the points those represent chart left top and right bottom bounds\n    *   @param: width - the width of the chart container\n    *   @param: height - the height of the chart container\n    */\n    _getChartBounds: function (width, height) {\n      var chartX0, chartY0, chartX1, chartY1;\n      chartX0 = this._settings.padding.left;\n      chartY0 = this._settings.padding.top;\n      chartX1 = width - this._settings.padding.right;\n      chartY1 = height - this._settings.padding.bottom;\n\n      if (this._settings.legend) {\n        var legend = this._settings.legend;\n        /*legend size*/\n\n        var legendWidth = this._settings.legend.width;\n        var legendHeight = this._settings.legend.height;\n        /*if legend is horizontal*/\n\n        if (legend.layout == \"x\") {\n          if (legend.valign == \"center\") {\n            if (legend.align == \"right\") chartX1 -= legendWidth;else if (legend.align == \"left\") chartX0 += legendWidth;\n          } else if (legend.valign == \"bottom\") {\n            chartY1 -= legendHeight;\n          } else {\n            chartY0 += legendHeight;\n          }\n        }\n        /*vertical scale*/\n        else {\n            if (legend.align == \"right\") chartX1 -= legendWidth;else if (legend.align == \"left\") chartX0 += legendWidth;\n          }\n      }\n\n      return {\n        start: {\n          x: chartX0,\n          y: chartY0\n        },\n        end: {\n          x: chartX1,\n          y: chartY1\n        }\n      };\n    },\n\n    /**\n    *   gets the maximum and minimum values for the stacked chart\n    *   @param: data - data set\n    */\n    _getStackedLimits: function (data) {\n      var i, j, maxValue, minValue, value;\n\n      if (this._settings.yAxis && typeof this._settings.yAxis.end != \"undefined\" && typeof this._settings.yAxis.start != \"undefined\" && this._settings.yAxis.step) {\n        maxValue = parseFloat(this._settings.yAxis.end);\n        minValue = parseFloat(this._settings.yAxis.start);\n      } else {\n        for (i = 0; i < data.length; i++) {\n          data[i].$sum = 0;\n          data[i].$min = Infinity;\n\n          for (j = 0; j < this._series.length; j++) {\n            value = Math.abs(parseFloat(this._series[j].value(data[i]) || 0));\n            if (isNaN(value)) continue;\n            if (this._series[j].type.toLowerCase().indexOf(\"stacked\") != -1) data[i].$sum += value;\n            if (value < data[i].$min) data[i].$min = value;\n          }\n        }\n\n        maxValue = -Infinity;\n        minValue = Infinity;\n\n        for (i = 0; i < data.length; i++) {\n          if (data[i].$sum > maxValue) maxValue = data[i].$sum;\n          if (data[i].$min < minValue) minValue = data[i].$min;\n        }\n\n        if (minValue > 0) minValue = 0;\n      }\n\n      return {\n        max: maxValue,\n        min: minValue\n      };\n    },\n\n    /*adds colors to the gradient object*/\n    _setBarGradient: function (ctx, x1, y1, x2, y2, type, rawColor, axis) {\n      var gradient, offset$$1, rgb, hsv, rawColor0, stops;\n\n      if (type == \"light\") {\n        if (axis == \"x\") gradient = ctx.createLinearGradient(x1, y1, x2, y1);else gradient = ctx.createLinearGradient(x1, y1, x1, y2);\n        stops = [[0, \"#FFFFFF\"], [0.9, rawColor], [1, rawColor]];\n        offset$$1 = 2;\n      } else if (type == \"falling\" || type == \"rising\") {\n        if (axis == \"x\") gradient = ctx.createLinearGradient(x1, y1, x2, y1);else gradient = ctx.createLinearGradient(x1, y1, x1, y2);\n        rgb = color.toRgb(rawColor);\n        hsv = color.rgbToHsv(rgb[0], rgb[1], rgb[2]);\n        hsv[1] *= 1 / 2;\n        rawColor0 = \"rgb(\" + color.hsvToRgb(hsv[0], hsv[1], hsv[2]) + \")\";\n\n        if (type == \"falling\") {\n          stops = [[0, rawColor0], [0.7, rawColor], [1, rawColor]];\n        } else if (type == \"rising\") {\n          stops = [[0, rawColor], [0.3, rawColor], [1, rawColor0]];\n        }\n\n        offset$$1 = 0;\n      } else {\n        ctx.globalAlpha = 0.37;\n        offset$$1 = 0;\n        if (axis == \"x\") gradient = ctx.createLinearGradient(x1, y2, x1, y1);else gradient = ctx.createLinearGradient(x1, y1, x2, y1);\n        stops = [[0, \"#9d9d9d\"], [0.3, \"#e8e8e8\"], [0.45, \"#ffffff\"], [0.55, \"#ffffff\"], [0.7, \"#e8e8e8\"], [1, \"#9d9d9d\"]];\n      }\n\n      this._gradient(gradient, stops);\n\n      return {\n        gradient: gradient,\n        offset: offset$$1\n      };\n    },\n\n    /**\n    *   returns the x and y position\n    *   @param: a - angle\n    *   @param: x - start x position\n    *   @param: y - start y position\n    *   @param: r - destination to the point\n    */\n    _getPositionByAngle: function (a, x, y, r) {\n      a *= -1;\n      x = x + Math.cos(a) * r;\n      y = y - Math.sin(a) * r;\n      return {\n        x: x,\n        y: y\n      };\n    },\n    _gradient: function (gradient, stops) {\n      for (var i = 0; i < stops.length; i++) {\n        gradient.addColorStop(stops[i][0], stops[i][1]);\n      }\n    },\n    _path: function (ctx, points) {\n      var i, method;\n\n      for (i = 0; i < points.length; i++) {\n        method = i ? \"lineTo\" : \"moveTo\";\n        if (points[i].length > 2) method = \"arc\";\n        ctx[method].apply(ctx, points[i]);\n      }\n    },\n    _addMapRect: function (map, id, points, bounds, sIndex) {\n      map.addRect(id, [points[0].x - bounds.x, points[0].y - bounds.y, points[1].x - bounds.x, points[1].y - bounds.y], sIndex);\n    }\n  };\n  var view$10 = exports.protoUI(api$10, Pie$1, BarChart, LineChart, BarHChart, StackedBarChart, StackedBarHChart, Spline$1, AreaChart, Radar, Scatter, Presets, SplineArea$1, DynamicChart, Group, AutoTooltip, DataLoader, MouseEvents, EventSystem, base$1.view);\n\n  exports.protoUI({\n    name: \"rangechart\",\n    defaults: {\n      template: \"GPL version doesn't support rangechart <br> You need Webix PRO\"\n    }\n  }, template$1.view);\n\n  var api$11 = {\n    name: \"grouplist\",\n    defaults: {\n      animate: {}\n    },\n    _listClassName: \"webix_grouplist\",\n    $init: function () {\n      exports.extend(this.data, TreeStore, true); //needed for getRange\n\n      this.data.count = function () {\n        return this.order.length;\n      };\n\n      this.data.provideApi(this, true);\n      this.data.attachEvent(\"onClearAll\", bind(this._onClear, this));\n\n      this._onClear();\n    },\n    _onClear: function () {\n      this._nested_cursor = [];\n      this._nested_chain = [];\n    },\n    $setSize: function () {\n      if (base$1.api.$setSize.apply(this, arguments)) {\n        //critical for animations in group list\n        this._dataobj.style.width = this._content_width;\n      }\n    },\n    on_click: {\n      webix_list_item: function (e, id) {\n        if (this._animation_promise) return false; // important: check _level_up() first\n\n        if (this._level_up(id) || this._level_down(id)) return this.render();else if (this._settings.select) {\n          this._no_animation = true;\n          if (this._settings.select == \"multiselect\" || this._settings.multiselect) this.select(id, false, this._settings.multiselect == \"touch\" || e.ctrlKey || e.metaKey, e.shiftKey); //multiselection\n          else this.select(id);\n          this._no_animation = false;\n        }\n      }\n    },\n    _level_up: function (id) {\n      for (var i = 0; i < this._nested_chain.length; i++) {\n        if (this._nested_chain[i] == id) {\n          for (var j = i; j < this._nested_chain.length; j++) {\n            this.data.getItem(this._nested_chain[j]).$template = \"\";\n          }\n\n          if (!i) {\n            //top level\n            this._nested_cursor = this.data.branch[0];\n            this._nested_chain = [];\n          } else {\n            this._nested_cursor = this.data.branch[this._nested_chain[i - 1]];\n\n            this._nested_chain.splice(i);\n          }\n\n          this._is_level_down = false;\n          return true;\n        }\n      }\n    },\n    _level_down: function (id) {\n      var obj = this.getItem(id);\n\n      if (obj.$count && _power_array.find.call(this._nested_chain, id) === -1) {\n        obj.$template = \"Back\";\n        this._nested_cursor = this.data.branch[obj.id];\n\n        this._nested_chain.push(id);\n\n        return this._is_level_down = true;\n      }\n    },\n    getOpenState: function () {\n      return {\n        parents: this._nested_chain,\n        branch: this._nested_cursor\n      };\n    },\n    setOpenState: function (id) {\n      var parent = 0;\n\n      if (id) {\n        var obj = this.getItem(id);\n        parent = obj.$count ? obj.id : obj.$parent;\n      }\n\n      this._nested_cursor = this.data.branch[parent];\n      this._nested_chain = []; //build _nested_chain\n\n      while (parent) {\n        this.getItem(parent).$template = \"Back\";\n\n        this._nested_chain.unshift(parent);\n\n        parent = this.getItem(parent).$parent;\n      } //render\n\n\n      this._no_animation = true;\n      this.render();\n      this._no_animation = false;\n    },\n    render: function (id, data, type$$1) {\n      var _this = this,\n          _arguments = arguments;\n\n      var i, lastChain; //start filtering processing=>\n\n      this._nested_chain = copy(this._nested_chain);\n      this._nested_cursor = copy(this._nested_cursor);\n\n      if (this._nested_chain.length) {\n        for (i = 0; i < this._nested_chain.length; i++) {\n          if (!this.data.branch[this._nested_chain[i]]) {\n            this._nested_chain.splice(i, 1);\n\n            i--;\n          }\n        }\n      }\n\n      lastChain = this._nested_chain.length ? this._nested_chain[this._nested_chain.length - 1] : 0;\n      this._nested_cursor = copy(this.data.branch[lastChain]);\n\n      if (!this._nested_cursor.length && this._nested_chain.length) {\n        this._nested_cursor = [lastChain];\n\n        this._nested_chain.pop();\n      } //<= end filtering processing\n\n\n      if (this._animation_promise) return this._animation_promise.then(function () {\n        return _this.render.apply(_this, _arguments);\n      });\n\n      for (i = 0; i < this._nested_cursor.length; i++) {\n        this.data.getItem(this._nested_cursor[i]).$template = \"\";\n      }\n\n      if (!this._nested_cursor.length) this._nested_cursor = this.data.branch[0];\n      this.data.order = _to_array([].concat(this._nested_chain).concat(this._nested_cursor));\n\n      if (this.callEvent(\"onBeforeRender\", [this.data])) {\n        if (this._no_animation || !this._dataobj.innerHTML || !this._settings.animate || this._prev_nested_chain_length == this._nested_chain.length) {\n          // if dataobj is empty or animation is not supported\n          // don't repaint invisible data\n          if (id && type$$1 !== \"delete\" && this.data.getIndexById(id) === -1) return;\n          RenderStack.render.apply(this, arguments);\n        } else {\n          //getRange - returns all elements\n          if (this.callEvent(\"onBeforeRender\", [this.data])) {\n            if (!this._back_scroll_states) this._back_scroll_states = [];\n\n            var next_div = this._dataobj.cloneNode(false);\n\n            next_div.innerHTML = this.data.getRange().map(this._toHTML, this).join(\"\");\n            var aniset = exports.extend({}, this._settings.animate);\n            aniset.direction = this._is_level_down ? \"left\" : \"right\";\n            /*scroll position restore*/\n\n            var animArr = [clone(aniset), clone(aniset)];\n            var getScrollState;\n            if (this._is_level_down) this._back_scroll_states.push(this.getScrollState());else getScrollState = this._back_scroll_states.pop();\n            var line = animate.formLine(next_div, this._dataobj, aniset);\n            aniset.master = this;\n\n            aniset.callback = function () {\n              this._dataobj = next_div;\n              /*scroll position restore*/\n\n              if (!this._is_level_down) {\n                if (getScrollState) this.scrollTo(0, getScrollState.y);\n              } else this.scrollTo(0, 0);\n\n              animate.breakLine(line);\n              aniset.master = aniset.callback = null;\n              this._htmlmap = this._animation_promise = null; //clear map, it will be filled at first getItemNode\n\n              aniset.wait_animation.resolve();\n              this.callEvent(\"onAfterRender\", []);\n            };\n\n            animate(line, animArr);\n            this._animation_promise = aniset.wait_animation = Deferred.defer();\n          }\n        }\n\n        this._prev_nested_chain_length = this._nested_chain.length;\n      }\n    },\n    templateBack_setter: function (config) {\n      this.type.templateBack = template(config);\n    },\n    templateItem_setter: function (config) {\n      this.type.templateItem = template(config);\n    },\n    templateGroup_setter: function (config) {\n      this.type.templateGroup = template(config);\n    },\n    type: {\n      template: function (obj, common) {\n        if (obj.$count) return common.templateGroup(obj, common);\n        return common.templateItem(obj, common);\n      },\n      css: \"group\",\n      classname: function (obj, common, marks) {\n        return \"webix_list_item\" + \" webix_\" + (obj.$count ? \"group\" : \"item\") + (obj.$template ? \"_back\" : \"\") + (marks && marks.webix_selected ? \" webix_selected\" : \"\") + (common.css ? \" \" + common.css : \"\") + (obj.$css ? \" \" + obj.$css : \"\");\n      },\n      templateStart: template(\"<div \" +\n      /*@attr*/\n      \"webix_l_id\" + \"=\\\"#id#\\\" class=\\\"{common.classname()}\\\" style=\\\"width:{common.widthSize()}; height:{common.heightSize()};  overflow:hidden;\\\" {common.aria()}>\"),\n      templateBack: template(\"#value#\"),\n      templateItem: template(\"#value#\"),\n      templateGroup: template(\"#value#\"),\n      templateEnd: function (obj) {\n        var html = \"\";\n        if (obj.$count) html += \"<div class='webix_arrow_icon'></div>\";\n        html += \"</div>\";\n        return html;\n      }\n    },\n    showItem: function (id) {\n      var index = this.data.getIndexById(id);\n      if (index === -1) this.setOpenState(id); //scroll if necessary\n\n      RenderStack.showItem.call(this, id);\n    }\n  };\n  var view$11 = exports.protoUI(api$11, Group, list.view);\n\n  type(view$11, {});\n\n  var api$12 = {\n    name: \"unitlist\",\n    _id:\n    /*@attr*/\n    \"webix_item_id\",\n    uniteBy_setter: template,\n    render: function (id, data, type) {\n      var config = this._settings;\n      if (!this.isVisible(config.id)) return;\n      if (!config.uniteBy) return;\n\n      if (id) {\n        var cont = this.getItemNode(id); //get html element of updated item\n\n        if (cont && type == \"update\" && this._settings.uniteBy.call(this, data) == this.getItem(id).$unitValue) {\n          var t = this._htmlmap[id] = this._toHTMLObject(data);\n\n          insertBefore(t, cont);\n          remove(cont);\n          return;\n        }\n      } //full reset\n\n\n      if (this.callEvent(\"onBeforeRender\", [this.data])) {\n        this.units = null;\n\n        this._setUnits();\n\n        if (this.units) {\n          this.callEvent(\"onUnits\", []);\n          this._dataobj.innerHTML = this._getUnitRange().map(this._toHTML, this).join(\"\");\n          this._htmlmap = null;\n        }\n\n        this.callEvent(\"onAfterRender\", []);\n      }\n    },\n    getUnits: function () {\n      var result = [];\n\n      if (this.units) {\n        for (var b in this.units) {\n          result.push(b);\n        }\n      }\n\n      return result;\n    },\n    getUnitList: function (id) {\n      return this.units ? this.units[id] : null;\n    },\n    _toHTML: function (obj) {\n      //check if related template exist\n      var mark = this.data._marks[obj.id];\n      assert(!obj.$template || this.type[\"template\" + obj.$template], \"RenderStack :: Unknown template: \" + obj.$template);\n      this.callEvent(\"onItemRender\", [obj]);\n\n      if (obj.$unit) {\n        return this.type.templateStartHeader(obj, this.type) + this.type.templateHeader.call(this, obj.$unit) + this.type.templateEnd(obj, this.type);\n      }\n\n      return this.type.templateStart(obj, this.type, mark) + (obj.$template ? this.type[\"template\" + obj.$template] : this.type.template)(obj, this.type) + this.type.templateEnd(obj, this.type);\n    },\n    _getUnitRange: function () {\n      var data = [];\n      var min = this.data.$min || 0;\n      var max = this.data.$max || Infinity;\n      var count = 0;\n\n      for (var u in this.units) {\n        data.push({\n          $unit: u\n        });\n        var unit = this.units[u];\n\n        for (var i = 0; i < unit.length; i++) {\n          if (count == min) data = [{\n            $unit: u\n          }];\n          data.push(this.getItem(unit[i]));\n          if (count == max) return _to_array(data);\n          count++;\n        }\n      }\n\n      return _to_array(data);\n    },\n    _setUnits: function () {\n      var list$$1 = this;\n      this.units = {};\n      this.data.each(function (obj) {\n        var result = list$$1._settings.uniteBy.call(this, obj);\n\n        obj.$unitValue = result;\n        if (!list$$1.units[result]) list$$1.units[result] = [];\n        list$$1.units[result].push(obj.id);\n      });\n    },\n    type: {\n      headerHeight: 20,\n      classname: function (obj, type, marks) {\n        var css = \"webix_list_item\";\n        if (type.css) css += \" webix_list_\" + type.css + \"_item\";\n        if (marks && marks.$css) css += \" \" + marks.$css;\n\n        if (obj.$css) {\n          if (_typeof(obj.$css) == \"object\") obj.$css = createCss(obj.$css);\n          css += \" \" + obj.$css;\n        }\n\n        return css;\n      },\n      templateHeader: function (value) {\n        return \"<span class='webix_unit_header_inner'>\" + value + \"</span>\";\n      },\n      templateStart: function (obj, type, marks) {\n        if (obj.$unit) return type.templateStartHeader.apply(this, arguments);\n        var style = \"width:\" + type.widthSize(obj, type, marks) + \"; height:\" + type.heightSize(obj, type, marks) + \"; overflow:hidden;\" + (type.layout && type.layout == \"x\" ? \"float:left;\" : \"\");\n        return \"<div \" +\n        /*@attr*/\n        \"webix_item_id\" + \"=\\\"\" + obj.id + \"\\\" class=\\\"\" + type.classname(obj, type, marks) + \"\\\" style=\\\"\" + style + \"\\\" \" + type.aria(obj, type, marks) + \">\";\n      },\n      templateStartHeader: function (obj, type, marks) {\n        var className = \"webix_unit_header\" + (type.css ? \" webix_unit_header_\" + type.css + \"_item\" : \"\");\n        var style = \"width:\" + type.widthSize(obj, type, marks) + \"; height:\" + type.headerHeight + \"px; overflow:hidden;\";\n        return \"<div \" +\n        /*@attr*/\n        \"webix_unit_id\" + \"=\\\"\" + obj.$unit + \"\\\" class=\\\"\" + className + \"\\\" style=\\\"\" + style + \"\\\">\";\n      }\n    },\n    $skin: function () {\n      list.api.$skin.call(this);\n      this.type.headerHeight = $active.unitHeaderHeight;\n    }\n  };\n  var view$12 = exports.protoUI(api$12, list.view);\n\n  i18n.dbllist = {\n    selectAll: \"<span class='webix_icon wxi-angle-double-right'></span>\",\n    selectOne: \"<span class='webix_icon wxi-angle-right'></span>\",\n    deselectAll: \"<span class='webix_icon wxi-angle-double-left'></span>\",\n    deselectOne: \"<span class='webix_icon wxi-angle-left'></span>\"\n  };\n  var api$13 = {\n    name: \"dbllist\",\n    defaults: {\n      borderless: true\n    },\n    $init: function () {\n      this._moved = {};\n      this._inRight = bind(function (obj) {\n        return this._moved[obj.id];\n      }, this);\n      this._inLeft = bind(function (obj) {\n        return !this._moved[obj.id];\n      }, this);\n      this.$view.className += \" webix_dbllist\";\n      this.$ready.unshift(this._setLayout);\n    },\n    $onLoad: function (data, driver) {\n      var left = this.$$(\"left\");\n      var right = this.$$(\"right\");\n\n      this._updateAndResize(function () {\n        left.data.driver = driver;\n        left.parse(data);\n        right.data.driver = driver;\n        right.parse(data);\n      });\n\n      this._data_ready = true;\n\n      this._refresh();\n\n      return true;\n    },\n    _getButtons: function () {\n      if (this._settings.buttons === false) return {\n        width: 10\n      };\n      var locale = i18n.dbllist;\n      var buttons = [this._getButton(\"deselect_all\", locale.deselectAll), this._getButton(\"select_all\", locale.selectAll), this._getButton(\"deselect_one\", locale.deselectOne), this._getButton(\"select_one\", locale.selectOne)];\n      buttons = {\n        width: 120,\n        template: buttons.join(\"\"),\n        onClick: {\n          dbllist_button: function (e, id, trg) {\n            this.getTopParentView()._update_list(trg.getAttribute(\"action\"));\n          }\n        }\n      };\n      if (this._settings.buttons) buttons.template = this._settings.buttons;\n      return buttons;\n    },\n    _getButton: function (action, label) {\n      return \"<button class='dbllist_button' action='\" + action + \"'>\" + label + \"</button>\";\n    },\n    _getList: function (id, action, label, bottom) {\n      var list = {\n        view: \"list\",\n        select: \"multiselect\",\n        multiselect: \"touch\",\n        id: id,\n        action: action,\n        drag: true,\n        type: {\n          margin: 3,\n          id: id\n        },\n        on: {\n          onBeforeDrop: function (context) {\n            var source = context.from;\n            var target = context.to;\n            var top = source.getTopParentView();\n\n            if (top === this.getTopParentView()) {\n              var mode = target._settings.action != \"select_one\";\n              top.select(context.source, mode);\n            }\n\n            return false;\n          },\n          onItemDblClick: function () {\n            return this.getTopParentView()._update_list(this.config.action);\n          }\n        }\n      };\n      if (this._settings.list) exports.extend(list, this._settings.list, true);\n      if (label) list = {\n        rows: [{\n          view: \"label\",\n          label: label,\n          css: \"webix_inp_top_label\"\n        }, list]\n      };\n      if (bottom) return {\n        rows: [list, {\n          view: \"label\",\n          height: 20,\n          label: bottom,\n          css: \"bottom_label\"\n        }]\n      };\n      return list;\n    },\n    _setLayout: function () {\n      var cols = [{\n        margin: 10,\n        type: \"clean\",\n        cols: [this._getList(\"left\", \"select_one\", this._settings.labelLeft, this._settings.labelBottomLeft), this._getButtons(), this._getList(\"right\", \"deselect_one\", this._settings.labelRight, this._settings.labelBottomRight)]\n      }];\n      this.cols_setter(cols);\n    },\n    _update_list: function (action) {\n      var top = this;\n      var id = null;\n      var mode = false;\n\n      if (action === \"select_all\") {\n        id = top.$$(\"left\").data.order;\n        mode = true;\n      } else if (action === \"select_one\") {\n        id = top.$$(\"left\").getSelectedId(true);\n        mode = true;\n      } else if (action === \"deselect_all\") {\n        id = top.$$(\"right\").data.order;\n        mode = false;\n      } else if (action === \"deselect_one\") {\n        id = top.$$(\"right\").getSelectedId(true);\n        mode = false;\n      }\n\n      top.select(id, mode);\n    },\n    select: function (id, mode) {\n      var i;\n      if (_typeof(id) !== \"object\") id = [id];\n\n      if (mode) {\n        for (i = 0; i < id.length; i++) {\n          this._moved[id[i]] = true;\n        }\n      } else {\n        for (i = 0; i < id.length; i++) {\n          delete this._moved[id[i]];\n        }\n      }\n\n      this._refresh();\n\n      this.callEvent(\"onChange\", []);\n    },\n    _updateAndResize: function (handler, size) {\n      freeze(bind(handler, this), false);\n      if (size && (this.$$(\"left\")._settings.autoheight || this.$$(\"right\")._settings.autoheight)) this.resize();\n    },\n    _refresh: function () {\n      var left = this.$$(\"left\");\n      var right = this.$$(\"right\");\n      if (left) this._updateAndResize(function () {\n        left.filter(this._inLeft);\n        right.filter(this._inRight);\n      }, true);\n    },\n    focus: function () {\n      if (!UIManager.canFocus(this)) return false;\n      UIManager.setFocus(this);\n    },\n    value_setter: function (val) {\n      this.setValue(val);\n    },\n    setValue: function (value) {\n      this._moved = {};\n\n      if (value) {\n        if (_typeof(value) !== \"object\") value = value.toString().split(\",\");\n\n        for (var i = 0; i < value.length; i++) {\n          this._moved[value[i]] = true;\n        }\n      }\n\n      this._refresh();\n    },\n    getValue: function () {\n      var value = [];\n      var list = this.$$(\"left\");\n\n      for (var key in this._moved) {\n        if (!this._data_ready || list.data.pull[key]) value.push(key);\n      }\n\n      return value.join(\",\");\n    }\n  };\n  var view$13 = exports.protoUI(api$13, AtomDataLoader, IdSpace, layout.view);\n\n  var api$14 = {\n    name: \"tree\",\n    defaults: {\n      scroll: \"auto\",\n      navigation: true\n    },\n    $init: function () {\n      this._viewobj.className += \" webix_tree\"; //map API of DataStore on self\n\n      exports.extend(this.data, TreeStore, true);\n      exports.extend(this.on_click, TreeClick);\n      this.data.provideApi(this, true);\n\n      this._viewobj.setAttribute(\"role\", \"tree\");\n    },\n    //attribute , which will be used for ID storing\n    _id:\n    /*@attr*/\n    \"webix_tm_id\",\n    //supports custom context menu\n    on_context: {},\n    on_dblclick: {\n      webix_tree_checkbox: function () {\n        if (this.on_click.webix_tree_checkbox) return this.on_click.webix_tree_checkbox.apply(this, arguments);\n      }\n    },\n    $fixEditor: function (editor) {\n      var item = this.getItemNode(editor.id).querySelector(\"span\");\n\n      if (item) {\n        if (item.innerHTML === \"\") item.innerHTML = \"&nbsp;\";\n        var padding = 10;\n        var pos$$1 = item.offsetLeft;\n        editor.node.style.width = this.$view.scrollWidth - pos$$1 - padding + \"px\";\n        editor.node.style.marginLeft = pos$$1 + \"px\";\n        editor.node.style.left = \"0px\";\n      }\n    },\n    //css class to action map, for onclick event\n    on_click: {\n      webix_tree_item: function (e, id) {\n        if (this._settings.activeTitle) {\n          var item = this.getItem(id);\n          if (item.open) this.close(id);else this.open(id);\n        }\n\n        if (this._settings.select) {\n          if (this._settings.select == \"multiselect\" || this._settings.multiselect) {\n            var multimode = e.ctrlKey || e.metaKey || this._settings.multiselect == \"touch\";\n\n            if (this._settings.multiselect == \"level\" && (multimode || e.shiftKey)) {\n              //allow only selection on the same level\n              var select = this.getSelectedId(true)[0];\n              if (select && this.getParentId(id) != this.getParentId(select)) return;\n            }\n\n            this.select(id, false, multimode, e.shiftKey); //multiselection\n          } else this.select(id);\n        }\n      }\n    },\n    _paste: {\n      // insert new item with pasted value\n      insert: function (text) {\n        var parent = this.getSelectedId() || \"0\";\n        this.add({\n          value: text\n        }, null, parent);\n      },\n      // change value of each selected item\n      modify: function (text) {\n        var sel = this.getSelectedId(true);\n\n        for (var i = 0; i < sel.length; i++) {\n          this.getItem(sel[i]).value = text;\n          this.refresh(sel[i]);\n        }\n      },\n      // do nothing\n      custom: function () {}\n    },\n    _drag_order_complex: true,\n    $dragHTML: function (obj, e, context) {\n      var html = \"<div class='webix_tree_item'>\" + this.type.template(obj, this.type) + \"</div>\";\n      if (isArray(context.source) && context.source.length > 1) html = this._toMultipleHTML(html, context.source.length);\n      return html;\n    },\n    _close_branches: function (context) {\n      var source = context.source;\n\n      for (var i = 0; i < source.length; i++) {\n        this.close(source[i]);\n      }\n    },\n    _set_drop_area: function (target, t) {\n      var node = this.getItemNode(target);\n\n      if (node) {\n        node.parentNode.insertBefore(DragControl._dropHTML[0], node);\n      } else t.children[0].children[0].appendChild(DragControl._dropHTML[0]);\n    },\n    //css class to action map, for dblclick event\n    type: exports.extend({\n      //normal state of item\n      template: function (obj, common) {\n        var template$$1 = common[\"template\" + obj.level] || common.templateCommon;\n        return template$$1.apply(this, arguments);\n      },\n      classname: function (obj, common, marks) {\n        var css = \"webix_tree_item\";\n\n        if (obj.$css) {\n          if (_typeof(obj.$css) == \"object\") obj.$css = createCss(obj.$css);\n          css += \" \" + obj.$css;\n        }\n\n        if (marks && marks.$css) css += \" \" + marks.$css;\n        if (common.css) css += \" \" + common.css;\n        return css;\n      },\n      aria: function (obj, common, marks) {\n        return \"role=\\\"treeitem\\\"\" + (marks && marks.webix_selected ? \" aria-selected=\\\"true\\\" tabindex=\\\"0\\\"\" : \" tabindex=\\\"-1\\\"\") + (obj.$count ? \"aria-expanded=\\\"\" + (obj.open ? \"true\" : \"false\") + \"\\\"\" : \"\") + \"aria-level=\\\"\" + obj.$level + \"\\\"\";\n      },\n      templateCommon: template(\"{common.icon()}{common.folder()}<span>#value#</span>\"),\n      templateStart: template(\"<div \" +\n      /*@attr*/\n      \"webix_tm_id\" + \"=\\\"#id#\\\" class=\\\"{common.classname()}\\\" {common.aria()}>\"),\n      templateEnd: template(\"</div>\"),\n      templateCopy: template(\"#value#\")\n    }, TreeType)\n  };\n  var view$14 = exports.protoUI(api$14, TreeStateCheckbox, Group, TreeAPI, DragItem, TreeDataMove, SelectionModel, KeysNavigation, MouseEvents, Scrollable, TreeDataLoader, proto.view, TreeRenderStack, CopyPaste, EventSystem);\n  var tree = {\n    api: api$14,\n    view: view$14\n  };\n  type(view$14, {\n    name: \"lineTree\",\n    css: \"webix_line_tree\",\n    icon: function (obj, common) {\n      var html = \"\";\n      var open = \"\";\n\n      for (var i = 1; i <= obj.$level; i++) {\n        if (i == obj.$level) open = obj.$count ? obj.open ? \"webix_tree_open \" : \"webix_tree_close \" : \"webix_tree_none \";\n\n        var icon = common._icon_src(obj, common, i);\n\n        if (icon) html += \"<div class='\" + open + \"webix_tree_img webix_tree_\" + icon + \"'></div>\";\n      }\n\n      return html;\n    },\n    _icon_src: function (obj, common, level) {\n      var lines = common._tree_branch_render_state;\n      var tree = TreeRenderStack._obj;\n\n      if (lines === 0 && tree) {\n        //we are in standalone rendering \n        //need to reconstruct rendering state\n        var lines_level = obj.$level;\n        var branch_id = obj.id;\n        lines = [];\n\n        while (lines_level) {\n          var parent_id = tree.getParentId(branch_id);\n          var pbranch = tree.data.branch[parent_id];\n          if (pbranch[pbranch.length - 1] == branch_id) lines[lines_level] = true;\n          branch_id = parent_id;\n          lines_level--;\n        } //store for next round\n\n\n        common._tree_branch_render_state = lines;\n      }\n\n      if (!lines) return 0; //need to be replaced with image urls\n\n      if (level == obj.$level) {\n        var mode = 3; //3-way line\n\n        if (!obj.$parent) {\n          //top level\n          if (obj.$index === 0) mode = 4; //firts top item\n        }\n\n        if (lines[obj.$level]) mode = 2;\n\n        if (obj.$count) {\n          if (obj.open) return \"minus\" + mode;else return \"plus\" + mode;\n        } else return \"line\" + mode;\n      } else {\n        if (!lines[level]) return \"line1\";\n        return \"blank\";\n      }\n    }\n  });\n\n  var api$15 = {\n    name: \"treemap\",\n    defaults: {\n      activeItem: false,\n      subRender: true,\n      header: true,\n      headerHeight: 35,\n      value: template(\"#value#\"),\n      headerTemplate: \"\",\n      navigation: true\n    },\n    value_setter: template,\n    headerTemplate_setter: template,\n    header_setter: function (value) {\n      if (value && value !== true) {\n        this.type.header = value;\n      }\n\n      return value;\n    },\n    $init: function () {\n      this.$view.className += \" webix_treemap\";\n\n      this._viewobj.setAttribute(\"role\", \"tree\");\n\n      this._htmlElement = document.createElement(\"DIV\");\n      exports.extend(this.data, TreeStore, true);\n      this.data.provideApi(this, true);\n      this.data.attachEvent(\"onClearAll\", bind(function () {\n        this._html = \"\";\n        this.$values = {};\n        this.$xy = {};\n      }, this));\n      this.attachEvent(\"onKeyPress\", this._onKeyPress);\n    },\n    _toHTMLItem: function (obj) {\n      var mark = this.data._marks[obj.id];\n      this.callEvent(\"onItemRender\", [obj]);\n      var template$$1 = obj.$template ? this.type[\"template\" + obj.$template].call(this, obj, this.type, mark) : this.type.template.call(this, obj, this.type, mark);\n      return this.type.templateStart.call(this, obj, this.type, mark) + template$$1 + this.type.templateEnd.call(this);\n    },\n    _renderHeader: function (id) {\n      var item = this.getItem(id);\n      var height = this._settings.headerHeight;\n      var html = \"<div class='webix_treemap_header' style='height:\" + height + \"px;line-height:\" + height + \"px;'>\";\n      html += this.type.header.call(this, item, this.type);\n      html += \"</div>\";\n      return html;\n    },\n    _renderBranch: function (pId) {\n      var sizes,\n          row,\n          value,\n          sum,\n          leaves = [];\n\n      if (!this.$width || !this.count()) {\n        this._html = \"\";\n        return false;\n      }\n\n      if (!pId) {\n        pId = this.config.branch || 0;\n        this._html = \"\";\n        this.$values = {};\n        this.$xy = {};\n        this.$xy[pId] = {\n          width: this.$width,\n          height: this.$height,\n          top: 0,\n          left: 0\n        }; // header\n\n        if (pId && this._settings.header) {\n          this.$xy[pId].height -= this._settings.headerHeight;\n          this.$xy[pId].top = this._settings.headerHeight;\n          this._html += this._renderHeader(pId);\n        } // values calculation\n\n\n        sum = 0;\n        this.data.each(function (item) {\n          var parentId = this.getParentId(item.id);\n\n          if (!this.data.branch[item.id]) {\n            value = this.config.value.call(this, item) * 1;\n\n            if (!isNaN(value) && value) {\n              this.$values[item.id] = value;\n              sum += value;\n\n              while (parentId) {\n                if (!this.$values[parentId]) this.$values[parentId] = 0;\n                this.$values[parentId] += value;\n                parentId = this.getParentId(parentId);\n              }\n            }\n          }\n        }, this, false, pId);\n      }\n\n      this.data.eachChild(pId, function (item) {\n        if (this.$values[item.id]) leaves.push(copy(item));\n      }, this);\n      sum = sum || this.$values[pId];\n\n      if (leaves.length && sum) {\n        sizes = this.$xy[pId];\n        row = {\n          top: sizes.top,\n          left: sizes.left,\n          dx: sizes.width,\n          dy: sizes.height,\n          set: [],\n          sum: 0\n        };\n        row.dim = Math.min(row.dx, row.dy);\n        var delta = row.dx * row.dy / sum; //total area\n\n        for (var _i = 0; _i < leaves.length; _i++) {\n          leaves[_i].$value = this.$values[leaves[_i].id] * delta;\n        } //normalized value\n\n\n        leaves.sort(function (a, b) {\n          return a.$value > b.$value ? -1 : 1;\n        });\n        var bad = Infinity;\n        var i = 0;\n\n        while (leaves[i]) {\n          var check = this._worst(row, leaves[i]);\n\n          if (check < bad) {\n            row.sum += leaves[i].$value;\n            row.set.push(leaves[i]);\n            bad = check;\n            i++;\n          } else {\n            this._renderRow(row);\n\n            var r = {\n              top: row.top,\n              left: row.left,\n              dx: row.dx,\n              dy: row.dy,\n              set: [],\n              sum: 0\n            };\n\n            var _delta = row.sum / row.dim;\n\n            if (row.dx > row.dy) {\n              r.left += _delta;\n              r.dx -= _delta;\n            } else {\n              r.top += _delta;\n              r.dy -= _delta;\n            }\n\n            row = r;\n            row.dim = Math.min(row.dx, row.dy);\n            bad = Infinity;\n          }\n        }\n      }\n\n      if (row) this._renderRow(row);\n    },\n    _renderRow: function (row) {\n      var i,\n          id,\n          x,\n          y,\n          top = row.top,\n          left = row.left;\n      row.mode = row.dy < row.dx;\n      row.contra = row.sum / row.dim;\n\n      for (i = 0; i < row.set.length; i++) {\n        id = row.set[i].id;\n\n        if (row.mode) {\n          x = row.contra;\n          y = row.set[i].$value / row.contra;\n        } else {\n          x = row.set[i].$value / row.contra;\n          y = row.contra;\n        }\n\n        this.$xy[id] = {};\n        this.$xy[id].top = top;\n        this.$xy[id].left = left;\n        if (row.mode) top += y;else left += x;\n        this.$xy[id].width = x;\n        this.$xy[id].height = y;\n        this._html += this._toHTMLItem(this.getItem(id));\n        if (this._settings.subRender && this.data.branch[id]) this._renderBranch(id);\n      }\n    },\n    _worst: function (row, add) {\n      var s = row.sum + add.$value;\n      var a = s * s / (row.dim * row.dim * add.$value);\n\n      if (row.set.length) {\n        a = Math.max(row.dim * row.dim * row.set[0].$value / (s * s), a);\n      }\n\n      return a > 1 ? a : 1 / a;\n    },\n    _toHTMLObject: function (obj) {\n      this._htmlElement.innerHTML = this._toHTMLItem(obj);\n      return this._htmlElement.firstChild;\n    },\n    showBranch: function (id) {\n      this._settings.branch = id;\n      this.refresh();\n    },\n    render: function (id, data, type) {\n      if (!this.isVisible(this._settings.id) || this.$blockRender) return;\n\n      if (type == \"update\") {\n        var cont = this.getItemNode(id); //get html element of updated item\n\n        if (cont) {\n          var t = this._htmlmap[id] = this._toHTMLObject(data);\n\n          insertBefore(t, cont);\n          remove(cont);\n        }\n      } else if (this.data.branch && (!this._settings.branch || this.data.branch[this._settings.branch])) {\n        this._htmlmap = null;\n        this.callEvent(\"onBeforeRender\", []);\n\n        this._renderBranch();\n\n        this._dataobj.innerHTML = this._html;\n        this.callEvent(\"onAfterRender\", []);\n      }\n\n      return true;\n    },\n    _id:\n    /*@attr*/\n    \"webix_dm_id\",\n    on_click: {\n      webix_treemap_item: function (e, id) {\n        if (this._settings.select) {\n          if (this._settings.select == \"multiselect\" || this._settings.multiselect) this.select(id, false, e.ctrlKey || e.metaKey || this._settings.multiselect == \"touch\", e.shiftKey);else this.select(id);\n        }\n\n        if (this._settings.activeItem && this.isBranch(id)) {\n          this.showBranch(id);\n        }\n      },\n      webix_treemap_header_item: function (e) {\n        var id = locate(e,\n        /*@attr*/\n        \"webix_dm_header_id\");\n        this.define(\"branch\", id);\n        this.refresh();\n      },\n      webix_treemap_reset: function () {\n        this.define(\"branch\", 0);\n        this.refresh();\n      }\n    },\n    on_dblclick: {},\n    on_mouse_move: {},\n    _getCssText: function (style) {\n      var css = \"\";\n\n      for (var property in style) {\n        css += property + \":\" + style[property] + \";\";\n      }\n\n      return css;\n    },\n    type: {\n      //normal state of item\n      template: template(\"#value#\"),\n      header: function (obj, common) {\n        var id = obj.id;\n        var resetIcon = \"<div role='button' tabindex='0' aria-label='\" + i18n.aria.resetTreeMap + \"' class='webix_treemap_reset'></div>\";\n        var arr = [];\n\n        while (id) {\n          obj = this.getItem(id);\n          arr.push(common.headerItem.call(this, obj, common));\n          id = this.getParentId(id);\n        }\n\n        arr.reverse();\n        return resetIcon + arr.join(\"<span class='webix_icon wxi-angle-right webix_treemap_path_icon'></span>\");\n      },\n      headerItem: function (obj) {\n        var template$$1 = this.config.headerTemplate(obj);\n        var html = \"<a role=\\\"button\\\" tabindex=\\\"0\\\" aria-label=\\\"\" + template$$1 + \"\\\" \" +\n        /*@attr*/\n        \"webix_dm_header_id\" + \"=\\\"\" + obj.id + \"\\\" class=\\\"webix_treemap_header_item\\\">\";\n        html += template$$1;\n        html += \"</a>\";\n        return html;\n      },\n      classname: function (obj, common, marks) {\n        var css = \"webix_treemap_item\";\n        if (common.css) css += \" \" + common.css;\n\n        if (obj.$css) {\n          if (_typeof(obj.$css) == \"object\") obj.$css = createCss(obj.$css);\n          css += \" \" + obj.$css;\n        }\n\n        var xy = this.$xy[obj.id];\n        if (marks && marks.$css) css += \" \" + marks.$css;\n        css += \" webix_treemap_level_\" + this.getItem(obj.id).$level;\n        var parentId = this.getParentId(obj.id);\n        if (!parentId || parentId == this._settings.branch) css += \" webix_treemap_level_top\";\n        if (this.$height - xy.top - xy.height < 1) css += \" webix_treemap_item_bottom\";\n        if (this.$width - xy.left - xy.width < 1) css += \" webix_treemap_item_right\";\n\n        if (common.cssClass) {\n          var cssClass = common.cssClass.call(this, obj, common, marks);\n\n          if (cssClass) {\n            if (_typeof(cssClass) == \"object\") {\n              css += \" \" + createCss(cssClass);\n            } else css += \" \" + cssClass;\n          }\n        }\n\n        return css;\n      },\n      templateStart: function (obj, type, marks) {\n        var style = \"\";\n\n        if (this.$xy) {\n          var xy = this.$xy[obj.id];\n          style += \"width: \" + xy.width + \"px; height: \" + xy.height + \"px;\";\n          style += \"top: \" + xy.top + \"px; left: \" + xy.left + \"px;\";\n        }\n\n        return \"<div role=\\\"treeitem\\\" aria-level=\\\"\" + obj.$level + \"\\\" \" + (marks && marks.webix_selected ? \"aria-selected=\\\"true\\\" tabindex=\\\"0\\\"\" : \"\") + \" \" +\n        /*@attr*/\n        \"webix_dm_id\" + \"=\\\"\" + obj.id + \"\\\" class=\\\"\" + type.classname.call(this, obj, type, marks) + \"\\\" style=\\\"\" + style + \"\\\">\";\n      },\n      templateEnd: template(\"</div>\")\n    }\n  };\n  var view$15 = exports.protoUI(api$15, Group, TreeAPI, SelectionModel, KeysNavigation, MouseEvents, Scrollable, TreeDataLoader, proto.view, TreeRenderStack, CopyPaste, EventSystem);\n\n  /*\n  \tUI:DataView\n  */\n  // #include ui/component.js\n  // #include core/mouse.js \t\n  // #include core/edit.js \n  // #include core/selection.js \n  // #include core/drag.js\n  // #include core/move.js\n  // #include core/virtual_render.js\n  // #include core/keynav.js\n  // #include core/print.js\n\n  var api$16 = {\n    name: \"dataview\",\n    $init: function (config) {\n      if (config.sizeToContent) //method need to be called before data-loaders\n        //so we are using unshift to place it at start\n        this.$ready.unshift(this._after_init_call);\n      var type = config.type || config.item;\n      var prerender = config.prerender || this.defaults.prerender || type && type.width == \"auto\" || config.drag == \"move\" || config.drag == \"order\";\n      if (!prerender && !config.autoheight) exports.extend(this, VirtualRenderStack, true);\n      if (config.autoheight) config.scroll = false;\n\n      if (type && type.type == \"tiles\") {\n        this._tilesPadding = type.padding || this.type.padding;\n        this._viewobj.firstChild.style.float = \"left\";\n        this._viewobj.firstChild.style.padding = this._tilesPadding / 2 + \"px\";\n      }\n\n      this._contentobj.className += \" webix_dataview\";\n\n      this._viewobj.setAttribute(\"role\", \"listbox\");\n    },\n    _after_init_call: function () {\n      var test = create(\"DIV\", 0, this.type.template({}));\n      test.className = \"webix_dataview_item\";\n      test.style.position = \"absolute\";\n      document.body.appendChild(test);\n      this.type.width = test.offsetWidth + this._tilesPadding;\n      this.type.height = test.offsetHeight + this._tilesPadding;\n      remove(test);\n    },\n    defaults: {\n      scroll: true,\n      datafetch: 50,\n      navigation: true\n    },\n    _id:\n    /*@attr*/\n    \"webix_l_id\",\n    _itemClassName: \"webix_dataview_item\",\n    _tilesPadding: 0,\n    _drag_direction: \"x\",\n    on_click: {\n      webix_dataview_item: function (e, id) {\n        if (this._settings.select) {\n          if (this._settings.select == \"multiselect\" || this._settings.multiselect) this.select(id, false, this._settings.multiselect == \"touch\" || e.ctrlKey || e.metaKey, e.shiftKey); //multiselection\n          else this.select(id);\n        }\n      }\n    },\n    on_dblclick: {},\n    on_mouse_move: {},\n    type: {\n      //normal state of item\n      template: template(\"#value#\"),\n      //in case of dyn. loading - temporary spacer\n      templateLoading: template(\"Loading...\"),\n      width: 160,\n      height: 50,\n      padding: 8,\n      classname: function (obj, common, marks) {\n        var css = \"webix_dataview_item\";\n        if (common.css) css += \" \" + common.css;\n        if (common.type) css += \" \" + common.type;\n\n        if (obj.$css) {\n          if (_typeof(obj.$css) == \"object\") obj.$css = createCss(obj.$css);\n          css += \" \" + obj.$css;\n        }\n\n        if (marks && marks.$css) css += \" \" + marks.$css;\n        return css;\n      },\n      aria: function (obj, common, marks) {\n        return \"role=\\\"option\\\"\" + (marks && marks.webix_selected ? \" aria-selected=\\\"true\\\" tabindex=\\\"0\\\"\" : \" tabindex=\\\"-1\\\"\");\n      },\n      templateStart: function (obj, common, marks) {\n        var width = common.width,\n            height = common.height;\n        var padding = 0;\n\n        if (common.type == \"tiles\") {\n          width -= common.padding;\n          height -= common.padding;\n          padding = common.padding / 2;\n        }\n\n        return \"<div \" +\n        /*@attr*/\n        \"webix_l_id=\\\"\" + obj.id + \"\\\" class=\\\"\" + common.classname(obj, common, marks) + \"\\\" \" + common.aria(obj, common, marks) + \" style=\\\"margin:\" + padding + \"px; width:\" + width + \"px; height:\" + height + \"px; float:left; overflow:hidden;\\\">\";\n      },\n      templateEnd: template(\"</div>\")\n    },\n    $dropHTML: function () {\n      var p = this._tilesPadding;\n      return \"<div class=\\\"webix_drop_area_inner\\\" style=\\\"width:\".concat(this.type.width - p, \"px; height:\").concat(this.type.height - p, \"px; margin:\").concat(p / 2, \"px\\\"></div>\");\n    },\n    _calck_autoheight: function (width) {\n      return this._settings.height = this.type.height * Math.ceil(this.data.count() / Math.floor(width / this.type.width));\n    },\n    autoheight_setter: function (mode) {\n      var _this = this;\n\n      if (mode) {\n        this.data.attachEvent(\"onStoreLoad\", function () {\n          return _this.resize();\n        });\n        this.data.attachEvent(\"onStoreUpdated\", function (id, obj, mode) {\n          if (!id || mode === \"add\" || mode === \"delete\") _this._auto_resize();\n        });\n        this.data.attachEvent(\"onSyncApply\", function () {\n          return _this._auto_resize();\n        });\n        this._contentobj.style.overflowY = \"hidden\";\n      }\n\n      return mode;\n    },\n    _auto_resize: function () {\n      if (this._settings.autoheight) {\n        this.resize();\n      }\n    },\n    $getSize: function (dx, dy) {\n      if (this._settings.xCount && this.type.width != \"auto\" && !this._autowidth) this._settings.width = this.type.width * this._settings.xCount + this._tilesPadding + (this._scroll_y ? env.scrollSize : 0);\n      if (this._settings.yCount && this.type.height != \"auto\" && !this._autoheight) this._settings.height = this.type.height * this._settings.yCount + this._tilesPadding;\n      var width = this._settings.width || this._content_width;\n\n      if (this._settings.autoheight && width) {\n        this._recalk_counts();\n\n        this._calck_autoheight(width);\n\n        this.scroll_setter(false);\n      }\n\n      return base$1.api.$getSize.call(this, dx, dy);\n    },\n    _recalk_counts: function () {\n      if (this._settings.yCount && (this._autoheight || this.type.height == \"auto\")) {\n        this.type.height = Math.floor((this._content_height - this._tilesPadding) / this._settings.yCount);\n        this._autoheight = this._settings.yCount;\n      }\n\n      if (this._settings.xCount && (this._autowidth || this.type.width == \"auto\")) {\n        this.type.width = Math.floor((this._content_width - this._tilesPadding) / this._settings.xCount);\n        this._autowidth = this._settings.xCount;\n      }\n\n      return this._autoheight || this._autowidth;\n    },\n    $setSize: function (x, y) {\n      var c = this._settings;\n\n      if (base$1.api.$setSize.call(this, x, y)) {\n        if (c.autoheight && this._calck_autoheight() != this._content_height) return delay(this.resize, this);\n        if (this._recalk_counts() || this._render_visible_rows) this.render();\n      } else if (c.yCount && c.yCount != this._autoheight || c.xCount && c.xCount != this._autowidth) {\n        if (this._recalk_counts()) this.render();\n      }\n    }\n  };\n  var view$16 = exports.protoUI(api$16, DataMove, DragItem, MouseEvents, KeysNavigation, SelectionModel, Scrollable, CustomPrint, proto.view);\n\n  i18n.pager = {\n    first: \"<span class='webix_icon wxi-angle-double-left'></span>\",\n    last: \"<span class='webix_icon wxi-angle-double-right'></span>\",\n    next: \"<span class='webix_icon wxi-angle-right'></span>\",\n    prev: \"<span class='webix_icon wxi-angle-left'></span>\"\n  };\n  var api$17 = {\n    defaults: {\n      size: 10,\n      //items on page\n      page: 0,\n      //current page\n      group: 5,\n      template: \"{common.pages()}\",\n      maxWidth: 100000,\n      height: 30,\n      borderless: true\n    },\n    name: \"pager\",\n    on_click: {\n      //on paging button click\n      \"webix_pager_item\": function (e, id) {\n        this.select(id);\n      }\n    },\n    $init: function (config) {\n      this.data = this._settings;\n      this._dataobj = this._viewobj;\n      this._viewobj.className += \" webix_pager\" + (config.autowidth ? \" webix_pager_auto\" : \"\");\n      if (config.master === false || config.master === 0) this.$ready.push(this._remove_master);\n    },\n    _remove_master: function () {\n      this.refresh();\n      this.$master = {\n        refresh: function () {},\n        select: function () {}\n      };\n    },\n    select: function (id) {\n      if (this.$master && this.$master.name == \"pager\") return this.$master.select(id); //id - id of button, number for page buttons\n\n      switch (id) {\n        case \"next\":\n          id = this._settings.page + 1;\n          break;\n\n        case \"prev\":\n          id = this._settings.page - 1;\n          break;\n\n        case \"first\":\n          id = 0;\n          break;\n\n        case \"last\":\n          id = this._settings.limit - 1;\n          break;\n\n        default:\n          //use incoming id\n          break;\n      }\n\n      if (id < 0) id = 0;\n      if (id >= this.data.limit) id = this.data.limit - 1;\n      var old = this.data.page;\n\n      if (this.callEvent(\"onBeforePageChange\", [id, old])) {\n        this.data.page = id * 1; //must be int\n\n        if (this.refresh()) {\n          if (!this._settings.animate || !this._animate(old, id * 1, this._settings.animate)) this.$master.refresh();\n        }\n\n        this.callEvent(\"onAfterPageChange\", [id]);\n      }\n    },\n    _id:\n    /*@attr*/\n    \"webix_p_id\",\n    template_setter: template,\n    type: {\n      template: function (a, b) {\n        return a.template.call(this, a, b);\n      },\n      //list of page numbers\n      pages: function (obj) {\n        var html = \"\"; //skip rendering if paging is not fully initialized\n\n        if (obj.page == -1) return \"\"; //current page taken as center of view, calculate bounds of group\n\n        obj.$min = obj.page - Math.round((obj.group - 1) / 2);\n        obj.$max = obj.$min + obj.group * 1 - 1;\n\n        if (obj.$min < 0) {\n          obj.$max += obj.$min * -1;\n          obj.$min = 0;\n        }\n\n        if (obj.$max >= obj.limit) {\n          obj.$min -= Math.min(obj.$min, obj.$max - obj.limit + 1);\n          obj.$max = obj.limit - 1;\n        } //generate HTML code of buttons\n\n\n        for (var i = obj.$min || 0; i <= obj.$max; i++) {\n          html += this.button({\n            id: i,\n            index: i + 1,\n            selected: i == obj.page ? \"_selected\" : \"\",\n            label: i18n.aria.page + \" \" + (i + 1)\n          });\n        }\n\n        return html;\n      },\n      page: function (obj) {\n        return obj.page + 1;\n      },\n      //go-to-first page button\n      first: function () {\n        return this.button({\n          id: \"first\",\n          index: i18n.pager.first,\n          selected: \"\",\n          label: i18n.aria.pages[0]\n        });\n      },\n      //go-to-last page button\n      last: function () {\n        return this.button({\n          id: \"last\",\n          index: i18n.pager.last,\n          selected: \"\",\n          label: i18n.aria.pages[3]\n        });\n      },\n      //go-to-prev page button\n      prev: function () {\n        return this.button({\n          id: \"prev\",\n          index: i18n.pager.prev,\n          selected: \"\",\n          label: i18n.aria.pages[1]\n        });\n      },\n      //go-to-next page button\n      next: function () {\n        return this.button({\n          id: \"next\",\n          index: i18n.pager.next,\n          selected: \"\",\n          label: i18n.aria.pages[2]\n        });\n      },\n      button: template(\"<button type='button' \" +\n      /*@attr*/\n      \"webix_p_id\" + \"='{obj.id}' class='webix_pager_item{obj.selected}' aria-label='{obj.label}'>{obj.index}</button>\")\n    },\n    clone: function (pager) {\n      if (!pager.$view) {\n        pager.view = \"pager\";\n        pager = ui(pager);\n      }\n\n      this._clone = pager;\n      pager.$master = this;\n\n      this._refresh_clone();\n    },\n    refresh: function () {\n      var s = this._settings; //max page number\n\n      s.limit = Math.ceil(s.count / s.size) || 1;\n      var newPage = Math.min(s.limit - 1, s.page);\n      if (newPage != s.page) return this.$master.setPage(newPage);\n      s.page = newPage;\n\n      if (newPage >= 0 && newPage != s.old_page || s.limit != s.old_limit || s.old_count != s.count) {\n        //refresh self only if current page or total limit was changed\n        this.render();\n\n        this._refresh_clone();\n\n        s.old_limit = s.limit; //save for onchange check in next iteration\n\n        s.old_page = s.page;\n        s.old_count = s.count;\n        return true;\n      }\n    },\n    apiOnly_setter: function (value) {\n      return this.$apiOnly = value;\n    },\n    _refresh_clone: function () {\n      if (this._clone) {\n        this._clone._settings.count = this._settings.count;\n        this._clone._settings.page = this._settings.page;\n\n        this._clone.refresh();\n      }\n    },\n    _animate: function (old, id, config) {\n      if (old == id) return false;\n\n      if (this._pgInAnimation) {\n        if (this._pgAnimateTimeout) {\n          window.clearTimeout(this._pgAnimateTimeout);\n        }\n\n        return this._pgAnimateTimeout = delay(this._animate, this, [old, id, config], 100);\n      }\n\n      var direction = id > old ? \"left\" : \"right\";\n      if (config.direction == \"top\" || config.direction == \"bottom\") direction = id > old ? \"top\" : \"bottom\";\n      if (config.flip) direction = \"\"; //make copy of existing view\n\n      var top = 0;\n      var snode = this.$master._dataobj;\n      var isDataTable = !!this.$master._body;\n\n      if (isDataTable) {\n        snode = this.$master._body;\n        top = snode.offsetTop;\n        addCss(this.$master.$view, \"webix_animation\");\n      }\n\n      var onode = snode.cloneNode(true);\n      onode.style.width = snode.style.width = \"100%\"; //redraw page\n\n      this.$master.refresh(); //append copy next to original\n\n      insertBefore(onode, snode.nextSibling, snode.parentNode);\n      if (isDataTable) onode.childNodes[1].scrollLeft = snode.childNodes[1].scrollLeft; //animation config\n\n      var line;\n      var base = config !== true ? config : {};\n      var aniset = exports.extend({\n        direction: direction,\n        callback: bind(function () {\n          aniset.callback = null;\n          animate.breakLine(line);\n          this._pgInAnimation = false;\n          if (this.$master._body) removeCss(this.$master.$view, \"webix_animation\");\n        }, this),\n        top: top,\n        keepViews: isDataTable\n      }, base); //run animation\n\n      line = animate.formLine(snode, onode, aniset);\n      animate([snode, onode], aniset);\n      this._pgInAnimation = true;\n    }\n  };\n  var view$17 = exports.protoUI(api$17, MouseEvents, SingleRender, base$1.view, EventSystem);\n\n  var api$18 = {\n    name: \"comments\",\n    defaults: {\n      sendAction: \"click\",\n      mode: \"comments\",\n      highlight: true,\n      maxInputHeight: 84\n    },\n    $init: function (config) {\n      this.$view.className += \" webix_comments\";\n      this._destroy_with_me = [];\n      config.rows = [this.$configList(config)];\n      if (!config.moreButton) config.moreButton = template(i18n.comments.moreComments);\n\n      if (!config.readonly) {\n        config.rows.push(this.$configForm(config));\n\n        this._initMenu();\n      }\n\n      if (env.mobile) config.keepButtonVisible = true;\n\n      this._initUsers(config.users);\n\n      this.$ready.push(this._afterInit);\n    },\n    $exportView: function () {\n      return this._list;\n    },\n    _afterInit: function () {\n      var _this = this;\n\n      // store UI blocks\n      this._list = this.queryView(\"list\");\n      this._form = this.queryView(\"form\");\n      this._sendButton = this.queryView(\"button\");\n      this._input = this.queryView({\n        localId: \"textarea\"\n      });\n      if (this.config.mentions) this._initMentions(this.config.mentions); //provide data-like API\n\n      this._list.data.provideApi(this, true);\n\n      this.serialize = function () {\n        var data = _this._list.serialize();\n\n        var index$$1 = _this.getIndexById(\"$more\");\n\n        if (index$$1 >= 0) data.splice(index$$1, 1);\n        return data;\n      }; //tune input zone\n\n\n      if (!this._settings.readonly) {\n        this._clickHandler = attachEvent(\"onClick\", function (e) {\n          var view = $$(e);\n\n          if (view == _this._input) {\n            _this.focus();\n          } else if (view !== _this._sendButton && view !== _this._listMenu && (!_this._userList || view !== _this._userList.getList()) && (!e || (e.target.className || \"\").toString().indexOf(\"webix_comments_menu\") === -1)) {\n            _this._changeTextarea(false);\n          }\n        });\n        this.attachEvent(\"onDestruct\", function () {\n          detachEvent(this._clickHandler);\n        });\n\n        this._list.attachEvent(\"onAfterScroll\", function () {\n          _this._listMenu.hide();\n        });\n      }\n    },\n    $onLoad: function (data, driver) {\n      return this._fillList(data, driver);\n    },\n    _fillList: function (data, driver) {\n      var _this2 = this;\n\n      var list$$1 = this._list || this.queryView({\n        view: \"list\"\n      });\n      list$$1.data.driver = driver;\n      var more = false; //check if datastore\n\n      if (typeof data.serialize == \"function\") data = data.serialize();else {\n        more = data.more;\n        data = driver.getRecords(data);\n      } //parse more comments\n\n      if (this._moreCall) {\n        this._moreCall = false;\n\n        if (data.length) {\n          //add spaces after 'more' button to accommodate new data\n          var order = list$$1.data.order,\n              pos$$1 = 1;\n          if (this._settings.mode == \"chat\") list$$1.data.order = _to_array([order[0]].concat(new Array(data.length), order.slice(1)));else {\n            var start = list$$1.getIndexById(\"$more\");\n            list$$1.data.order = _to_array(order.slice(0, start).concat(new Array(data.length), order.slice(start)));\n            pos$$1 = start;\n          } //parse into defined position\n\n          list$$1.parse({\n            data: data,\n            pos: pos$$1\n          });\n          if (more) dp(this._list).ignore(function () {\n            _this2._list.updateItem(\"$more\", {\n              value: more\n            });\n          });\n          if (this._settings.mode == \"chat\") list$$1.showItem(list$$1.getIdByIndex(data.length));\n        }\n\n        if (!data.length || !more) dp(this._list).ignore(function () {\n          _this2._list.remove(\"$more\");\n        });\n      } //normal parse\n      else {\n          if (more && !list$$1.exists(\"$more\")) {\n            more = {\n              id: \"$more\",\n              value: more,\n              $css: \"webix_comments_more_item\"\n            };\n            if (this._settings.mode == \"chat\") data.unshift(more);else data.push(more);\n          }\n\n          list$$1.parse(data);\n\n          if (this._settings.mode == \"chat\") {\n            //wait until rendered\n            list$$1.waitData.then(function () {\n              return list$$1.showItem(list$$1.getLastId());\n            });\n          }\n        }\n\n      return true;\n    },\n    $skin: function () {\n      layout.api.$skin.call(this);\n      this._inputHeight = $active.inputHeight + 6;\n    },\n    getUsers: function () {\n      return this._users;\n    },\n    getMenu: function () {\n      return this._listMenu;\n    },\n    setCurrentUser: function (id, config) {\n      this.config.currentUser = id;\n\n      this._form.clear(config);\n\n      this._list.refresh();\n    },\n    edit: function (id, config) {\n      if (!this.config.readonly && this.callEvent(\"onBeforeEditStart\", [id])) {\n        this._changeTextarea(true);\n\n        var values = this._list.getItem(id);\n\n        this._form.setValues(values, false, config);\n\n        this._form.focus(); //set cursor to the last character and scroll to bottom\n\n\n        var node = this._form.elements.text.getInputNode();\n\n        node.scrollTop = node.scrollHeight;\n        setSelectionRange(node, values.text.length);\n        this.callEvent(\"onAfterEditStart\", [id]);\n      }\n    },\n    _saveComment: function (clear) {\n      var values = this._form.getValues();\n\n      if (values.text) {\n        if (values.id) this.updateItem(values.id, values);else {\n          if (this.config.currentUser) values.user_id = this.config.currentUser;\n          values.date = new Date();\n          this.add(values);\n\n          this._list.showItem(values.id);\n        }\n\n        this._form.clear(\"user\");\n\n        if (clear) this._input.getInputNode().value = \"\";\n      }\n    },\n    _removeComment: function (id) {\n      if (this._form.getValues().id == id) {\n        this._form.clear(\"user\");\n      }\n\n      this.remove(id);\n    },\n    _changeTextarea: function (expand) {\n      // prevent unnecessary operations\n      if (expand === this._text_expanded) return;\n      var config = this._settings;\n\n      if (expand) {\n        this._sendButton.getParentView().show();\n\n        this._input.define({\n          height: config.maxInputHeight\n        });\n      } else {\n        if (UIManager.hasFocus(this._sendButton)) UIManager.setFocus(this._list);\n        if (!config.keepButtonVisible) this._sendButton.getParentView().hide();\n\n        this._input.define({\n          height: config.minInputHeight || this._inputHeight\n        });\n      }\n\n      this._input.resize();\n\n      this._text_expanded = expand;\n    },\n    focus: function () {\n      var _this3 = this;\n\n      this._changeTextarea(true);\n\n      delay(function () {\n        _this3._input.focus();\n      });\n    },\n    _toggleButton: function (value) {\n      if (!value) value = this._input.getValue();\n      if (value && !this._sendButton.isEnabled()) this._sendButton.enable();else if (!value && this._sendButton.isEnabled()) this._sendButton.disable();\n    },\n    _initMenu: function () {\n      var _this4 = this;\n\n      this._listMenu = ui({\n        view: \"contextmenu\",\n        autowidth: true,\n        point: false,\n        data: [{\n          id: \"edit\",\n          icon: \"wxi-pencil\",\n          value: i18n.comments[\"edit\"]\n        }, {\n          id: \"remove\",\n          icon: \"wxi-trash\",\n          value: i18n.comments[\"remove\"]\n        }],\n        on: {\n          onShow: function () {\n            var ctx = _this4._listMenu.getContext();\n\n            _this4._list.addCss(ctx.id, \"active_menu\");\n          },\n          onHide: function () {\n            var ctx = _this4._listMenu.getContext();\n\n            _this4._list.removeCss(ctx.id, \"active_menu\");\n          },\n          onItemClick: function (id) {\n            var ctx = _this4._listMenu.getContext();\n\n            if (_this4.callEvent(\"onBeforeMenuAction\", [id, ctx.id])) {\n              if (id == \"edit\") _this4.edit(ctx.id, \"user\");else if (id == \"remove\") {\n                if (i18n.comments.confirmMessage) confirm({\n                  text: i18n.comments.confirmMessage,\n                  callback: function (res) {\n                    if (res) _this4._removeComment(ctx.id);\n                  }\n                });else _this4._removeComment(ctx.id);\n              }\n            }\n          }\n        }\n      });\n\n      this._destroy_with_me.push(this._listMenu);\n    },\n    $configForm: function (config) {\n      var _this5 = this;\n\n      var locale = i18n.comments;\n      var textarea = {\n        view: \"textarea\",\n        localId: \"textarea\",\n        css: \"webix_comments_textarea\",\n        height: config.minInputHeight || this._inputHeight,\n        name: \"text\",\n        placeholder: locale[\"placeholder\"],\n        keyPressTimeout: 100,\n        on: {\n          onTimedKeyPress: function () {\n            _this5._toggleButton();\n          },\n          onChange: function (newv) {\n            _this5._toggleButton(newv);\n          },\n          onKeyPress: function (code, ev) {\n            if (code == 13) {\n              var action = _this5._settings.sendAction,\n                  shift = ev.shiftKey;\n\n              if (action == \"enter\" && !shift || action !== \"enter\" && shift) {\n                preventEvent(ev);\n\n                _this5._saveComment(true);\n              }\n            }\n          }\n        }\n      };\n\n      if (config.highlight !== false) {\n        exports.extend(textarea, {\n          view: \"texthighlight\",\n          type: \"textarea\",\n          highlight: function (text$$1) {\n            return _this5._highlightMention(template.escape(text$$1), true);\n          }\n        }, true);\n      }\n\n      var form = {\n        view: \"form\",\n        minHeight: 50,\n        paddingX: 10,\n        elements: [textarea, {\n          hidden: !config.keepButtonVisible,\n          cols: [{}, {\n            view: \"button\",\n            disabled: true,\n            css: \"webix_comments_send webix_primary\",\n            value: locale[\"send\"],\n            autowidth: true,\n            click: function () {\n              _this5._saveComment();\n            }\n          }]\n        }]\n      };\n      return form;\n    },\n    _highlightMention: function (text$$1, textarea) {\n      var _this6 = this;\n\n      if (text$$1.indexOf(\"@\") === -1) return text$$1;\n      var field;\n      if (this._settings.highlight === \"users\") field = this._userList ? this._userList._settings.textValue || \"value\" : \"value\";\n      var getMention = textarea ? this._markedText : this._markedHTML;\n      return text$$1.replace(getMention, function (text$$1, name1, _c, name2) {\n        return _this6._wrapName(text$$1, name2 || name1, field, textarea);\n      });\n    },\n    _wrapName: function (text$$1, name, field, textarea) {\n      if (field && !this._users.find(function (user) {\n        return user[field] == name;\n      }, true)) return text$$1;\n      return \"<span class=\\\"webix_comments_mention\\\">\".concat(textarea ? text$$1 : \"@\" + name, \"</span>\");\n    },\n    $configList: function (config) {\n      var _this7 = this;\n\n      var css = \"webix_comments_\";\n      var type = {\n        height: \"auto\",\n        templateStatus: function (obj) {\n          return \"<span class = '\" + css + \"status \" + obj.status + \"'></span>\";\n        },\n        templateUser: function (obj) {\n          var users = _this7.getUsers();\n\n          var user = users && users.exists(obj.user_id) ? users.getItem(obj.user_id) : {};\n          var name = \"<span class = '\" + css + \"name'>\" + (user.value || \"\") + \"</span>\";\n          return name;\n        },\n        templateMenu: function () {\n          return _this7.config.readonly ? \"\" : \"<span class='webix_icon wxi-dots \" + css + \"menu'></span>\";\n        },\n        templateDate: function (obj) {\n          var format = wDate.dateToStr(\"%d %M, %H:%i\");\n          return obj.date ? \"<span class='\" + css + \"date'>\" + format(obj.date) + \"</span>\" : \"\";\n        },\n        templateLinks: function (obj) {\n          var text$$1 = obj.text.replace(/(https?:\\/\\/[^\\s]+)/g, function (match) {\n            match = template.escape(match);\n            var html = \"<a target='_blank' href='\" + match + \"'>\";\n            if (match.match(/.(jpg|jpeg|png|gif)$/)) html += \"<img class='webix_comments_image' src='\" + match + \"'/>\";else html += match;\n            return html + \"</a>\";\n          });\n          return text$$1;\n        },\n        templateMentioned: function (obj) {\n          var text$$1 = obj.text;\n          if (_this7._settings.mentions && _this7._settings.highlight) text$$1 = _this7._highlightMention(obj.text);\n          return text$$1;\n        },\n        templateText: function (obj) {\n          return \"<div class = '\" + css + \"message'>\" + obj.text + \"</div>\";\n        },\n        templateAvatar: function (obj, common) {\n          var avatar = \"<div class='\" + css + \"avatar'>\";\n\n          var users = _this7.getUsers();\n\n          var user = users && users.exists(obj.user_id) ? users.getItem(obj.user_id) : {};\n          if (user.status) avatar += common.templateStatus(user);\n          avatar += \"<div class='\" + css + \"avatar_image \";\n          if (user.image) avatar += \"'><img src = '\" + user.image + \"' class='\" + css + \"photo'>\";else {\n            var icon = user.value ? user.value[0].toUpperCase() : \"<span class='webix_icon wxi-user'></span>\";\n            avatar += css + \"avatar_text'>\" + icon;\n          }\n          avatar += \"</div></div>\";\n          return avatar;\n        },\n        template: function (obj, common) {\n          var message$$1;\n\n          if (obj.id == \"$more\") {\n            message$$1 = \"<div class='webix_comments_more'>\" + _this7._settings.moreButton(obj) + \"</div>\";\n          } else {\n            obj = copy(obj);\n            var avatar = common.templateAvatar(obj, common);\n            var user = common.templateUser(obj, common);\n            var date = common.templateDate(obj, common);\n            var menu = common.templateMenu(obj, common);\n            obj.text = common.templateMentioned(obj);\n            obj.text = common.templateLinks(obj);\n\n            var _text = common.templateText(obj, common);\n\n            message$$1 = avatar + user + menu + date + _text;\n          }\n\n          return message$$1;\n        },\n        classname: function (obj, common, marks) {\n          var css = list.api.type.classname(obj, common, marks);\n          if (obj.user_id && obj.user_id == _this7._settings.currentUser || !_this7._users.count()) css += \" webix_comments_current\";\n          return css;\n        }\n      };\n      type = exports.extend(type, config.listItem || {}, true);\n      var scheme = {\n        $init: function (obj) {\n          if (obj.date) obj.date = i18n.parseFormatDate(obj.date);\n        }\n      }; // using webix.extend() for extending schemes results in wrong calls of $init()\n\n      if (config.scheme) Object.keys(config.scheme).forEach(function (k) {\n        scheme[k] = config.scheme[k];\n      });\n      var listConfig = {\n        view: \"list\",\n        navigation: false,\n        type: type,\n        scheme: scheme,\n        onClick: {\n          \"webix_comments_menu\": function (ev, id) {\n            if (_this7._listMenu.isVisible()) _this7._listMenu.hide();else {\n              _this7._listMenu.setContext({\n                obj: _this7,\n                id: id\n              });\n\n              _this7._listMenu.show(ev.target, type.menuPosition || {\n                pos: \"left\",\n                y: 30,\n                x: 10\n              });\n            }\n          },\n          \"webix_comments_more\": function () {\n            if (_this7.config.url && _this7.callEvent(\"onDataRequest\", [])) {\n              _this7._moreCall = true;\n\n              var more = _this7._list.getItem(\"$more\").value;\n\n              var pos$$1 = _this7._settings.mode == \"chat\" ? more : _this7._list.getIndexById(\"$more\");\n              var url = proxy$5.$parse(_this7.config.url);\n              var callback = {\n                error: function () {\n                  _this7._moreCall = false;\n                }\n              };\n              if (typeof url == \"string\") url = url + (url.indexOf(\"?\") < 0 ? \"?\" : \"&\") + \"pos=\" + pos$$1 + \"&more=\" + more;\n\n              _this7.load(url, callback, {\n                pos: pos$$1,\n                more: more\n              });\n            }\n          }\n        }\n      };\n      if (config.save) listConfig.save = config.save;\n      return listConfig;\n    },\n    _initUsers: function (value) {\n      var _this8 = this;\n\n      if (value && value.getItem) {\n        this._users = value;\n      } else {\n        this._users = new DataCollection();\n\n        this._destroy_with_me.push(this._users);\n\n        if (value && typeof value === \"string\") this._users.load(value);else this._users.parse(value || []);\n      }\n\n      this._users.data.attachEvent(\"onStoreUpdated\", function () {\n        return _this8._list.refresh();\n      });\n    },\n    _initMentions: function (value) {\n      var _this9 = this;\n\n      var readonly = this.config.readonly;\n      if (!readonly) this._initUserList(value);\n\n      if (this.config.highlight) {\n        if (!readonly) this._markedText = new RegExp(\"@((&quot;(.*?)&quot;)|([^\\\\s]{1,}))\", \"g\");\n        this._markedHTML = new RegExp(\"@((\\\"(.*?)\\\")|([^\\\\s]{1,}))\", \"g\");\n      }\n\n      Deferred.all([this._list.waitData, this._users.waitData]).then(function () {\n        _this9._list.refresh();\n      });\n\n      this._list.data.attachEvent(\"onStoreUpdated\", function (id, obj, mode) {\n        if (id && (mode === \"add\" || mode === \"update\")) {\n          _this9._findMentioned(obj);\n        }\n      });\n    },\n    _initUserList: function (value) {\n      var config = _typeof(value) != \"object\" ? {} : value;\n      if (_typeof(config.body) !== \"object\") config.body = {\n        data: this._users\n      };else config.body.data = this._users;\n      exports.extend(config, {\n        view: \"mentionsuggest\"\n      }, true);\n\n      var suggest = this._input.define(\"suggest\", config);\n\n      this._input.setValueHere = function (value, data, details) {\n        if (value.indexOf(\" \") != -1) value = \"\\\"\".concat(value, \"\\\"\");\n        return text.api.setValueHere.apply(this, [value, data, details]);\n      };\n\n      this._userList = $$(suggest);\n    },\n    _findMentioned: function (obj) {\n      var _this10 = this;\n\n      if (obj.text.indexOf(\"@\") != -1) {\n        var field = this._userList ? this._userList._settings.textValue || \"value\" : \"value\";\n        var mentioned = {}; // text.replace used instead of matchAll, which not supported by older browsers\n\n        obj.text.replace(this._markedHTML, function (text$$1, name1, _b, name2) {\n          var name = name2 || name1;\n\n          var user = _this10._users.find(function (user) {\n            return user[field] == name;\n          }, true);\n\n          if (user && !mentioned[name]) {\n            _this10.callEvent(\"onUserMentioned\", [user.id, obj.id]);\n\n            mentioned[name] = true;\n          } // return original text to minimize extra work\n\n\n          return text$$1;\n        });\n      }\n    }\n  };\n  var view$18 = exports.protoUI(api$18, AtomDataLoader, layout.view);\n\n  var api$19 = {\n    name: \"timeline\",\n    defaults: {\n      scroll: \"auto\"\n    },\n    $init: function (config) {\n      var _this = this;\n\n      var isHorizontal = config.layout === \"x\";\n\n      if (isHorizontal) {\n        var common = config.type;\n        this.type.type = common && common.type || \"top\";\n        if (isUndefined(config.scroll)) config.scroll = \"x\";\n      }\n\n      this._viewobj.className += isHorizontal ? \" webix_timeline_horizontal\" : \" webix_timeline\";\n      this.$blockRender = true;\n      this.data.provideApi(this, true);\n      this.data.attachEvent(\"onStoreUpdated\", function (id, data, type) {\n        return _this.render(id, data, type);\n      });\n    },\n    _id:\n    /*@attr*/\n    \"webix_tl_id\",\n    on_click: {},\n    $setSize: function (x, y) {\n      this.$blockRender = false;\n\n      if (base.api.$setSize.call(this, x, y)) {\n        this.refresh();\n      }\n    },\n    render: function (id, data, type) {\n      if (!this.isVisible(this._settings.id) || this.$blockRender) return;\n\n      if (type == \"update\") {\n        var node = this.getItemNode(id); //get html element of updated item\n\n        var t = this._htmlmap[id] = this._toHTMLObject(data);\n\n        insertBefore(t, node);\n        remove(node);\n        return true;\n      } else {\n        //full reset\n        if (this.callEvent(\"onBeforeRender\", [this.data])) {\n          this._htmlmap = null;\n          this._dataobj.innerHTML = this.data.getRange().map(this._toHTML, this).join(\"\");\n          this.callEvent(\"onAfterRender\", []);\n        }\n      }\n\n      return true;\n    },\n    _toHTML: function (obj) {\n      this.callEvent(\"onItemRender\", [obj]);\n      var index$$1 = this.getIndexById(obj.id);\n      return this.type.templateStart.call(this, obj, this.type, index$$1) + this.type.template.call(this, obj, this.type, index$$1) + this.type.templateEnd.call(this);\n    },\n    type: {\n      type: \"left\",\n      classname: function (obj, common, index$$1) {\n        var css = \"webix_timeline_item\";\n        if (common.type !== \"alternate\") css += \"  webix_timeline_\" + common.type;else {\n          if (this._settings.layout == \"x\") css += \" webix_timeline_\" + (index$$1 % 2 ? \"bottom\" : \"top\");else css += \" webix_timeline_\" + (index$$1 % 2 ? \"right\" : \"left\");\n        }\n        if (common.css) css += \" \" + common.css;\n\n        if (obj.$css) {\n          if (_typeof(obj.$css) == \"object\") obj.$css = createCss(obj.$css);\n          css += \" \" + obj.$css;\n        }\n\n        return css;\n      },\n      lineColor: function (obj) {\n        return obj.color;\n      },\n      templateValue: template(\"#value#\"),\n      templateDetails: function (obj) {\n        return obj.details || \"\";\n      },\n      templateDate: function (obj) {\n        var format = wDate.dateToStr(\"%d %M, %Y\");\n        return format(obj.date);\n      },\n      template: function (obj, common, index$$1) {\n        var padding = $active.dataPadding;\n        var radius = 6,\n            stroke = 2;\n        var lineColor = typeof common.lineColor == \"string\" ? common.lineColor : common.lineColor(obj, common);\n        var commonStyle = \"stroke-width:\".concat(stroke, \"px; stroke:\").concat(lineColor || $active.timelineColor, \";\");\n        var type = common.type;\n        var last = index$$1 + 1 == this.count();\n        var circleCenter = radius + stroke / 2;\n        var circleSize = radius * 2 + stroke;\n        var innerPadding = circleSize / 2 + 7; // common properties for HTML markup, values are different for layouts\n\n        var svgStyle = \"position:relative;\",\n            dateStyle = \"\",\n            eventStyle = \"\",\n            svgWidth,\n            svgHeight,\n            x1,\n            y1,\n            x2,\n            y2,\n            cx,\n            cy;\n        var date = common.templateDate(obj, common);\n        var details = common.templateDetails(obj, common);\n        var eventText = \"<div class=\\\"webix_timeline_value\\\">\".concat(common.templateValue(obj, common), \"</div>\\n\\t\\t\\t\\t\").concat(details ? \"<div class=\\\"webix_timeline_details\\\">\".concat(details, \"</div>\") : \"\");\n\n        if (this._settings.layout == \"x\") {\n          var height = this.$height - padding * 2;\n          var center = $active.listItemHeight;\n          var top = padding,\n              theight = height - center - innerPadding,\n              eventOffset = center + innerPadding + padding,\n              eventPos = \"top\";\n\n          if (type == \"bottom\") {\n            center = height - center;\n            top = center + innerPadding + padding;\n            eventOffset = height - center + padding + innerPadding;\n            eventPos = \"bottom\";\n          } else if (type == \"alternate\") {\n            center = Math.round(height * 0.5);\n            theight = center - innerPadding;\n            top = center - innerPadding + padding - 20, eventOffset = center + innerPadding + padding;\n\n            if (index$$1 % 2) {\n              top = eventOffset;\n              eventPos = \"bottom\";\n            }\n          }\n\n          var itemWidth = obj.$width || common.width;\n          if (itemWidth == \"auto\") itemWidth = this._getTextSize([{\n            text: eventText,\n            css: \"webix_timeline_event\",\n            height: theight\n          }, {\n            text: date,\n            css: \"webix_timeline_date\"\n          }]).width + padding;\n          dateStyle = \"top:\".concat(top, \"px;\");\n          eventStyle = \"\".concat(eventPos, \":\").concat(eventOffset, \"px; height:auto; max-height:\").concat(theight, \"px; width:inherit;\");\n          svgWidth = itemWidth;\n          svgHeight = center + circleSize;\n          svgStyle += \"left:1px;\";\n          y1 = center;\n          x1 = circleCenter + radius;\n          y2 = center;\n          x2 = \"100%\";\n          cy = center;\n          cx = circleCenter;\n        } else {\n          var scrollSize = this._settings.scroll ? env.scrollSize : 0;\n          var width = this.$width - padding * 2 - scrollSize;\n\n          var _center = Math.floor(width * 0.35);\n\n          var left = padding,\n              rwidth = Math.floor(width * 0.65) - innerPadding;\n          var right = _center + innerPadding + padding,\n              lwidth = _center - innerPadding;\n\n          if (type == \"right\") {\n            _center = width - right + innerPadding + padding;\n            left = _center + innerPadding + padding;\n            right = padding;\n          } else if (type == \"alternate\") {\n            _center = Math.floor(width * 0.5);\n            right = _center + innerPadding + padding;\n            lwidth = rwidth = _center - innerPadding;\n\n            if (index$$1 % 2) {\n              left = right;\n              right = padding;\n            }\n          }\n\n          var itemHeight = obj.$height || common.height;\n          if (itemHeight == \"auto\") itemHeight = this._getTextSize([{\n            text: eventText,\n            css: \"webix_timeline_event\",\n            width: rwidth\n          }, {\n            text: date,\n            css: \"webix_timeline_date\",\n            width: lwidth\n          }]).height + padding;\n          dateStyle = \"left:\".concat(left, \"px; width:\").concat(lwidth, \"px;\");\n          eventStyle = \"left:\".concat(right, \"px; width:\").concat(rwidth, \"px; height:\").concat(itemHeight - padding, \"px;\");\n          svgWidth = _center + circleSize;\n          svgHeight = itemHeight;\n          svgStyle += \"top:3px;\";\n          x1 = _center;\n          y1 = circleCenter + radius;\n          x2 = _center;\n          y2 = \"100%\";\n          cx = _center;\n          cy = circleCenter;\n        }\n\n        return \"<div style=\\\"\".concat(dateStyle, \"\\\" class=\\\"webix_timeline_date\\\">\").concat(date, \"</div>\\n\\t\\t\\t\\t\\t<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"\").concat(svgWidth, \"px\\\" height=\\\"\").concat(svgHeight, \"px\\\" style=\\\"\").concat(svgStyle, \"\\\">\\n\\t\\t\\t\\t\\t\\t\").concat(!last ? \"<line x1=\\\"\".concat(x1, \"\\\" y1=\\\"\").concat(y1, \"\\\" x2=\\\"\").concat(x2, \"\\\" y2=\\\"\").concat(y2, \"\\\" class=\\\"webix_timeline_node\\\" style=\\\"\").concat(commonStyle, \"\\\"/>\") : \"\", \"\\n\\t\\t\\t\\t\\t\\t<circle cx=\\\"\").concat(cx, \"\\\" cy=\\\"\").concat(cy, \"\\\" r=\\\"\").concat(radius, \"\\\" class=\\\"webix_timeline_node webix_timeline_point\\\" style=\\\"\").concat(commonStyle, \" fill:transparent;\\\" />\\n\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t<div class=\\\"webix_timeline_event\\\" style=\\\"\").concat(eventStyle, \"\\\">\\n\\t\\t\\t\\t\\t\\t\").concat(eventText, \"\\n\\t\\t\\t\\t\\t</div>\");\n      },\n      widthSize: function (obj, common) {\n        var width = obj.$width || common.width;\n        return width + (width > -1 ? \"px\" : \"\");\n      },\n      heightSize: function (obj, common) {\n        var height = obj.$height || common.height;\n        return height + (height > -1 ? \"px\" : \"\");\n      },\n      templateStart: function (obj, common, index$$1) {\n        // horizontal layout\n        if (this._settings.layout == \"x\") {\n          return \"<div \".concat(\n          /*@attr*/\n          \"webix_tl_id\", \"=\\\"\", obj.id, \"\\\" class=\\\"\").concat(common.classname.call(this, obj, common, index$$1), \"\\\" style=\\\"width:\").concat(common.widthSize(obj, common), \";\\\">\");\n        }\n\n        return \"<div \".concat(\n        /*@attr*/\n        \"webix_tl_id\", \"=\\\"\", obj.id, \"\\\" class=\\\"\").concat(common.classname.call(this, obj, common, index$$1), \"\\\" style=\\\"height:\").concat(common.heightSize(obj, common), \";\\\">\");\n      },\n      templateEnd: template(\"</div>\")\n    },\n    _getTextSize: function (c) {\n      var d = create(\"DIV\");\n      d.style.cssText = \"visibility:hidden;position:absolute;top:0px;left:0px;overflow:hidden;\";\n      document.body.appendChild(d);\n      var width = 0,\n          height = 0;\n\n      for (var i = 0; i < c.length; i++) {\n        d.className = \"webix_measure_size \" + c[i].css;\n        d.style.width = c[i].width ? c[i].width + \"px\" : \"auto\";\n        d.style.height = c[i].height ? c[i].height + \"px\" : \"auto\";\n        d.innerHTML = c[i].text;\n        var rect = d.getBoundingClientRect();\n        width = Math.max(width, Math.ceil(rect.width));\n        height = Math.max(height, Math.ceil(rect.height));\n      }\n\n      remove(d);\n      return {\n        width: width,\n        height: height\n      };\n    },\n    templateValue_setter: function (config) {\n      this.type.templateValue = template(config);\n    },\n    templateDetails_setter: function (config) {\n      this.type.templateDetails = template(config);\n    },\n    templateDate_setter: function (config) {\n      this.type.templateDate = template(config);\n    },\n    $skin: function () {\n      this.type.height = $active.timelineItemHeight;\n      this.type.width = $active.timelineItemHeight * 3;\n    }\n  };\n  var view$19 = exports.protoUI(api$19, Scrollable, RenderStack, DataLoader, MouseEvents, EventSystem, AutoTooltip, base.view);\n\n  // #include ui/list.js\n\n  var api$1a = {\n    name: \"menu\",\n    _listClassName: \"webix_menu\",\n    $init: function (config) {\n      if (config.autowidth) {\n        this._autowidth_submenu = true;\n        delete config.autowidth;\n      }\n\n      this._init_mouse_events();\n\n      this.data.attachEvent(\"onStoreUpdated\", bind(function () {\n        this._hide_sub_menu();\n      }, this));\n      this.attachEvent(\"onItemClick\", function (id, e, trg) {\n        var item = this.getItem(id);\n\n        if (item) {\n          if (item.$template) return;\n          var parent = this.getTopMenu();\n\n          if (!parent.callEvent(\"onMenuItemClick\", [id, e, trg])) {\n            e.showpopup = parent._settings.id;\n            return;\n          }\n\n          if (this != parent) parent._call_onclick(id, e, trg); //click on group - do not close submenus\n\n          if (!this.type._submenu(item) && !parent._show_child_on_click) {\n            parent._hide_sub_menu(true);\n\n            if (parent._hide_on_item_click) parent.hide();\n          } else {\n            var touch = e.pointerType && e.pointerType !== \"mouse\";\n            if (touch || this === parent && parent._settings.openAction == \"click\") this._mouse_move_activation(id, trg); //do not close popups when clicking on menu folder\n\n            e.showpopup = parent._settings.id;\n          }\n        }\n      });\n      this.attachEvent(\"onKeyPress\", function (code) {\n        if (code === 9) this.getTopMenu()._hide_sub_menu();else if (code === 13 || code === 32) {\n          var sel = this.getSelectedId(),\n              node;\n          if (sel) node = this.getItemNode(sel);\n          if (node) triggerEvent(node, \"MouseEvent\", \"click\");\n        }\n      });\n      this.data.attachEvent(\"onClearAll\", function () {\n        this._hidden_items = [];\n      });\n      this.data._hidden_items = [];\n\n      this._viewobj.setAttribute(\"role\", \"menubar\"); //component can create new view\n\n\n      this._destroy_with_me = [];\n    },\n    _init_mouse_events: function () {\n      this.attachEvent(\"onMouseMove\", function (id, e, target) {\n        if (!this._menu_was_activated()) return;\n\n        this._mouse_move_activation(id, target);\n      });\n      this.attachEvent(\"onMouseOut\", function (e) {\n        if (this._menu_was_activated() && this._settings.openAction == \"click\") return;\n        if (!this._child_menu_active && (!e.relatedTarget || !this.$view.contains(e.relatedTarget))) this._hide_sub_menu();\n      });\n    },\n    sizeToContent: function () {\n      if (this._settings.layout == \"y\") {\n        var texts = [];\n        var isSubmenu = false;\n        this.data.each(function (obj) {\n          texts.push(this._toHTML(obj));\n          if (obj.submenu) isSubmenu = true;\n        }, this); // text width + padding + borders+ arrow\n\n        this.config.width = getTextSize(texts, this.$view.className).width + 8 * 2 + 2 + (isSubmenu ? 15 : 0);\n        this.resize();\n      } else assert(false, \"sizeToContent will work for vertical menu only\");\n    },\n    getTopMenu: function () {\n      var parent = this;\n\n      while (parent._parent_menu) {\n        parent = $$(parent._parent_menu);\n      }\n\n      return parent;\n    },\n    _auto_height_calc: function (count) {\n      if (this._settings.autoheight) count = this.count();\n      var value = this.count(),\n          height = 0;\n\n      for (var i = 0; i < count; i++) {\n        var item = this.data.pull[this.data.order[i]];\n\n        if (item && item.$template == \"Separator\") {\n          height += 4;\n          if (!this._settings.autoheight) count++;\n        } else height += this.type.height;\n      }\n\n      this._onoff_scroll(count && count < value, \"y\");\n\n      return height;\n    },\n    on_mouse_move: {},\n    type: {\n      _submenu: function (obj) {\n        return obj.submenu || obj.data || obj.item;\n      },\n      css: \"menu\",\n      width: \"auto\",\n      aria: function (obj, common, marks) {\n        return \"role=\\\"menuitem\\\"\" + (marks && marks.webix_selected ? \" aria-selected=\\\"true\\\" tabindex=\\\"0\\\"\" : \"tabindex=\\\"-1\\\"\") + (common._submenu(obj) ? \"aria-haspopup=\\\"true\\\"\" : \"\") + (obj.disabled ? \" aria-disabled=\\\"true\\\"  webix_disabled=\\\"true\\\"\" : \"\");\n      },\n      templateStart: function (obj, common, mark) {\n        if (obj.$template === \"Separator\" || obj.$template === \"Spacer\") {\n          return \"<div \" +\n          /*@attr*/\n          \"webix_l_id\" + \"=\\\"#id#\\\" role=\\\"separator\\\" tabindex=\\\"-1\\\" class=\\\"webix_context_\" + obj.$template.toLowerCase() + \"\\\">\";\n        }\n\n        var link = (obj.href ? \" href='\" + obj.href + \"' \" : \"\") + (obj.target ? \" target='\" + obj.target + \"' \" : \"\");\n        return list.api.type.templateStart(obj, common, mark).replace(/^<div/, \"<a \" + link) + (common._submenu(obj) && common.subsign ? \"<div class='webix_submenu_icon'></div>\" : \"\");\n      },\n      templateEnd: function (obj) {\n        return obj.$template === \"Separator\" || obj.$template === \"Spacer\" ? \"</div>\" : \"</a>\";\n      },\n      templateSeparator: template(\"<div class='sep_line'></div>\"),\n      templateSpacer: template(\"<div></div>\")\n    },\n    getMenu: function (id) {\n      if (!this.data.pull[id]) {\n        for (var subid in this.data.pull) {\n          var obj = this.getItem(subid);\n\n          if (obj.submenu) {\n            var search = this._get_submenu(obj).getMenu(id);\n\n            if (search) return search;\n          }\n        }\n      } else return this;\n    },\n    getSubMenu: function (id) {\n      var menu = this.getMenu(id);\n      var obj = menu.getItem(id);\n      return obj.submenu ? menu._get_submenu(obj) : null;\n    },\n    getMenuItem: function (id) {\n      return this.getMenu(id).getItem(id);\n    },\n    _get_submenu: function (data) {\n      var sub = $$(data.submenu);\n\n      if (!sub) {\n        data.submenu = this._create_sub_menu(data);\n        sub = $$(data.submenu);\n      }\n\n      return sub;\n    },\n    _menu_was_activated: function () {\n      var top = this.getTopMenu();\n\n      if (top._settings.openAction == \"click\") {\n        var sub = top._open_sub_menu;\n        if (sub && $$(sub).isVisible()) return true;\n        return false;\n      }\n\n      return true;\n    },\n    _mouse_move_activation: function (id, target) {\n      var data = this.getItem(id);\n      if (!data) return; //clear flag of submenu usage\n\n      this._child_menu_active = null; //hide previously opened sub-menu\n\n      if (this._open_sub_menu && data.submenu != this._open_sub_menu) this._hide_sub_menu(true); //show submenu\n\n      if (this.type._submenu(data) && !this.config.hidden) {\n        var sub = this._get_submenu(data);\n\n        if (!this.isItemEnabled(id)) return;\n        sub.show(target, {\n          pos: this._settings.subMenuPos\n        });\n        sub._parent_menu = this._settings.id;\n        this._open_sub_menu = data.submenu;\n      }\n    },\n    disableItem: function (id) {\n      var menu = this.getMenu(id);\n      if (menu) menu._set_item_disabled(id, true);\n    },\n    enableItem: function (id) {\n      var menu = this.getMenu(id);\n      if (menu) menu._set_item_disabled(id, false);\n    },\n    isItemEnabled: function (id) {\n      var menu = this.getMenu(id);\n      if (menu) return list.api.isItemEnabled.apply(menu, arguments);\n    },\n    _set_item_hidden: function (id, state) {\n      var menu = this.data;\n\n      if (menu._hidden_items[id] != state) {\n        menu._hidden_items[id] = state;\n        menu.filter(function (obj) {\n          return !menu._hidden_items[obj.id];\n        });\n        this.resize();\n      }\n    },\n    hideItem: function (id) {\n      var menu = this.getMenu(id);\n      if (menu) menu._set_item_hidden(id, true);\n    },\n    showItem: function (id) {\n      var menu = this.getMenu(id);\n\n      if (menu) {\n        menu._set_item_hidden(id, false);\n\n        return list.api.showItem.call(menu, id);\n      }\n    },\n    _hide_sub_menu: function (mode) {\n      if (this._open_sub_menu) {\n        //recursive sub-closing\n        var sub = $$(this._open_sub_menu);\n        if (sub._hide_sub_menu) //custom context may not have submenu\n          sub._hide_sub_menu(mode);\n\n        if (mode || !sub._show_on_mouse_out) {\n          sub.hide();\n          this._open_sub_menu = null;\n        }\n      }\n    },\n    _create_sub_menu: function (data) {\n      var listConfig = {\n        view: \"submenu\",\n        data: this.type._submenu(data)\n      };\n\n      var settings = this.getTopMenu()._settings.submenuConfig;\n\n      if (settings) exports.extend(listConfig, settings, true);\n      var parentData = this.getMenuItem(data.id);\n      if (parentData && parentData.config) exports.extend(listConfig, parentData.config, true);\n      var menu = ui(listConfig);\n\n      this._destroy_with_me.push(menu);\n\n      menu._parent_menu = this;\n      return menu._settings.id;\n    },\n    _skip_item: function (id, prev, dir) {\n      var item = this.getItem(id);\n\n      if (item.$template == \"Separator\" || item.$template == \"Spacer\" || !this.isItemEnabled(id)) {\n        id = this.getNextId(id, dir) || null;\n        return id && id != prev ? this._skip_item(id, prev, dir) : prev;\n      }\n\n      return id;\n    },\n    $skin: function () {\n      list.api.$skin.call(this);\n      this.type.height = $active.menuHeight;\n    },\n    defaults: {\n      scroll: \"\",\n      layout: \"x\",\n      mouseEventDelay: 100,\n      subMenuPos: \"bottom\"\n    }\n  };\n  var view$1a = exports.protoUI(api$1a, list.view);\n  var menu = {\n    api: api$1a,\n    view: view$1a\n  };\n\n  var api$1b = {\n    name: \"submenu\",\n    $init: function () {\n      this._body_cell = clone(this._dummy_cell_interface);\n      this._body_cell._view = this;\n      this.attachEvent(\"onBeforeShow\", function () {\n        if (this.getTopMenu()._autowidth_submenu && this.sizeToContent && !this.isVisible()) this.sizeToContent();\n      });\n\n      this._dataobj.setAttribute(\"role\", \"menu\");\n    },\n    $skin: function () {\n      menu.api.$skin.call(this);\n      popup.api.$skin.call(this);\n      this.type.height = $active.menuHeight;\n    },\n    _init_mouse_events: function () {\n      this.attachEvent(\"onMouseMove\", function (id, e, target) {\n        if (!this._menu_was_activated()) return;\n\n        this._mouse_move_activation(id, target);\n      });\n      this.attachEvent(\"onMouseOut\", function (e) {\n        if (this.getTopMenu()._settings.openAction == \"click\") return;\n        if (!this._child_menu_active && !this._show_on_mouse_out && e.relatedTarget && !this.$view.contains(e.relatedTarget)) this.hide();\n      }); //inform parent that focus is still in menu\n\n      this.attachEvent(\"onMouseMoving\", function () {\n        if (this._parent_menu) $$(this._parent_menu)._child_menu_active = true;\n      });\n    },\n    _dummy_cell_interface: {\n      $getSize: function (dx, dy) {\n        //we saving height and width, as list can hardcode new values\n        var h = this._view._settings.height * 1;\n        var w = this._view._settings.width * 1;\n        var size = menu.api.$getSize.call(this._view, dx, dy); //restoring\n\n        this._view._settings.height = h;\n        this._view._settings.width = w;\n        return size;\n      },\n      $setSize: function (x, y) {\n        if (this._view._settings.scroll) this._view._bodyobj.style.height = y + \"px\";\n      },\n      destructor: function () {\n        this._view = null;\n      }\n    },\n    //ignore body element\n    body_setter: function () {},\n    getChildViews: function () {\n      return [];\n    },\n    defaults: {\n      width: 150,\n      subMenuPos: \"right\",\n      layout: \"y\",\n      autoheight: true\n    },\n    type: {\n      height: $active.menuHeight,\n      subsign: true\n    }\n  };\n  var view$1b = exports.protoUI(api$1b, menu.view, popup.view);\n  var submenu = {\n    api: api$1b,\n    view: view$1b\n  };\n\n  var api$1c = {\n    name: \"sidemenu\",\n    defaults: {\n      animate: true,\n      position: \"left\",\n      width: 200,\n      borderless: true\n    },\n    $init: function () {\n      this.$view.className += \" webix_sidemenu\";\n    },\n    $skin: function () {\n      popup.api.$skin.call(this);\n      this.defaults.padding = 0;\n    },\n    position_setter: function (value) {\n      var prevPosition = this._settings.position;\n      if (prevPosition) removeCss(this.$view, \" webix_sidemenu_\" + prevPosition);\n      addCss(this.$view, \" webix_sidemenu_\" + value);\n      return value;\n    },\n    $getSize: function () {\n      var sizes = window$1.api.$getSize.apply(this, arguments);\n      this._desired_sizes = sizes;\n      return sizes;\n    },\n    $setSize: function (x, y) {\n      base$1.api.$setSize.call(this, x, y);\n      x = this._content_width - this._settings.padding * 2;\n      y = this._content_height - this._settings.padding * 2;\n      this._contentobj.style.padding = this._settings.padding + \"px\";\n      this._headobj.style.display = \"none\";\n      this._bodyobj.style.height = y + \"px\";\n\n      this._body_cell.$setSize(x, y);\n    },\n    show: function () {\n      if (!this.callEvent(\"onBeforeShow\", arguments)) return false;\n      this._settings.hidden = false;\n      this._viewobj.style.zIndex = zIndex(this._settings.zIndex);\n\n      if (this._settings.modal || this._modal) {\n        this._modal_set(true);\n\n        this._modal = null; // hidden_setter handling\n      }\n\n      this._viewobj.style.display = \"block\";\n\n      this._render_hidden_views();\n\n      if (this._settings.position) this._setPosition();\n      this._hide_timer = 1;\n      delay(function () {\n        this._hide_timer = 0;\n      }, this, [], env.fastClick ? 100 : 400);\n\n      if (this.config.autofocus) {\n        this._prev_focus = UIManager.getFocus();\n        UIManager.setFocus(this);\n      }\n\n      if (-1 == state._popups.find(this)) state._popups.push(this);\n      this.callEvent(\"onShow\", []);\n    },\n    _setPosition: function (x) {\n      var width,\n          height,\n          maxWidth,\n          maxHeight,\n          position,\n          left = 0,\n          top = 0,\n          state$$1 = {};\n      this.$view.style.position = \"fixed\";\n      maxWidth = document.documentElement.offsetWidth;\n      maxHeight = document.documentElement.offsetHeight;\n      width = this._desired_sizes[0] || maxWidth;\n      height = this._desired_sizes[2] || maxHeight;\n      assert(width && height, \"Attempt to show not rendered window\");\n      position = this._settings.position;\n\n      if (position == \"top\") {\n        width = maxWidth;\n      } else if (position == \"right\") {\n        height = maxHeight;\n        left = maxWidth - width;\n      } else if (position == \"bottom\") {\n        width = maxWidth;\n        top = maxHeight - height;\n      } else {\n        height = maxHeight;\n      }\n\n      state$$1 = {\n        left: left,\n        top: top,\n        width: width,\n        height: height,\n        maxWidth: maxWidth,\n        maxHeight: maxHeight\n      };\n      if (typeof this._settings.state == \"function\") this._settings.state.call(this, state$$1);\n      this._state = state$$1;\n      this.$setSize(state$$1.width, state$$1.height);\n\n      if (typeof x == \"undefined\" && this._settings.animate) {\n        removeCss(this.$view, \"webix_animate\", true); // set initial state\n\n        this._animate[this._settings.position].beforeShow.call(this, state$$1); // set apply animation css\n\n\n        delay(function () {\n          addCss(this.$view, \"webix_animate\", true);\n        }, this, null, 1); // animate popup\n\n        delay(function () {\n          this._animate[this._settings.position].show.call(this, state$$1);\n        }, this, null, 10);\n      } else {\n        if (this._settings.position === \"right\") state$$1.left = state$$1.right ? maxWidth - state$$1.width - state$$1.right : maxWidth - state$$1.width;\n        this.setPosition(state$$1.left, state$$1.top);\n      }\n    },\n    _state: {},\n    hidden_setter: function (value) {\n      if (value) this.hide();else this.show();\n      return !!value;\n    },\n    _animate: {\n      left: {\n        beforeShow: function (state$$1) {\n          this.$view.style.left = -state$$1.width + \"px\";\n          this.$view.style.top = state$$1.top + \"px\";\n        },\n        show: function (state$$1) {\n          this.$view.style.left = state$$1.left ? state$$1.left + \"px\" : \"0px\";\n        },\n        hide: function (state$$1) {\n          this.$view.style.left = -state$$1.width + \"px\";\n        }\n      },\n      right: {\n        beforeShow: function (state$$1) {\n          this.$view.style.left = \"auto\";\n          this.$view.style.right = -state$$1.width + \"px\";\n          this.$view.style.top = state$$1.top + \"px\";\n        },\n        show: function (state$$1) {\n          this.$view.style.right = state$$1.right ? state$$1.right + \"px\" : \"0px\";\n        },\n        hide: function (state$$1) {\n          this.$view.style.right = -state$$1.width + \"px\";\n        }\n      },\n      top: {\n        beforeShow: function (state$$1) {\n          this.setPosition(state$$1.left, state$$1.top);\n          this.$view.style.height = \"0px\";\n          this._bodyobj.style.height = \"0px\";\n        },\n        show: function (state$$1) {\n          this.$view.style.height = state$$1.height + \"px\";\n          this._bodyobj.style.height = state$$1.height + \"px\";\n        },\n        hide: function () {\n          this.$view.style.height = \"0px\";\n          this._bodyobj.style.height = \"0px\";\n        }\n      },\n      bottom: {\n        beforeShow: function (state$$1) {\n          this.$view.style.left = state$$1.left + \"px\";\n          this.$view.style.top = \"auto\";\n          var bottom = state$$1.bottom != undefined ? state$$1.bottom : state$$1.maxHeight - state$$1.top - state$$1.height;\n          this.$view.style.bottom = bottom + \"px\";\n          this.$view.style.height = \"0px\";\n        },\n        show: function (state$$1) {\n          this.$view.style.height = state$$1.height + \"px\";\n        },\n        hide: function () {\n          this.$view.style.height = \"0px\";\n        }\n      }\n    },\n    _hiding_process: function () {\n      var maxWidth = document.documentElement.offsetWidth;\n      var maxHeight = document.documentElement.offsetHeight;\n\n      if (this._settings.animate && maxWidth == this._state.maxWidth && maxHeight == this._state.maxHeight) {\n        // call 'hide' animation handler\n        this._animate[this._settings.position].hide.call(this, this._state); // hide popup\n\n\n        var tid = event$1(this.$view, env.transitionEnd, bind(function () {\n          this._hide_callback();\n\n          eventRemove(tid);\n        }, this));\n      } else this._hide_callback();\n    }\n  };\n  var view$1c = exports.protoUI(api$1c, popup.view);\n\n  var api$1d = {\n    name: \"sidebar\",\n    defaults: {\n      type: \"sideBar\",\n      activeTitle: true,\n      select: true,\n      scroll: false,\n      collapsed: false,\n      collapsedWidth: 44,\n      position: \"left\",\n      width: 250,\n      mouseEventDelay: 10\n    },\n    $skin: function () {\n      this.defaults.titleHeight = $active.sidebarTitleHeight;\n    },\n    $init: function (config) {\n      this._fullWidth = isUndefined(config.width) ? this.defaults.width : config.width;\n      this._settings.width = config.width = config.collapsed ? config.collapsedWidth || this.defaults.collapsedWidth : this._fullWidth;\n      this.$view.className += \" webix_sidebar\";\n      this.$ready.push(this._initSidebar);\n      this.$ready.push(this._initContextMenu);\n\n      this.data._scheme_init = function (obj) {\n        if (obj.data) obj.menu = copy(obj.data);else if (obj.item) //xml child records, can be {} or []\n          obj.menu = copy(obj.item.length ? obj.item : [obj.item]);\n      };\n\n      config.multiselect = false;\n    },\n    on_context: {},\n    on_mouse_move: {},\n    _initSidebar: function () {\n      this.attachEvent(\"onBeforeOpen\", function (id) {\n        if (!this.config.multipleOpen) {\n          var open = this.getOpenItems();\n\n          for (var i = 0; i < open.length; i++) {\n            if (this.getParentId(id) == this.getParentId(open[i])) this.close(open[i]);\n          }\n        }\n\n        return !this.config.collapsed;\n      });\n      this.attachEvent(\"onItemClick\", function (id, ev, node) {\n        var popup = this.getPopup();\n        if (popup && !popup.config.hidden) ev.showpopup = popup.config.id;\n        if (ev.pointerType && ev.pointerType !== \"mouse\") this._showPopup(id, node);\n      });\n      this.attachEvent(\"onBeforeSelect\", function (id) {\n        if (!this.getItem(id).$count) {\n          this.clearCss(\"webix_sidebar_selected\");\n          return true;\n        }\n\n        return false;\n      });\n      this.attachEvent(\"onAfterSelect\", function (id) {\n        this._markMenu(this, id, !$active.sidebarMarkAll);\n\n        this.getPopup()._onMasterSelect(id);\n      });\n      this.attachEvent(\"onAfterUnSelect\", function () {\n        this.clearCss(\"webix_sidebar_selected\");\n      });\n      this.attachEvent(\"onMouseMove\", function (id, ev, node) {\n        this._showPopup(id, node);\n      });\n      this.attachEvent(\"onMouseOut\", function () {\n        if (this.config.collapsed) this.getPopup().masterId = null;\n      });\n    },\n    _showPopup: function (id, node) {\n      if (this.config.collapsed) {\n        var popup = this.getPopup();\n\n        if (popup) {\n          this._updateTitle(id, popup);\n\n          this._updateList(id, popup);\n\n          popup.masterId = id;\n          popup.show(node, {\n            x: this.config.position == \"left\" ? this.config.collapsedWidth : -popup.config.width,\n            y: -1\n          });\n        }\n      }\n    },\n    _updateTitle: function (id, popup) {\n      var title = popup.getBody().getChildViews()[0];\n      if (!title || popup.masterId == id) return;\n      title.parse(this.getItem(id));\n      var selectedId = this.getSelectedId();\n\n      if (selectedId == id) {\n        addCss(title.$view, \"webix_selected\", true);\n      } else {\n        removeCss(title.$view, \"webix_selected\");\n      }\n    },\n    _updateList: function (id, popup) {\n      var list = popup.getBody().getChildViews()[1];\n      if (!list || popup.masterId == id) return;\n      if (this.exists(popup.masterId) && this.getItem(popup.masterId).menu) this.updateItem(popup.masterId, {\n        menu: list.data.serialize()\n      });\n      list.clearCss(\"webix_sidebar_selected\");\n      list.unselectAll();\n      var data = copy(this.getItem(id).menu || []);\n\n      if (data.length) {\n        list.show();\n        list.data.importData(data);\n        var selectedId = this.getSelectedId();\n        if (list.exists(selectedId)) list.select(selectedId);else if (selectedId) this._markMenu(list, selectedId);\n      } else {\n        list.hide();\n        list.data.clearAll();\n      }\n    },\n    _initContextMenu: function () {\n      var master = this,\n          config = master.config,\n          popup;\n\n      if (config.popup) {\n        popup = $$(config.popup);\n      }\n\n      if (!popup) {\n        var dirClassName = config.position == \"left\" ? \"webix_sidebar_popup_left\" : \"webix_sidebar_popup_right\";\n        var subMenuPos = config.position == \"left\" ? \"right\" : \"left\";\n\n        var menuTemplate = function (obj) {\n          var icon = \"wxi-angle-\" + (config.position == \"left\" ? \"right\" : \"left\");\n          var arrow = obj.submenu || obj.data || obj.item ? \"<div class=\\\"webix_icon \" + icon + \"\\\"></div>\" : \"\";\n          return arrow + obj.value;\n        };\n\n        var css = config.css ? \" \" + config.css : \"\";\n        var popupConfig = {\n          view: \"popup\",\n          css: \"webix_sidebar_popup \" + dirClassName + css,\n          autofit: false,\n          width: this._fullWidth - this.config.collapsedWidth,\n          borderless: true,\n          padding: 0,\n          body: {\n            rows: [{\n              view: \"template\",\n              borderless: true,\n              css: \"webix_sidebar_popup_title\",\n              template: \"#value#\",\n              height: this.config.titleHeight + 2,\n              onClick: {\n                webix_template: function () {\n                  var id = this.getValues().id;\n                  if (!master.getItem(id).$count) master.select(id);\n                }\n              }\n            }, {\n              view: \"menu\",\n              submenu: \"data\",\n              layout: \"y\",\n              subMenuPos: subMenuPos,\n              select: true,\n              borderless: true,\n              autoheight: true,\n              css: \"webix_sidebar_popup_list \" + dirClassName + css,\n              template: menuTemplate,\n              type: {\n                subsign: false\n              },\n              submenuConfig: {\n                padding: 0,\n                subMenuPos: subMenuPos,\n                template: menuTemplate,\n                select: true,\n                type: {\n                  subsign: false\n                },\n                css: \"webix_sidebar_popup_list \" + dirClassName + css,\n                on: {\n                  onShow: function () {\n                    this.clearCss(\"webix_sidebar_selected\");\n                    this.unselectAll();\n                    var sel = master.getSelectedId();\n                    if (sel && this.exists(sel)) this.select(sel);else if (sel) master._markMenu(this, sel);\n                  },\n                  onBeforeSelect: function (id) {\n                    if (this.getSubMenu(id)) return false;\n                  },\n                  onAfterSelect: function (id) {\n                    var menu = master.getPopup().queryView({\n                      view: \"menu\"\n                    });\n                    var parent = master.getParentId(id);\n\n                    while (parent) {\n                      var sub = menu.getMenu(parent);\n\n                      if (sub) {\n                        sub.unselectAll();\n\n                        master._markMenu(sub, id);\n                      }\n\n                      parent = master.getParentId(parent);\n                    }\n\n                    master._markMenu(this, id);\n                  }\n                }\n              },\n              on: {\n                onBeforeSelect: function (id) {\n                  if (this.getSubMenu(id)) return false;\n                },\n                onMenuItemClick: function (id) {\n                  if (!this.getSubMenu(id)) master.select(id);\n                }\n              }\n            }]\n          }\n        };\n        exports.extend(popupConfig, config.popup || {}, true);\n        popup = ui(popupConfig);\n\n        popup._onMasterSelect = function (id) {\n          if (master.config.collapsed && master.getItem(id).$level == 1) {\n            var title = popup.getBody().getChildViews()[0];\n            if (title) addCss(title.$view, \"webix_selected\", true);\n          }\n        };\n\n        popup.queryView({\n          view: \"menu\"\n        })._show_child_on_click = true;\n      }\n\n      popup.attachEvent(\"onBeforeShow\", function () {\n        return config.collapsed;\n      });\n      this._destroy_with_me = [popup];\n      config.popupId = popup.config.id;\n\n      _event(document.body, \"pointermove\", function (e) {\n        var trg = e.target;\n\n        if (!popup.config.hidden && !popup.$view.contains(trg) && !this.$view.firstChild.contains(trg) && !popup.queryView({\n          view: \"menu\"\n        })._open_sub_menu) {\n          popup.hide();\n        }\n      }, {\n        bind: this\n      });\n    },\n    _markMenu: function (view, sel, topOnly) {\n      var css = \"webix_sidebar_selected\";\n      view.data.each(function (obj) {\n        if (this._isChild(sel, obj.id) && (!topOnly || this.getParentId(obj.id) == \"0\")) view.addCss(obj.id, css);else if (view.hasCss(obj.id, css)) view.removeCss(obj.id, css);\n      }, this);\n    },\n    _isChild: function (cid, pid) {\n      var parent = this.getParentId(cid);\n      if (pid == parent) return true;\n      if (parent) return this._isChild(parent, pid);\n      return false;\n    },\n    getPopup: function () {\n      return $$(this.config.popupId);\n    },\n    position_setter: function (value) {\n      var newPos = value;\n      var oldPos = value == \"left\" ? \"right\" : \"left\";\n      removeCss(this.$view, \"webix_sidebar_\" + oldPos);\n      addCss(this.$view, \"webix_sidebar_\" + newPos, true);\n      var popup = this.getPopup();\n\n      if (popup) {\n        var popupEl = popup.$view;\n        removeCss(popupEl, \"webix_sidebar_popup_\" + oldPos);\n        addCss(popupEl, \"webix_sidebar_popup_\" + newPos, true);\n      }\n\n      return value;\n    },\n    select: function (id) {\n      //ignore multiple selection\n      if (id) {\n        if (isArray(id)) id = id.pop();\n        tree.api.select.call(this, id);\n      }\n    },\n    selectAll: function () {},\n    collapse: function () {\n      this.define(\"collapsed\", true);\n    },\n    expand: function () {\n      this.define(\"collapsed\", false);\n    },\n    toggle: function () {\n      var collapsed = !this.config.collapsed;\n      this.define(\"collapsed\", collapsed);\n    },\n    collapsed_setter: function (value) {\n      var width;\n\n      if (!value) {\n        width = this._fullWidth;\n        this.type.collapsed = false;\n        addCss(this.$view, \"webix_sidebar_expanded\", true);\n      } else {\n        width = this.config.collapsedWidth;\n        this.closeAll();\n        this.type.collapsed = true;\n        removeCss(this.$view, \"webix_sidebar_expanded\");\n      }\n\n      if (!isUndefined(width) && width !== this.config.width) {\n        //skip first rendering\n        this.define(\"width\", width);\n        this.resize();\n      }\n\n      return value;\n    },\n    getState: function () {\n      var state = {\n        collapsed: this.config.collapsed\n      };\n      exports.extend(state, TreeAPI.getState.call(this));\n      return state;\n    },\n    setState: function (state) {\n      TreeAPI.setState.call(this, state);\n      this.define(\"collapsed\", state.collapsed);\n    }\n  };\n  type(tree.view, {\n    name: \"sideBar\",\n    height: \"auto\",\n    template: function (obj, common) {\n      if (common.collapsed) return common.icon(obj, common);\n      return common.arrow(obj, common) + common.icon(obj, common) + \"<span>\" + obj.value + \"</span>\";\n    },\n    arrow: function (obj) {\n      var html = \"\";\n\n      for (var i = 1; i <= obj.$level; i++) {\n        if (i == obj.$level && obj.$count) {\n          var icon = \"wxi-angle-\" + (obj.open ? \"down\" : \"left\");\n          var className = \"webix_sidebar_dir_icon webix_icon \" + icon;\n          html += \"<span class='\" + className + \"'></span>\";\n        }\n      }\n\n      return html;\n    },\n    icon: function (obj) {\n      var style = \"\";\n\n      if (obj.$level > 2) {\n        style = \"style=\\\"padding-left:\" + 40 * (obj.$level - 2) + \"px\\\"\";\n      }\n\n      if (obj.icon) return \"<span class='webix_icon webix_sidebar_icon \" + obj.icon + \"' \" + style + \"></span>\";\n      return \"<span \" + style + \"></span>\";\n    }\n  });\n  var view$1d = exports.protoUI(api$1d, tree.view);\n\n  var api$1e = {\n    name: \"context\"\n  };\n  var view$1e = exports.protoUI(api$1e, ContextHelper, popup.view);\n\n  var api$1f = {\n    name: \"contextmenu\",\n    _hide_on_item_click: true,\n    $init: function (config) {\n      if (config.submenuConfig) exports.extend(config, config.submenuConfig);\n    }\n  };\n  var view$1f = exports.protoUI(api$1f, ContextHelper, submenu.view);\n\n  var api$1g = {\n    name: \"vscroll\",\n    $apiOnly: true,\n    defaults: {\n      scroll: \"x\",\n      scrollPos: 0,\n      scrollSize: 18,\n      scrollVisible: true,\n      zoom: 1\n    },\n    $init: function (config) {\n      var _this = this;\n\n      var dir = config.scroll || \"x\";\n      var node = this._viewobj = toNode(config.container);\n      node.className += \" webix_vscroll_\" + dir;\n      node.innerHTML = \"<div class='webix_vscroll_body'></div>\";\n\n      _event(node, \"scroll\", function () {\n        return _this._onscroll_delay();\n      });\n\n      this._last_set_size = 0;\n    },\n    $skin: function () {\n      this.defaults.scrollStep = $active.rowHeight;\n    },\n    reset: function () {\n      this.config.scrollPos = 0;\n      this._viewobj[this.config.scroll == \"x\" ? \"scrollLeft\" : \"scrollTop\"] = 0;\n      if (this._scroll_delay) clearTimeout(this._scroll_delay[0]);\n    },\n    _check_quantum: function (value) {\n      if (value > 1500000) {\n        this._settings.zoom = value / 1000000;\n        value = 1000000;\n      } else {\n        this._settings.zoom = 1;\n      }\n\n      return value;\n    },\n    scrollWidth_setter: function (value) {\n      value = this._check_quantum(value);\n      this._viewobj.firstChild.style.width = value + \"px\";\n      return value;\n    },\n    scrollHeight_setter: function (value) {\n      value = this._check_quantum(value);\n      this._viewobj.firstChild.style.height = value + \"px\";\n      return value;\n    },\n    sizeTo: function (value, top, bottom) {\n      value = value - (top || 0) - (bottom || 0);\n      var width = this._settings.scrollSize;\n\n      if (!width && this._settings.scrollVisible && !env.$customScroll) {\n        this._viewobj.style.pointerEvents = \"none\";\n        width = 14;\n      }\n\n      if (!width) {\n        this._viewobj.style.display = \"none\";\n      } else {\n        this._viewobj.style.display = \"block\";\n        if (top) this._viewobj.style.marginTop = top + \"px\";\n        this._viewobj.style[this._settings.scroll == \"x\" ? \"width\" : \"height\"] = Math.max(0, value) + \"px\";\n        this._viewobj.style[this._settings.scroll == \"x\" ? \"height\" : \"width\"] = width + \"px\";\n      }\n\n      this._last_set_size = value;\n    },\n    getScroll: function () {\n      return Math.round(this._settings.scrollPos * this._settings.zoom);\n    },\n    getSize: function () {\n      return Math.round((this._settings.scrollWidth || this._settings.scrollHeight) * this._settings.zoom);\n    },\n    _fixSize: function () {\n      var pos$$1 = this.getScroll();\n      var max = Math.max(this.getSize() - this._last_set_size, 0);\n      if (pos$$1 > max) this.scrollTo(max);\n    },\n    _sync: function (value, smooth) {\n      var config = this._settings;\n      value = Math.round(value / config.zoom); //safety check for negative values\n\n      if (value < 0) value = 0;\n\n      if (smooth && this._viewobj.scrollTo) {\n        var options = {\n          top: 0,\n          left: 0,\n          behavior: \"smooth\"\n        };\n        options[config.scroll == \"x\" ? \"left\" : \"top\"] = value;\n\n        this._viewobj.scrollTo(options);\n      } else {\n        this._viewobj[config.scroll == \"x\" ? \"scrollLeft\" : \"scrollTop\"] = value;\n      }\n\n      this._onscroll_delay(150);\n\n      this._settings.scrollPos = value || 0;\n    },\n    scrollTo: function (value) {\n      var config = this._settings;\n      value = Math.round(value / config.zoom); //safety check for negative values\n\n      if (value < 0) value = 0; //apply new position\n\n      if (value != this._settings.scrollPos) {\n        this._viewobj[config.scroll == \"x\" ? \"scrollLeft\" : \"scrollTop\"] = value;\n\n        this._onscroll_inner(value, true);\n\n        return true;\n      }\n    },\n    _onscroll_delay: function (time) {\n      if (this._scroll_delay) {\n        time = time || this._scroll_delay[1];\n        clearTimeout(this._scroll_delay[0]);\n      }\n\n      this._scroll_delay = [delay(this._onscroll, this, [!!time], time), time];\n    },\n    _onscroll: function (sync) {\n      this._scroll_delay = null;\n      if (sync) return;\n      var v = Math.round(this._viewobj[this._settings.scroll == \"x\" ? \"scrollLeft\" : \"scrollTop\"]);\n      if (v != this._settings.scrollPos) this._onscroll_inner(v, false);\n    },\n    _onscroll_inner: function (value, api) {\n      //size of scroll area\n      var height = this._settings.scrollWidth || this._settings.scrollHeight; //if we scrolled to the end of the area\n\n      if (value >= height - this._last_set_size / (api ? this._settings.zoom : 1)) {\n        //set value so the last row is visible\n        value = Math.max(0, height - this._last_set_size / this._settings.zoom);\n      }\n\n      this._settings.scrollPos = value || 0;\n      this.callEvent(\"onScroll\", [this.getScroll()]);\n    },\n    activeArea: function (area, x_mode) {\n      this._x_scroll_mode = x_mode;\n\n      _event(area, \"wheel\", this._on_wheel, {\n        bind: this,\n        passive: false\n      });\n    },\n    _on_wheel: function (e) {\n      var dir = 0;\n      var step = e.deltaMode === 0 ? 30 : 1;\n      if (e.ctrlKey) return false;\n\n      if (e.deltaX && Math.abs(e.deltaX) > Math.abs(e.deltaY)) {\n        //x-scroll\n        if (this._x_scroll_mode && this._settings.scrollVisible) dir = e.deltaX / step;\n      } else {\n        //y-scroll\n        if (!this._x_scroll_mode && this._settings.scrollVisible) {\n          if (isUndefined(e.deltaY)) dir = e.detail;else dir = e.deltaY / step;\n        }\n      } // Safari requires target preserving\n      // (used in _check_rendered_cols of DataTable)\n\n\n      if (env.isSafari) this._scroll_trg = e.target;\n      if (dir && this.scrollTo(this.getScroll() + dir * this._settings.scrollStep)) return preventEvent(e);\n    }\n  };\n  var view$1g = exports.protoUI(api$1g, EventSystem, Settings);\n\n  var temp$3 = {};\n\n  var Mixin = {\n    filterByAll: function () {\n      var _this2 = this;\n\n      //we need to use dynamic function creating\n      var server = false;\n      this.data.silent(function () {\n        var _this = this;\n\n        this.filter();\n        var first = false;\n\n        var _loop = function (key) {\n          assert(key, \"empty column id for column with filtering\");\n          if (!_this.isColumnVisible(key)) return \"continue\";\n          var record = _this._filter_elements[key];\n          var originvalue = record[2].getValue(record[0]); //saving last filter value, for usage in getState\n\n          var inputvalue = originvalue;\n          if (record[1].prepare) inputvalue = record[1].prepare.call(record[2], inputvalue, record[1], _this); //preserve original value\n\n          record[1].value = originvalue;\n          var compare = record[1].compare;\n          if (!_this.callEvent(\"onBeforeFilter\", [key, inputvalue, record[1]])) return \"continue\";\n\n          if (record[2].$server || server) {\n            //if one of filters is server side, do not run any client side filters\n            server = true;\n          } else {\n            if (inputvalue === \"\") return \"continue\";\n\n            if (compare) {\n              compare = _this._multi_compare(key, compare);\n\n              _this.filter(bind(function (obj, value) {\n                if (!obj) return false;\n                return compare(obj[key], value, obj);\n              }, _this), inputvalue, first);\n            } else _this.filter(key, inputvalue, first);\n\n            first = true;\n          }\n        };\n\n        for (var key in this._filter_elements) {\n          var _ret = _loop(key);\n\n          if (_ret === \"continue\") continue;\n        }\n      }, this);\n\n      if (server) {\n        if (!this._skip_server_op) this.loadNext(0, 0, 0, 0, true, true).then(function () {\n          return _this2._on_after_filter();\n        });else this._skip_server_op.filter = true;\n      } else {\n        this.refresh();\n        this.callEvent(\"onAfterFilter\", []);\n      }\n    },\n    _multi_compare: function (key, compare) {\n      var column = this.getColumnConfig(key);\n      var separator = column ? column.optionslist : null; //default mode\n\n      if (!separator) return compare;\n      if (typeof separator != \"string\") separator = \",\";\n      return function (itemValue, inputValue, obj) {\n        if (!itemValue) return false;\n        var ids = itemValue.toString().split(separator);\n\n        for (var i = 0; i < ids.length; i++) {\n          if (compare(ids[i], inputValue, obj)) return true;\n        }\n      };\n    },\n    filterMode_setter: function (mode) {\n      return exports.extend(this.data._filterMode, mode, true);\n    },\n    getFilter: function (columnId) {\n      var filter = this._filter_elements[columnId];\n      if (filter && filter[2]._get_filter) return filter[2]._get_filter(filter[0]);\n      if (filter && filter[2].getInputNode) return filter[2].getInputNode(filter[0]);\n      return null;\n    },\n    registerFilter: function (node, config, obj) {\n      this._filter_elements[config.columnId] = [node, config, obj];\n    },\n    collectValues: function (id, mode) {\n      var values;\n      var obj = this.getColumnConfig(id);\n      var options = mode && mode.visible ? null : obj.collection;\n      if (options) values = this._collectValues.call(options, \"id\", \"value\");else values = this._collectValues(obj.id, obj.id);\n      var result = {\n        values: values\n      };\n      this.callEvent(\"onCollectValues\", [id, result]);\n      return result.values;\n    },\n    _collectValues: function (id, value) {\n      var checks = {\n        \"\": true\n      };\n      var values = [];\n      this.data.each(function (obj) {\n        var lineId = obj ? obj[id] : \"\"; //special handling for 0 values\n\n        if (lineId === 0) lineId = \"0\"; //convert to string to create a valid ID\n\n        if (_typeof(lineId) == \"object\") lineId = String(lineId);\n\n        if (lineId !== undefined && !checks[lineId]) {\n          checks[lineId] = true;\n          values.push({\n            id: lineId,\n            value: obj[value]\n          });\n        }\n      }, this, true);\n\n      if (values.length) {\n        var type = typeof values[0].value === \"string\" ? \"string\" : \"raw\";\n        values.sort(this.data.sorting.create({\n          as: type,\n          by: \"value\",\n          dir: \"asc\"\n        }));\n      }\n\n      return values;\n    },\n    _on_after_filter: function () {\n      if (this.editStop) this.editStop();\n      this.callEvent(\"onAfterFilter\", []);\n    }\n  };\n\n  var Mixin$1 = {\n    hover_setter: function (value) {\n      var _this = this;\n\n      if (value && !this._hover_initialized) {\n        this._enable_mouse_move();\n\n        this.config.experimental = true;\n        this.attachEvent(\"onMouseMoving\", function (e) {\n          // do not show hover while dragging\n          if (DragControl.active) {\n            if (_this._last_hover) _this._last_hover = _this.removeRowCss(_this._last_hover, _this._settings.hover);\n            return;\n          }\n\n          var pos = _this.locate(e); // when we click inner html element, edge calls mousemove with incorrect e.target\n\n\n          if (!pos && env.isEdge && e.relatedTarget) pos = _this.locate(e.relatedTarget);\n          var row = pos ? pos.row : null;\n\n          if (_this._last_hover != row) {\n            if (_this._last_hover) _this.removeRowCss(_this._last_hover, _this._settings.hover);\n            _this._last_hover = row;\n            if (_this._last_hover) _this.addRowCss(_this._last_hover, _this._settings.hover);\n          }\n        });\n\n        _event(this.$view, \"mouseout\", function (e) {\n          var trg = e.target; // inner html elements blinking in case of hover:true\n          // ie and edge call mouseout when clicking inner html element\n\n          if (_this._last_hover && document.body.contains(trg)) {\n            var pos = e.relatedTarget ? _this.locate(e.relatedTarget) : null;\n\n            if (!pos) {\n              _this.removeRowCss(_this._last_hover, _this._settings.hover);\n\n              _this._last_hover = null;\n            }\n          }\n        });\n\n        this._hover_initialized = 1;\n      }\n\n      return value;\n    },\n    select_setter: function (value) {\n      if (!this.select && value) {\n        exports.extend(this, this._selections._commonselect, true);\n        if (value === true) value = \"row\";else if (value == \"multiselect\") {\n          value = \"row\";\n          this._settings.multiselect = true;\n        }\n        assert(this._selections[value], \"Unknown selection mode: \" + value);\n        exports.extend(this, this._selections[value], true);\n      }\n\n      return value;\n    },\n    getSelectedId: function (mode) {\n      return mode ? [] : \"\"; //dummy placeholder\n    },\n    getSelectedItem: function (mode) {\n      return SelectionModel.getSelectedItem.call(this, mode);\n    },\n    _selections: {\n      //shared methods for all selection models\n      _commonselect: {\n        _select_css: \" webix_cell_select\",\n        $init: function () {\n          this._reinit_selection();\n\n          this.on_click.webix_cell = bind(this._click_before_select, this); //temporary stab, actual handlers need to be created\n\n          this._data_cleared = this._data_filtered = function () {\n            this.unselect();\n          };\n\n          this.data.attachEvent(\"onStoreUpdated\", bind(this._data_updated, this));\n          this.data.attachEvent(\"onSyncApply\", bind(this._data_synced, this));\n          this.data.attachEvent(\"onClearAll\", bind(this._data_cleared, this));\n          this.data.attachEvent(\"onAfterFilter\", bind(this._data_filtered, this));\n          this.data.attachEvent(\"onIdChange\", bind(this._id_changed, this));\n          this.$ready.push(SelectionModel._set_noselect);\n        },\n        _id_changed: function (oldid, newid) {\n          for (var i = 0; i < this._selected_rows.length; i++) {\n            if (this._selected_rows[i] == oldid) this._selected_rows[i] = newid;\n          }\n\n          for (var _i = 0; _i < this._selected_areas.length; _i++) {\n            var item = this._selected_areas[_i];\n\n            if (item.row == oldid) {\n              oldid = this._select_key(item);\n              item.row = newid;\n              newid = this._select_key(item);\n              item.id = newid;\n              delete this._selected_pull[oldid];\n              this._selected_pull[newid] = true;\n            }\n          }\n        },\n        _data_updated: function (id, obj, type) {\n          if (type == \"delete\") this.unselect(id);\n        },\n        _data_synced: function () {\n          for (var i = this._selected_areas.length - 1; i >= 0; i--) {\n            var row = this._selected_areas[i].row;\n\n            if (!this.exists(row)) {\n              this._selected_areas.splice(i, 1);\n\n              delete this._selected_pull[row];\n            }\n          }\n        },\n        _reinit_selection: function () {\n          //list of selected areas\n          this._selected_areas = []; //key-value hash of selected areas, for fast search\n\n          this._selected_pull = {}; //used to track selected cell objects\n\n          this._selected_rows = [];\n        },\n        isSelected: function (id, column) {\n          var key;\n          if (!isUndefined(column)) key = this._select_key({\n            row: id,\n            column: column\n          });else key = _typeof(id) === \"object\" ? this._select_key(id) : id;\n          return this._selected_pull[key];\n        },\n        getSelectedId: function (asArray, plain) {\n          var result; //if multiple selections was created - return array\n          //in case of single selection, return value or array, when asArray parameter provided\n\n          if (this._selected_areas.length > 1 || asArray) {\n            result = [].concat(this._selected_areas);\n            if (plain) for (var i = 0; i < result.length; i++) {\n              result[i] = result[i].id;\n            }\n          } else {\n            result = this._selected_areas[0];\n            if (plain && result) return result.id;\n          }\n\n          return result;\n        },\n        _id_to_string: function () {\n          return this.row;\n        },\n        _select: function (data, preserve) {\n          var key = this._select_key(data); //don't allow selection on unnamed columns\n\n\n          if (key === null) return;\n          if (preserve === -1) return this._unselect(data);\n          data.id = key;\n          data.toString = this._id_to_string;\n          if (!this.callEvent(\"onBeforeSelect\", [data, preserve])) return false; //ignore area, if it was already selected and\n          // - we are preserving existing selection\n          // - this is the only selected area\n          // otherwise we need to clear other selected areas\n\n          if (this._selected_pull[key] && (preserve || this._selected_areas.length == 1)) return;\n          if (!preserve) this._clear_selection();\n\n          this._selected_areas.push(data);\n\n          this._selected_pull[key] = true;\n          this.callEvent(\"onAfterSelect\", [data, preserve]);\n\n          this._finalize_select(this._post_select(data));\n\n          return true;\n        },\n        _clear_selection: function () {\n          if (!this._selected_areas.length) return false;\n\n          for (var i = 0; i < this._selected_areas.length; i++) {\n            if (!this.callEvent(\"onBeforeUnSelect\", [this._selected_areas[i]])) return false;\n          }\n\n          for (var _i2 = 0; _i2 < this._selected_rows.length; _i2++) {\n            this.data.removeMark(this._selected_rows[_i2], \"webix_selected\", 0, true);\n          }\n\n          var cols = this._settings.columns;\n          if (cols) for (var _i3 = 0; _i3 < cols.length; _i3++) {\n            cols[_i3].$selected = null;\n          }\n          var data = this._selected_areas;\n\n          this._reinit_selection();\n\n          for (var _i4 = 0; _i4 < data.length; _i4++) {\n            this.callEvent(\"onAfterUnSelect\", [data[_i4]]);\n          }\n\n          return true;\n        },\n        unselectAll: function () {\n          this.clearSelection();\n        },\n        selectAll: function () {\n          this.selectRange();\n        },\n        clearSelection: function () {\n          if (this._clear_selection()) {\n            this.callEvent(\"onSelectChange\", []);\n            this.render();\n          }\n        },\n        _unselect: function (data) {\n          var key = this._select_key(data);\n\n          if (!key && this._selected_areas.length) {\n            this.clearSelection();\n            this.callEvent(\"onSelectChange\", []);\n          } //ignore area, if it was already selected\n\n\n          if (!this._selected_pull[key]) return;\n          if (!this.callEvent(\"onBeforeUnSelect\", [data])) return false;\n\n          for (var i = 0; i < this._selected_areas.length; i++) {\n            if (this._selected_areas[i].id == key) {\n              this._selected_areas.splice(i, 1);\n\n              break;\n            }\n          }\n\n          delete this._selected_pull[key];\n          this.callEvent(\"onAfterUnSelect\", [data]);\n\n          this._finalize_select(0, this._post_unselect(data));\n        },\n        _add_item_select: function (id) {\n          var item = this.getItem(id);\n          return this.data.addMark(item.id, \"webix_selected\", 0, {\n            $count: 0\n          }, true);\n        },\n        _finalize_select: function (id) {\n          if (id) this._selected_rows.push(id);\n\n          if (!this._silent_selection) {\n            this.render();\n            this.callEvent(\"onSelectChange\", []);\n          }\n        },\n        _click_before_select: function (e, id) {\n          var preserve = e.ctrlKey || e.metaKey || this._settings.multiselect == \"touch\";\n          var range = e.shiftKey;\n          if (!this._settings.multiselect && this._settings.select != \"multiselect\" && this._settings.select != \"area\") preserve = range = false;\n\n          if (range && this._selected_areas.length) {\n            var last = this._selected_areas[this._selected_areas.length - 1];\n\n            this._selectRange(id, last);\n          } else {\n            if (preserve && this._selected_pull[this._select_key(id)]) this._unselect(id);else this._select({\n              row: id.row,\n              column: id.column\n            }, preserve);\n          }\n        },\n        _mapSelection: function (callback, column, row) {\n          var cols = this._settings.columns; //selected columns only\n\n          if (column) {\n            var temp = [];\n\n            for (var i = 0; i < cols.length; i++) {\n              if (cols[i].$selected) temp.push(cols[i]);\n            }\n\n            cols = temp;\n          }\n\n          var rows = this.data.order;\n          var row_ind = 0;\n\n          for (var _i5 = 0; _i5 < rows.length; _i5++) {\n            var item = this.getItem(rows[_i5]);\n            if (!item) continue; //dyn loading, row is not available\n\n            var selection = this.data.getMark(item.id, \"webix_selected\");\n\n            if (selection || column) {\n              var col_ind = 0;\n\n              for (var j = 0; j < cols.length; j++) {\n                var id = cols[j].id;\n\n                if (row || column || selection[id]) {\n                  if (callback) item[id] = callback(item[id], rows[_i5], id, row_ind, col_ind);else return {\n                    row: rows[_i5],\n                    column: id\n                  };\n                  col_ind++;\n                }\n              } //use separate row counter, to count only selected rows\n\n\n              row_ind++;\n            }\n          }\n        }\n      },\n      row: {\n        _select_css: \" webix_row_select\",\n        _select_key: function (data) {\n          return data.row;\n        },\n        select: function (row_id, preserve) {\n          //when we are using id from mouse events\n          if (row_id) row_id = row_id.toString();\n          assert(this.data.exists(row_id), \"Incorrect id in select command: \" + row_id);\n\n          this._select({\n            row: row_id\n          }, preserve);\n        },\n        _post_select: function (data) {\n          this._add_item_select(data.row).$row = true;\n          return data.row;\n        },\n        unselect: function (row_id) {\n          this._unselect({\n            row: row_id\n          });\n        },\n        _post_unselect: function (data) {\n          this.data.removeMark(data.row, \"webix_selected\", 0, true);\n          return data.row;\n        },\n        mapSelection: function (callback) {\n          return this._mapSelection(callback, false, true);\n        },\n        _selectRange: function (a, b) {\n          return this.selectRange(a.row, b.row);\n        },\n        selectRange: function (row_id, end_row_id, preserve) {\n          if (isUndefined(preserve)) preserve = true;\n          var row_start_ind = row_id ? this.getIndexById(row_id) : 0;\n          var row_end_ind = end_row_id ? this.getIndexById(end_row_id) : this.data.order.length - 1;\n\n          if (row_start_ind > row_end_ind) {\n            var temp = row_start_ind;\n            row_start_ind = row_end_ind;\n            row_end_ind = temp;\n          }\n\n          this._silent_selection = true;\n\n          for (var i = row_start_ind; i <= row_end_ind; i++) {\n            var id = this.getIdByIndex(i);\n\n            if (!id) {\n              if (row_id) this.select(row_id);\n              break;\n            }\n\n            this.select(id, preserve);\n          }\n\n          this._silent_selection = false;\n\n          this._finalize_select();\n        }\n      },\n      cell: {\n        _select_key: function (data) {\n          if (!data.column) return null;\n          return data.row + \"_\" + data.column;\n        },\n        select: function (row_id, column_id, preserve) {\n          assert(this.data.exists(row_id), \"Incorrect id in select command: \" + row_id);\n\n          this._select({\n            row: row_id,\n            column: column_id\n          }, preserve);\n        },\n        _post_select: function (data) {\n          var sel = this._add_item_select(data.row);\n\n          sel.$count++;\n          sel[data.column] = true;\n          return data.row;\n        },\n        unselect: function (row_id, column_id) {\n          this._unselect({\n            row: row_id,\n            column: column_id\n          });\n        },\n        _post_unselect: function (data) {\n          var sel = this._add_item_select(data.row);\n\n          sel.$count--;\n          sel[data.column] = false;\n          if (sel.$count <= 0) this.data.removeMark(data.row, \"webix_selected\", 0, true);\n          return data.row;\n        },\n        mapSelection: function (callback) {\n          return this._mapSelection(callback, false, false);\n        },\n        _selectRange: function (a, b) {\n          return this.selectRange(a.row, a.column, b.row, b.column);\n        },\n        selectRange: function (row_id, column_id, end_row_id, end_column_id, preserve) {\n          if (isUndefined(preserve)) preserve = true;\n          var row_start_ind = row_id ? this.getIndexById(row_id) : 0;\n          var row_end_ind = end_row_id ? this.getIndexById(end_row_id) : this.data.order.length - 1;\n          var col_start_ind = column_id ? this.getColumnIndex(column_id) : 0;\n          var col_end_ind = end_column_id ? this.getColumnIndex(end_column_id) : this._columns.length - 1;\n\n          if (row_start_ind > row_end_ind) {\n            var temp = row_start_ind;\n            row_start_ind = row_end_ind;\n            row_end_ind = temp;\n          }\n\n          if (col_start_ind > col_end_ind) {\n            var _temp = col_start_ind;\n            col_start_ind = col_end_ind;\n            col_end_ind = _temp;\n          }\n\n          this._silent_selection = true;\n\n          for (var i = row_start_ind; i <= row_end_ind; i++) {\n            for (var j = col_start_ind; j <= col_end_ind; j++) {\n              this.select(this.getIdByIndex(i), this.columnId(j), preserve);\n            }\n          }\n\n          this._silent_selection = false;\n\n          this._finalize_select();\n        }\n      },\n      column: {\n        _select_css: \" webix_column_select\",\n        _select_key: function (data) {\n          return data.column;\n        },\n        _id_to_string: function () {\n          return this.column;\n        },\n        //returns box-like area, with ordered selection cells\n        select: function (column_id, preserve) {\n          this._select({\n            column: column_id\n          }, preserve);\n        },\n        _post_select: function (data) {\n          this._settings.columns[this.getColumnIndex(data.column)].$selected = true;\n          if (!this._silent_selection) this._render_header_and_footer();\n        },\n        unselect: function (column_id) {\n          this._unselect({\n            column: column_id\n          });\n        },\n        _post_unselect: function (data) {\n          this._settings.columns[this.getColumnIndex(data.column)].$selected = null;\n\n          this._render_header_and_footer();\n        },\n        mapSelection: function (callback) {\n          return this._mapSelection(callback, true, false);\n        },\n        _selectRange: function (a, b) {\n          return this.selectRange(a.column, b.column);\n        },\n        selectRange: function (column_id, end_column_id, preserve) {\n          if (isUndefined(preserve)) preserve = true;\n          var column_start_ind = column_id ? this.getColumnIndex(column_id) : 0;\n          var column_end_ind = end_column_id ? this.getColumnIndex(end_column_id) : this._columns.length - 1;\n\n          if (column_start_ind > column_end_ind) {\n            var temp = column_start_ind;\n            column_start_ind = column_end_ind;\n            column_end_ind = temp;\n          }\n\n          this._silent_selection = true;\n\n          for (var i = column_start_ind; i <= column_end_ind; i++) {\n            this.select(this.columnId(i), preserve);\n          }\n\n          this._silent_selection = false;\n\n          this._render_header_and_footer();\n\n          this._finalize_select();\n        },\n        _data_synced: function () {//do nothing, as columns are not changed\n        }\n      },\n      area: {\n        _select_key: function (data) {\n          return data.row + \"_\" + data.column;\n        },\n        getSelectedId: function (asArray) {\n          var area = this.getSelectArea();\n          var result = [];\n\n          if (area) {\n            if (asArray && (area.start.row != area.end.row || area.start.column != area.end.column)) {\n              var row_start_ind = this.getIndexById(area.start.row);\n              var row_end_ind = this.getIndexById(area.end.row); //filtering in process\n\n              if (row_start_ind == -1 || row_end_ind == -1) return result;\n              var col_start_ind = this.getColumnIndex(area.start.column);\n              var col_end_ind = this.getColumnIndex(area.end.column);\n\n              for (var i = row_start_ind; i <= row_end_ind; i++) {\n                for (var j = col_start_ind; j <= col_end_ind; j++) {\n                  result.push({\n                    row: this.getIdByIndex(i),\n                    column: this.columnId(j)\n                  });\n                }\n              }\n            } else {\n              result.push(area.end);\n            }\n          }\n\n          return asArray ? result : result[0];\n        },\n        unselect: function () {\n          this._unselect();\n        },\n        _unselect: function () {\n          this.removeSelectArea();\n          this.callEvent(\"onSelectChange\", []);\n        },\n        mapSelection: function (callback) {\n          var select = this.getSelectArea();\n\n          if (select) {\n            var sind = this.getColumnIndex(select.start.column);\n            var eind = this.getColumnIndex(select.end.column);\n            var srow = this.getIndexById(select.start.row);\n            var erow = this.getIndexById(select.end.row);\n\n            for (var i = srow; i <= erow; i++) {\n              var rid = this.data.order[i];\n              var item = this.getItem(rid);\n\n              for (var j = sind; j <= eind; j++) {\n                var cid = this._columns[j].id;\n                if (callback) item[cid] = callback(item[cid], rid, cid, i - srow, j - sind);else return {\n                  row: rid,\n                  column: cid\n                };\n              }\n            }\n          }\n        },\n        select: function (row_id, column_id, preserve) {\n          assert(this.data.exists(row_id), \"Incorrect id in select command: \" + row_id);\n\n          this._select({\n            row: row_id,\n            column: column_id\n          }, preserve);\n        },\n        _selectRange: function (id, last) {\n          this._extendAreaRange(id, last);\n        },\n        _select: function (cell) {\n          //ctrl-selection is not supported yet, so ignoring the preserve flag\n          this.addSelectArea(cell, cell, false);\n          return true;\n        },\n        _data_synced: function () {\n          if (this._selected_areas.length) this.refreshSelectArea();\n        }\n      }\n    }\n  };\n\n  var Mixin$2 = {\n    blockselect_setter: function (value) {\n      var _this = this;\n\n      if (value && this._block_sel_flag) {\n        _event(this._viewobj, env.mouse.down, function (e) {\n          return _this._bs_down(e, \"mouse\");\n        });\n\n        if (env.touch) this.attachEvent(\"onLongTouch\", function (e) {\n          return _this._bs_down(e, \"touch\");\n        });\n        this._block_sel_flag = this._bs_ready = this._bs_progress = false;\n        this.attachEvent(\"onAfterScroll\", this._update_block_selection); // auto scroll\n\n        exports.extend(this, AutoScroll, true);\n        this.attachEvent(\"onBeforeAutoScroll\", function () {\n          return this._bs_progress;\n        });\n      }\n\n      return value;\n    },\n    _block_sel_flag: true,\n    _childOf: function (e, tag) {\n      var src = e.target;\n\n      while (src) {\n        if (src.getAttribute && src.getAttribute(\n        /*@attr*/\n        \"webixignore\")) return false;\n        if (src == tag) return true;\n        src = src.parentNode;\n      }\n\n      return false;\n    },\n    _bs_down: function (e, pointer) {\n      // do not listen to mousedown of subview on master\n      if (this._settings.subview && this != $$(e.target)) return;\n\n      if (this._childOf(e, this._body)) {\n        //disable block selection when we have an active editor\n        if (e.target && e.target.tagName == \"INPUT\" || this._rs_process) return;\n        this._bs_position = offset(this._body);\n        var pos$$1 = pos(e);\n        this._bs_ready = [pos$$1.x - this._bs_position.x, pos$$1.y - this._bs_position.y];\n\n        this._bs_handler_init(e.target, pointer);\n      }\n    },\n    _bs_handler_init: function (target, pointer) {\n      var _this2 = this;\n\n      if (pointer === \"touch\") {\n        this._bs_mm_handler = event$1(target, env[pointer].move, function (e) {\n          return _this2._bs_move(e, pointer);\n        }, {\n          passive: false\n        });\n        this._bs_mu_handler = event$1(target, env[pointer].up, function (e) {\n          return _this2._bs_up(e);\n        });\n      } else {\n        this._bs_mm_handler = event$1(this._viewobj, env[pointer].move, function (e) {\n          return _this2._bs_move(e, pointer);\n        });\n        this._bs_mu_handler = event$1(document, env[pointer].up, function (e) {\n          return _this2._bs_up(e);\n        });\n      }\n    },\n    _bs_up: function (e) {\n      if (this._block_panel) {\n        this._bs_select(\"select\", true, e);\n\n        this._block_panel = remove(this._block_panel);\n      }\n\n      this._bs_mm_handler = eventRemove(this._bs_mm_handler);\n      this._bs_mu_handler = eventRemove(this._bs_mu_handler);\n      removeCss(document.body, \"webix_noselect\");\n      this._bs_ready = this._bs_progress = false;\n      if (this._auto_scroll_delay) this._auto_scroll_delay = window.clearTimeout(this._auto_scroll_delay);\n    },\n    _update_block_selection: function () {\n      if (this._bs_progress) delay(this._bs_select, this, [false, false]);\n    },\n    _bs_select: function (mode, theend, e) {\n      var start = null;\n      if (!this._bs_ready[2]) this._bs_ready[2] = this._locate_cell_xy.apply(this, this._bs_ready);\n      start = this._bs_ready[2];\n\n      var end = this._locate_cell_xy.apply(this, this._bs_progress);\n\n      if (!this.callEvent(\"onBeforeBlockSelect\", [start, end, theend, e])) return;\n\n      if ((!this._bs_do_select || this._bs_do_select(start, end, theend, e) !== false) && start.row && end.row) {\n        if (mode === \"select\") {\n          this._clear_selection();\n\n          this._selectRange(start, end);\n        } else {\n          var startx, starty, endx, endy;\n\n          if (mode === \"box\") {\n            startx = Math.min(this._bs_ready[0], this._bs_progress[0]);\n            endx = Math.max(this._bs_ready[0], this._bs_progress[0]);\n            starty = Math.min(this._bs_ready[1], this._bs_progress[1]);\n            endy = Math.max(this._bs_ready[1], this._bs_progress[1]);\n          } else {\n            var startn = this._cellPosition(start.row, start.column);\n\n            var endn = this._cellPosition(end.row, end.column);\n\n            var scroll = this.getScrollState();\n            var startWidth = startn.width;\n            var endWidth = endn.width;\n\n            if (this._right_width && this._bs_ready[0] > this._left_width + this._center_width) {\n              startn.left += this._left_width + this._center_width;\n            } else if (this._left_width) {\n              if (this._bs_ready[0] > this._left_width) {\n                if (startn.left < scroll.x) {\n                  startWidth -= scroll.x - startn.left;\n                  startn.left = this._left_width;\n                } else startn.left += this._left_width - scroll.x;\n              }\n            } else startn.left -= scroll.x;\n\n            if (this._right_width && this._bs_progress[0] > this._left_width + this._center_width) {\n              endn.left += this._left_width + this._center_width;\n            } else if (this._left_width) {\n              if (this._bs_progress[0] > this._left_width) {\n                if (endn.left < scroll.x) {\n                  endWidth -= scroll.x - endn.left;\n                  endn.left = this._left_width;\n                } else endn.left += this._left_width - scroll.x;\n              }\n            } else endn.left -= scroll.x;\n\n            if (this._settings.prerender) {\n              startn.top -= this._scrollTop;\n              endn.top -= this._scrollTop;\n            }\n\n            startx = Math.min(startn.left, endn.left);\n            endx = Math.max(startn.left + startWidth, endn.left + endWidth);\n            starty = Math.min(startn.top, endn.top);\n            endy = Math.max(startn.top + startn.height, endn.top + endn.height);\n            if (this._settings.topSplit) starty += this._getTopSplitOffset(start);\n            if (this._auto_scroll_delay) this._auto_scroll_delay = window.clearTimeout(this._auto_scroll_delay);\n            if (e && (!this._touch_scroll || this._settings.prerender)) this._auto_scroll_delay = delay(this._auto_scroll, this, [pos(e)], 250);\n          }\n\n          var style = this._block_panel.style;\n          style.left = startx + \"px\";\n          style.top = starty + \"px\";\n          style.width = endx - startx + \"px\";\n          style.height = endy - starty + \"px\";\n        }\n      }\n\n      if (theend) this.callEvent(\"onAfterBlockSelect\", [start, end]);\n    },\n    _bs_start: function () {\n      this._block_panel = create(\"div\", {\n        \"class\": \"webix_block_selection\"\n      }, \"\");\n\n      this._body.appendChild(this._block_panel);\n    },\n    _bs_move: function (e, pointer) {\n      if (this._rs_progress) return;\n\n      if (this._bs_ready !== false) {\n        if (!this._bs_progress) addCss(document.body, \"webix_noselect\");\n        var pos$$1 = pos(e);\n        var progress = [pos$$1.x - this._bs_position.x, pos$$1.y - this._bs_position.y]; //prevent unnecessary block selection while dbl-clicking\n\n        if (Math.abs(this._bs_ready[0] - progress[0]) < 5 && Math.abs(this._bs_ready[1] - progress[1]) < 5) return;\n        if (this._bs_progress === false) this._bs_start(e);\n        this._bs_progress = progress;\n\n        this._bs_select(this.config.blockselect, false, e);\n\n        if (pointer === \"touch\") preventEvent(e);\n      }\n    },\n    _locate_cell_xy: function (x, y) {\n      var inTopSplit = false,\n          row = null,\n          column = null;\n      if (this._right_width && x > this._left_width + this._center_width) x += this._x_scroll.getSize() - this._center_width - this._left_width - this._right_width;else if (!this._left_width || x > this._left_width) x += this._x_scroll.getScroll();\n\n      if (this._settings.topSplit && this._render_scroll_top > this._settings.topSplit) {\n        var splitPos = this._cellPosition(this.getIdByIndex(this._settings.topSplit - 1), this.columnId(0));\n\n        if (splitPos.top + splitPos.height > y) {\n          inTopSplit = true;\n        }\n      }\n\n      if (!inTopSplit) y += this.getScrollState().y;\n      if (x < 0) x = 0;\n      if (y < 0) y = 0;\n      var cols = this._settings.columns;\n      var rows = this.data.order;\n      var summ = 0;\n\n      for (var i = 0; i < cols.length; i++) {\n        summ += cols[i].width;\n\n        if (summ >= x) {\n          column = cols[i].id;\n          break;\n        }\n      }\n\n      if (!column) column = cols[cols.length - 1].id;\n      summ = 0;\n      var start = this.data.$min || 0;\n\n      if (this._settings.fixedRowHeight) {\n        row = rows[start + Math.floor(y / this._settings.rowHeight)];\n      } else for (var _i = start; _i < rows.length; _i++) {\n        summ += this._getHeightByIndex(_i);\n\n        if (summ >= y) {\n          row = rows[_i];\n          break;\n        }\n      }\n\n      if (!row) row = rows[rows.length - 1];\n      return {\n        row: row,\n        column: column\n      };\n    },\n    _getTopSplitOffset: function (cell, area) {\n      var y = 0,\n          startIndex = this.getIndexById(cell.row);\n\n      if (startIndex >= this._settings.topSplit) {\n        var startPos = this._cellPosition(this.getIdByIndex(startIndex), cell.column);\n\n        var splitPos = this._cellPosition(this.getIdByIndex(this._settings.topSplit - 1), cell.column);\n\n        if (splitPos.top + splitPos.height > startPos.top) y = splitPos.top + splitPos.height - (startPos.top > 0 || !area ? startPos.top : 0);\n      }\n\n      return y;\n    }\n  };\n\n  var Mixin$3 = {\n    resizeRow_setter: function (value) {\n      this._settings.scrollAlignY = false;\n      this._settings.fixedRowHeight = false;\n      return this.resizeColumn_setter(value);\n    },\n    resizeColumn_setter: function (value) {\n      var _this = this;\n\n      if (value && this._rs_init_flag) {\n        _event(this._viewobj, \"mousemove\", function (e) {\n          return _this._rs_move(e);\n        });\n\n        _event(this._viewobj, \"mousedown\", function (e) {\n          return _this._rs_down(e);\n        });\n\n        _event(this._viewobj, \"mouseup\", function () {\n          return _this._rs_up();\n        });\n\n        this._rs_init_flag = false;\n      }\n\n      return value;\n    },\n    _rs_init_flag: true,\n    _rs_down: function (e) {\n      // do not listen to mousedown of subview on master\n      if (!this._rs_ready || this._settings.subview && this != $$(e.target)) return;\n      this._rs_process = [pos(e), this._rs_ready];\n      addCss(document.body, \"webix_noselect\");\n      denySelect();\n    },\n    _rs_up: function () {\n      this._rs_process = false;\n      removeCss(document.body, \"webix_noselect\");\n      allowSelect();\n    },\n    _rs_start: function () {\n      var _this2 = this;\n\n      if (this._rs_progress) return;\n\n      var _this$_rs_process$ = _slicedToArray(this._rs_process[1], 4),\n          dir = _this$_rs_process$[0],\n          size = _this$_rs_process$[1],\n          node = _this$_rs_process$[2],\n          cell = _this$_rs_process$[3];\n\n      var eventPos = this._rs_process[0];\n      var start;\n\n      if (dir == \"x\") {\n        start = offset(node).x + size - offset(this._body).x;\n        eventPos = eventPos.x;\n      } else {\n        start = offset(node).y + size - offset(this._body).y + this._header_height;\n        eventPos = eventPos.y;\n      }\n\n      this._rs_progress = [dir, cell, start];\n      var resize = new ui.resizearea({\n        container: this._viewobj,\n        eventPos: eventPos,\n        start: start,\n        dir: dir,\n        cursor: (dir == \"x\" ? \"col\" : \"row\") + \"-resize\"\n      });\n      resize.attachEvent(\"onResizeEnd\", function (pos$$1) {\n        return _this2._rs_end(pos$$1);\n      });\n      this._rs_ready = false;\n    },\n    _rs_end: function (result) {\n      if (this._rs_progress) {\n        var cell = this._rs_progress[1];\n        var newsize = result - this._rs_progress[2];\n\n        if (this._rs_progress[0] == \"x\") {\n          //in case of right split - different sizing logic applied\n          if (this._settings.rightSplit && cell.cind >= this._rightSplit) {\n            newsize *= -1;\n          }\n\n          var col = this._columns[cell.cind];\n          var oldwidth = col.width;\n          delete col.fillspace;\n          delete col.adjust;\n\n          this._setColumnWidth(cell.cind, oldwidth + newsize, true, true);\n\n          this._updateColsSizeSettings();\n        } else {\n          var id = this.getIdByIndex(cell.rind);\n\n          var oldheight = this._getRowHeight(this.getItem(id));\n\n          this.setRowHeight(id, oldheight + newsize);\n        }\n\n        this._rs_up();\n      }\n\n      this._rs_progress = null;\n    },\n    _rs_move: function (e) {\n      if (this._rs_ready && this._rs_process) return this._rs_start();\n      this._rs_ready = false;\n      var mode = false;\n      var node = e.target;\n      var config = this._settings; //we can't use node.className because there can be SVG (in SVG it is an SVGAnimatedString object)\n\n      var element_class = node.getAttribute(\"class\") || \"\"; //ignore resize in case of drag-n-drop enabled\n\n      var in_body = element_class.indexOf(\"webix_cell\") != -1;\n      if (in_body && config.drag) return this._mark_resize(mode);\n      var in_header = element_class.indexOf(\"webix_hcell\") != -1;\n\n      if (in_body || in_header) {\n        var _pos = posRelative(e);\n\n        var cell = this._locate(node);\n\n        mode = this._is_column_rs(cell, _pos, node, config.resizeColumn, in_body) || in_body && this._is_row_rs(cell, _pos, node, config.resizeRow);\n      } //mark or unmark resizing ready state\n\n\n      this._mark_resize(mode);\n    },\n    _is_column_rs: function (cell, pos$$1, node, rColumn, in_body) {\n      // if resize is only within the header\n      if (!rColumn || in_body && rColumn.headerOnly) return false;\n      var dx = node.offsetWidth;\n      rColumn = rColumn.size ? rColumn.size : 3;\n      var col, config;\n\n      if (pos$$1.x < rColumn) {\n        if (cell.cind < this._rightSplit) cell.cind -= cell.span || 1;\n        col = this._columns[cell.cind];\n        config = [\"x\", 0, node, cell];\n      } else if (dx - pos$$1.x < rColumn + 1) {\n        if (this._settings.rightSplit && cell.cind + 1 >= this._rightSplit) cell.cind++;\n\n        if (!this._settings.rightSplit || cell.cind < this._columns.length) {\n          col = this._columns[cell.cind];\n          config = [\"x\", dx, node, cell];\n        }\n      }\n\n      if (col && col.resize !== false) {\n        this._rs_ready = config;\n        return \"col-resize\";\n      }\n\n      return false;\n    },\n    _is_row_rs: function (cell, pos$$1, node, rRow) {\n      // if resize is only within the first column\n      if (!rRow || rRow.headerOnly && cell.cind > 0) return false; // block selection in progress\n\n      if (this._bs_progress) return false;\n      var dy = node.offsetHeight;\n      rRow = rRow.size ? rRow.size : 3;\n\n      if (pos$$1.y < rRow) {\n        if (cell.rind > 0) {\n          // avoid resize header border\n          cell.rind--;\n          this._rs_ready = [\"y\", 0, node, cell];\n        }\n      } else if (dy - pos$$1.y < rRow + 1) this._rs_ready = [\"y\", dy, node, cell];\n\n      return this._rs_ready ? \"row-resize\" : false;\n    },\n    _mark_resize: function (mode) {\n      if (this._cursor_timer) window.clearTimeout(this._cursor_timer);\n      this._cursor_timer = delay(this._mark_resize_ready, this, [mode], mode ? 100 : 0);\n    },\n    _mark_resize_ready: function (mode) {\n      if (this._last_cursor_mode != mode) {\n        this._last_cursor_mode = mode;\n        this._viewobj.style.cursor = mode || \"\";\n      }\n    }\n  };\n\n  attachEvent(\"onDataTable\", function (table, config) {\n    if (env.touch) {\n      Touch.$init();\n      config.scrollSize = 0; // needed to show datatable scroll\n\n      if (Touch._disabled) Touch.limit();\n      table.$ready.push(table.$touch);\n    }\n  });\n  var Mixin$4 = {\n    $touch: function () {\n      var config = this._settings;\n      config.scrollAlignY = false;\n      exports.extend(this, config.prerender === true ? this._touchNative : this._touch);\n      var scrollMode = \"\";\n      if (!config.autowidth && config.scrollX !== false) scrollMode += \"x\";\n      if (!config.autoheight && config.scrollY !== false) scrollMode += \"y\";\n\n      this._body.setAttribute(\"touch_scroll\", scrollMode);\n\n      Touch._init_scroll_node(this._body.childNodes[1].firstChild);\n\n      this._sync_scroll(0, 0, \"0ms\");\n    },\n    $hasYScroll: function () {\n      return this._dtable_height - this._dtable_offset_height > 2;\n    },\n    _touchNative: {\n      _touch_scroll: true,\n      _scrollTo_touch: function (x, y) {\n        // limit scroll\n        var sizes = Touch._get_sizes(this._body.childNodes[1].firstChild);\n\n        x = Math.max(0, Math.min(x, sizes.dx - sizes.px));\n        y = Math.max(0, Math.min(y, sizes.dy - sizes.py)); // no delay, important for autoscroll\n\n        this.callEvent(\"onAfterScroll\", [{\n          e: -x,\n          f: -y\n        }]);\n      },\n      _getScrollState_touch: function () {\n        var temp = Touch._get_matrix(this._body.childNodes[1].firstChild);\n\n        return {\n          x: -temp.e,\n          y: -temp.f\n        };\n      },\n      $init: function () {\n        this.attachEvent(\"onBeforeScroll\", function () {\n          Touch._scroll_node = this._body.childNodes[1].firstChild;\n          Touch._scroll_stat = Touch._get_sizes(Touch._scroll_node);\n          Touch._scroll_master = this;\n        });\n        this.attachEvent(\"onTouchEnd\", function () {\n          Touch._scroll_master = null;\n        });\n        this.attachEvent(\"onAfterScroll\", function (result) {\n          //onAfterScroll may be triggered by some non-touch related logic\n          if (!result) return;\n          this._scrollLeft = -result.e;\n          this._scrollTop = -result.f;\n\n          this._sync_scroll(result.e, result.f, \"0ms\");\n        });\n      }\n    },\n    _touch: {\n      _touch_scroll: true,\n      _scrollTo_touch: function (x, y) {\n        delay(function () {\n          this.callEvent(\"onAfterScroll\", [{\n            e: -x,\n            f: -y\n          }]);\n        }, this);\n      },\n      $scroll: {\n        gravity: 0,\n        elastic: false\n      },\n      $init: function () {\n        //if the result column's width < container's width,\n        this.attachEvent(\"onAfterColumnHide\", function () {\n          this._scrollTo_touch(0, 0);\n        });\n        this.attachEvent(\"onAfterRender\", function () {\n          if (this._x_scroll && this._settings.scrollX) this._x_scroll._fixSize();\n          if (this._y_scroll && this._settings.scrollY) this._y_scroll._fixSize();\n        });\n        this.attachEvent(\"onBeforeScroll\", function () {\n          Touch._scroll_node = this._body.childNodes[1].firstChild;\n          Touch._scroll_stat = Touch._get_sizes(Touch._scroll_node);\n          Touch._scroll_stat.dy = this._dtable_height;\n          Touch._scroll_master = this;\n        });\n        this.attachEvent(\"onTouchEnd\", function () {\n          Touch._scroll_master = null;\n        });\n        this.attachEvent(\"onAfterScroll\", function (result) {\n          //onAfterScroll may be triggered by some non-touch related logic\n          if (!result) return;\n          this._scrollTop = 0;\n          this._scrollLeft = 0;\n\n          this._sync_scroll(0, 0, \"0ms\");\n\n          this._scrollLeft = -result.e;\n          this._scrollTop = -result.f;\n\n          this._correctScrollSize();\n\n          this.render();\n\n          if (this._x_scroll) {\n            this._x_scroll._settings.scrollPos = -1;\n\n            this._x_scroll.scrollTo(this._scrollLeft);\n\n            this.callEvent(\"onScrollY\", []);\n          }\n\n          if (this._y_scroll) {\n            this._y_scroll._settings.scrollPos = -1;\n\n            this._y_scroll.scrollTo(this._scrollTop);\n\n            this.callEvent(\"onScrollY\", []);\n          }\n        });\n      }\n    },\n    _sync_scroll: function (x, y, t) {\n      var diff = this._settings.prerender ? 0 : this._scrollTop;\n      y += diff;\n\n      Touch._set_matrix(this._body.childNodes[1].firstChild, x, y, t);\n\n      if (this._settings.leftSplit) Touch._set_matrix(this._body.childNodes[0].firstChild, 0, y, t);\n      if (this._settings.rightSplit) Touch._set_matrix(this._body.childNodes[2].firstChild, 0, y, t);\n      if (this._settings.header) Touch._set_matrix(this._header.childNodes[1].firstChild, x, 0, t);\n      if (this._settings.footer) Touch._set_matrix(this._footer.childNodes[1].firstChild, x, 0, t);\n      var smooth = t !== \"0ms\";\n      if (this._x_scroll) this._x_scroll._sync(-x, smooth);\n      if (this._y_scroll) this._y_scroll._sync(-y + diff, smooth);\n      this.callEvent(\"onSyncScroll\", [x, y, t]);\n    },\n    _sync_y_scroll: function (y, t) {\n      var x = -this.getScrollState().x;\n\n      Touch._set_matrix(this._body.childNodes[1].firstChild, x, y, t);\n\n      if (this._settings.leftSplit) Touch._set_matrix(this._body.childNodes[0].firstChild, 0, y, t);\n      if (this._settings.rightSplit) Touch._set_matrix(this._body.childNodes[2].firstChild, 0, y, t);\n      this.callEvent(\"onSyncScroll\", [x, y, t]);\n    },\n    _sync_x_scroll: function (x, t) {\n      var y = this._settings.prerender ? -this.getScrollState().y : 0;\n\n      Touch._set_matrix(this._body.childNodes[1].firstChild, x, y, t);\n\n      if (this._settings.header) Touch._set_matrix(this._header.childNodes[1].firstChild, x, 0, t);\n      if (this._settings.footer) Touch._set_matrix(this._footer.childNodes[1].firstChild, x, 0, t);\n      this.callEvent(\"onSyncScroll\", [x, y, t]);\n    },\n    _sync_pos: function (matrix) {\n      if (!this._settings.prerender) matrix.f -= this._scrollTop;\n    }\n  };\n\n  var Mixin$5 = {\n    $init: function () {\n      this.data.attachEvent(\"onStoreUpdated\", bind(function (id) {\n        if (!id) this._adjustColumns();\n      }, this));\n      this.attachEvent(\"onStructureLoad\", this._adjustColumns);\n      this.attachEvent(\"onStructureUpdate\", this._resizeColumns);\n      this.attachEvent(\"onColumnResize\", function (a, b, c, user) {\n        if (user) this._resizeColumns();\n      });\n      this.attachEvent(\"onResize\", this._resizeColumns);\n    },\n    _adjustColumns: function () {\n      var resize = false;\n      var cols = this._columns;\n\n      for (var i = 0; i < cols.length; i++) {\n        if (cols[i].adjust && (cols[i].adjust == \"header\" || this.count())) resize = this._adjustColumn(i, cols[i].adjust, true) || resize;\n      }\n\n      if (resize) {\n        this._updateColsSizeSettings(true);\n\n        this._resizeColumns();\n      }\n    },\n    _resizeColumns: function () {\n      var cols = this._settings.columns;\n      var fill = [];\n      var summ = 0;\n      if (cols && !this._settings.autowidth) for (var i = 0; i < cols.length; i++) {\n        var colfil = cols[i].fillspace;\n\n        if (colfil) {\n          fill[i] = colfil;\n          summ += colfil * 1 || 1;\n        }\n      }\n      if (summ) this._fillColumnSize(fill, summ);\n    },\n    _fillColumnSize: function (fill, summ) {\n      var cols = this._settings.columns;\n      if (!cols) return;\n      var width = this._content_width - this._scrollSizeY;\n      var resize = false;\n\n      if (width > 0) {\n        for (var i = 0; i < cols.length; i++) {\n          if (!fill[i]) width -= cols[i].width || this._settings.columnWidth;\n        }\n\n        for (var _i = 0; _i < fill.length; _i++) {\n          if (fill[_i]) {\n            var request = Math.min(width, Math.round(width * fill[_i] / summ));\n            resize = this._setColumnWidth(_i, request, true) || resize;\n            width = width - cols[_i].width;\n            summ = summ - fill[_i];\n          }\n        }\n\n        if (resize) this._updateColsSizeSettings(true);\n      }\n    },\n    _getColumnConfigSize: function (ind, headers) {\n      var config = this._settings.columns[ind];\n      var max = config.minWidth || this._settings.minColumnWidth; //get max data width\n\n      if (headers != \"header\") {\n        var count = this.data.order.length;\n        if (config.adjustBatch && config.adjustBatch < count) count = config.adjustBatch;\n        var order = this.data.order.slice(0, count);\n\n        for (var i = 0; i < count; i++) {\n          order[i] = order[i] ? this._getValue(this.getItem(order[i]), config, 0) : \"\";\n        }\n\n        max = Math.max(max, getTextSize(order, \"webix_table_cell webix_cell\").width);\n      } //get max header width\n\n\n      if (headers != \"data\") {\n        for (var _i2 = 0; _i2 < config.header.length; _i2++) {\n          var header = config.header[_i2];\n\n          if (header) {\n            var width = 0;\n            if (header.rotate) for (var h = 0; h < (header.rowspan || 1); h++) {\n              width += this._headers[h];\n            }\n            var css = \"webix_table_cell webix_cell \" + (header.css || \"\") + (header.rotate ? \"webix_measure_rotate\" : \"\");\n            var size = getTextSize([header.text], css, width);\n            max = Math.max(max, header.rotate ? size.height : size.width);\n          }\n        }\n\n        if (config.sort) max += 10; // add 10px for sort marker\n      }\n\n      max = max + (env.isIE ? $active.layoutPadding.space : 0);\n      return Math.min(max, config.maxWidth || this._settings.maxColumnWidth || 100000);\n    },\n    _adjustColumn: function (ind, headers, ignore) {\n      if (ind >= 0) {\n        var width = this._getColumnConfigSize(ind, headers);\n\n        return this._setColumnWidth(ind, width, ignore);\n      }\n    },\n    adjustColumn: function (id, headers) {\n      this._adjustColumn(this.getColumnIndex(id), headers);\n    },\n    adjustRowHeight: function (id, silent) {\n      if (id) this._adjustRowHeight(id);else {\n        var heights = {};\n        var cols = this._settings.columns;\n\n        for (var i = 0; i < cols.length; i++) {\n          this._adjustRowHeight(cols[i].id, heights);\n        } //adjust size for single columns\n\n\n        this.data.each(function (obj) {\n          obj.$height = heights[obj.id];\n        });\n      }\n      if (!silent) this.refresh();\n    },\n    _adjustRowHeight: function (id, size) {\n      var config = this.getColumnConfig(id);\n      var container;\n      var d = create(\"DIV\", {\n        \"class\": \"webix_table_cell webix_measure_size webix_cell\"\n      }, \"\");\n      d.style.cssText = \"width:\" + config.width + \"px; height:1px; visibility:hidden; position:absolute; top:0px; left:0px; overflow:hidden;\";\n      this.$view.appendChild(d);\n\n      if (d.offsetHeight < 1) {\n        //hidden container, height detection is broken\n        //reattach to the body\n        container = this.$view.cloneNode(true);\n        document.body.appendChild(container);\n        container.appendChild(d);\n      }\n\n      this.data.each(function (obj) {\n        var height;\n        d.innerHTML = this._getValue(obj, config, 0);\n        height = Math.max(d.scrollHeight, this._settings.rowHeight, this._settings.minRowHeight || 0);\n        height = Math.min(height, this._settings.maxRowHeight || 100000);\n        if (size) size[obj.id] = Math.max(height, size[obj.id] || 0);else obj.$height = height;\n      }, this);\n      d = remove(d);\n      if (container) remove(container);\n    }\n  };\n\n  var Mixin$6 = {\n    math_setter: function (value) {\n      if (value) this._math_init();\n      return value;\n    },\n    _math_pref: \"$\",\n    _math_init: function () {\n      if (env.strict) return;\n      this.data.attachEvent(\"onStoreUpdated\", bind(this._parse_row_math, this));\n      this.data.attachEvent(\"onStoreLoad\", bind(this._parse_math, this));\n      this.attachEvent(\"onStructureLoad\", this._parse_math);\n    },\n    _parse_row_math: function (id, obj, action) {\n      if (!id || action == \"paint\") return;\n\n      if (action == \"delete\") {\n        for (var i = 0; i < this._columns.length; i++) {\n          this._remove_old_triggers(obj, this._columns[i].id);\n        }\n      } else {\n        if (action == \"add\") this._exprs_by_columns(obj);\n\n        for (var _i = 0; _i < this._columns.length; _i++) {\n          this._math_recalc = {};\n\n          this._parse_cell_math(id, this._columns[_i].id);\n        }\n\n        this._math_recalc = {};\n      }\n    },\n    _parse_cell_math: function (row, col) {\n      var item = this.getItem(row);\n      var value; // use previosly saved formula if available\n\n      value = item[this._math_pref + col] || item[col];\n\n      if (value && value.length > 0 && value.toString().substr(0, 1) === \"=\") {\n        // calculate math value\n        item[this._math_pref + col] = value;\n        item[col] = this._calculate(value, row, col); //this.updateItem(item);\n      } else {\n        // just a string\n        if (typeof item[this._math_pref + col] !== \"undefined\") delete item[this._math_pref + col]; // remove triggers if they were setted earlier\n\n        this._remove_old_triggers(item, col);\n      } // recalculate depending cells\n\n\n      if (typeof item.depends !== \"undefined\" && typeof item.depends[col] !== \"undefined\") {\n        for (var i in item.depends[col]) {\n          var name = item.depends[col][i][0] + \"__\" + item.depends[col][i][1];\n\n          if (typeof this._math_recalc[name] === \"undefined\") {\n            this._math_recalc[name] = true;\n\n            this._parse_cell_math(item.depends[col][i][0], item.depends[col][i][1]);\n          }\n        }\n      }\n    },\n    _set_original_value: function (row, col) {\n      var item = this.getItem(row);\n      if (typeof item[this._math_pref + col] !== \"undefined\") item[col] = item[this._math_pref + col];\n    },\n    _parse_math: function () {\n      if (!this._columns || !this.count()) return;\n\n      this._exprs_by_columns();\n\n      for (var j = 0; j < this._columns.length; j++) {\n        var col = this.columnId(j);\n        this.data.each(function (obj) {\n          this._math_recalc = {};\n\n          this._parse_cell_math(obj.id, col);\n        }, this);\n      }\n\n      this._math_recalc = {};\n    },\n    _exprs_by_columns: function (row) {\n      for (var i = 0; i < this._columns.length; i++) {\n        if (this._columns[i].math) {\n          var col = this.columnId(i);\n          var math = \"=\" + this._columns[i].math;\n          math = math.replace(/\\$c/g, \"#$c#\");\n\n          if (row) {\n            row[col] = this._parse_relative_expr(math, row.id, col);\n            delete row[this._math_pref + col];\n\n            this._remove_old_triggers(row, col);\n          } else this.data.each(function (obj) {\n            obj[col] = this._parse_relative_expr(math, obj.id, col);\n            delete obj[this._math_pref + col];\n\n            this._remove_old_triggers(obj, col);\n          }, this);\n        }\n      }\n    },\n    _parse_relative_expr: function (expr, row, col) {\n      return template(expr)({\n        \"$r\": row,\n        \"$c\": col\n      });\n    },\n    _get_calc_value: function (row, col) {\n      var item;\n      if (this.exists(row)) item = this.getItem(row);else return \"#out_of_range\";\n      var value = item[this._math_pref + col] || item[col] || 0;\n      value = value.toString();\n      if (value.substring(0, 1) !== \"=\") // it's a string\n        return value;else {\n        // TODO: check if value shouldn't be recalculated\n        // and return value calculated earlier\n        // calculate math expr value right now\n        if (typeof item[this._math_pref + col] === \"undefined\") item[this._math_pref + col] = item[col];\n        item[col] = this._calculate(value, row, col, true);\n        return item[col];\n      }\n    },\n    _calculate: function (value, row, col, _inner_call) {\n      // add coord in math trace to detect self-references\n      if (_inner_call === true) {\n        if (this._in_math_trace(row, col)) return \"#selfreference\";\n      } else this._start_math_trace();\n\n      this._to_math_trace(row, col);\n\n      var item = this.getItem(row);\n      value = value.substring(1); // get operations list\n\n      var operations = this._get_operations(value);\n\n      var triggers = this._get_refs(value, row);\n\n      if (operations) {\n        value = this._replace_refs(value, triggers);\n        value = this._parse_args(value, operations);\n      } else {\n        value = this._replace_refs(value, triggers, true);\n      }\n\n      var exc = this._math_exception(value);\n\n      if (exc !== false) return exc; // remove from coord from trace when calculations were finished - it's important!\n\n      this._from_math_trace(row, col); // process triggers to know which cells should be recalculated when one was changed\n\n\n      this._remove_old_triggers(item, col);\n\n      for (var i = 0; i < triggers.length; i++) {\n        this._add_trigger([row, col], triggers[i]);\n      }\n\n      exc = this._math_exception(value);\n      if (exc !== false) return exc; // there aren't any operations here. returns number or value of another cell\n\n      if (!value) return value; // process mathematical expression and getting final result\n\n      value = this._compute(value.replace(/\\$r/g, item.id));\n      exc = this._math_exception(value);\n      if (exc !== false) return exc;\n      return value;\n    },\n    _get_operations: function (value) {\n      // gettings operations list (+-*/)\n      var splitter = /(\\+|-|\\*|\\/)/g;\n      var operations = value.replace(/\\[[^)]*?\\]/g, \"\").match(splitter);\n      return operations;\n    },\n\n    /*! gets list of referencies in formula\n     **/\n    _get_refs: function (value, id) {\n      var reg = /\\[([^\\]]+),([^\\]]+)\\]/g;\n      var cells = value.match(reg);\n      if (cells === null) cells = [];\n\n      for (var i = 0; i < cells.length; i++) {\n        var cell = cells[i];\n        var tmp = cell;\n        cell = cell.substr(1, cell.length - 2);\n        cell = cell.split(\",\");\n        cell[0] = this._trim(cell[0]);\n        cell[1] = this._trim(cell[1]);\n        if (cell[0].substr(0, 1) === \":\") cell[0] = this.getIdByIndex(cell[0].substr(1));\n        if (cell[0] === \"$r\") cell[0] = id;\n        if (cell[1].substr(0, 1) === \":\") cell[1] = this.columnId(cell[1].substr(1));\n        cell[2] = tmp;\n        cells[i] = cell;\n      }\n\n      return cells;\n    },\n    // replace given list of references by their values\n    _replace_refs: function (value, cells, clean) {\n      var dell = \"(\",\n          delr = \")\";\n      if (clean) dell = delr = \"\";\n\n      for (var i = 0; i < cells.length; i++) {\n        var cell = cells[i];\n\n        var cell_value = this._get_calc_value(cell[0], cell[1]);\n\n        if (isNaN(cell_value)) cell_value = \"\\\"\" + cell_value + \"\\\"\";\n        value = value.replace(cell[2], dell + cell_value + delr);\n      }\n\n      return value;\n    },\n    _parse_args: function (value, operations) {\n      var args = [];\n\n      for (var i = 0; i < operations.length; i++) {\n        var op = operations[i];\n\n        var temp = this._split_by(value, op);\n\n        args.push(temp[0]);\n        value = temp[1];\n      }\n\n      args.push(value); //var reg = /^(-?\\d|\\.|\\(|\\))+$/;\n\n      for (var _i2 = 0; _i2 < args.length; _i2++) {\n        var arg = this._trim(args[_i2]); //\tif (reg.test(arg) === false)\n        //\t\treturn ''; //error\n\n\n        args[_i2] = arg;\n      }\n\n      var expr = \"\";\n\n      for (var _i3 = 0; _i3 < args.length - 1; _i3++) {\n        expr += args[_i3] + operations[_i3];\n      }\n\n      expr += args[args.length - 1];\n      return expr;\n    },\n    _compute: function (expr) {\n      var result;\n\n      try {\n        result = exec(expr);\n      } catch (ex) {\n        assert(false, \"Math error in datatable<br>\" + expr);\n        result = \"\";\n      }\n\n      return result.toString();\n    },\n    _split_by: function (value, splitter) {\n      var pos = value.indexOf(splitter);\n      var before = value.substr(0, pos);\n      var after = value.substr(pos + 1);\n      return [before, after];\n    },\n    _trim: function (value) {\n      value = value.replace(/^ */g, \"\");\n      value = value.replace(/ *$/g, \"\");\n      return value;\n    },\n    _start_math_trace: function () {\n      this._math_trace = [];\n    },\n    _to_math_trace: function (row, col) {\n      this._math_trace[row + \"__\" + col] = true;\n    },\n    _from_math_trace: function (row, col) {\n      if (typeof this._math_trace[row + \"__\" + col] !== \"undefined\") delete this._math_trace[row + \"__\" + col];\n    },\n    _in_math_trace: function (row, col) {\n      if (typeof this._math_trace[row + \"__\" + col] !== \"undefined\") return true;else return false;\n    },\n    _add_trigger: function (depends, from) {\n      var item = this.getItem(from[0]);\n      if (typeof item.depends === \"undefined\") item.depends = {};\n      if (typeof item.depends[from[1]] === \"undefined\") item.depends[from[1]] = {};\n      item.depends[from[1]][depends[0] + \"__\" + depends[1]] = depends;\n      item = this.getItem(depends[0]);\n      if (typeof item.triggers === \"undefined\") item.triggers = {};\n      if (typeof item.triggers[depends[1]] === \"undefined\") item.triggers[depends[1]] = {};\n      item.triggers[depends[1]][from[0] + \"__\" + from[1]] = from;\n    },\n    _remove_old_triggers: function (item, col) {\n      if (!item) return;\n      if (typeof item.triggers === \"undefined\") return;\n\n      for (var i in item.triggers[col]) {\n        var depend = item.triggers[col][i];\n        var row = this.getItem(depend[0]);\n        if (row) delete row.depends[depend[1]][item.id + \"__\" + col];\n      }\n    },\n    // check if exception syntax exists and returns exception text or false\n    _math_exception: function (value) {\n      var reg = /#\\w+/;\n      var match = value.match(reg);\n      if (match !== null && match.length > 0) return match[0];\n      return false;\n    }\n  };\n\n  var temp$4 = {};\n\n  // #include core/edit.js\n  // #include ui/inputs.js\n\n  var Mixin$7 = {\n    /////////////////////////\n    //    edit start       //\n    /////////////////////////\n    _get_editor_type: function (id) {\n      return this.getColumnConfig(id.column).editor;\n    },\n    getEditor: function (row, column) {\n      if (!row) return this._last_editor;\n\n      if (arguments.length == 1) {\n        column = row.column;\n        row = row.row;\n      }\n\n      return (this._editors[row] || {})[column];\n    },\n    _for_each_editor: function (handler) {\n      for (var row in this._editors) {\n        var row_editors = this._editors[row];\n\n        for (var column in row_editors) {\n          if (column != \"$count\") handler.call(this, row_editors[column]);\n        }\n      }\n    },\n    _init_editor: function (id, type, show) {\n      var row = id.row;\n      var column = id.column;\n      var col_settings = type.config = this.getColumnConfig(column); //show it over cell\n\n      if (show !== false) this.showCell(row, column);\n      var node = type.render();\n      if (type.$inline) node = this._locateInput(id);\n      type.node = node;\n      var item = this.getItem(row);\n      var format = col_settings.editFormat;\n      var value;\n      if (this._settings.editMath) value = item[\"$\" + column];\n      value = value || item[column];\n      if (isUndefined(value)) value = \"\";\n      type.setValue(format ? format(value) : value, item);\n      type.value = item[column];\n\n      this._addEditor(id, type);\n\n      if (!type.$inline) type._editor_pos = this._sizeToCell(id, node, true);\n      if (type.afterRender) type.afterRender();\n\n      if (this._settings.liveValidation) {\n        _event(type.node, \"keyup\", this._bind_live_validation(id, this));\n\n        this.validateEditor(id);\n      }\n\n      return node;\n    },\n    _bind_live_validation: function (id, that) {\n      return function () {\n        that.validateEditor(id);\n      };\n    },\n    _get_new_value: function (editor) {\n      var parser = this.getColumnConfig(editor.column).editParse;\n      var new_value = editor.getValue();\n      return parser ? parser(new_value) : new_value;\n    },\n    _set_new_value: function (editor, new_value, copy$$1) {\n      var item = copy$$1 ? {} : this.getItem(editor.row);\n      item[editor.column] = new_value;\n      if (this._settings.editMath) item[\"$\" + editor.column] = null;\n      return item;\n    },\n    //register editor in collection\n    _addEditor: function (id, type) {\n      var row_editors = this._editors[id.row] = this._editors[id.row] || {};\n      row_editors.$count = (row_editors.$count || 0) + 1;\n      type.row = id.row;\n      type.column = id.column;\n      this._last_editor = row_editors[id.column] = type;\n      this._in_edit_mode++;\n      this._last_editor_scroll = this.getScrollState();\n    },\n    _removeEditor: function (editor) {\n      if (this._last_editor == editor) this._last_editor = 0;\n      if (editor.destroy) editor.destroy();\n      var row = this._editors[editor.row];\n      delete row[editor.column];\n      row.$count--;\n      if (!row.$count) delete this._editors[editor.row];\n      this._in_edit_mode--;\n    },\n    _changeEditorId: function (oldid, newid) {\n      var editor = this._editors[oldid];\n\n      if (editor) {\n        this._editors[newid] = editor;\n        delete this._editors[oldid];\n\n        for (var key in editor) {\n          if (key != \"$count\") editor[key].row = newid;\n        }\n      }\n    },\n    //get html cell by combined id\n    _locate_cell: function (id) {\n      var area,\n          i,\n          index,\n          j,\n          node,\n          span,\n          config = this.getColumnConfig(id.column),\n          cell = 0;\n\n      if (config && config.node && config.attached) {\n        index = this.getIndexById(id.row);\n\n        if (this._spans_pull) {\n          span = this.getSpan(id.row, id.column);\n\n          if (span) {\n            for (i = 0; i < 3; i++) {\n              area = this._spans_areas[i];\n\n              for (j = 0; !cell && j < area.childNodes.length; j++) {\n                node = area.childNodes[j];\n                if (node.getAttribute(\n                /*@attr*/\n                \"row\") == index && node.getAttribute(\n                /*@attr*/\n                \"column\") == this.getColumnIndex(id.column)) cell = node;\n              }\n            }\n          }\n        }\n\n        if (!cell && index >= config._yr0 - this._settings.topSplit && index < config._yr1) cell = config.node.childNodes[index - config._yr0 + this._settings.topSplit];\n      }\n\n      return cell;\n    },\n    /////////////////////////\n    //    public methods   //\n    /////////////////////////\n    editCell: function (row, column, preserve, show) {\n      column = column || this._settings.columns[0].id;\n      return EditAbility.edit.call(this, {\n        row: row,\n        column: column\n      }, preserve, show);\n    },\n    editRow: function (id) {\n      if (id && id.row) id = id.row;\n      var next = false;\n      this.eachColumn(function (column) {\n        this.edit({\n          row: id,\n          column: column\n        }, next, !next);\n        next = true;\n      });\n    },\n    editColumn: function (id) {\n      if (id && id.column) id = id.column;\n      var next = false;\n      this.eachRow(function (row) {\n        this.edit({\n          row: row,\n          column: id\n        }, next, !next);\n        next = true;\n      });\n    },\n    eachRow: function (handler, all) {\n      var order = this.data.order;\n      if (all) order = this.data._filter_order || order;\n\n      for (var i = 0; i < order.length; i++) {\n        handler.call(this, order[i]);\n      }\n    },\n    eachColumn: function (handler, all) {\n      var hidden = this._hidden_column_order;\n\n      if (all && hidden.length) {\n        for (var i = 0; i < hidden.length; i++) {\n          var column = this.getColumnConfig(hidden[i]);\n          handler.call(this, column.id, column);\n        }\n      } else {\n        var columns = [].concat(this._columns);\n\n        for (var _i = 0; _i < columns.length; _i++) {\n          var _column = columns[_i];\n          handler.call(this, _column.id, _column);\n        }\n      }\n    },\n    ////////////////////\n    //    edit next   //\n    ////////////////////\n    _after_edit_next: function (editor_next) {\n      if (this.getSelectedId) {\n        //select related cell when possible\n        var sel = this.getSelectedId(true);\n\n        if (sel.length == 1) {\n          this._select(editor_next);\n\n          return false;\n        }\n      }\n    },\n    _custom_tab_handler: function (tab, e) {\n      if (this._settings.editable && !this._in_edit_mode) {\n        //if we have focus in some custom input inside of datatable\n        if (e.target && e.target.tagName == \"INPUT\") return true; //init editor related to a single selected row/column/cell\n\n        var selection = this.getSelectedId(true);\n\n        if (selection.length == 1) {\n          var sel = selection[0];\n          if (this._settings.select == \"row\") sel.column = this._settings.columns[e.shiftKey ? 0 : this._settings.columns.length - 1].id;\n          this.editNext(tab, sel);\n          return false;\n        }\n      }\n\n      return true;\n    },\n    _find_cell_next: function (start, check, direction) {\n      var row = this.getIndexById(start.row);\n      var column = this.getColumnIndex(start.column);\n      var order = this.data.order;\n      var cols = this._columns;\n\n      if (direction) {\n        for (var i = row; i < order.length; i++) {\n          for (var j = column + 1; j < cols.length; j++) {\n            var id = {\n              row: order[i],\n              column: cols[j].id\n            };\n\n            if (check.call(this, id) && (!this._checkCellMerge || !this._checkCellMerge(start, id))) {\n              id.toString = this._id_to_string;\n              return id;\n            }\n          }\n\n          column = -1;\n        }\n      } else {\n        for (var _i2 = row; _i2 >= 0; _i2--) {\n          for (var _j = column - 1; _j >= 0; _j--) {\n            var _id = {\n              row: order[_i2],\n              column: cols[_j].id\n            };\n\n            if (check.call(this, _id)) {\n              _id.toString = this._id_to_string;\n              return _id;\n            }\n          }\n\n          column = cols.length;\n        }\n      }\n\n      return null;\n    },\n    /////////////////////////////\n    //    scroll correction    //\n    /////////////////////////////\n    _correct_after_focus_y: function () {\n      if (this._in_edit_mode) {\n        var scrollTop = this._body.childNodes[1].firstChild.scrollTop;\n\n        if (scrollTop) {\n          this._y_scroll.scrollTo(this.getScrollState().y + scrollTop);\n\n          this._body.childNodes[1].firstChild.scrollTop = 0;\n        }\n      }\n    },\n    _correct_after_focus: function () {\n      if (this._in_edit_mode) {\n        var _this$_body$childNode = this._body.childNodes[1],\n            scrollTop = _this$_body$childNode.scrollTop,\n            scrollLeft = _this$_body$childNode.scrollLeft;\n        if (this._ignore_after_focus_scroll) return this._ignore_after_focus_scroll = false;\n        if (this._settings.prerender) this._y_scroll.scrollTo(scrollTop);\n\n        this._x_scroll.scrollTo(scrollLeft);\n\n        if (this._touch_scroll) {\n          if (scrollTop) this._body.childNodes[1].scrollTop = 0;\n          if (scrollLeft) this._body.childNodes[1].scrollLeft = 0;\n          this._ignore_after_focus_scroll = scrollTop || scrollLeft;\n        }\n      }\n    },\n    _component_specific_edit_init: function () {\n      var _this = this;\n\n      this.attachEvent(\"onScrollY\", this._update_editor_y_pos);\n      this.attachEvent(\"onScrollX\", this._update_editor_y_pos);\n      this.attachEvent(\"onScrollY\", this._refocus_inline_editor);\n      this.attachEvent(\"onColumnResize\", function () {\n        this.editStop();\n      });\n      this.attachEvent(\"onAfterFilter\", function () {\n        this.editStop();\n      });\n      this.attachEvent(\"onRowResize\", function () {\n        this.editStop();\n      });\n      this.attachEvent(\"onAfterScroll\", function () {\n        if (this._settings.topSplit) this.editStop();\n      });\n\n      this._body.childNodes[1].onscroll = function () {\n        return _this._correct_after_focus();\n      };\n\n      if (!this._settings.prerender) this._body.childNodes[1].firstChild.onscroll = function () {\n        return _this._correct_after_focus_y();\n      };\n    },\n    _update_editor_y_pos: function () {\n      if (this._in_edit_mode) {\n        var old = this._last_editor_scroll;\n        this._last_editor_scroll = this.getScrollState();\n        var diff = this._last_editor_scroll.y - old.y;\n\n        this._for_each_editor(function (editor) {\n          if (editor.getPopup) {\n            var node = this.getItemNode(editor);\n            var isHidden = false;\n\n            if (this._settings.prerender) {\n              var pos = editor._editor_pos;\n              var ydiff = pos.top - this._scrollTop;\n              var xdiff = pos.left - this._scrollLeft;\n              isHidden = ydiff < 0 || ydiff + pos.height > this._dtable_offset_height || xdiff < 0 || xdiff + pos.width > this.$width - this._scrollSizeX;\n            }\n\n            if (!node || isHidden) editor.getPopup().show({\n              x: -10000,\n              y: -10000\n            });else editor.getPopup().show(node);\n          }\n\n          if (!this._settings.prerender && !editor.linkInput && !editor.$inline) {\n            editor.node.top -= diff;\n            editor.node.style.top = editor.node.top + \"px\";\n          }\n        });\n      }\n    }\n  };\n\n  var Mixin$8 = {\n    $init: function () {\n      this._clear_hidden_state();\n\n      this.attachEvent(\"onStructureLoad\", this._hideInitialColumns);\n    },\n    _clear_hidden_state: function () {\n      this._hidden_column_hash = {};\n      this._hidden_column_order = _to_array();\n      this._hidden_split = [0, 0, 0];\n    },\n    _hideInitialColumns: function () {\n      var cols = this._columns;\n\n      for (var i = 0; i < cols.length; i++) {\n        if (cols[i].header) this._getInitialSpans(cols, cols[i].header);\n        if (cols[i].footer) this._getInitialSpans(cols, cols[i].footer);\n      }\n\n      for (var _i = cols.length - 1; _i >= 0; _i--) {\n        if (cols[_i].hidden) this.hideColumn(cols[_i].id, {}, true, true);else if (cols[_i].batch && this.config.visibleBatch && cols[_i].batch != this.config.visibleBatch) {\n          this.hideColumn(cols[_i].id, {}, true, true);\n        }\n      }\n    },\n    _getInitialSpans: function (cols, elements) {\n      for (var i = 0; i < elements.length; i++) {\n        var line = elements[i];\n        if (line && line.colspan && !line.$colspan) line.$colspan = line.colspan;\n      }\n    },\n    moveColumn: function (id, index) {\n      var cindex = this.getColumnIndex(id);\n      if (cindex == index || cindex == -1) return false; //already in place\n\n      var horder = this._hidden_column_order;\n      var columns = this._settings.columns; // remove from the previous place\n\n      var hindex;\n      var col = columns.splice(cindex, 1)[0];\n\n      if (horder.length) {\n        hindex = horder.find(id);\n        horder.removeAt(hindex);\n      }\n\n      this._updateSplit(cindex, hindex, -1); // paste into new\n\n\n      var nindex = index - (index > cindex ? 1 : 0);\n\n      _power_array.insertAt.call(columns, col, nindex);\n\n      var pos;\n\n      if (horder.length) {\n        var prev = columns[nindex - 1];\n        pos = prev && prev.id ? horder.find(prev.id) + 1 : 0;\n        horder.insertAt(col.id, pos);\n      }\n\n      this._updateSplit(nindex, pos, 1);\n\n      this._refresh_columns();\n    },\n    _init_horder: function (horder, cols) {\n      if (!horder.length) {\n        for (var i = 0; i < cols.length; i++) {\n          horder[i] = cols[i].id;\n        }\n\n        this._hidden_split = [this._settings.leftSplit, this._rightSplit, this._settings.rightSplit];\n      }\n    },\n    isColumnVisible: function (id) {\n      return !this._hidden_column_hash[id];\n    },\n    hideColumn: function (id, opts, silent, mode) {\n      var cols = this._settings.columns;\n      var horder = this._hidden_column_order;\n      var hhash = this._hidden_column_hash;\n      var column,\n          span = 1;\n      opts = opts || {};\n\n      if (mode !== false) {\n        var index = this.getColumnIndex(id);\n        assert(index != -1, \"hideColumn: invalid ID or already hidden\"); //in case of second call to hide the same column, command will be ignored\n\n        if (index == -1 || !this.callEvent(\"onBeforeColumnHide\", [id])) return;\n\n        this._init_horder(horder, cols);\n\n        if (opts.spans) {\n          var header = cols[index].header;\n\n          for (var i = 0; i < header.length; i++) {\n            if (header[i]) span = Math.max(span, header[i].colspan || 1);\n          }\n        }\n\n        this._fixSplit(index, span, -1);\n\n        for (var _i2 = index + span - 1; _i2 >= index; _i2--) {\n          this._hideColumn(index);\n\n          column = cols.splice(index, 1)[0];\n          hhash[column.id] = column;\n          column._yr0 = -1;\n          column.hidden = true;\n          delete this._columns_pull[column.id];\n        }\n\n        this.callEvent(\"onAfterColumnHide\", [id]);\n      } else {\n        column = hhash[id];\n        assert(column, \"showColumn: invalid ID or already visible\"); //in case of second show command for already visible column - ignoring\n\n        if (!column || !this.callEvent(\"onBeforeColumnShow\", [id])) return;\n        var prev = null;\n        var hindex = 0;\n\n        for (var _i3 = 0; _i3 < horder.length; _i3++) {\n          if (horder[_i3] == id) {\n            hindex = _i3;\n            break;\n          }\n\n          if (!hhash[horder[_i3]]) prev = horder[_i3];\n        }\n\n        if (opts.spans) {\n          var _header = column.header;\n\n          for (var _i4 = 0; _i4 < _header.length; _i4++) {\n            if (_header[_i4]) {\n              _header[_i4].colspan = _header[_i4].$colspan || _header[_i4].colspan;\n              span = Math.max(span, _header[_i4].colspan || 1);\n            }\n          }\n        }\n\n        var _index = prev ? this.getColumnIndex(prev) + 1 : 0;\n\n        for (var _i5 = hindex + span - 1; _i5 >= hindex; _i5--) {\n          var col = hhash[horder[_i5]];\n\n          if (col) {\n            //can be already shown by another action\n            _power_array.insertAt.call(cols, col, _index);\n\n            delete col.hidden;\n            delete hhash[col.id];\n            this._columns_pull[col.id] = col;\n          } else span--;\n        }\n\n        this._fixSplit(hindex, span, 1, true);\n\n        this.callEvent(\"onAfterColumnShow\", [id]);\n      }\n\n      if (column.header) this._fixColspansHidden(column, mode !== false ? 0 : 1, \"header\");\n      if (column.footer) this._fixColspansHidden(column, mode !== false ? 0 : 1, \"footer\");\n      if (horder.length === cols.length) this._clear_hidden_state();\n      if (!silent) this._refresh_columns();\n    },\n    showColumn: function (id, opts, silent) {\n      return this.hideColumn(id, opts, silent, false);\n    },\n    _fixSplit: function (index, span, op, hidden) {\n      var _ref = hidden ? this._hidden_split : [this._settings.leftSplit, this._rightSplit],\n          _ref2 = _slicedToArray(_ref, 2),\n          lSplit = _ref2[0],\n          rSplit = _ref2[1];\n\n      if (index < lSplit) this._settings.leftSplit += op * span;\n      if (index >= rSplit) this._settings.rightSplit += op * span;else this._rightSplit += op * span;\n    },\n    _updateSplit: function (index, hindex, op) {\n      if (index >= 0) {\n        if (index < this._settings.leftSplit) this._settings.leftSplit += op;\n        if (this._settings.rightSplit && index >= this._rightSplit) this._settings.rightSplit += op;else this._rightSplit += op;\n      }\n\n      var horder = this._hidden_column_order;\n\n      if (horder.length && hindex >= 0) {\n        if (hindex < this._hidden_split[0]) this._hidden_split[0] += op;\n        if (this._hidden_split[2] && hindex >= this._hidden_split[1]) this._hidden_split[2] += op;else this._hidden_split[1] += op;\n      }\n    },\n    _fixColspansHidden: function (config, mod, elName) {\n      for (var i = config[elName].length - 1; i >= 0; i--) {\n        var ind = this._hidden_column_order;\n        var spanSource,\n            isHidden = false,\n            spanSize = 0;\n\n        for (var j = 0; j < ind.length; j++) {\n          var colConfig = this.getColumnConfig(ind[j]);\n          var el = colConfig[elName][i];\n\n          if (!this.isColumnVisible(ind[j])) {\n            //hidden column\n            if (el && el.$colspan && spanSize <= 0) {\n              //start of colspan in hidden\n              spanSize = el.colspan = el.$colspan;\n              isHidden = spanSource = el;\n            }\n\n            if (spanSource && spanSize > 0) {\n              //hidden column in colspan, decrease colspan size\n              spanSource.colspan--;\n            }\n          } else {\n            //visible column\n            if (isHidden && spanSize > 0 && spanSource && spanSource.colspan > 0) {\n              //bit start of colspan is hidden\n              el = colConfig[elName][i] = spanSource;\n              spanSource = el;\n            } else if (el && el.$colspan && spanSize <= 0) {\n              //visible start of colspan\n              spanSize = el.colspan = el.$colspan;\n              spanSource = el;\n            }\n\n            isHidden = null;\n          }\n\n          spanSize--;\n        }\n      }\n    },\n    refreshColumns: function (columns) {\n      this._dtable_column_refresh = true;\n\n      if (columns) {\n        this._clear_hidden_state();\n\n        this._filter_elements = {};\n      }\n\n      this._columns_pull = {}; //clear rendered data\n\n      for (var i = 0; i < this._columns.length; i++) {\n        var col = this._columns[i];\n        this._columns_pull[col.id] = col;\n        col.attached = col.node = null;\n      }\n\n      for (var _i6 = 0; _i6 < 3; _i6++) {\n        this._header.childNodes[_i6].innerHTML = \"\";\n        this._body.childNodes[_i6].firstChild.innerHTML = \"\";\n      } //render new structure\n\n\n      this._columns = this.config.columns = columns || this.config.columns;\n      this._rightSplit = this._columns.length - (this.config.rightSplit || 0);\n      this._dtable_fully_ready = 0;\n\n      this._define_structure();\n\n      this._update_scroll();\n\n      this.callEvent(\"onStructureUpdate\");\n      this.render();\n      this._dtable_column_refresh = false;\n    },\n    _refresh_columns: function () {\n      this._dtable_fully_ready = 0;\n      this.callEvent(\"onStructureUpdate\");\n\n      this._apply_headers();\n\n      this.render();\n    },\n    showColumnBatch: function (batch, mode, silent) {\n      var preserve = typeof mode != \"undefined\";\n      mode = mode !== false;\n      var sub = [];\n      this.eachColumn(function (id, col) {\n        if (col.batch) {\n          var hidden = this._hidden_column_hash[col.id];\n          if (!mode) hidden = !hidden;\n          if (col.batch == batch && hidden) this.hideColumn(col.id, {\n            spans: true\n          }, true, !mode);else if (!preserve && col.batch != batch && !hidden) this.hideColumn(col.id, {\n            spans: true\n          }, true, mode);\n        }\n\n        if (preserve && mode) {\n          var header = col.header;\n\n          for (var i = 0; i < header.length; i++) {\n            if (header[i] && header[i].batch && header[i].closed) sub.push(header[i].batch);\n          }\n        }\n      }, true); // hide closed batches\n\n      for (var i = 0; i < sub.length; i++) {\n        if (sub[i] != batch) this.showColumnBatch(sub[i], false, true);\n      }\n\n      if (!silent) this._refresh_columns();\n    },\n    _getHiddenColumnIndex: function (id) {\n      if (this._hidden_column_order.length) {\n        for (var i = 0; i < this._hidden_column_order.length; i++) {\n          if (this._hidden_column_order[i] == id) return i;\n        }\n\n        return -1;\n      }\n\n      return this.getColumnIndex(id);\n    },\n    _getHiddenColumnId: function (index) {\n      return this._hidden_column_order.length ? this._hidden_column_order[index] : this.columnId(index);\n    }\n  };\n\n  var Mixin$9 = {\n    $init: function (config) {\n      this.attachEvent(\"onAfterScroll\", this._set_focusable_item);\n      this.attachEvent(\"onFocus\", function () {\n        addCss(this.$view, \"webix_dtable_focused\");\n      });\n      this.attachEvent(\"onBlur\", function () {\n        removeCss(this.$view, \"webix_dtable_focused\");\n      }); //open selected node in tree-like tables\n\n      if (config.select != \"column\" && (this.open || this._subViewStorage)) this.attachEvent(\"onEnter\", function () {\n        var sel = this.getSelectedId(true);\n\n        if (sel.length == 1 && !(this.getEditor && this.getEditor())) {\n          var node = this.getItemNode(sel[0]);\n          sel = sel[0].row;\n\n          if (this.config.select == \"row\" || node.querySelector(\".webix_tree_open\") || node.querySelector(\".webix_tree_close\")) {\n            if (this.isBranchOpen(sel)) this.close(sel);else this.open(sel);\n          }\n        }\n      });\n    },\n    _set_focusable_item: function () {\n      var sel = this._getVisibleSelection();\n\n      if (!sel) {\n        var node = this._dataobj.querySelector(\".webix_cell\");\n\n        if (node) node.setAttribute(\"tabindex\", \"0\");\n      }\n    },\n    _getVisibleSelection: function () {\n      var sel = this.getSelectedId(true);\n\n      for (var i = 0; i < sel.length; i++) {\n        if (sel[i].column && this.isColumnVisible(sel[i].column)) return this.getItemNode(sel[i]);\n      }\n\n      return null;\n    },\n    moveSelection: function (mode, details, focus) {\n      this._delayRender();\n\n      if (this._settings.disabled) return;\n      details = details || {}; //get existing selection as array\n\n      var t = this.getSelectedId(true);\n      var index$$1 = t.length - 1;\n      var preserve = this._settings.multiselect || this._settings.areaselect ? details.shift : false; //change defaults in case of multiselection\n\n      if (t.length > 1 && this._settings.select !== \"cell\") {\n        t = t.sort(bind(function (a, b) {\n          if (this.getIndexById(a.row) > this.getIndexById(b.row) || this.getColumnIndex(a.column) > this.getColumnIndex(b.column)) return 1;else return -1;\n        }, this));\n        if (mode == \"up\" || mode == \"left\" || mode == \"top\" || mode == \"pgup\") index$$1 = 0;\n      }\n\n      if (index$$1 < 0 && this.count()) {\n        //no selection\n        if (mode == \"down\" || mode == \"right\") mode = \"top\";else if (mode == \"up\" || mode == \"left\") mode = \"bottom\";else return;\n        index$$1 = 0;\n        t = [{\n          row: 1,\n          column: 1\n        }];\n      }\n\n      if (index$$1 >= 0) {\n        var row = t[index$$1].row;\n        var column = t[index$$1].column;\n\n        if (mode == \"top\" || mode == \"bottom\") {\n          if (row) {\n            // first/last row setting\n            if (mode == \"top\") row = this.data.getFirstId();else if (mode == \"bottom\") row = this.data.getLastId();\n          }\n\n          if (column) {\n            // first/last column setting\n            index$$1 = 0;\n            if (mode == \"bottom\") index$$1 = this.config.columns.length - 1;\n            column = this.columnId(index$$1);\n          }\n        } else if (mode == \"up\" || mode == \"down\" || mode == \"pgup\" || mode == \"pgdown\") {\n          if (row) {\n            //it seems row's can be seleted\n            var _index = this.getIndexById(row);\n\n            var step = 1;\n            if (mode == \"pgup\" || mode == \"pgdown\") step = this._pager ? this._pager.config.size : Math.round(this._dtable_offset_height / this._settings.rowHeight); //get new selection row\n\n            if (mode == \"up\" || mode == \"pgup\") _index -= step;else if (mode == \"down\" || mode == \"pgdown\") _index += step; //check that we in valid row range\n\n            if (_index < 0) _index = 0;\n            if (_index >= this.data.order.length) _index = this.data.order.length - 1;\n            row = this.getIdByIndex(_index);\n            if (!row && this._settings.pager) this.showItemByIndex(_index);\n          }\n        } else if (mode == \"right\" || mode == \"left\") {\n          if (column && this.config.select != \"row\") {\n            //it seems column's can be selected\n            var _index2 = this.getColumnIndex(column); //get new selected column\n\n\n            if (mode == \"right\") _index2++;else if (mode == \"left\") _index2--; //check that result column index is in valid range\n\n            if (_index2 < 0) _index2 = 0;\n            if (_index2 >= this.config.columns.length) _index2 = this.config.columns.length - 1;\n            column = this.columnId(_index2);\n          } else if ((this.open || this._subViewStorage) && mode == \"right\") {\n            return this.open ? this.open(row) : this.openSub(row);\n          } else if ((this.close || this._subViewStorage) && mode == \"left\") {\n            return this.close ? this.close(row) : this.closeSub(row);\n          }\n        } else {\n          assert(false, \"Not supported selection moving mode\");\n          return;\n        }\n\n        if (row) {\n          this.showCell(row, column);\n\n          if (!this.select) {\n            //switch on cell or row selection by default\n            exports.extend(this, this._selections._commonselect, true);\n            this._settings.select = this.open || this._subViewStorage ? \"row\" : \"cell\";\n            exports.extend(this, this._selections[this._settings.select], true);\n          }\n\n          var cell = {\n            row: row,\n            column: column\n          };\n\n          if (preserve && this._settings.select == \"area\") {\n            var last = this._selected_areas[this._selected_areas.length - 1];\n\n            this._extendAreaRange(cell, last, mode, details);\n          } else this._select(cell, preserve);\n\n          if (!this._settings.clipboard && focus !== false) {\n            var node = this.getItemNode(cell);\n            if (node) node.focus();\n          }\n        }\n      }\n\n      return false;\n    }\n  };\n\n  var DragOrder$1 = {\n    _set_drop_area: function (target) {\n      for (var i = 0; i < this._columns.length; i++) {\n        var column = this._columns[i];\n        var node = this.getItemNode({\n          row: target,\n          cind: i\n        });\n\n        if (node) {\n          node.parentNode.insertBefore(DragControl._dropHTML[i], node);\n        } else column.node.appendChild(DragControl._dropHTML[i]);\n      }\n    },\n    _init_drop_area: function () {\n      var dropArea = [];\n      var count = this._columns.length;\n      var node = document.createElement(\"div\");\n      node.className = \"webix_drop_area\";\n      node.style.height = this._settings.rowHeight + \"px\";\n      node.innerHTML = this.$dropHTML();\n\n      for (var i = 0; i < count; i++) {\n        dropArea.push(node.cloneNode(true));\n      }\n\n      return dropArea;\n    }\n  };\n  var Mixin$a = {\n    drag_setter: function (value) {\n      // disable drag-n-drop for frozen rows\n      this.attachEvent(\"onBeforeDrag\", function (context) {\n        return this._checkDragTopSplit(context.source);\n      });\n      this.attachEvent(\"onBeforeDragIn\", function (context) {\n        var result = this._checkDragTopSplit(context.target);\n\n        if (!result && DragControl._dropHTML) {\n          remove(DragControl._dropHTML);\n          this._marked_item_id = DragControl._dropHTML = null;\n        }\n\n        return result;\n      });\n      DragItem.drag_setter.call(this, value);\n      if (value == \"order\" || value == \"move\") exports.extend(this, DragOrder$1, true);\n      return value;\n    },\n    _add_css: function (source, css, mark) {\n      var context = DragControl._drag_context;\n      if (!this._settings.prerender && !mark) source = [context.start];\n\n      for (var i = 0; i < source.length; i++) {\n        for (var j = 0; j < this._columns.length; j++) {\n          var node = this.getItemNode({\n            row: source[i],\n            cind: j\n          });\n          if (node) addCss(node, css);\n        }\n\n        this.data.addMark(source[i], css, 1, 1, true);\n      }\n    },\n    _remove_css: function (source, css, mark) {\n      var context = DragControl._drag_context;\n      if (!this._settings.prerender && !mark) source = [context.start];\n\n      for (var i = 0; i < source.length; i++) {\n        for (var j = 0; j < this._columns.length; j++) {\n          var node = this.getItemNode({\n            row: source[i],\n            cind: j\n          });\n          if (node) removeCss(node, css);\n        }\n\n        this.data.removeMark(source[i], css, 1, true);\n      }\n    },\n    _checkDragTopSplit: function (ids) {\n      var i,\n          index$$1,\n          frozen = false;\n\n      if (this._settings.topSplit && ids) {\n        if (!isArray(ids)) ids = [ids];\n\n        for (i = 0; !frozen && i < ids.length; i++) {\n          index$$1 = this.getIndexById(ids[i]);\n          frozen = index$$1 >= 0 && index$$1 < this._settings.topSplit;\n        }\n      }\n\n      return !frozen;\n    },\n    _toHTML: function (obj) {\n      var width = this._content_width - this._scrollSizeY;\n      var html = \"<div class='webix_dd_drag' style='width:\" + width + \"px;'>\";\n      var cols = this._settings.columns;\n\n      for (var i = 0; i < cols.length; i++) {\n        var value = this._getValue(obj, cols[i]);\n\n        html += \"<div style='width:\" + cols[i].width + \"px;'>\" + value + \"</div>\";\n      }\n\n      return html + \"</div>\";\n    },\n    getHeaderNode: function (column_id, row_index) {\n      return this._getHeaderNode(column_id, row_index, this._header);\n    },\n    getFooterNode: function (column_id, row_index) {\n      return this._getHeaderNode(column_id, row_index, this._footer);\n    },\n    _getHeaderNode: function (column_id, row_index, group) {\n      if (this.isColumnVisible(column_id)) {\n        var ind = this.getColumnIndex(column_id);\n        var hind = this._settings.leftSplit > ind ? 0 : this._rightSplit <= ind ? 2 : 1;\n        row_index = row_index || 0;\n        var groupNode = group.childNodes[hind];\n        var row =\n        /*@attr*/\n        \"column\";\n        var column =\n        /*@attr*/\n        \"row\";\n        return groupNode.querySelector(\"div[\".concat(row, \"=\\\"\").concat(ind, \"\\\"][\").concat(column, \"=\\\"\").concat(row_index, \"\\\"]\"));\n      }\n\n      return null;\n    },\n    getItemNode: function (id) {\n      if (id && !id.header) {\n        var row = id.row || id;\n        var rowindex = typeof id.rind === \"number\" ? id.rind : this.getIndexById(row);\n\n        var state = this._get_y_range();\n\n        var minRow = state[0] - this._settings.topSplit; //row not visible\n\n        if (rowindex < minRow && rowindex > state[1]) return; //get visible column\n\n        var x_range = this._get_x_range();\n\n        var colindex = this._settings.leftSplit ? 0 : x_range[0];\n        var specific = typeof id.cind === \"number\";\n\n        if (id.column || specific) {\n          colindex = specific ? id.cind : this.getColumnIndex(id.column); //column not visible\n\n          if (colindex < this._rightSplit && colindex >= this._settings.leftSplit && (colindex < x_range[0] || colindex > x_range[1])) return;\n        }\n\n        var column = this._settings.columns[colindex];\n\n        if (column && column.attached && column.node) {\n          if (row === \"$webix-drop\") return DragControl._dropHTML[colindex];\n          var nodeIndex = rowindex < this._settings.topSplit || this._settings.prerender ? rowindex : rowindex - minRow;\n          var nodes = column.node.childNodes;\n          var length = Math.min(nodes.length, nodeIndex + 1);\n\n          for (var i = 0; i < length; i++) {\n            if (nodes[i].className === \"webix_drop_area\") nodeIndex++;\n          }\n\n          return nodes[nodeIndex];\n        }\n      }\n    },\n    _isDraggable: function (e) {\n      var nodeName = e.target.nodeName;\n      return nodeName != \"INPUT\" && nodeName != \"TEXTAREA\";\n    },\n    dragColumn_setter: function (value) {\n      var control; //will be defined below\n\n      if (value == \"order\") {\n        control = {\n          $drag: bind(function (s, e, pointer) {\n            if (!this._isDraggable(e) || this._rs_process) return false;\n            var id = this.locate(e);\n            if (!id || !this.callEvent(\"onBeforeColumnDrag\", [id.column, e])) return false;\n            DragControl._drag_context = {\n              from: control,\n              start: id,\n              custom: \"column_dnd\"\n            };\n            var column = this.getColumnConfig(id.column);\n\n            if (pointer === \"touch\") {\n              var hnode = this.getHeaderNode(id.column, id.rind);\n              this._relative_column_drag = {\n                x: pos(e).x - offset(hnode).x\n              };\n            } else this._relative_column_drag = posRelative(e);\n\n            this._limit_column_drag = column.width;\n            this._auto_scroll_force = true;\n            return \"<div class='webix_dd_drag_column' style='width:\" + column.width + \"px'>\" + (column.header[0].text || \"&nbsp;\") + \"</div>\";\n          }, this),\n          $dragPos: bind(function (pos$$1, e, node) {\n            var _this = this;\n\n            var context = DragControl.getContext();\n            var box = offset(this.$view);\n            node.style.display = \"none\";\n            var html = document.elementFromPoint(pos$$1.x, box.y + this._settings.headerRowHeight / 2);\n            var id = html ? this.locate(html) : null;\n            var start = context.start.column;\n\n            if (id && id.column != start && (!this._column_dnd_temp_block || id.column != this._last_sort_dnd_node)) {\n              //ignore normal dnd , and dnd from other components\n              if (context.custom == \"column_dnd\" && $$(html) == this) {\n                if (!this.callEvent(\"onBeforeColumnDropOrder\", [start, id.column, e])) return;\n                var start_index = this.getColumnIndex(start);\n                var end_index = this.getColumnIndex(id.column); //on touch devices we need to preserve drag-start element till the end of dnd\n\n                if (e.touches) {\n                  this._dragTarget = e.target;\n                  this._dragTarget.style.display = \"none\";\n                  this.$view.parentNode.appendChild(this._dragTarget);\n                }\n\n                this.moveColumn(start, end_index + (start_index < end_index ? 1 : 0));\n                this._last_sort_dnd_node = id.column;\n                this._column_dnd_temp_block = true;\n              }\n            }\n\n            if (id && id.column == start) {\n              //flag prevent flickering just after column move\n              this._column_dnd_temp_block = false;\n            }\n\n            node.style.display = \"block\";\n            pos$$1.x = pos$$1.x - this._relative_column_drag.x;\n            pos$$1.y = box.y;\n            if (pos$$1.x < box.x) pos$$1.x = box.x;else {\n              var max = box.x + this.$view.offsetWidth - this._scrollSizeY - this._limit_column_drag;\n              if (pos$$1.x > max) pos$$1.x = max;\n            }\n            DragControl._skip = true;\n            if (this._auto_scroll_delay) this._auto_scroll_delay = window.clearTimeout(this._auto_scroll_delay);\n            if (this._settings.dragscroll !== false) this._auto_scroll_delay = delay(function (pos$$1) {\n              return _this._auto_scroll_column(pos$$1);\n            }, this, [pos(e)], 250);\n          }, this),\n          $dragDestroy: bind(function (a, node) {\n            this._auto_scroll_force = null;\n            if (this._auto_scroll_delay) this._auto_scroll_delay = window.clearTimeout(this._auto_scroll_delay);\n            remove(node); //clean dnd source element\n\n            if (this._dragTarget) remove(this._dragTarget);\n            var id = DragControl.getContext().start;\n            this.callEvent(\"onAfterColumnDropOrder\", [id.column, this._last_sort_dnd_node, a]);\n          }, this),\n          $drop: function () {}\n        };\n      } else if (value) {\n        control = {\n          _inner_drag_only: true,\n          $drag: bind(function (s, e) {\n            if (!this._isDraggable(e) || this._rs_process) return false;\n            var id = this.locate(e);\n            if (!id || !this.callEvent(\"onBeforeColumnDrag\", [id.column, e])) return false;\n            DragControl._drag_context = {\n              from: control,\n              start: id,\n              custom: \"column_dnd\"\n            };\n            var header = this.getColumnConfig(id.column).header;\n            var text = \"&nbsp;\";\n\n            for (var i = 0; i < header.length; i++) {\n              if (header[i]) {\n                text = header[i].text;\n                break;\n              }\n            }\n\n            this._auto_scroll_force = true;\n            return \"<div class='webix_dd_drag_column'>\" + text + \"</div>\";\n          }, this),\n          $drop: bind(function (s, t, e) {\n            var target = e; //on touch devices event doesn't point to the actual drop target\n\n            if (e.touches && this._drag_column_last) target = this._drag_column_last;\n            var id = this.locate(target);\n            if (!id) return false;\n            var start = DragControl.getContext().start.column;\n\n            if (start != id.column) {\n              if (!this.callEvent(\"onBeforeColumnDrop\", [start, id.column, e])) return;\n              var start_index = this.getColumnIndex(start);\n              var end_index = this.getColumnIndex(id.column);\n              this.moveColumn(start, end_index + (start_index < end_index ? 1 : 0));\n              this.callEvent(\"onAfterColumnDrop\", [start, id.column, e]);\n            }\n          }, this),\n          $dragIn: bind(function (s, t, e) {\n            var _this2 = this;\n\n            var context = DragControl.getContext(); //ignore normal dnd , and dnd from other components\n\n            if (context.custom != \"column_dnd\" || context.from != control) return false;\n            var target = e.target;\n\n            while ((target.className || \"\").indexOf(\"webix_hcell\") == -1) {\n              target = target.parentNode;\n              if (!target) return;\n            }\n\n            if (this._auto_scroll_delay) this._auto_scroll_delay = window.clearTimeout(this._auto_scroll_delay);\n            if (this._settings.dragscroll !== false) this._auto_scroll_delay = delay(function (pos$$1) {\n              return _this2._auto_scroll_column(pos$$1);\n            }, this, [pos(e)], 250);\n\n            if (target != this._drag_column_last) {\n              //new target\n              if (this._drag_column_last) removeCss(this._drag_column_last, \"webix_dd_over_column\");\n              addCss(target, \"webix_dd_over_column\");\n            }\n\n            return this._drag_column_last = target;\n          }, this),\n          $dragDestroy: bind(function (a, h) {\n            this._auto_scroll_force = null;\n            if (this._auto_scroll_delay) this._auto_scroll_delay = window.clearTimeout(this._auto_scroll_delay);\n            if (this._drag_column_last) removeCss(this._drag_column_last, \"webix_dd_over_column\");\n            remove(h);\n          }, this)\n        };\n      }\n\n      if (value) {\n        DragControl.addDrag(this._header, control);\n        DragControl.addDrop(this._header, control, true);\n        this.attachEvent(\"onDestruct\", function () {\n          return DragControl.unlink(control);\n        });\n        if (!this._auto_scroll) exports.extend(this, AutoScroll, true);\n      }\n\n      return value;\n    }\n  };\n\n  var Mixin$b = {\n    clearValidation: function () {\n      for (var i in this.data._marks) {\n        this._clear_invalid_css(i);\n      }\n\n      this.data.clearMark(\"webix_invalid\", true);\n    },\n    _mark_invalid: function (id, details) {\n      this._clear_invalid_css(id);\n\n      for (var key in details) {\n        this.addCellCss(id, key, \"webix_invalid_cell\");\n      }\n\n      this.addCss(id, \"webix_invalid\");\n    },\n    _clear_invalid: function (id) {\n      this._clear_invalid_css(id);\n\n      this.removeCss(id, \"webix_invalid\");\n    },\n    _clear_invalid_css: function (id) {\n      var mark = this.data.getMark(id, \"$cellCss\");\n\n      if (mark) {\n        for (var key in mark) {\n          mark[key] = mark[key].replace(\"webix_invalid_cell\", \"\").replace(\"  \", \" \");\n        }\n      }\n    },\n    addRowCss: function (id, css, silent) {\n      this.addCss(id, css, silent);\n    },\n    removeRowCss: function (id, css, silent) {\n      this.removeCss(id, css, silent);\n    },\n    addCellCss: function (id, name, css, silent) {\n      var mark = this.data.getMark(id, \"$cellCss\");\n      var newmark = mark || {};\n      var style = newmark[name] || \"\";\n      newmark[name] = style.replace(css, \"\").replace(\"  \", \" \") + \" \" + css;\n      if (!mark) this.data.addMark(id, \"$cellCss\", false, newmark, true);\n      if (!silent) this.refresh(id);\n    },\n    removeCellCss: function (id, name, css, silent) {\n      var mark = this.data.getMark(id, \"$cellCss\");\n\n      if (mark) {\n        var style = mark[name] || \"\";\n        if (style) mark[name] = style.replace(css, \"\").replace(\"  \", \" \");\n        if (!silent) this.refresh(id);\n      }\n    }\n  };\n\n  var Mixin$c = {\n    _prePrint: function (options, htmlOnly) {\n      if (options.scroll && !htmlOnly) return true;\n      options.header = isUndefined(options.header) ? this.config.header ? true : false : options.header;\n      options.footer = isUndefined(options.footer) ? this.config.footer ? true : false : options.footer;\n      options.xCorrection = options.xCorrection || 0; //spreadsheet\n    },\n    _findIndex: function (arr, func) {\n      var result = -1;\n\n      for (var i = 0; result < 0 && i < arr.length; i++) {\n        if (func(arr[i])) result = i;\n      }\n\n      return result;\n    },\n    _getTableHeader: function (base, columns, group) {\n      var spans = {},\n          start = 0;\n      base.forEach(bind(function (tableArray, tid) {\n        var row = tableArray[0],\n            headerArray = [],\n            length = row.length;\n        row.forEach(bind(function (cell, cid) {\n          var column = columns[cid + start];\n\n          for (var h = 0; h < column[group].length; h++) {\n            var header = column[group][h];\n            if (!header && !(spans[tid] && spans[tid][h])) continue;\n            header = copy(header || {\n              text: \"\"\n            });\n\n            if (spans[tid] && spans[tid][h] && cid === 0) {\n              header.colspan = spans[tid][h];\n              spans[tid][h] = 0;\n            }\n\n            if (header.colspan) {\n              var colspan = Math.min(header.colspan, length - cid);\n              spans[tid + 1] = spans[tid + 1] || {};\n              spans[tid + 1][h] = header.colspan - colspan;\n              header.colspan = colspan;\n            }\n\n            if (header.rowspan && length === 1) {\n              header.height = (header.height || this.config.headerRowHeight) * header.rowspan;\n              header.rowspan = null;\n            }\n\n            var hcell = {\n              txt: header.rotate ? this.getHeaderNode(column.id, h).innerHTML : header.text || (header.contentId ? this.getHeaderContent(header.contentId).getValue() : \"\"),\n              className: \"webix_hcell \" + \"webix_\" + group + \"_cell \" + (header.css || \"\"),\n              style: {\n                height: (header.height || this.config.headerRowHeight) + \"px\",\n                width: header.colspan ? \"auto\" : column.width + \"px\"\n              },\n              span: header.colspan || header.rowspan ? {\n                colspan: header.colspan || 1,\n                rowspan: header.rowspan || 1\n              } : null\n            };\n            headerArray[h] = headerArray[h] || [];\n            headerArray[h][cid] = hcell;\n          }\n        }, this));\n        if (group == \"header\") base[tid] = headerArray.concat(tableArray);else base[tid] = tableArray.concat(headerArray);\n        start += length;\n      }, this));\n      return base;\n    },\n    _getTableArray: function (options, base, start) {\n      var columns = this.config.columns;\n      var sel = this.getSelectedId(true);\n      var maxWidth = options.fit == \"page\" ? Infinity : this._getPageWidth(options);\n      var rightRestriction = 0;\n      var bottomRestriction = 0;\n      var tableArray = [];\n      var newTableStart = 0;\n      var widths = [];\n      start = start || 0 + options.xCorrection;\n      base = base || [];\n      this.eachRow(bind(function (row) {\n        var width = 0;\n        var rowItem = this.getItem(row);\n        var rowIndex = this.getIndexById(row);\n        var colrow = [];\n        var datarow = false;\n\n        for (var c = start; c < columns.length; c++) {\n          var column = columns[c].id;\n          var colIndex = this.getColumnIndex(column) - start;\n\n          if (columns[c]) {\n            width += columns[c].width;\n            if (rowIndex === 0) widths.push(columns[c].width);\n\n            if (width > maxWidth && c > start) {\n              // 'c>start' ensures that a single long column will have to fit the page\n              newTableStart = c;\n              break;\n            }\n\n            if (options.data !== \"selection\" || options.data == \"selection\" && this._findIndex(sel, function (obj) {\n              return obj.column == column && obj.row == row;\n            }) !== -1) {\n              var span;\n              if (this.getSpan) span = this.getSpan(row, column); //check span from previous table\n\n              if (span && this.getColumnIndex(column) === start) {\n                var spanStart = this.getColumnIndex(span[1]);\n\n                if (spanStart < start) {\n                  span[2] = span[2] - (start - spanStart);\n                  span[4] = span[4] ? span[4] : rowItem[span[1]] ? this.getText(row, span[1]) : null;\n                  span[1] = column;\n                }\n              }\n\n              if (!span || span && span[0] == row && span[1] == column) {\n                var cellValue = span && span[4] ? span[4] : this._columns_pull[column] ? this.getText(row, column) : \"\";\n                var className = this.getCss(row, column) + \" \" + (columns[c].css || \"\") + (span ? \" webix_dtable_span \" + (span[5] || \"\") : \"\");\n                var style = {\n                  height: span && span[3] > 1 ? \"auto\" : (rowItem.$height || this.config.rowHeight) + \"px\",\n                  width: span && span[2] > 1 ? \"auto\" : columns[c].width + \"px\"\n                };\n                colrow.push({\n                  txt: cellValue,\n                  className: className,\n                  style: style,\n                  span: span ? {\n                    colspan: span[2],\n                    spanStart: this.getColumnIndex(span[1]),\n                    rowspan: span[3]\n                  } : null\n                });\n\n                if (cellValue || cellValue === 0) {\n                  rightRestriction = Math.max(colIndex + 1, rightRestriction);\n                  bottomRestriction = Math.max(rowIndex + 1, bottomRestriction);\n                }\n\n                datarow = datarow || !!cellValue;\n              } else if (span) {\n                colrow.push({\n                  $inspan: true\n                });\n                rightRestriction = Math.max(colIndex + 1, rightRestriction);\n                bottomRestriction = Math.max(rowIndex + 1, bottomRestriction);\n              }\n            }\n          }\n        }\n\n        if (!options.skiprows || datarow) tableArray.push(colrow);\n      }, this));\n\n      if (bottomRestriction && rightRestriction) {\n        if (options.trim) {\n          tableArray.length = bottomRestriction;\n          tableArray = tableArray.map(function (item) {\n            for (var i = item.length - 1; i >= 0; i--) {\n              if (item[i].span && item[i].span.colspan) {\n                item[i].span.colspan = Math.min(item[i].span.colspan, item.length - i);\n                break;\n              }\n            }\n\n            item.length = rightRestriction;\n            return item;\n          });\n        }\n\n        base.push(tableArray);\n      }\n\n      if (newTableStart) this._getTableArray(options, base, newTableStart);else {\n        //keep this order as logic relies on the first data row\n        if (options.footer) base = this._getTableHeader(base, columns, \"footer\");\n        if (options.header) base = this._getTableHeader(base, columns, \"header\");\n        if (options.fit == \"page\") this._correctWidth(base, widths, rightRestriction, options);\n      }\n      return base;\n    },\n    //a single grid tries to fit to page size - set column width to auto\n    _correctWidth: function (base, widths, rightRestriction, options) {\n      if (rightRestriction && options.trim) widths.length = rightRestriction;\n      var rwidth = 0;\n\n      for (var i = 0; i < widths.length; i++) {\n        rwidth += widths[i];\n      }\n\n      if (rwidth > this._getPageWidth(options)) {\n        base[0].forEach(function (item) {\n          for (var _i = 0; _i < item.length; _i++) {\n            if (item[_i] && item[_i].style && item[_i].style.width) item[_i].style.width = \"auto\";\n          }\n        });\n      }\n    },\n    _getTableHTML: function (tableData, options) {\n      var container = create(\"div\");\n      tableData.forEach(bind(function (table, i) {\n        var tableHTML = create(\"table\", {\n          \"class\": \"webix_table_print \" + this.$view.className + (options.borderless ? \" borderless\" : \"\"),\n          \"style\": \"border-collapse:collapse\",\n          \"id\": this.$view.getAttribute(\"id\")\n        });\n        table.forEach(function (row) {\n          var tr = create(\"tr\");\n          row.forEach(function (cell) {\n            if (!cell.$inspan) {\n              var td = create(\"td\");\n              td.innerHTML = cell.txt;\n              td.className = cell.className;\n\n              for (var key in cell.style) {\n                td.style[key] = cell.style[key];\n              }\n\n              if (cell.span) {\n                td.colSpan = cell.span.colspan;\n                td.rowSpan = cell.span.rowspan;\n              }\n\n              tr.appendChild(td);\n            }\n          });\n          tableHTML.appendChild(tr);\n        });\n        container.appendChild(tableHTML);\n\n        if (i + 1 < tableData.length) {\n          var br = create(\"DIV\", {\n            \"class\": \"webix_print_pagebreak\"\n          });\n          container.appendChild(br);\n        }\n      }, this));\n      return container;\n    }\n  };\n\n  var Mixin$d = {\n    $exportView: function (options) {\n      if (this.isBranchOpen) //treetable\n        exports.extend(options, {\n          filterHTML: true\n        });\n      var mode = options.export_mode;\n      if (mode != \"pdf\" && mode != \"excel\" || options.dataOnly || !options.styles) return this;else {\n        //excel export with styles\n        options.dataOnly = true;\n        options.heights = isUndefined(options.heights) ? \"all\" : options.heights;\n        var data = mode == \"pdf\" ? toPDF(this, options) : toExcel(this, options);\n        data[0].styles = this._getExportStyles(options);\n        delete options.dataOnly;\n        return data;\n      }\n    },\n    _getExportStyles: function (options) {\n      var type = options.export_mode;\n      var columns = this.config.columns;\n      var styles = [];\n      if (!this._style_hash) this._style_hash = {};\n      if (!this._style_hash[type]) this._style_hash[type] = {};\n      if (options.docHeader && type == \"excel\") styles = [{\n        0: this._getExportDocStyle(options.docHeader.css, type)\n      }, {\n        0: {}\n      }];\n      if (options.header !== false) styles = this._getExportHStyles(options, \"header\", styles, type);\n      this.data.each(function (obj) {\n        var row = {};\n\n        for (var i = 0; i < columns.length; i++) {\n          var cellCss = this.getCss(obj.id, columns[i].id);\n          var columnCss = columns[i].node.className;\n          var spanCss = \"\";\n          var span = null;\n          var node = null;\n\n          if (this._spans_pull && (span = this.getSpan(obj.id, columns[i].id))) {\n            node = this.getSpanNode({\n              row: span[0],\n              column: span[1]\n            });\n            spanCss = \"webix_dtable_span \" + (span[5] || \"\");\n          } else node = this.getItemNode({\n            row: obj.id,\n            column: columns[i].id\n          });\n\n          if (!node) {\n            node = create(\"div\", {\n              \"class\": cellCss,\n              style: \"visibility:hidden\"\n            });\n            var cnode = columns[i].node;\n\n            if (!columns[i].attached) {\n              cnode = create(\"div\", {\n                \"class\": columnCss,\n                style: \"visibility:hidden\"\n              });\n\n              this._body.appendChild(cnode);\n            }\n\n            cnode.appendChild(node);\n          }\n\n          row[i] = this._getExportCellStyle(node, [cellCss, columnCss, spanCss].join(\":\"), type);\n        }\n\n        styles[styles.length] = row;\n      }, this);\n      if (options.footer !== false && this.config.footer) styles = this._getExportHStyles(options, \"footer\", styles, type);\n      if (options.docFooter && type == \"excel\") styles = styles.concat([{\n        0: {}\n      }, {\n        0: this._getExportDocStyle(options.docFooter.css, type)\n      }]);\n      return styles;\n    },\n    _getExportHStyles: function (options, group, styles, type) {\n      var columns = this.config.columns;\n      var hs = []; //spans\n\n      for (var h = 0; h < columns[0][group].length; h++) {\n        var hrow = {};\n\n        for (var i = 0; i < columns.length; i++) {\n          var header = columns[i][group][h]; //ToDo:make sure it is rendered and attached\n\n          if (header) {\n            //can be null\n            var cid = header.colspan ? columns[i + header.colspan - 1].id : columns[i].id;\n            var node = group == \"header\" ? this.getHeaderNode(cid, h) : this.getFooterNode(cid, h);\n\n            if (node) {\n              var name = [node.className, header.css || \"\", group];\n              hrow[i] = this._getExportCellStyle(node, name.join(\":\"), type);\n              if (header.colspan || header.rowspan) hs.push([h, i, {\n                colspan: header.colspan - 1 || 0,\n                rowspan: header.rowspan - 1 || 0\n              }, hrow[i]]);\n            }\n          } else {\n            for (var s = 0; s < hs.length; s++) {\n              var st = hs[s][2],\n                  hsc = hs[s][1],\n                  hsr = hs[s][0];\n              if (hsc + st.colspan >= i && hsr + st.rowspan >= h) hrow[i] = hs[s][3];\n            }\n          }\n        }\n\n        styles[styles.length] = hrow;\n      }\n\n      return styles;\n    },\n    _getBorderColor: function (styles, defaultColor, type) {\n      return styles[\"border-\".concat(type, \"-width\")] == \"0px\" ? null : color.rgbToHex(styles[\"border-\".concat(type, \"-color\")]) || defaultColor;\n    },\n    _getExportCellStyle: function (node, name, type) {\n      if (this._style_hash[type][name]) return this._style_hash[type][name];else {\n        var cellStyle = this._getRules(node);\n\n        var bg = color.rgbToHex(cellStyle[\"background-color\"]) || \"FFFFFF\";\n        var common = {\n          backgroundColor: bg,\n          fontSize: cellStyle[\"font-size\"].replace(\"px\", \"\") * 0.75,\n          //px to pt conversion\n          color: color.rgbToHex(cellStyle[\"color\"]),\n          textAlign: cellStyle[\"text-align\"],\n          borderRightColor: this._getBorderColor(cellStyle, bg, \"right\"),\n          borderLeftColor: this._getBorderColor(cellStyle, bg, \"left\"),\n          borderBottomColor: this._getBorderColor(cellStyle, bg, \"bottom\"),\n          borderTopColor: this._getBorderColor(cellStyle, bg, \"top\")\n        };\n        var rules = type == \"pdf\" ? common : this._getExcelCellRules(cellStyle, node, common);\n        this._style_hash[type][name] = rules;\n        return rules;\n      }\n    },\n    _getExportDocStyle: function (css, type) {\n      css = exports.extend(css || {}, {\n        visibility: \"hidden\",\n        \"white-space\": \"nowrap\",\n        \"text-align\": \"left\"\n      });\n      var cssStr = \"\";\n\n      for (var i in css) {\n        cssStr += i + \":\" + css[i] + \";\";\n      }\n\n      var node = create(\"div\", {\n        style: cssStr\n      });\n\n      this._body.appendChild(node);\n\n      var style = this._getExportCellStyle(node, cssStr, type);\n\n      remove(node);\n      return style;\n    },\n    _getExcelCellRules: function (cellStyle, node, common) {\n      var rules = {\n        font: {},\n        alignment: {},\n        border: {}\n      }; //font\n\n      rules.font.name = cellStyle[\"font-family\"].replace(/,.*$/, \"\"); // cut off fallback font;\n\n      rules.font.sz = common.fontSize;\n      rules.font.color = {\n        rgb: common.color\n      };\n      if (cellStyle[\"font-weight\"] !== \"normal\" && cellStyle[\"font-weight\"] != 400) rules.font.bold = true;\n      if (cellStyle[\"text-decoration-line\"] === \"underline\") rules.font.underline = true;\n      if (cellStyle[\"font-style\"] === \"italic\") rules.font.italic = true;\n      if (cellStyle[\"text-decoration-line\"] === \"line-through\") rules.font.strike = true; //alignment\n\n      rules.alignment.horizontal = common.textAlign;\n      rules.alignment.vertical = cellStyle[\"height\"] == cellStyle[\"line-height\"] ? \"center\" : \"top\";\n      if (cellStyle[\"white-space\"] == \"normal\") rules.alignment.wrapText = true; //rotated header\n\n      if (node.firstChild && node.firstChild.className && node.firstChild.className.indexOf(\"webix_rotate\") !== -1) rules.alignment.textRotation = 90; //background\n\n      rules.fill = {\n        fgColor: {\n          rgb: common.backgroundColor\n        }\n      }; //borders\n\n      if (common.borderRightColor) rules.border.right = {\n        style: \"thin\",\n        color: {\n          rgb: common.borderRightColor\n        }\n      };\n      if (common.borderBottomColor) rules.border.bottom = {\n        style: \"thin\",\n        color: {\n          rgb: common.borderBottomColor\n        }\n      };\n      if (common.borderLeftColor) rules.border.left = {\n        style: \"thin\",\n        color: {\n          rgb: common.borderLeftColor\n        }\n      };\n      if (common.borderTopColor) rules.border.top = {\n        style: \"thin\",\n        color: {\n          rgb: common.borderTopColor\n        }\n      };\n      return rules;\n    },\n    _getRules: function (node) {\n      var style = {};\n      if (window.getComputedStyle) style = window.getComputedStyle(node);else style = node.currentStyle;\n      return style;\n    }\n  };\n\n  var temp$5 = {};\n\n  var temp$6 = {};\n\n  var temp$7 = {};\n\n  var api$1h = {\n    name: \"datatable\",\n    defaults: {\n      leftSplit: 0,\n      rightSplit: 0,\n      topSplit: 0,\n      columnWidth: 100,\n      sort: true,\n      prerender: false,\n      autoheight: false,\n      autowidth: false,\n      header: true,\n      fixedRowHeight: true,\n      scrollAlignY: true,\n      scrollX: true,\n      scrollY: true,\n      datafetch: 50,\n      navigation: true\n    },\n    $skin: function () {\n      this.defaults.rowHeight = $active.rowHeight;\n      this.defaults.minRowHeight = $active.rowHeight - 6;\n      this.defaults.headerRowHeight = $active.barHeight - $active.borderWidth * 2;\n      this.defaults.minColumnWidth = $active.dataPadding * 2 + $active.borderWidth;\n    },\n    on_click: {\n      webix_excel_filter: function () {\n        return false;\n      },\n      webix_richfilter: function () {\n        return false;\n      },\n      webix_table_checkbox: function (e, id) {\n        id = this.locate(e);\n        var item = this.getItem(id.row);\n        var col = this.getColumnConfig(id.column);\n        var trg = e.target; //read actual value from HTML tag when possible\n        //as it can be affected by dbl-clicks\n\n        var check = trg.type == \"checkbox\" ? trg.checked : item[id.column] != col.checkValue;\n        var value = check ? col.checkValue : col.uncheckValue;\n        var update = {};\n        update[id.column] = value;\n        this.updateItem(id.row, update, this._settings.checkboxRefresh ? \"update\" : \"save\");\n        this.callEvent(\"onCheck\", [id.row, id.column, value]);\n        return false;\n      },\n      webix_table_radio: function (e) {\n        var id = this.locate(e);\n        var item = this.getItem(id.row);\n        var col = this.getColumnConfig(id.column);\n        this.eachRow(function (rowid) {\n          var item = this.data.pull[rowid];\n          if (item && item[id.column] == col.checkValue) item[id.column] = col.uncheckValue;\n        });\n        item[id.column] = col.checkValue;\n        this.callEvent(\"onCheck\", [id.row, id.column, true]);\n        this.refresh();\n        return false;\n      }\n    },\n    on_dblclick: {\n      webix_table_checkbox: function () {\n        return this.on_click.webix_table_checkbox.apply(this, arguments);\n      }\n    },\n    on_context: {},\n    $init: function (config) {\n      this.on_click = exports.extend({}, this.on_click);\n      var html = \"<div class='webix_ss_header' section='header'><div class='webix_hs_left'></div><div class='webix_hs_center'></div><div class='webix_hs_right'></div></div><div class='webix_ss_body'><div class='webix_ss_left'><div class='webix_ss_center_scroll'></div></div>\";\n      html += \"<div class='webix_ss_center'><div class='webix_ss_center_scroll' role='rowgroup'></div></div>\";\n      html += \"<div class='webix_ss_right'><div class='webix_ss_center_scroll'></div></div></div>\";\n      html += \"<div class='webix_ss_hscroll' role='scrollbar' aria-orientation='horizontal'></div><div class='webix_ss_footer' section='footer'><div class='webix_hs_left'></div><div class='webix_hs_center'></div><div class='webix_hs_right'></div></div><div class='webix_ss_vscroll_header'></div><div class='webix_ss_vscroll' role='scrollbar' aria-orientation='vertical'></div><div class='webix_ss_vscroll_footer'></div>\";\n      this._contentobj.innerHTML = html;\n      this._top_id = this._contentobj.id = this.name + uid();\n      this._contentobj.className += \" webix_dtable\";\n      this._dataobj = this._contentobj;\n      this._header = this._contentobj.firstChild;\n      this._body = this._header.nextSibling;\n      this._footer = this._body.nextSibling.nextSibling;\n\n      this._viewobj.setAttribute(\"role\", \"grid\");\n\n      if (!config.editable) this._viewobj.setAttribute(\"aria-readonly\", \"true\");\n      this.data.provideApi(this, true);\n      this.data.attachEvent(\"onParse\", bind(this._call_onparse, this));\n      this.$ready.push(this._first_render);\n      this._columns = [];\n      this._headers = [];\n      this._footers = [];\n      this._rows_cache = [];\n      this._active_headers = {};\n      this._filter_elements = {};\n      this._sort_signs = {};\n      this._sort_signs_order = [];\n      this._header_height = this._footer_height = 0; //component can create new view\n\n      this._destroy_with_me = [];\n      this.data.attachEvent(\"onServerConfig\", bind(this._config_table_from_file, this));\n      this.data.attachEvent(\"onServerOptions\", bind(this._config_options_from_file, this));\n      this.attachEvent(\"onViewShow\", function () {\n        this._restore_scroll_state();\n\n        this._refresh_any_header_content();\n      });\n      this.data.attachEvent(\"onClearAll\", bind(function (soft) {\n        if (!soft) {\n          this._scrollLeft = this._scrollTop = 0;\n          if (this._x_scroll) this._x_scroll.reset();\n          if (this._y_scroll) this._y_scroll.reset();\n\n          this._setLeftScroll(0);\n        }\n      }, this));\n      this.attachEvent(\"onDestruct\", this._clean_config_struct);\n      this.attachEvent(\"onKeyPress\", this._onKeyPress);\n      this.attachEvent(\"onScrollY\", this._adjust_rows);\n      callEvent(\"onDataTable\", [this, config]);\n    },\n    _render_initial: function () {\n      this._scrollSizeX = this._scrollSizeY = env.scrollSize;\n      var hheight = this._settings.headerRowHeight + 1;\n      addStyle(\"#\" + this._top_id + \" .webix_cell { height:\" + this._settings.rowHeight + \"px; line-height:\" + (this._settings.rowLineHeight || this._settings.rowHeight) + \"px;\" + (this._settings.fixedRowHeight ? \"\" : \"white-space:normal;\") + \" }\");\n      addStyle(\"#\" + this._top_id + \" .webix_hcell { height:\" + hheight + \"px; line-height:\" + hheight + \"px;}\");\n\n      this._render_initial = function () {};\n    },\n    _first_render: function () {\n      this.data.attachEvent(\"onStoreLoad\", bind(this._refresh_any_header_content, this));\n      this.data.attachEvent(\"onSyncApply\", bind(this._refresh_any_header_content, this));\n      this.data.attachEvent(\"onStoreUpdated\", bind(function () {\n        return this.render.apply(this, arguments);\n      }, this));\n      this.data.attachEvent(\"onStoreUpdated\", bind(this._refresh_tracking_header_content, this));\n      this.render();\n    },\n    refresh: function () {\n      this.render();\n    },\n    _delayRender: function () {\n      var _this = this;\n\n      clearTimeout(this._renderDelay);\n      this._renderDelay = delay(function () {\n        _this._renderDelay = 0;\n\n        if (!isUndefined(_this._delayedLeftScroll)) {\n          _this._setLeftScroll(_this._delayedLeftScroll);\n\n          delete _this._delayedLeftScroll;\n        }\n\n        _this.render();\n      });\n    },\n    render: function (id, data, mode) {\n      //pure data saving call\n      if (mode == \"save\" || this._renderDelay) return;\n\n      if (!this._columns.length) {\n        var cols = this._settings.columns;\n\n        if (!cols || !cols.length) {\n          if (this._settings.autoConfig && this.data.order.length && !this._hidden_column_order.length) {\n            this._dtable_fully_ready = 0;\n\n            this._autoDetectConfig();\n          } else return;\n        }\n\n        this._define_structure();\n      }\n\n      if (!this.isVisible(this._settings.id) || this.$blockRender) return this._render_initial(); //Chrome 34, Custom Font loading bug\n\n      var fast_mode = this.config.experimental && !this._settings.subview; //replace multiple atomic updates by single big repaint\n\n      if (id && data != -1 && (mode == \"paint\" || mode == \"update\") && !fast_mode) {\n        if (this._render_timer) clearTimeout(this._render_timer);\n\n        if (!this._render_timer || this._render_timer_id == id) {\n          this._render_timer_id = id;\n          this._render_timer = delay(function () {\n            //if only one call - repaint single item\n            this.render(id, -1, mode);\n          }, this);\n        } else {\n          this._render_timer_id = null;\n          this._render_timer = delay(function () {\n            //if ther was a serie of calls - replace them with single full repaint\n            this.render();\n          }, this);\n        }\n\n        return;\n      } else if (this._render_timer) {\n        clearTimeout(this._render_timer);\n        this._render_timer = 0;\n      }\n\n      if (this.callEvent(\"onBeforeRender\", [this.data])) {\n        this._render_initial();\n\n        if (!this._dtable_fully_ready) this._apply_headers();\n\n        if (this._content_width) {\n          if (fast_mode && (mode == \"paint\" || mode == \"update\") && id) this._repaint_single_row(id);else this._check_rendered_cols(true, true);\n        }\n\n        if (!id || mode != \"update\") {\n          this._dtable_height = this._get_total_height();\n\n          this._set_split_sizes_y();\n        } //don't depend on hidden rows/rolumns\n\n\n        this._viewobj.setAttribute(\"aria-colcount\", Math.max(this._hidden_column_order.length, this._columns.length));\n\n        this._viewobj.setAttribute(\"aria-rowcount\", this.data.count());\n\n        this.callEvent(\"onAfterRender\", [this.data]);\n        return true;\n      }\n    },\n    getColumns: function (all) {\n      var horder = this._hidden_column_order;\n\n      if (all && horder.length) {\n        var columns = [];\n\n        for (var i = 0; i < horder.length; i++) {\n          columns.push(this.getColumnConfig(horder[i]));\n        }\n\n        return columns;\n      } else return _toConsumableArray(this._columns);\n    },\n    getColumnConfig: function (id) {\n      return this._columns_pull[id] || this._hidden_column_hash[id];\n    },\n    _config_options_from_file: function (colls) {\n      for (var key in colls) {\n        var column = this.getColumnConfig(key);\n        assert(column, \"Orphan collection: \" + key);\n        var temp = new DataCollection({\n          data: colls[key]\n        });\n\n        this._destroy_with_me.push(temp);\n\n        this._bind_collection(temp, column);\n      }\n    },\n    //xml has different configuration structure, fixing\n    _config_table_from_file: function (config) {\n      this._create_scheme_init();\n\n      if (config.columns && this._dtable_fully_ready) this.refreshColumns(config.columns);\n    },\n    _define_structure: function () {\n      if (this._settings.columns) {\n        this._columns_pull = {};\n        this._columns = this._settings.columns;\n        this._rightSplit = this._columns.length - (this.config.rightSplit || 0);\n\n        for (var i = 0; i < this._columns.length; i++) {\n          this._prepare_single_column(this._columns[i]);\n        }\n\n        this._normalize_headers(\"header\", this._headers);\n\n        this._normalize_headers(\"footer\", this._footers);\n\n        this.callEvent(\"onStructureLoad\", []);\n      }\n    },\n    _prepare_single_column: function (col) {\n      this._columns_pull[col.id] = col;\n      if (isUndefined(col.header)) col.header = col.id;\n      var format = col.cssFormat;\n      if (format) col.cssFormat = toFunctor(format, this.$scope);\n      col.width = this._correctColumnWidth(col.width || this._settings.columnWidth, col);\n      if (typeof col.format == \"string\") col.format = i18n[col.format] || window[col.format];\n\n      if (col.numberFormat) {\n        var nformat = col.numberFormat;\n        if (typeof nformat === \"string\") col.numberFormat = nformat = Number$1.getConfig(nformat);\n        col.format = Number$1.numToStr(nformat);\n\n        col.editFormat = col.editFormat || function (val) {\n          return Number$1.format(val, nformat);\n        };\n\n        col.editParse = col.editParse || function (val) {\n          return Number$1.parse(val, nformat);\n        };\n      } //default settings for checkboxes and radios\n\n\n      if (isUndefined(col.checkValue)) col.checkValue = 1;\n      if (isUndefined(col.uncheckValue)) col.uncheckValue = 0;\n      if (col.css && _typeof(col.css) == \"object\") col.css = createCss(col.css);\n      var rawTemplate = col.template;\n\n      if (rawTemplate) {\n        if (typeof rawTemplate == \"string\") rawTemplate = rawTemplate.replace(/#\\$value#/g, \"#\" + col.id + \"#\");\n        col.template = template(rawTemplate);\n      }\n    },\n    _define_structure_and_render: function () {\n      this._apply_headers();\n    },\n    _clean_config_struct: function () {\n      //remove column technical info from the column\n      //it allows to reuse the same config object for new grid\n      for (var i = 0; i < this._columns.length; i++) {\n        delete this._columns[i].attached;\n        delete this._columns[i].node;\n      }\n    },\n    _apply_headers: function () {\n      this._rightSplit = this._columns.length - (this.config.rightSplit || 0);\n      this._dtable_width = 0;\n\n      for (var i = 0; i < this._columns.length; i++) {\n        if (!this._columns[i].node) {\n          var temp = create(\"DIV\");\n          temp.style.width = this._columns[i].width + \"px\";\n          this._columns[i].node = temp;\n        }\n\n        if (i >= this._settings.leftSplit && i < this._rightSplit) this._dtable_width += this._columns[i].width;\n      }\n\n      var marks = [];\n\n      if (this._settings.rightSplit) {\n        var nr = this._columns.length - this._settings.rightSplit;\n        marks[nr] = \" webix_first\";\n        marks[nr - 1] = \" webix_last\";\n      }\n\n      if (this._settings.leftSplit) {\n        var nl = this._settings.leftSplit;\n        marks[nl] = \" webix_first\";\n        marks[nl - 1] = \" webix_last\";\n      }\n\n      marks[0] = (marks[0] || \"\") + \" webix_first webix_select_mark\";\n      var last_index = this._columns.length - 1;\n      marks[last_index] = (marks[last_index] || \"\") + \" webix_last\";\n\n      for (var _i = 0; _i < this._columns.length; _i++) {\n        var node = this._columns[_i].node;\n        node.setAttribute(\n        /*@attr*/\n        \"column\", _i);\n        node.className = \"webix_column \" + (this._columns[_i].css || \"\") + (marks[_i] || \"\");\n      }\n\n      this._create_scrolls();\n\n      this._set_columns_positions();\n\n      this._set_split_sizes_x();\n\n      this._render_header_and_footer();\n\n      this._dtable_fully_ready = true;\n    },\n    _set_columns_positions: function () {\n      var left = 0;\n\n      for (var i = 0; i < this._columns.length; i++) {\n        var column = this._columns[i];\n        if (i == this._settings.leftSplit || i == this._rightSplit) left = 0;\n\n        if (column.node) {\n          column.node.style.left = left + \"px\";\n\n          if (this._settings.leftSplit || this._settings.rightSplit) {\n            remove(column.node);\n            column.attached = false;\n          }\n        }\n\n        left += column.width;\n      }\n    },\n    _render_header_and_footer: function () {\n      if (!this._header_fix_width) this._header_fix_width = 0;\n      this._header_height = this._footer_height = 0;\n\n      if (this._settings.header) {\n        this._refreshHeaderContent(this._header, 0, 1);\n\n        this._normalize_headers(\"header\", this._headers);\n\n        this._header_height = this._headers._summ;\n\n        this._render_header_section(this._header, \"header\", this._headers);\n      }\n\n      if (this._settings.footer) {\n        this._refreshHeaderContent(this._footer, 0, 1);\n\n        this._normalize_headers(\"footer\", this._footers);\n\n        this._footer_height = this._footers._summ;\n\n        this._render_header_section(this._footer, \"footer\", this._footers);\n      }\n\n      this.refreshHeaderContent(false, false);\n\n      this._size_header_footer_fix();\n\n      for (var i = 0; i < this._sort_signs_order.length; i++) {\n        var col_id = this._sort_signs_order[i];\n\n        this._render_single_mark(col_id, this._sort_signs[col_id]);\n      }\n    },\n    _getHeaderHeight: function (header, column, ind) {\n      var width = 0;\n      var colspan = header.colspan || 1;\n      var css = \"webix_hcell \" + (header.css || \"\");\n      if (header.rotate) css += \" webix_measure_rotate\";else for (var i = 0; i < colspan; i++) {\n        width += this._columns[ind + i] ? this._columns[ind + i].width : this.config.columnWidth;\n      }\n      var size = getTextSize([header.text], css, width);\n      return header.rotate ? size.width : size.height;\n    },\n    _normalize_headers: function (collection, heights) {\n      var rows = 0; // clear array of previous values\n\n      heights.length = 0;\n\n      for (var i = 0; i < this._columns.length; i++) {\n        var data = this._columns[i][collection] || \"\";\n        if (!isArray(data)) data = [data];\n\n        for (var j = 0; j < data.length; j++) {\n          if (_typeof(data[j]) != \"object\") data[j] = {\n            text: data[j]\n          };\n          if (data[j] && data[j].height) heights[j] = Math.max(heights[j] || 0, data[j].height);\n          if (data[j] && data[j].autoheight) heights[j] = Math.max(heights[j] || 0, this._getHeaderHeight(data[j], this._columns[i], i));\n          if (data[j] && data[j].css && _typeof(data[j].css) === \"object\") data[j].css = createCss(data[j].css);\n        }\n\n        rows = Math.max(rows, data.length);\n        this._columns[i][collection] = data;\n      }\n\n      heights._summ = rows;\n\n      for (var _i2 = rows - 1; _i2 >= 0; _i2--) {\n        heights[_i2] = heights[_i2] || this._settings.headerRowHeight;\n        heights._summ += heights[_i2] * 1;\n      } //set null to cells included in col|row spans\n\n\n      for (var _i3 = 0; _i3 < this._columns.length; _i3++) {\n        var col = this._columns[_i3][collection];\n\n        for (var _j = 0; _j < col.length; _j++) {\n          if (col[_j] && col[_j].rowspan) for (var z = 1; z < col[_j].rowspan; z++) {\n            col[_j + z] = null;\n          }\n          if (col[_j] && col[_j].colspan) for (var _z = 1; _z < col[_j].colspan; _z++) {\n            this._columns[_i3 + _z][collection][_j] = null;\n          }\n        }\n      } //auto-rowspan cells, which has not enough header lines\n\n\n      for (var _i4 = 0; _i4 < this._columns.length; _i4++) {\n        var _data = this._columns[_i4][collection];\n\n        if (_data.length < rows) {\n          var end = _data.length - 1;\n          _data[end].rowspan = rows - _data.length + 1;\n\n          for (var _j2 = end + 1; _j2 < rows; _j2++) {\n            _data[_j2] = null;\n          }\n        }\n      }\n\n      return rows;\n    },\n    _find_header_content: function (sec, id) {\n      var attr =\n      /*@attr*/\n      \"active_id\";\n      return sec.querySelector(\"DIV[\".concat(attr, \"=\\\"\").concat(id, \"\\\"]\"));\n    },\n    getHeaderContent: function (id) {\n      var obj = this._find_header_content(this._header, id);\n\n      if (!obj) obj = this._find_header_content(this._footer, id);\n\n      if (obj) {\n        var config = this._active_headers[id];\n        var type$$1 = datafilter[config.content];\n        var _base = {\n          type: type$$1,\n          getValue: function (text) {\n            return type$$1.getValue(obj, text);\n          },\n          setValue: function (value) {\n            return type$$1.setValue(obj, value);\n          }\n        };\n        if (type$$1.getHelper) exports.extend(_base, type$$1.getHelper(obj, config));\n        return _base;\n      }\n    },\n    _render_empty_hcell: function (height, css) {\n      return \"<div class='\".concat(css, \"' style='height:\").concat(height, \"px;'></div>\");\n    },\n    _render_subheader: function (start, end, width, name, heights) {\n      if (start == end) return \"\";\n      var spans = \"\";\n      var html = \"<div style=\\\"background:inherit;width:\".concat(width, \"px;\\\">\");\n      var count = this._columns[0][name].length;\n      var left = 0;\n\n      for (var i = start; i < end; i++) {\n        var top = 0;\n        var _width = this._columns[i].width;\n        var abs = i == start ? \"position:static;\" : \"position:absolute;top:\".concat(top, \"px;left:\").concat(left, \"px;\");\n        html += \"<div class=\\\"webix_hcolumn\\\" style=\\\"\".concat(abs, \"width:\").concat(_width, \"px;overflow:hidden;\\\">\");\n\n        for (var j = 0; j < count; j++) {\n          var header = this._columns[i][name][j];\n          var cell_height = heights[j];\n          var hcss = \"webix_hcell\";\n          if (this._columns[i].$selected) hcss += \" webix_sel_hcell\";\n          if (i == start) hcss += \" webix_first\";\n          if (i == end - 1) hcss += \" webix_last\";\n          if (j == count - 1) hcss += \" webix_last_row\";\n\n          if (!header) {\n            html += this._render_empty_hcell(cell_height + 1, hcss);\n            top += cell_height + 1;\n            continue;\n          }\n\n          if (header.content) {\n            header.contentId = header.contentId || uid();\n            header.columnId = this._columns[i].id;\n            header.format = this._columns[i].format;\n            assert(datafilter, \"Filtering extension was not included\");\n            assert(datafilter[header.content], \"Unknown content type: \" + header.content);\n            header.text = datafilter[header.content].render(this, header);\n            this._active_headers[header.contentId] = header;\n            this._has_active_headers = true;\n          }\n\n          if (header.css) // apply unique css after content initialization\n            hcss += \" \" + header.css;\n          var cell = \"<div \" +\n          /*@attr*/\n          \"row\" + \"='\" + j + \"'\" +\n          /*@attr*/\n          \"column\" + \"='\" + (header.colspan ? header.colspan - 1 + i : i) + \"'\";\n          var sheight = \"\";\n          if (header.contentId) cell += \" \" +\n          /*@attr*/\n          \"active_id\" + \"='\" + header.contentId + \"'\";\n          var isSpan = false;\n          var cheight = cell_height;\n\n          if (header.colspan && header.colspan > 1 || header.rowspan && header.rowspan > 1) {\n            var cwidth = this._summ_right(this._columns, i, header.colspan) || _width;\n\n            cheight = this._summ_next(heights, j, header.rowspan);\n            if (cheight <= 0) cheight = cell_height;\n            html += this._render_empty_hcell(cell_height + 1, hcss);\n            if (header.colspan && i + header.colspan >= end) hcss += \" webix_last\";\n            if (header.rowspan && j + header.rowspan >= count) hcss += \" webix_last_row\";\n            hcss += \" webix_span\";\n            isSpan = true;\n            sheight = \" colspan='\".concat(header.colspan || 1, \"' rowspan='\").concat(header.rowspan || 1, \"' style='position:absolute;top:\").concat(top, \"px;left:\").concat(left, \"px;line-height:\").concat(cheight + 1, \"px;width:\").concat(cwidth, \"px;height:\").concat(cheight + 1, \"px;'\");\n          } else if (cell_height != this._settings.headerRowHeight) sheight = \" style='line-height:\".concat(cell_height + 1, \"px;height:\").concat(cell_height + 1, \"px;'\");\n\n          cell += \" class=\\\"\" + hcss + \"\\\"\";\n          cell += \" \" + sheight + \">\";\n          var text = header.text === \"\" ? \"&nbsp;\" : header.text;\n          if (header.rotate) text = \"<div class='webix_rotate' style='width:\" + (cheight - 10) + \"px;transform-origin:center \" + (cheight - 15) / 2 + \"px;'>\" + text + \"</div>\";\n          cell += text + \"</div>\";\n          if (isSpan) spans += cell;else html += cell;\n          top += cell_height + 1;\n        }\n\n        left += _width;\n        html += \"</div>\";\n      }\n\n      return html + spans + \"</div>\";\n    },\n    _summ_next: function (heights, start, i) {\n      var summ = -1;\n      i += start;\n\n      for (start; start < i; start++) {\n        summ += heights[start] + 1;\n      }\n\n      return summ;\n    },\n    _summ_right: function (columns, start, i) {\n      var summ = 0;\n      i += start;\n\n      for (start; start < i; start++) {\n        summ += columns[start].width;\n      }\n\n      return summ;\n    },\n    showItemByIndex: function (row_ind, column_ind) {\n      var pager = this._settings.pager;\n\n      if (pager && row_ind >= this._settings.topSplit) {\n        var target = Math.floor(row_ind / pager.size);\n        if (target != pager.page) $$(pager.id).select(target);\n      } //parameter will be set to -1, to mark that scroll need not to be adjusted\n\n\n      var scroll = this.getScrollState();\n\n      if (row_ind >= this._settings.topSplit || this._settings.prerender && row_ind != -1) {\n        var state = this._get_y_range();\n\n        if (row_ind < state[0] + 1 || row_ind >= state[1] - 1) {\n          //not visible currently\n          var summ = this._getHeightByIndexSumm(pager ? this.data.$min : 0, row_ind);\n\n          var dataHeight = this._dtable_offset_height + 1;\n\n          var itemHeight = this._getHeightByIndex(row_ind);\n\n          if (row_ind < state[0] + 1) {\n            //scroll top - show row at top of screen\n            summ = Math.max(0, summ) - this._get_top_split_height();\n          } else if (summ + itemHeight > dataHeight) {\n            //scroll bottom - show row at bottom of screen\n            summ += itemHeight - dataHeight; //because of row rounding we need to scroll some extra\n\n            for (var cur_ind = row_ind; cur_ind > 0 && dataHeight > 0; cur_ind--) {\n              dataHeight -= this._getHeightByIndex(cur_ind);\n            }\n\n            if (row_ind > 0 && dataHeight) summ += this._getHeightByIndex(row_ind + 1);\n          } else {\n            summ = scroll.y;\n          }\n\n          scroll.y = summ;\n        }\n      }\n\n      if (column_ind != -1) {\n        //ignore split columns - they are always visible\n        if (column_ind < this._settings.leftSplit || column_ind >= this._rightSplit) return this.scrollTo(scroll.x, scroll.y); //very similar to y-logic above\n\n        var _state = this._get_x_range();\n\n        if (column_ind < _state[0] + 1 || column_ind >= _state[1] - 1) {\n          //not visible currently\n          var _summ = 0;\n\n          for (var i = this._settings.leftSplit; i < column_ind; i++) {\n            _summ += this._columns[i].width;\n          }\n\n          var itemWidth = this._columns[column_ind].width;\n          /*jsl:ignore*/\n\n          if (column_ind < _state[0] + 1) ; else if (_summ + itemWidth > this._center_width) {\n            //scroll to right border\n            _summ += itemWidth - this._center_width;\n          } else {\n            _summ = scroll.x;\n          }\n          /*jsl:end*/\n\n\n          scroll.x = _summ;\n        }\n      }\n\n      this.scrollTo(scroll.x, scroll.y);\n    },\n    showCell: function (row, column) {\n      if (!column || !row) {\n        //if column or row not provided - take from current selection\n        var t = this.getSelectedId(true);\n\n        if (t.length == 1) {\n          column = column || t[0].column;\n          row = row || t[0].row;\n        }\n      } //convert id to index\n\n\n      column = column ? this.getColumnIndex(column) : -1;\n      row = row ? this.getIndexById(row) : -1;\n      this.showItemByIndex(row, column);\n    },\n    scrollTo: function (x, y) {\n      if (!this._x_scroll) return;\n      if (this._scrollTo_touch) return this._scrollTo_touch(x, y);\n      if (x !== null) this._x_scroll.scrollTo(x);\n      if (y !== null) this._y_scroll.scrollTo(y);\n    },\n    getScrollState: function () {\n      if (this._getScrollState_touch) return this._getScrollState_touch();\n      var diff = this._render_scroll_shift ? 0 : this._render_scroll_diff || 0;\n      return {\n        x: this._scrollLeft || 0,\n        y: this._scrollTop + diff\n      };\n    },\n    showItem: function (id) {\n      this.showItemByIndex(this.getIndexById(id), -1);\n    },\n    _render_header_section: function (sec, name, heights) {\n      var _this2 = this;\n\n      var header = sec.childNodes;\n      header[0].innerHTML = this._render_subheader(0, this._settings.leftSplit, this._left_width, name, heights);\n      header[1].innerHTML = this._render_subheader(this._settings.leftSplit, this._rightSplit, this._dtable_width, name, heights);\n      header[2].innerHTML = this._render_subheader(this._rightSplit, this._columns.length, this._right_width, name, heights);\n      var x = this.getScrollState().x;\n      if (env.touch) Touch._set_matrix(header[1].firstChild, -x, 0, \"0ms\");else header[1].scrollLeft = x;\n\n      header[1].onscroll = function () {\n        return _this2._scroll_with_header();\n      };\n    },\n    _scroll_with_header: function () {\n      var scrollLeft = this._header.childNodes[1].scrollLeft;\n      if (this._ignore_after_focus_scroll) return this._ignore_after_focus_scroll = false;\n\n      this._x_scroll.scrollTo(scrollLeft);\n\n      if (this._touch_scroll) {\n        if (scrollLeft) this._header.childNodes[1].scrollLeft = 0;\n        this._ignore_after_focus_scroll = scrollLeft;\n      }\n    },\n    _refresh_tracking_header_content: function () {\n      this.refreshHeaderContent(true, true);\n    },\n    _refresh_any_header_content: function () {\n      this.refreshHeaderContent(false, true);\n    },\n    //[DEPRECATE] - v3.0, move to private\n    refreshHeaderContent: function (trackedOnly, preserve, id) {\n      if (this._settings.header) {\n        if (preserve) this._refreshHeaderContent(this._header, trackedOnly, 1, id);\n\n        this._refreshHeaderContent(this._header, trackedOnly, 0, id);\n      }\n\n      if (this._settings.footer) {\n        if (preserve) this._refreshHeaderContent(this._footer, trackedOnly, 1, id);\n\n        this._refreshHeaderContent(this._footer, trackedOnly, 0, id);\n      }\n    },\n    refreshFilter: function (id) {\n      this.refreshHeaderContent(false, true, id);\n    },\n    _refreshHeaderContent: function (sec, cellTrackOnly, getOnly, byId) {\n      if (this._has_active_headers && sec) {\n        var tag = \"DIV\";\n        var attr =\n        /*@attr*/\n        \"active_id\";\n        var cells = sec.querySelectorAll(\"\".concat(tag, \"[\").concat(attr, \"]\"));\n\n        for (var i = 0; i < cells.length; i++) {\n          var activeId = cells[i].getAttribute(\n          /*@attr*/\n          \"active_id\");\n\n          if (activeId) {\n            var obj = this._active_headers[activeId];\n            if (byId && byId != obj.columnId) continue;\n            var content = datafilter[obj.content];\n\n            if (getOnly) {\n              if (content.getValue) {\n                obj.value = content.getValue(cells[i]);\n              }\n            } else if (!cellTrackOnly || content.trackCells) {\n              content.refresh(this, cells[i], obj);\n            }\n          }\n        }\n      }\n    },\n    headerContent: [],\n    _set_size_scroll_area: function (obj, height, hdx) {\n      if (this._scrollSizeY) {\n        obj.style.height = Math.max(height, 1) - 1 + \"px\";\n        obj.style.width = (this._rightSplit ? 0 : hdx) + this._scrollSizeY - 1 + \"px\";\n      } else obj.style.display = \"none\";\n    },\n    _size_header_footer_fix: function () {\n      if (this._settings.header) this._set_size_scroll_area(this._header_scroll, this._header_height, this._header_fix_width);\n      if (this._settings.footer) this._set_size_scroll_area(this._footer_scroll, this._footer_height, this._header_fix_width);\n    },\n    _update_scroll: function () {\n      var hasX = !(this._settings.autowidth || this._settings.scrollX === false);\n      var hasY = !(this._settings.autoheight || this._settings.scrollY === false);\n      this._scrollSizeX = hasX ? env.scrollSize : 0;\n      this._scrollSizeY = hasY ? env.scrollSize : 0;\n\n      if (this._x_scroll) {\n        this._x_scroll._settings.scrollSize = this._scrollSizeX;\n        this._x_scroll._settings.scrollVisible = hasX;\n      }\n\n      if (this._y_scroll) {\n        this._y_scroll._settings.scrollSize = this._scrollSizeY;\n        this._y_scroll._settings.scrollVisible = hasY;\n      }\n    },\n    _create_scrolls: function () {\n      this._scrollTop = 0;\n      this._scrollLeft = 0;\n      var hasX = !(this._settings.autowidth || this._settings.scrollX === false);\n      var hasY = !(this._settings.autoheight || this._settings.scrollY === false);\n      if (!hasX) this._scrollSizeX = 0;\n      if (!hasY) this._scrollSizeY = 0;\n\n      if (!this._x_scroll) {\n        this._x_scroll = ui({\n          view: \"vscroll\",\n          container: this._footer.previousSibling,\n          scrollWidth: this._dtable_width,\n          scrollSize: this._scrollSizeX,\n          scrollVisible: hasX\n        }); //fix for scroll space on Mac\n\n        if (!this._scrollSizeX && !env.$customScroll) this._x_scroll._viewobj.style.position = \"absolute\";\n\n        this._x_scroll.attachEvent(\"onScroll\", bind(this._onscroll_x, this));\n      }\n\n      if (!this._y_scroll) {\n        this._header_scroll = this._footer.nextSibling;\n        var vscroll_view = this._header_scroll.nextSibling;\n        this._footer_scroll = vscroll_view.nextSibling;\n        this._y_scroll = ui({\n          view: \"vscroll\",\n          container: vscroll_view,\n          scrollHeight: 100,\n          scroll: \"y\",\n          scrollSize: this._scrollSizeY,\n          scrollVisible: hasY\n        });\n\n        this._y_scroll.activeArea(this._body);\n\n        this._x_scroll.activeArea(this._body, true);\n\n        this._y_scroll.attachEvent(\"onScroll\", bind(this._onscroll_y, this));\n      }\n\n      if (this._content_width) this.callEvent(\"onResize\", [this._content_width, this._content_height]);\n      if (env.$customScroll) temp$1.enable(this);\n\n      this._create_scrolls = function () {};\n    },\n    columnId: function (index$$1) {\n      return this._columns[index$$1] && this._columns[index$$1].id;\n    },\n    getColumnIndex: function (id) {\n      for (var i = 0; i < this._columns.length; i++) {\n        if (this._columns[i].id == id) return i;\n      }\n\n      return -1;\n    },\n    _getNodeBox: function (rid, cid) {\n      var xs = 0,\n          xe = 0,\n          ye = 0,\n          ys = 0;\n      var i;\n      var zone = 0;\n\n      for (i = 0; i < this._columns.length; i++) {\n        if (this._rightSplit == i || this._settings.leftSplit == i) {\n          xs = 0;\n          zone++;\n        }\n\n        if (this._columns[i].id == cid) break;\n        xs += this._columns[i].width;\n      }\n\n      xe += this._columns[i].width;\n\n      for (i = 0; i < this.data.order.length; i++) {\n        if (this.data.order[i] == rid) break;\n        ys += this._getHeightByIndex(i);\n      }\n\n      ye += this._getHeightByIndex(i);\n      return [xs, xe, ys - this._scrollTop, ye, this._body.childNodes[zone]];\n    },\n    _id_to_string: function () {\n      return this.row;\n    },\n    locate: function (node, idOnly) {\n      if (this != $$(node)) return null;\n      node = node.target || node;\n\n      while (node && node.getAttribute) {\n        if (node === this.$view) break;\n\n        var cs = _getClassName(node).toString();\n\n        var pos$$1 = null;\n\n        if (cs.indexOf(\"webix_cell\") != -1) {\n          pos$$1 = this._locate(node);\n          if (pos$$1) pos$$1.row = this.data.order[pos$$1.rind];\n        }\n\n        if (cs.indexOf(\"webix_hcell\") != -1) {\n          pos$$1 = this._locate(node);\n          if (pos$$1) pos$$1.header = true;\n        }\n\n        if (cs.indexOf(\"webix_drop_area\") != -1) {\n          pos$$1 = this._locate(node);\n          if (pos$$1) pos$$1.row = pos$$1.rind = \"$webix-drop\";\n        }\n\n        if (pos$$1) {\n          if (idOnly) return pos$$1.header ? null : pos$$1.row;\n          pos$$1.column = this._columns[pos$$1.cind].id;\n          pos$$1.toString = this._id_to_string;\n          return pos$$1;\n        }\n\n        node = node.parentNode;\n      }\n\n      return null;\n    },\n    _locate: function (node) {\n      var cdiv = node.parentNode;\n      if (!cdiv) return null;\n      var column = (node.getAttribute(\n      /*@attr*/\n      \"column\") || cdiv.getAttribute(\n      /*@attr*/\n      \"column\")) * 1;\n      var rind = node.getAttribute(\"aria-rowindex\");\n      var row = node.getAttribute(\n      /*@attr*/\n      \"row\") || (rind ? rind - 1 : 0);\n      var span = (node.getAttribute(\"colspan\") || cdiv.getAttribute(\"colspan\")) * 1;\n      return {\n        rind: row,\n        cind: column,\n        span: span\n      };\n    },\n    _correctScrollSize: function () {\n      var center = -this._center_width;\n\n      for (var i = 0; i < this._columns.length; i++) {\n        center += this._columns[i].width;\n      }\n\n      this._scrollLeft = Math.min(this._scrollLeft, Math.max(0, center));\n    },\n    _updateColsSizeSettings: function (silent) {\n      if (!this._dtable_fully_ready) return;\n\n      this._correctScrollSize();\n\n      this._set_columns_positions();\n\n      this._set_split_sizes_x();\n\n      this._render_header_and_footer();\n\n      this._set_split_sizes_y();\n\n      if (!silent) this._check_rendered_cols(false, false);\n    },\n    setColumnWidth: function (col, width, skip_update) {\n      return this._setColumnWidth(this.getColumnIndex(col), width, skip_update);\n    },\n    _setColumnWidth: function (col, width, skip_update, by_user) {\n      if (isNaN(width) || col < 0) return;\n      var column = this._columns[col];\n      width = this._correctColumnWidth(width, column);\n      var old = column.width;\n\n      if (old != width) {\n        if (col >= this._settings.leftSplit && col < this._rightSplit) this._dtable_width += width - old;\n        column.width = width;\n        if (column.node) //method can be called from onStructLoad\n          column.node.style.width = width + \"px\";else return false;\n        if (!skip_update) this._updateColsSizeSettings();\n        this.callEvent(\"onColumnResize\", [column.id, width, old, !!by_user]);\n        return true;\n      }\n\n      return false;\n    },\n    _correctColumnWidth: function (width, config) {\n      width = Math.max(width, config.minWidth || this._settings.minColumnWidth || 0);\n      width = Math.min(width, config.maxWidth || this._settings.maxColumnWidth || 100000);\n      return width;\n    },\n    _getRowHeight: function (row) {\n      return (row.$height || this._settings.rowHeight) + (row.$subopen ? row.$subHeight : 0);\n    },\n    _getHeightByIndex: function (index$$1) {\n      var id = this.data.order[index$$1];\n      if (!id) return this._settings.rowHeight;\n      return this._getRowHeight(this.data.pull[id]);\n    },\n    _getHeightByIndexSumm: function (index1, index2) {\n      if (this._settings.fixedRowHeight) return Math.max(index2 - index1, 0) * this._settings.rowHeight;else {\n        var summ = 0;\n\n        for (; index1 < index2; index1++) {\n          summ += this._getHeightByIndex(index1);\n        }\n\n        return summ;\n      }\n    },\n    _cellPosition: function (row, column, edit) {\n      if (row.row) {\n        column = row.column;\n        row = row.row;\n      }\n\n      var width = this.getColumnConfig(column).width;\n\n      var height = this.getItem(row).$height || this._settings.rowHeight;\n\n      if (this.config.spans && edit) {\n        var span = this.getSpan(row, column);\n\n        if (span) {\n          var spanNode = this.getSpanNode({\n            row: span[0],\n            column: span[1]\n          });\n          width = spanNode.offsetWidth;\n          height = spanNode.offsetHeight;\n        }\n      }\n\n      var left = 0;\n      var parent = 0;\n\n      for (var _index = 0; _index < this._columns.length; _index++) {\n        if (_index == this._settings.leftSplit || _index == this._rightSplit) left = 0;\n        var leftcolumn = this._columns[_index];\n\n        if (leftcolumn.id == column) {\n          var split_column = _index < this._settings.leftSplit ? 0 : _index >= this._rightSplit ? 2 : 1;\n          parent = this._body.childNodes[split_column].firstChild;\n          break;\n        }\n\n        left += leftcolumn.width;\n      }\n\n      var index$$1 = this.getIndexById(row);\n      var top;\n      if (index$$1 < this._settings.topSplit) top = this._getHeightByIndexSumm(0, index$$1);else {\n        var first = this._render_scroll_top || 0;\n        top = this._getHeightByIndexSumm(first, index$$1) + (this._render_scroll_shift || 0) + (index$$1 >= first ? this._get_top_split_height() : 0);\n      }\n      return {\n        parent: parent,\n        top: top,\n        left: left,\n        width: width,\n        height: height\n      };\n    },\n    _get_top_split_height: function () {\n      return this._settings.topSplit ? this._getHeightByIndexSumm(0, this._settings.topSplit) : 0;\n    },\n    _get_total_height: function () {\n      var pager = this._settings.pager;\n      var start = 0;\n      var max = this.data.order.length;\n\n      if (pager) {\n        start = pager.size * pager.page;\n        max = Math.min(max, start + pager.size);\n\n        if (pager.level) {\n          start = this.data.$min;\n          max = this.data.$max;\n        }\n      }\n\n      return this._getHeightByIndexSumm(start, max);\n    },\n    setRowHeight: function (rowId, height) {\n      if (isNaN(height)) return;\n      height = Math.max(height, this._settings.minRowHeight || 0);\n      height = Math.min(height, this._settings.maxRowHeight || 100000);\n      var item = this.getItem(rowId);\n      var old_height = item.$height || this._settings.rowHeight;\n\n      if (old_height != height) {\n        item.$height = height;\n        this.config.fixedRowHeight = false;\n        this.render();\n        this.callEvent(\"onRowResize\", [rowId, height, old_height]);\n      }\n    },\n    _onscroll_y: function (value) {\n      var scrollChange = this._scrollTop !== value;\n      this._scrollTop = value;\n\n      if (!this._settings.prerender) {\n        this._check_rendered_cols();\n      } else if (env.touch) {\n        this._sync_y_scroll(-value, \"0ms\");\n      } else {\n        var conts = this._body.childNodes;\n\n        for (var i = 0; i < conts.length; i++) {\n          conts[i].scrollTop = value;\n        }\n      }\n\n      if (env.$customScroll) temp$1._update_scroll(this._body);\n\n      if (scrollChange) {\n        this.callEvent(\"onScrollY\", []);\n        this.callEvent(\"onAfterScroll\", []);\n      }\n    },\n    _setLeftScroll: function (value) {\n      this._scrollLeft = value;\n      if (env.touch) return this._sync_x_scroll(-value, \"0ms\");\n      this._body.childNodes[1].scrollLeft = value;\n      if (this._settings.header) this._header.childNodes[1].scrollLeft = value;\n      if (this._settings.footer) this._footer.childNodes[1].scrollLeft = value;\n    },\n    _onscroll_x: function (value) {\n      var scrollChange = this._scrollLeft !== value;\n      if (this._renderDelay) this._delayedLeftScroll = value;else this._setLeftScroll(value);\n      if (!this._settings.prerender) this._check_rendered_cols(true);\n      if (env.$customScroll) temp$1._update_scroll(this._body);\n\n      if (scrollChange) {\n        this.callEvent(\"onScrollX\", []);\n        this.callEvent(\"onAfterScroll\", []);\n      }\n    },\n    _get_x_range: function (full) {\n      if (full) return [0, this._columns.length];\n      var t = this._scrollLeft;\n      var xind = this._settings.leftSplit;\n\n      while (t > 0 && this._columns.length - 1 > xind) {\n        t -= this._columns[xind].width;\n        xind++;\n      }\n\n      var xend = xind;\n      if (t && xind > 0) xind--;\n      t += this._center_width;\n\n      while (t > 0 && xend < this._rightSplit) {\n        t -= this._columns[xend].width;\n        xend++;\n      }\n\n      return [xind, xend];\n    },\n    getVisibleCount: function () {\n      return Math.floor(this._dtable_offset_height / this.config.rowHeight);\n    },\n    //returns info about y-scroll position\n    _get_y_range: function (full) {\n      var t = this._scrollTop;\n      var start = 0;\n      var end = this.count(); //apply pager, if defined\n\n      var pager = this._settings.pager;\n\n      if (pager) {\n        start = pager.page * pager.size;\n        end = Math.min(end, start + pager.size);\n\n        if (pager.level) {\n          start = this.data.$min;\n          end = this.data.$max;\n        }\n      }\n\n      var xind = start + this._settings.topSplit; //in case of autoheight - request full rendering\n\n      if (full || this._settings.autoheight) return [xind, end, 0];\n      var rowHeight = this._settings.fixedRowHeight ? this._settings.rowHeight : 0;\n\n      if (rowHeight) {\n        var dep = Math.ceil(t / rowHeight);\n        t -= dep * rowHeight;\n        xind += dep;\n      } else while (t > 0) {\n        t -= this._getHeightByIndex(xind);\n        xind++;\n      } //how much of the first cell is scrolled out\n\n\n      var xdef = xind > 0 && t ? -(this._getHeightByIndex(xind - 1) + t) : 0;\n      var xend = xind;\n      if (t) xind--;\n      t += (this._dtable_offset_height || this._content_height) - this._get_top_split_height();\n\n      if (rowHeight) {\n        var _dep = Math.ceil(t / rowHeight);\n\n        t -= _dep * rowHeight;\n        xend += _dep;\n      } else {\n        while (t > 0 && xend < end) {\n          t -= this._getHeightByIndex(xend);\n          xend++;\n        }\n      }\n\n      if (xend > end) xend = end;\n      return [xind, xend, xdef];\n    },\n    _repaint_single_row: function (id) {\n      var item = this.getItem(id);\n      var rowindex = this.getIndexById(id);\n\n      var state = this._get_y_range(this._settings.prerender === true);\n\n      var freeze = this._settings.topSplit;\n      var freezeCss = \"\";\n\n      if (rowindex >= freeze) {\n        //row not visible\n        if (rowindex < state[0] || rowindex >= state[1]) return;\n        rowindex -= state[0] - freeze;\n      } else {\n        freezeCss = rowindex == freeze - 1 ? \" webix_topcell webix_last_topcell\" : \" webix_topcell\";\n      } //get visible column\n\n\n      var x_range = this._get_x_range();\n\n      for (var i = 0; i < this._columns.length; i++) {\n        var column = this._columns[i]; //column not visible\n\n        if (i < this._rightSplit && i >= this._settings.leftSplit && (i < x_range[0] || i > x_range[1])) column._yr0 = -999; //ensure that column will not be reused\n\n        if (column.attached && column.node) {\n          var node = column.node.childNodes[rowindex];\n          if (!node) continue;\n\n          var value = this._getValue(item, this._columns[i], 0);\n\n          node.innerHTML = value;\n          node.className = this._getCss(this._columns[i], value, item, id) + freezeCss;\n        }\n      }\n    },\n    _check_rendered_cols: function (x_scroll, force) {\n      if (!this._columns.length || this._renderDelay) return;\n      if (force) this._clearColumnCache();\n\n      var xr = this._get_x_range(this._settings.prerender);\n\n      var yr = this._get_y_range(this._settings.prerender === true);\n\n      if (x_scroll) {\n        for (var i = this._settings.leftSplit; i < xr[0]; i++) {\n          this._hideColumn(i, force);\n        }\n\n        for (var _i5 = xr[1]; _i5 < this._rightSplit; _i5++) {\n          this._hideColumn(_i5, force);\n        }\n      }\n\n      this._render_full_rows = [];\n\n      for (var _i6 = 0; _i6 < this._settings.leftSplit; _i6++) {\n        this._renderColumn(_i6, yr, force);\n      }\n\n      for (var _i7 = xr[0]; _i7 < xr[1]; _i7++) {\n        this._renderColumn(_i7, yr, force, _i7 == xr[0]);\n      }\n\n      for (var _i8 = this._rightSplit; _i8 < this._columns.length; _i8++) {\n        this._renderColumn(_i8, yr, force);\n      }\n\n      this._check_and_render_full_rows(yr[0], yr[1], force);\n\n      this._check_load_next(yr);\n    },\n    _delete_full_rows: function (start, end) {\n      this._rows_cache_start = start;\n      this._rows_cache_end = end;\n      remove(this._rows_cache);\n      this._rows_cache = [];\n    },\n    _adjust_rows: function () {\n      if (this._rows_body && !this._touch_scroll && this._settings.prerender) {\n        var state = this.getScrollState();\n        this._rows_body.style.top = \"-\" + (state.y || 0) + \"px\";\n      }\n    },\n    _check_and_render_full_rows: function (start, end, force) {\n      if (this._rows_body) this._rows_body.style.top = this._render_scroll_shift + \"px\";\n\n      if (!force && start == this._rows_cache_start && end == this._rows_cache_end) {\n        if (this.config.topSplit) {\n          //don't move split rows\n          for (var i = 0; i < this._render_full_rows.length; i++) {\n            var row = this._rows_cache[i];\n\n            if (this._render_full_rows[i].index < this.config.topSplit) {\n              row.style.top = this._render_full_rows[i].top - this._render_scroll_shift + \"px\";\n            }\n          }\n        }\n\n        return;\n      }\n\n      this._delete_full_rows(start, end);\n\n      if (this._render_full_row_some) this._render_full_row_some = false;else return;\n\n      for (var _i9 = 0; _i9 < this._render_full_rows.length; _i9++) {\n        var info = this._render_full_rows[_i9];\n        var item = this.getItem(info.id);\n        var value;\n\n        if (typeof item.$row == \"function\") {\n          value = item.$row.call(this, item, this.type);\n        } else {\n          value = this._getValue(item, this.getColumnConfig(item.$row), _i9);\n        }\n\n        var _row = this._rows_cache[_i9] = create(\"DIV\", null, value);\n\n        _row.className = \"webix_cell \" + (item.$sub ? \"webix_dtable_sub\" + (this._settings.subview ? \"view\" : \"row\") : \"webix_dtable_colrow\" + (item.$row ? \" webix_topcell\" + (this.data.getMark(item.id, \"webix_selected\") ? \" webix_selected\" : \"\") : \"\"));\n\n        _row.setAttribute(\n        /*@attr*/\n        \"column\", 0);\n\n        _row.setAttribute(\n        /*@attr*/\n        \"row\", info.index);\n\n        var height = item.$height || this._settings.rowHeight;\n        if (item.$subopen) _row.style.height = item.$subHeight + \"px\";else _row.style.height = height + \"px\";\n        _row.style.paddingRight = env.scrollSize + \"px\";\n        var topDelta = this._render_full_rows[_i9].index < this.config.topSplit ? -this._render_scroll_shift : 0;\n        _row.style.top = topDelta + info.top + (item.$subopen ? height - 1 : 0) + \"px\";\n\n        if (!this._rows_body) {\n          this._rows_body = create(\"DIV\");\n          this._rows_body.style.position = \"relative\";\n          this._rows_body.style.top = this._render_scroll_shift + \"px\";\n\n          this._body.appendChild(this._rows_body);\n\n          this.attachEvent(\"onSyncScroll\", function (x, y, t) {\n            Touch._set_matrix(this._rows_body, 0, y, t);\n          });\n        }\n\n        this._rows_body.appendChild(_row);\n\n        if (this._settings.subview) this.callEvent(\"onSubViewRender\", [item, _row]);\n      }\n    },\n    _check_load_next: function (yr) {\n      var paging = this._settings.pager;\n      var fetch = this._settings.datafetch;\n      var direction = !this._last_valid_render_pos || yr[0] >= this._last_valid_render_pos;\n      this._last_valid_render_pos = yr[0];\n\n      if (this._data_request_flag) {\n        if (paging && (!fetch || fetch >= paging.size)) if (this._check_rows([0, paging.size * paging.page], Math.max(fetch, paging.size), true)) return this._data_request_flag = null;\n\n        this._run_load_next(this._data_request_flag, direction);\n\n        this._data_request_flag = null;\n      } else {\n        if (this._settings.loadahead) this._check_rows(yr, this._settings.loadahead, direction);\n      }\n    },\n    _check_rows: function (view, count, dir) {\n      var start = view[1];\n      var end = start + count;\n\n      if (!dir) {\n        start = view[0] - count;\n        end = view[0];\n      }\n\n      if (start < 0) start = 0;\n      end = Math.min(end, this.data.order.length - 1);\n      var result = false;\n\n      for (var i = start; i < end; i++) {\n        if (!this.data.order[i]) {\n          if (!result) result = {\n            start: i,\n            count: end - start\n          };else {\n            result.last = i;\n            result.count = i - start;\n          }\n        }\n      }\n\n      if (result) {\n        this._run_load_next(result, dir);\n\n        return true;\n      }\n    },\n    _run_load_next: function (conf, direction) {\n      var count = Math.max(conf.count, this._settings.datafetch || this._settings.loadahead || 0);\n      var start = direction ? conf.start : conf.last - count + 1;\n      if (this._maybe_loading_already(conf.count, conf.start)) return;\n      this.loadNext(count, start);\n    },\n    // necessary for safari only\n    _preserveScrollTarget: function (columnNode) {\n      if (env.isSafari) {\n        var i,\n            node,\n            newNode,\n            scroll,\n            dir = [this._x_scroll, this._y_scroll];\n\n        for (i = 0; i < 2; i++) {\n          scroll = dir[i];\n\n          if (scroll && scroll._scroll_trg && scroll._scroll_trg.parentNode == columnNode) {\n            node = scroll._scroll_trg;\n          }\n        }\n\n        if (node) {\n          if (this._scrollWheelTrg) remove(this._scrollWheelTrg);\n          this._scrollWheelTrg = node;\n          newNode = node.cloneNode(true); // required for _hideColumn\n\n          node.parentNode.insertBefore(newNode, node);\n          this._scrollWheelTrg.style.display = \"none\";\n\n          this._body.appendChild(this._scrollWheelTrg);\n        }\n      }\n    },\n    _hideColumn: function (index$$1) {\n      var col = this._columns[index$$1]; // preserve target node for Safari wheel event\n\n      this._preserveScrollTarget(col.node);\n\n      remove(col.node);\n      col.attached = false;\n    },\n    _clearColumnCache: function () {\n      for (var i = 0; i < this._columns.length; i++) {\n        this._columns[i]._yr0 = -1;\n      }\n\n      if (this._rows_cache.length) {\n        remove(this._rows_cache);\n        this._rows_cache = [];\n      }\n    },\n    getText: function (row_id, column_id) {\n      return this._getValue(this.getItem(row_id), this.getColumnConfig(column_id), 0);\n    },\n    getCss: function (row_id, column_id) {\n      var item = this.getItem(row_id);\n      return this._getCss(this.getColumnConfig(column_id), item[column_id], item, row_id);\n    },\n    _getCss: function (config, value, item, id) {\n      var css = \"webix_cell\";\n\n      if (config.cssFormat) {\n        var per_css = config.cssFormat(value, item, id, config.id);\n\n        if (per_css) {\n          if (_typeof(per_css) == \"object\") css += \" \" + createCss(per_css);else css += \" \" + per_css;\n        }\n      }\n\n      var row_css = item.$css;\n\n      if (row_css) {\n        if (_typeof(row_css) == \"object\") item.$css = row_css = createCss(row_css);\n        css += \" \" + row_css;\n      }\n\n      var mark = this.data._marks[id];\n\n      if (mark) {\n        if (mark.$css) css += \" \" + mark.$css;\n\n        if (mark.$cellCss) {\n          var mark_marker = mark.$cellCss[config.id];\n          if (mark_marker) css += \" \" + mark_marker;\n        }\n      }\n\n      if (item.$cellCss) {\n        var css_marker = item.$cellCss[config.id];\n\n        if (css_marker) {\n          if (_typeof(css_marker) == \"object\") css_marker = createCss(css_marker);\n          css += \" \" + css_marker;\n        }\n      } //cell-selection\n\n\n      var selected = this.data.getMark(item.id, \"webix_selected\");\n      if (selected && (selected.$row || selected[config.id]) || config.$selected) css += this._select_css;\n      return css;\n    },\n    _getValue: function (item, config, i) {\n      if (!item) return \"\";\n      var value;\n      value = item[config.id];\n      if (value === undefined || value === null) value = \"\";\n      if (config.format) value = config.format(value);\n      if (config.template) value = config.template(item, this.type, value, config, i);\n      return value;\n    },\n    //we don't use render-stack, but still need a place for common helpers\n    //so creating a simple \"type\" holder\n    type: {\n      checkbox: function (obj, common, value, config) {\n        var checked = value == config.checkValue ? \"checked=\\\"true\\\"\" : \"\";\n        return \"<input class='webix_table_checkbox' type='checkbox' \" + checked + \">\";\n      },\n      radio: function (obj, common, value, config) {\n        var checked = value == config.checkValue ? \"checked=\\\"true\\\"\" : \"\";\n        return \"<input class='webix_table_radio' type='radio' \" + checked + \">\";\n      },\n      editIcon: function () {\n        return \"<span class='webix_icon wxi-pencil'></span>\";\n      },\n      trashIcon: function () {\n        return \"<span class='webix_icon wxi-trash'></span>\";\n      }\n    },\n    type_setter: function (value) {\n      if (!this.types || !this.types[value]) type(this, value);else {\n        this.type = clone(this.types[value]);\n        if (this.type.css) this._contentobj.className += \" \" + this.type.css;\n      }\n      if (this.type.on_click) exports.extend(this.on_click, this.type.on_click);\n      return value;\n    },\n    _renderColumn: function (index$$1, yr, force, single$$1) {\n      var col = this._columns[index$$1];\n\n      if (!col.attached) {\n        var split_column = index$$1 < this._settings.leftSplit ? 0 : index$$1 >= this._rightSplit ? 2 : 1;\n\n        this._body.childNodes[split_column].firstChild.appendChild(col.node);\n\n        col.attached = true;\n        col.split = split_column;\n      }\n\n      this._render_scroll_top = yr[0];\n      this._render_scroll_shift = 0;\n      this._render_scroll_diff = yr[2]; //if columns not aligned during scroll - set correct scroll top value for each column\n\n      if (this._settings.scrollAlignY) {\n        if (yr[1] == this.data.order.length || this.data.$pagesize && yr[1] % this.data.$pagesize === 0) {\n          col.node.style.top = (this._render_scroll_shift = yr[2]) + \"px\";\n        } else if (col._yr2) col.node.style.top = \"0px\";\n      } else {\n        this._render_scroll_shift = yr[2];\n        col.node.style.top = yr[2] + \"px\";\n      }\n\n      if (!force && col._yr0 == yr[0] && col._yr1 == yr[1] && (!this._settings.topSplit || col._render_scroll_shift == this._render_scroll_shift)) return 0;\n      var html = \"\";\n      var config = this._settings.columns[index$$1];\n      var state = {\n        row: this._settings.rowHeight,\n        total: 0,\n        single: single$$1\n      };\n\n      for (var i = 0; i < this._settings.topSplit; i++) {\n        html += this._render_single_cell(i, config, yr, state, -this._render_scroll_shift, index$$1);\n      } // ignore not available rows in top-split area\n\n\n      this._data_request_flag = null;\n\n      for (var _i10 = Math.max(yr[0], this._settings.topSplit); _i10 < yr[1]; _i10++) {\n        html += this._render_single_cell(_i10, config, yr, state, -1, index$$1);\n      } // preserve target node for Safari wheel event\n\n\n      this._preserveScrollTarget(col.node);\n\n      col.node.innerHTML = html;\n      col._yr0 = yr[0];\n      col._yr1 = yr[1];\n      col._yr2 = yr[2];\n      col._render_scroll_shift = this._render_scroll_shift;\n      return 1;\n    },\n    _render_single_cell: function (i, config, yr, state, top, index$$1) {\n      var id = this.data.order[i];\n      var item = this.data.getItem(id);\n      var html = \"\";\n\n      if (item) {\n        var aria = \" role='gridcell' aria-rowindex='\" + (i + 1) + \"' aria-colindex='\" + (this.getColumnIndex(config.id) + 1) + \"'\" + (item.$count || item.$sub ? \" aria-expanded='\" + (item.open || item.$subopen ? \"true\" : \"false\") + \"'\" : \"\") + (item.$level ? \" aria-level='\" + item.$level + \"'\" : \"\");\n\n        if (state.single && item.$row) {\n          this._render_full_row_some = true;\n\n          this._render_full_rows.push({\n            top: state.total,\n            id: item.id,\n            index: i\n          });\n\n          if (!item.$sub) {\n            var rowHeight = item.$height || state.row;\n            state.total += rowHeight;\n            return \"<div\" + aria + \" class='webix_cell' style='height:\" + rowHeight + \"px;'></div>\";\n          }\n        }\n\n        var value = this._getValue(item, config, i);\n\n        var css = this._getCss(config, value, item, id);\n\n        var ariaSelect = \" aria-selected='true' tabindex='0'\";\n\n        if (css.indexOf(\"select\") !== -1) {\n          //in case of row/column selection - make only first cell focusable\n          if (css.indexOf(\"row\") !== -1) {\n            var xr = this._get_x_range();\n\n            if (xr[0] === index$$1) aria += ariaSelect;\n          } else if (css.indexOf(\"col\") !== -1) {\n            if (i === yr[0]) aria += ariaSelect;\n          } else aria += ariaSelect;\n        }\n\n        var isOpen = !!item.$subopen;\n        var margin = isOpen ? \"margin-bottom:\" + item.$subHeight + \"px;\" : \"\";\n\n        if (top >= 0) {\n          if (top > 0) margin += \"top:\" + top + \"px;'\";\n          css = \"webix_topcell \" + css;\n          if (i == this._settings.topSplit - 1) css = \"webix_last_topcell \" + css;\n        }\n\n        if (item.$height) {\n          html = \"<div\" + aria + \" class='\" + css + \"' style='height:\" + item.$height + \"px;\" + margin + \"'>\" + value + \"</div>\";\n          state.total += item.$height - state.row;\n        } else {\n          html = \"<div\" + aria + \" class='\" + css + \"'\" + (margin ? \" style='\" + margin + \"'\" : \"\") + \">\" + value + \"</div>\";\n        }\n\n        if (isOpen) state.total += item.$subHeight;\n      } else {\n        html = \"<div role='gridcell' class='webix_cell'></div>\";\n        if (!this._data_request_flag) this._data_request_flag = {\n          start: i,\n          count: yr[1] - i\n        };else this._data_request_flag.last = i;\n      }\n\n      state.total += state.row;\n      return html;\n    },\n    _set_split_sizes_y: function () {\n      if (!this._columns.length || isNaN(this._content_height * 1)) return;\n      debug_size_box(this, [\"y-sizing\"], true);\n      var wanted_height = this._dtable_height + (this._scrollSizeX ? this._scrollSizeX : 0);\n      if ((this._settings.autoheight || this._settings.yCount) && this.resize()) return;\n\n      this._y_scroll.sizeTo(this._content_height, this._header_height, this._footer_height);\n\n      this._y_scroll.define(\"scrollHeight\", wanted_height);\n\n      this._dtable_offset_height = Math.max(0, this._content_height - this._scrollSizeX - this._header_height - this._footer_height);\n\n      for (var i = 0; i < 3; i++) {\n        this._body.childNodes[i].style.height = this._dtable_offset_height + \"px\";\n        if (this._settings.prerender) this._body.childNodes[i].firstChild.style.height = this._dtable_height + \"px\";else this._body.childNodes[i].firstChild.style.height = this._dtable_offset_height + \"px\";\n      } //prevent float overflow, when we have split and very small\n\n\n      this._header.style.height = this._header_height + \"px\";\n    },\n    _set_split_sizes_x: function () {\n      if (!this._columns.length) return;\n      var index$$1 = 0;\n      this._left_width = 0;\n      this._right_width = 0;\n      this._center_width = 0;\n\n      while (index$$1 < this._settings.leftSplit) {\n        this._left_width += this._columns[index$$1].width;\n        index$$1++;\n      }\n\n      index$$1 = this._columns.length - 1;\n\n      while (index$$1 >= this._rightSplit) {\n        this._right_width += this._columns[index$$1].width;\n        index$$1--;\n      }\n\n      if (!this._content_width) return;\n      if (this._settings.autowidth && this.resize()) return;\n      this._center_width = this._content_width - this._right_width - this._left_width - this._scrollSizeY;\n      this._body.childNodes[1].firstChild.style.width = this._dtable_width + \"px\";\n      this._body.childNodes[0].style.width = this._left_width + \"px\";\n      this._body.childNodes[1].style.width = this._center_width + \"px\";\n      this._body.childNodes[2].style.width = this._right_width + \"px\";\n      this._header.childNodes[0].style.width = this._left_width + \"px\";\n      this._header.childNodes[1].style.width = this._center_width + \"px\";\n      this._header.childNodes[2].style.width = this._right_width + \"px\";\n      this._footer.childNodes[0].style.width = this._left_width + \"px\";\n      this._footer.childNodes[1].style.width = this._center_width + \"px\";\n      this._footer.childNodes[2].style.width = this._right_width + \"px\";\n      var delta = this._center_width - this._dtable_width;\n      if (delta < 0) delta = 0; //negative header space has not sense\n\n      if (delta != this._header_fix_width) {\n        this._header_fix_width = delta;\n\n        this._size_header_footer_fix();\n      }\n\n      this._x_scroll.sizeTo(this._content_width - this._scrollSizeY);\n\n      this._x_scroll.define(\"scrollWidth\", this._dtable_width + this._left_width + this._right_width);\n    },\n    $getSize: function (dx, dy) {\n      if ((this._settings.autoheight || this._settings.yCount) && this._settings.columns) {\n        //if limit set - use it\n        var desired = (this._settings.yCount || 0) * this._settings.rowHeight; //else try to use actual rendered size\n        //if component invisible - this is not valid, so fallback to all rows\n\n        if (!desired) desired = this.isVisible() ? this._dtable_height : this.count() * this._settings.rowHeight; //add scroll and check minHeight limit\n\n        this._settings.height = Math.max(desired + (this._scrollSizeX ? this._scrollSizeX : 0) - 1, this._settings.minHeight || 0) + this._header_height + this._footer_height;\n      }\n\n      if (this._settings.autowidth && this._settings.columns) this._settings.width = Math.max(this._dtable_width + this._left_width + this._right_width + this._scrollSizeY, this._settings.minWidth || 0);\n      var minwidth = this._left_width + this._right_width + this._scrollSizeY;\n      var sizes = base$1.api.$getSize.call(this, dx, dy);\n      sizes[0] = Math.max(sizes[0] || minwidth);\n      return sizes;\n    },\n    _restore_scroll_state: function () {\n      if (this._x_scroll) {\n        var state = this.getScrollState();\n        this._x_scroll.config.scrollPos = this._y_scroll.config.scrollPos = -1;\n        this.scrollTo(state.x, state.y);\n      }\n    },\n    $setSize: function () {\n      var oldw = this._content_width;\n      var oldh = this._content_height;\n\n      if (base$1.api.$setSize.apply(this, arguments)) {\n        if (this._dtable_fully_ready) {\n          this.callEvent(\"onResize\", [this._content_width, this._content_height, oldw, oldh]);\n\n          this._set_split_sizes_x();\n\n          this._set_split_sizes_y();\n        }\n\n        this.render();\n      }\n    },\n    _on_header_click: function (column, e) {\n      var col = this.getColumnConfig(column);\n      if (!this._settings.sort || !col.sort) return;\n      var dir = \"asc\";\n\n      if (this._last_sorted[col.id]) {\n        dir = this._last_sorted[col.id].dir == \"asc\" ? \"desc\" : \"asc\";\n      } else if (this._sort_signs[col.id]) {\n        dir = this._sort_signs[col.id].getAttribute(\"webix_sort_dir\") == \"asc\" ? \"desc\" : \"asc\";\n      }\n\n      this._sort(col.id, dir, col.sort, e.ctrlKey || e.metaKey);\n    },\n    markSorting: function (column, direction, preserve) {\n      direction = direction || \"asc\";\n\n      if (!preserve) {\n        this._sort_signs_order = [];\n\n        for (var i in this._sort_signs) {\n          if (i !== column) {\n            var parent = this._sort_signs[i].parentNode;\n\n            if (parent) {\n              parent.removeAttribute(\"aria-sort\");\n              parent.removeAttribute(\"tabindex\");\n            }\n\n            remove(this._sort_signs[i]);\n            delete this._sort_signs[i];\n          } else {\n            this._sort_signs_order.push(i);\n\n            this._sort_signs[i].firstChild.innerHTML = \"1\";\n          }\n        }\n      }\n\n      if (!column) return;\n\n      if (this._sort_signs[column]) {\n        this._sort_signs[column].className = \"webix_ss_sort_\".concat(direction);\n      } else {\n        var sign = create(\"div\", {\n          webix_sort_dir: direction,\n          class: \"webix_ss_sort_\".concat(direction)\n        }, \"<div class=\\\"webix_ss_sort_num\\\">\".concat(this._sort_signs_order.length + 1, \"</div>\"));\n\n        this._render_single_mark(column, sign, direction);\n\n        this._sort_signs[column] = sign;\n\n        this._sort_signs_order.push(column);\n      }\n\n      var first = this._sort_signs[this._sort_signs_order[0]];\n\n      switch (this._sort_signs_order.length) {\n        case 1:\n          addCss(first, \"webix_ss_sort_single\");\n          break;\n\n        case 2:\n          removeCss(first, \"webix_ss_sort_single\");\n      }\n    },\n    _render_single_mark: function (column, sign, direction) {\n      direction = direction || sign.getAttribute(\"webix_sort_dir\");\n\n      var cell = this._get_header_cell(this.getColumnIndex(column));\n\n      if (cell) {\n        if (cell.style.position != \"absolute\") cell.style.position = \"relative\";\n        cell.appendChild(sign);\n        cell.setAttribute(\"aria-sort\", direction + \"ending\");\n        cell.setAttribute(\"tabindex\", \"0\");\n      }\n    },\n    scroll_setter: function (mode) {\n      if (typeof mode == \"string\") {\n        this._settings.scrollX = mode.indexOf(\"x\") != -1;\n        this._settings.scrollY = mode.indexOf(\"y\") != -1;\n        return mode;\n      } else return this._settings.scrollX = this._settings.scrollY = mode;\n    },\n    _get_header_cell: function (column) {\n      var attr =\n      /*@attr*/\n      \"column\";\n\n      var cells = this._header.querySelectorAll(\"div[\".concat(attr, \"=\\\"\").concat(column, \"\\\"]\"));\n\n      var maybe = null;\n\n      for (var i = 0; i < cells.length; i++) {\n        var activeId = cells[i].getAttribute(\n        /*@attr*/\n        \"active_id\");\n        if (activeId && !datafilter[this._active_headers[activeId].content].$icon) return null;\n        if (!cells[i].innerHTML) continue;\n        maybe = cells[i];\n        if ((cells[i].colSpan || 0) < 2) return maybe;\n      }\n\n      return maybe;\n    },\n    _last_order: [],\n    _last_sorted: {},\n    _sort: function (col_id, direction, type$$1, preserve) {\n      var _this3 = this;\n\n      preserve = this._settings.sort === \"multi\" && preserve;\n      direction = direction || \"asc\";\n\n      if (!preserve) {\n        this._last_order = [];\n        this._last_sorted = {};\n      }\n\n      var col = this.getColumnConfig(col_id);\n      var config = typeof col.sort == \"function\" ? {\n        as: col.sort,\n        dir: direction\n      } : {\n        by: col.id,\n        dir: direction,\n        as: col.sort\n      };\n      if (!this._last_sorted[col.id]) this._last_order.push(col.id);\n      this._last_sorted[col.id] = config;\n\n      if (type$$1 == \"server\") {\n        var params = [col.id, direction, type$$1];\n        if (this._last_order.length > 1) params = [this._last_order.map(function (id) {\n          return _this3._last_sorted[id];\n        })];\n        this.callEvent(\"onBeforeSort\", params);\n        if (!this._skip_server_op) this.loadNext(0, 0, 0, 0, true, true).then(function () {\n          return _this3._on_after_sort(params);\n        });else this._skip_server_op.$params = params; // save last parameters\n      } else {\n        if (type$$1 == \"text\") {\n          var new_id = \"$text_\" + col.id;\n          this.data.each(function (obj) {\n            obj[new_id] = this.getText(obj.id, col.id);\n          }, this);\n          config.as = \"string\";\n          config.by = new_id;\n        }\n\n        if (this._last_order.length > 1) this.data.sort(this._last_order.map(function (id) {\n          return _this3._last_sorted[id];\n        }));else this.data.sort(config);\n      }\n\n      this.markSorting(col.id, config.dir, preserve);\n    },\n    _on_after_sort: function (params) {\n      this.callEvent(\"onAfterSort\", params);\n    },\n    _mouseEventCall: function (css_call, e, id, trg) {\n      var functor, i, res;\n\n      if (css_call.length) {\n        for (i = 0; i < css_call.length; i++) {\n          functor = toFunctor(css_call[i], this.$scope);\n          res = functor.call(this, e, id, trg);\n          if (res === false) return false;\n        }\n      }\n    },\n    //because we using non-standard rendering model, custom logic for mouse detection need to be used\n    _mouseEvent: function (e, hash, name, pair) {\n      var trg = e.target;\n      if (this._settings.subview && this != $$(trg)) return; //define some vars, which will be used below\n\n      var css = \"\",\n          css_call = [],\n          found = false,\n          id = null,\n          res; //loop through all parents\n\n      while (trg && trg.parentNode && trg != this._viewobj.parentNode) {\n        var trgCss = _getClassName(trg);\n\n        if ((css = trgCss) && hash) {\n          css = css.toString().split(\" \");\n\n          for (var i = css.length - 1; i >= 0; i--) {\n            if (hash[css[i]]) css_call.push(hash[css[i]]);\n          }\n        }\n\n        if (trg.parentNode.getAttribute && !id) {\n          var column = trg.parentNode.getAttribute(\n          /*@attr*/\n          \"column\") || trg.getAttribute(\n          /*@attr*/\n          \"column\");\n\n          if (column) {\n            //we need to ignore TD - which is header|footer\n            var isBody = this._body.contains(trg); //column already hidden or removed\n\n\n            if (!this._columns[column]) return;\n            found = true;\n\n            if (isBody) {\n              var index$$1 = trg.parentNode.getAttribute(\n              /*@attr*/\n              \"row\") || trg.getAttribute(\n              /*@attr*/\n              \"row\");\n\n              if (!index$$1) {\n                //click event occurs on column holder, we can't detect cell\n                if (trg.getAttribute(\n                /*@attr*/\n                \"column\")) return;\n                index$$1 = index(trg);\n\n                if (index$$1 >= this._settings.topSplit) {\n                  var pager = this._settings.pager;\n                  if (pager || !this._settings.prerender && !this._settings.autoheight) index$$1 += this._columns[column]._yr0 - this._settings.topSplit;\n                }\n              }\n\n              this._item_clicked = id = {\n                row: this.data.order[index$$1],\n                column: this._columns[column].id\n              };\n              id.toString = this._id_to_string;\n            } else this._item_clicked = id = {\n              column: this._columns[column].id\n            }; //some custom css handlers was found\n\n\n            res = this._mouseEventCall(css_call, e, id, trg);\n            if (res === false) return; //call inner handler\n\n            if (isBody) {\n              if (this.callEvent(\"on\" + name, [id, e, trg]) && pair) {\n                this.callEvent(\"on\" + pair, [id, e, trg]);\n              }\n            } else if (name == \"ItemClick\") {\n              var isHeader = this._header.contains(trg);\n\n              if (isHeader && this.callEvent(\"onHeaderClick\", [id, e, trg])) this._on_header_click(id.column, e);\n            }\n\n            css_call = [];\n          }\n        }\n\n        trg = trg.parentNode;\n      }\n\n      this._mouseEventCall(css_call, e, id, this.$view);\n\n      return found; //returns true if item was located and event was triggered\n    },\n    _get_tooltip_data: function (t, e) {\n      var id = this.locate(e);\n      if (!id) return null;\n      var tooltip = TooltipControl._tooltip;\n      var data;\n\n      if (id.header) {\n        var node = e.target;\n        var section = node;\n        var pos$$1;\n        var cind = id.cind - (id.span ? id.span - 1 : 0);\n        var rind = -1;\n\n        while (section && !pos$$1) {\n          section = section.parentNode;\n          pos$$1 = section.getAttribute(\"section\");\n        }\n\n        while (node && rind < 0) {\n          var row = node.getAttribute(\"row\");\n          if (row) rind = row;\n          node = node.parentNode;\n        }\n\n        var config = this._columns[cind][pos$$1][rind];\n        if (config.tooltip) tooltip.type.template = template(config.tooltip === true ? \"#text#\" : config.tooltip);else return null;\n        data = config;\n      } else {\n        var _config = tooltip.type.column = this.getColumnConfig(id.column); //empty tooltip - ignoring\n\n\n        if (!_config.tooltip && _config.tooltip !== undefined) return null;\n\n        if (_config.tooltip === true || !_config.tooltip && isUndefined(this._settings.tooltip.template)) {\n          data = this.getText(id.row, id.column).toString();\n        } else if (_config.tooltip) {\n          var area = e.target.getAttribute(\"webix_area\");\n\n          if (area) {\n            tooltip.type.template = function (obj, common) {\n              var values = obj[_config.id];\n              return template(_config.tooltip).call(this, obj, common, values[area], area);\n            };\n          } else tooltip.type.template = template(_config.tooltip);\n        } else tooltip.type.template = template(this._settings.tooltip.template);\n      }\n\n      return data !== undefined ? data : this.getItem(id.row);\n    },\n    $tooltipOut: function () {\n      TooltipControl._hide_tooltip();\n\n      delete TooltipControl._tooltip.type.column;\n      return null;\n    },\n    showOverlay: function (message) {\n      if (!this._datatable_overlay) {\n        var t = create(\"DIV\", {\n          \"class\": \"webix_overlay\"\n        }, \"\");\n\n        this._body.appendChild(t);\n\n        this._datatable_overlay = t;\n      }\n\n      this._datatable_overlay.innerHTML = message;\n    },\n    hideOverlay: function () {\n      if (this._datatable_overlay) {\n        remove(this._datatable_overlay);\n        this._datatable_overlay = null;\n      }\n    },\n    mapCells: function (startrow, startcol, numrows, numcols, callback, getOnly) {\n      if (startrow === null && this.data.order.length > 0) startrow = this.data.order[0];\n      if (startcol === null) startcol = this.columnId(0);\n      if (numrows === null) numrows = this.data.order.length;\n      if (numcols === null) numcols = this._settings.columns.length;\n      if (!this.exists(startrow)) return;\n      startrow = this.getIndexById(startrow);\n      startcol = this.getColumnIndex(startcol);\n      if (startcol === null) return;\n\n      for (var i = 0; i < numrows && startrow + i < this.data.order.length; i++) {\n        var row_ind = startrow + i;\n        var row_id = this.data.order[row_ind];\n\n        if (row_id) {\n          //dyn loading\n          var item = this.getItem(row_id);\n\n          for (var j = 0; j < numcols && startcol + j < this._settings.columns.length; j++) {\n            var col_ind = startcol + j;\n            var col_id = this.columnId(col_ind);\n            var result = callback(item[col_id], row_id, col_id, i, j);\n            if (!getOnly) item[col_id] = result;\n          }\n        }\n      }\n    },\n    _call_onparse: function (driver, data) {\n      if (!this._settings.columns && driver.getConfig) this.define(\"columns\", driver.getConfig(data));\n    },\n    _autoDetectConfig: function () {\n      var test = this.getItem(this.getFirstId());\n      var res = this._settings.columns = [];\n\n      for (var key in test) {\n        if (key != \"id\" && key[0] != \"$\") res.push({\n          id: key,\n          header: key[0].toUpperCase() + key.substr(1),\n          sort: \"string\",\n          editor: \"text\"\n        });\n      }\n\n      if (res.length) res[0].fillspace = true;\n      if (typeof this._settings.select == \"undefined\") this.define(\"select\", \"row\");\n    }\n  }; // #include ui/datatable/datatable_filter.js\n  // #include ui/datatable/datatable_selection.js\n  // #include ui/datatable/datatable_blockselect.js\n  // #include ui/datatable/datatable_resize.js\n  // #include ui/datatable/datatable_paging.js\n  // #include ui/datatable/datatable_clipboard.js\n  // #include ui/datatable/datatable_state.js\n  // #include ui/datatable/datatable_touch.js\n  // #include ui/datatable/datatable_size.js\n  // #include ui/datatable/datatable_math.js\n  // #include ui/datatable/datatable_edit.js\n  // #include ui/datatable/datatable_columns.js\n  // #include ui/datatable/datatable_keynav.js\n  // #include ui/datatable/datatable_dnd.js\n  // #include ui/datatable/datatable_validation.js\n  // #include ui/datatable/datatable_sparklines.js\n  // #include ui/datatable/datatable_print.js\n  // #include ui/datatable/datatable_export.js\n\n  var view$1h = exports.protoUI(api$1h, temp$3, DataState, TablePaste, DataMove, EditAbility, KeysNavigation, PagingAbility, CustomPrint, Mixin$c, ValidateCollection, Mixin$b, Mixin$d, DragItem, Mixin$a, Mixin$9, Mixin$8, Mixin$7, Mixin$6, temp$4, Mixin$5, Mixin$4, Mixin$3, temp$5, Mixin$2, Mixin$1, Mixin, temp$6, temp$7, AutoTooltip, Group, DataMarks, DataLoader, MouseEvents, MapCollection, base$1.view, EventSystem, Settings);\n  var datatable = {\n    api: api$1h,\n    view: view$1h\n  };\n\n  var api$1i = {\n    name: \"treetable\",\n    $init: function () {\n      exports.extend(this.data, TreeStore, true);\n      exports.extend(this.type, TreeType);\n      exports.extend(this, TreeDataMove, true);\n\n      for (var key in TreeClick) {\n        if (!this.on_click[key]) this.on_click[key] = this._unwrap_id(TreeClick[key]);\n      }\n\n      this.type.treetable = template(\"{common.space()}{common.icon()} {common.folder()}\");\n\n      this.type.treecheckbox = function (obj) {\n        if (obj.indeterminate && !obj.nocheckbox) return \"<div class='webix_tree_checkbox webix_indeterminate'></div>\";else return TreeType.checkbox.apply(this, arguments);\n      };\n\n      this.data.provideApi(this, true);\n\n      this._viewobj.setAttribute(\"role\", \"treegrid\");\n    },\n    _drag_order_complex: false,\n    _unwrap_id: function (original) {\n      return function (e, id) {\n        id = id.row;\n        return original.call(this, e, id);\n      };\n    },\n    _close_branches: function (context) {\n      var source = !this._settings.prerender ? [context.start] : context.source;\n\n      for (var i = 0; i < source.length; i++) {\n        this.close(source[i]);\n      }\n    },\n    getState: function () {\n      var state = DataState.getState.call(this);\n      exports.extend(state, TreeAPI.getState.call(this));\n      return state;\n    },\n    setState: function (state) {\n      if (TreeAPI.setState.call(this, state)) {\n        //run grid-state only when tree component was fully loaded \n        DataState.setState.call(this, state);\n      }\n    },\n    clipboard_setter: function (value) {\n      exports.extend(this._paste, TreeTablePaste);\n      return TablePaste.clipboard_setter.call(this, value);\n    },\n    _run_load_next: function (conf, direction) {\n      var start = conf.start;\n\n      for (var i = 0; i < start; i++) {\n        var id = this.data.order[i];\n        if (id && this.getItem(id).$level != 1) conf.start--;\n      }\n\n      return datatable.api._run_load_next.call(this, conf, direction);\n    }\n  };\n  var view$1i = exports.protoUI(api$1i, TreeAPI, TreeStateCheckbox, TreeDataLoader, datatable.view);\n\n  exports.protoUI({\n    name: \"filter\",\n    defaults: {\n      template: \"GPL version doesn't support filter <br> You need Webix PRO\"\n    }\n  }, template$1.view);\n\n  /* eslint no-constant-condition: 0 */\n\n  /* eslint no-inner-declarations: 0 */\n\n  {\n    var get_inspector_config = function (view) {\n      var values = {};\n      var options = [];\n      view = $$(view);\n\n      for (var key in view.config) {\n        if (ignore[key]) continue;\n        if (_typeof(view.config[key]) == \"object\") continue;\n        if (typeof view.config[key] == \"undefined\") continue;\n        if (typeof view.config[key] == \"function\") continue;\n        if (key == \"view\" || key == \"id\") options.push({\n          label: key,\n          id: key\n        });else options.push({\n          label: key,\n          type: \"text\",\n          id: key\n        });\n        if (view.defaults[key] == view.config[key]) options[options.length - 1].css = {\n          \"color\": \"#888\"\n        };\n        values[key] = view.config[key];\n      }\n\n      options.sort(function (a, b) {\n        if (!a.css && b.css) return -1;\n        if (a.css && !b.css) return 1;\n        return a.id > b.id ? 1 : a.id == b.id ? 0 : -1;\n      });\n      return {\n        elements: options,\n        data: values,\n        head: \" [\" + view.name + \"] <strong>\" + view._settings.id + \"</strong>\"\n      };\n    };\n\n    var create_inspector = function () {\n      if (!$$(\"webix_debug_inspector_win\")) ui({\n        id: \"webix_debug_inspector_win\",\n        view: \"window\",\n        top: 2,\n        left: 0,\n        width: 350,\n        height: 350,\n        head: false,\n        autofit: false,\n        body: {\n          cols: [{\n            width: 10\n          }, {\n            type: \"clean\",\n            rows: [{\n              view: \"toolbar\",\n              elements: [{\n                view: \"label\",\n                value: \"\",\n                id: \"webix_debug_inspector_head\"\n              }, {\n                view: \"button\",\n                width: 100,\n                value: \"Hide\",\n                type: \"custom\",\n                click: function () {\n                  show_inspector();\n                }\n              }]\n            }, {\n              id: \"webix_debug_inspector\",\n              nameWidth: 150,\n              view: \"property\",\n              scroll: \"y\",\n              elements: [],\n              on: {\n                onaftereditstop: function (state, editor) {\n                  if (state.old == state.value) return;\n                  var value = state.value;\n\n                  if (value === \"true\" || value === \"false\") {\n                    value = value === \"true\";\n                  } else {\n                    var intvalue = parseInt(value, 10);\n                    if (intvalue == value) value = intvalue;\n                  }\n\n                  var view = $$(this.config.view);\n                  view.define(editor.id, value);\n                  if (view.refreshColumns) view.refreshColumns();else if (view.refresh) view.refresh();\n                  view.resize();\n                }\n              }\n            }]\n          }]\n        }\n      });\n    };\n\n    var show_inspector = function (view, ev) {\n      create_inspector();\n      var win = $$(\"webix_debug_inspector_win\");\n\n      if (view) {\n        var config = get_inspector_config(view);\n        var winx = document.body.offsetWidth;\n        var winy = document.body.offsetHeight;\n        var pos$$1 = ev ? pos(ev) : {\n          x: 0,\n          y: 0\n        };\n        win.define(\"height\", Math.max(350, winy - 4));\n        win.resize();\n        var props = $$(\"webix_debug_inspector\");\n        props.define(\"elements\", config.elements);\n        props.define(\"view\", view);\n        win.show({\n          x: pos$$1.x > winx / 2 ? 0 : winx - 370,\n          y: 0\n        });\n        $$(\"webix_debug_inspector\").setValues(config.data);\n        $$(\"webix_debug_inspector_head\").setValue(config.head);\n      } else win.hide();\n    };\n\n    var infi = function (value) {\n      if (value >= 100000) return \"Any\";\n      return value;\n    };\n\n    var log_level = function (data, prefix, now) {\n      window.console.log((data == now ? \">>\" : \"  \") + prefix + data.name + \" / \" + data.config.id);\n      prefix += \"  \";\n      if (data._cells) for (var i = 0; i < data._cells.length; i++) {\n        log_level(data._cells[i], prefix, now);\n      }\n      if (data._head_cell) log_level(data._head_cell, prefix, now);\n      if (data._body_cell) log_level(data._body_cell, prefix, now);\n    };\n\n    attachEvent(\"onLoadError\", function (xhttp, owner) {\n      var text; //xhttp can be of blob or arraybuffer type, or just empty in case of no data\n\n      try {\n        text = xhttp.responseText;\n      } catch (e) {\n        text = \"\";\n      }\n\n      text = text || \"[EMPTY DATA]\";\n      var error_text = \"Data loading error, check console for details\";\n      if (text.indexOf(\"<?php\") === 0) error_text = \"PHP support missed\";else if (text.indexOf(\"WEBIX_ERROR:\") === 0) error_text = text.replace(\"WEBIX_ERROR:\", \"\");\n      message({\n        type: \"debug\",\n        text: error_text,\n        expire: -1\n      });\n\n      if (window.console) {\n        var logger = window.console;\n        logger.log(\"Data loading error\");\n        logger.log(\"Object:\", owner);\n        logger.log(\"Response:\", text);\n        if (xhttp) logger.log(\"XHTTP:\", xhttp);\n      }\n    });\n    ready(function () {\n      var path = document.location.href;\n\n      if (path.indexOf(\"file:\") === 0) {\n        message({\n          type: \"error\",\n          text: \"Please open sample by http,<br>not as file://\",\n          expire: -1\n        });\n      }\n    });\n    var ignore = {\n      \"_inner\": true,\n      \"awidth\": true,\n      \"cheight\": true,\n      \"bheight\": true,\n      \"aheight\": true\n    };\n    var uiConfig = {\n      view: \"contextmenu\",\n      id: \"webix:debugmenu\",\n      on: {\n        onBeforeShow: function (e) {\n          if (!e.ctrlKey) return false;\n          var view = locate(e,\n          /*@attr*/\n          \"view_id\");\n          if (!view) return false;\n          this.config.lastTarget = view;\n          blockEvent();\n          delay(function () {\n            unblockEvent();\n          });\n        },\n        onShow: function () {\n          var view = $$(this.config.lastTarget);\n          var info = \"<span style='color:#888'>\" + view._settings.id + \"<sup style='float:right'>[\" + view.name + \"]</sup></span>\";\n          document.getElementById(\"webix_debug_cmx\").innerHTML = info;\n        }\n      },\n      data: [\"<div id='webix_debug_cmx'></div>\", {\n        id: \"inspect\",\n        value: \"Inspect\"\n      }, {\n        id: \"docs\",\n        value: \"Documentation\"\n      }, {\n        value: \"Log to Console\",\n        submenu: [{\n          id: \"size\",\n          value: \"Sizes\"\n        }, {\n          id: \"tree\",\n          value: \"Tree\"\n        }, {\n          id: \"dump\",\n          value: \"Dump\"\n        }]\n      }],\n      click: function (id, ev) {\n        //mixing two object result in confusion\n        var obj = $$(this.config.lastTarget);\n\n        if (id == \"dump\") {\n          window.console.info(\"\\n\" + obj.name + \" / \" + obj.config.id);\n          window.console.log(\"\\nView: \", obj, \", Config: \", obj.config, \", Data: \", obj.data);\n          window.console.log(obj.$view);\n        }\n\n        if (id == \"tree\") {\n          var now = obj;\n\n          while (obj.getParentView()) {\n            obj = obj.getParentView();\n          }\n\n          window.console.log(\"\");\n          log_level(obj, \"\", now);\n        }\n\n        if (id == \"size\") {\n          window.console.info(\"\");\n          window.console.info(\"\\n\" + obj.name + \" / \" + obj.config.id);\n          window.console.info(\"\\n[min]   \", obj.config.width, \" x \", obj.config.height);\n          var sizes = obj.$getSize(0, 0);\n          window.console.info(\"[max]    \", infi(sizes[1]), \" x \", infi(sizes[3]) + (obj.config.autoheight ? \", auto height\" : \"\"));\n          window.console.info(\"[gravity]   \", obj.config.gravity);\n          window.console.info(\"\\n[content]    \", obj._content_width, \" x \", obj._content_height);\n          window.console.info(\"[last set]   \", obj._last_size[0], \" x \", obj._last_size[1]);\n          if (obj._settings._inner) window.console.info(\"\\n[borders]   \", \"left:\", !obj._settings._inner.left, \"\\ttop:\", !obj._settings._inner.top, \"\\tright:\", !obj._settings._inner.right, \"\\tbottom:\", !obj._settings._inner.bottom);else window.console.info(\"\\n[borders]   none\");\n        }\n\n        if (id == \"docs\") window.open(\"http://docs.webix.com/api__refs__ui.\" + obj.name + \".html\", \"__blank\");\n\n        if (id == \"inspect\") {\n          show_inspector(this.config.lastTarget, ev);\n        }\n      }\n    };\n    ready(function () {\n      uiConfig.master = document.body;\n      ui(uiConfig);\n    });\n  }\n\n  var DataRecord = exports.proto({\n    name: \"DataRecord\",\n    isVisible: function () {\n      return true;\n    },\n    $init: function (config) {\n      this.data = config || {};\n      var id = config && config.id ? config.id : uid();\n      this._settings = {\n        id: id\n      };\n      ui.views[id] = this;\n    },\n    getValues: function () {\n      return this.data;\n    },\n    setValues: function (data, update, config) {\n      this.data = update ? exports.extend(this.data, data, true) : data;\n      this.callEvent(\"onChange\", [data, config]);\n    },\n    refresh: function () {\n      this.callEvent(\"onBindRequest\");\n    }\n  }, EventSystem, BaseBind, AtomDataLoader, Settings);\n\n  var DataValue = exports.proto({\n    name: \"DataValue\",\n    isVisible: function () {\n      return true;\n    },\n    $init: function (config) {\n      if (!config || isUndefined(config.value)) this.data = config || \"\";\n      var id = config && config.id ? config.id : uid();\n      this._settings = {\n        id: id\n      };\n      ui.views[id] = this;\n    },\n    setValue: function (value, config) {\n      this.data = value;\n      this.callEvent(\"onChange\", [value, config]);\n    },\n    getValue: function () {\n      return this.data;\n    },\n    refresh: function () {\n      this.callEvent(\"onBindRequest\");\n    }\n  }, EventSystem, BaseBind);\n\n  var TreeCollection = exports.proto({\n    name: \"TreeCollection\",\n    $init: function () {\n      exports.extend(this.data, TreeStore, true);\n      this.data.provideApi(this, true);\n      exports.extend(this, TreeDataMove, true);\n    }\n  }, TreeDataLoader, DataCollection);\n\n  //----------------\n\n  exports.Date = wDate;\n  exports.Number = Number$1;\n  exports.promise = Deferred;\n  exports.DataCollection = DataCollection;\n  exports.DataRecord = DataRecord;\n  exports.DataValue = DataValue;\n  exports.TreeCollection = TreeCollection;\n  exports.AtomDataLoader = AtomDataLoader;\n  exports.AtomRender = AtomRender;\n  exports.AutoScroll = AutoScroll;\n  exports.AutoTooltip = AutoTooltip;\n  exports.BaseBind = BaseBind;\n  exports.BindSource = BindSource;\n  exports.Canvas = Canvas;\n  exports.CodeParser = CodeParser;\n  exports.CollectionBind = CollectionBind;\n  exports.ContextHelper = ContextHelper;\n  exports.CopyPaste = CopyPaste;\n  exports.CustomPrint = CustomPrint;\n  exports.CustomScroll = temp$1;\n  exports.DataMarks = DataMarks;\n  exports.DataMove = DataMove;\n  exports.DataLoader = DataLoader;\n  exports.DataState = DataState;\n  exports.DataStore = DataStore;\n  exports.Destruction = Destruction;\n  exports.DragControl = DragControl;\n  exports.DragItem = DragItem;\n  exports.DragOrder = DragOrder;\n  exports.EditAbility = EditAbility;\n  exports.EventSystem = EventSystem;\n  exports.FlexLayout = FlexLayout;\n  exports.Group = Group;\n  exports.GroupMethods = GroupMethods;\n  exports.GroupStore = GroupStore;\n  exports.HTMLOptions = HTMLOptions;\n  exports.HtmlMap = HtmlMap;\n  exports.IdSpace = IdSpace;\n  exports.KeysNavigation = KeysNavigation;\n  exports.MapCollection = MapCollection;\n  exports.Modality = Modality;\n  exports.MouseEvents = MouseEvents;\n  exports.Movable = Movable;\n  exports.NavigationButtons = NavigationButtons;\n  exports.OverlayBox = OverlayBox;\n  exports.PagingAbility = PagingAbility;\n  exports.ProgressBar = ProgressBar;\n  exports.RecordBind = RecordBind;\n  exports.RenderStack = RenderStack;\n  exports.ResizeArea = ResizeArea;\n  exports.SingleRender = SingleRender;\n  exports.Scrollable = Scrollable;\n  exports.SelectionModel = SelectionModel;\n  exports.Settings = Settings;\n  exports.Sparklines = Sparklines;\n  exports.TablePaste = TablePaste;\n  exports.TooltipControl = TooltipControl;\n  exports.Touch = Touch;\n  exports.TreeAPI = TreeAPI;\n  exports.TreeClick = TreeClick;\n  exports.TreeDataLoader = TreeDataLoader;\n  exports.TreeDataMove = TreeDataMove;\n  exports.TreeRenderStack = TreeRenderStack;\n  exports.TreeStateCheckbox = TreeStateCheckbox;\n  exports.TreeStore = TreeStore;\n  exports.TreeTablePaste = TreeTablePaste;\n  exports.TreeType = TreeType;\n  exports.UIManager = UIManager;\n  exports.Undo = Undo;\n  exports.UploadDriver = UploadDriver;\n  exports.ValidateCollection = ValidateCollection;\n  exports.ValidateData = ValidateData;\n  exports.ValueBind = ValueBind;\n  exports.Values = Values;\n  exports.VirtualRenderStack = VirtualRenderStack;\n  exports.VRenderStack = VRenderStack;\n  exports.html = html$1;\n  exports.skin = skin$5;\n  exports.debug = debug;\n  exports.i18n = i18n;\n  exports.ready = ready;\n  exports.env = env;\n  exports.color = color;\n  exports.csv = csv$1;\n  exports.clipbuffer = clipbuffer;\n  exports.storage = storage;\n  exports.template = template;\n  exports.type = type;\n  exports.editors = editors;\n  exports.animate = animate;\n  exports.print = print;\n  exports.rules = rules;\n  exports.filters = filters;\n  exports.patterns = patterns;\n  exports.fullscreen = fullscreen;\n  exports.version = version;\n  exports.name = name;\n  exports.level_in = level_in;\n  exports.level_out = level_out;\n  exports.clone = clone;\n  exports.copy = copy;\n  exports.single = single;\n  exports.bind = bind;\n  exports.exec = exec;\n  exports.wrap = wrap;\n  exports.isUndefined = isUndefined;\n  exports.delay = delay;\n  exports.once = once;\n  exports.uid = uid;\n  exports.toNode = toNode;\n  exports.toFunctor = toFunctor;\n  exports.isArray = isArray;\n  exports.isDate = isDate;\n  exports._to_array = _to_array;\n  exports._power_array = _power_array;\n  exports._events_final_destructor = _events_final_destructor;\n  exports._event = _event;\n  exports.event = event$1;\n  exports.eventRemove = eventRemove;\n  exports.callEvent = callEvent;\n  exports.attachEvent = attachEvent;\n  exports.detachEvent = detachEvent;\n  exports.blockEvent = blockEvent;\n  exports.unblockEvent = unblockEvent;\n  exports.mapEvent = mapEvent;\n  exports.hasEvent = hasEvent;\n  exports.stringify = stringify;\n  exports.toPNG = toPNG;\n  exports.toCSV = toCSV;\n  exports.toPDF = toPDF;\n  exports.toExcel = toExcel;\n  exports.alert = alert;\n  exports.confirm = confirm;\n  exports.modalbox = modalbox;\n  exports.prompt = prompt;\n  exports.message = message;\n  exports.editStop = editStop;\n  exports.ajax = ajax;\n  exports.DataDriver = DataDriver;\n  exports.dp = dp;\n  exports.DataProcessor = DataProcessor;\n  exports.remote = remote;\n  exports.require = require;\n  exports.proxy = proxy$5;\n  exports.send = send;\n  exports.ui = ui;\n  exports.$$ = $$;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n"],"names":["global","factory","exports","module","define","amd","webix","this","_typeof","obj1","Symbol","iterator","obj","constructor","prototype","_slicedToArray","arr","i","Array","isArray","_arrayWithHoles","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","_iterableToArrayLimit","TypeError","_nonIterableRest","_toConsumableArray","arr2","_arrayWithoutHoles","iter","Object","toString","call","from","_iterableToArray","_nonIterableSpread","window","queueId","queue","isRunningTask","nextTick","fn","setImmediate","importScripts","addEventListener","setTimeout","postMessage","Deferred","resolver","then","er","self","state","val","v","fire","_fn","_er","d","resolve","reject","_handler","_value","handler","value1","finish","type","p","e1","thennable","ref","cb","ec","cn","cnt","e","e2","source","data","all","v1","reduce","map","r","race","v2","defer","services","name","use","assert","test","msg","log","message","text","expire","details","arguments","console","toLowerCase","debug_mode","debug_size_indent","debug_size_step","str","debug_size_box_start","comp","get","size","config","id","debug_size_box_end","sizes","join","debug_size_box","level1","level_in","level_out","clone","f","_function","copy1","target","esModern","Map","Set","WeakMap","WeakSet","method","isArray1","RegExp","isDate","Date","bind","functor","object","apply","exec","code","eval","isUndefined","a","delay1","params","delay","$destructed","ret","once","flag","extend","base","force","$protoWait","_power_array","insertAt","defaults","$init","_seed","valueOf","uid","toNode","node","document","getElementById","toFunctor","scope","replace","_to_array","array","removeAt","pos","len","splice","remove","find","each","master","filter","webix_on_core_ready","i18n","parseFormat","parseTimeFormat","stringify","result","origin","toJSON","parseFormatStr","JSON","EventSystem","_evs_events","_evs_handlers","_evs_map","blockEvent","_block","unblockEvent","mapEvent","on_setter","$scope","sub","indexOf","substr","attachEvent","callEvent","_event_master","event_stack","return_value","events","debug","_settings","$eventSource","unshift","t","detachEvent","hasEvent","stack","parent","evs1","b","c","xml1","_isValidXML","documentElement","getElementsByTagName","toObject","response","rawxml","fromString","getRecords","xpath","records","child","getDetails","tagToObject","getOptions","getInfo","assignTypes","getAttribute","xml","path","XPathResult","nodeName","ownerDocument","res","col","evaluate","ANY_TYPE","temp","iterateNext","selectNodes","split","pop","k","tag","z","hasSubTags","nodeType","_b","childNodes","_i2","attributes","tagName","nodeValue","firstChild","wholeText","xmlString","DOMParser","parseFromString","ActiveXObject","loadXML","json1","parseDates","isodate","parse","key","collections","total_count","ajax","url","getXHR","count","XMLHttpRequest","_send","mode","success","error","x","headers","_header","json_mode","found","FormData","encodeURIComponent","open","_sync","_response","_key","responseType","setRequestHeader","onreadystatechange","readyState","is_error","status","responseText","_data","$callback","_timeout","timeout","send","responseXML","json","post","put","del","patch","sync","num","header","owner","proxy1","$proxy","load","parts","ext","options","dataurl","proxy$1","save","u","operation","newid","processResult","proxy$2","view","update","_save_logic","ajax$$1","query","mark","charAt","proxy$3","xhr","proxy$4","unbox","lkey","GraphQL","variables","proxy$5","extra","copy$$1","init","$parse","binary","rest","jsarray","idColumn","html1","createElement","innerHTML","_native_on_selectstart","_style_element","_style_cache","denySelect","onselectstart","stopEvent","allowSelect","index1","previousSibling","createCss","rule","sufix","addStyle","group","style","setAttribute","appendChild","createTextNode","removeStyle","box","create","attrs","html","attr_name","cssText","className","getValue","parentNode","removeChild","insertBefore","before","rescue","locate","trg","offset1","elem","getBoundingClientRect","body","docElem","scrollTop","pageYOffset","scrollLeft","pageXOffset","clientTop","clientLeft","top","left","y","Math","round","width","offsetWidth","height","offsetHeight","posRelative","ev","offsetX","offsetY","pos1","touches","pageX","pageY","preventEvent","preventDefault","stopPropagation","triggerEvent","event","bubbles","cancelable","createEvent","initEvent","dispatchEvent","addCss","check","removeCss","getTextSize","css","basewidth","class","rect","max","ceil","download","filename","objUrl","navigator","msSaveBlob","URL","createObjectURL","link","href","click","revokeObjectURL","_getClassName","baseVal","setSelectionRange","start","end","focus","getSelectionRange","selectionStart","selectionEnd","addMeta","item","content","html$1","freeze","index","offset","htmltable","tr","rows","new_data","_webix_skip","td","getConfig","columns","_de_json","_get_attrs","pos$$1","el","attr","hash","parseInt","env","strict","webix_strict","https","location","protocol","agent","userAgent","isMac","isIOS","isAndroid","mobile","maxTouchPoints","touch","fastClick","isIE","isEdge","isFF","isChromium","isSafari","maxHTMLElementSize","transform","transition","transitionDuration","translate","transitionEnd","passiveEventListeners","opts","defineProperty","removeEventListener","e3","svg","implementation","hasFeature","svganimation","_modules","require","callback","promise","disabled","_callback","file","callback2","_file","fullpath","onerror","calls","onload","rel","newScript","src","excel","_urlToOptions","reader","FileReader","parseData","readAsArrayBuffer","Uint8Array","String","fromCharCode","cdn","wb","XLS","read","cellStyles","cellDates","XLSX","sheets","Sheets","names","SheetNames","ranges","Workbook","Names","getSheet","sheetToArray","min","sheet","spans","styles","types","hidden","cellTypes","n","s","row","cell","range","utils","decode_range","xCorrection","yCorrection","nrow","encode_cell","ncell","math","dateFormatStr","merges","widths","wch","heights","_item","_index","hpx","DataDriver","csv","stringToArray","silentErrorMarker","AtomDataLoader","_data_generation","waitData","datatype","$ready","_load_when_ready","_ready_for_data","url_setter","data_setter","clear","_this","_fetch","_onLoad","_onLoadError","_this2","driver","gen","data1","_this3","_syncData","_call_onready","_parse","parsed","record","setValues","_onLoadContinue","$onLoad","clearAll","data2","_this4","xhttp","_check_data_feed","data3","dataFeed","_ignore_feed","loader","CodeParser","collapseNames","prefix","prop","expandNames","lastIndex","_cache","_csp_cache","newlines","quotes","slashes","escape$1","badChars","escapeChar","chr","template1","str1","teststr","temp_res","search","s1","s2","s3","_","common","escape","sort","lastPos","addStr","n0","n1","slice","pos$$11","helpers","Function","empty","AtomRender","_toHTML","$empty","template","render","cfg","isVisible","_dataobj","_backbone_sync","refresh","pull","template_setter","AutoScroll","_auto_scroll","yScroll","xScroll","dragscroll","layout","_body","$view","sense","rowHeight","isNaN","parseFloat","reset","_auto_y_scroll","_auto_x_scroll","_auto_scroll_delay","_auto_scroll_column","headerRowHeight","bottom","scroll","getScrollState","topSplit","topSplitPos","_cellPosition","getIdByIndex","columnId","_auto_scrollTo","right","scrollTo","abs","_events","_events_final_destructor","eventRemove","_event","inner","event$1","context","info","capture","passive","type1","_webix_type_wait","default","baseType","state1","top_views","_global_scope","_global_collection","_child_sizing_active","_responsive_exception","_responsive_tinkery","_freeze_resize","_parent_cell","_focus_time","_ui_creation","_edit_open_time","_final_destruction","destructors","_noselect_element","_modality","_popups","_wait_animate","views1","ui","top_node","multiset","container","views","getChildViews","_body_cell","_deleteIds","$$","_correctId","moving","body_child","$topView","_inner","getParentView","_view1","setPosition","$apiOnly","_hidden","_container","_appendDom","destructor","_replace","_parent","_remove","_parent2","_ui_creator","_viewobj","fullscreen","position","_destructor_handler","skipResize","adjust","uis","current","_destroy_with_me","coll","cells","elements","cols","accordion","align","headerlayout","multiview","spacer","_view","protoUI","origins1","selfname","origins","proto","compilation","has_constructor","construct","i1","def","_def","$skin","_parseSettings","element","touchable","applyChanges","getNode","_focus_action","on_click","popup","readonly","longtouch_drag","show","getInputNode","mod","TooltipControl","_tooltip_masters","_tooltip_exist","overflow","addTooltip","ctrl","Element","index$$1","webix_tooltip","_tooltip","tooltip","_css_name","_webix_tooltip_mm","_move_tooltip","_webix_tooltip_ml","_hide_tooltip","_drag_event","_click_event","getTooltip","pointerType","first","scrollWidth","clientWidth","_last","$tooltipOut","$tooltipIn","$tooltipMove","parentElement","clearTimeout","_before_show_delay","hide","getMaster","removeTooltip","tip","m","dx","dy","time","_uid","_namecount","freeze1","trigger","any","resize1","_force_resize","resize","_each","logic","include","children","zIndex","zIndexBase","ready","_ready","_ready_code","temp1","codebase","handler1","doit","webix_ready","concat","rules1","isEmail","isNumber","isChecked","isNotEmpty","callback1","_promise","inputBox","_box","querySelector","_input","input","required","invalid","usercall","modalbox","modal_key","order","message1","keyboard","activeBox","which","keyCode","contains","cancelBubble","modality1","cover","modality","onkeydown","getComputedStyle","querySelectorAll","display","button1","info1","t1","area","onclick","timers","_boxStructure","ok","cancel","hasInput","title","placeholder","input1","buttons","oninput","_createBox","containerWidth","innerWidth","containerHeight","innerHeight","containerLeft","containerTop","floor","alertPopup","confirmPopup","boxPopup","promptPopup","box_params","params1","confirm1","subtype","hideAll","removeAttribute","fullscreen1","set","exit","$html","_pos","_setPosition","viewConfig","_fullscreen","head","_getHeadConfig","borderless","_sizes","minWidth","maxWidth","minHeight","maxHeight","active","getActiveId","replaceChild","getBody","addView","_setSizes","_set_inner","_cells","close","_clearValues","restore","oldStyles","forEach","icon","UIManager","_hotkeys","_controls","esc","up","down","pgdown","pgup","space","multiply","add","subtract","decimal","divide","pausebreak","_inputs","button","textarea","select","_enable","_keypress","_focus_click","_focus_tab","getFocus","_focus_was_there","setFocus","only_api","tab","blur","_applyChanges","hasFocus","_focus","canFocus","getFormView","_top_modal","queryView","view2","isEnabled","_moveChildFocus","check_view","_is_child_of","_focus_logic","_keypress_timed","_key_press_timeout","keyPressTimeout","_check_keycode","dir","marker","$fmarker","activeElement","_tab_logic","shiftKey","_custom_tab_handler","_in_edit_mode","editNext","editStop","getTop","getNext","_inner_call","p_cells","getPrev","addHotKey","keys","_parse_keys","removeHotKey","func","_keycode","shift","alt","meta","is_any","ctrlKey","altKey","metaKey","_process_calls","temp_result","controls","letter","getState","state$$1","gravity","collapsed","activeCell","setState","states","setValue","form","_skipSubmit","editCancel","getTopParentView","_hide","Settings","property","_parseSeetingColl","_define","setter","initial","settings","_mergeSettings","Destruction","_last_editor","$id","_destroy_child","_htmlmap","_htmlrows","_html","_contentobj","unbind","release","CollectionBind","_cursor","sel","getSelectedId","setCursor","_update_binds","getCursor","oldid","refreshCursor","getItem","_bind_update","format","getBranch","importData","defaultData","_bind_update_common","ValueBind","silent","pod","RecordBind","getValues","BindSource","_bind_hash","_bind_updated","_ignore_binds","_bind_specific_rules","saveBatch","_do_not_update_binds","setBindData","updateItem","getBindData","addBind","removeBind","BaseBind","_initBindSource","_bind_ready","_bind_source","_bind_id","_bind_refresh_handler","_on_sync","old_render","_in_bind_processing","validate","values","setDirty","UIExtension","webix_view","api1","$setNode","_recollect_elements","confirm","results","direction","_queryGoUp","_queryGoDown","_queryView","kids","base_id","_hidden_render","_hidden_hash","_disable_cover","_fix_cover","disable","enable","disabled_setter","container_setter","css_setter","id_setter","_prev_global_col","oldvalue","_elements","_translate_ids","$setSize","last","_last_size","$width","_content_width","_scroll_y","scrollSize","$height","_content_height","_scroll_x","flex","$getSize","animate_settings","animate","_show","_render_hidden_views","_signal_hidden_cells","ui_to_render","_onKeyPress","role","hidden_setter","clientHeight","resizeChildren","base1","api","api$1","border_not_set","borderWidth","_borders","view$1","base$1","SingleRender","customize","type$$1","templateStart","templateEnd","api$2","_visible","_alt_render","_disabled","w","h","positionX","positionY","AutoTooltip","tooltip_setter","_init_tooltip_once","_show_tooltip","_get_tooltip_data","Canvas","_canvas_labels","_canvas_series","series","_obj","devicePixelRatio","_prepareCanvas","_canvas","canvas_id","getCanvas","ctx","getContext","_webixDevicePixelRatio","scale","_resizeCanvas","renderText","renderTextAt","valign","clearCanvas","skipMap","areas","_getMapAreas","clearRect","toggleCanvas","_toggleCanvas","showCanvas","hideCanvas","html_element","animation","animation_copy","_has_animation","formLine","defAniPos","keepViews","nextSibling","breakLine","line","duration","timing","skew_options","scale_type","css_general","css_transition","css_transform","transitionEnded","tid","$active","$name","set$1","skin$5","material","topLayout","barHeight","tabbarHeight","sidebarTitleHeight","toolbarHeight","listItemHeight","inputHeight","buttonHeight","inputPadding","menuHeight","labelTopHeight","propertyItemHeight","timelineItemHeight","unitHeaderHeight","inputSpacing","sliderHandleWidth","sliderPadding","sliderBorder","vSliderPadding","vSliderHeight","switchHeight","switchWidth","layoutMargin","wide","clean","toolbar","layoutPadding","tabMargin","tabOffset","tabBottomOffset","tabTopOffset","tabBorder","customCheckbox","customRadio","sidebarMarkAll","popupNoPoint","borderlessPopup","popupPadding","dataPadding","calendarWeekHeaderHeight","padding","accordionType","optionHeight","timelineColor","backColor","colorPadding","mini","flat","compact","contrast","webix_skin","Touch","longTouchDelay","scrollDelay","deltaStep","speed","elastic","limit","_limited","_touchstart","move","_touchmove","_touchend","_clear_artefacts","_scroll","_start_context","_current_context","_prev_context","_scroll_context","_scroll_mode","_scroll_node","_scroll_stat","_long_touched","_delta","_x_moment","_y_moment","_time","_css_button_remove","_long_touch_timer","_was_not_moved","_axis_x","_axis_y","_active_transion","_scroll_end","_get_matrix","delta","_get_delta","$scroll","nx","ny","cnx","_correct_minmax","px","cny","py","adjustScroll","_set_matrix","_scroll_master","_sync_scroll","_translate_event","_set_scroll_pos","_axis_check","_x","_y","_get_event_view","_init_scroller","_is_scroll","$hasYScroll","prev","xv","yv","trans","tmatrix","matrix","WebKitCSSMatrix","_tmatrix","tkey","_sync_pos","allow","sign","sqrt","_init_scroll_node","scroll_enabled","old","_long_move","_locate","_stop_old_scroll","_stop_scroll","_long_touch","stop_mode","_get_sizes","locate_mode","_get_context","_get_context_m","CSS","supports","mouse","DragControl","_drag_masters","addDrop","master_mode","webix_drop","_getCtrl","webix_master","unlink","_active","webix_drag","_stopDrag","_createTouchDrag","pointer","dragCtrl","_getActiveDragMaster","$longTouchLimit","createDrag","customPos","$dragPos","_drag_context","y_offset","x_offset","addDrag","_preStart","e4","_saved_event","_preStartFalse","destroyDrag","evobj","_start_pos","_webix_drag_mm","_startDrag","_webix_drag_mu","_clean_dom_after_drag","_touch_animation","e5","sendSignal","_moveDrag","$drop","$dragOut","still_drag","_skip","elementFromPoint","Proxy","_checkLand","_landing","$dragIn","signal","drag_container","$dragCreate","_setDragOffset","$drag","_skipDropH","_skip_mark","$dragDestroy","_dropHTML","_getDragItemPos","itemPos","Movable","move_setter","Move","_headobj","elOffset","elPos","drag","Modality","_modal_set","_modal_cover","_ignore_clicks","ResizeArea","resize_setter","_resizeHandlers","_renderResizeHandler","_rwHandle","rp","webix_disable_drag","_wrDown","_showResizeFrame","_resizeFrame","e6","_wsReady","_resizeHandlersMove","_wrMove","_resizeHandlersUp","_wrUp","progress","$resizeMove","_wsProgress","$resizeEnd","api$3","_bodyobj","_head_cell","toFront","modal","_modal","headHeight","popups","click_view","zIndex_setter","body_setter","new_view","old_view","isBody","borderTopWidth","borderBottomWidth","borderLeftWidth","borderRightWidth","point","relative","fin_x","fin_y","point_y","point_x","fit","autofit","nochange","delta_x","delta_y","delta_point","deltax","deltay","fixed","_checkFixedPosition","_set_point","_hide_point","_hide_timer","autofocus","_prev_focus","escHide","showpopup","getTopMenu","_hide_single","_hide_sub_popups","_hiding_process","_hide_callback","_inner_body_set","head_setter","lineHeight","getHead","_state","_topPositionCallback","headMinWidth","head_size","self_size","window$1","ContextHelper","attachTo","on_context","_show_at_ui","_show_at_node","_area","setContext","_show_at","_show_on_mouse_out","master_setter","clipbuffer","_blur_id","_ctrl","_paste","_isSelectRange","getSelection","selection","createRange","last_active","getEditor","csv$1","delimiter","sep","_split_clip_data","lines","_substr_count","tline","quoted","j","chunk","string","substring","reg","CopyPaste","clipboard_setter","_sel_to_clip","ed","clipboard","_selected","templateCopy","insert","modify","custom","templateCopy_setter","CustomPrint","$customPrint","htmlOnly","_prePrint","tableData","_getTableArray","table","_getTableHTML","doc","docFooter","print","prerender","autoheight","xCount","nobreaks","_getPageWidth","printPPI","printMargin","newTableStart","colnum","Infinity","_getVisibleRange","_dx","tableArray","colrow","cellValue","_itemClassName","txt","$css","tableHTML","column","span","colspan","colSpan","rowspan","rowSpan","br","temp$1","DataMarks","addRowCss","hasCss","getItemNode","addMark","removeMark","getMark","clearCss","clearMark","DataMove","copy","sid","tindex","tobj","new_id","newId","_externalData","_next_move_index","nid","new_index","getIndexById","$blockRender","_nid","moveUp","step","moveDown","moveTop","moveBottom","newdata","$template","externalData","ValidateData","clearValidation","_clear_invalid","failed","_validate_details","rules$$1","rules","isHidden","validateHidden","validateDisabled","$obj","_validate","$all","complexData","subresult","_key2","_subresult","subview","_subresult2","validator","_subresult3","_mark_invalid","_pull","dp1","getOnly","dp","DataProcessor","masterId","autoupdate","updateFromResponse","operationName","trackMove","_ignore","_after_init_call","_updates","store","_waitSave","Promise","_onStoreUpdated","_onDataMove","ignore","off","on","_copy_data","_save_inner","now","_scheme_serialize","$parent","_invalid","_check_unique","_sendData","targetid","webix_move_index","webix_move_id","webix_move_parent","one","_in_progress","triggerId","wait","marked","to_send","tosave","precise_url","_scheme_save","_updatesData","_proxy_on_save","saveAll","_result","processed","_processResult","_processError","attachProgress","_innerProcessResult","getItemState","setItemState","exists","changeId","undoOnError","undo","removeUndo","finalResult","proxy","_get_stack_index","DataStore","setDriver","_marks","_filter_order","recs","_inner_parse","_scheme_group","_group_processing","_not_grouped_order","_scheme_sort","subload","marks","_removeMissed","_scheme_update","_scheme_init","delid","endpos","_render_change_id","changeTrack","_skip_refresh","getRange","to","$min","startOffset","$max","endOffset","getIndexRange","sindex","_move_inner","scheme","_scheme","$save","$change","$update","$serialize","$group","$sort","_scheme_export","$export","serialize","_make_full_copy","oldpull","branch","_filter_branch","_key3","_key4","_extraParser","_datadriver_child","_set_child_scheme","unsync","_sync_source","sync_logic","_skip_next_sync","_sync_events","_back_sync_handler","data_size","original_index","soft","getNextId","getFirstId","getLastId","getPrevId","by","as","parameters","_sort_init","sorter","sorting","_sort_core","pre","$freeze","neworder","_filter_reset","preserve","_filter_core","match","value2","_filterMode","_obj_array","_methodPush","provideApi","eventable","onbeforesort","onaftersort","onbeforeadd","onafteradd","onbeforedelete","onafterdelete","ondataupdate","list","old_css","current_css","ids","_multi","_dir","_by","server","date","int","string_strict","raw","methods","DataLoader","_feed_last","_call_onclearall","_call_on_config","feed","_feed","_load_count","_feed_common","_feed_on_load","_feed_callback","filterValue","loadNext","datathrottle","_throttle_request","datafetch","_maybe_loading_already","removeMissed_setter","_init_dataprocessor","save_setter","waitSave","many","scheme_setter","dataFeed_setter","filtervalue","urldata","_ready_was_used","DataState","cols_n","fillspace","_hidden_column_order","_last_order","_last_sorted","_filter_elements","_dtable_fully_ready","any_filter","_hidden_column_hash","markSorting","rs","rightSplit","_hidden_split","leftSplit","hihash","hideColumn","hikey","reorder","_i3","getColumnConfig","refreshColumns","_i4","_setColumnWidth","_updateColsSizeSettings","_skip_server_op","multi","_i5","_col","_sort","filterByAll","contentid","contentId","_active_headers","_f","_on_after_sort","$params","_on_after_filter","unselect","_i6","_select","DragItem","_initHandlers","$dragMark","_auto_scroll_force","drag_setter","_inner_drag_only","id1","fragile","_touch_scroll","_drag_pause","$dropAllow","_target_to_id","_define_index","_context_to_move","getBranchIndex","getParentId","hash_id","$dragHTML","_toMultipleHTML","multiple","_marked","_remove_css","_add_css","$dropHTML","_set_drop_area","DragOrder","_close_branches","_drag_order_stored_left","_drag_order_complex","$level","_init_drop_area","_drag_direction","ofs","_marked_item_id","_header_height","_max","ot","nt","_remove_drop_area","dynamic","_id","Undo","_undoHistory","_undoCursor","undo_setter","_init_undo","_draggedItem","$index","_addToHistory","_deletedItem","$branch","oldId","action","_skipHistory","_skipCursorInc","ignoreUndo","_undoAction","data4","parentId","attach_editend","suggest","setMasterValue","_editor_initialized","create_suggest","linkInput","getLabel","editValue","label","editors","editor","boxobj","init_suggest","checked","$inline","checkbox","collection","rec","isplain","destroy","getPopup","$popup","createPopup","pobj","_linked","popupType","popupInit","moveSelection","color","_is_string","stringResult","combo","_create_suggest","_shared_suggest","_suggest","showPopup","getList","_initial_value","showItem","_last_input_target","afterRender","sobj","getItemText","getSuggestion","richselect","password","toggleInput","isPassword","icons","multiselect","EditAbility","editaction","_editors","onDblClick","_refocus_inline_editor","editable","_init_edit_events_once","_refocus_try","newnode","createTextRange","collapse","_locateInput","editable_setter","_changeEditorId","edit","_reset_active_editor","_component_specific_edit_init","_handle_live_edits","liveEdit","_set_new_value","_show_editor_form","realform","_get_editor_type","_init_editor","_live_edits_handler","_on_editor_change","$fixEditor","edit_open_time","getEditorValue","_get_edit_config","_addEditor","_sizeToCell","_locate_cell","_removeEditor","focusEditor","_edit_stop","_editStop","_for_each_editor","offsetLeft","offsetTop","inline","_get_new_value","validateEditor","getEditState","editor_next","_find_cell_next","_after_edit_next","new_value","FlexLayout","_fix_vertical_layout","_beforeResetBorders","_afterResetBorders","g","_padding","_set_child_size","st","margin","_margin","paddingTop","paddingBottom","paddingLeft","paddingRight","flexBasis","flexGrow","whs","_size","scrollHeight","GroupMethods","sum","summ","some","GroupStore","ungroup","_ungroupLevel","_not_grouped_pull","level","changed","$footer","_unregisterItem","_fix_group_levels","_group_prop_accessor","acc","missing","_group_tree","groups","labels","missed","misGroup","$row","_map_group","_fill_pull","topbranch","ancestor","newitem","_formath","footer","$count","Group","HTMLOptions","customRadio_setter","_moveSelection","_getInputNode","_blur","inp","getOption","optionIndex","addOption","removeOption","_setNextVisible","_getFirstActive","_filterOptions","_setOptionState","field","hideOption","showOption","disableOption","enableOption","HtmlMap","_map","_areas","addRect","points","userdata","_createMapArea","addPoly","shape","coords","extra_data","addSector","alpha0","alpha1","R","ky","PI","cos","sin","nodes","nod","coordsdis","IdSpace","_get_self","_run_inner_init_logic","_run_after_inner_init_logic","innerId","onitemclick","KeysNavigation","_set_focusable_item","_set_item_focus","_navigation_helper","navigation","_parent_menu","_hide_sub_menu","selected","x_layout","_level_up","_level_down","_step","_skip_item","getSubMenu","_mouse_move_activation","navigation_setter","_global_nav_grid_hotkeys","MapCollection","_create_scheme_init","_scheme_init_order","_build_data_map","_process_field_map","_process_single_map","getSource","dateStr","parseFormatDate","_map_options","_create_collection","options_view","_bind_collection","_map_header_options","_loop","refreshFilter","_bind_template","optionslist","separator","MouseEvents","_clickstamp","_dbl_sensetive","_item_clicked","_mouse_action_extend","onClick","onContext","onMouseMove","_onClick","_onContext","on_mouse_move","_enable_mouse_move","_mouse_move_enabled","_onMouse","_mouse_move_timer","on_dblclick","_clickHandler","_onDblClick","_mouseEvent","on_single_click","e7","createEventObject","_onMouseMove","_onMouseOut","mouseEventDelay","pair","NavigationButtons","_moveActive","_showNavItem","_navPanel","_renderPanel","_renderNavItems","_renderNavButtons","_setLinkEventHandler","bindId","_linkAttr","_showPanelBind","_prevNavButton","_nextNavButton","inc","_active_cell","setActiveIndex","items","linkAttr","_clearPanel","tabindex","aria","prevTab","OverlayBox","showOverlay","_overlay","hideOverlay","PagingAbility","pager_setter","pager","ui_pager","_count_pager_total","check_pager_sizes","repeat","autosize","getVisibleCount","page","_count_pager_index","$pagesize","_pager","$master","setPage","getPage","getPager","ProgressBar","_progress","showProgress","hideProgress","incss","_progress_animate","_progress_hide","RenderStack","_call_onclick","item_setter","type_setter","_toHTMLObject","search_id","txmin","txmax","tymin","tymax","_setItemActive","cont","_renderobj","Scrollable","_one_time_scroll","scroll_setter","auto","$customScroll","overflowX","overflowY","_onoff_scroll","SelectionModel","_data_updated","_data_loaded","_data_filtered","_select_check","_id_changed","_set_noselect","loadBranch","$selected","_select_mark","need_unselect","sname","_silent_selection","unselectAll","_refresh_selection","ename","selectAll","isSelected","as_array","getSelectedItem","_is_mass_selection","color1","_toHex","toHex","number","rgbToHex","rgb","hexToDec","hex","toRgb","rgbArr","lastIndexOf","hsvToRgb","hi","q","rgbToHsv","r0","g0","b0","min0","max0","joinAttributes","SVG","xmlns","version","viewBox","lineColor","_handlers","M","L","C","cp0","cp1","A","radius","angle0","angle1","definePath","toUpperCase","_linePoints","setOpacity","rawColor","opacity","rgbColor","_curvePoints","getPath","getSector","getCurve","getLine","p0","p1","getCircle","getRect","defaults1","paddingX","paddingY","eventRadius","Line","draw","getPoints","renderer","_applyColor","_getLinePoints","graph","_drawItems","_drawEventItems","styleMap","webix_area","minValue","maxValue","unitX","yNum","unitY","defaults$1","Area","Line$$1","defaults$2","itemCss","Bar","negativeColor","_getOrigin","evPoints","_getEventPoints","evItems","barWidth","originY","defaults$3","Pie","_defColorsCursor","_defColors","_getColor","colorsCount","sectors","getAngles","x0","y0","_context","a1","a0","ratios","_getRatios","_getTotalValue","prevSum","totalValue","defaults$4","Spline","linePoints","_getControlPoints","p2","defaultsArea","SplineArea","Sparklines","linePath","areaPoints","itemPoints","getTemplate","customConfig","slConstructor","_template","getData","sparklines","TablePaste","_clip_to_sel","_get_sel_text","mapSelection","row_ind","newvalue","block","leftTop","mapCells","col_ind","TreeAPI","openAll","eachSubItem","closeAll","_tree_check_uncheck","threeState","_tree_check_uncheck_3","isBranchOpen","getOpenItems","_repeat_set_state","tree","TreeClick","webix_tree_open","webix_tree_close","webix_tree_checkbox","TreeDataLoader","_sync_hierarchy","_feed_commonA","_sync_to_order","TreeDataMove","_check_branch_child","_remove_childs","target_parent","$child","copy_data","tbranch","sbranch","_set_level_rec","TreeRenderStack","_toHTMLItem","_toHTMLItemObject","_toHTMLLevel","leaves","_tree_branch_render_state","leafs","getNextSiblingId","_branch_render_supported","TreeStateCheckbox","_init_render_tree_state","updated","_setThirdState","threeState_setter","parents","checkedParents","_getAllLeaves","_setParentThirdState","_setCheckboxIndeterminate","chElem","indeterminate","itemId","checkedCount","unsureCount","needrender","eachChild","getChecked","_correctThreeState","checkItem","uncheckItem","_checkUncheckAll","checkAll","uncheckAll","TreeStore","showSubItems","filterMode_setter","filterMode","_filter_branch_rec","child_run","openParents","newsub","eachOpen","_change_branch_id","branches","getPrevSiblingId","getFirstChildId","isBranch","parse_name","pItem","pBranch","webix_kids","parent_branch","itemid","_sync_each_child","getTopRange","eachLeaf","bset","pid","refresh_parent","_rec_remove","_filter_removed","out","TreeTablePaste","TreeType","nocheckbox","folder","UploadDriver","$render","_upload_area","files","_stop_file","input_config","accept","directory","webkitdirectory","mozdirectory","_add_files","_upload_timer_click","fileDialog","_directoryEntry","isDirectory","_directoryDrop","isFile","addFile","createReader","readEntries","entries","dataTransfer","webkitGetAsEntry","_last_file_context","inputs","_last_assigned_upload_callback","upload","formData","append","inputName","globalData","_get_active_url","$updateProgress","loaded","total","aborted","_file_complete","complete","_upload_complete","_complete","percent","stopUpload","abort","ValidateCollection","_validate_init_once","rules_setter","Values","_inner_setValues","_is_form_dirty","_values","_name","$allowsClear","isDirty","getDirtyValues","_inner_getValues","defaultValue","$compareValue","getCleanValues","markInvalid","invalidMessage","setBottomText","VirtualRenderStack","_render_visible_rows","_unrendered_area","ind","_render_delayed","_wait_for_render","_create_placeholder","viewport","_from","_height","_filled","holder","holder_row","nextpoint","loading","delta2","loadahead","tpadding","_tilesPadding","_top","VRenderStack","isDrag","_run_load_next","cid","conf","errorMessage","getDataHelper","getHeaderText","getHeaderContent","$icon","getStyles","getExportScheme","treeColumn","h_count","f_count","isTable","rawValues","isTree","treeLines","hiddenCols","hiddenRows","isColumnVisible","_columns","flatTree","flatKey","fill","fillMode","noExport","rawColumn","sourceColumn","export_mode","exportType","exportFormat","diff","getFileName","extension","getExportData","filterHTML","htmlFilter","docHeader","_headers","treeline","plainOutput","reallyHidden","_i7","$getExportValue","_spans_pull","getSpan","trim","footers","_i8","_footers","font","toPDF","fontName","boldFontName","viewOptions","$exportView","autowidth","getAutowidth","exportData","cloneNodeWithStyles","dataOnly","_export_font","_export_font_bold","getPdfData","pdf","getBlob","pdfjs","fontURL","err1","regular","boldFontURL","bold","TTFFont","blob","Blob","_width","orientation","Document","threshold","addPDFDoc","promises","getPDFImage","images","textBefore","addText","image","addPDFTable","textAfter","pageBreak","textAlign","dataExport","pageNumber","of","pageCount","horder","docHeaderImage","buffer","img","Image","addPDFHeader","html2canvas","background","logging","useCORS","canvas","toDataURL","binary_string","atob","bytes","charCodeAt","finally","colWidths","tableOps","borderColor","backgroundColor","headerRows","boldFont","headerOps","borderRightColor","borderBottomColor","cellStyle","_cellStyle","footerOps","beforeCount","_cellStyle2","clone$$1","cloneNode","toExcel","getSpans","WBProps","_viewOptions","getExcelData","xls","write","bookType","bookSST","str2array","buf","ArrayBuffer","types1","boolean","ws","cell_ref","stringValue","isFormula","stubCells","SSF","returnDateTime","getTime","getTimezoneOffset","encode_range","hpt","getRowHeights","wscols","getColumnsWidths","getHeaderSpans","xc","yc","colIndex","getColumnIndex","rowId","rowIndex","hiddenColsOrder","colId","hiddenRowsOrder","sc","sr","en","groupDelimiter","groupSize","decimalDelimiter","decimalSize","dateFormat","timeFormat","longDateFormat","fullDateFormat","am","pm","price","priceSettings","fileSize","calendar","monthFull","monthShort","dayFull","dayShort","hours","minutes","today","PDFviewer","automaticZoom","actualSize","pageFit","pageWidth","pageHeight","enterPassword","passwordError","increaseValue","decreaseValue","navMonth","navYear","navDecade","monthFormat","yearFormat","hourFormat","minuteFormat","removeItem","pages","headermenu","openGroup","closeGroup","closeTab","showTabs","resetTreeMap","navTreeMap","nextTab","multitextSection","multitextextraSection","showChart","hideChart","resizeChart","richtext","underline","italic","comments","confirmMessage","moreComments","less","lessOrEqual","greater","greaterOrEqual","notContains","equal","notEqual","beginsWith","notBeginsWith","endsWith","notEndsWith","between","notBetween","timeboard","seconds","wDate","startOnMonday","toFixed","ms","weekStart","getDay","datePart","monthStart","setDate","yearStart","setMonth","dayStart","dateToStr","utc","date1","getMonth","str2","getDate","getFullYear","getHours","getMinutes","getSeconds","getMilliseconds","getISOWeek","strToDate","mask","splt","monthShort_hash","monthFull_hash","UTC","temp2","ndate","nday","first_thursday","year_number","ordinal_date","getUTCISOWeek","_correctDate","d0","checkFunc","incorrect","setHours","d1","getYear","setYear","setMinutes","setSeconds","setMilliseconds","timePart","isHoliday","day","Number$1","dot","decimalOptional","int_value","numToStr","helpers1","setLocale","locale","locales","_price_format","_price_settings","intFormat","priceFormat","numberFormat","storage1","storage","local","localStorage","setItem","session","sessionStorage","cookie","domain","expires","toUTCString","getRaw","check_name","a_all_cookies","a_temp_cookie","cookie_value","unescape","cookies","papers","a4","a3","fits","modes","portrait","landscape","sizes1","A3","A4","_getHeaderFooter","patterns","phone","card","error_key","RemoteContext","_proxy","_queue","_url","_process","getApi","_getProxy","remote","$key","$vars","_proxy_call","_call","args","_deffer","_start_queue","_timer","_run_queue","data5","defs","i2","$sync","$args","request","pack","_pack","$context","pr","payload","scripts","get_orientation","screen","angle","orientation_handler","new_orientation","datafilter","textWaitDelay","summColumn","innerText","value4","trackCells","masterCheckbox","getHelper","uncheck","checkValue","uncheckValue","textFilter","component","registerFilter","_comp_id","_on_key_down","_filter_timer","ui$$1","selectFilter","compare","_get_data","emptyOption","option","_on_change","_collectValues","collectValues","collect","serverFilter","$server","serverSelectFilter","numberFilter","prepare","equality","intvalue","_greater","_lesser","_equal","dateFilter","reverse","dateFormatDate","div","_detectScrollSize","fixed1","aniset","animateView","view3","stateHandler","getHTML","i3","currentStyle","currentState","newState","tempParent","fullScreen","fix","onrotate","api$4","configOnly","_restore","$layout","serializer","childs","movePortlet","_parse_cells","_layout_sizes","_responsive","isolate","rows_setter","_vertical_orientation","_collection","cols_setter","whiteSpace","_beforeRemoveView","_fix_hidden_cells","resize$$1","_hiddencells","$nospace","target_id","_insertBeforeView","_fill_data","verticalAlign","newui","removeView","reconstruct","showBatch","visibleBatch","batch","_parse_cells_ext_end","_fix_container_borders","_bubble_size","vertical","fixed_count","_master_size","_desired_size","responsive","_set_child_size_a","ps","_set_size_delta","_set_size_gravity","_responsive_hide","_responsive_width","_responsive_height","_responsive_marker","_responsive_show","responsiveCell","_responsive_cells","_cell","oldIndex","_next","_first","baselayout","api$6","_template_types","_correct_height","section","onClick_setter","_render_me","_not_render_me","_probably_render_me","src_setter","content_setter","setHTML","setContent","_template_resize_timer","_get_auto_height","template$1","api$7","scrollSpeed","_resizeChildren","cx","cy","desired_size","self_sizes","scroll_size","_native_scroll","showView","topPos","api$9","getIframe","getWindow","contentWindow","_parse_cells_ext","_parse_once","defined","_hasBorders","_render_borders","correction","structure_changed","_cleanlayout","maxlength","s_inner","s_next","contrstyle","contrpadding","_margin_set","_padding_set","view$9","layout1","api$a","panelClass","newview","collapsed_setter","panel","_skin_render_collapse","_accLastChild","_afterOpen","_canCollapse","base$2","api$c","_headlabel","_headbutton","header_setter","headerAlt_setter","fixedHeight","_getHeaderSize","headerHeight","webix_accordionitem_header","_toggle","webix_accordionitem_header_v","_collapse","sibl","expand","_expand","$noresize","headerAlt","template$$1","headerAltHeight","_last_set_header_size","headerSize","_last_size_y","api$d","_key_property","_dragobj","_originobj","border","cursor","_moveev","_onmove","_upev","_onup","_moveev_t","_upev_t","_last_result","eventPos","api$e","_rsDown","_getResizeDir","_rs_started","_resizer_dir","_resizer_dim","marginRight","marginBottom","e8","_getResizerCells","_rs_process","_rsLimit","_rsStart","_rsUp","cellOffset","posParent","_rs_progress","_resizeStick","resizearea","_rsEnd","_rsResizeHandler","cDiff","limits","limitSizes","totalSize","_rsGetDiffCellSizes","_rsGetLimitCellSizes","_getRsCell","_resizerStick","_rsGetCellSizes","cell_size","size1","size2","styleDim","api$f","align_setter","_x_align","_y_align","_p_align","marginLeft","marginTop","api$g","_back_queue","_ask_render","cell_id","view_id","_render_hash","_render_queue","_render_activation","subcell","_animation_promise","cells_setter","_getDirection","vx","animation_options","_arguments","getTabbar","tabBar","_next_cell","callback_original","wait_animation","fitBiggest","other","back","viewId","api$h","getMultiview","_init_tabview_handlers","tabs","tabbar","mview","api$i","_layout","_initLayout","_fix_after_view_add","layoutProp","layoutConfig","_setScroll","getLayout","_nextCell","showNext","showPrev","getActiveIndex","layoutSizes","selfSizes","setActive","api$j","selfSize","api$k","api$l","clickHandler","_point_element","popup1","api$m","_form_classname","_form_vertical","onbeforetabclick","onaftertabclick","onchange","elementsConfig","_rec_apply_settings","nextsettings","api$n","_default_height","api$o","$cssName","label_setter","_body_view","_last_body_size","fieldset","api$p","labelWidth","labelAlign","_inputPadding","_inputSpacing","_labelTopHeight","labelPosition","_getLabelWidth","bottomLabel","_invalidMessage","_tagname","_attribute","_get_html_value","tagname","_get_value","radio","selectedIndex","_set_html_value","_set_value","firstElementChild","api$q","_default_values","_copy_inner_content","_parse_inputs","cant_clear","api$r","nameWidth","on_render","on_edit","webix_property_check","registerType","elements_setter","_idToLine","alter_type","_data_width","_clear","_props_dataset","els","api$s","monthSelect","weekHeader","monthHeader","weekNumber","skipEmptyWeeks","calendarHeader","minuteStep","timeIcon","timepickerHeight","dayTemplate","dayTemplate_setter","calendarHeader_setter","calendarTime_setter","_calendarTime","date_setter","_string_to_date","maxDate_setter","minDate_setter","minTime_setter","parseTimeFormatDate","maxTime_setter","_ariaFocus","_mouse_time","relatedTarget","_locate_day","_selectedDay","_special_dates","_selected_days","_zoom_level","minuteStep_setter","_zoom_in","_fixed","cellHeight","_getDateBoundaries","_rows","timepicker","_icons","_content_padding","getSelectedDate","getVisibleDate","_zoom_logic","_keyshift","_restore_focus","rind","cind","_set_date_bounds","month","year","days","_month","_start","_getColumnConfigSizes","bounds","_columnsHeight","_columnsWidth","columnsNumber","rowsNumber","icons_setter","_icons2","webix_cal_icon_today","webix_cal_icon_clear","_zoom_size","_current_time","cpad","_week_template","_body_template","_timepicker_template","_icons_template","_changeZoomLevel","calendarTime","timeFormatStr","clock","tpl","range_date","week_template","calendarWeekHeader","day_index","blockDates_setter","_day_css","isOutside","_checkDate","sqSize","focusable","alabel","_getCalSizesString","_changeDate","_changeStep","_changeDateInternal","_update_zoom_level","showCalendar","_isBlocked","isBlocked","minHour","minTime","maxHour","maxTime","minMinute","maxMinute","blockTime","_setContent","_findActive","newdate","selectDate","blocked","blockDates","minDate","maxDate","minYear","maxYear","_getTitle","_getContent","_zoom_start_date","setFullYear","_correctBlockedTime","sections","zlogic","_reserve_box_height","_reserve_box_width","timeColNum","enLocale","_timeHeaderTemplate","_timeButtonsTemplate","w2","zoom","oldzoom","_mode_selected","_locate_date","_selectDate","webix_cal_prev_button","webix_cal_next_button","webix_cal_day_disabled","webix_cal_outside","webix_cal_day","webix_cal_time","webix_range_time_start","_time_mode","webix_range_time_end","webix_cal_done","webix_cal_month_name","webix_cal_block","blockedDate","outOfRange","api$t","palette","minLightness","maxLightness","grayScale","_get_clear_palette","_findIndex","pal","_getBox","$prepareValue","value_setter","$setValue","_activeSelection","oldCell","_getCell","_setSelection","lastChild","_numToHex","_rgbToHex","_hslToRgb","l","_hue2rgb","_lightenRgb","lt","_getGrayScale","colCount","gray","_initPalette","clearColors","colors","colorRows","lightStep","colorRange","grayColors","clearRgb","_initOldPalette","colorStep","KeyboardEvent","_renderRow","rowHtml","_renderItem","colorTemplate","single$$1","firstRow","deltaWidth","deltaHeight","api$u","_hValue","_sValue","_vValue","_handle_move_keyboard","_colorBlock","_handle_dnd","_colorLine","_colorOutText","_colorCircle","_colorLineCircle","_colorOutBlock","_offset","_inpHeight","_current_value","hsv","_setOutColors","_setBlockColors","bgColor","rgbStr","_move_block","pxX","pxY","_move_line","e9","_handle_drag_events","_handle_move_process","_handle_move_stop","_move_block_value","_move_line_value","_inc","_inc2","_inc3","inpWidth","bHeight","_collect_vars","api$v","$renderInput","badge","awidth","aheight","_set_default_css","_calc_size","hotkey_setter","control","_addElementHotKey","_get_class","webix_danger","webix_transparent","webix_primary","_types","_set_inner_size","imageTop","iconTop","_findAllInputs","tagNames","_disabledTabIndex","_rendered_input","_pattern","$getValue","_sqrt_2","_calck_input_size","_input_width","inputWidth","_input_height","_inputHeight","bheight","cheight","dheight","handle","cssFloat","_init_once","_handle_tab_click","opt","webix_all_segments","webix_all_tabs","webix_inp_counter_next","webix_inp_counter_prev","webix_input_icon","webix_clear_icon","webix_inp_checkbox_border","toggle","webix_inp_checkbox_label","webix_inp_radio_border","webix_tab_more_icon","webix_tab_close","_check_options","_get_div_placeholder","button$1","api$w","nav_controls","TextPattern","pattern","format_setter","_custom_format","_on_key_pressed","_after_render","getText","_getRawValue","_matchPattern","pattern_setter","_patternScheme","_init_validation","_pattern_chars","_pattern_allows","stamp","_property_stamp","chars","_pattern_scheme","isCapsLock","getModifierState","_getCaretPos","_input_code","_fixCaretPos","rawIndex","rawLength","rchar","icode","nind","lind","api$x","_init_onchange","$onBlur","addSection","_clear_icon","_toggleClearIcon","visibility","clear_setter","$renderIcon","relatedView_setter","value5","relatedAction","viewid","relatedView","validateEvent_setter","bottomLabel_setter","bottomPadding","_getInvalidText","_restorePadding","heightInc","_get_input_width","iconWidth","_render_div_block","inputAlign","rightPadding","_baseInputHTML","$renderLabel","_getLabelHeight","div_start","setValueHere","symbol","suggest_setter","text1","DataCollection","api$y","optview","options_setter","api$z","rightlabel","labelRight","ch","customCheckbox_setter","api$A","eachid","isDisabled","optlabel","rd","newline","api$B","_editable","_init_popup","text$$1","_prepareSingleValue","timeMode","_formatDate","_get_visible_text","_get_visible_text_single","formatStr","_formatStr","fullDateFormatStr","_set_visible_text","_get_value_single","formatDate","timeFormatDate","fullDateFormatDate","parseTimeFormatStr","datepicker","api$C","_getColorNode","api$D","popupWidth","newValues","_revertValue","_suggest_config","_reset_value","_ignoreLabelClick","api$E","_onBlur","webix_inp_label","webix_inp_top_label","api$F","isFinite","api$G","api$I","_show_view","borders","optionWidth","tabbarPopup","segmented","_sizeToContent","_skipSizing","_getTextHeight","topView","caretPos","api$J","textarea1","api$K","isPressed","onLabel","offLabel","onIcon","offIcon","api$L","getValueHere","_full_value","_subs","seg","removeSection","_subOnChange","o","newConfig","subConfig","newone","api$M","moveTitle","_handle_id","title_setter","_get_slider_handle","_safeValue","corner1","_sliderPadding","corner2","cornerStr","sizeStr","_sliderHandleWidth","_sliderBorder","part","_set_title","half","pos2","_set_value_now","_on_mouse_down_start","_activeIndex","e10","_mouse_down_process","_start_value","_get_value_from_event","ax","_get_value_from_pos","corner","api$N","_calck_switch_size","_switchWidth","_switchHeight","onWidth","offWidth","webix_switch_box","webix_label_right","api$O","skin","topOffset","bottomOffset","tabMinWidth","tabMoreWidth","_getTabbarSizes","totalWidth","limitWidth","popupConfig","yCount","_popupInnerClick","moreTemplate_setter","moreTemplate","leafWidth","resultHTML","verticalOffset","selectedTab","displayTabs","_popup","lastTab","_getTabHTML","_tabTemplate","calcHeight","api$P","_setLayout","_button","_add_data","editField","onAfterRender","_updateValue","_getselection","webix_richtext_editor","editorToolbar","rangeCount","queryCommandState","_execCommandOnElement","commandName","selText","anchorNode","focusNode","getRangeAt","isCollapsed","textValue","textContent","focusEl","focustext","anchorOffset","wordBegining","wordEnd","startWord","endWord","setStart","setEnd","removeAllRanges","addRange","execCommand","api$Q","api$R","_listClassName","_auto_resize","dynamic_setter","webix_list_item","_no_animation","_one_height","_auto_height_calc","_auto_width_calc","getUnits","widthSize","heightSize","classname","webix_selected","disableItem","_set_item_disabled","enableItem","isItemEnabled","list1","removeIcon","fileName","webix_remove_upload","uploader","api$S","autosend","webix_hidden_upload","apiOnly_setter","link_setter","_format_size","file_struct","sizetext","webkitRelativePath","urlData","subline","addDropZone","hover_text","extra_css","fullcss","timer","isUploaded","$onUploadComplete","api$T","highlight","scrollEv","_syncText","_updatePos","_handleInput","_getHighlightNode","_lastText","_handleScroll","highlightStyles","api$U","twelve","nrows","_getClock","_getSliders","_getDoneButton","onChange","_recollectValues","_form","sminutes","shours","sseconds","day_part","_getText","onItemClick","onKeyPress","nv","sliders","_getSlider","onSliderDrag","api$V","filter_setter","_show_on_key_press","etemp","_get_extendable_cell","_set_on_popup_click","_getInputDiv","_show_selection","_old_text","_get_details","_set_input_value","_preselectMasterOption","prev_text","$setValueHere","getMasterValue","getItemId","_suggest_after_filter","fitMaster","input_setter","webix_master_id","_resetPosition","_suggestions","_non_ui_mode","_last_delay","_tab_key","_escape_key","$enterKey","_navigate","contentEditable","_resolve_popup","_before_filtering","_dont_unfilter","$customWidth","visible","suggest1","api$W","_last_cursor_pos","api$X","getButton","_setValue","google","script","api$Y","_init_video","autobuffer","poster","autoplay","getVideo","google$1","script$1","api$Z","chart","displayMode","region","resolution","_waitMap","_refreshColumns","_drawData","getMap","waitMap","_getCallBack","_initMap","charts","visualization","GeoChart","_mapEvents","packages","mapsApiKey","setOnLoadCallback","_defineColumns","DataTable","addColumn","addRows","DataView","arrayToDataTable","setDisplayMode","setRegion","clearChart","isHtml","_getColumnType","addListener","selnow","_selprev","api$_","maps","libraries","center","LatLng","mapTypeId","MapTypeId","mapType","center_setter","setCenter","mapType_setter","setMapTypeId","zoom_setter","setZoom","layerType_setter","_layerApi","drawData","layerType","item1","$marker","_getItemConfig","setMap","lat","lng","Marker","getDraggable","_onDrag","getPosition","heatmap","heatmapConfig_setter","_heatmap","hdata","_getConfig","heatmapConfig","HeatmapLayer","getHeatmap","Pie$1","$render_pie","sIndex","_renderPie","point0","point1","coord","_getPieParameters","_getValues","shadow","_addShadow","angles","gradient","x1","y1","_showRadialGradient","strokeStyle","beginPath","moveTo","arc","lineTo","fillStyle","pieInnerText","_drawSectorLabel","labelOffset","_createLowerSector","globalAlpha","_getPositionByAngle","_drawLine","lineWidth","stroke","a2","_drawSectorLine","pieHeight","cant","shadows","_getGrayGradient","addColorStop","createRadialGradient","alpha2","in_width","canvases","alpha","corr_x","left_end","left_start","$render_pie3D","$render_donut","pieRadius","innerRadius","donutInnerText","centerText","BarChart","$render_bar","cellWidth","relValue","valueFactor","relativeValues","startValue","unit","xax","yax","totalHeight","yAxis","xAxis","_getLimits","_drawScales","_getRelativeValue","_drawXAxis","seriesNumber","seriesIndex","_series","barOffset","inner_gradient","createLinearGradient","_logScaleCalc","_log10","color$$1","_drawBar","_drawBarGradient","_drawBarBorder","_correctBarParams","axisStart","rotate","_setBarPoints","x2","_setBorderStyles","gradParam","_setBarGradient","skipBottom","angle_corr","cosA","acos","x3","y3","x5","LineChart","$render_line","y2","res1","res2","_calculateLineParams","_getPointY","fixOverflow","_calcOverflowX","_mapStart","_drawItem","mapStart","alphas","_strokeChartItem","areaPos","corr","_path","_getStackedLimits","BarHChart","$render_barH","innerGradient","_drawHScales","_drawBarHBorder","_drawBarH","_drawBarHGradient","_setBarHPoints","skipLeft","sinA","asin","y5","_createCanvas","_drawHXAxis","_drawHYAxis","yAxisX","unitPos","_setYAxisTitle","scaleParam","axis","yAxisStart","_configXAxis","_calculateScale","stepHeight","pow","fixNum","xi","power","_correctBarHParams","StackedBarChart","$render_stackedBar","xAxisY","total_height","negValue","$startYN","$startY","firstSector","_setStakedBarPoints","offset$$1","minY","StackedBarHChart","$render_stackedBarH","total_width","$startX","AreaChart","$render_area","mapRect","$render_stackedArea","yPos","setOffset","Radar","$render_radar","_renderRadarChart","ratioUnits","_drawRadarAxises","_drawRadarData","pos0","posArr","r1","startAlpha","value0","unitArr","_fillRadarChart","disableLines","_strokeRadarChart","disableItems","_drawRadarItemMarkers","configY","configX","_configYAxis","units","_drawScaleSector","lineShape","_drawRadarScaleLabel","bg","closePath","corr_y","Scatter","$render_scatter","xValue","limitsY","limitsX","_drawYAxis","_getScatterParams","di","_calculateScatterItemPosition","_drawScatterItem","_fillScatterChart","_calcScatterUnit","SplineArea$1","$render_splineArea","sParams","_getSplineParameters","sY1","_getSplineYPoint","sY2","DynamicChart","_stockRenderHandler","animateDuration","_getChartBounds","eachStockCanvas","resizeStockCanvases","filterStockData","_stockAnimationOffset","_stockAnimationStart","requestAnimationFrame","animate$2","_stockAnimateHandler","isScroll","setCanvasOffset","skipRight","isAxisTitle","setLabelsOffset","setHtmlMapSizes","applyStockOffset","startAnimation","_stockXAxisHandler","_drawXAxisLabel","_drawXAxisLine","drawXAxis","init1","timestamp","api$10","_legend_labels","preset","_definePreset","ariaLabel","webix_chart_legend_item","legend","showSeries","hideSeries","removeAllSeries","_legendObj","changes","_getChartData","_drawLegend","_applyBounds","$hidden","axisConfig","newData","valuesHash","$unit","series_setter","addSeries","xValue_setter","yValue_setter","alpha_setter","lineColor_setter","borderColor_setter","pieInnerText_setter","donutInnerText_setter","gradient_setter","colormap","RAINBOW","_rainbow","color_setter","fill_setter","preset_setter","presets","legend_setter","_converToTemplate","line_setter","padding_setter","xAxis_setter","yAxis_setter","labelY","lineX","yi","_calculateLogScale","nmin","nmax","_normStep","calculStep","stepVal","logMin","logMax","absNmin","powerStart","nminVal","maxI","minI","LN10","_getActiveSeries","legendContainer","legendHeight","legendItems","legendWidth","itemColor","_drawLegendText","rendered","disableColor","_drawLegendMarker","markerType","chartX0","chartY0","chartX1","chartY1","$sum","rawColor0","stops","_gradient","_addMapRect","$render_spline","sparam","simple","plot","diamond","square","stick","api$11","_onClear","_nested_cursor","_nested_chain","_is_level_down","getOpenState","setOpenState","lastChain","_prev_nested_chain_length","_back_scroll_states","next_div","animArr","templateBack_setter","templateBack","templateItem_setter","templateItem","templateGroup_setter","templateGroup","api$12","uniteBy_setter","uniteBy","$unitValue","_setUnits","_getUnitRange","getUnitList","templateStartHeader","templateHeader","list$$1","dbllist","selectOne","deselectAll","deselectOne","api$13","_moved","_inRight","_inLeft","_updateAndResize","_data_ready","_refresh","_getButtons","_getButton","dbllist_button","_update_list","_getList","onBeforeDrop","onItemDblClick","labelLeft","labelBottomLeft","labelBottomRight","api$14","webix_tree_item","activeTitle","multimode","templateCommon","view$14","tree1","_icon_src","lines_level","branch_id","parent_id","pbranch","api$15","activeItem","subRender","headerTemplate","headerTemplate_setter","_htmlElement","$values","$xy","_renderHeader","_renderBranch","pId","dim","$value","bad","_worst","contra","showBranch","webix_treemap_item","webix_treemap_header_item","webix_treemap_reset","_getCssText","resetIcon","headerItem","xy","cssClass","api$16","sizeToContent","float","webix_dataview_item","templateLoading","_calck_autoheight","autoheight_setter","mode1","_autowidth","_autoheight","_recalk_counts","api$17","webix_pager_item","_remove_master","_animate","_clone","_refresh_clone","newPage","old_page","old_limit","old_count","_pgInAnimation","_pgAnimateTimeout","flip","snode","isDataTable","onode","api$18","sendAction","maxInputHeight","$configList","moreButton","$configForm","_initMenu","keepButtonVisible","_initUsers","users","_afterInit","_list","_sendButton","localId","mentions","_initMentions","_listMenu","_userList","_changeTextarea","_fillList","more","_moreCall","getUsers","_users","getMenu","setCurrentUser","currentUser","_saveComment","user_id","_removeComment","_text_expanded","minInputHeight","_toggleButton","onShow","onHide","_this5","onTimedKeyPress","newv","_highlightMention","text$$11","_this6","getMention","_markedText","_markedHTML","name1","_c","name2","_wrapName","user","_this7","css1","templateStatus","templateUser","templateMenu","templateDate","templateLinks","templateMentioned","templateText","templateAvatar","avatar","message$$1","menu","listItem","listConfig","webix_comments_menu","menuPosition","webix_comments_more","_this8","_this9","_initUserList","_findMentioned","value6","_this10","mentioned","user1","api$19","isHorizontal","templateValue","templateDetails","svgWidth","svgHeight","commonStyle","innerPadding","circleSize","svgStyle","dateStyle","eventStyle","eventText","theight","eventOffset","itemWidth","_getTextSize","circleCenter","_center","rwidth","lwidth","itemHeight","templateValue_setter","templateDetails_setter","templateDate_setter","api$1a","_autowidth_submenu","_init_mouse_events","_submenu","_show_child_on_click","openAction","_hide_on_item_click","_hidden_items","_menu_was_activated","_child_menu_active","texts","isSubmenu","submenu","subsign","templateSeparator","templateSpacer","subid","_get_submenu","getMenuItem","_create_sub_menu","_open_sub_menu","subMenuPos","_set_item_hidden","hideItem","submenuConfig","parentData","menu1","api$1b","_dummy_cell_interface","api$1c","position_setter","prevPosition","_desired_sizes","beforeShow","api$1d","collapsedWidth","titleHeight","_fullWidth","_initSidebar","_initContextMenu","multipleOpen","_showPopup","_markMenu","_onMasterSelect","_updateTitle","_updateList","selectedId","dirClassName","menuTemplate","webix_template","onBeforeSelect","onAfterSelect","onMenuItemClick","popupId","topOnly","_isChild","newPos","oldPos","popupEl","arrow","api$1f","api$1g","scrollPos","scrollVisible","_onscroll_delay","_last_set_size","scrollStep","_scroll_delay","_check_quantum","scrollWidth_setter","scrollHeight_setter","sizeTo","pointerEvents","getScroll","getSize","_fixSize","smooth","behavior","_onscroll_inner","_onscroll","activeArea","x_mode","_x_scroll_mode","_on_wheel","deltaMode","deltaX","deltaY","detail","_scroll_trg","Mixin","originvalue","inputvalue","_multi_compare","key1","itemValue","inputValue","getFilter","_get_filter","checks","lineId","Mixin$1","hover_setter","_hover_initialized","experimental","_last_hover","removeRowCss","hover","select_setter","_selections","_commonselect","_select_css","_reinit_selection","webix_cell","_click_before_select","_data_cleared","_data_synced","_selected_rows","_selected_areas","_select_key","_selected_pull","asArray","plain","_id_to_string","_unselect","_clear_selection","_finalize_select","_post_select","clearSelection","selectRange","_post_unselect","_add_item_select","_selectRange","_mapSelection","row_id","end_row_id","row_start_ind","row_end_ind","column_id","end_column_id","col_start_ind","col_end_ind","_temp","_render_header_and_footer","column_start_ind","column_end_ind","getSelectArea","removeSelectArea","sind","eind","srow","erow","rid","_extendAreaRange","addSelectArea","refreshSelectArea","Mixin$2","blockselect_setter","_block_sel_flag","_bs_down","_bs_ready","_bs_progress","_update_block_selection","_childOf","_bs_position","_bs_handler_init","_bs_mm_handler","_bs_move","_bs_mu_handler","_bs_up","_block_panel","_bs_select","theend","_locate_cell_xy","_bs_do_select","startx","starty","endx","endy","startn","endn","startWidth","endWidth","_right_width","_left_width","_center_width","_scrollTop","_getTopSplitOffset","_bs_start","blockselect","inTopSplit","_x_scroll","_render_scroll_top","splitPos","fixedRowHeight","_getHeightByIndex","startIndex","startPos","Mixin$3","resizeRow_setter","scrollAlignY","resizeColumn_setter","_rs_init_flag","_rs_move","_rs_down","_rs_up","_rs_ready","_rs_start","_this$_rs_process$","_rs_end","newsize","_rightSplit","oldwidth","oldheight","_getRowHeight","setRowHeight","element_class","in_body","_mark_resize","in_header","_is_column_rs","resizeColumn","_is_row_rs","resizeRow","rColumn","headerOnly","rRow","_cursor_timer","_mark_resize_ready","_last_cursor_mode","$touch","Mixin$4","_touchNative","_touch","scrollMode","scrollX","scrollY","_dtable_height","_dtable_offset_height","_scrollTo_touch","_getScrollState_touch","_scrollLeft","_y_scroll","_correctScrollSize","_footer","_sync_y_scroll","_sync_x_scroll","Mixin$5","_adjustColumns","_resizeColumns","_adjustColumn","colfil","_fillColumnSize","_scrollSizeY","columnWidth","_getColumnConfigSize","minColumnWidth","adjustBatch","_getValue","maxColumnWidth","adjustColumn","adjustRowHeight","_adjustRowHeight","minRowHeight","maxRowHeight","Mixin$6","math_setter","_math_init","_math_pref","_parse_row_math","_parse_math","_remove_old_triggers","_exprs_by_columns","_math_recalc","_parse_cell_math","_calculate","depends","_set_original_value","_parse_relative_expr","expr","$r","$c","_get_calc_value","_in_math_trace","_start_math_trace","_to_math_trace","operations","_get_operations","triggers","_get_refs","_replace_refs","_parse_args","exc","_math_exception","_from_math_trace","_add_trigger","_compute","tmp","_trim","dell","delr","cell_value","op","_split_by","arg","ex","splitter","_math_trace","depend","Mixin$7","row_editors","col_settings","showCell","editFormat","editMath","_editor_pos","liveValidation","_bind_live_validation","that","parser","editParse","_last_editor_scroll","attached","_spans_areas","_yr0","_yr1","editCell","editRow","eachColumn","editColumn","eachRow","_column","_checkCellMerge","_j","_correct_after_focus_y","_correct_after_focus","_this$_body$childNode","_ignore_after_focus_scroll","_update_editor_y_pos","onscroll","ydiff","xdiff","_scrollSizeX","Mixin$8","_clear_hidden_state","_hideInitialColumns","_getInitialSpans","$colspan","moveColumn","cindex","hindex","_updateSplit","nindex","_refresh_columns","_init_horder","hhash","_fixSplit","_hideColumn","_columns_pull","_fixColspansHidden","showColumn","_ref2","lSplit","rSplit","elName","spanSource","spanSize","colConfig","_dtable_column_refresh","_define_structure","_update_scroll","_apply_headers","showColumnBatch","closed","i4","_getHiddenColumnIndex","_getHiddenColumnId","Mixin$9","_subViewStorage","_getVisibleSelection","_delayRender","areaselect","showItemByIndex","_index2","openSub","closeSub","DragOrder$1","dropArea","Mixin$a","_checkDragTopSplit","frozen","getHeaderNode","row_index","_getHeaderNode","getFooterNode","hind","rowindex","_get_y_range","minRow","x_range","_get_x_range","colindex","specific","nodeIndex","_isDraggable","dragColumn_setter","hnode","_relative_column_drag","_limit_column_drag","pos$$12","_column_dnd_temp_block","_last_sort_dnd_node","start_index","end_index","_dragTarget","_drag_column_last","Mixin$c","_getTableHeader","headerArray","hcell","rightRestriction","bottomRestriction","rowItem","datarow","spanStart","getCss","$inspan","skiprows","_correctWidth","Mixin$d","_getExportStyles","_style_hash","_getExportDocStyle","_getExportHStyles","cellCss","columnCss","spanCss","getSpanNode","cnode","_getExportCellStyle","hs","hrow","hsc","hsr","_getBorderColor","defaultColor","_getRules","fontSize","borderLeftColor","borderTopColor","_getExcelCellRules","cssStr","alignment","sz","strike","horizontal","wrapText","textRotation","fgColor","api$1h","webix_excel_filter","webix_richfilter","webix_table_checkbox","checkboxRefresh","webix_table_radio","item2","rowid","_top_id","_call_onparse","_first_render","_rows_cache","_sort_signs","_sort_signs_order","_footer_height","_config_table_from_file","_config_options_from_file","_restore_scroll_state","_refresh_any_header_content","_setLeftScroll","_clean_config_struct","_adjust_rows","_render_initial","hheight","rowLineHeight","_refresh_tracking_header_content","_renderDelay","_delayedLeftScroll","autoConfig","_autoDetectConfig","fast_mode","_render_timer","_repaint_single_row","_check_rendered_cols","_get_total_height","_set_split_sizes_y","_render_timer_id","getColumns","colls","_prepare_single_column","_normalize_headers","cssFormat","_correctColumnWidth","nformat","rawTemplate","_define_structure_and_render","_dtable_width","nr","nl","last_index","_create_scrolls","_set_columns_positions","_set_split_sizes_x","_header_fix_width","_refreshHeaderContent","_summ","_render_header_section","refreshHeaderContent","_size_header_footer_fix","col_id","_render_single_mark","_getHeaderHeight","_z","_j2","_find_header_content","sec","_base","_render_empty_hcell","_render_subheader","cell_height","hcss","_has_active_headers","sheight","isSpan","cwidth","_summ_right","_summ_next","column_ind","_getHeightByIndexSumm","dataHeight","_get_top_split_height","cur_ind","_render_scroll_shift","_render_scroll_diff","_scroll_with_header","trackedOnly","cellTrackOnly","byId","activeId","headerContent","_set_size_scroll_area","hdx","_header_scroll","_footer_scroll","hasX","hasY","_onscroll_x","vscroll_view","_onscroll_y","_getNodeBox","xs","xe","ye","ys","zone","idOnly","cs","cdiv","setColumnWidth","skip_update","by_user","$subopen","$subHeight","index2","spanNode","leftcolumn","split_column","old_height","scrollChange","conts","full","xind","xend","dep","xdef","_dep","freezeCss","_getCss","x_scroll","_clearColumnCache","xr","yr","_render_full_rows","_renderColumn","_check_and_render_full_rows","_check_load_next","_delete_full_rows","_rows_cache_start","_rows_cache_end","_rows_body","_render_full_row_some","_i9","_row","$sub","topDelta","paging","fetch","_last_valid_render_pos","_data_request_flag","_check_rows","_preserveScrollTarget","columnNode","newNode","_scrollWheelTrg","per_css","row_css","$cellCss","mark_marker","css_marker","editIcon","trashIcon","_yr2","single","_render_single_cell","_i10","ariaSelect","isOpen","wanted_height","desired","minwidth","oldw","oldh","_on_header_click","webix_sort_dir","_get_header_cell","maybe","_mouseEventCall","css_call","_config","_datatable_overlay","startrow","startcol","numrows","numcols","datatable","_clear_invalid_css","addCellCss","newmark","removeCellCss","api$1i","_unwrap_id","treetable","treecheckbox","original","show_inspector","onaftereditstop","win","ignore1","get_inspector_config","winx","winy","props","infi","log_level","error_text","logger","uiConfig","onBeforeShow","lastTarget","DataRecord","DataValue","TreeCollection","Number","CustomScroll","$printView","paper","_beforePrint","_checkOptions","drawImage","_print","_afterPrint","filters","instance","_reinit","wrap","toPNG","msToBlob","toBlob","toCSV","getCsvData","alert","prompt","submit"],"version":3,"file":"login.fe35d855.js.map"}